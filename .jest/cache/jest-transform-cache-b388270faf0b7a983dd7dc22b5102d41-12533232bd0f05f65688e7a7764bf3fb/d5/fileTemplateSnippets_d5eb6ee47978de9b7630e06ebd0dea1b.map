{"version":3,"names":["cov_2bcrt47za7","actualCoverage","groupBy","isFalsyOrEmpty","compare","getCodeEditor","ILanguageService","SnippetController2","localize","localize2","IQuickInputService","SnippetsAction","ISnippetsService","IEditorService","ApplyFileSnippetAction","Id","s","constructor","f","id","title","f1","run","accessor","snippetService","get","quickInputService","editorService","langService","editor","activeTextEditorControl","b","hasModel","snippets","getSnippets","undefined","fileTemplateSnippets","noRecencySort","includeNoPrefixSnippets","length","selection","_pick","apply","range","getModel","getFullModelRange","template","snippet","body","setLanguage","createById","langId","focus","all","scopes","push","picks","groups","a","group","first","item","type","label","getLanguageName","prefix","name","detail","description","pick","placeHolder","matchOnDetail"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/fileTemplateSnippets.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { groupBy, isFalsyOrEmpty } from '../../../../../base/common/arrays.js';\nimport { compare } from '../../../../../base/common/strings.js';\nimport { getCodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IQuickInputService, IQuickPickItem, IQuickPickSeparator } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { SnippetsAction } from './abstractSnippetsActions.js';\nimport { ISnippetsService } from '../snippets.js';\nimport { Snippet } from '../snippetsFile.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\n\nexport class ApplyFileSnippetAction extends SnippetsAction {\n\n\tstatic readonly Id = 'workbench.action.populateFileFromSnippet';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ApplyFileSnippetAction.Id,\n\t\t\ttitle: localize2('label', \"Fill File with Snippet\"),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst snippetService = accessor.get(ISnippetsService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst langService = accessor.get(ILanguageService);\n\n\t\tconst editor = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (!editor || !editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst snippets = await snippetService.getSnippets(undefined, { fileTemplateSnippets: true, noRecencySort: true, includeNoPrefixSnippets: true });\n\t\tif (snippets.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selection = await this._pick(quickInputService, langService, snippets);\n\t\tif (!selection) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (editor.hasModel()) {\n\t\t\t// apply snippet edit -> replaces everything\n\t\t\tSnippetController2.get(editor)?.apply([{\n\t\t\t\trange: editor.getModel().getFullModelRange(),\n\t\t\t\ttemplate: selection.snippet.body\n\t\t\t}]);\n\n\t\t\t// set language if possible\n\t\t\teditor.getModel().setLanguage(langService.createById(selection.langId), ApplyFileSnippetAction.Id);\n\n\t\t\teditor.focus();\n\t\t}\n\t}\n\n\tprivate async _pick(quickInputService: IQuickInputService, langService: ILanguageService, snippets: Snippet[]) {\n\n\t\t// spread snippet onto each language it supports\n\t\ttype SnippetAndLanguage = { langId: string; snippet: Snippet };\n\t\tconst all: SnippetAndLanguage[] = [];\n\t\tfor (const snippet of snippets) {\n\t\t\tif (isFalsyOrEmpty(snippet.scopes)) {\n\t\t\t\tall.push({ langId: '', snippet });\n\t\t\t} else {\n\t\t\t\tfor (const langId of snippet.scopes) {\n\t\t\t\t\tall.push({ langId, snippet });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttype SnippetAndLanguagePick = IQuickPickItem & { snippet: SnippetAndLanguage };\n\t\tconst picks: (SnippetAndLanguagePick | IQuickPickSeparator)[] = [];\n\n\t\tconst groups = groupBy(all, (a, b) => compare(a.langId, b.langId));\n\n\t\tfor (const group of groups) {\n\t\t\tlet first = true;\n\t\t\tfor (const item of group) {\n\n\t\t\t\tif (first) {\n\t\t\t\t\tpicks.push({\n\t\t\t\t\t\ttype: 'separator',\n\t\t\t\t\t\tlabel: langService.getLanguageName(item.langId) ?? item.langId\n\t\t\t\t\t});\n\t\t\t\t\tfirst = false;\n\t\t\t\t}\n\n\t\t\t\tpicks.push({\n\t\t\t\t\tsnippet: item,\n\t\t\t\t\tlabel: item.snippet.prefix || item.snippet.name,\n\t\t\t\t\tdetail: item.snippet.description\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tconst pick = await quickInputService.pick(picks, {\n\t\t\tplaceHolder: localize('placeholder', 'Select a snippet'),\n\t\t\tmatchOnDetail: true,\n\t\t});\n\n\t\treturn pick?.snippet;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}