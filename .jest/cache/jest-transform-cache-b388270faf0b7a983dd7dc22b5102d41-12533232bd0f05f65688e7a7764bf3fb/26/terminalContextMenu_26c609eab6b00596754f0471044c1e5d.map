{"version":3,"names":["cov_2abhk9n8jy","actualCoverage","StandardMouseEvent","ActionRunner","asArray","getFlatContextMenuActions","InstanceContext","instanceId","constructor","instance","f","s","toJSON","$mid","TerminalContextActionRunner","runAction","action","context","b","Array","isArray","every","e","run","openContextMenu","targetWindow","event","contextInstances","menu","contextMenuService","extraActions","standardEvent","actions","getActions","shouldForwardArgs","push","map","actionRunner","showContextMenu","getAnchor","getActionsContext","onHide","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminal/browser/terminalContextMenu.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { asArray } from '../../../../base/common/arrays.js';\nimport { MarshalledId } from '../../../../base/common/marshallingIds.js';\nimport { SingleOrMany } from '../../../../base/common/types.js';\nimport { getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ITerminalInstance } from './terminal.js';\nimport { ISerializedTerminalInstanceContext } from '../common/terminal.js';\n\n/**\n * A context that is passed to actions as arguments to represent the terminal instance(s) being\n * acted upon.\n */\nexport class InstanceContext {\n\treadonly instanceId: number;\n\n\tconstructor(instance: ITerminalInstance) {\n\t\t// Only store the instance to avoid contexts holding on to disposed instances.\n\t\tthis.instanceId = instance.instanceId;\n\t}\n\n\ttoJSON(): ISerializedTerminalInstanceContext {\n\t\treturn {\n\t\t\t$mid: MarshalledId.TerminalContext,\n\t\t\tinstanceId: this.instanceId\n\t\t};\n\t}\n}\n\nexport class TerminalContextActionRunner extends ActionRunner {\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override async runAction(action: IAction, context?: SingleOrMany<InstanceContext>): Promise<void> {\n\t\tif (Array.isArray(context) && context.every(e => e instanceof InstanceContext)) {\n\t\t\t// arg1: The (first) focused instance\n\t\t\t// arg2: All selected instances\n\t\t\tawait action.run(context?.[0], context);\n\t\t\treturn;\n\t\t}\n\t\treturn super.runAction(action, context);\n\t}\n}\n\nexport function openContextMenu(targetWindow: Window, event: MouseEvent, contextInstances: SingleOrMany<ITerminalInstance> | undefined, menu: IMenu, contextMenuService: IContextMenuService, extraActions?: IAction[]): void {\n\tconst standardEvent = new StandardMouseEvent(targetWindow, event);\n\n\tconst actions = getFlatContextMenuActions(menu.getActions({ shouldForwardArgs: true }));\n\n\tif (extraActions) {\n\t\tactions.push(...extraActions);\n\t}\n\n\tconst context: InstanceContext[] = contextInstances ? asArray(contextInstances).map(e => new InstanceContext(e)) : [];\n\n\tconst actionRunner = new TerminalContextActionRunner();\n\tcontextMenuService.showContextMenu({\n\t\tactionRunner,\n\t\tgetAnchor: () => standardEvent,\n\t\tgetActions: () => actions,\n\t\tgetActionsContext: () => context,\n\t\tonHide: () => actionRunner.dispose()\n\t});\n}\n"],"mappings":"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","ignoreList":[]}