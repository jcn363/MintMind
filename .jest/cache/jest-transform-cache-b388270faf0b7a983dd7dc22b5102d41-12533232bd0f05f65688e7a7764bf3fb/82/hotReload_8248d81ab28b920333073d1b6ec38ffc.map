{"version":3,"names":["cov_2dz3fxk43f","actualCoverage","isHotReloadEnabled","f","s","registerHotReloadHandler","handler","b","dispose","handlers","registerGlobalHotReloadHandler","add","delete","hotReloadHandlers","Set","g","globalThis","$hotReload_applyNewExports","args","args2","config","mode","undefined","results","h","result","push","length","newExports","r","oldExports","newSrc","key","exportedItem","console","log","prototype","oldExportedItem","prop","Object","getOwnPropertyNames","descriptor","getOwnPropertyDescriptor","oldDescriptor","value","toString","defineProperty"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/hotReload.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from './lifecycle.js';\n\nexport function isHotReloadEnabled(): boolean {\n\t// return env && !!env['MINTMIND_DEV_DEBUG'];\n\treturn false; // TODO@hediet investigate how to get hot reload\n}\nexport function registerHotReloadHandler(handler: HotReloadHandler): IDisposable {\n\tif (!isHotReloadEnabled()) {\n\t\treturn { dispose() { } };\n\t} else {\n\t\tconst handlers = registerGlobalHotReloadHandler();\n\t\thandlers.add(handler);\n\t\treturn {\n\t\t\tdispose() { handlers.delete(handler); }\n\t\t};\n\t}\n}\n\n/**\n * Takes the old exports of the module to reload and returns a function to apply the new exports.\n * If `undefined` is returned, this handler is not able to handle the module.\n *\n * If no handler can apply the new exports, the module will not be reloaded.\n */\nexport type HotReloadHandler = (args: { oldExports: Record<string, unknown>; newSrc: string; config: IHotReloadConfig }) => AcceptNewExportsHandler | undefined;\nexport type AcceptNewExportsHandler = (newExports: Record<string, unknown>) => boolean;\nexport type IHotReloadConfig = HotReloadConfig;\n\nfunction registerGlobalHotReloadHandler() {\n\tif (!hotReloadHandlers) {\n\t\thotReloadHandlers = new Set();\n\t}\n\n\tconst g = globalThis as unknown as GlobalThisAddition;\n\tif (!g.$hotReload_applyNewExports) {\n\t\tg.$hotReload_applyNewExports = args => {\n\t\t\tconst args2 = { config: { mode: undefined }, ...args };\n\n\t\t\tconst results: AcceptNewExportsHandler[] = [];\n\t\t\tfor (const h of hotReloadHandlers!) {\n\t\t\t\tconst result = h(args2);\n\t\t\t\tif (result) {\n\t\t\t\t\tresults.push(result);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (results.length > 0) {\n\t\t\t\treturn newExports => {\n\t\t\t\t\tlet result = false;\n\t\t\t\t\tfor (const r of results) {\n\t\t\t\t\t\tif (r(newExports)) {\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn undefined;\n\t\t};\n\t}\n\n\treturn hotReloadHandlers;\n}\n\nlet hotReloadHandlers: Set<(args: { oldExports: Record<string, unknown>; newSrc: string; config: HotReloadConfig }) => AcceptNewExportsFn | undefined> | undefined = undefined;\n\ninterface HotReloadConfig {\n\tmode?: 'patch-prototype' | undefined;\n}\n\ninterface GlobalThisAddition {\n\t$hotReload_applyNewExports?(args: { oldExports: Record<string, unknown>; newSrc: string; config?: HotReloadConfig }): AcceptNewExportsFn | undefined;\n}\n\ntype AcceptNewExportsFn = (newExports: Record<string, unknown>) => boolean;\n\nif (isHotReloadEnabled()) {\n\t// This code does not run in production.\n\tregisterHotReloadHandler(({ oldExports, newSrc, config }) => {\n\t\tif (config.mode !== 'patch-prototype') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn newExports => {\n\t\t\tfor (const key in newExports) {\n\t\t\t\tconst exportedItem = newExports[key];\n\t\t\t\tconsole.log(`[hot-reload] Patching prototype methods of '${key}'`, { exportedItem });\n\t\t\t\tif (typeof exportedItem === 'function' && exportedItem.prototype) {\n\t\t\t\t\tconst oldExportedItem = oldExports[key];\n\t\t\t\t\tif (oldExportedItem) {\n\t\t\t\t\t\tfor (const prop of Object.getOwnPropertyNames(exportedItem.prototype)) {\n\t\t\t\t\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(exportedItem.prototype, prop)!;\n\t\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\t\tconst oldDescriptor = Object.getOwnPropertyDescriptor((oldExportedItem as any).prototype, prop);\n\n\t\t\t\t\t\t\tif (descriptor?.value?.toString() !== oldDescriptor?.value?.toString()) {\n\t\t\t\t\t\t\t\tconsole.log(`[hot-reload] Patching prototype method '${key}.${prop}'`);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\t\tObject.defineProperty((oldExportedItem as any).prototype, prop, descriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewExports[key] = oldExportedItem;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAjBF;;;;AAOA,OAAM,SAAUE,kBAAkBA,CAAA;EAAA;EAAAF,cAAA,GAAAG,CAAA;EAAAH,cAAA,GAAAI,CAAA;EACjC;EACA,OAAO,KAAK,CAAC,CAAC;AACf;AACA,OAAM,SAAUC,wBAAwBA,CAACC,OAAyB;EAAA;EAAAN,cAAA,GAAAG,CAAA;EAAAH,cAAA,GAAAI,CAAA;EACjE,IAAI,CAACF,kBAAkB,EAAE,EAAE;IAAA;IAAAF,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAC1B,OAAO;MAAEI,OAAOA,CAAA;QAAA;QAAAR,cAAA,GAAAG,CAAA;MAAK;IAAC,CAAE;EACzB,CAAC,MAAM;IAAA;IAAAH,cAAA,GAAAO,CAAA;IACN,MAAME,QAAQ;IAAA;IAAA,CAAAT,cAAA,GAAAI,CAAA,OAAGM,8BAA8B,EAAE;IAAC;IAAAV,cAAA,GAAAI,CAAA;IAClDK,QAAQ,CAACE,GAAG,CAACL,OAAO,CAAC;IAAC;IAAAN,cAAA,GAAAI,CAAA;IACtB,OAAO;MACNI,OAAOA,CAAA;QAAA;QAAAR,cAAA,GAAAG,CAAA;QAAAH,cAAA,GAAAI,CAAA;QAAKK,QAAQ,CAACG,MAAM,CAACN,OAAO,CAAC;MAAE;KACtC;EACF;AACD;AAYA,SAASI,8BAA8BA,CAAA;EAAA;EAAAV,cAAA,GAAAG,CAAA;EAAAH,cAAA,GAAAI,CAAA;EACtC,IAAI,CAACS,iBAAiB,EAAE;IAAA;IAAAb,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IACvBS,iBAAiB,GAAG,IAAIC,GAAG,EAAE;EAC9B,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAO,CAAA;EAAA;EAED,MAAMQ,CAAC;EAAA;EAAA,CAAAf,cAAA,GAAAI,CAAA,OAAGY,UAA2C;EAAC;EAAAhB,cAAA,GAAAI,CAAA;EACtD,IAAI,CAACW,CAAC,CAACE,0BAA0B,EAAE;IAAA;IAAAjB,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAClCW,CAAC,CAACE,0BAA0B,GAAGC,IAAI,IAAG;MAAA;MAAAlB,cAAA,GAAAG,CAAA;MACrC,MAAMgB,KAAK;MAAA;MAAA,CAAAnB,cAAA,GAAAI,CAAA,QAAG;QAAEgB,MAAM,EAAE;UAAEC,IAAI,EAAEC;QAAS,CAAE;QAAE,GAAGJ;MAAI,CAAE;MAEtD,MAAMK,OAAO;MAAA;MAAA,CAAAvB,cAAA,GAAAI,CAAA,QAA8B,EAAE;MAAC;MAAAJ,cAAA,GAAAI,CAAA;MAC9C,KAAK,MAAMoB,CAAC,IAAIX,iBAAkB,EAAE;QACnC,MAAMY,MAAM;QAAA;QAAA,CAAAzB,cAAA,GAAAI,CAAA,QAAGoB,CAAC,CAACL,KAAK,CAAC;QAAC;QAAAnB,cAAA,GAAAI,CAAA;QACxB,IAAIqB,MAAM,EAAE;UAAA;UAAAzB,cAAA,GAAAO,CAAA;UAAAP,cAAA,GAAAI,CAAA;UACXmB,OAAO,CAACG,IAAI,CAACD,MAAM,CAAC;QACrB,CAAC;QAAA;QAAA;UAAAzB,cAAA,GAAAO,CAAA;QAAA;MACF;MAAC;MAAAP,cAAA,GAAAI,CAAA;MACD,IAAImB,OAAO,CAACI,MAAM,GAAG,CAAC,EAAE;QAAA;QAAA3B,cAAA,GAAAO,CAAA;QAAAP,cAAA,GAAAI,CAAA;QACvB,OAAOwB,UAAU,IAAG;UAAA;UAAA5B,cAAA,GAAAG,CAAA;UACnB,IAAIsB,MAAM;UAAA;UAAA,CAAAzB,cAAA,GAAAI,CAAA,QAAG,KAAK;UAAC;UAAAJ,cAAA,GAAAI,CAAA;UACnB,KAAK,MAAMyB,CAAC,IAAIN,OAAO,EAAE;YAAA;YAAAvB,cAAA,GAAAI,CAAA;YACxB,IAAIyB,CAAC,CAACD,UAAU,CAAC,EAAE;cAAA;cAAA5B,cAAA,GAAAO,CAAA;cAAAP,cAAA,GAAAI,CAAA;cAClBqB,MAAM,GAAG,IAAI;YACd,CAAC;YAAA;YAAA;cAAAzB,cAAA,GAAAO,CAAA;YAAA;UACF;UAAC;UAAAP,cAAA,GAAAI,CAAA;UACD,OAAOqB,MAAM;QACd,CAAC;MACF,CAAC;MAAA;MAAA;QAAAzB,cAAA,GAAAO,CAAA;MAAA;MAAAP,cAAA,GAAAI,CAAA;MACD,OAAOkB,SAAS;IACjB,CAAC;EACF,CAAC;EAAA;EAAA;IAAAtB,cAAA,GAAAO,CAAA;EAAA;EAAAP,cAAA,GAAAI,CAAA;EAED,OAAOS,iBAAiB;AACzB;AAEA,IAAIA,iBAAiB;AAAA;AAAA,CAAAb,cAAA,GAAAI,CAAA,QAAgJkB,SAAS;AAAC;AAAAtB,cAAA,GAAAI,CAAA;AAY/K,IAAIF,kBAAkB,EAAE,EAAE;EAAA;EAAAF,cAAA,GAAAO,CAAA;EAAAP,cAAA,GAAAI,CAAA;EACzB;EACAC,wBAAwB,CAAC,CAAC;IAAEyB,UAAU;IAAEC,MAAM;IAAEX;EAAM,CAAE,KAAI;IAAA;IAAApB,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAI,CAAA;IAC3D,IAAIgB,MAAM,CAACC,IAAI,KAAK,iBAAiB,EAAE;MAAA;MAAArB,cAAA,GAAAO,CAAA;MAAAP,cAAA,GAAAI,CAAA;MACtC,OAAOkB,SAAS;IACjB,CAAC;IAAA;IAAA;MAAAtB,cAAA,GAAAO,CAAA;IAAA;IAAAP,cAAA,GAAAI,CAAA;IAED,OAAOwB,UAAU,IAAG;MAAA;MAAA5B,cAAA,GAAAG,CAAA;MAAAH,cAAA,GAAAI,CAAA;MACnB,KAAK,MAAM4B,GAAG,IAAIJ,UAAU,EAAE;QAC7B,MAAMK,YAAY;QAAA;QAAA,CAAAjC,cAAA,GAAAI,CAAA,QAAGwB,UAAU,CAACI,GAAG,CAAC;QAAC;QAAAhC,cAAA,GAAAI,CAAA;QACrC8B,OAAO,CAACC,GAAG,CAAC,+CAA+CH,GAAG,GAAG,EAAE;UAAEC;QAAY,CAAE,CAAC;QAAC;QAAAjC,cAAA,GAAAI,CAAA;QACrF;QAAI;QAAA,CAAAJ,cAAA,GAAAO,CAAA,iBAAO0B,YAAY,KAAK,UAAU;QAAA;QAAA,CAAAjC,cAAA,GAAAO,CAAA,UAAI0B,YAAY,CAACG,SAAS,GAAE;UAAA;UAAApC,cAAA,GAAAO,CAAA;UACjE,MAAM8B,eAAe;UAAA;UAAA,CAAArC,cAAA,GAAAI,CAAA,QAAG0B,UAAU,CAACE,GAAG,CAAC;UAAC;UAAAhC,cAAA,GAAAI,CAAA;UACxC,IAAIiC,eAAe,EAAE;YAAA;YAAArC,cAAA,GAAAO,CAAA;YAAAP,cAAA,GAAAI,CAAA;YACpB,KAAK,MAAMkC,IAAI,IAAIC,MAAM,CAACC,mBAAmB,CAACP,YAAY,CAACG,SAAS,CAAC,EAAE;cACtE,MAAMK,UAAU;cAAA;cAAA,CAAAzC,cAAA,GAAAI,CAAA,QAAGmC,MAAM,CAACG,wBAAwB,CAACT,YAAY,CAACG,SAAS,EAAEE,IAAI,CAAE;cACjF;cACA,MAAMK,aAAa;cAAA;cAAA,CAAA3C,cAAA,GAAAI,CAAA,QAAGmC,MAAM,CAACG,wBAAwB,CAAEL,eAAuB,CAACD,SAAS,EAAEE,IAAI,CAAC;cAAC;cAAAtC,cAAA,GAAAI,CAAA;cAEhG,IAAIqC,UAAU,EAAEG,KAAK,EAAEC,QAAQ,EAAE,KAAKF,aAAa,EAAEC,KAAK,EAAEC,QAAQ,EAAE,EAAE;gBAAA;gBAAA7C,cAAA,GAAAO,CAAA;gBAAAP,cAAA,GAAAI,CAAA;gBACvE8B,OAAO,CAACC,GAAG,CAAC,2CAA2CH,GAAG,IAAIM,IAAI,GAAG,CAAC;cACvE,CAAC;cAAA;cAAA;gBAAAtC,cAAA,GAAAO,CAAA;cAAA;cAED;cAAAP,cAAA,GAAAI,CAAA;cACAmC,MAAM,CAACO,cAAc,CAAET,eAAuB,CAACD,SAAS,EAAEE,IAAI,EAAEG,UAAU,CAAC;YAC5E;YAAC;YAAAzC,cAAA,GAAAI,CAAA;YACDwB,UAAU,CAACI,GAAG,CAAC,GAAGK,eAAe;UAClC,CAAC;UAAA;UAAA;YAAArC,cAAA,GAAAO,CAAA;UAAA;QACF,CAAC;QAAA;QAAA;UAAAP,cAAA,GAAAO,CAAA;QAAA;MACF;MAAC;MAAAP,cAAA,GAAAI,CAAA;MACD,OAAO,IAAI;IACZ,CAAC;EACF,CAAC,CAAC;AACH,CAAC;AAAA;AAAA;EAAAJ,cAAA,GAAAO,CAAA;AAAA","ignoreList":[]}