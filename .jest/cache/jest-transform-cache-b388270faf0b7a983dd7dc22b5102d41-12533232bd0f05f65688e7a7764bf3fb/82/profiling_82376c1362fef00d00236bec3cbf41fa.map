{"version":3,"names":["cov_1fy1hyscpk","actualCoverage","basename","isAbsolute","join","createDecorator","IV8InspectProfilingService","s","Utils","f","isValidProfile","profile","Boolean","b","samples","timeDeltas","rewriteAbsolutePaths","replace","node","nodes","callFrame","url","test"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/profiling/common/profiling.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { basename, isAbsolute, join } from '../../../base/common/path.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\n\nexport interface IV8Profile {\n\tnodes: IV8ProfileNode[];\n\tsamples?: number[];\n\ttimeDeltas?: number[];\n\tstartTime: number;\n\tendTime: number;\n}\n\nexport interface IV8ProfileNode {\n\tid: number;\n\thitCount?: number;\n\tchildren?: number[];\n\tcallFrame: IV8CallFrame;\n\tdeoptReason?: string;\n\tpositionTicks?: { line: number; ticks: number }[];\n}\n\nexport interface IV8CallFrame {\n\turl: string;\n\tscriptId: string;\n\tfunctionName: string;\n\tlineNumber: number;\n\tcolumnNumber: number;\n}\n\nexport const IV8InspectProfilingService = createDecorator<IV8InspectProfilingService>('IV8InspectProfilingService');\n\nexport interface IV8InspectProfilingService {\n\n\t_serviceBrand: undefined;\n\n\tstartProfiling(options: { host: string; port: number }): Promise<string>;\n\n\tstopProfiling(sessionId: string): Promise<IV8Profile>;\n}\n\n\nexport namespace Utils {\n\n\texport function isValidProfile(profile: IV8Profile): profile is Required<IV8Profile> {\n\t\treturn Boolean(profile.samples && profile.timeDeltas);\n\t}\n\n\texport function rewriteAbsolutePaths(profile: IV8Profile, replace: string = 'noAbsolutePaths') {\n\t\tfor (const node of profile.nodes) {\n\t\t\tif (node.callFrame && node.callFrame.url) {\n\t\t\t\tif (isAbsolute(node.callFrame.url) || /^\\w[\\w\\d+.-]*:\\/\\/\\/?/.test(node.callFrame.url)) {\n\t\t\t\t\tnode.callFrame.url = join(replace, basename(node.callFrame.url));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn profile;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}