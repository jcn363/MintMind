{"version":3,"names":["cov_14um3skuj1","actualCoverage","DOM","Delayer","Disposable","MutableDisposable","platform","expandCellRangesWithHiddenCells","CellContentPart","cloneNotebookCellTextModel","SelectionStateType","cellRangesToIndexes","$","s","DRAGGING_CLASS","GLOBAL_DRAG_CLASS","CellDragAndDropPart","container","constructor","f","didRenderCell","element","update","updateState","e","dragStateChanged","b","classList","toggle","dragging","CellDragAndDropController","notebookEditor","notebookListContainer","currentDraggedCell","draggedCells","listInsertionIndicator","list","isScrolling","scrollingDelayer","listOnWillScrollListener","_register","append","addDisposableListener","ownerDocument","body","EventType","DRAG_START","onGlobalDragStart","bind","DRAG_END","onGlobalDragEnd","addCellDragListener","eventType","handler","useCapture","getDomNode","cellDragEvent","toCellDragEvent","DRAG_OVER","event","browserEvent","preventDefault","onCellDragover","DROP","onCellDrop","DRAG_LEAVE","onCellDragLeave","setList","value","onWillScroll","scrollTopChanged","setInsertIndicatorVisibility","trigger","visible","style","opacity","targetTop","getBoundingClientRect","top","dragOffset","scrollTop","clientY","draggedOverCell","elementAt","undefined","cellTop","getCellViewScrollTop","cellHeight","elementHeight","dragPosInElement","dragPosRatio","clearGlobalDragState","remove","add","dataTransfer","dropEffect","dropDirection","getDropInsertDirection","insertionIndicatorAbsolutePos","updateInsertIndicator","bottomToolbarGap","notebookOptions","computeBottomToolbarDimensions","textModel","viewType","insertionIndicatorTop","draggedCell","dragCleanup","_dropImpl","getCellRangeAroundDragTarget","draggedCellIndex","selections","getSelections","modelRanges","nearestRange","find","range","start","end","ctx","editorHeight","height","isCopy","ctrlKey","isMacintosh","altKey","hasModel","getCellIndex","originalToIdx","relativeToIndex","newIdx","getNextVisibleCellIndex","finalSelection","finalFocus","delta","applyEdits","editType","index","count","cells","map","cellAt","model","kind","Index","focus","getFocus","revealCellRangeInView","performCellDropEdits","relatedTarget","isAncestor","forEach","cell","registerDragHandle","templateData","cellRoot","dragHandles","dragImageProvider","dragHandle","setAttribute","onDragEnd","getDisplayOptions","dragAndDropEnabled","isReadOnly","templateDisposables","onDragStart","currentRenderedCell","getCellsInRange","flat","dragImage","parentElement","appendChild","setDragImage","setTimeout","startExplicitDrag","_dragOffsetY","explicitDrag","dragOffsetY","target","getExplicitDragDropDirection","notebookViewRect","eventPositionInView","notebookViewScrollMargins","maxScrollDeltaPerFrame","eventPositionRatio","endExplicitDrag","_cell","explicitDrop","dispose","editor","length","originalFocusIdx","some","droppedInSelection","numCells","focusNewIdx","newInsertionIdx","sort","a","edits","toIndexDelta","offset","fromIndexDelta","edit","lastEdit"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/view/cellParts/cellDnd.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { Delayer } from '../../../../../../base/common/async.js';\nimport { Disposable, MutableDisposable } from '../../../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../../../base/common/platform.js';\nimport { expandCellRangesWithHiddenCells, ICellViewModel, INotebookEditorDelegate } from '../../notebookBrowser.js';\nimport { CellViewModelStateChangeEvent } from '../../notebookViewEvents.js';\nimport { CellContentPart } from '../cellPart.js';\nimport { BaseCellRenderTemplate, INotebookCellList } from '../notebookRenderingCommon.js';\nimport { cloneNotebookCellTextModel } from '../../../common/model/notebookCellTextModel.js';\nimport { CellEditType, ICellMoveEdit, SelectionStateType } from '../../../common/notebookCommon.js';\nimport { cellRangesToIndexes, ICellRange } from '../../../common/notebookRange.js';\n\nconst $ = DOM.$;\n\nconst DRAGGING_CLASS = 'cell-dragging';\nconst GLOBAL_DRAG_CLASS = 'global-drag-active';\n\ntype DragImageProvider = () => HTMLElement;\n\ninterface CellDragEvent {\n\tbrowserEvent: DragEvent;\n\tdraggedOverCell: ICellViewModel;\n\tcellTop: number;\n\tcellHeight: number;\n\tdragPosRatio: number;\n}\n\nexport class CellDragAndDropPart extends CellContentPart {\n\tconstructor(\n\t\tprivate readonly container: HTMLElement\n\t) {\n\t\tsuper();\n\t}\n\n\toverride didRenderCell(element: ICellViewModel): void {\n\t\tthis.update(element);\n\t}\n\n\toverride updateState(element: ICellViewModel, e: CellViewModelStateChangeEvent): void {\n\t\tif (e.dragStateChanged) {\n\t\t\tthis.update(element);\n\t\t}\n\t}\n\n\tprivate update(element: ICellViewModel) {\n\t\tthis.container.classList.toggle(DRAGGING_CLASS, element.dragging);\n\t}\n}\n\nexport class CellDragAndDropController extends Disposable {\n\t// TODO@roblourens - should probably use dataTransfer here, but any dataTransfer set makes the editor think I am dropping a file, need\n\t// to figure out how to prevent that\n\tprivate currentDraggedCell: ICellViewModel | undefined;\n\tprivate draggedCells: ICellViewModel[] = [];\n\n\tprivate listInsertionIndicator: HTMLElement;\n\n\tprivate list!: INotebookCellList;\n\n\tprivate isScrolling = false;\n\tprivate readonly scrollingDelayer: Delayer<void>;\n\n\tprivate readonly listOnWillScrollListener = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\tprivate notebookEditor: INotebookEditorDelegate,\n\t\tprivate readonly notebookListContainer: HTMLElement\n\t) {\n\t\tsuper();\n\n\t\tthis.listInsertionIndicator = DOM.append(notebookListContainer, $('.cell-list-insertion-indicator'));\n\n\t\tthis._register(DOM.addDisposableListener(notebookListContainer.ownerDocument.body, DOM.EventType.DRAG_START, this.onGlobalDragStart.bind(this), true));\n\t\tthis._register(DOM.addDisposableListener(notebookListContainer.ownerDocument.body, DOM.EventType.DRAG_END, this.onGlobalDragEnd.bind(this), true));\n\n\t\tconst addCellDragListener = (eventType: string, handler: (e: CellDragEvent) => void, useCapture = false) => {\n\t\t\tthis._register(DOM.addDisposableListener(\n\t\t\t\tnotebookEditor.getDomNode(),\n\t\t\t\teventType,\n\t\t\t\te => {\n\t\t\t\t\tconst cellDragEvent = this.toCellDragEvent(e);\n\t\t\t\t\tif (cellDragEvent) {\n\t\t\t\t\t\thandler(cellDragEvent);\n\t\t\t\t\t}\n\t\t\t\t}, useCapture));\n\t\t};\n\n\t\taddCellDragListener(DOM.EventType.DRAG_OVER, event => {\n\t\t\tif (!this.currentDraggedCell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.browserEvent.preventDefault();\n\t\t\tthis.onCellDragover(event);\n\t\t}, true);\n\t\taddCellDragListener(DOM.EventType.DROP, event => {\n\t\t\tif (!this.currentDraggedCell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tevent.browserEvent.preventDefault();\n\t\t\tthis.onCellDrop(event);\n\t\t});\n\t\taddCellDragListener(DOM.EventType.DRAG_LEAVE, event => {\n\t\t\tevent.browserEvent.preventDefault();\n\t\t\tthis.onCellDragLeave(event);\n\t\t});\n\n\t\tthis.scrollingDelayer = this._register(new Delayer(200));\n\t}\n\n\tsetList(value: INotebookCellList) {\n\t\tthis.list = value;\n\n\t\tthis.listOnWillScrollListener.value = this.list.onWillScroll(e => {\n\t\t\tif (!e.scrollTopChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setInsertIndicatorVisibility(false);\n\t\t\tthis.isScrolling = true;\n\t\t\tthis.scrollingDelayer.trigger(() => {\n\t\t\t\tthis.isScrolling = false;\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate setInsertIndicatorVisibility(visible: boolean) {\n\t\tthis.listInsertionIndicator.style.opacity = visible ? '1' : '0';\n\t}\n\n\tprivate toCellDragEvent(event: DragEvent): CellDragEvent | undefined {\n\t\tconst targetTop = this.notebookListContainer.getBoundingClientRect().top;\n\t\tconst dragOffset = this.list.scrollTop + event.clientY - targetTop;\n\t\tconst draggedOverCell = this.list.elementAt(dragOffset);\n\t\tif (!draggedOverCell) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst cellTop = this.list.getCellViewScrollTop(draggedOverCell);\n\t\tconst cellHeight = this.list.elementHeight(draggedOverCell);\n\n\t\tconst dragPosInElement = dragOffset - cellTop;\n\t\tconst dragPosRatio = dragPosInElement / cellHeight;\n\n\t\treturn {\n\t\t\tbrowserEvent: event,\n\t\t\tdraggedOverCell,\n\t\t\tcellTop,\n\t\t\tcellHeight,\n\t\t\tdragPosRatio\n\t\t};\n\t}\n\n\tclearGlobalDragState() {\n\t\tthis.notebookEditor.getDomNode().classList.remove(GLOBAL_DRAG_CLASS);\n\t}\n\n\tprivate onGlobalDragStart() {\n\t\tthis.notebookEditor.getDomNode().classList.add(GLOBAL_DRAG_CLASS);\n\t}\n\n\tprivate onGlobalDragEnd() {\n\t\tthis.notebookEditor.getDomNode().classList.remove(GLOBAL_DRAG_CLASS);\n\t}\n\n\tprivate onCellDragover(event: CellDragEvent): void {\n\t\tif (!event.browserEvent.dataTransfer) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.currentDraggedCell) {\n\t\t\tevent.browserEvent.dataTransfer.dropEffect = 'none';\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isScrolling || this.currentDraggedCell === event.draggedOverCell) {\n\t\t\tthis.setInsertIndicatorVisibility(false);\n\t\t\treturn;\n\t\t}\n\n\t\tconst dropDirection = this.getDropInsertDirection(event.dragPosRatio);\n\t\tconst insertionIndicatorAbsolutePos = dropDirection === 'above' ? event.cellTop : event.cellTop + event.cellHeight;\n\t\tthis.updateInsertIndicator(dropDirection, insertionIndicatorAbsolutePos);\n\t}\n\n\tprivate updateInsertIndicator(dropDirection: string, insertionIndicatorAbsolutePos: number) {\n\t\tconst { bottomToolbarGap } = this.notebookEditor.notebookOptions.computeBottomToolbarDimensions(this.notebookEditor.textModel?.viewType);\n\t\tconst insertionIndicatorTop = insertionIndicatorAbsolutePos - this.list.scrollTop + bottomToolbarGap / 2;\n\t\tif (insertionIndicatorTop >= 0) {\n\t\t\tthis.listInsertionIndicator.style.top = `${insertionIndicatorTop}px`;\n\t\t\tthis.setInsertIndicatorVisibility(true);\n\t\t} else {\n\t\t\tthis.setInsertIndicatorVisibility(false);\n\t\t}\n\t}\n\n\tprivate getDropInsertDirection(dragPosRatio: number): 'above' | 'below' {\n\t\treturn dragPosRatio < 0.5 ? 'above' : 'below';\n\t}\n\n\tprivate onCellDrop(event: CellDragEvent): void {\n\t\tconst draggedCell = this.currentDraggedCell!;\n\n\t\tif (this.isScrolling || this.currentDraggedCell === event.draggedOverCell) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.dragCleanup();\n\n\t\tconst dropDirection = this.getDropInsertDirection(event.dragPosRatio);\n\t\tthis._dropImpl(draggedCell, dropDirection, event.browserEvent, event.draggedOverCell);\n\t}\n\n\tprivate getCellRangeAroundDragTarget(draggedCellIndex: number) {\n\t\tconst selections = this.notebookEditor.getSelections();\n\t\tconst modelRanges = expandCellRangesWithHiddenCells(this.notebookEditor, selections);\n\t\tconst nearestRange = modelRanges.find(range => range.start <= draggedCellIndex && draggedCellIndex < range.end);\n\n\t\tif (nearestRange) {\n\t\t\treturn nearestRange;\n\t\t} else {\n\t\t\treturn { start: draggedCellIndex, end: draggedCellIndex + 1 };\n\t\t}\n\t}\n\n\tprivate _dropImpl(draggedCell: ICellViewModel, dropDirection: 'above' | 'below', ctx: { ctrlKey: boolean; altKey: boolean }, draggedOverCell: ICellViewModel) {\n\t\tconst cellTop = this.list.getCellViewScrollTop(draggedOverCell);\n\t\tconst cellHeight = this.list.elementHeight(draggedOverCell);\n\t\tconst insertionIndicatorAbsolutePos = dropDirection === 'above' ? cellTop : cellTop + cellHeight;\n\t\tconst { bottomToolbarGap } = this.notebookEditor.notebookOptions.computeBottomToolbarDimensions(this.notebookEditor.textModel?.viewType);\n\t\tconst insertionIndicatorTop = insertionIndicatorAbsolutePos - this.list.scrollTop + bottomToolbarGap / 2;\n\t\tconst editorHeight = this.notebookEditor.getDomNode().getBoundingClientRect().height;\n\t\tif (insertionIndicatorTop < 0 || insertionIndicatorTop > editorHeight) {\n\t\t\t// Ignore drop, insertion point is off-screen\n\t\t\treturn;\n\t\t}\n\n\t\tconst isCopy = (ctx.ctrlKey && !platform.isMacintosh) || (ctx.altKey && platform.isMacintosh);\n\n\t\tif (!this.notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst textModel = this.notebookEditor.textModel;\n\n\t\tif (isCopy) {\n\t\t\tconst draggedCellIndex = this.notebookEditor.getCellIndex(draggedCell);\n\t\t\tconst range = this.getCellRangeAroundDragTarget(draggedCellIndex);\n\n\t\t\tlet originalToIdx = this.notebookEditor.getCellIndex(draggedOverCell);\n\t\t\tif (dropDirection === 'below') {\n\t\t\t\tconst relativeToIndex = this.notebookEditor.getCellIndex(draggedOverCell);\n\t\t\t\tconst newIdx = this.notebookEditor.getNextVisibleCellIndex(relativeToIndex);\n\t\t\t\toriginalToIdx = newIdx;\n\t\t\t}\n\n\t\t\tlet finalSelection: ICellRange;\n\t\t\tlet finalFocus: ICellRange;\n\n\t\t\tif (originalToIdx <= range.start) {\n\t\t\t\tfinalSelection = { start: originalToIdx, end: originalToIdx + range.end - range.start };\n\t\t\t\tfinalFocus = { start: originalToIdx + draggedCellIndex - range.start, end: originalToIdx + draggedCellIndex - range.start + 1 };\n\t\t\t} else {\n\t\t\t\tconst delta = (originalToIdx - range.start);\n\t\t\t\tfinalSelection = { start: range.start + delta, end: range.end + delta };\n\t\t\t\tfinalFocus = { start: draggedCellIndex + delta, end: draggedCellIndex + delta + 1 };\n\t\t\t}\n\n\t\t\ttextModel.applyEdits([\n\t\t\t\t{\n\t\t\t\t\teditType: CellEditType.Replace,\n\t\t\t\t\tindex: originalToIdx,\n\t\t\t\t\tcount: 0,\n\t\t\t\t\tcells: cellRangesToIndexes([range]).map(index => cloneNotebookCellTextModel(this.notebookEditor.cellAt(index)!.model))\n\t\t\t\t}\n\t\t\t], true, { kind: SelectionStateType.Index, focus: this.notebookEditor.getFocus(), selections: this.notebookEditor.getSelections() }, () => ({ kind: SelectionStateType.Index, focus: finalFocus, selections: [finalSelection] }), undefined, true);\n\t\t\tthis.notebookEditor.revealCellRangeInView(finalSelection);\n\t\t} else {\n\t\t\tperformCellDropEdits(this.notebookEditor, draggedCell, dropDirection, draggedOverCell);\n\t\t}\n\t}\n\n\tprivate onCellDragLeave(event: CellDragEvent): void {\n\t\tif (!event.browserEvent.relatedTarget || !DOM.isAncestor(event.browserEvent.relatedTarget as HTMLElement, this.notebookEditor.getDomNode())) {\n\t\t\tthis.setInsertIndicatorVisibility(false);\n\t\t}\n\t}\n\n\tprivate dragCleanup(): void {\n\t\tif (this.currentDraggedCell) {\n\t\t\tthis.draggedCells.forEach(cell => cell.dragging = false);\n\t\t\tthis.currentDraggedCell = undefined;\n\t\t\tthis.draggedCells = [];\n\t\t}\n\n\t\tthis.setInsertIndicatorVisibility(false);\n\t}\n\n\tregisterDragHandle(templateData: BaseCellRenderTemplate, cellRoot: HTMLElement, dragHandles: HTMLElement[], dragImageProvider: DragImageProvider): void {\n\t\tconst container = templateData.container;\n\t\tfor (const dragHandle of dragHandles) {\n\t\t\tdragHandle.setAttribute('draggable', 'true');\n\t\t}\n\n\t\tconst onDragEnd = () => {\n\t\t\tif (!this.notebookEditor.notebookOptions.getDisplayOptions().dragAndDropEnabled || !!this.notebookEditor.isReadOnly) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Note, templateData may have a different element rendered into it by now\n\t\t\tcontainer.classList.remove(DRAGGING_CLASS);\n\t\t\tthis.dragCleanup();\n\t\t};\n\t\tfor (const dragHandle of dragHandles) {\n\t\t\ttemplateData.templateDisposables.add(DOM.addDisposableListener(dragHandle, DOM.EventType.DRAG_END, onDragEnd));\n\t\t}\n\n\t\tconst onDragStart = (event: DragEvent) => {\n\t\t\tif (!event.dataTransfer) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.notebookEditor.notebookOptions.getDisplayOptions().dragAndDropEnabled || !!this.notebookEditor.isReadOnly) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentDraggedCell = templateData.currentRenderedCell!;\n\t\t\tthis.draggedCells = this.notebookEditor.getSelections().map(range => this.notebookEditor.getCellsInRange(range)).flat();\n\t\t\tthis.draggedCells.forEach(cell => cell.dragging = true);\n\n\t\t\tconst dragImage = dragImageProvider();\n\t\t\tcellRoot.parentElement!.appendChild(dragImage);\n\t\t\tevent.dataTransfer.setDragImage(dragImage, 0, 0);\n\t\t\tsetTimeout(() => dragImage.remove(), 0); // Comment this out to debug drag image layout\n\t\t};\n\t\tfor (const dragHandle of dragHandles) {\n\t\t\ttemplateData.templateDisposables.add(DOM.addDisposableListener(dragHandle, DOM.EventType.DRAG_START, onDragStart));\n\t\t}\n\t}\n\n\tpublic startExplicitDrag(cell: ICellViewModel, _dragOffsetY: number) {\n\t\tif (!this.notebookEditor.notebookOptions.getDisplayOptions().dragAndDropEnabled || !!this.notebookEditor.isReadOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.currentDraggedCell = cell;\n\t\tthis.setInsertIndicatorVisibility(true);\n\t}\n\n\tpublic explicitDrag(cell: ICellViewModel, dragOffsetY: number) {\n\t\tif (!this.notebookEditor.notebookOptions.getDisplayOptions().dragAndDropEnabled || !!this.notebookEditor.isReadOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst target = this.list.elementAt(dragOffsetY);\n\t\tif (target && target !== cell) {\n\t\t\tconst cellTop = this.list.getCellViewScrollTop(target);\n\t\t\tconst cellHeight = this.list.elementHeight(target);\n\n\t\t\tconst dropDirection = this.getExplicitDragDropDirection(dragOffsetY, cellTop, cellHeight);\n\t\t\tconst insertionIndicatorAbsolutePos = dropDirection === 'above' ? cellTop : cellTop + cellHeight;\n\t\t\tthis.updateInsertIndicator(dropDirection, insertionIndicatorAbsolutePos);\n\t\t}\n\n\t\t// Try scrolling list if needed\n\t\tif (this.currentDraggedCell !== cell) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst notebookViewRect = this.notebookEditor.getDomNode().getBoundingClientRect();\n\t\tconst eventPositionInView = dragOffsetY - this.list.scrollTop;\n\n\t\t// Percentage from the top/bottom of the screen where we start scrolling while dragging\n\t\tconst notebookViewScrollMargins = 0.2;\n\n\t\tconst maxScrollDeltaPerFrame = 20;\n\n\t\tconst eventPositionRatio = eventPositionInView / notebookViewRect.height;\n\t\tif (eventPositionRatio < notebookViewScrollMargins) {\n\t\t\tthis.list.scrollTop -= maxScrollDeltaPerFrame * (1 - eventPositionRatio / notebookViewScrollMargins);\n\t\t} else if (eventPositionRatio > 1 - notebookViewScrollMargins) {\n\t\t\tthis.list.scrollTop += maxScrollDeltaPerFrame * (1 - ((1 - eventPositionRatio) / notebookViewScrollMargins));\n\t\t}\n\t}\n\n\tpublic endExplicitDrag(_cell: ICellViewModel) {\n\t\tthis.setInsertIndicatorVisibility(false);\n\t}\n\n\tpublic explicitDrop(cell: ICellViewModel, ctx: { dragOffsetY: number; ctrlKey: boolean; altKey: boolean }) {\n\t\tthis.currentDraggedCell = undefined;\n\t\tthis.setInsertIndicatorVisibility(false);\n\n\t\tconst target = this.list.elementAt(ctx.dragOffsetY);\n\t\tif (!target || target === cell) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cellTop = this.list.getCellViewScrollTop(target);\n\t\tconst cellHeight = this.list.elementHeight(target);\n\t\tconst dropDirection = this.getExplicitDragDropDirection(ctx.dragOffsetY, cellTop, cellHeight);\n\t\tthis._dropImpl(cell, dropDirection, ctx, target);\n\t}\n\n\tprivate getExplicitDragDropDirection(clientY: number, cellTop: number, cellHeight: number) {\n\t\tconst dragPosInElement = clientY - cellTop;\n\t\tconst dragPosRatio = dragPosInElement / cellHeight;\n\n\t\treturn this.getDropInsertDirection(dragPosRatio);\n\t}\n\n\toverride dispose() {\n\t\tthis.notebookEditor = null!;\n\t\tsuper.dispose();\n\t}\n}\n\nexport function performCellDropEdits(editor: INotebookEditorDelegate, draggedCell: ICellViewModel, dropDirection: 'above' | 'below', draggedOverCell: ICellViewModel): void {\n\tconst draggedCellIndex = editor.getCellIndex(draggedCell)!;\n\tlet originalToIdx = editor.getCellIndex(draggedOverCell)!;\n\n\tif (typeof draggedCellIndex !== 'number' || typeof originalToIdx !== 'number') {\n\t\treturn;\n\t}\n\n\t// If dropped on a folded markdown range, insert after the folding range\n\tif (dropDirection === 'below') {\n\t\tconst newIdx = editor.getNextVisibleCellIndex(originalToIdx) ?? originalToIdx;\n\t\toriginalToIdx = newIdx;\n\t}\n\n\tlet selections = editor.getSelections();\n\tif (!selections.length) {\n\t\tselections = [editor.getFocus()];\n\t}\n\n\tlet originalFocusIdx = editor.getFocus().start;\n\n\t// If the dragged cell is not focused/selected, ignore the current focus/selection and use the dragged idx\n\tif (!selections.some(s => s.start <= draggedCellIndex && s.end > draggedCellIndex)) {\n\t\tselections = [{ start: draggedCellIndex, end: draggedCellIndex + 1 }];\n\t\toriginalFocusIdx = draggedCellIndex;\n\t}\n\n\tconst droppedInSelection = selections.find(range => range.start <= originalToIdx && range.end > originalToIdx);\n\tif (droppedInSelection) {\n\t\toriginalToIdx = droppedInSelection.start;\n\t}\n\n\n\tlet numCells = 0;\n\tlet focusNewIdx = originalToIdx;\n\tlet newInsertionIdx = originalToIdx;\n\n\t// Compute a set of edits which will be applied in reverse order by the notebook text model.\n\t// `index`: the starting index of the range, after previous edits have been applied\n\t// `newIdx`: the destination index, after this edit's range has been removed\n\tselections.sort((a, b) => b.start - a.start);\n\tconst edits = selections.map(range => {\n\t\tconst length = range.end - range.start;\n\n\t\t// If this range is before the insertion point, subtract the cells in this range from the \"to\" index\n\t\tlet toIndexDelta = 0;\n\t\tif (range.end <= newInsertionIdx) {\n\t\t\ttoIndexDelta = -length;\n\t\t}\n\n\t\tconst newIdx = newInsertionIdx + toIndexDelta;\n\n\t\t// If this range contains the focused cell, set the new focus index to the new index of the cell\n\t\tif (originalFocusIdx >= range.start && originalFocusIdx <= range.end) {\n\t\t\tconst offset = originalFocusIdx - range.start;\n\t\t\tfocusNewIdx = newIdx + offset;\n\t\t}\n\n\t\t// If below the insertion point, the original index will have been shifted down\n\t\tconst fromIndexDelta = range.start >= originalToIdx ? numCells : 0;\n\n\t\tconst edit: ICellMoveEdit = {\n\t\t\teditType: CellEditType.Move,\n\t\t\tindex: range.start + fromIndexDelta,\n\t\t\tlength,\n\t\t\tnewIdx\n\t\t};\n\t\tnumCells += length;\n\n\t\t// If a range was moved down, the insertion index needs to be adjusted\n\t\tif (range.end < newInsertionIdx) {\n\t\t\tnewInsertionIdx -= length;\n\t\t}\n\n\t\treturn edit;\n\t});\n\n\tconst lastEdit = edits[edits.length - 1];\n\tconst finalSelection = { start: lastEdit.newIdx, end: lastEdit.newIdx + numCells };\n\tconst finalFocus = { start: focusNewIdx, end: focusNewIdx + 1 };\n\n\teditor.textModel!.applyEdits(\n\t\tedits,\n\t\ttrue,\n\t\t{ kind: SelectionStateType.Index, focus: editor.getFocus(), selections: editor.getSelections() },\n\t\t() => ({ kind: SelectionStateType.Index, focus: finalFocus, selections: [finalSelection] }),\n\t\tundefined, true);\n\teditor.revealCellRangeInView(finalSelection);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoBM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,c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","ignoreList":[]}