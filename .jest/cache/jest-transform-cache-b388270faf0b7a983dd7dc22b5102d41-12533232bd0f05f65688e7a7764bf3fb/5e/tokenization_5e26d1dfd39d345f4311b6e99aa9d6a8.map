{"version":3,"names":["cov_1awkzm9o0g","actualCoverage","Color","ParsedTokenThemeRule","_parsedThemeRuleBrand","s","undefined","token","index","fontStyle","foreground","background","constructor","f","parseTokenTheme","source","b","Array","isArray","result","resultLen","i","len","length","entry","segments","split","j","lenJ","segment","resolveParsedTokenThemeRules","parsedThemeRules","customTokenColors","sort","a","r","strcmp","defaultFontStyle","defaultForeground","defaultBackground","incomingDefaults","shift","colorMap","ColorMap","color","getId","foregroundColorId","backgroundColorId","defaults","ThemeTrieElementRule","root","ThemeTrieElement","rule","insert","TokenTheme","colorRegExp","_lastColorId","_id2color","_color2id","Map","match","Error","toUpperCase","value","get","set","fromHex","getColorMap","slice","createFromRawTokenTheme","createFromParsedTokenTheme","_colorMap","_root","_cache","getThemeTrieElement","toExternalThemeTrieElement","_match","languageId","standardToken","toStandardTokenType","metadata","STANDARD_TOKEN_TYPE_REGEXP","tokenType","m","_themeTrieElementRuleBrand","_fontStyle","_foreground","_background","clone","acceptOverwrite","ExternalThemeTrieElement","mainRule","children","key","_themeTrieElementBrand","_mainRule","_children","forEach","element","dotIndex","indexOf","head","tail","substring","child","generateTokensCSSForColorMap","rules","push","join"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languages/supports/tokenization.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { LanguageId, FontStyle, ColorId, StandardTokenType, MetadataConsts } from '../../encodedTokenAttributes.js';\n\nexport interface ITokenThemeRule {\n\ttoken: string;\n\tforeground?: string;\n\tbackground?: string;\n\tfontStyle?: string;\n}\n\nexport class ParsedTokenThemeRule {\n\t_parsedThemeRuleBrand: void = undefined;\n\n\treadonly token: string;\n\treadonly index: number;\n\n\t/**\n\t * -1 if not set. An or mask of `FontStyle` otherwise.\n\t */\n\treadonly fontStyle: FontStyle;\n\treadonly foreground: string | null;\n\treadonly background: string | null;\n\n\tconstructor(\n\t\ttoken: string,\n\t\tindex: number,\n\t\tfontStyle: number,\n\t\tforeground: string | null,\n\t\tbackground: string | null,\n\t) {\n\t\tthis.token = token;\n\t\tthis.index = index;\n\t\tthis.fontStyle = fontStyle;\n\t\tthis.foreground = foreground;\n\t\tthis.background = background;\n\t}\n}\n\n/**\n * Parse a raw theme into rules.\n */\nexport function parseTokenTheme(source: ITokenThemeRule[]): ParsedTokenThemeRule[] {\n\tif (!source || !Array.isArray(source)) {\n\t\treturn [];\n\t}\n\tconst result: ParsedTokenThemeRule[] = [];\n\tlet resultLen = 0;\n\tfor (let i = 0, len = source.length; i < len; i++) {\n\t\tconst entry = source[i];\n\n\t\tlet fontStyle: number = FontStyle.NotSet;\n\t\tif (typeof entry.fontStyle === 'string') {\n\t\t\tfontStyle = FontStyle.None;\n\n\t\t\tconst segments = entry.fontStyle.split(' ');\n\t\t\tfor (let j = 0, lenJ = segments.length; j < lenJ; j++) {\n\t\t\t\tconst segment = segments[j];\n\t\t\t\tswitch (segment) {\n\t\t\t\t\tcase 'italic':\n\t\t\t\t\t\tfontStyle = fontStyle | FontStyle.Italic;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bold':\n\t\t\t\t\t\tfontStyle = fontStyle | FontStyle.Bold;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'underline':\n\t\t\t\t\t\tfontStyle = fontStyle | FontStyle.Underline;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'strikethrough':\n\t\t\t\t\t\tfontStyle = fontStyle | FontStyle.Strikethrough;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet foreground: string | null = null;\n\t\tif (typeof entry.foreground === 'string') {\n\t\t\tforeground = entry.foreground;\n\t\t}\n\n\t\tlet background: string | null = null;\n\t\tif (typeof entry.background === 'string') {\n\t\t\tbackground = entry.background;\n\t\t}\n\n\t\tresult[resultLen++] = new ParsedTokenThemeRule(\n\t\t\tentry.token || '',\n\t\t\ti,\n\t\t\tfontStyle,\n\t\t\tforeground,\n\t\t\tbackground\n\t\t);\n\t}\n\n\treturn result;\n}\n\n/**\n * Resolve rules (i.e. inheritance).\n */\nfunction resolveParsedTokenThemeRules(parsedThemeRules: ParsedTokenThemeRule[], customTokenColors: string[]): TokenTheme {\n\n\t// Sort rules lexicographically, and then by index if necessary\n\tparsedThemeRules.sort((a, b) => {\n\t\tconst r = strcmp(a.token, b.token);\n\t\tif (r !== 0) {\n\t\t\treturn r;\n\t\t}\n\t\treturn a.index - b.index;\n\t});\n\n\t// Determine defaults\n\tlet defaultFontStyle = FontStyle.None;\n\tlet defaultForeground = '000000';\n\tlet defaultBackground = 'ffffff';\n\twhile (parsedThemeRules.length >= 1 && parsedThemeRules[0].token === '') {\n\t\tconst incomingDefaults = parsedThemeRules.shift()!;\n\t\tif (incomingDefaults.fontStyle !== FontStyle.NotSet) {\n\t\t\tdefaultFontStyle = incomingDefaults.fontStyle;\n\t\t}\n\t\tif (incomingDefaults.foreground !== null) {\n\t\t\tdefaultForeground = incomingDefaults.foreground;\n\t\t}\n\t\tif (incomingDefaults.background !== null) {\n\t\t\tdefaultBackground = incomingDefaults.background;\n\t\t}\n\t}\n\tconst colorMap = new ColorMap();\n\n\t// start with token colors from custom token themes\n\tfor (const color of customTokenColors) {\n\t\tcolorMap.getId(color);\n\t}\n\n\n\tconst foregroundColorId = colorMap.getId(defaultForeground);\n\tconst backgroundColorId = colorMap.getId(defaultBackground);\n\n\tconst defaults = new ThemeTrieElementRule(defaultFontStyle, foregroundColorId, backgroundColorId);\n\tconst root = new ThemeTrieElement(defaults);\n\tfor (let i = 0, len = parsedThemeRules.length; i < len; i++) {\n\t\tconst rule = parsedThemeRules[i];\n\t\troot.insert(rule.token, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n\t}\n\n\treturn new TokenTheme(colorMap, root);\n}\n\nconst colorRegExp = /^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;\n\nexport class ColorMap {\n\n\tprivate _lastColorId: number;\n\tprivate readonly _id2color: Color[];\n\tprivate readonly _color2id: Map<string, ColorId>;\n\n\tconstructor() {\n\t\tthis._lastColorId = 0;\n\t\tthis._id2color = [];\n\t\tthis._color2id = new Map<string, ColorId>();\n\t}\n\n\tpublic getId(color: string | null): ColorId {\n\t\tif (color === null) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst match = color.match(colorRegExp);\n\t\tif (!match) {\n\t\t\tthrow new Error('Illegal value for token color: ' + color);\n\t\t}\n\t\tcolor = match[1].toUpperCase();\n\t\tlet value = this._color2id.get(color);\n\t\tif (value) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = ++this._lastColorId;\n\t\tthis._color2id.set(color, value);\n\t\tthis._id2color[value] = Color.fromHex('#' + color);\n\t\treturn value;\n\t}\n\n\tpublic getColorMap(): Color[] {\n\t\treturn this._id2color.slice(0);\n\t}\n\n}\n\nexport class TokenTheme {\n\n\tpublic static createFromRawTokenTheme(source: ITokenThemeRule[], customTokenColors: string[]): TokenTheme {\n\t\treturn this.createFromParsedTokenTheme(parseTokenTheme(source), customTokenColors);\n\t}\n\n\tpublic static createFromParsedTokenTheme(source: ParsedTokenThemeRule[], customTokenColors: string[]): TokenTheme {\n\t\treturn resolveParsedTokenThemeRules(source, customTokenColors);\n\t}\n\n\tprivate readonly _colorMap: ColorMap;\n\tprivate readonly _root: ThemeTrieElement;\n\tprivate readonly _cache: Map<string, number>;\n\n\tconstructor(colorMap: ColorMap, root: ThemeTrieElement) {\n\t\tthis._colorMap = colorMap;\n\t\tthis._root = root;\n\t\tthis._cache = new Map<string, number>();\n\t}\n\n\tpublic getColorMap(): Color[] {\n\t\treturn this._colorMap.getColorMap();\n\t}\n\n\t/**\n\t * used for testing purposes\n\t */\n\tpublic getThemeTrieElement(): ExternalThemeTrieElement {\n\t\treturn this._root.toExternalThemeTrieElement();\n\t}\n\n\tpublic _match(token: string): ThemeTrieElementRule {\n\t\treturn this._root.match(token);\n\t}\n\n\tpublic match(languageId: LanguageId, token: string): number {\n\t\t// The cache contains the metadata without the language bits set.\n\t\tlet result = this._cache.get(token);\n\t\tif (typeof result === 'undefined') {\n\t\t\tconst rule = this._match(token);\n\t\t\tconst standardToken = toStandardTokenType(token);\n\t\t\tresult = (\n\t\t\t\trule.metadata\n\t\t\t\t| (standardToken << MetadataConsts.TOKEN_TYPE_OFFSET)\n\t\t\t) >>> 0;\n\t\t\tthis._cache.set(token, result);\n\t\t}\n\n\t\treturn (\n\t\t\tresult\n\t\t\t| (languageId << MetadataConsts.LANGUAGEID_OFFSET)\n\t\t) >>> 0;\n\t}\n}\n\nconst STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex|regexp)\\b/;\nexport function toStandardTokenType(tokenType: string): StandardTokenType {\n\tconst m = tokenType.match(STANDARD_TOKEN_TYPE_REGEXP);\n\tif (!m) {\n\t\treturn StandardTokenType.Other;\n\t}\n\tswitch (m[1]) {\n\t\tcase 'comment':\n\t\t\treturn StandardTokenType.Comment;\n\t\tcase 'string':\n\t\t\treturn StandardTokenType.String;\n\t\tcase 'regex':\n\t\t\treturn StandardTokenType.RegEx;\n\t\tcase 'regexp':\n\t\t\treturn StandardTokenType.RegEx;\n\t}\n\tthrow new Error('Unexpected match for standard token type!');\n}\n\nexport function strcmp(a: string, b: string): number {\n\tif (a < b) {\n\t\treturn -1;\n\t}\n\tif (a > b) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\nexport class ThemeTrieElementRule {\n\t_themeTrieElementRuleBrand: void = undefined;\n\n\tprivate _fontStyle: FontStyle;\n\tprivate _foreground: ColorId;\n\tprivate _background: ColorId;\n\tpublic metadata: number;\n\n\tconstructor(fontStyle: FontStyle, foreground: ColorId, background: ColorId) {\n\t\tthis._fontStyle = fontStyle;\n\t\tthis._foreground = foreground;\n\t\tthis._background = background;\n\t\tthis.metadata = (\n\t\t\t(this._fontStyle << MetadataConsts.FONT_STYLE_OFFSET)\n\t\t\t| (this._foreground << MetadataConsts.FOREGROUND_OFFSET)\n\t\t\t| (this._background << MetadataConsts.BACKGROUND_OFFSET)\n\t\t) >>> 0;\n\t}\n\n\tpublic clone(): ThemeTrieElementRule {\n\t\treturn new ThemeTrieElementRule(this._fontStyle, this._foreground, this._background);\n\t}\n\n\tpublic acceptOverwrite(fontStyle: FontStyle, foreground: ColorId, background: ColorId): void {\n\t\tif (fontStyle !== FontStyle.NotSet) {\n\t\t\tthis._fontStyle = fontStyle;\n\t\t}\n\t\tif (foreground !== ColorId.None) {\n\t\t\tthis._foreground = foreground;\n\t\t}\n\t\tif (background !== ColorId.None) {\n\t\t\tthis._background = background;\n\t\t}\n\t\tthis.metadata = (\n\t\t\t(this._fontStyle << MetadataConsts.FONT_STYLE_OFFSET)\n\t\t\t| (this._foreground << MetadataConsts.FOREGROUND_OFFSET)\n\t\t\t| (this._background << MetadataConsts.BACKGROUND_OFFSET)\n\t\t) >>> 0;\n\t}\n}\n\nexport class ExternalThemeTrieElement {\n\n\tpublic readonly mainRule: ThemeTrieElementRule;\n\tpublic readonly children: Map<string, ExternalThemeTrieElement>;\n\n\tconstructor(\n\t\tmainRule: ThemeTrieElementRule,\n\t\tchildren: Map<string, ExternalThemeTrieElement> | { [key: string]: ExternalThemeTrieElement } = new Map<string, ExternalThemeTrieElement>()\n\t) {\n\t\tthis.mainRule = mainRule;\n\t\tif (children instanceof Map) {\n\t\t\tthis.children = children;\n\t\t} else {\n\t\t\tthis.children = new Map<string, ExternalThemeTrieElement>();\n\t\t\tfor (const key in children) {\n\t\t\t\tthis.children.set(key, children[key]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class ThemeTrieElement {\n\t_themeTrieElementBrand: void = undefined;\n\n\tprivate readonly _mainRule: ThemeTrieElementRule;\n\tprivate readonly _children: Map<string, ThemeTrieElement>;\n\n\tconstructor(mainRule: ThemeTrieElementRule) {\n\t\tthis._mainRule = mainRule;\n\t\tthis._children = new Map<string, ThemeTrieElement>();\n\t}\n\n\t/**\n\t * used for testing purposes\n\t */\n\tpublic toExternalThemeTrieElement(): ExternalThemeTrieElement {\n\t\tconst children = new Map<string, ExternalThemeTrieElement>();\n\t\tthis._children.forEach((element, index) => {\n\t\t\tchildren.set(index, element.toExternalThemeTrieElement());\n\t\t});\n\t\treturn new ExternalThemeTrieElement(this._mainRule, children);\n\t}\n\n\tpublic match(token: string): ThemeTrieElementRule {\n\t\tif (token === '') {\n\t\t\treturn this._mainRule;\n\t\t}\n\n\t\tconst dotIndex = token.indexOf('.');\n\t\tlet head: string;\n\t\tlet tail: string;\n\t\tif (dotIndex === -1) {\n\t\t\thead = token;\n\t\t\ttail = '';\n\t\t} else {\n\t\t\thead = token.substring(0, dotIndex);\n\t\t\ttail = token.substring(dotIndex + 1);\n\t\t}\n\n\t\tconst child = this._children.get(head);\n\t\tif (typeof child !== 'undefined') {\n\t\t\treturn child.match(tail);\n\t\t}\n\n\t\treturn this._mainRule;\n\t}\n\n\tpublic insert(token: string, fontStyle: FontStyle, foreground: ColorId, background: ColorId): void {\n\t\tif (token === '') {\n\t\t\t// Merge into the main rule\n\t\t\tthis._mainRule.acceptOverwrite(fontStyle, foreground, background);\n\t\t\treturn;\n\t\t}\n\n\t\tconst dotIndex = token.indexOf('.');\n\t\tlet head: string;\n\t\tlet tail: string;\n\t\tif (dotIndex === -1) {\n\t\t\thead = token;\n\t\t\ttail = '';\n\t\t} else {\n\t\t\thead = token.substring(0, dotIndex);\n\t\t\ttail = token.substring(dotIndex + 1);\n\t\t}\n\n\t\tlet child = this._children.get(head);\n\t\tif (typeof child === 'undefined') {\n\t\t\tchild = new ThemeTrieElement(this._mainRule.clone());\n\t\t\tthis._children.set(head, child);\n\t\t}\n\n\t\tchild.insert(tail, fontStyle, foreground, background);\n\t}\n}\n\nexport function generateTokensCSSForColorMap(colorMap: readonly Color[]): string {\n\tconst rules: string[] = [];\n\tfor (let i = 1, len = colorMap.length; i < len; i++) {\n\t\tconst color = colorMap[i];\n\t\trules[i] = `.mtk${i} { color: ${color}; }`;\n\t}\n\trules.push('.mtki { font-style: italic; }');\n\trules.push('.mtkb { font-weight: bold; }');\n\trules.push('.mtku { text-decoration: underline; text-underline-position: under; }');\n\trules.push('.mtks { text-decoration: line-through; }');\n\trules.push('.mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }');\n\treturn rules.join('\\n');\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}