{"version":3,"names":["compareBy","findLastMax","findFirstMin","CursorState","Cursor","Position","Range","Selection","CursorCollection","context","cursors","lastAddedCursorIndex","constructor","cov_280d7gckbl","f","s","dispose","cursor","startTrackingSelections","startTrackingSelection","stopTrackingSelections","stopTrackingSelection","updateContext","ensureValidState","readSelectionFromMarkers","map","c","getAll","asCursorState","getViewPositions","viewState","position","getTopMostViewPosition","compare","getBottomMostViewPosition","getSelections","modelState","selection","getViewSelections","setSelections","selections","setStates","fromModelSelections","getPrimaryCursor","states","b","setState","_setSecondaryStates","slice","secondaryStates","secondaryCursorsLength","length","secondaryStatesLength","createCnt","i","_addSecondaryCursor","removeCnt","_removeSecondaryCursor","killSecondaryCursors","push","getLastAddedCursorIndex","removeIndex","splice","normalize","sortedCursors","len","index","sort","compareRangesUsingStarts","sortedCursorIndex","current","next","currentSelection","nextSelection","cursorConfig","multiCursorMergeOverlapping","shouldMergeCursors","isEmpty","getStartPosition","isBeforeOrEqual","getEndPosition","isBefore","winnerSortedCursorIndex","looserSortedCursorIndex","looserIndex","winnerIndex","looserSelection","winnerSelection","equalsSelection","resultingRange","plusRange","looserSelectionIsLTR","selectionStartLineNumber","startLineNumber","selectionStartColumn","startColumn","winnerSelectionIsLTR","resultingSelectionIsLTR","resultingSelection","endLineNumber","endColumn","resultingState","fromModelSelection","sortedCursor"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/cursor/cursorCollection.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareBy } from '../../../base/common/arrays.js';\nimport { findLastMax, findFirstMin } from '../../../base/common/arraysFind.js';\nimport { CursorState, PartialCursorState } from '../cursorCommon.js';\nimport { CursorContext } from './cursorContext.js';\nimport { Cursor } from './oneCursor.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { ISelection, Selection } from '../core/selection.js';\n\nexport class CursorCollection {\n\n\tprivate context: CursorContext;\n\n\t/**\n\t * `cursors[0]` is the primary cursor, thus `cursors.length >= 1` is always true.\n\t * `cursors.slice(1)` are secondary cursors.\n\t*/\n\tprivate cursors: Cursor[];\n\n\t// An index which identifies the last cursor that was added / moved (think Ctrl+drag)\n\t// This index refers to `cursors.slice(1)`, i.e. after removing the primary cursor.\n\tprivate lastAddedCursorIndex: number;\n\n\tconstructor(context: CursorContext) {\n\t\tthis.context = context;\n\t\tthis.cursors = [new Cursor(context)];\n\t\tthis.lastAddedCursorIndex = 0;\n\t}\n\n\tpublic dispose(): void {\n\t\tfor (const cursor of this.cursors) {\n\t\t\tcursor.dispose(this.context);\n\t\t}\n\t}\n\n\tpublic startTrackingSelections(): void {\n\t\tfor (const cursor of this.cursors) {\n\t\t\tcursor.startTrackingSelection(this.context);\n\t\t}\n\t}\n\n\tpublic stopTrackingSelections(): void {\n\t\tfor (const cursor of this.cursors) {\n\t\t\tcursor.stopTrackingSelection(this.context);\n\t\t}\n\t}\n\n\tpublic updateContext(context: CursorContext): void {\n\t\tthis.context = context;\n\t}\n\n\tpublic ensureValidState(): void {\n\t\tfor (const cursor of this.cursors) {\n\t\t\tcursor.ensureValidState(this.context);\n\t\t}\n\t}\n\n\tpublic readSelectionFromMarkers(): Selection[] {\n\t\treturn this.cursors.map(c => c.readSelectionFromMarkers(this.context));\n\t}\n\n\tpublic getAll(): CursorState[] {\n\t\treturn this.cursors.map(c => c.asCursorState());\n\t}\n\n\tpublic getViewPositions(): Position[] {\n\t\treturn this.cursors.map(c => c.viewState.position);\n\t}\n\n\tpublic getTopMostViewPosition(): Position {\n\t\treturn findFirstMin(\n\t\t\tthis.cursors,\n\t\t\tcompareBy(c => c.viewState.position, Position.compare)\n\t\t)!.viewState.position;\n\t}\n\n\tpublic getBottomMostViewPosition(): Position {\n\t\treturn findLastMax(\n\t\t\tthis.cursors,\n\t\t\tcompareBy(c => c.viewState.position, Position.compare)\n\t\t)!.viewState.position;\n\t}\n\n\tpublic getSelections(): Selection[] {\n\t\treturn this.cursors.map(c => c.modelState.selection);\n\t}\n\n\tpublic getViewSelections(): Selection[] {\n\t\treturn this.cursors.map(c => c.viewState.selection);\n\t}\n\n\tpublic setSelections(selections: ISelection[]): void {\n\t\tthis.setStates(CursorState.fromModelSelections(selections));\n\t}\n\n\tpublic getPrimaryCursor(): CursorState {\n\t\treturn this.cursors[0].asCursorState();\n\t}\n\n\tpublic setStates(states: PartialCursorState[] | null): void {\n\t\tif (states === null) {\n\t\t\treturn;\n\t\t}\n\t\tthis.cursors[0].setState(this.context, states[0].modelState, states[0].viewState);\n\t\tthis._setSecondaryStates(states.slice(1));\n\t}\n\n\t/**\n\t * Creates or disposes secondary cursors as necessary to match the number of `secondarySelections`.\n\t */\n\tprivate _setSecondaryStates(secondaryStates: PartialCursorState[]): void {\n\t\tconst secondaryCursorsLength = this.cursors.length - 1;\n\t\tconst secondaryStatesLength = secondaryStates.length;\n\n\t\tif (secondaryCursorsLength < secondaryStatesLength) {\n\t\t\tconst createCnt = secondaryStatesLength - secondaryCursorsLength;\n\t\t\tfor (let i = 0; i < createCnt; i++) {\n\t\t\t\tthis._addSecondaryCursor();\n\t\t\t}\n\t\t} else if (secondaryCursorsLength > secondaryStatesLength) {\n\t\t\tconst removeCnt = secondaryCursorsLength - secondaryStatesLength;\n\t\t\tfor (let i = 0; i < removeCnt; i++) {\n\t\t\t\tthis._removeSecondaryCursor(this.cursors.length - 2);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < secondaryStatesLength; i++) {\n\t\t\tthis.cursors[i + 1].setState(this.context, secondaryStates[i].modelState, secondaryStates[i].viewState);\n\t\t}\n\t}\n\n\tpublic killSecondaryCursors(): void {\n\t\tthis._setSecondaryStates([]);\n\t}\n\n\tprivate _addSecondaryCursor(): void {\n\t\tthis.cursors.push(new Cursor(this.context));\n\t\tthis.lastAddedCursorIndex = this.cursors.length - 1;\n\t}\n\n\tpublic getLastAddedCursorIndex(): number {\n\t\tif (this.cursors.length === 1 || this.lastAddedCursorIndex === 0) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this.lastAddedCursorIndex;\n\t}\n\n\tprivate _removeSecondaryCursor(removeIndex: number): void {\n\t\tif (this.lastAddedCursorIndex >= removeIndex + 1) {\n\t\t\tthis.lastAddedCursorIndex--;\n\t\t}\n\t\tthis.cursors[removeIndex + 1].dispose(this.context);\n\t\tthis.cursors.splice(removeIndex + 1, 1);\n\t}\n\n\tpublic normalize(): void {\n\t\tif (this.cursors.length === 1) {\n\t\t\treturn;\n\t\t}\n\t\tconst cursors = this.cursors.slice(0);\n\n\t\tinterface SortedCursor {\n\t\t\tindex: number;\n\t\t\tselection: Selection;\n\t\t}\n\t\tconst sortedCursors: SortedCursor[] = [];\n\t\tfor (let i = 0, len = cursors.length; i < len; i++) {\n\t\t\tsortedCursors.push({\n\t\t\t\tindex: i,\n\t\t\t\tselection: cursors[i].modelState.selection,\n\t\t\t});\n\t\t}\n\n\t\tsortedCursors.sort(compareBy(s => s.selection, Range.compareRangesUsingStarts));\n\n\t\tfor (let sortedCursorIndex = 0; sortedCursorIndex < sortedCursors.length - 1; sortedCursorIndex++) {\n\t\t\tconst current = sortedCursors[sortedCursorIndex];\n\t\t\tconst next = sortedCursors[sortedCursorIndex + 1];\n\n\t\t\tconst currentSelection = current.selection;\n\t\t\tconst nextSelection = next.selection;\n\n\t\t\tif (!this.context.cursorConfig.multiCursorMergeOverlapping) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet shouldMergeCursors: boolean;\n\t\t\tif (nextSelection.isEmpty() || currentSelection.isEmpty()) {\n\t\t\t\t// Merge touching cursors if one of them is collapsed\n\t\t\t\tshouldMergeCursors = nextSelection.getStartPosition().isBeforeOrEqual(currentSelection.getEndPosition());\n\t\t\t} else {\n\t\t\t\t// Merge only overlapping cursors (i.e. allow touching ranges)\n\t\t\t\tshouldMergeCursors = nextSelection.getStartPosition().isBefore(currentSelection.getEndPosition());\n\t\t\t}\n\n\t\t\tif (shouldMergeCursors) {\n\t\t\t\tconst winnerSortedCursorIndex = current.index < next.index ? sortedCursorIndex : sortedCursorIndex + 1;\n\t\t\t\tconst looserSortedCursorIndex = current.index < next.index ? sortedCursorIndex + 1 : sortedCursorIndex;\n\n\t\t\t\tconst looserIndex = sortedCursors[looserSortedCursorIndex].index;\n\t\t\t\tconst winnerIndex = sortedCursors[winnerSortedCursorIndex].index;\n\n\t\t\t\tconst looserSelection = sortedCursors[looserSortedCursorIndex].selection;\n\t\t\t\tconst winnerSelection = sortedCursors[winnerSortedCursorIndex].selection;\n\n\t\t\t\tif (!looserSelection.equalsSelection(winnerSelection)) {\n\t\t\t\t\tconst resultingRange = looserSelection.plusRange(winnerSelection);\n\t\t\t\t\tconst looserSelectionIsLTR = (looserSelection.selectionStartLineNumber === looserSelection.startLineNumber && looserSelection.selectionStartColumn === looserSelection.startColumn);\n\t\t\t\t\tconst winnerSelectionIsLTR = (winnerSelection.selectionStartLineNumber === winnerSelection.startLineNumber && winnerSelection.selectionStartColumn === winnerSelection.startColumn);\n\n\t\t\t\t\t// Give more importance to the last added cursor (think Ctrl-dragging + hitting another cursor)\n\t\t\t\t\tlet resultingSelectionIsLTR: boolean;\n\t\t\t\t\tif (looserIndex === this.lastAddedCursorIndex) {\n\t\t\t\t\t\tresultingSelectionIsLTR = looserSelectionIsLTR;\n\t\t\t\t\t\tthis.lastAddedCursorIndex = winnerIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Winner takes it all\n\t\t\t\t\t\tresultingSelectionIsLTR = winnerSelectionIsLTR;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet resultingSelection: Selection;\n\t\t\t\t\tif (resultingSelectionIsLTR) {\n\t\t\t\t\t\tresultingSelection = new Selection(resultingRange.startLineNumber, resultingRange.startColumn, resultingRange.endLineNumber, resultingRange.endColumn);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresultingSelection = new Selection(resultingRange.endLineNumber, resultingRange.endColumn, resultingRange.startLineNumber, resultingRange.startColumn);\n\t\t\t\t\t}\n\n\t\t\t\t\tsortedCursors[winnerSortedCursorIndex].selection = resultingSelection;\n\t\t\t\t\tconst resultingState = CursorState.fromModelSelection(resultingSelection);\n\t\t\t\t\tcursors[winnerIndex].setState(this.context, resultingState.modelState, resultingState.viewState);\n\t\t\t\t}\n\n\t\t\t\tfor (const sortedCursor of sortedCursors) {\n\t\t\t\t\tif (sortedCursor.index > looserIndex) {\n\t\t\t\t\t\tsortedCursor.index--;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcursors.splice(looserIndex, 1);\n\t\t\t\tsortedCursors.splice(looserSortedCursorIndex, 1);\n\t\t\t\tthis._removeSecondaryCursor(looserIndex - 1);\n\n\t\t\t\tsortedCursorIndex--;\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}