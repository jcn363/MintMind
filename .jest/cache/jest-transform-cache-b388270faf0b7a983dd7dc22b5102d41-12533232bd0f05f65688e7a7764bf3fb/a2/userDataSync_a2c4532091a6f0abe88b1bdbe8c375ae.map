{"version":3,"names":["cov_2rmnledulx","actualCoverage","distinct","isObject","isString","localize","allSettings","Extensions","ConfigurationExtensions","getAllConfigurationProperties","parseScope","EXTENSION_IDENTIFIER_PATTERN","createDecorator","JSONExtensions","Registry","getDisallowedIgnoredSettings","f","s","as","Configuration","getConfigurationProperties","Object","keys","filter","setting","disallowSyncIgnore","getDefaultIgnoredSettings","excludeExtensions","b","ignoredSettings","getIgnoredSettings","disallowedSettings","getIgnoredSettingsForExtension","manifest","contributes","configuration","configurations","Array","isArray","length","properties","Set","key","source","scope","ignoreSync","add","values","USER_DATA_SYNC_CONFIGURATION_SCOPE","CONFIG_SYNC_KEYBINDINGS_PER_PLATFORM","registerConfiguration","ignoredSettingsSchemaId","configurationRegistry","id","order","title","type","description","default","tags","markdownDescription","items","pattern","errorMessage","uniqueItems","$ref","additionalProperties","jsonRegistry","JSONContribution","registerIgnoredSettingsSchema","disallowedIgnoredSettings","defaultIgnoredSettings","settings","includes","ignoredSettingsSchema","enum","map","registerSchema","onDidUpdateConfiguration","NON_EXISTING_RESOURCE_REF","isAuthenticationProvider","thing","scopes","ALL_SYNC_RESOURCES","getPathSegments","collection","paths","getLastSyncResourceUri","syncResource","environmentService","extUri","joinPath","userDataSyncHome","isUserDataManifest","session","ref","latest","undefined","collections","IUserDataSyncStoreManagementService","IUserDataSyncStoreService","IUserDataSyncLocalStoreService","HEADER_OPERATION_ID","HEADER_EXECUTION_ID","createSyncHeaders","executionId","headers","UserDataSyncError","Error","code","resource","operationId","constructor","message","name","UserDataSyncStoreError","url","serverCode","UserDataAutoSyncError","toUserDataSyncError","error","match","exec","SYNC_SERVICE_URL_TYPE","getEnablementKey","IUserDataSyncEnablementService","IUserDataSyncService","IUserDataSyncResourceProviderService","IUserDataAutoSyncService","IUserDataSyncUtilService","IUserDataSyncLogService","USER_DATA_SYNC_LOG_ID","USER_DATA_SYNC_SCHEME","PREVIEW_DIR_NAME"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/userDataSync/common/userDataSync.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { distinct } from '../../../base/common/arrays.js';\nimport { VSBufferReadableStream } from '../../../base/common/buffer.js';\nimport { IStringDictionary } from '../../../base/common/collections.js';\nimport { Event } from '../../../base/common/event.js';\nimport { FormattingOptions } from '../../../base/common/jsonFormatter.js';\nimport { IJSONSchema } from '../../../base/common/jsonSchema.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { IExtUri } from '../../../base/common/resources.js';\nimport { isObject, isString } from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IHeaders } from '../../../base/parts/request/common/request.js';\nimport { localize } from '../../../nls.js';\nimport { allSettings, ConfigurationScope, Extensions as ConfigurationExtensions, IConfigurationRegistry, IRegisteredConfigurationPropertySchema, getAllConfigurationProperties, parseScope } from '../../configuration/common/configurationRegistry.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { EXTENSION_IDENTIFIER_PATTERN, IExtensionIdentifier } from '../../extensionManagement/common/extensionManagement.js';\nimport { IExtensionManifest } from '../../extensions/common/extensions.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { Extensions as JSONExtensions, IJSONContributionRegistry } from '../../jsonschemas/common/jsonContributionRegistry.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { Registry } from '../../registry/common/platform.js';\nimport { IUserDataProfile, UseDefaultProfileFlags } from '../../userDataProfile/common/userDataProfile.js';\nimport { IUserDataSyncMachine } from './userDataSyncMachines.js';\n\nexport function getDisallowedIgnoredSettings(): string[] {\n\tconst allSettings = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).getConfigurationProperties();\n\treturn Object.keys(allSettings).filter(setting => !!allSettings[setting].disallowSyncIgnore);\n}\n\nexport function getDefaultIgnoredSettings(excludeExtensions: boolean = false): string[] {\n\tconst allSettings = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).getConfigurationProperties();\n\tconst ignoredSettings = getIgnoredSettings(allSettings, excludeExtensions);\n\tconst disallowedSettings = getDisallowedIgnoredSettings();\n\treturn distinct([...ignoredSettings, ...disallowedSettings]);\n}\n\nexport function getIgnoredSettingsForExtension(manifest: IExtensionManifest): string[] {\n\tif (!manifest.contributes?.configuration) {\n\t\treturn [];\n\t}\n\tconst configurations = Array.isArray(manifest.contributes.configuration) ? manifest.contributes.configuration : [manifest.contributes.configuration];\n\tif (!configurations.length) {\n\t\treturn [];\n\t}\n\tconst properties = getAllConfigurationProperties(configurations);\n\treturn getIgnoredSettings(properties, false);\n}\n\nfunction getIgnoredSettings(properties: IStringDictionary<IRegisteredConfigurationPropertySchema>, excludeExtensions: boolean): string[] {\n\tconst ignoredSettings = new Set<string>();\n\tfor (const key in properties) {\n\t\tif (excludeExtensions && !!properties[key].source) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst scope = isString(properties[key].scope) ? parseScope(properties[key].scope) : properties[key].scope;\n\t\tif (properties[key].ignoreSync\n\t\t\t|| scope === ConfigurationScope.MACHINE\n\t\t\t|| scope === ConfigurationScope.MACHINE_OVERRIDABLE\n\t\t) {\n\t\t\tignoredSettings.add(key);\n\t\t}\n\t}\n\treturn [...ignoredSettings.values()];\n}\n\nexport const USER_DATA_SYNC_CONFIGURATION_SCOPE = 'settingsSync';\n\nexport interface IUserDataSyncConfiguration {\n\tkeybindingsPerPlatform?: boolean;\n\tignoredExtensions?: string[];\n\tignoredSettings?: string[];\n}\n\nexport const CONFIG_SYNC_KEYBINDINGS_PER_PLATFORM = 'settingsSync.keybindingsPerPlatform';\n\nexport function registerConfiguration(): IDisposable {\n\tconst ignoredSettingsSchemaId = 'vscode://schemas/ignoredSettings';\n\tconst configurationRegistry = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration);\n\tconfigurationRegistry.registerConfiguration({\n\t\tid: 'settingsSync',\n\t\torder: 30,\n\t\ttitle: localize('settings sync', \"Settings Sync\"),\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\t[CONFIG_SYNC_KEYBINDINGS_PER_PLATFORM]: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdescription: localize('settingsSync.keybindingsPerPlatform', \"Synchronize keybindings for each platform.\"),\n\t\t\t\tdefault: true,\n\t\t\t\tscope: ConfigurationScope.APPLICATION,\n\t\t\t\ttags: ['sync', 'usesOnlineServices']\n\t\t\t},\n\t\t\t'settingsSync.ignoredExtensions': {\n\t\t\t\t'type': 'array',\n\t\t\t\tmarkdownDescription: localize('settingsSync.ignoredExtensions', \"List of extensions to be ignored while synchronizing. The identifier of an extension is always `${publisher}.${name}`. For example: `vscode.csharp`.\"),\n\t\t\t\titems: [{\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tpattern: EXTENSION_IDENTIFIER_PATTERN,\n\t\t\t\t\terrorMessage: localize('app.extension.identifier.errorMessage', \"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'.\")\n\t\t\t\t}],\n\t\t\t\t'default': [],\n\t\t\t\t'scope': ConfigurationScope.APPLICATION,\n\t\t\t\tuniqueItems: true,\n\t\t\t\tdisallowSyncIgnore: true,\n\t\t\t\ttags: ['sync', 'usesOnlineServices']\n\t\t\t},\n\t\t\t'settingsSync.ignoredSettings': {\n\t\t\t\t'type': 'array',\n\t\t\t\tdescription: localize('settingsSync.ignoredSettings', \"Configure settings to be ignored while synchronizing.\"),\n\t\t\t\t'default': [],\n\t\t\t\t'scope': ConfigurationScope.APPLICATION,\n\t\t\t\t$ref: ignoredSettingsSchemaId,\n\t\t\t\tadditionalProperties: true,\n\t\t\t\tuniqueItems: true,\n\t\t\t\tdisallowSyncIgnore: true,\n\t\t\t\ttags: ['sync', 'usesOnlineServices']\n\t\t\t}\n\t\t}\n\t});\n\tconst jsonRegistry = Registry.as<IJSONContributionRegistry>(JSONExtensions.JSONContribution);\n\tconst registerIgnoredSettingsSchema = () => {\n\t\tconst disallowedIgnoredSettings = getDisallowedIgnoredSettings();\n\t\tconst defaultIgnoredSettings = getDefaultIgnoredSettings();\n\t\tconst settings = Object.keys(allSettings.properties).filter(setting => !defaultIgnoredSettings.includes(setting));\n\t\tconst ignoredSettings = defaultIgnoredSettings.filter(setting => !disallowedIgnoredSettings.includes(setting));\n\t\tconst ignoredSettingsSchema: IJSONSchema = {\n\t\t\titems: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: [...settings, ...ignoredSettings.map(setting => `-${setting}`)]\n\t\t\t},\n\t\t};\n\t\tjsonRegistry.registerSchema(ignoredSettingsSchemaId, ignoredSettingsSchema);\n\t};\n\treturn configurationRegistry.onDidUpdateConfiguration(() => registerIgnoredSettingsSchema());\n}\n\n// #region User Data Sync Store\n\nexport const NON_EXISTING_RESOURCE_REF = '0';\n\nexport interface IUserData {\n\tref: string;\n\tcontent: string | null;\n}\n\nexport type IAuthenticationProvider = { id: string; scopes: string[] };\n\nexport interface IUserDataSyncStore {\n\treadonly url: URI;\n\treadonly type: UserDataSyncStoreType;\n\treadonly defaultUrl: URI;\n\treadonly stableUrl: URI;\n\treadonly insidersUrl: URI;\n\treadonly canSwitch: boolean;\n\treadonly authenticationProviders: IAuthenticationProvider[];\n}\n\nexport function isAuthenticationProvider(thing: any): thing is IAuthenticationProvider {\n\treturn thing\n\t\t&& isObject(thing)\n\t\t&& isString(thing.id)\n\t\t&& Array.isArray(thing.scopes);\n}\n\nexport const enum SyncResource {\n\tSettings = 'settings',\n\tKeybindings = 'keybindings',\n\tSnippets = 'snippets',\n\tPrompts = 'prompts',\n\tTasks = 'tasks',\n\tMcp = 'mcp',\n\tExtensions = 'extensions',\n\tGlobalState = 'globalState',\n\tProfiles = 'profiles',\n\tWorkspaceState = 'workspaceState',\n}\nexport const ALL_SYNC_RESOURCES: SyncResource[] = [SyncResource.Settings, SyncResource.Keybindings, SyncResource.Snippets, SyncResource.Prompts, SyncResource.Tasks, SyncResource.Extensions, SyncResource.GlobalState, SyncResource.Profiles, SyncResource.Mcp];\n\nexport function getPathSegments(collection: string | undefined, ...paths: string[]): string[] {\n\treturn collection ? [collection, ...paths] : paths;\n}\n\nexport function getLastSyncResourceUri(collection: string | undefined, syncResource: SyncResource, environmentService: IEnvironmentService, extUri: IExtUri): URI {\n\treturn extUri.joinPath(environmentService.userDataSyncHome, ...getPathSegments(collection, syncResource, `lastSync${syncResource}.json`));\n}\n\nexport type IUserDataResourceManifest = Record<ServerResource, string>;\n\nexport interface IUserDataCollectionManifest {\n\t[collectionId: string]: {\n\t\treadonly latest?: IUserDataResourceManifest;\n\t};\n}\n\nexport interface IUserDataManifest {\n\treadonly latest?: IUserDataResourceManifest;\n\treadonly session: string;\n\treadonly ref: string;\n\treadonly collections?: IUserDataCollectionManifest;\n}\n\nexport function isUserDataManifest(thing: any): thing is IUserDataManifest {\n\treturn thing\n\t\t&& isString(thing.session)\n\t\t&& isString(thing.ref)\n\t\t&& (isObject(thing.latest) || thing.latest === undefined)\n\t\t&& (isObject(thing.collections) || thing.collections === undefined);\n}\n\nexport interface IUserDataSyncActivityData {\n\tresources?: {\n\t\t[resourceId: string]: { created: number; content: string }[];\n\t};\n\tcollections?: {\n\t\t[collectionId: string]: {\n\t\t\tresources?: {\n\t\t\t\t[resourceId: string]: { created: number; content: string }[];\n\t\t\t} | undefined;\n\t\t};\n\t};\n}\n\nexport interface IUserDataSyncLatestData {\n\tresources?: IStringDictionary<IUserData>;\n\tcollections?: {\n\t\t[collectionId: string]: {\n\t\t\tresources?: IStringDictionary<IUserData>;\n\t\t};\n\t};\n}\n\nexport interface IResourceRefHandle {\n\tref: string;\n\tcreated: number;\n}\n\nexport type ServerResource = SyncResource | 'machines' | 'editSessions' | 'workspaceState';\nexport type UserDataSyncStoreType = 'insiders' | 'stable';\n\nexport const IUserDataSyncStoreManagementService = createDecorator<IUserDataSyncStoreManagementService>('IUserDataSyncStoreManagementService');\nexport interface IUserDataSyncStoreManagementService {\n\treadonly _serviceBrand: undefined;\n\treadonly onDidChangeUserDataSyncStore: Event<void>;\n\treadonly userDataSyncStore: IUserDataSyncStore | undefined;\n\tswitch(type: UserDataSyncStoreType): Promise<void>;\n\tgetPreviousUserDataSyncStore(): Promise<IUserDataSyncStore | undefined>;\n}\n\nexport const IUserDataSyncStoreService = createDecorator<IUserDataSyncStoreService>('IUserDataSyncStoreService');\nexport interface IUserDataSyncStoreService {\n\treadonly _serviceBrand: undefined;\n\treadonly onDidChangeDonotMakeRequestsUntil: Event<void>;\n\treadonly donotMakeRequestsUntil: Date | undefined;\n\n\treadonly onTokenFailed: Event<UserDataSyncErrorCode>;\n\treadonly onTokenSucceed: Event<void>;\n\tsetAuthToken(token: string, type: string): void;\n\n\tmanifest(oldValue: IUserDataManifest | null, headers?: IHeaders): Promise<IUserDataManifest | null>;\n\treadResource(resource: ServerResource, oldValue: IUserData | null, collection?: string, headers?: IHeaders): Promise<IUserData>;\n\twriteResource(resource: ServerResource, content: string, ref: string | null, collection?: string, headers?: IHeaders): Promise<string>;\n\tdeleteResource(resource: ServerResource, ref: string | null, collection?: string): Promise<void>;\n\tgetAllResourceRefs(resource: ServerResource, collection?: string): Promise<IResourceRefHandle[]>;\n\tresolveResourceContent(resource: ServerResource, ref: string, collection?: string, headers?: IHeaders): Promise<string | null>;\n\n\tgetAllCollections(headers?: IHeaders): Promise<string[]>;\n\tcreateCollection(headers?: IHeaders): Promise<string>;\n\tdeleteCollection(collection?: string, headers?: IHeaders): Promise<void>;\n\n\tgetLatestData(headers?: IHeaders): Promise<IUserDataSyncLatestData | null>;\n\tgetActivityData(): Promise<VSBufferReadableStream>;\n\n\tclear(): Promise<void>;\n}\n\nexport const IUserDataSyncLocalStoreService = createDecorator<IUserDataSyncLocalStoreService>('IUserDataSyncLocalStoreService');\nexport interface IUserDataSyncLocalStoreService {\n\treadonly _serviceBrand: undefined;\n\twriteResource(resource: ServerResource, content: string, cTime: Date, collection?: string, root?: URI): Promise<void>;\n\tgetAllResourceRefs(resource: ServerResource, collection?: string, root?: URI): Promise<IResourceRefHandle[]>;\n\tresolveResourceContent(resource: ServerResource, ref: string, collection?: string, root?: URI): Promise<string | null>;\n}\n\n//#endregion\n\n// #region User Data Sync Headers\n\nexport const HEADER_OPERATION_ID = 'x-operation-id';\nexport const HEADER_EXECUTION_ID = 'X-Execution-Id';\n\nexport function createSyncHeaders(executionId: string): IHeaders {\n\tconst headers: IHeaders = {};\n\theaders[HEADER_EXECUTION_ID] = executionId;\n\treturn headers;\n}\n\n//#endregion\n\n// #region User Data Sync Error\n\nexport const enum UserDataSyncErrorCode {\n\t// Client Errors (>= 400 )\n\tUnauthorized = 'Unauthorized', /* 401 */\n\tForbidden = 'Forbidden', /* 403 */\n\tNotFound = 'NotFound', /* 404 */\n\tMethodNotFound = 'MethodNotFound', /* 405 */\n\tConflict = 'Conflict', /* 409 */\n\tGone = 'Gone', /* 410 */\n\tPreconditionFailed = 'PreconditionFailed', /* 412 */\n\tTooLarge = 'TooLarge', /* 413 */\n\tUpgradeRequired = 'UpgradeRequired', /* 426 */\n\tPreconditionRequired = 'PreconditionRequired', /* 428 */\n\tTooManyRequests = 'RemoteTooManyRequests', /* 429 */\n\tTooManyRequestsAndRetryAfter = 'TooManyRequestsAndRetryAfter', /* 429 + Retry-After */\n\n\t// Local Errors\n\tRequestFailed = 'RequestFailed',\n\tRequestCanceled = 'RequestCanceled',\n\tRequestTimeout = 'RequestTimeout',\n\tRequestProtocolNotSupported = 'RequestProtocolNotSupported',\n\tRequestPathNotEscaped = 'RequestPathNotEscaped',\n\tRequestHeadersNotObject = 'RequestHeadersNotObject',\n\tNoCollection = 'NoCollection',\n\tNoRef = 'NoRef',\n\tEmptyResponse = 'EmptyResponse',\n\tTurnedOff = 'TurnedOff',\n\tSessionExpired = 'SessionExpired',\n\tServiceChanged = 'ServiceChanged',\n\tDefaultServiceChanged = 'DefaultServiceChanged',\n\tLocalTooManyProfiles = 'LocalTooManyProfiles',\n\tLocalTooManyRequests = 'LocalTooManyRequests',\n\tLocalPreconditionFailed = 'LocalPreconditionFailed',\n\tLocalInvalidContent = 'LocalInvalidContent',\n\tLocalError = 'LocalError',\n\tIncompatibleLocalContent = 'IncompatibleLocalContent',\n\tIncompatibleRemoteContent = 'IncompatibleRemoteContent',\n\n\tUnknown = 'Unknown',\n}\n\nexport class UserDataSyncError extends Error {\n\n\tconstructor(\n\t\tmessage: string,\n\t\treadonly code: UserDataSyncErrorCode,\n\t\treadonly resource?: SyncResource,\n\t\treadonly operationId?: string\n\t) {\n\t\tsuper(message);\n\t\tthis.name = `${this.code} (UserDataSyncError) syncResource:${this.resource || 'unknown'} operationId:${this.operationId || 'unknown'}`;\n\t}\n\n}\n\nexport class UserDataSyncStoreError extends UserDataSyncError {\n\tconstructor(message: string, readonly url: string, code: UserDataSyncErrorCode, readonly serverCode: number | undefined, operationId: string | undefined) {\n\t\tsuper(message, code, undefined, operationId);\n\t}\n}\n\nexport class UserDataAutoSyncError extends UserDataSyncError {\n\tconstructor(message: string, code: UserDataSyncErrorCode) {\n\t\tsuper(message, code);\n\t}\n}\n\nexport namespace UserDataSyncError {\n\n\texport function toUserDataSyncError(error: Error): UserDataSyncError {\n\t\tif (error instanceof UserDataSyncError) {\n\t\t\treturn error;\n\t\t}\n\t\tconst match = /^(.+) \\(UserDataSyncError\\) syncResource:(.+) operationId:(.+)$/.exec(error.name);\n\t\tif (match && match[1]) {\n\t\t\tconst syncResource = match[2] === 'unknown' ? undefined : match[2] as SyncResource;\n\t\t\tconst operationId = match[3] === 'unknown' ? undefined : match[3];\n\t\t\treturn new UserDataSyncError(error.message, <UserDataSyncErrorCode>match[1], syncResource, operationId);\n\t\t}\n\t\treturn new UserDataSyncError(error.message, UserDataSyncErrorCode.Unknown);\n\t}\n\n}\n\n//#endregion\n\n// #region User Data Synchroniser\n\nexport interface ISyncUserDataProfile {\n\treadonly id: string;\n\treadonly collection: string;\n\treadonly name: string;\n\treadonly icon?: string;\n\treadonly useDefaultFlags?: UseDefaultProfileFlags;\n}\n\nexport type ISyncExtension = ILocalSyncExtension | IRemoteSyncExtension;\n\nexport interface ILocalSyncExtension {\n\tidentifier: IExtensionIdentifier;\n\tpinned: boolean;\n\tversion: string;\n\tpreRelease: boolean;\n\tdisabled?: boolean;\n\tinstalled?: boolean;\n\tisApplicationScoped?: boolean;\n\tstate?: IStringDictionary<any>;\n}\n\nexport interface IRemoteSyncExtension {\n\tidentifier: IExtensionIdentifier;\n\tversion: string;\n\tpinned?: boolean;\n\tpreRelease?: boolean;\n\tdisabled?: boolean;\n\tinstalled?: boolean;\n\tisApplicationScoped?: boolean;\n\tstate?: IStringDictionary<any>;\n}\n\nexport interface IStorageValue {\n\tversion: number;\n\tvalue: string;\n}\n\nexport interface IGlobalState {\n\tstorage: IStringDictionary<IStorageValue>;\n}\n\nexport interface IWorkspaceState {\n\tfolders: IWorkspaceStateFolder[];\n\tstorage: IStringDictionary<string>;\n\tversion: number;\n}\n\nexport interface IWorkspaceStateFolder {\n\tresourceUri: string;\n\tworkspaceFolderIdentity: string;\n}\n\nexport const enum SyncStatus {\n\tUninitialized = 'uninitialized',\n\tIdle = 'idle',\n\tSyncing = 'syncing',\n\tHasConflicts = 'hasConflicts',\n}\n\nexport interface ISyncResourceHandle {\n\tcreated: number;\n\turi: URI;\n}\n\nexport interface IRemoteUserData {\n\tref: string;\n\tsyncData: ISyncData | null;\n}\n\nexport interface ISyncData {\n\tversion: number;\n\tmachineId?: string;\n\tcontent: string;\n}\n\nexport const enum Change {\n\tNone,\n\tAdded,\n\tModified,\n\tDeleted,\n}\n\nexport const enum MergeState {\n\tPreview = 'preview',\n\tConflict = 'conflict',\n\tAccepted = 'accepted',\n}\n\nexport interface IResourcePreview {\n\treadonly baseResource: URI;\n\treadonly remoteResource: URI;\n\treadonly localResource: URI;\n\treadonly previewResource: URI;\n\treadonly acceptedResource: URI;\n\treadonly localChange: Change;\n\treadonly remoteChange: Change;\n\treadonly mergeState: MergeState;\n}\n\nexport interface IUserDataSyncResource {\n\treadonly syncResource: SyncResource;\n\treadonly profile: IUserDataProfile;\n}\n\nexport interface IUserDataSyncResourceConflicts extends IUserDataSyncResource {\n\treadonly conflicts: IResourcePreview[];\n}\n\nexport interface IUserDataSyncResourcePreview extends IUserDataSyncResource {\n\treadonly isLastSyncFromCurrentMachine: boolean;\n\treadonly resourcePreviews: IResourcePreview[];\n}\n\nexport interface IUserDataSyncResourceError extends IUserDataSyncResource {\n\treadonly error: UserDataSyncError;\n}\n\nexport interface IUserDataSyncResourceInitializer {\n\tinitialize(userData: IUserData): Promise<void>;\n}\n\nexport interface IUserDataSynchroniser {\n\n\treadonly resource: SyncResource;\n\treadonly status: SyncStatus;\n\treadonly onDidChangeStatus: Event<SyncStatus>;\n\n\treadonly conflicts: IUserDataSyncResourceConflicts;\n\treadonly onDidChangeConflicts: Event<IUserDataSyncResourceConflicts>;\n\n\treadonly onDidChangeLocal: Event<void>;\n\n\tsync(refOrUserData: string | IUserData | null, preview: boolean, userDataSyncConfiguration: IUserDataSyncConfiguration, headers: IHeaders): Promise<IUserDataSyncResourcePreview | null>;\n\taccept(resource: URI, content?: string | null): Promise<IUserDataSyncResourcePreview | null>;\n\tapply(force: boolean, headers: IHeaders): Promise<IUserDataSyncResourcePreview | null>;\n\tstop(): Promise<void>;\n\n\thasPreviouslySynced(): Promise<boolean>;\n\thasLocalData(): Promise<boolean>;\n\tresetLocal(): Promise<void>;\n\n\tresolveContent(resource: URI): Promise<string | null>;\n\treplace(content: string): Promise<boolean>;\n}\n\n//#endregion\n\n// #region keys synced only in web\n\nexport const SYNC_SERVICE_URL_TYPE = 'sync.store.url.type';\nexport function getEnablementKey(resource: SyncResource) { return `sync.enable.${resource}`; }\n\n// #endregion\n\n// #region User Data Sync Services\nexport const IUserDataSyncEnablementService = createDecorator<IUserDataSyncEnablementService>('IUserDataSyncEnablementService');\nexport interface IUserDataSyncEnablementService {\n\t_serviceBrand: undefined;\n\n\treadonly onDidChangeEnablement: Event<boolean>;\n\tisEnabled(): boolean;\n\tcanToggleEnablement(): boolean;\n\tsetEnablement(enabled: boolean): void;\n\n\treadonly onDidChangeResourceEnablement: Event<[SyncResource, boolean]>;\n\tisResourceEnabled(resource: SyncResource, defaultValue?: boolean): boolean;\n\tsetResourceEnablement(resource: SyncResource, enabled: boolean): void;\n\n\tgetResourceSyncStateVersion(resource: SyncResource): string | undefined;\n\n\t/**\n\t * Checks if resource enabled was explicitly configured before,\n\t * ignoring its default enablement value used in {@link isResourceEnabled}.\n\t */\n\tisResourceEnablementConfigured(resource: SyncResource): boolean;\n}\n\nexport interface IUserDataSyncTask {\n\treadonly manifest: IUserDataManifest | null;\n\trun(): Promise<void>;\n\tstop(): Promise<void>;\n}\n\nexport interface IUserDataManualSyncTask {\n\treadonly id: string;\n\tmerge(): Promise<void>;\n\tapply(): Promise<void>;\n\tstop(): Promise<void>;\n}\n\nexport const IUserDataSyncService = createDecorator<IUserDataSyncService>('IUserDataSyncService');\nexport interface IUserDataSyncService {\n\t_serviceBrand: undefined;\n\n\treadonly status: SyncStatus;\n\treadonly onDidChangeStatus: Event<SyncStatus>;\n\n\treadonly conflicts: IUserDataSyncResourceConflicts[];\n\treadonly onDidChangeConflicts: Event<IUserDataSyncResourceConflicts[]>;\n\n\treadonly onDidChangeLocal: Event<SyncResource>;\n\treadonly onSyncErrors: Event<IUserDataSyncResourceError[]>;\n\n\treadonly lastSyncTime: number | undefined;\n\treadonly onDidChangeLastSyncTime: Event<number>;\n\n\treadonly onDidResetRemote: Event<void>;\n\treadonly onDidResetLocal: Event<void>;\n\n\tcreateSyncTask(manifest: IUserDataManifest | null, disableCache?: boolean): Promise<IUserDataSyncTask>;\n\tcreateManualSyncTask(): Promise<IUserDataManualSyncTask>;\n\tresolveContent(resource: URI): Promise<string | null>;\n\taccept(syncResource: IUserDataSyncResource, resource: URI, content: string | null | undefined, apply: boolean | { force: boolean }): Promise<void>;\n\n\treset(): Promise<void>;\n\tresetRemote(): Promise<void>;\n\tcleanUpRemoteData(): Promise<void>;\n\tresetLocal(): Promise<void>;\n\thasLocalData(): Promise<boolean>;\n\thasPreviouslySynced(): Promise<boolean>;\n\n\treplace(syncResourceHandle: ISyncResourceHandle): Promise<void>;\n\n\tsaveRemoteActivityData(location: URI): Promise<void>;\n\textractActivityData(activityDataResource: URI, location: URI): Promise<void>;\n}\n\nexport const IUserDataSyncResourceProviderService = createDecorator<IUserDataSyncResourceProviderService>('IUserDataSyncResourceProviderService');\nexport interface IUserDataSyncResourceProviderService {\n\t_serviceBrand: undefined;\n\tgetRemoteSyncedProfiles(): Promise<ISyncUserDataProfile[]>;\n\tgetLocalSyncedProfiles(location?: URI): Promise<ISyncUserDataProfile[]>;\n\tgetRemoteSyncResourceHandles(syncResource: SyncResource, profile?: ISyncUserDataProfile): Promise<ISyncResourceHandle[]>;\n\tgetLocalSyncResourceHandles(syncResource: SyncResource, profile?: ISyncUserDataProfile, location?: URI): Promise<ISyncResourceHandle[]>;\n\tgetAssociatedResources(syncResourceHandle: ISyncResourceHandle): Promise<{ resource: URI; comparableResource: URI }[]>;\n\tgetMachineId(syncResourceHandle: ISyncResourceHandle): Promise<string | undefined>;\n\tgetLocalSyncedMachines(location?: URI): Promise<IUserDataSyncMachine[]>;\n\tresolveContent(resource: URI): Promise<string | null>;\n\tresolveUserDataSyncResource(syncResourceHandle: ISyncResourceHandle): IUserDataSyncResource | undefined;\n}\n\nexport type SyncOptions = { immediately?: boolean; skipIfSyncedRecently?: boolean; disableCache?: boolean };\n\nexport const IUserDataAutoSyncService = createDecorator<IUserDataAutoSyncService>('IUserDataAutoSyncService');\nexport interface IUserDataAutoSyncService {\n\t_serviceBrand: undefined;\n\treadonly onError: Event<UserDataSyncError>;\n\tturnOn(): Promise<void>;\n\tturnOff(everywhere: boolean): Promise<void>;\n\ttriggerSync(sources: string[], options?: SyncOptions): Promise<void>;\n}\n\nexport const IUserDataSyncUtilService = createDecorator<IUserDataSyncUtilService>('IUserDataSyncUtilService');\nexport interface IUserDataSyncUtilService {\n\treadonly _serviceBrand: undefined;\n\tresolveUserBindings(userbindings: string[]): Promise<IStringDictionary<string>>;\n\tresolveFormattingOptions(resource: URI): Promise<FormattingOptions>;\n\tresolveDefaultCoreIgnoredSettings(): Promise<string[]>;\n}\n\nexport const IUserDataSyncLogService = createDecorator<IUserDataSyncLogService>('IUserDataSyncLogService');\nexport interface IUserDataSyncLogService extends ILogService { }\n\nexport interface IConflictSetting {\n\tkey: string;\n\tlocalValue: any | undefined;\n\tremoteValue: any | undefined;\n}\n\n//#endregion\n\nexport const USER_DATA_SYNC_LOG_ID = 'userDataSync';\nexport const USER_DATA_SYNC_SCHEME = 'vscode-userdata-sync';\nexport const PREVIEW_DIR_NAME = 'preview';\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}