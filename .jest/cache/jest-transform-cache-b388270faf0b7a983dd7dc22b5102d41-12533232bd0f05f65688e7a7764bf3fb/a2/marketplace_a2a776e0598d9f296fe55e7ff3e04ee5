0a6cad8aebe6dbc1db48bde035bc741c
/* istanbul ignore next */
function cov_1q35jnugmy() {
  var path = "/home/user/Desktop/MintMind/src/vs/platform/externalServices/common/marketplace.ts";
  var hash = "3936603cabdb146df6019f85ceb0b23554fbbeea";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/platform/externalServices/common/marketplace.ts",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 20
        },
        end: {
          line: 11,
          column: 5
        }
      },
      "1": {
        start: {
          line: 12,
          column: 4
        },
        end: {
          line: 19,
          column: 5
        }
      },
      "2": {
        start: {
          line: 13,
          column: 33
        },
        end: {
          line: 13,
          column: 107
        }
      },
      "3": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 55
        }
      },
      "4": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 18,
          column: 85
        }
      },
      "5": {
        start: {
          line: 20,
          column: 4
        },
        end: {
          line: 20,
          column: 19
        }
      }
    },
    fnMap: {
      "0": {
        name: "resolveMarketplaceHeaders",
        decl: {
          start: {
            line: 7,
            column: 22
          },
          end: {
            line: 7,
            column: 47
          }
        },
        loc: {
          start: {
            line: 7,
            column: 162
          },
          end: {
            line: 21,
            column: 1
          }
        },
        line: 7
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 12
      },
      "1": {
        loc: {
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 12,
            column: 110
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 12,
            column: 8
          },
          end: {
            line: 12,
            column: 61
          }
        }, {
          start: {
            line: 12,
            column: 65
          },
          end: {
            line: 12,
            column: 110
          }
        }],
        line: 12
      },
      "2": {
        loc: {
          start: {
            line: 18,
            column: 38
          },
          end: {
            line: 18,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 18,
            column: 38
          },
          end: {
            line: 18,
            column: 64
          }
        }, {
          start: {
            line: 18,
            column: 68
          },
          end: {
            line: 18,
            column: 84
          }
        }],
        line: 18
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/platform/externalServices/common/marketplace.ts",
      mappings: "AAAA;;;gGAGgG;AAKhG,OAAO,EAAE,mBAAmB,EAAE,MAAM,uBAAuB,CAAC;AAK5D,OAAO,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,0CAA0C,CAAC;AAEhG,MAAM,CAAC,KAAK,UAAU,yBAAyB,CAAC,OAAe,EAC9D,cAA+B,EAC/B,kBAAuC,EACvC,oBAA2C,EAC3C,WAAyB,EACzB,cAA2C,EAC3C,gBAAmC;IAEnC,MAAM,OAAO,GAAa;QACzB,oBAAoB,EAAE,UAAU,OAAO,EAAE;QACzC,YAAY,EAAE,UAAU,OAAO,KAAK,cAAc,CAAC,SAAS,GAAG;KAC/D,CAAC;IAEF,IAAI,iBAAiB,CAAC,cAAc,EAAE,kBAAkB,CAAC,IAAI,iBAAiB,CAAC,oBAAoB,CAAC,iCAAyB,EAAE,CAAC;QAC/H,MAAM,gBAAgB,GAAG,MAAM,mBAAmB,CAAC,kBAAkB,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;QACpG,OAAO,CAAC,kBAAkB,CAAC,GAAG,gBAAgB,CAAC;QAC/C,oGAAoG;QACpG,iHAAiH;QACjH,6EAA6E;QAC7E,OAAO,CAAC,kBAAkB,CAAC,GAAG,gBAAgB,CAAC,SAAS,IAAI,gBAAgB,CAAC;IAC9E,CAAC;IAED,OAAO,OAAO,CAAC;AAChB,CAAC",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/platform/externalServices/common/marketplace.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IHeaders } from '../../../base/parts/request/common/request.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { getServiceMachineId } from './serviceMachineId.js';\nimport { IFileService } from '../../files/common/files.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService, TelemetryLevel } from '../../telemetry/common/telemetry.js';\nimport { getTelemetryLevel, supportsTelemetry } from '../../telemetry/common/telemetryUtils.js';\n\nexport async function resolveMarketplaceHeaders(version: string,\n\tproductService: IProductService,\n\tenvironmentService: IEnvironmentService,\n\tconfigurationService: IConfigurationService,\n\tfileService: IFileService,\n\tstorageService: IStorageService | undefined,\n\ttelemetryService: ITelemetryService): Promise<IHeaders> {\n\n\tconst headers: IHeaders = {\n\t\t'X-Market-Client-Id': `VSCode ${version}`,\n\t\t'User-Agent': `VSCode ${version} (${productService.nameShort})`\n\t};\n\n\tif (supportsTelemetry(productService, environmentService) && getTelemetryLevel(configurationService) === TelemetryLevel.USAGE) {\n\t\tconst serviceMachineId = await getServiceMachineId(environmentService, fileService, storageService);\n\t\theaders['X-Market-User-Id'] = serviceMachineId;\n\t\t// Send machineId as VSCode-SessionId so we can correlate telemetry events across different services\n\t\t// machineId can be undefined sometimes (eg: when launching from CLI), so send serviceMachineId instead otherwise\n\t\t// Marketplace will reject the request if there is no VSCode-SessionId header\n\t\theaders['VSCode-SessionId'] = telemetryService.machineId || serviceMachineId;\n\t}\n\n\treturn headers;\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "3936603cabdb146df6019f85ceb0b23554fbbeea"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1q35jnugmy = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1q35jnugmy();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { getServiceMachineId } from './serviceMachineId.js';
import { getTelemetryLevel, supportsTelemetry } from '../../telemetry/common/telemetryUtils.js';
export async function resolveMarketplaceHeaders(version, productService, environmentService, configurationService, fileService, storageService, telemetryService) {
  /* istanbul ignore next */
  cov_1q35jnugmy().f[0]++;
  const headers =
  /* istanbul ignore next */
  (cov_1q35jnugmy().s[0]++, {
    'X-Market-Client-Id': `VSCode ${version}`,
    'User-Agent': `VSCode ${version} (${productService.nameShort})`
  });
  /* istanbul ignore next */
  cov_1q35jnugmy().s[1]++;
  if (
  /* istanbul ignore next */
  (cov_1q35jnugmy().b[1][0]++, supportsTelemetry(productService, environmentService)) &&
  /* istanbul ignore next */
  (cov_1q35jnugmy().b[1][1]++, getTelemetryLevel(configurationService) === 3) /* TelemetryLevel.USAGE */) {
    /* istanbul ignore next */
    cov_1q35jnugmy().b[0][0]++;
    const serviceMachineId =
    /* istanbul ignore next */
    (cov_1q35jnugmy().s[2]++, await getServiceMachineId(environmentService, fileService, storageService));
    /* istanbul ignore next */
    cov_1q35jnugmy().s[3]++;
    headers['X-Market-User-Id'] = serviceMachineId;
    // Send machineId as VSCode-SessionId so we can correlate telemetry events across different services
    // machineId can be undefined sometimes (eg: when launching from CLI), so send serviceMachineId instead otherwise
    // Marketplace will reject the request if there is no VSCode-SessionId header
    /* istanbul ignore next */
    cov_1q35jnugmy().s[4]++;
    headers['VSCode-SessionId'] =
    /* istanbul ignore next */
    (cov_1q35jnugmy().b[2][0]++, telemetryService.machineId) ||
    /* istanbul ignore next */
    (cov_1q35jnugmy().b[2][1]++, serviceMachineId);
  } else
  /* istanbul ignore next */
  {
    cov_1q35jnugmy().b[0][1]++;
  }
  cov_1q35jnugmy().s[5]++;
  return headers;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXEzNWpudWdteSIsImFjdHVhbENvdmVyYWdlIiwiZ2V0U2VydmljZU1hY2hpbmVJZCIsImdldFRlbGVtZXRyeUxldmVsIiwic3VwcG9ydHNUZWxlbWV0cnkiLCJyZXNvbHZlTWFya2V0cGxhY2VIZWFkZXJzIiwidmVyc2lvbiIsInByb2R1Y3RTZXJ2aWNlIiwiZW52aXJvbm1lbnRTZXJ2aWNlIiwiY29uZmlndXJhdGlvblNlcnZpY2UiLCJmaWxlU2VydmljZSIsInN0b3JhZ2VTZXJ2aWNlIiwidGVsZW1ldHJ5U2VydmljZSIsImYiLCJoZWFkZXJzIiwicyIsIm5hbWVTaG9ydCIsImIiLCJzZXJ2aWNlTWFjaGluZUlkIiwibWFjaGluZUlkIl0sInNvdXJjZXMiOlsiL2hvbWUvdXNlci9EZXNrdG9wL01pbnRNaW5kL3NyYy92cy9wbGF0Zm9ybS9leHRlcm5hbFNlcnZpY2VzL2NvbW1vbi9tYXJrZXRwbGFjZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgSUhlYWRlcnMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL3BhcnRzL3JlcXVlc3QvY29tbW9uL3JlcXVlc3QuanMnO1xuaW1wb3J0IHsgSUNvbmZpZ3VyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29uZmlndXJhdGlvbi9jb21tb24vY29uZmlndXJhdGlvbi5qcyc7XG5pbXBvcnQgeyBJRW52aXJvbm1lbnRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vZW52aXJvbm1lbnQvY29tbW9uL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IGdldFNlcnZpY2VNYWNoaW5lSWQgfSBmcm9tICcuL3NlcnZpY2VNYWNoaW5lSWQuanMnO1xuaW1wb3J0IHsgSUZpbGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vZmlsZXMvY29tbW9uL2ZpbGVzLmpzJztcbmltcG9ydCB7IElQcm9kdWN0U2VydmljZSB9IGZyb20gJy4uLy4uL3Byb2R1Y3QvY29tbW9uL3Byb2R1Y3RTZXJ2aWNlLmpzJztcbmltcG9ydCB7IElTdG9yYWdlU2VydmljZSB9IGZyb20gJy4uLy4uL3N0b3JhZ2UvY29tbW9uL3N0b3JhZ2UuanMnO1xuaW1wb3J0IHsgSVRlbGVtZXRyeVNlcnZpY2UsIFRlbGVtZXRyeUxldmVsIH0gZnJvbSAnLi4vLi4vdGVsZW1ldHJ5L2NvbW1vbi90ZWxlbWV0cnkuanMnO1xuaW1wb3J0IHsgZ2V0VGVsZW1ldHJ5TGV2ZWwsIHN1cHBvcnRzVGVsZW1ldHJ5IH0gZnJvbSAnLi4vLi4vdGVsZW1ldHJ5L2NvbW1vbi90ZWxlbWV0cnlVdGlscy5qcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNvbHZlTWFya2V0cGxhY2VIZWFkZXJzKHZlcnNpb246IHN0cmluZyxcblx0cHJvZHVjdFNlcnZpY2U6IElQcm9kdWN0U2VydmljZSxcblx0ZW52aXJvbm1lbnRTZXJ2aWNlOiBJRW52aXJvbm1lbnRTZXJ2aWNlLFxuXHRjb25maWd1cmF0aW9uU2VydmljZTogSUNvbmZpZ3VyYXRpb25TZXJ2aWNlLFxuXHRmaWxlU2VydmljZTogSUZpbGVTZXJ2aWNlLFxuXHRzdG9yYWdlU2VydmljZTogSVN0b3JhZ2VTZXJ2aWNlIHwgdW5kZWZpbmVkLFxuXHR0ZWxlbWV0cnlTZXJ2aWNlOiBJVGVsZW1ldHJ5U2VydmljZSk6IFByb21pc2U8SUhlYWRlcnM+IHtcblxuXHRjb25zdCBoZWFkZXJzOiBJSGVhZGVycyA9IHtcblx0XHQnWC1NYXJrZXQtQ2xpZW50LUlkJzogYFZTQ29kZSAke3ZlcnNpb259YCxcblx0XHQnVXNlci1BZ2VudCc6IGBWU0NvZGUgJHt2ZXJzaW9ufSAoJHtwcm9kdWN0U2VydmljZS5uYW1lU2hvcnR9KWBcblx0fTtcblxuXHRpZiAoc3VwcG9ydHNUZWxlbWV0cnkocHJvZHVjdFNlcnZpY2UsIGVudmlyb25tZW50U2VydmljZSkgJiYgZ2V0VGVsZW1ldHJ5TGV2ZWwoY29uZmlndXJhdGlvblNlcnZpY2UpID09PSBUZWxlbWV0cnlMZXZlbC5VU0FHRSkge1xuXHRcdGNvbnN0IHNlcnZpY2VNYWNoaW5lSWQgPSBhd2FpdCBnZXRTZXJ2aWNlTWFjaGluZUlkKGVudmlyb25tZW50U2VydmljZSwgZmlsZVNlcnZpY2UsIHN0b3JhZ2VTZXJ2aWNlKTtcblx0XHRoZWFkZXJzWydYLU1hcmtldC1Vc2VyLUlkJ10gPSBzZXJ2aWNlTWFjaGluZUlkO1xuXHRcdC8vIFNlbmQgbWFjaGluZUlkIGFzIFZTQ29kZS1TZXNzaW9uSWQgc28gd2UgY2FuIGNvcnJlbGF0ZSB0ZWxlbWV0cnkgZXZlbnRzIGFjcm9zcyBkaWZmZXJlbnQgc2VydmljZXNcblx0XHQvLyBtYWNoaW5lSWQgY2FuIGJlIHVuZGVmaW5lZCBzb21ldGltZXMgKGVnOiB3aGVuIGxhdW5jaGluZyBmcm9tIENMSSksIHNvIHNlbmQgc2VydmljZU1hY2hpbmVJZCBpbnN0ZWFkIG90aGVyd2lzZVxuXHRcdC8vIE1hcmtldHBsYWNlIHdpbGwgcmVqZWN0IHRoZSByZXF1ZXN0IGlmIHRoZXJlIGlzIG5vIFZTQ29kZS1TZXNzaW9uSWQgaGVhZGVyXG5cdFx0aGVhZGVyc1snVlNDb2RlLVNlc3Npb25JZCddID0gdGVsZW1ldHJ5U2VydmljZS5tYWNoaW5lSWQgfHwgc2VydmljZU1hY2hpbmVJZDtcblx0fVxuXG5cdHJldHVybiBoZWFkZXJzO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWdDRTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBaENGOzs7O0FBUUEsU0FBU0UsbUJBQW1CLFFBQVEsdUJBQXVCO0FBSzNELFNBQVNDLGlCQUFpQixFQUFFQyxpQkFBaUIsUUFBUSwwQ0FBMEM7QUFFL0YsT0FBTyxlQUFlQyx5QkFBeUJBLENBQUNDLE9BQWUsRUFDOURDLGNBQStCLEVBQy9CQyxrQkFBdUMsRUFDdkNDLG9CQUEyQyxFQUMzQ0MsV0FBeUIsRUFDekJDLGNBQTJDLEVBQzNDQyxnQkFBbUM7RUFBQTtFQUFBWixjQUFBLEdBQUFhLENBQUE7RUFFbkMsTUFBTUMsT0FBTztFQUFBO0VBQUEsQ0FBQWQsY0FBQSxHQUFBZSxDQUFBLE9BQWE7SUFDekIsb0JBQW9CLEVBQUUsVUFBVVQsT0FBTyxFQUFFO0lBQ3pDLFlBQVksRUFBRSxVQUFVQSxPQUFPLEtBQUtDLGNBQWMsQ0FBQ1MsU0FBUztHQUM1RDtFQUFDO0VBQUFoQixjQUFBLEdBQUFlLENBQUE7RUFFRjtFQUFJO0VBQUEsQ0FBQWYsY0FBQSxHQUFBaUIsQ0FBQSxVQUFBYixpQkFBaUIsQ0FBQ0csY0FBYyxFQUFFQyxrQkFBa0IsQ0FBQztFQUFBO0VBQUEsQ0FBQVIsY0FBQSxHQUFBaUIsQ0FBQSxVQUFJZCxpQkFBaUIsQ0FBQ00sb0JBQW9CLENBQUMsb0NBQTJCO0lBQUE7SUFBQVQsY0FBQSxHQUFBaUIsQ0FBQTtJQUM5SCxNQUFNQyxnQkFBZ0I7SUFBQTtJQUFBLENBQUFsQixjQUFBLEdBQUFlLENBQUEsT0FBRyxNQUFNYixtQkFBbUIsQ0FBQ00sa0JBQWtCLEVBQUVFLFdBQVcsRUFBRUMsY0FBYyxDQUFDO0lBQUM7SUFBQVgsY0FBQSxHQUFBZSxDQUFBO0lBQ3BHRCxPQUFPLENBQUMsa0JBQWtCLENBQUMsR0FBR0ksZ0JBQWdCO0lBQzlDO0lBQ0E7SUFDQTtJQUFBO0lBQUFsQixjQUFBLEdBQUFlLENBQUE7SUFDQUQsT0FBTyxDQUFDLGtCQUFrQixDQUFDO0lBQUc7SUFBQSxDQUFBZCxjQUFBLEdBQUFpQixDQUFBLFVBQUFMLGdCQUFnQixDQUFDTyxTQUFTO0lBQUE7SUFBQSxDQUFBbkIsY0FBQSxHQUFBaUIsQ0FBQSxVQUFJQyxnQkFBZ0I7RUFDN0UsQ0FBQztFQUFBO0VBQUE7SUFBQWxCLGNBQUEsR0FBQWlCLENBQUE7RUFBQTtFQUFBakIsY0FBQSxHQUFBZSxDQUFBO0VBRUQsT0FBT0QsT0FBTztBQUNmIiwiaWdub3JlTGlzdCI6W119