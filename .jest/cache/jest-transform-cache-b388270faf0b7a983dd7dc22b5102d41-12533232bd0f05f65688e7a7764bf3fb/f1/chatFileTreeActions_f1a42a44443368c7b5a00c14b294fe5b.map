{"version":3,"names":["localize2","Action2","registerAction2","CHAT_CATEGORY","IChatWidgetService","ChatContextKeys","isResponseVM","registerChatFileTreeActions","cov_20q9px5gg5","f","s","NextFileTreeAction","constructor","id","title","keybinding","primary","weight","when","inChatSession","precondition","enabled","f1","category","run","accessor","args","navigateTrees","PreviousFileTreeAction","reverse","chatWidgetService","get","widget","lastFocusedWidget","b","focused","inputEditor","hasWidgetFocus","getFocus","focusedResponse","undefined","currentResponse","viewModel","getItems","find","item","reveal","responseFileTrees","getFileTreeInfosForResponse","lastFocusedFileTree","getLastFocusedFileTreeForResponse","focusIdx","treeIndex","length","focus"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/actions/chatFileTreeActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { CHAT_CATEGORY } from './chatActions.js';\nimport { IChatWidgetService } from '../chat.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { IChatResponseViewModel, isResponseVM } from '../../common/chatViewModel.js';\n\nexport function registerChatFileTreeActions() {\n\tregisterAction2(class NextFileTreeAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.nextFileTree',\n\t\t\t\ttitle: localize2('interactive.nextFileTree.label', \"Next File Tree\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.F9,\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: ChatContextKeys.inChatSession,\n\t\t\t\t},\n\t\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\t\tf1: true,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tnavigateTrees(accessor, false);\n\t\t}\n\t});\n\n\tregisterAction2(class PreviousFileTreeAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.previousFileTree',\n\t\t\t\ttitle: localize2('interactive.previousFileTree.label', \"Previous File Tree\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.F9,\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: ChatContextKeys.inChatSession,\n\t\t\t\t},\n\t\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\t\tf1: true,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tnavigateTrees(accessor, true);\n\t\t}\n\t});\n}\n\nfunction navigateTrees(accessor: ServicesAccessor, reverse: boolean) {\n\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\tconst widget = chatWidgetService.lastFocusedWidget;\n\tif (!widget) {\n\t\treturn;\n\t}\n\n\tconst focused = !widget.inputEditor.hasWidgetFocus() && widget.getFocus();\n\tconst focusedResponse = isResponseVM(focused) ? focused : undefined;\n\n\tconst currentResponse = focusedResponse ?? widget.viewModel?.getItems().reverse().find((item): item is IChatResponseViewModel => isResponseVM(item));\n\tif (!currentResponse) {\n\t\treturn;\n\t}\n\n\twidget.reveal(currentResponse);\n\tconst responseFileTrees = widget.getFileTreeInfosForResponse(currentResponse);\n\tconst lastFocusedFileTree = widget.getLastFocusedFileTreeForResponse(currentResponse);\n\tconst focusIdx = lastFocusedFileTree ?\n\t\t(lastFocusedFileTree.treeIndex + (reverse ? -1 : 1) + responseFileTrees.length) % responseFileTrees.length :\n\t\treverse ? responseFileTrees.length - 1 : 0;\n\n\tresponseFileTrees[focusIdx]?.focus();\n}\n"],"mappings":"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","ignoreList":[]}