{"version":3,"names":["cov_1dg0srmmgk","actualCoverage","isThenable","Promises","handleVetos","vetos","onError","f","s","length","b","Promise","resolve","promises","lazyValue","valueOrPromise","push","then","value","err","settled"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/lifecycle/common/lifecycle.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isThenable, Promises } from '../../../base/common/async.js';\n\n// Shared veto handling across main and renderer\nexport function handleVetos(vetos: (boolean | Promise<boolean>)[], onError: (error: Error) => void): Promise<boolean /* veto */> {\n\tif (vetos.length === 0) {\n\t\treturn Promise.resolve(false);\n\t}\n\n\tconst promises: Promise<void>[] = [];\n\tlet lazyValue = false;\n\n\tfor (const valueOrPromise of vetos) {\n\n\t\t// veto, done\n\t\tif (valueOrPromise === true) {\n\t\t\treturn Promise.resolve(true);\n\t\t}\n\n\t\tif (isThenable(valueOrPromise)) {\n\t\t\tpromises.push(valueOrPromise.then(value => {\n\t\t\t\tif (value) {\n\t\t\t\t\tlazyValue = true; // veto, done\n\t\t\t\t}\n\t\t\t}, err => {\n\t\t\t\tonError(err); // error, treated like a veto, done\n\t\t\t\tlazyValue = true;\n\t\t\t}));\n\t\t}\n\t}\n\n\treturn Promises.settled(promises).then(() => lazyValue);\n}\n"],"mappings":"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","ignoreList":[]}