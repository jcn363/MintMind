{"version":3,"names":["cov_1yj0fzn1nc","actualCoverage","assertNever","clamp","localize","chartsGreen","chartsRed","chartsYellow","asCssVariableName","getTotalCoveragePercent","s","percent","cc","f","total","b","covered","colorThresholds","color","key","getCoverageColor","pct","thresholds","best","distance","t","epsilon","displayPercent","value","precision","display","toFixed","calculateDisplayedStat","coverage","method","statement","branch","Math","min","declaration","getLabelForItem","result","testId","commonPrefixLen","parts","id","idsFromRoot","item","getTestById","toString","push","label","slice","join","labels","showingFilterFor","clickToChangeFiltering","percentCoverage","allTests","pickShowCoverage"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/browser/codeCoverageDisplayUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { assertNever } from '../../../../base/common/assert.js';\nimport { clamp } from '../../../../base/common/numbers.js';\nimport { localize } from '../../../../nls.js';\nimport { chartsGreen, chartsRed, chartsYellow } from '../../../../platform/theme/common/colorRegistry.js';\nimport { asCssVariableName } from '../../../../platform/theme/common/colorUtils.js';\nimport { CoverageBarSource } from './testCoverageBars.js';\nimport { ITestingCoverageBarThresholds, TestingDisplayedCoveragePercent } from '../common/configuration.js';\nimport { getTotalCoveragePercent } from '../common/testCoverage.js';\nimport { TestId } from '../common/testId.js';\nimport { LiveTestResult } from '../common/testResult.js';\nimport { ICoverageCount } from '../common/testTypes.js';\n\nexport const percent = (cc: ICoverageCount) => clamp(cc.total === 0 ? 1 : cc.covered / cc.total, 0, 1);\n\nconst colorThresholds = [\n\t{ color: `var(${asCssVariableName(chartsRed)})`, key: 'red' },\n\t{ color: `var(${asCssVariableName(chartsYellow)})`, key: 'yellow' },\n\t{ color: `var(${asCssVariableName(chartsGreen)})`, key: 'green' },\n] as const;\n\nexport const getCoverageColor = (pct: number, thresholds: ITestingCoverageBarThresholds) => {\n\tlet best = colorThresholds[0].color; //  red\n\tlet distance = pct;\n\tfor (const { key, color } of colorThresholds) {\n\t\tconst t = thresholds[key] / 100;\n\t\tif (t && pct >= t && pct - t < distance) {\n\t\t\tbest = color;\n\t\t\tdistance = pct - t;\n\t\t}\n\t}\n\treturn best;\n};\n\n\nconst epsilon = 10e-8;\n\nexport const displayPercent = (value: number, precision = 2) => {\n\tconst display = (value * 100).toFixed(precision);\n\n\t// avoid showing 100% coverage if it just rounds up:\n\tif (value < 1 - epsilon && display === '100') {\n\t\treturn `${100 - (10 ** -precision)}%`;\n\t}\n\n\treturn `${display}%`;\n};\n\nexport const calculateDisplayedStat = (coverage: CoverageBarSource, method: TestingDisplayedCoveragePercent) => {\n\tswitch (method) {\n\t\tcase TestingDisplayedCoveragePercent.Statement:\n\t\t\treturn percent(coverage.statement);\n\t\tcase TestingDisplayedCoveragePercent.Minimum: {\n\t\t\tlet value = percent(coverage.statement);\n\t\t\tif (coverage.branch) { value = Math.min(value, percent(coverage.branch)); }\n\t\t\tif (coverage.declaration) { value = Math.min(value, percent(coverage.declaration)); }\n\t\t\treturn value;\n\t\t}\n\t\tcase TestingDisplayedCoveragePercent.TotalCoverage:\n\t\t\treturn getTotalCoveragePercent(coverage.statement, coverage.branch, coverage.declaration);\n\t\tdefault:\n\t\t\tassertNever(method);\n\t}\n};\n\nexport function getLabelForItem(result: LiveTestResult, testId: TestId, commonPrefixLen: number) {\n\tconst parts: string[] = [];\n\tfor (const id of testId.idsFromRoot()) {\n\t\tconst item = result.getTestById(id.toString());\n\t\tif (!item) {\n\t\t\tbreak;\n\t\t}\n\n\t\tparts.push(item.label);\n\t}\n\n\treturn parts.slice(commonPrefixLen).join(' \\u203a ');\n}\n\nexport namespace labels {\n\texport const showingFilterFor = (label: string) => localize('testing.coverageForTest', \"Showing \\\"{0}\\\"\", label);\n\texport const clickToChangeFiltering = localize('changePerTestFilter', 'Click to view coverage for a single test');\n\texport const percentCoverage = (percent: number, precision?: number) => localize('testing.percentCoverage', '{0} Coverage', displayPercent(percent, precision));\n\texport const allTests = localize('testing.allTests', 'All tests');\n\texport const pickShowCoverage = localize('testing.pickTest', 'Pick a test to show coverage for');\n}\n"],"mappings":"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","ignoreList":[]}