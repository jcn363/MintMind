{"version":3,"names":["cov_2f5zegkqnc","actualCoverage","runWhenGlobalIdle","BugIndicatingError","onUnexpectedError","setTimeout0","StopWatch","countEOL","LineRange","OffsetRange","nullTokenizeEncoded","FixedArray","ContiguousMultilineTokensBuilder","LineTokens","TokenizerWithStateStore","tokenizationSupport","initialState","store","constructor","lineCount","f","s","getInitialState","TrackingTokenizationStateStore","getStartState","lineNumber","getFirstInvalidLine","TokenizerWithStateStoreAndTextModel","_textModel","_languageIdCodec","updateTokensUntilLine","builder","languageId","getLanguageId","lineToTokenize","b","text","getLineContent","r","safeTokenize","startState","add","tokens","setEndState","endState","getTokenTypeIfInsertingCharacter","position","character","lineStartState","lineContent","substring","column","lineTokens","getCount","tokenIndex","findTokenIndexAtOffset","getStandardTokenType","tokenizeLinesAt","lines","result","state","line","push","hasAccurateTokensForLine","firstInvalidLineNumber","getFirstInvalidEndStateLineNumberOrMax","isCheapToTokenize","getLineLength","tokenizeHeuristically","startLineNumber","endLineNumber","heuristicTokens","guessStartState","likelyRelevantLines","findLikelyRelevantLines","model","nonWhitespaceColumn","getLineFirstNonWhitespaceColumn","i","newNonWhitespaceIndex","reverse","undefined","_tokenizationStateStore","TokenizationStateStore","_invalidEndStatesLineNumbers","RangePriorityQueueImpl","addRange","getEndState","delete","acceptChange","range","newLineCount","length","addRangeAndResize","endLineNumberExclusive","acceptChanges","changes","c","eolCount","invalidateEndStateRange","getFirstInvalidEndStateLineNumber","min","Number","MAX_SAFE_INTEGER","allStatesValid","_lineEndStates","get","oldState","equals","set","replace","_ranges","getRanges","start","removeMin","endExclusive","shift","value","idx","findIndex","contains","splice","newLength","idxFirstMightBeIntersecting","idxFirstIsAfter","delta","newRange","isEmpty","Math","endEx","max","toString","map","join","languageIdCodec","hasEOL","tokenizeEncoded","clone","e","encodeLanguageId","convertToEndOffset","DefaultBackgroundTokenizer","_tokenizerWithStateStore","_backgroundTokenStore","_isDisposed","dispose","handleChanges","_beginBackgroundTokenization","_isScheduled","isAttachedToEditor","_hasLinesToTokenize","deadline","_backgroundTokenizeWithDeadline","endTime","Date","now","timeRemaining","execute","_backgroundTokenizeForAtLeast1ms","getLineCount","sw","create","elapsed","tokenizedLineNumber","_tokenizeOneInvalidLine","setTokens","finalize","checkFinished","firstInvalidLine","backgroundTokenizationFinished","requestTokens"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/textModelTokens.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IdleDeadline, runWhenGlobalIdle } from '../../../base/common/async.js';\nimport { BugIndicatingError, onUnexpectedError } from '../../../base/common/errors.js';\nimport { setTimeout0 } from '../../../base/common/platform.js';\nimport { StopWatch } from '../../../base/common/stopwatch.js';\nimport { countEOL } from '../core/misc/eolCounter.js';\nimport { LineRange } from '../core/ranges/lineRange.js';\nimport { OffsetRange } from '../core/ranges/offsetRange.js';\nimport { Position } from '../core/position.js';\nimport { StandardTokenType } from '../encodedTokenAttributes.js';\nimport { EncodedTokenizationResult, IBackgroundTokenizationStore, IBackgroundTokenizer, ILanguageIdCodec, IState, ITokenizationSupport } from '../languages.js';\nimport { nullTokenizeEncoded } from '../languages/nullTokenize.js';\nimport { ITextModel } from '../model.js';\nimport { FixedArray } from './fixedArray.js';\nimport { IModelContentChange } from './mirrorTextModel.js';\nimport { ContiguousMultilineTokensBuilder } from '../tokens/contiguousMultilineTokensBuilder.js';\nimport { LineTokens } from '../tokens/lineTokens.js';\n\nconst enum Constants {\n\tCHEAP_TOKENIZATION_LENGTH_LIMIT = 2048\n}\n\nexport class TokenizerWithStateStore<TState extends IState = IState> {\n\tprivate readonly initialState;\n\n\tpublic readonly store: TrackingTokenizationStateStore<TState>;\n\n\tconstructor(\n\t\tlineCount: number,\n\t\tpublic readonly tokenizationSupport: ITokenizationSupport\n\t) {\n\t\tthis.initialState = this.tokenizationSupport.getInitialState() as TState;\n\t\tthis.store = new TrackingTokenizationStateStore<TState>(lineCount);\n\t}\n\n\tpublic getStartState(lineNumber: number): TState | null {\n\t\treturn this.store.getStartState(lineNumber, this.initialState);\n\t}\n\n\tpublic getFirstInvalidLine(): { lineNumber: number; startState: TState } | null {\n\t\treturn this.store.getFirstInvalidLine(this.initialState);\n\t}\n}\n\nexport class TokenizerWithStateStoreAndTextModel<TState extends IState = IState> extends TokenizerWithStateStore<TState> {\n\tconstructor(\n\t\tlineCount: number,\n\t\ttokenizationSupport: ITokenizationSupport,\n\t\tpublic readonly _textModel: ITextModel,\n\t\tpublic readonly _languageIdCodec: ILanguageIdCodec\n\t) {\n\t\tsuper(lineCount, tokenizationSupport);\n\t}\n\n\tpublic updateTokensUntilLine(builder: ContiguousMultilineTokensBuilder, lineNumber: number): void {\n\t\tconst languageId = this._textModel.getLanguageId();\n\n\t\twhile (true) {\n\t\t\tconst lineToTokenize = this.getFirstInvalidLine();\n\t\t\tif (!lineToTokenize || lineToTokenize.lineNumber > lineNumber) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst text = this._textModel.getLineContent(lineToTokenize.lineNumber);\n\n\t\t\tconst r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, lineToTokenize.startState);\n\t\t\tbuilder.add(lineToTokenize.lineNumber, r.tokens);\n\t\t\tthis.store.setEndState(lineToTokenize.lineNumber, r.endState as TState);\n\t\t}\n\t}\n\n\t/** assumes state is up to date */\n\tpublic getTokenTypeIfInsertingCharacter(position: Position, character: string): StandardTokenType {\n\t\t// TODO@hediet: use tokenizeLineWithEdit\n\t\tconst lineStartState = this.getStartState(position.lineNumber);\n\t\tif (!lineStartState) {\n\t\t\treturn StandardTokenType.Other;\n\t\t}\n\n\t\tconst languageId = this._textModel.getLanguageId();\n\t\tconst lineContent = this._textModel.getLineContent(position.lineNumber);\n\n\t\t// Create the text as if `character` was inserted\n\t\tconst text = (\n\t\t\tlineContent.substring(0, position.column - 1)\n\t\t\t+ character\n\t\t\t+ lineContent.substring(position.column - 1)\n\t\t);\n\n\t\tconst r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, lineStartState);\n\t\tconst lineTokens = new LineTokens(r.tokens, text, this._languageIdCodec);\n\t\tif (lineTokens.getCount() === 0) {\n\t\t\treturn StandardTokenType.Other;\n\t\t}\n\n\t\tconst tokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\treturn lineTokens.getStandardTokenType(tokenIndex);\n\t}\n\n\t/** assumes state is up to date */\n\tpublic tokenizeLinesAt(lineNumber: number, lines: string[]): LineTokens[] | null {\n\t\tconst lineStartState: IState | null = this.getStartState(lineNumber);\n\t\tif (!lineStartState) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst languageId = this._textModel.getLanguageId();\n\t\tconst result: LineTokens[] = [];\n\n\t\tlet state = lineStartState;\n\t\tfor (const line of lines) {\n\t\t\tconst r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, line, true, state);\n\t\t\tresult.push(new LineTokens(r.tokens, line, this._languageIdCodec));\n\t\t\tstate = r.endState;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic hasAccurateTokensForLine(lineNumber: number): boolean {\n\t\tconst firstInvalidLineNumber = this.store.getFirstInvalidEndStateLineNumberOrMax();\n\t\treturn (lineNumber < firstInvalidLineNumber);\n\t}\n\n\tpublic isCheapToTokenize(lineNumber: number): boolean {\n\t\tconst firstInvalidLineNumber = this.store.getFirstInvalidEndStateLineNumberOrMax();\n\t\tif (lineNumber < firstInvalidLineNumber) {\n\t\t\treturn true;\n\t\t}\n\t\tif (lineNumber === firstInvalidLineNumber\n\t\t\t&& this._textModel.getLineLength(lineNumber) < Constants.CHEAP_TOKENIZATION_LENGTH_LIMIT) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * The result is not cached.\n\t */\n\tpublic tokenizeHeuristically(builder: ContiguousMultilineTokensBuilder, startLineNumber: number, endLineNumber: number): { heuristicTokens: boolean } {\n\t\tif (endLineNumber <= this.store.getFirstInvalidEndStateLineNumberOrMax()) {\n\t\t\t// nothing to do\n\t\t\treturn { heuristicTokens: false };\n\t\t}\n\n\t\tif (startLineNumber <= this.store.getFirstInvalidEndStateLineNumberOrMax()) {\n\t\t\t// tokenization has reached the viewport start...\n\t\t\tthis.updateTokensUntilLine(builder, endLineNumber);\n\t\t\treturn { heuristicTokens: false };\n\t\t}\n\n\t\tlet state = this.guessStartState(startLineNumber);\n\t\tconst languageId = this._textModel.getLanguageId();\n\n\t\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\t\tconst text = this._textModel.getLineContent(lineNumber);\n\t\t\tconst r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, state);\n\t\t\tbuilder.add(lineNumber, r.tokens);\n\t\t\tstate = r.endState;\n\t\t}\n\n\t\treturn { heuristicTokens: true };\n\t}\n\n\tprivate guessStartState(lineNumber: number): IState {\n\t\tlet { likelyRelevantLines, initialState } = findLikelyRelevantLines(this._textModel, lineNumber, this);\n\n\t\tif (!initialState) {\n\t\t\tinitialState = this.tokenizationSupport.getInitialState();\n\t\t}\n\n\t\tconst languageId = this._textModel.getLanguageId();\n\t\tlet state = initialState;\n\t\tfor (const line of likelyRelevantLines) {\n\t\t\tconst r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, line, false, state);\n\t\t\tstate = r.endState;\n\t\t}\n\t\treturn state;\n\t}\n}\n\nexport function findLikelyRelevantLines(model: ITextModel, lineNumber: number, store?: TokenizerWithStateStore): { likelyRelevantLines: string[]; initialState?: IState } {\n\tlet nonWhitespaceColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n\tconst likelyRelevantLines: string[] = [];\n\tlet initialState: IState | null | undefined = null;\n\tfor (let i = lineNumber - 1; nonWhitespaceColumn > 1 && i >= 1; i--) {\n\t\tconst newNonWhitespaceIndex = model.getLineFirstNonWhitespaceColumn(i);\n\t\t// Ignore lines full of whitespace\n\t\tif (newNonWhitespaceIndex === 0) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (newNonWhitespaceIndex < nonWhitespaceColumn) {\n\t\t\tlikelyRelevantLines.push(model.getLineContent(i));\n\t\t\tnonWhitespaceColumn = newNonWhitespaceIndex;\n\t\t\tinitialState = store?.getStartState(i);\n\t\t\tif (initialState) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tlikelyRelevantLines.reverse();\n\treturn { likelyRelevantLines, initialState: initialState ?? undefined };\n}\n\n/**\n * **Invariant:**\n * If the text model is retokenized from line 1 to {@link getFirstInvalidEndStateLineNumber}() - 1,\n * then the recomputed end state for line l will be equal to {@link getEndState}(l).\n */\nexport class TrackingTokenizationStateStore<TState extends IState> {\n\tprivate readonly _tokenizationStateStore = new TokenizationStateStore<TState>();\n\tprivate readonly _invalidEndStatesLineNumbers = new RangePriorityQueueImpl();\n\n\tconstructor(private lineCount: number) {\n\t\tthis._invalidEndStatesLineNumbers.addRange(new OffsetRange(1, lineCount + 1));\n\t}\n\n\tpublic getEndState(lineNumber: number): TState | null {\n\t\treturn this._tokenizationStateStore.getEndState(lineNumber);\n\t}\n\n\t/**\n\t * @returns if the end state has changed.\n\t */\n\tpublic setEndState(lineNumber: number, state: TState): boolean {\n\t\tif (!state) {\n\t\t\tthrow new BugIndicatingError('Cannot set null/undefined state');\n\t\t}\n\n\t\tthis._invalidEndStatesLineNumbers.delete(lineNumber);\n\t\tconst r = this._tokenizationStateStore.setEndState(lineNumber, state);\n\t\tif (r && lineNumber < this.lineCount) {\n\t\t\t// because the state changed, we cannot trust the next state anymore and have to invalidate it.\n\t\t\tthis._invalidEndStatesLineNumbers.addRange(new OffsetRange(lineNumber + 1, lineNumber + 2));\n\t\t}\n\n\t\treturn r;\n\t}\n\n\tpublic acceptChange(range: LineRange, newLineCount: number): void {\n\t\tthis.lineCount += newLineCount - range.length;\n\t\tthis._tokenizationStateStore.acceptChange(range, newLineCount);\n\t\tthis._invalidEndStatesLineNumbers.addRangeAndResize(new OffsetRange(range.startLineNumber, range.endLineNumberExclusive), newLineCount);\n\t}\n\n\tpublic acceptChanges(changes: IModelContentChange[]) {\n\t\tfor (const c of changes) {\n\t\t\tconst [eolCount] = countEOL(c.text);\n\t\t\tthis.acceptChange(new LineRange(c.range.startLineNumber, c.range.endLineNumber + 1), eolCount + 1);\n\t\t}\n\t}\n\n\tpublic invalidateEndStateRange(range: LineRange): void {\n\t\tthis._invalidEndStatesLineNumbers.addRange(new OffsetRange(range.startLineNumber, range.endLineNumberExclusive));\n\t}\n\n\tpublic getFirstInvalidEndStateLineNumber(): number | null { return this._invalidEndStatesLineNumbers.min; }\n\n\tpublic getFirstInvalidEndStateLineNumberOrMax(): number {\n\t\treturn this.getFirstInvalidEndStateLineNumber() || Number.MAX_SAFE_INTEGER;\n\t}\n\n\tpublic allStatesValid(): boolean { return this._invalidEndStatesLineNumbers.min === null; }\n\n\tpublic getStartState(lineNumber: number, initialState: TState): TState | null {\n\t\tif (lineNumber === 1) { return initialState; }\n\t\treturn this.getEndState(lineNumber - 1);\n\t}\n\n\tpublic getFirstInvalidLine(initialState: TState): { lineNumber: number; startState: TState } | null {\n\t\tconst lineNumber = this.getFirstInvalidEndStateLineNumber();\n\t\tif (lineNumber === null) {\n\t\t\treturn null;\n\t\t}\n\t\tconst startState = this.getStartState(lineNumber, initialState);\n\t\tif (!startState) {\n\t\t\tthrow new BugIndicatingError('Start state must be defined');\n\t\t}\n\n\t\treturn { lineNumber, startState };\n\t}\n}\n\nexport class TokenizationStateStore<TState extends IState> {\n\tprivate readonly _lineEndStates = new FixedArray<TState | null>(null);\n\n\tpublic getEndState(lineNumber: number): TState | null {\n\t\treturn this._lineEndStates.get(lineNumber);\n\t}\n\n\tpublic setEndState(lineNumber: number, state: TState): boolean {\n\t\tconst oldState = this._lineEndStates.get(lineNumber);\n\t\tif (oldState && oldState.equals(state)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._lineEndStates.set(lineNumber, state);\n\t\treturn true;\n\t}\n\n\tpublic acceptChange(range: LineRange, newLineCount: number): void {\n\t\tlet length = range.length;\n\t\tif (newLineCount > 0 && length > 0) {\n\t\t\t// Keep the last state, even though it is unrelated.\n\t\t\t// But if the new state happens to agree with this last state, then we know we can stop tokenizing.\n\t\t\tlength--;\n\t\t\tnewLineCount--;\n\t\t}\n\n\t\tthis._lineEndStates.replace(range.startLineNumber, length, newLineCount);\n\t}\n\n\tpublic acceptChanges(changes: IModelContentChange[]) {\n\t\tfor (const c of changes) {\n\t\t\tconst [eolCount] = countEOL(c.text);\n\t\t\tthis.acceptChange(new LineRange(c.range.startLineNumber, c.range.endLineNumber + 1), eolCount + 1);\n\t\t}\n\t}\n}\n\ninterface RangePriorityQueue {\n\tget min(): number | null;\n\tremoveMin(): number | null;\n\n\taddRange(range: OffsetRange): void;\n\n\taddRangeAndResize(range: OffsetRange, newLength: number): void;\n}\n\nexport class RangePriorityQueueImpl implements RangePriorityQueue {\n\tprivate readonly _ranges: OffsetRange[] = [];\n\n\tpublic getRanges(): OffsetRange[] {\n\t\treturn this._ranges;\n\t}\n\n\tpublic get min(): number | null {\n\t\tif (this._ranges.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this._ranges[0].start;\n\t}\n\n\tpublic removeMin(): number | null {\n\t\tif (this._ranges.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\tconst range = this._ranges[0];\n\t\tif (range.start + 1 === range.endExclusive) {\n\t\t\tthis._ranges.shift();\n\t\t} else {\n\t\t\tthis._ranges[0] = new OffsetRange(range.start + 1, range.endExclusive);\n\t\t}\n\t\treturn range.start;\n\t}\n\n\tpublic delete(value: number): void {\n\t\tconst idx = this._ranges.findIndex(r => r.contains(value));\n\t\tif (idx !== -1) {\n\t\t\tconst range = this._ranges[idx];\n\t\t\tif (range.start === value) {\n\t\t\t\tif (range.endExclusive === value + 1) {\n\t\t\t\t\tthis._ranges.splice(idx, 1);\n\t\t\t\t} else {\n\t\t\t\t\tthis._ranges[idx] = new OffsetRange(value + 1, range.endExclusive);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (range.endExclusive === value + 1) {\n\t\t\t\t\tthis._ranges[idx] = new OffsetRange(range.start, value);\n\t\t\t\t} else {\n\t\t\t\t\tthis._ranges.splice(idx, 1, new OffsetRange(range.start, value), new OffsetRange(value + 1, range.endExclusive));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic addRange(range: OffsetRange): void {\n\t\tOffsetRange.addRange(range, this._ranges);\n\t}\n\n\tpublic addRangeAndResize(range: OffsetRange, newLength: number): void {\n\t\tlet idxFirstMightBeIntersecting = 0;\n\t\twhile (!(idxFirstMightBeIntersecting >= this._ranges.length || range.start <= this._ranges[idxFirstMightBeIntersecting].endExclusive)) {\n\t\t\tidxFirstMightBeIntersecting++;\n\t\t}\n\t\tlet idxFirstIsAfter = idxFirstMightBeIntersecting;\n\t\twhile (!(idxFirstIsAfter >= this._ranges.length || range.endExclusive < this._ranges[idxFirstIsAfter].start)) {\n\t\t\tidxFirstIsAfter++;\n\t\t}\n\t\tconst delta = newLength - range.length;\n\n\t\tfor (let i = idxFirstIsAfter; i < this._ranges.length; i++) {\n\t\t\tthis._ranges[i] = this._ranges[i].delta(delta);\n\t\t}\n\n\t\tif (idxFirstMightBeIntersecting === idxFirstIsAfter) {\n\t\t\tconst newRange = new OffsetRange(range.start, range.start + newLength);\n\t\t\tif (!newRange.isEmpty) {\n\t\t\t\tthis._ranges.splice(idxFirstMightBeIntersecting, 0, newRange);\n\t\t\t}\n\t\t} else {\n\t\t\tconst start = Math.min(range.start, this._ranges[idxFirstMightBeIntersecting].start);\n\t\t\tconst endEx = Math.max(range.endExclusive, this._ranges[idxFirstIsAfter - 1].endExclusive);\n\n\t\t\tconst newRange = new OffsetRange(start, endEx + delta);\n\t\t\tif (!newRange.isEmpty) {\n\t\t\t\tthis._ranges.splice(idxFirstMightBeIntersecting, idxFirstIsAfter - idxFirstMightBeIntersecting, newRange);\n\t\t\t} else {\n\t\t\t\tthis._ranges.splice(idxFirstMightBeIntersecting, idxFirstIsAfter - idxFirstMightBeIntersecting);\n\t\t\t}\n\t\t}\n\t}\n\n\ttoString() {\n\t\treturn this._ranges.map(r => r.toString()).join(' + ');\n\t}\n}\n\n\nfunction safeTokenize(languageIdCodec: ILanguageIdCodec, languageId: string, tokenizationSupport: ITokenizationSupport | null, text: string, hasEOL: boolean, state: IState): EncodedTokenizationResult {\n\tlet r: EncodedTokenizationResult | null = null;\n\n\tif (tokenizationSupport) {\n\t\ttry {\n\t\t\tr = tokenizationSupport.tokenizeEncoded(text, hasEOL, state.clone());\n\t\t} catch (e) {\n\t\t\tonUnexpectedError(e);\n\t\t}\n\t}\n\n\tif (!r) {\n\t\tr = nullTokenizeEncoded(languageIdCodec.encodeLanguageId(languageId), state);\n\t}\n\n\tLineTokens.convertToEndOffset(r.tokens, text.length);\n\treturn r;\n}\n\nexport class DefaultBackgroundTokenizer implements IBackgroundTokenizer {\n\tprivate _isDisposed = false;\n\n\tconstructor(\n\t\tprivate readonly _tokenizerWithStateStore: TokenizerWithStateStoreAndTextModel,\n\t\tprivate readonly _backgroundTokenStore: IBackgroundTokenizationStore,\n\t) {\n\t}\n\n\tpublic dispose(): void {\n\t\tthis._isDisposed = true;\n\t}\n\n\tpublic handleChanges(): void {\n\t\tthis._beginBackgroundTokenization();\n\t}\n\n\tprivate _isScheduled = false;\n\tprivate _beginBackgroundTokenization(): void {\n\t\tif (this._isScheduled || !this._tokenizerWithStateStore._textModel.isAttachedToEditor() || !this._hasLinesToTokenize()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isScheduled = true;\n\t\trunWhenGlobalIdle((deadline) => {\n\t\t\tthis._isScheduled = false;\n\n\t\t\tthis._backgroundTokenizeWithDeadline(deadline);\n\t\t});\n\t}\n\n\t/**\n\t * Tokenize until the deadline occurs, but try to yield every 1-2ms.\n\t */\n\tprivate _backgroundTokenizeWithDeadline(deadline: IdleDeadline): void {\n\t\t// Read the time remaining from the `deadline` immediately because it is unclear\n\t\t// if the `deadline` object will be valid after execution leaves this function.\n\t\tconst endTime = Date.now() + deadline.timeRemaining();\n\n\t\tconst execute = () => {\n\t\t\tif (this._isDisposed || !this._tokenizerWithStateStore._textModel.isAttachedToEditor() || !this._hasLinesToTokenize()) {\n\t\t\t\t// disposed in the meantime or detached or finished\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._backgroundTokenizeForAtLeast1ms();\n\n\t\t\tif (Date.now() < endTime) {\n\t\t\t\t// There is still time before reaching the deadline, so yield to the browser and then\n\t\t\t\t// continue execution\n\t\t\t\tsetTimeout0(execute);\n\t\t\t} else {\n\t\t\t\t// The deadline has been reached, so schedule a new idle callback if necessary\n\t\t\t\tthis._beginBackgroundTokenization();\n\t\t\t}\n\t\t};\n\t\texecute();\n\t}\n\n\t/**\n\t * Tokenize for at least 1ms.\n\t */\n\tprivate _backgroundTokenizeForAtLeast1ms(): void {\n\t\tconst lineCount = this._tokenizerWithStateStore._textModel.getLineCount();\n\t\tconst builder = new ContiguousMultilineTokensBuilder();\n\t\tconst sw = StopWatch.create(false);\n\n\t\tdo {\n\t\t\tif (sw.elapsed() > 1) {\n\t\t\t\t// the comparison is intentionally > 1 and not >= 1 to ensure that\n\t\t\t\t// a full millisecond has elapsed, given how microseconds are rounded\n\t\t\t\t// to milliseconds\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst tokenizedLineNumber = this._tokenizeOneInvalidLine(builder);\n\n\t\t\tif (tokenizedLineNumber >= lineCount) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} while (this._hasLinesToTokenize());\n\n\t\tthis._backgroundTokenStore.setTokens(builder.finalize());\n\t\tthis.checkFinished();\n\t}\n\n\tprivate _hasLinesToTokenize(): boolean {\n\t\tif (!this._tokenizerWithStateStore) {\n\t\t\treturn false;\n\t\t}\n\t\treturn !this._tokenizerWithStateStore.store.allStatesValid();\n\t}\n\n\tprivate _tokenizeOneInvalidLine(builder: ContiguousMultilineTokensBuilder): number {\n\t\tconst firstInvalidLine = this._tokenizerWithStateStore?.getFirstInvalidLine();\n\t\tif (!firstInvalidLine) {\n\t\t\treturn this._tokenizerWithStateStore._textModel.getLineCount() + 1;\n\t\t}\n\t\tthis._tokenizerWithStateStore.updateTokensUntilLine(builder, firstInvalidLine.lineNumber);\n\t\treturn firstInvalidLine.lineNumber;\n\t}\n\n\tpublic checkFinished(): void {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._tokenizerWithStateStore.store.allStatesValid()) {\n\t\t\tthis._backgroundTokenStore.backgroundTokenizationFinished();\n\t\t}\n\t}\n\n\tpublic requestTokens(startLineNumber: number, endLineNumberExclusive: number): void {\n\t\tthis._tokenizerWithStateStore.store.invalidateEndStateRange(new LineRange(startLineNumber, endLineNumberExclusive));\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0BM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA1BN;;;;AAKA,SAAuBE,iBAAiB,QAAQ,+BAA+B;AAC/E,SAASC,kBAAkB,EAAEC,iBAAiB,QAAQ,gCAAgC;AACtF,SAASC,WAAW,QAAQ,kCAAkC;AAC9D,SAASC,SAAS,QAAQ,mCAAmC;AAC7D,SAASC,QAAQ,QAAQ,4BAA4B;AACrD,SAASC,SAAS,QAAQ,6BAA6B;AACvD,SAASC,WAAW,QAAQ,+BAA+B;AAI3D,SAASC,mBAAmB,QAAQ,8BAA8B;AAElE,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,SAASC,gCAAgC,QAAQ,+CAA+C;AAChG,SAASC,UAAU,QAAQ,yBAAyB;AAMpD,OAAM,MAAOC,uBAAuB;EAOlBC,mBAAA;EANAC,YAAY;EAEbC,KAAK;EAErBC,YACCC,SAAiB,EACDJ,mBAAyC;IAAA;IAAAf,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAAzC,KAAAN,mBAAmB,GAAnBA,mBAAmB;IAAsB;IAAAf,cAAA,GAAAqB,CAAA;IAEzD,IAAI,CAACL,YAAY,GAAG,IAAI,CAACD,mBAAmB,CAACO,eAAe,EAAY;IAAC;IAAAtB,cAAA,GAAAqB,CAAA;IACzE,IAAI,CAACJ,KAAK,GAAG,IAAIM,8BAA8B,CAASJ,SAAS,CAAC;EACnE;EAEOK,aAAaA,CAACC,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACtC,OAAO,IAAI,CAACJ,KAAK,CAACO,aAAa,CAACC,UAAU,EAAE,IAAI,CAACT,YAAY,CAAC;EAC/D;EAEOU,mBAAmBA,CAAA;IAAA;IAAA1B,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACzB,OAAO,IAAI,CAACJ,KAAK,CAACS,mBAAmB,CAAC,IAAI,CAACV,YAAY,CAAC;EACzD;;AAGD,OAAM,MAAOW,mCAAoE,SAAQb,uBAA+B;EAItGc,UAAA;EACAC,gBAAA;EAJjBX,YACCC,SAAiB,EACjBJ,mBAAyC,EACzBa,UAAsB,EACtBC,gBAAkC;IAAA;IAAA7B,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAElD,KAAK,CAACF,SAAS,EAAEJ,mBAAmB,CAAC;IAAC;IAAAf,cAAA,GAAAqB,CAAA;IAHtB,KAAAO,UAAU,GAAVA,UAAU;IAAY;IAAA5B,cAAA,GAAAqB,CAAA;IACtB,KAAAQ,gBAAgB,GAAhBA,gBAAgB;EAGjC;EAEOC,qBAAqBA,CAACC,OAAyC,EAAEN,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IACzF,MAAMY,UAAU;IAAA;IAAA,CAAAhC,cAAA,GAAAqB,CAAA,OAAG,IAAI,CAACO,UAAU,CAACK,aAAa,EAAE;IAAC;IAAAjC,cAAA,GAAAqB,CAAA;IAEnD,OAAO,IAAI,EAAE;MACZ,MAAMa,cAAc;MAAA;MAAA,CAAAlC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACK,mBAAmB,EAAE;MAAC;MAAA1B,cAAA,GAAAqB,CAAA;MAClD;MAAI;MAAA,CAAArB,cAAA,GAAAmC,CAAA,WAACD,cAAc;MAAA;MAAA,CAAAlC,cAAA,GAAAmC,CAAA,UAAID,cAAc,CAACT,UAAU,GAAGA,UAAU,GAAE;QAAA;QAAAzB,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QAC9D;MACD,CAAC;MAAA;MAAA;QAAArB,cAAA,GAAAmC,CAAA;MAAA;MAED,MAAMC,IAAI;MAAA;MAAA,CAAApC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACS,cAAc,CAACH,cAAc,CAACT,UAAU,CAAC;MAEtE,MAAMa,CAAC;MAAA;MAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAGkB,YAAY,CAAC,IAAI,CAACV,gBAAgB,EAAEG,UAAU,EAAE,IAAI,CAACjB,mBAAmB,EAAEqB,IAAI,EAAE,IAAI,EAAEF,cAAc,CAACM,UAAU,CAAC;MAAC;MAAAxC,cAAA,GAAAqB,CAAA;MAC3HU,OAAO,CAACU,GAAG,CAACP,cAAc,CAACT,UAAU,EAAEa,CAAC,CAACI,MAAM,CAAC;MAAC;MAAA1C,cAAA,GAAAqB,CAAA;MACjD,IAAI,CAACJ,KAAK,CAAC0B,WAAW,CAACT,cAAc,CAACT,UAAU,EAAEa,CAAC,CAACM,QAAkB,CAAC;IACxE;EACD;EAEA;EACOC,gCAAgCA,CAACC,QAAkB,EAAEC,SAAiB;IAAA;IAAA/C,cAAA,GAAAoB,CAAA;IAC5E;IACA,MAAM4B,cAAc;IAAA;IAAA,CAAAhD,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACG,aAAa,CAACsB,QAAQ,CAACrB,UAAU,CAAC;IAAC;IAAAzB,cAAA,GAAAqB,CAAA;IAC/D,IAAI,CAAC2B,cAAc,EAAE;MAAA;MAAAhD,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACpB;IACD,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAED,MAAMH,UAAU;IAAA;IAAA,CAAAhC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACK,aAAa,EAAE;IAClD,MAAMgB,WAAW;IAAA;IAAA,CAAAjD,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACS,cAAc,CAACS,QAAQ,CAACrB,UAAU,CAAC;IAEvE;IACA,MAAMW,IAAI;IAAA;IAAA,CAAApC,cAAA,GAAAqB,CAAA,QACT4B,WAAW,CAACC,SAAS,CAAC,CAAC,EAAEJ,QAAQ,CAACK,MAAM,GAAG,CAAC,CAAC,GAC3CJ,SAAS,GACTE,WAAW,CAACC,SAAS,CAACJ,QAAQ,CAACK,MAAM,GAAG,CAAC,CAAC,CAC5C;IAED,MAAMb,CAAC;IAAA;IAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAGkB,YAAY,CAAC,IAAI,CAACV,gBAAgB,EAAEG,UAAU,EAAE,IAAI,CAACjB,mBAAmB,EAAEqB,IAAI,EAAE,IAAI,EAAEY,cAAc,CAAC;IAC/G,MAAMI,UAAU;IAAA;IAAA,CAAApD,cAAA,GAAAqB,CAAA,QAAG,IAAIR,UAAU,CAACyB,CAAC,CAACI,MAAM,EAAEN,IAAI,EAAE,IAAI,CAACP,gBAAgB,CAAC;IAAC;IAAA7B,cAAA,GAAAqB,CAAA;IACzE,IAAI+B,UAAU,CAACC,QAAQ,EAAE,KAAK,CAAC,EAAE;MAAA;MAAArD,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAChC;IACD,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAED,MAAMmB,UAAU;IAAA;IAAA,CAAAtD,cAAA,GAAAqB,CAAA,QAAG+B,UAAU,CAACG,sBAAsB,CAACT,QAAQ,CAACK,MAAM,GAAG,CAAC,CAAC;IAAC;IAAAnD,cAAA,GAAAqB,CAAA;IAC1E,OAAO+B,UAAU,CAACI,oBAAoB,CAACF,UAAU,CAAC;EACnD;EAEA;EACOG,eAAeA,CAAChC,UAAkB,EAAEiC,KAAe;IAAA;IAAA1D,cAAA,GAAAoB,CAAA;IACzD,MAAM4B,cAAc;IAAA;IAAA,CAAAhD,cAAA,GAAAqB,CAAA,QAAkB,IAAI,CAACG,aAAa,CAACC,UAAU,CAAC;IAAC;IAAAzB,cAAA,GAAAqB,CAAA;IACrE,IAAI,CAAC2B,cAAc,EAAE;MAAA;MAAAhD,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACpB,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAED,MAAMH,UAAU;IAAA;IAAA,CAAAhC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACK,aAAa,EAAE;IAClD,MAAM0B,MAAM;IAAA;IAAA,CAAA3D,cAAA,GAAAqB,CAAA,QAAiB,EAAE;IAE/B,IAAIuC,KAAK;IAAA;IAAA,CAAA5D,cAAA,GAAAqB,CAAA,QAAG2B,cAAc;IAAC;IAAAhD,cAAA,GAAAqB,CAAA;IAC3B,KAAK,MAAMwC,IAAI,IAAIH,KAAK,EAAE;MACzB,MAAMpB,CAAC;MAAA;MAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAGkB,YAAY,CAAC,IAAI,CAACV,gBAAgB,EAAEG,UAAU,EAAE,IAAI,CAACjB,mBAAmB,EAAE8C,IAAI,EAAE,IAAI,EAAED,KAAK,CAAC;MAAC;MAAA5D,cAAA,GAAAqB,CAAA;MACvGsC,MAAM,CAACG,IAAI,CAAC,IAAIjD,UAAU,CAACyB,CAAC,CAACI,MAAM,EAAEmB,IAAI,EAAE,IAAI,CAAChC,gBAAgB,CAAC,CAAC;MAAC;MAAA7B,cAAA,GAAAqB,CAAA;MACnEuC,KAAK,GAAGtB,CAAC,CAACM,QAAQ;IACnB;IAAC;IAAA5C,cAAA,GAAAqB,CAAA;IAED,OAAOsC,MAAM;EACd;EAEOI,wBAAwBA,CAACtC,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IACjD,MAAM4C,sBAAsB;IAAA;IAAA,CAAAhE,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACJ,KAAK,CAACgD,sCAAsC,EAAE;IAAC;IAAAjE,cAAA,GAAAqB,CAAA;IACnF,OAAQI,UAAU,GAAGuC,sBAAsB;EAC5C;EAEOE,iBAAiBA,CAACzC,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IAC1C,MAAM4C,sBAAsB;IAAA;IAAA,CAAAhE,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACJ,KAAK,CAACgD,sCAAsC,EAAE;IAAC;IAAAjE,cAAA,GAAAqB,CAAA;IACnF,IAAII,UAAU,GAAGuC,sBAAsB,EAAE;MAAA;MAAAhE,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACxC,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD;IAAI;IAAA,CAAArB,cAAA,GAAAmC,CAAA,UAAAV,UAAU,KAAKuC,sBAAsB;IAAA;IAAA,CAAAhE,cAAA,GAAAmC,CAAA,UACrC,IAAI,CAACP,UAAU,CAACuC,aAAa,CAAC1C,UAAU,CAAC,0DAA8C;MAAA;MAAAzB,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAC1F,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,OAAO,KAAK;EACb;EAEA;;;EAGO+C,qBAAqBA,CAACrC,OAAyC,EAAEsC,eAAuB,EAAEC,aAAqB;IAAA;IAAAtE,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACrH,IAAIiD,aAAa,IAAI,IAAI,CAACrD,KAAK,CAACgD,sCAAsC,EAAE,EAAE;MAAA;MAAAjE,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACzE;MACA,OAAO;QAAEkD,eAAe,EAAE;MAAK,CAAE;IAClC,CAAC;IAAA;IAAA;MAAAvE,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,IAAIgD,eAAe,IAAI,IAAI,CAACpD,KAAK,CAACgD,sCAAsC,EAAE,EAAE;MAAA;MAAAjE,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAC3E;MACA,IAAI,CAACS,qBAAqB,CAACC,OAAO,EAAEuC,aAAa,CAAC;MAAC;MAAAtE,cAAA,GAAAqB,CAAA;MACnD,OAAO;QAAEkD,eAAe,EAAE;MAAK,CAAE;IAClC,CAAC;IAAA;IAAA;MAAAvE,cAAA,GAAAmC,CAAA;IAAA;IAED,IAAIyB,KAAK;IAAA;IAAA,CAAA5D,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACmD,eAAe,CAACH,eAAe,CAAC;IACjD,MAAMrC,UAAU;IAAA;IAAA,CAAAhC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACK,aAAa,EAAE;IAAC;IAAAjC,cAAA,GAAAqB,CAAA;IAEnD,KAAK,IAAII,UAAU;IAAA;IAAA,CAAAzB,cAAA,GAAAqB,CAAA,QAAGgD,eAAe,GAAE5C,UAAU,IAAI6C,aAAa,EAAE7C,UAAU,EAAE,EAAE;MACjF,MAAMW,IAAI;MAAA;MAAA,CAAApC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACS,cAAc,CAACZ,UAAU,CAAC;MACvD,MAAMa,CAAC;MAAA;MAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAGkB,YAAY,CAAC,IAAI,CAACV,gBAAgB,EAAEG,UAAU,EAAE,IAAI,CAACjB,mBAAmB,EAAEqB,IAAI,EAAE,IAAI,EAAEwB,KAAK,CAAC;MAAC;MAAA5D,cAAA,GAAAqB,CAAA;MACvGU,OAAO,CAACU,GAAG,CAAChB,UAAU,EAAEa,CAAC,CAACI,MAAM,CAAC;MAAC;MAAA1C,cAAA,GAAAqB,CAAA;MAClCuC,KAAK,GAAGtB,CAAC,CAACM,QAAQ;IACnB;IAAC;IAAA5C,cAAA,GAAAqB,CAAA;IAED,OAAO;MAAEkD,eAAe,EAAE;IAAI,CAAE;EACjC;EAEQC,eAAeA,CAAC/C,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IACzC,IAAI;MAAEqD,mBAAmB;MAAEzD;IAAY,CAAE;IAAA;IAAA,CAAAhB,cAAA,GAAAqB,CAAA,QAAGqD,uBAAuB,CAAC,IAAI,CAAC9C,UAAU,EAAEH,UAAU,EAAE,IAAI,CAAC;IAAC;IAAAzB,cAAA,GAAAqB,CAAA;IAEvG,IAAI,CAACL,YAAY,EAAE;MAAA;MAAAhB,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAClBL,YAAY,GAAG,IAAI,CAACD,mBAAmB,CAACO,eAAe,EAAE;IAC1D,CAAC;IAAA;IAAA;MAAAtB,cAAA,GAAAmC,CAAA;IAAA;IAED,MAAMH,UAAU;IAAA;IAAA,CAAAhC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAACO,UAAU,CAACK,aAAa,EAAE;IAClD,IAAI2B,KAAK;IAAA;IAAA,CAAA5D,cAAA,GAAAqB,CAAA,QAAGL,YAAY;IAAC;IAAAhB,cAAA,GAAAqB,CAAA;IACzB,KAAK,MAAMwC,IAAI,IAAIY,mBAAmB,EAAE;MACvC,MAAMnC,CAAC;MAAA;MAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAGkB,YAAY,CAAC,IAAI,CAACV,gBAAgB,EAAEG,UAAU,EAAE,IAAI,CAACjB,mBAAmB,EAAE8C,IAAI,EAAE,KAAK,EAAED,KAAK,CAAC;MAAC;MAAA5D,cAAA,GAAAqB,CAAA;MACxGuC,KAAK,GAAGtB,CAAC,CAACM,QAAQ;IACnB;IAAC;IAAA5C,cAAA,GAAAqB,CAAA;IACD,OAAOuC,KAAK;EACb;;AAGD,OAAM,SAAUc,uBAAuBA,CAACC,KAAiB,EAAElD,UAAkB,EAAER,KAA+B;EAAA;EAAAjB,cAAA,GAAAoB,CAAA;EAC7G,IAAIwD,mBAAmB;EAAA;EAAA,CAAA5E,cAAA,GAAAqB,CAAA,QAAGsD,KAAK,CAACE,+BAA+B,CAACpD,UAAU,CAAC;EAC3E,MAAMgD,mBAAmB;EAAA;EAAA,CAAAzE,cAAA,GAAAqB,CAAA,QAAa,EAAE;EACxC,IAAIL,YAAY;EAAA;EAAA,CAAAhB,cAAA,GAAAqB,CAAA,QAA8B,IAAI;EAAC;EAAArB,cAAA,GAAAqB,CAAA;EACnD,KAAK,IAAIyD,CAAC;EAAA;EAAA,CAAA9E,cAAA,GAAAqB,CAAA,QAAGI,UAAU,GAAG,CAAC;EAAE;EAAA,CAAAzB,cAAA,GAAAmC,CAAA,WAAAyC,mBAAmB,GAAG,CAAC;EAAA;EAAA,CAAA5E,cAAA,GAAAmC,CAAA,WAAI2C,CAAC,IAAI,CAAC,GAAEA,CAAC,EAAE,EAAE;IACpE,MAAMC,qBAAqB;IAAA;IAAA,CAAA/E,cAAA,GAAAqB,CAAA,QAAGsD,KAAK,CAACE,+BAA+B,CAACC,CAAC,CAAC;IACtE;IAAA;IAAA9E,cAAA,GAAAqB,CAAA;IACA,IAAI0D,qBAAqB,KAAK,CAAC,EAAE;MAAA;MAAA/E,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAChC;IACD,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD,IAAI0D,qBAAqB,GAAGH,mBAAmB,EAAE;MAAA;MAAA5E,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAChDoD,mBAAmB,CAACX,IAAI,CAACa,KAAK,CAACtC,cAAc,CAACyC,CAAC,CAAC,CAAC;MAAC;MAAA9E,cAAA,GAAAqB,CAAA;MAClDuD,mBAAmB,GAAGG,qBAAqB;MAAC;MAAA/E,cAAA,GAAAqB,CAAA;MAC5CL,YAAY,GAAGC,KAAK,EAAEO,aAAa,CAACsD,CAAC,CAAC;MAAC;MAAA9E,cAAA,GAAAqB,CAAA;MACvC,IAAIL,YAAY,EAAE;QAAA;QAAAhB,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACjB;MACD,CAAC;MAAA;MAAA;QAAArB,cAAA,GAAAmC,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAnC,cAAA,GAAAmC,CAAA;IAAA;EACF;EAAC;EAAAnC,cAAA,GAAAqB,CAAA;EAEDoD,mBAAmB,CAACO,OAAO,EAAE;EAAC;EAAAhF,cAAA,GAAAqB,CAAA;EAC9B,OAAO;IAAEoD,mBAAmB;IAAEzD,YAAY;IAAE;IAAA,CAAAhB,cAAA,GAAAmC,CAAA,WAAAnB,YAAY;IAAA;IAAA,CAAAhB,cAAA,GAAAmC,CAAA,WAAI8C,SAAS;EAAA,CAAE;AACxE;AAEA;;;;;AAKA,OAAM,MAAO1D,8BAA8B;EAItBJ,SAAA;EAHH+D,uBAAuB;EAAA;EAAA,CAAAlF,cAAA,GAAAqB,CAAA,QAAG,IAAI8D,sBAAsB,EAAU;EAC9DC,4BAA4B;EAAA;EAAA,CAAApF,cAAA,GAAAqB,CAAA,QAAG,IAAIgE,sBAAsB,EAAE;EAE5EnE,YAAoBC,SAAiB;IAAA;IAAAnB,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAAjB,KAAAF,SAAS,GAATA,SAAS;IAAQ;IAAAnB,cAAA,GAAAqB,CAAA;IACpC,IAAI,CAAC+D,4BAA4B,CAACE,QAAQ,CAAC,IAAI7E,WAAW,CAAC,CAAC,EAAEU,SAAS,GAAG,CAAC,CAAC,CAAC;EAC9E;EAEOoE,WAAWA,CAAC9D,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACpC,OAAO,IAAI,CAAC6D,uBAAuB,CAACK,WAAW,CAAC9D,UAAU,CAAC;EAC5D;EAEA;;;EAGOkB,WAAWA,CAAClB,UAAkB,EAAEmC,KAAa;IAAA;IAAA5D,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACnD,IAAI,CAACuC,KAAK,EAAE;MAAA;MAAA5D,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACX,MAAM,IAAIlB,kBAAkB,CAAC,iCAAiC,CAAC;IAChE,CAAC;IAAA;IAAA;MAAAH,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,IAAI,CAAC+D,4BAA4B,CAACI,MAAM,CAAC/D,UAAU,CAAC;IACpD,MAAMa,CAAC;IAAA;IAAA,CAAAtC,cAAA,GAAAqB,CAAA,QAAG,IAAI,CAAC6D,uBAAuB,CAACvC,WAAW,CAAClB,UAAU,EAAEmC,KAAK,CAAC;IAAC;IAAA5D,cAAA,GAAAqB,CAAA;IACtE;IAAI;IAAA,CAAArB,cAAA,GAAAmC,CAAA,WAAAG,CAAC;IAAA;IAAA,CAAAtC,cAAA,GAAAmC,CAAA,WAAIV,UAAU,GAAG,IAAI,CAACN,SAAS,GAAE;MAAA;MAAAnB,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACrC;MACA,IAAI,CAAC+D,4BAA4B,CAACE,QAAQ,CAAC,IAAI7E,WAAW,CAACgB,UAAU,GAAG,CAAC,EAAEA,UAAU,GAAG,CAAC,CAAC,CAAC;IAC5F,CAAC;IAAA;IAAA;MAAAzB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,OAAOiB,CAAC;EACT;EAEOmD,YAAYA,CAACC,KAAgB,EAAEC,YAAoB;IAAA;IAAA3F,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACzD,IAAI,CAACF,SAAS,IAAIwE,YAAY,GAAGD,KAAK,CAACE,MAAM;IAAC;IAAA5F,cAAA,GAAAqB,CAAA;IAC9C,IAAI,CAAC6D,uBAAuB,CAACO,YAAY,CAACC,KAAK,EAAEC,YAAY,CAAC;IAAC;IAAA3F,cAAA,GAAAqB,CAAA;IAC/D,IAAI,CAAC+D,4BAA4B,CAACS,iBAAiB,CAAC,IAAIpF,WAAW,CAACiF,KAAK,CAACrB,eAAe,EAAEqB,KAAK,CAACI,sBAAsB,CAAC,EAAEH,YAAY,CAAC;EACxI;EAEOI,aAAaA,CAACC,OAA8B;IAAA;IAAAhG,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAClD,KAAK,MAAM4E,CAAC,IAAID,OAAO,EAAE;MACxB,MAAM,CAACE,QAAQ,CAAC;MAAA;MAAA,CAAAlG,cAAA,GAAAqB,CAAA,SAAGd,QAAQ,CAAC0F,CAAC,CAAC7D,IAAI,CAAC;MAAC;MAAApC,cAAA,GAAAqB,CAAA;MACpC,IAAI,CAACoE,YAAY,CAAC,IAAIjF,SAAS,CAACyF,CAAC,CAACP,KAAK,CAACrB,eAAe,EAAE4B,CAAC,CAACP,KAAK,CAACpB,aAAa,GAAG,CAAC,CAAC,EAAE4B,QAAQ,GAAG,CAAC,CAAC;IACnG;EACD;EAEOC,uBAAuBA,CAACT,KAAgB;IAAA;IAAA1F,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAC9C,IAAI,CAAC+D,4BAA4B,CAACE,QAAQ,CAAC,IAAI7E,WAAW,CAACiF,KAAK,CAACrB,eAAe,EAAEqB,KAAK,CAACI,sBAAsB,CAAC,CAAC;EACjH;EAEOM,iCAAiCA,CAAA;IAAA;IAAApG,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAAoB,OAAO,IAAI,CAAC+D,4BAA4B,CAACiB,GAAG;EAAE;EAEnGpC,sCAAsCA,CAAA;IAAA;IAAAjE,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAC5C,OAAO,2BAAArB,cAAA,GAAAmC,CAAA,eAAI,CAACiE,iCAAiC,EAAE;IAAA;IAAA,CAAApG,cAAA,GAAAmC,CAAA,WAAImE,MAAM,CAACC,gBAAgB;EAC3E;EAEOC,cAAcA,CAAA;IAAA;IAAAxG,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAAc,OAAO,IAAI,CAAC+D,4BAA4B,CAACiB,GAAG,KAAK,IAAI;EAAE;EAEnF7E,aAAaA,CAACC,UAAkB,EAAET,YAAoB;IAAA;IAAAhB,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAC5D,IAAII,UAAU,KAAK,CAAC,EAAE;MAAA;MAAAzB,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAAE,OAAOL,YAAY;IAAE,CAAC;IAAA;IAAA;MAAAhB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAC9C,OAAO,IAAI,CAACkE,WAAW,CAAC9D,UAAU,GAAG,CAAC,CAAC;EACxC;EAEOC,mBAAmBA,CAACV,YAAoB;IAAA;IAAAhB,cAAA,GAAAoB,CAAA;IAC9C,MAAMK,UAAU;IAAA;IAAA,CAAAzB,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAAC+E,iCAAiC,EAAE;IAAC;IAAApG,cAAA,GAAAqB,CAAA;IAC5D,IAAII,UAAU,KAAK,IAAI,EAAE;MAAA;MAAAzB,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACxB,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IACD,MAAMK,UAAU;IAAA;IAAA,CAAAxC,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAACG,aAAa,CAACC,UAAU,EAAET,YAAY,CAAC;IAAC;IAAAhB,cAAA,GAAAqB,CAAA;IAChE,IAAI,CAACmB,UAAU,EAAE;MAAA;MAAAxC,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAChB,MAAM,IAAIlB,kBAAkB,CAAC,6BAA6B,CAAC;IAC5D,CAAC;IAAA;IAAA;MAAAH,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,OAAO;MAAEI,UAAU;MAAEe;IAAU,CAAE;EAClC;;AAGD,OAAM,MAAO2C,sBAAsB;EACjBsB,cAAc;EAAA;EAAA,CAAAzG,cAAA,GAAAqB,CAAA,SAAG,IAAIV,UAAU,CAAgB,IAAI,CAAC;EAE9D4E,WAAWA,CAAC9D,UAAkB;IAAA;IAAAzB,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACpC,OAAO,IAAI,CAACoF,cAAc,CAACC,GAAG,CAACjF,UAAU,CAAC;EAC3C;EAEOkB,WAAWA,CAAClB,UAAkB,EAAEmC,KAAa;IAAA;IAAA5D,cAAA,GAAAoB,CAAA;IACnD,MAAMuF,QAAQ;IAAA;IAAA,CAAA3G,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAACoF,cAAc,CAACC,GAAG,CAACjF,UAAU,CAAC;IAAC;IAAAzB,cAAA,GAAAqB,CAAA;IACrD;IAAI;IAAA,CAAArB,cAAA,GAAAmC,CAAA,WAAAwE,QAAQ;IAAA;IAAA,CAAA3G,cAAA,GAAAmC,CAAA,WAAIwE,QAAQ,CAACC,MAAM,CAAChD,KAAK,CAAC,GAAE;MAAA;MAAA5D,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACvC,OAAO,KAAK;IACb,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,IAAI,CAACoF,cAAc,CAACI,GAAG,CAACpF,UAAU,EAAEmC,KAAK,CAAC;IAAC;IAAA5D,cAAA,GAAAqB,CAAA;IAC3C,OAAO,IAAI;EACZ;EAEOoE,YAAYA,CAACC,KAAgB,EAAEC,YAAoB;IAAA;IAAA3F,cAAA,GAAAoB,CAAA;IACzD,IAAIwE,MAAM;IAAA;IAAA,CAAA5F,cAAA,GAAAqB,CAAA,SAAGqE,KAAK,CAACE,MAAM;IAAC;IAAA5F,cAAA,GAAAqB,CAAA;IAC1B;IAAI;IAAA,CAAArB,cAAA,GAAAmC,CAAA,WAAAwD,YAAY,GAAG,CAAC;IAAA;IAAA,CAAA3F,cAAA,GAAAmC,CAAA,WAAIyD,MAAM,GAAG,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACnC;MACA;MACAuE,MAAM,EAAE;MAAC;MAAA5F,cAAA,GAAAqB,CAAA;MACTsE,YAAY,EAAE;IACf,CAAC;IAAA;IAAA;MAAA3F,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,IAAI,CAACoF,cAAc,CAACK,OAAO,CAACpB,KAAK,CAACrB,eAAe,EAAEuB,MAAM,EAAED,YAAY,CAAC;EACzE;EAEOI,aAAaA,CAACC,OAA8B;IAAA;IAAAhG,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAClD,KAAK,MAAM4E,CAAC,IAAID,OAAO,EAAE;MACxB,MAAM,CAACE,QAAQ,CAAC;MAAA;MAAA,CAAAlG,cAAA,GAAAqB,CAAA,SAAGd,QAAQ,CAAC0F,CAAC,CAAC7D,IAAI,CAAC;MAAC;MAAApC,cAAA,GAAAqB,CAAA;MACpC,IAAI,CAACoE,YAAY,CAAC,IAAIjF,SAAS,CAACyF,CAAC,CAACP,KAAK,CAACrB,eAAe,EAAE4B,CAAC,CAACP,KAAK,CAACpB,aAAa,GAAG,CAAC,CAAC,EAAE4B,QAAQ,GAAG,CAAC,CAAC;IACnG;EACD;;AAYD,OAAM,MAAOb,sBAAsB;EACjB0B,OAAO;EAAA;EAAA,CAAA/G,cAAA,GAAAqB,CAAA,SAAkB,EAAE;EAErC2F,SAASA,CAAA;IAAA;IAAAhH,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACf,OAAO,IAAI,CAAC0F,OAAO;EACpB;EAEA,IAAWV,GAAGA,CAAA;IAAA;IAAArG,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACb,IAAI,IAAI,CAAC0F,OAAO,CAACnB,MAAM,KAAK,CAAC,EAAE;MAAA;MAAA5F,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAC9B,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD,OAAO,IAAI,CAAC0F,OAAO,CAAC,CAAC,CAAC,CAACE,KAAK;EAC7B;EAEOC,SAASA,CAAA;IAAA;IAAAlH,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACf,IAAI,IAAI,CAAC0F,OAAO,CAACnB,MAAM,KAAK,CAAC,EAAE;MAAA;MAAA5F,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAC9B,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IACD,MAAMuD,KAAK;IAAA;IAAA,CAAA1F,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAAC0F,OAAO,CAAC,CAAC,CAAC;IAAC;IAAA/G,cAAA,GAAAqB,CAAA;IAC9B,IAAIqE,KAAK,CAACuB,KAAK,GAAG,CAAC,KAAKvB,KAAK,CAACyB,YAAY,EAAE;MAAA;MAAAnH,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAC3C,IAAI,CAAC0F,OAAO,CAACK,KAAK,EAAE;IACrB,CAAC,MAAM;MAAA;MAAApH,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACN,IAAI,CAAC0F,OAAO,CAAC,CAAC,CAAC,GAAG,IAAItG,WAAW,CAACiF,KAAK,CAACuB,KAAK,GAAG,CAAC,EAAEvB,KAAK,CAACyB,YAAY,CAAC;IACvE;IAAC;IAAAnH,cAAA,GAAAqB,CAAA;IACD,OAAOqE,KAAK,CAACuB,KAAK;EACnB;EAEOzB,MAAMA,CAAC6B,KAAa;IAAA;IAAArH,cAAA,GAAAoB,CAAA;IAC1B,MAAMkG,GAAG;IAAA;IAAA,CAAAtH,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAAC0F,OAAO,CAACQ,SAAS,CAACjF,CAAC,IAAI;MAAA;MAAAtC,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAqB,CAAA;MAAA,OAAAiB,CAAC,CAACkF,QAAQ,CAACH,KAAK,CAAC;IAAD,CAAC,CAAC;IAAC;IAAArH,cAAA,GAAAqB,CAAA;IAC3D,IAAIiG,GAAG,KAAK,CAAC,CAAC,EAAE;MAAA;MAAAtH,cAAA,GAAAmC,CAAA;MACf,MAAMuD,KAAK;MAAA;MAAA,CAAA1F,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAAC0F,OAAO,CAACO,GAAG,CAAC;MAAC;MAAAtH,cAAA,GAAAqB,CAAA;MAChC,IAAIqE,KAAK,CAACuB,KAAK,KAAKI,KAAK,EAAE;QAAA;QAAArH,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QAC1B,IAAIqE,KAAK,CAACyB,YAAY,KAAKE,KAAK,GAAG,CAAC,EAAE;UAAA;UAAArH,cAAA,GAAAmC,CAAA;UAAAnC,cAAA,GAAAqB,CAAA;UACrC,IAAI,CAAC0F,OAAO,CAACU,MAAM,CAACH,GAAG,EAAE,CAAC,CAAC;QAC5B,CAAC,MAAM;UAAA;UAAAtH,cAAA,GAAAmC,CAAA;UAAAnC,cAAA,GAAAqB,CAAA;UACN,IAAI,CAAC0F,OAAO,CAACO,GAAG,CAAC,GAAG,IAAI7G,WAAW,CAAC4G,KAAK,GAAG,CAAC,EAAE3B,KAAK,CAACyB,YAAY,CAAC;QACnE;MACD,CAAC,MAAM;QAAA;QAAAnH,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACN,IAAIqE,KAAK,CAACyB,YAAY,KAAKE,KAAK,GAAG,CAAC,EAAE;UAAA;UAAArH,cAAA,GAAAmC,CAAA;UAAAnC,cAAA,GAAAqB,CAAA;UACrC,IAAI,CAAC0F,OAAO,CAACO,GAAG,CAAC,GAAG,IAAI7G,WAAW,CAACiF,KAAK,CAACuB,KAAK,EAAEI,KAAK,CAAC;QACxD,CAAC,MAAM;UAAA;UAAArH,cAAA,GAAAmC,CAAA;UAAAnC,cAAA,GAAAqB,CAAA;UACN,IAAI,CAAC0F,OAAO,CAACU,MAAM,CAACH,GAAG,EAAE,CAAC,EAAE,IAAI7G,WAAW,CAACiF,KAAK,CAACuB,KAAK,EAAEI,KAAK,CAAC,EAAE,IAAI5G,WAAW,CAAC4G,KAAK,GAAG,CAAC,EAAE3B,KAAK,CAACyB,YAAY,CAAC,CAAC;QACjH;MACD;IACD,CAAC;IAAA;IAAA;MAAAnH,cAAA,GAAAmC,CAAA;IAAA;EACF;EAEOmD,QAAQA,CAACI,KAAkB;IAAA;IAAA1F,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACjCZ,WAAW,CAAC6E,QAAQ,CAACI,KAAK,EAAE,IAAI,CAACqB,OAAO,CAAC;EAC1C;EAEOlB,iBAAiBA,CAACH,KAAkB,EAAEgC,SAAiB;IAAA;IAAA1H,cAAA,GAAAoB,CAAA;IAC7D,IAAIuG,2BAA2B;IAAA;IAAA,CAAA3H,cAAA,GAAAqB,CAAA,SAAG,CAAC;IAAC;IAAArB,cAAA,GAAAqB,CAAA;IACpC,OAAO;IAAE;IAAA,CAAArB,cAAA,GAAAmC,CAAA,WAAAwF,2BAA2B,IAAI,IAAI,CAACZ,OAAO,CAACnB,MAAM;IAAA;IAAA,CAAA5F,cAAA,GAAAmC,CAAA,WAAIuD,KAAK,CAACuB,KAAK,IAAI,IAAI,CAACF,OAAO,CAACY,2BAA2B,CAAC,CAACR,YAAY,EAAC,EAAE;MAAA;MAAAnH,cAAA,GAAAqB,CAAA;MACtIsG,2BAA2B,EAAE;IAC9B;IACA,IAAIC,eAAe;IAAA;IAAA,CAAA5H,cAAA,GAAAqB,CAAA,SAAGsG,2BAA2B;IAAC;IAAA3H,cAAA,GAAAqB,CAAA;IAClD,OAAO;IAAE;IAAA,CAAArB,cAAA,GAAAmC,CAAA,WAAAyF,eAAe,IAAI,IAAI,CAACb,OAAO,CAACnB,MAAM;IAAA;IAAA,CAAA5F,cAAA,GAAAmC,CAAA,WAAIuD,KAAK,CAACyB,YAAY,GAAG,IAAI,CAACJ,OAAO,CAACa,eAAe,CAAC,CAACX,KAAK,EAAC,EAAE;MAAA;MAAAjH,cAAA,GAAAqB,CAAA;MAC7GuG,eAAe,EAAE;IAClB;IACA,MAAMC,KAAK;IAAA;IAAA,CAAA7H,cAAA,GAAAqB,CAAA,SAAGqG,SAAS,GAAGhC,KAAK,CAACE,MAAM;IAAC;IAAA5F,cAAA,GAAAqB,CAAA;IAEvC,KAAK,IAAIyD,CAAC;IAAA;IAAA,CAAA9E,cAAA,GAAAqB,CAAA,SAAGuG,eAAe,GAAE9C,CAAC,GAAG,IAAI,CAACiC,OAAO,CAACnB,MAAM,EAAEd,CAAC,EAAE,EAAE;MAAA;MAAA9E,cAAA,GAAAqB,CAAA;MAC3D,IAAI,CAAC0F,OAAO,CAACjC,CAAC,CAAC,GAAG,IAAI,CAACiC,OAAO,CAACjC,CAAC,CAAC,CAAC+C,KAAK,CAACA,KAAK,CAAC;IAC/C;IAAC;IAAA7H,cAAA,GAAAqB,CAAA;IAED,IAAIsG,2BAA2B,KAAKC,eAAe,EAAE;MAAA;MAAA5H,cAAA,GAAAmC,CAAA;MACpD,MAAM2F,QAAQ;MAAA;MAAA,CAAA9H,cAAA,GAAAqB,CAAA,SAAG,IAAIZ,WAAW,CAACiF,KAAK,CAACuB,KAAK,EAAEvB,KAAK,CAACuB,KAAK,GAAGS,SAAS,CAAC;MAAC;MAAA1H,cAAA,GAAAqB,CAAA;MACvE,IAAI,CAACyG,QAAQ,CAACC,OAAO,EAAE;QAAA;QAAA/H,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACtB,IAAI,CAAC0F,OAAO,CAACU,MAAM,CAACE,2BAA2B,EAAE,CAAC,EAAEG,QAAQ,CAAC;MAC9D,CAAC;MAAA;MAAA;QAAA9H,cAAA,GAAAmC,CAAA;MAAA;IACF,CAAC,MAAM;MAAA;MAAAnC,cAAA,GAAAmC,CAAA;MACN,MAAM8E,KAAK;MAAA;MAAA,CAAAjH,cAAA,GAAAqB,CAAA,SAAG2G,IAAI,CAAC3B,GAAG,CAACX,KAAK,CAACuB,KAAK,EAAE,IAAI,CAACF,OAAO,CAACY,2BAA2B,CAAC,CAACV,KAAK,CAAC;MACpF,MAAMgB,KAAK;MAAA;MAAA,CAAAjI,cAAA,GAAAqB,CAAA,SAAG2G,IAAI,CAACE,GAAG,CAACxC,KAAK,CAACyB,YAAY,EAAE,IAAI,CAACJ,OAAO,CAACa,eAAe,GAAG,CAAC,CAAC,CAACT,YAAY,CAAC;MAE1F,MAAMW,QAAQ;MAAA;MAAA,CAAA9H,cAAA,GAAAqB,CAAA,SAAG,IAAIZ,WAAW,CAACwG,KAAK,EAAEgB,KAAK,GAAGJ,KAAK,CAAC;MAAC;MAAA7H,cAAA,GAAAqB,CAAA;MACvD,IAAI,CAACyG,QAAQ,CAACC,OAAO,EAAE;QAAA;QAAA/H,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACtB,IAAI,CAAC0F,OAAO,CAACU,MAAM,CAACE,2BAA2B,EAAEC,eAAe,GAAGD,2BAA2B,EAAEG,QAAQ,CAAC;MAC1G,CAAC,MAAM;QAAA;QAAA9H,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACN,IAAI,CAAC0F,OAAO,CAACU,MAAM,CAACE,2BAA2B,EAAEC,eAAe,GAAGD,2BAA2B,CAAC;MAChG;IACD;EACD;EAEAQ,QAAQA,CAAA;IAAA;IAAAnI,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACP,OAAO,IAAI,CAAC0F,OAAO,CAACqB,GAAG,CAAC9F,CAAC,IAAI;MAAA;MAAAtC,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAqB,CAAA;MAAA,OAAAiB,CAAC,CAAC6F,QAAQ,EAAE;IAAF,CAAE,CAAC,CAACE,IAAI,CAAC,KAAK,CAAC;EACvD;;AAID,SAAS9F,YAAYA,CAAC+F,eAAiC,EAAEtG,UAAkB,EAAEjB,mBAAgD,EAAEqB,IAAY,EAAEmG,MAAe,EAAE3E,KAAa;EAAA;EAAA5D,cAAA,GAAAoB,CAAA;EAC1K,IAAIkB,CAAC;EAAA;EAAA,CAAAtC,cAAA,GAAAqB,CAAA,SAAqC,IAAI;EAAC;EAAArB,cAAA,GAAAqB,CAAA;EAE/C,IAAIN,mBAAmB,EAAE;IAAA;IAAAf,cAAA,GAAAmC,CAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACxB,IAAI;MAAA;MAAArB,cAAA,GAAAqB,CAAA;MACHiB,CAAC,GAAGvB,mBAAmB,CAACyH,eAAe,CAACpG,IAAI,EAAEmG,MAAM,EAAE3E,KAAK,CAAC6E,KAAK,EAAE,CAAC;IACrE,CAAC,CAAC,OAAOC,CAAC,EAAE;MAAA;MAAA1I,cAAA,GAAAqB,CAAA;MACXjB,iBAAiB,CAACsI,CAAC,CAAC;IACrB;EACD,CAAC;EAAA;EAAA;IAAA1I,cAAA,GAAAmC,CAAA;EAAA;EAAAnC,cAAA,GAAAqB,CAAA;EAED,IAAI,CAACiB,CAAC,EAAE;IAAA;IAAAtC,cAAA,GAAAmC,CAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACPiB,CAAC,GAAG5B,mBAAmB,CAAC4H,eAAe,CAACK,gBAAgB,CAAC3G,UAAU,CAAC,EAAE4B,KAAK,CAAC;EAC7E,CAAC;EAAA;EAAA;IAAA5D,cAAA,GAAAmC,CAAA;EAAA;EAAAnC,cAAA,GAAAqB,CAAA;EAEDR,UAAU,CAAC+H,kBAAkB,CAACtG,CAAC,CAACI,MAAM,EAAEN,IAAI,CAACwD,MAAM,CAAC;EAAC;EAAA5F,cAAA,GAAAqB,CAAA;EACrD,OAAOiB,CAAC;AACT;AAEA,OAAM,MAAOuG,0BAA0B;EAIpBC,wBAAA;EACAC,qBAAA;EAJVC,WAAW;EAAA;EAAA,CAAAhJ,cAAA,GAAAqB,CAAA,SAAG,KAAK;EAE3BH,YACkB4H,wBAA6D,EAC7DC,qBAAmD;IAAA;IAAA/I,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IADnD,KAAAyH,wBAAwB,GAAxBA,wBAAwB;IAAqC;IAAA9I,cAAA,GAAAqB,CAAA;IAC7D,KAAA0H,qBAAqB,GAArBA,qBAAqB;EAEvC;EAEOE,OAAOA,CAAA;IAAA;IAAAjJ,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACb,IAAI,CAAC2H,WAAW,GAAG,IAAI;EACxB;EAEOE,aAAaA,CAAA;IAAA;IAAAlJ,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACnB,IAAI,CAAC8H,4BAA4B,EAAE;EACpC;EAEQC,YAAY;EAAA;EAAA,CAAApJ,cAAA,GAAAqB,CAAA,SAAG,KAAK;EACpB8H,4BAA4BA,CAAA;IAAA;IAAAnJ,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACnC;IAAI;IAAA,CAAArB,cAAA,GAAAmC,CAAA,eAAI,CAACiH,YAAY;IAAA;IAAA,CAAApJ,cAAA,GAAAmC,CAAA,WAAI,CAAC,IAAI,CAAC2G,wBAAwB,CAAClH,UAAU,CAACyH,kBAAkB,EAAE;IAAA;IAAA,CAAArJ,cAAA,GAAAmC,CAAA,WAAI,CAAC,IAAI,CAACmH,mBAAmB,EAAE,GAAE;MAAA;MAAAtJ,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACvH;IACD,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IAED,IAAI,CAAC+H,YAAY,GAAG,IAAI;IAAC;IAAApJ,cAAA,GAAAqB,CAAA;IACzBnB,iBAAiB,CAAEqJ,QAAQ,IAAI;MAAA;MAAAvJ,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAqB,CAAA;MAC9B,IAAI,CAAC+H,YAAY,GAAG,KAAK;MAAC;MAAApJ,cAAA,GAAAqB,CAAA;MAE1B,IAAI,CAACmI,+BAA+B,CAACD,QAAQ,CAAC;IAC/C,CAAC,CAAC;EACH;EAEA;;;EAGQC,+BAA+BA,CAACD,QAAsB;IAAA;IAAAvJ,cAAA,GAAAoB,CAAA;IAC7D;IACA;IACA,MAAMqI,OAAO;IAAA;IAAA,CAAAzJ,cAAA,GAAAqB,CAAA,SAAGqI,IAAI,CAACC,GAAG,EAAE,GAAGJ,QAAQ,CAACK,aAAa,EAAE;IAAC;IAAA5J,cAAA,GAAAqB,CAAA;IAEtD,MAAMwI,OAAO,GAAGA,CAAA,KAAK;MAAA;MAAA7J,cAAA,GAAAoB,CAAA;MAAApB,cAAA,GAAAqB,CAAA;MACpB;MAAI;MAAA,CAAArB,cAAA,GAAAmC,CAAA,eAAI,CAAC6G,WAAW;MAAA;MAAA,CAAAhJ,cAAA,GAAAmC,CAAA,WAAI,CAAC,IAAI,CAAC2G,wBAAwB,CAAClH,UAAU,CAACyH,kBAAkB,EAAE;MAAA;MAAA,CAAArJ,cAAA,GAAAmC,CAAA,WAAI,CAAC,IAAI,CAACmH,mBAAmB,EAAE,GAAE;QAAA;QAAAtJ,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACtH;QACA;MACD,CAAC;MAAA;MAAA;QAAArB,cAAA,GAAAmC,CAAA;MAAA;MAAAnC,cAAA,GAAAqB,CAAA;MAED,IAAI,CAACyI,gCAAgC,EAAE;MAAC;MAAA9J,cAAA,GAAAqB,CAAA;MAExC,IAAIqI,IAAI,CAACC,GAAG,EAAE,GAAGF,OAAO,EAAE;QAAA;QAAAzJ,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACzB;QACA;QACAhB,WAAW,CAACwJ,OAAO,CAAC;MACrB,CAAC,MAAM;QAAA;QAAA7J,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACN;QACA,IAAI,CAAC8H,4BAA4B,EAAE;MACpC;IACD,CAAC;IAAC;IAAAnJ,cAAA,GAAAqB,CAAA;IACFwI,OAAO,EAAE;EACV;EAEA;;;EAGQC,gCAAgCA,CAAA;IAAA;IAAA9J,cAAA,GAAAoB,CAAA;IACvC,MAAMD,SAAS;IAAA;IAAA,CAAAnB,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAACyH,wBAAwB,CAAClH,UAAU,CAACmI,YAAY,EAAE;IACzE,MAAMhI,OAAO;IAAA;IAAA,CAAA/B,cAAA,GAAAqB,CAAA,SAAG,IAAIT,gCAAgC,EAAE;IACtD,MAAMoJ,EAAE;IAAA;IAAA,CAAAhK,cAAA,GAAAqB,CAAA,SAAGf,SAAS,CAAC2J,MAAM,CAAC,KAAK,CAAC;IAAC;IAAAjK,cAAA,GAAAqB,CAAA;IAEnC,GAAG;MAAA;MAAArB,cAAA,GAAAqB,CAAA;MACF,IAAI2I,EAAE,CAACE,OAAO,EAAE,GAAG,CAAC,EAAE;QAAA;QAAAlK,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACrB;QACA;QACA;QACA;MACD,CAAC;MAAA;MAAA;QAAArB,cAAA,GAAAmC,CAAA;MAAA;MAED,MAAMgI,mBAAmB;MAAA;MAAA,CAAAnK,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAAC+I,uBAAuB,CAACrI,OAAO,CAAC;MAAC;MAAA/B,cAAA,GAAAqB,CAAA;MAElE,IAAI8I,mBAAmB,IAAIhJ,SAAS,EAAE;QAAA;QAAAnB,cAAA,GAAAmC,CAAA;QAAAnC,cAAA,GAAAqB,CAAA;QACrC;MACD,CAAC;MAAA;MAAA;QAAArB,cAAA,GAAAmC,CAAA;MAAA;IACF,CAAC,QAAQ,IAAI,CAACmH,mBAAmB,EAAE;IAAE;IAAAtJ,cAAA,GAAAqB,CAAA;IAErC,IAAI,CAAC0H,qBAAqB,CAACsB,SAAS,CAACtI,OAAO,CAACuI,QAAQ,EAAE,CAAC;IAAC;IAAAtK,cAAA,GAAAqB,CAAA;IACzD,IAAI,CAACkJ,aAAa,EAAE;EACrB;EAEQjB,mBAAmBA,CAAA;IAAA;IAAAtJ,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAC1B,IAAI,CAAC,IAAI,CAACyH,wBAAwB,EAAE;MAAA;MAAA9I,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACnC,OAAO,KAAK;IACb,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD,OAAO,CAAC,IAAI,CAACyH,wBAAwB,CAAC7H,KAAK,CAACuF,cAAc,EAAE;EAC7D;EAEQ4D,uBAAuBA,CAACrI,OAAyC;IAAA;IAAA/B,cAAA,GAAAoB,CAAA;IACxE,MAAMoJ,gBAAgB;IAAA;IAAA,CAAAxK,cAAA,GAAAqB,CAAA,SAAG,IAAI,CAACyH,wBAAwB,EAAEpH,mBAAmB,EAAE;IAAC;IAAA1B,cAAA,GAAAqB,CAAA;IAC9E,IAAI,CAACmJ,gBAAgB,EAAE;MAAA;MAAAxK,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACtB,OAAO,IAAI,CAACyH,wBAAwB,CAAClH,UAAU,CAACmI,YAAY,EAAE,GAAG,CAAC;IACnE,CAAC;IAAA;IAAA;MAAA/J,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD,IAAI,CAACyH,wBAAwB,CAAChH,qBAAqB,CAACC,OAAO,EAAEyI,gBAAgB,CAAC/I,UAAU,CAAC;IAAC;IAAAzB,cAAA,GAAAqB,CAAA;IAC1F,OAAOmJ,gBAAgB,CAAC/I,UAAU;EACnC;EAEO8I,aAAaA,CAAA;IAAA;IAAAvK,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IACnB,IAAI,IAAI,CAAC2H,WAAW,EAAE;MAAA;MAAAhJ,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACrB;IACD,CAAC;IAAA;IAAA;MAAArB,cAAA,GAAAmC,CAAA;IAAA;IAAAnC,cAAA,GAAAqB,CAAA;IACD,IAAI,IAAI,CAACyH,wBAAwB,CAAC7H,KAAK,CAACuF,cAAc,EAAE,EAAE;MAAA;MAAAxG,cAAA,GAAAmC,CAAA;MAAAnC,cAAA,GAAAqB,CAAA;MACzD,IAAI,CAAC0H,qBAAqB,CAAC0B,8BAA8B,EAAE;IAC5D,CAAC;IAAA;IAAA;MAAAzK,cAAA,GAAAmC,CAAA;IAAA;EACF;EAEOuI,aAAaA,CAACrG,eAAuB,EAAEyB,sBAA8B;IAAA;IAAA9F,cAAA,GAAAoB,CAAA;IAAApB,cAAA,GAAAqB,CAAA;IAC3E,IAAI,CAACyH,wBAAwB,CAAC7H,KAAK,CAACkF,uBAAuB,CAAC,IAAI3F,SAAS,CAAC6D,eAAe,EAAEyB,sBAAsB,CAAC,CAAC;EACpH","ignoreList":[]}