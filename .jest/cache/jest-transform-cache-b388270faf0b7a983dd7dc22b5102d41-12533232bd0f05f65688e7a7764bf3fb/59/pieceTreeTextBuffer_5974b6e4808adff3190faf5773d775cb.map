{"version":3,"names":["cov_n6r5yhjeq","actualCoverage","Emitter","strings","Range","ApplyEditsResult","PieceTreeBase","countEOL","TextChange","Disposable","PieceTreeTextBuffer","_pieceTree","_BOM","_mightContainRTL","_mightContainUnusualLineTerminators","_mightContainNonBasicASCII","_onDidChangeContent","s","_register","onDidChangeContent","f","event","constructor","chunks","BOM","eol","containsRTL","containsUnusualLineTerminators","isBasicASCII","eolNormalized","equals","other","b","getEOL","equal","mightContainRTL","mightContainUnusualLineTerminators","resetMightContainUnusualLineTerminators","mightContainNonBasicASCII","getBOM","createSnapshot","preserveBOM","getOffsetAt","lineNumber","column","getPositionAt","offset","getRangeAt","start","length","end","startPosition","endPosition","getValueInRange","range","isEmpty","lineEnding","_getEndOfLine","getValueLengthInRange","startLineNumber","endLineNumber","endColumn","startColumn","startOffset","endOffset","eolOffsetCompensation","desiredEOL","actualEOL","delta","eolCount","getCharacterCountInRange","result","fromLineNumber","toLineNumber","lineContent","getLineContent","fromOffset","toOffset","isHighSurrogate","charCodeAt","getNearestChunk","getLength","getLineCount","getLinesContent","getLineCharCode","index","getCharCode","getLineLength","getLineMinColumn","getLineMaxColumn","getLineFirstNonWhitespaceColumn","firstNonWhitespaceIndex","getLineLastNonWhitespaceColumn","lastNonWhitespaceIndex","Error","setEOL","newEOL","applyEdits","rawOperations","recordTrimAutoWhitespace","computeUndoEdits","canReduceOperations","operations","i","op","_isTracked","validatedRange","text","textMightContainNonBasicASCII","validText","firstLineLength","lastLineLength","strEOL","bufferEOL","expectedStrEOL","replace","sortIndex","identifier","rangeOffset","rangeLength","forceMoveMarkers","Boolean","isAutoWhitespaceEdit","sort","_sortOpsAscending","hasTouchingRanges","count","rangeEnd","getEndPosition","nextRangeStart","getStartPosition","isBeforeOrEqual","isBefore","_reduceOperations","reverseRanges","_getInverseEditRanges","newTrimAutoWhitespaceCandidates","reverseRange","currentLineContent","push","oldContent","reverseOperations","reverseRangeDeltaOffset","bufferText","reverseRangeOffset","textChange","a","contentChanges","_doApplyEdits","trimAutoWhitespaceLineNumbers","len","prevContent","fire","_toSingleEditOperation","firstEditRange","lastEditRange","entireEditRange","lastEndLineNumber","lastEndColumn","operation","join","_sortOpsDescending","delete","insert","contentChangeRange","findMatchesLineByLine","searchRange","searchData","captureMatches","limitResultCount","getPieceTree","_getInverseEditRange","resultRange","lineCount","prevOpEndLineNumber","prevOpEndColumn","prevOp","r","compareRangesUsingEnds"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { Position } from '../../core/position.js';\nimport { Range } from '../../core/range.js';\nimport { ApplyEditsResult, EndOfLinePreference, FindMatch, IInternalModelContentChange, ISingleEditOperationIdentifier, ITextBuffer, ITextSnapshot, ValidAnnotatedEditOperation, IValidEditOperation, SearchData } from '../../model.js';\nimport { PieceTreeBase, StringBuffer } from './pieceTreeBase.js';\nimport { countEOL, StringEOL } from '../../core/misc/eolCounter.js';\nimport { TextChange } from '../../core/textChange.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\n\nexport interface IValidatedEditOperation {\n\tsortIndex: number;\n\tidentifier: ISingleEditOperationIdentifier | null;\n\trange: Range;\n\trangeOffset: number;\n\trangeLength: number;\n\ttext: string;\n\teolCount: number;\n\tfirstLineLength: number;\n\tlastLineLength: number;\n\tforceMoveMarkers: boolean;\n\tisAutoWhitespaceEdit: boolean;\n}\n\ninterface IReverseSingleEditOperation extends IValidEditOperation {\n\tsortIndex: number;\n}\n\nexport class PieceTreeTextBuffer extends Disposable implements ITextBuffer {\n\tprivate _pieceTree: PieceTreeBase;\n\tprivate readonly _BOM: string;\n\tprivate _mightContainRTL: boolean;\n\tprivate _mightContainUnusualLineTerminators: boolean;\n\tprivate _mightContainNonBasicASCII: boolean;\n\n\tprivate readonly _onDidChangeContent: Emitter<void> = this._register(new Emitter<void>());\n\tpublic get onDidChangeContent(): Event<void> { return this._onDidChangeContent.event; }\n\n\tconstructor(chunks: StringBuffer[], BOM: string, eol: '\\r\\n' | '\\n', containsRTL: boolean, containsUnusualLineTerminators: boolean, isBasicASCII: boolean, eolNormalized: boolean) {\n\t\tsuper();\n\t\tthis._BOM = BOM;\n\t\tthis._mightContainNonBasicASCII = !isBasicASCII;\n\t\tthis._mightContainRTL = containsRTL;\n\t\tthis._mightContainUnusualLineTerminators = containsUnusualLineTerminators;\n\t\tthis._pieceTree = new PieceTreeBase(chunks, eol, eolNormalized);\n\t}\n\n\t// #region TextBuffer\n\tpublic equals(other: ITextBuffer): boolean {\n\t\tif (!(other instanceof PieceTreeTextBuffer)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this._BOM !== other._BOM) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.getEOL() !== other.getEOL()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._pieceTree.equal(other._pieceTree);\n\t}\n\tpublic mightContainRTL(): boolean {\n\t\treturn this._mightContainRTL;\n\t}\n\tpublic mightContainUnusualLineTerminators(): boolean {\n\t\treturn this._mightContainUnusualLineTerminators;\n\t}\n\tpublic resetMightContainUnusualLineTerminators(): void {\n\t\tthis._mightContainUnusualLineTerminators = false;\n\t}\n\tpublic mightContainNonBasicASCII(): boolean {\n\t\treturn this._mightContainNonBasicASCII;\n\t}\n\tpublic getBOM(): string {\n\t\treturn this._BOM;\n\t}\n\tpublic getEOL(): '\\r\\n' | '\\n' {\n\t\treturn this._pieceTree.getEOL();\n\t}\n\n\tpublic createSnapshot(preserveBOM: boolean): ITextSnapshot {\n\t\treturn this._pieceTree.createSnapshot(preserveBOM ? this._BOM : '');\n\t}\n\n\tpublic getOffsetAt(lineNumber: number, column: number): number {\n\t\treturn this._pieceTree.getOffsetAt(lineNumber, column);\n\t}\n\n\tpublic getPositionAt(offset: number): Position {\n\t\treturn this._pieceTree.getPositionAt(offset);\n\t}\n\n\tpublic getRangeAt(start: number, length: number): Range {\n\t\tconst end = start + length;\n\t\tconst startPosition = this.getPositionAt(start);\n\t\tconst endPosition = this.getPositionAt(end);\n\t\treturn new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column);\n\t}\n\n\tpublic getValueInRange(range: Range, eol: EndOfLinePreference = EndOfLinePreference.TextDefined): string {\n\t\tif (range.isEmpty()) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst lineEnding = this._getEndOfLine(eol);\n\t\treturn this._pieceTree.getValueInRange(range, lineEnding);\n\t}\n\n\tpublic getValueLengthInRange(range: Range, eol: EndOfLinePreference = EndOfLinePreference.TextDefined): number {\n\t\tif (range.isEmpty()) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (range.startLineNumber === range.endLineNumber) {\n\t\t\treturn (range.endColumn - range.startColumn);\n\t\t}\n\n\t\tconst startOffset = this.getOffsetAt(range.startLineNumber, range.startColumn);\n\t\tconst endOffset = this.getOffsetAt(range.endLineNumber, range.endColumn);\n\n\t\t// offsets use the text EOL, so we need to compensate for length differences\n\t\t// if the requested EOL doesn't match the text EOL\n\t\tlet eolOffsetCompensation = 0;\n\t\tconst desiredEOL = this._getEndOfLine(eol);\n\t\tconst actualEOL = this.getEOL();\n\t\tif (desiredEOL.length !== actualEOL.length) {\n\t\t\tconst delta = desiredEOL.length - actualEOL.length;\n\t\t\tconst eolCount = range.endLineNumber - range.startLineNumber;\n\t\t\teolOffsetCompensation = delta * eolCount;\n\t\t}\n\n\t\treturn endOffset - startOffset + eolOffsetCompensation;\n\t}\n\n\tpublic getCharacterCountInRange(range: Range, eol: EndOfLinePreference = EndOfLinePreference.TextDefined): number {\n\t\tif (this._mightContainNonBasicASCII) {\n\t\t\t// we must count by iterating\n\n\t\t\tlet result = 0;\n\n\t\t\tconst fromLineNumber = range.startLineNumber;\n\t\t\tconst toLineNumber = range.endLineNumber;\n\t\t\tfor (let lineNumber = fromLineNumber; lineNumber <= toLineNumber; lineNumber++) {\n\t\t\t\tconst lineContent = this.getLineContent(lineNumber);\n\t\t\t\tconst fromOffset = (lineNumber === fromLineNumber ? range.startColumn - 1 : 0);\n\t\t\t\tconst toOffset = (lineNumber === toLineNumber ? range.endColumn - 1 : lineContent.length);\n\n\t\t\t\tfor (let offset = fromOffset; offset < toOffset; offset++) {\n\t\t\t\t\tif (strings.isHighSurrogate(lineContent.charCodeAt(offset))) {\n\t\t\t\t\t\tresult = result + 1;\n\t\t\t\t\t\toffset = offset + 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = result + 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult += this._getEndOfLine(eol).length * (toLineNumber - fromLineNumber);\n\n\t\t\treturn result;\n\t\t}\n\n\t\treturn this.getValueLengthInRange(range, eol);\n\t}\n\n\tpublic getNearestChunk(offset: number): string {\n\t\treturn this._pieceTree.getNearestChunk(offset);\n\t}\n\n\tpublic getLength(): number {\n\t\treturn this._pieceTree.getLength();\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._pieceTree.getLineCount();\n\t}\n\n\tpublic getLinesContent(): string[] {\n\t\treturn this._pieceTree.getLinesContent();\n\t}\n\n\tpublic getLineContent(lineNumber: number): string {\n\t\treturn this._pieceTree.getLineContent(lineNumber);\n\t}\n\n\tpublic getLineCharCode(lineNumber: number, index: number): number {\n\t\treturn this._pieceTree.getLineCharCode(lineNumber, index);\n\t}\n\n\tpublic getCharCode(offset: number): number {\n\t\treturn this._pieceTree.getCharCode(offset);\n\t}\n\n\tpublic getLineLength(lineNumber: number): number {\n\t\treturn this._pieceTree.getLineLength(lineNumber);\n\t}\n\n\tpublic getLineMinColumn(lineNumber: number): number {\n\t\treturn 1;\n\t}\n\n\tpublic getLineMaxColumn(lineNumber: number): number {\n\t\treturn this.getLineLength(lineNumber) + 1;\n\t}\n\n\tpublic getLineFirstNonWhitespaceColumn(lineNumber: number): number {\n\t\tconst result = strings.firstNonWhitespaceIndex(this.getLineContent(lineNumber));\n\t\tif (result === -1) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn result + 1;\n\t}\n\n\tpublic getLineLastNonWhitespaceColumn(lineNumber: number): number {\n\t\tconst result = strings.lastNonWhitespaceIndex(this.getLineContent(lineNumber));\n\t\tif (result === -1) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn result + 2;\n\t}\n\n\tprivate _getEndOfLine(eol: EndOfLinePreference): string {\n\t\tswitch (eol) {\n\t\t\tcase EndOfLinePreference.LF:\n\t\t\t\treturn '\\n';\n\t\t\tcase EndOfLinePreference.CRLF:\n\t\t\t\treturn '\\r\\n';\n\t\t\tcase EndOfLinePreference.TextDefined:\n\t\t\t\treturn this.getEOL();\n\t\t\tdefault:\n\t\t\t\tthrow new Error('Unknown EOL preference');\n\t\t}\n\t}\n\n\tpublic setEOL(newEOL: '\\r\\n' | '\\n'): void {\n\t\tthis._pieceTree.setEOL(newEOL);\n\t}\n\n\tpublic applyEdits(rawOperations: ValidAnnotatedEditOperation[], recordTrimAutoWhitespace: boolean, computeUndoEdits: boolean): ApplyEditsResult {\n\t\tlet mightContainRTL = this._mightContainRTL;\n\t\tlet mightContainUnusualLineTerminators = this._mightContainUnusualLineTerminators;\n\t\tlet mightContainNonBasicASCII = this._mightContainNonBasicASCII;\n\t\tlet canReduceOperations = true;\n\n\t\tlet operations: IValidatedEditOperation[] = [];\n\t\tfor (let i = 0; i < rawOperations.length; i++) {\n\t\t\tconst op = rawOperations[i];\n\t\t\tif (canReduceOperations && op._isTracked) {\n\t\t\t\tcanReduceOperations = false;\n\t\t\t}\n\t\t\tconst validatedRange = op.range;\n\t\t\tif (op.text) {\n\t\t\t\tlet textMightContainNonBasicASCII = true;\n\t\t\t\tif (!mightContainNonBasicASCII) {\n\t\t\t\t\ttextMightContainNonBasicASCII = !strings.isBasicASCII(op.text);\n\t\t\t\t\tmightContainNonBasicASCII = textMightContainNonBasicASCII;\n\t\t\t\t}\n\t\t\t\tif (!mightContainRTL && textMightContainNonBasicASCII) {\n\t\t\t\t\t// check if the new inserted text contains RTL\n\t\t\t\t\tmightContainRTL = strings.containsRTL(op.text);\n\t\t\t\t}\n\t\t\t\tif (!mightContainUnusualLineTerminators && textMightContainNonBasicASCII) {\n\t\t\t\t\t// check if the new inserted text contains unusual line terminators\n\t\t\t\t\tmightContainUnusualLineTerminators = strings.containsUnusualLineTerminators(op.text);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet validText = '';\n\t\t\tlet eolCount = 0;\n\t\t\tlet firstLineLength = 0;\n\t\t\tlet lastLineLength = 0;\n\t\t\tif (op.text) {\n\t\t\t\tlet strEOL: StringEOL;\n\t\t\t\t[eolCount, firstLineLength, lastLineLength, strEOL] = countEOL(op.text);\n\n\t\t\t\tconst bufferEOL = this.getEOL();\n\t\t\t\tconst expectedStrEOL = (bufferEOL === '\\r\\n' ? StringEOL.CRLF : StringEOL.LF);\n\t\t\t\tif (strEOL === StringEOL.Unknown || strEOL === expectedStrEOL) {\n\t\t\t\t\tvalidText = op.text;\n\t\t\t\t} else {\n\t\t\t\t\tvalidText = op.text.replace(/\\r\\n|\\r|\\n/g, bufferEOL);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toperations[i] = {\n\t\t\t\tsortIndex: i,\n\t\t\t\tidentifier: op.identifier || null,\n\t\t\t\trange: validatedRange,\n\t\t\t\trangeOffset: this.getOffsetAt(validatedRange.startLineNumber, validatedRange.startColumn),\n\t\t\t\trangeLength: this.getValueLengthInRange(validatedRange),\n\t\t\t\ttext: validText,\n\t\t\t\teolCount: eolCount,\n\t\t\t\tfirstLineLength: firstLineLength,\n\t\t\t\tlastLineLength: lastLineLength,\n\t\t\t\tforceMoveMarkers: Boolean(op.forceMoveMarkers),\n\t\t\t\tisAutoWhitespaceEdit: op.isAutoWhitespaceEdit || false\n\t\t\t};\n\t\t}\n\n\t\t// Sort operations ascending\n\t\toperations.sort(PieceTreeTextBuffer._sortOpsAscending);\n\n\t\tlet hasTouchingRanges = false;\n\t\tfor (let i = 0, count = operations.length - 1; i < count; i++) {\n\t\t\tconst rangeEnd = operations[i].range.getEndPosition();\n\t\t\tconst nextRangeStart = operations[i + 1].range.getStartPosition();\n\n\t\t\tif (nextRangeStart.isBeforeOrEqual(rangeEnd)) {\n\t\t\t\tif (nextRangeStart.isBefore(rangeEnd)) {\n\t\t\t\t\t// overlapping ranges\n\t\t\t\t\tthrow new Error('Overlapping ranges are not allowed!');\n\t\t\t\t}\n\t\t\t\thasTouchingRanges = true;\n\t\t\t}\n\t\t}\n\n\t\tif (canReduceOperations) {\n\t\t\toperations = this._reduceOperations(operations);\n\t\t}\n\n\t\t// Delta encode operations\n\t\tconst reverseRanges = (computeUndoEdits || recordTrimAutoWhitespace ? PieceTreeTextBuffer._getInverseEditRanges(operations) : []);\n\t\tconst newTrimAutoWhitespaceCandidates: { lineNumber: number; oldContent: string }[] = [];\n\t\tif (recordTrimAutoWhitespace) {\n\t\t\tfor (let i = 0; i < operations.length; i++) {\n\t\t\t\tconst op = operations[i];\n\t\t\t\tconst reverseRange = reverseRanges[i];\n\n\t\t\t\tif (op.isAutoWhitespaceEdit && op.range.isEmpty()) {\n\t\t\t\t\t// Record already the future line numbers that might be auto whitespace removal candidates on next edit\n\t\t\t\t\tfor (let lineNumber = reverseRange.startLineNumber; lineNumber <= reverseRange.endLineNumber; lineNumber++) {\n\t\t\t\t\t\tlet currentLineContent = '';\n\t\t\t\t\t\tif (lineNumber === reverseRange.startLineNumber) {\n\t\t\t\t\t\t\tcurrentLineContent = this.getLineContent(op.range.startLineNumber);\n\t\t\t\t\t\t\tif (strings.firstNonWhitespaceIndex(currentLineContent) !== -1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewTrimAutoWhitespaceCandidates.push({ lineNumber: lineNumber, oldContent: currentLineContent });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet reverseOperations: IReverseSingleEditOperation[] | null = null;\n\t\tif (computeUndoEdits) {\n\n\t\t\tlet reverseRangeDeltaOffset = 0;\n\t\t\treverseOperations = [];\n\t\t\tfor (let i = 0; i < operations.length; i++) {\n\t\t\t\tconst op = operations[i];\n\t\t\t\tconst reverseRange = reverseRanges[i];\n\t\t\t\tconst bufferText = this.getValueInRange(op.range);\n\t\t\t\tconst reverseRangeOffset = op.rangeOffset + reverseRangeDeltaOffset;\n\t\t\t\treverseRangeDeltaOffset += (op.text.length - bufferText.length);\n\n\t\t\t\treverseOperations[i] = {\n\t\t\t\t\tsortIndex: op.sortIndex,\n\t\t\t\t\tidentifier: op.identifier,\n\t\t\t\t\trange: reverseRange,\n\t\t\t\t\ttext: bufferText,\n\t\t\t\t\ttextChange: new TextChange(op.rangeOffset, bufferText, reverseRangeOffset, op.text)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Can only sort reverse operations when the order is not significant\n\t\t\tif (!hasTouchingRanges) {\n\t\t\t\treverseOperations.sort((a, b) => a.sortIndex - b.sortIndex);\n\t\t\t}\n\t\t}\n\n\n\t\tthis._mightContainRTL = mightContainRTL;\n\t\tthis._mightContainUnusualLineTerminators = mightContainUnusualLineTerminators;\n\t\tthis._mightContainNonBasicASCII = mightContainNonBasicASCII;\n\n\t\tconst contentChanges = this._doApplyEdits(operations);\n\n\t\tlet trimAutoWhitespaceLineNumbers: number[] | null = null;\n\t\tif (recordTrimAutoWhitespace && newTrimAutoWhitespaceCandidates.length > 0) {\n\t\t\t// sort line numbers auto whitespace removal candidates for next edit descending\n\t\t\tnewTrimAutoWhitespaceCandidates.sort((a, b) => b.lineNumber - a.lineNumber);\n\n\t\t\ttrimAutoWhitespaceLineNumbers = [];\n\t\t\tfor (let i = 0, len = newTrimAutoWhitespaceCandidates.length; i < len; i++) {\n\t\t\t\tconst lineNumber = newTrimAutoWhitespaceCandidates[i].lineNumber;\n\t\t\t\tif (i > 0 && newTrimAutoWhitespaceCandidates[i - 1].lineNumber === lineNumber) {\n\t\t\t\t\t// Do not have the same line number twice\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst prevContent = newTrimAutoWhitespaceCandidates[i].oldContent;\n\t\t\t\tconst lineContent = this.getLineContent(lineNumber);\n\n\t\t\t\tif (lineContent.length === 0 || lineContent === prevContent || strings.firstNonWhitespaceIndex(lineContent) !== -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\ttrimAutoWhitespaceLineNumbers.push(lineNumber);\n\t\t\t}\n\t\t}\n\n\t\tthis._onDidChangeContent.fire();\n\n\t\treturn new ApplyEditsResult(\n\t\t\treverseOperations,\n\t\t\tcontentChanges,\n\t\t\ttrimAutoWhitespaceLineNumbers\n\t\t);\n\t}\n\n\t/**\n\t * Transform operations such that they represent the same logic edit,\n\t * but that they also do not cause OOM crashes.\n\t */\n\tprivate _reduceOperations(operations: IValidatedEditOperation[]): IValidatedEditOperation[] {\n\t\tif (operations.length < 1000) {\n\t\t\t// We know from empirical testing that a thousand edits work fine regardless of their shape.\n\t\t\treturn operations;\n\t\t}\n\n\t\t// At one point, due to how events are emitted and how each operation is handled,\n\t\t// some operations can trigger a high amount of temporary string allocations,\n\t\t// that will immediately get edited again.\n\t\t// e.g. a formatter inserting ridiculous ammounts of \\n on a model with a single line\n\t\t// Therefore, the strategy is to collapse all the operations into a huge single edit operation\n\t\treturn [this._toSingleEditOperation(operations)];\n\t}\n\n\t_toSingleEditOperation(operations: IValidatedEditOperation[]): IValidatedEditOperation {\n\t\tlet forceMoveMarkers = false;\n\t\tconst firstEditRange = operations[0].range;\n\t\tconst lastEditRange = operations[operations.length - 1].range;\n\t\tconst entireEditRange = new Range(firstEditRange.startLineNumber, firstEditRange.startColumn, lastEditRange.endLineNumber, lastEditRange.endColumn);\n\t\tlet lastEndLineNumber = firstEditRange.startLineNumber;\n\t\tlet lastEndColumn = firstEditRange.startColumn;\n\t\tconst result: string[] = [];\n\n\t\tfor (let i = 0, len = operations.length; i < len; i++) {\n\t\t\tconst operation = operations[i];\n\t\t\tconst range = operation.range;\n\n\t\t\tforceMoveMarkers = forceMoveMarkers || operation.forceMoveMarkers;\n\n\t\t\t// (1) -- Push old text\n\t\t\tresult.push(this.getValueInRange(new Range(lastEndLineNumber, lastEndColumn, range.startLineNumber, range.startColumn)));\n\n\t\t\t// (2) -- Push new text\n\t\t\tif (operation.text.length > 0) {\n\t\t\t\tresult.push(operation.text);\n\t\t\t}\n\n\t\t\tlastEndLineNumber = range.endLineNumber;\n\t\t\tlastEndColumn = range.endColumn;\n\t\t}\n\n\t\tconst text = result.join('');\n\t\tconst [eolCount, firstLineLength, lastLineLength] = countEOL(text);\n\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: operations[0].identifier,\n\t\t\trange: entireEditRange,\n\t\t\trangeOffset: this.getOffsetAt(entireEditRange.startLineNumber, entireEditRange.startColumn),\n\t\t\trangeLength: this.getValueLengthInRange(entireEditRange, EndOfLinePreference.TextDefined),\n\t\t\ttext: text,\n\t\t\teolCount: eolCount,\n\t\t\tfirstLineLength: firstLineLength,\n\t\t\tlastLineLength: lastLineLength,\n\t\t\tforceMoveMarkers: forceMoveMarkers,\n\t\t\tisAutoWhitespaceEdit: false\n\t\t};\n\t}\n\n\tprivate _doApplyEdits(operations: IValidatedEditOperation[]): IInternalModelContentChange[] {\n\t\toperations.sort(PieceTreeTextBuffer._sortOpsDescending);\n\n\t\tconst contentChanges: IInternalModelContentChange[] = [];\n\n\t\t// operations are from bottom to top\n\t\tfor (let i = 0; i < operations.length; i++) {\n\t\t\tconst op = operations[i];\n\n\t\t\tconst startLineNumber = op.range.startLineNumber;\n\t\t\tconst startColumn = op.range.startColumn;\n\t\t\tconst endLineNumber = op.range.endLineNumber;\n\t\t\tconst endColumn = op.range.endColumn;\n\n\t\t\tif (startLineNumber === endLineNumber && startColumn === endColumn && op.text.length === 0) {\n\t\t\t\t// no-op\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (op.text) {\n\t\t\t\t// replacement\n\t\t\t\tthis._pieceTree.delete(op.rangeOffset, op.rangeLength);\n\t\t\t\tthis._pieceTree.insert(op.rangeOffset, op.text, true);\n\n\t\t\t} else {\n\t\t\t\t// deletion\n\t\t\t\tthis._pieceTree.delete(op.rangeOffset, op.rangeLength);\n\t\t\t}\n\n\t\t\tconst contentChangeRange = new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n\t\t\tcontentChanges.push({\n\t\t\t\trange: contentChangeRange,\n\t\t\t\trangeLength: op.rangeLength,\n\t\t\t\ttext: op.text,\n\t\t\t\trangeOffset: op.rangeOffset,\n\t\t\t\tforceMoveMarkers: op.forceMoveMarkers\n\t\t\t});\n\t\t}\n\t\treturn contentChanges;\n\t}\n\n\tfindMatchesLineByLine(searchRange: Range, searchData: SearchData, captureMatches: boolean, limitResultCount: number): FindMatch[] {\n\t\treturn this._pieceTree.findMatchesLineByLine(searchRange, searchData, captureMatches, limitResultCount);\n\t}\n\n\t// #endregion\n\n\t// #region helper\n\t// testing purpose.\n\tpublic getPieceTree(): PieceTreeBase {\n\t\treturn this._pieceTree;\n\t}\n\n\tpublic static _getInverseEditRange(range: Range, text: string) {\n\t\tconst startLineNumber = range.startLineNumber;\n\t\tconst startColumn = range.startColumn;\n\t\tconst [eolCount, firstLineLength, lastLineLength] = countEOL(text);\n\t\tlet resultRange: Range;\n\n\t\tif (text.length > 0) {\n\t\t\t// the operation inserts something\n\t\t\tconst lineCount = eolCount + 1;\n\n\t\t\tif (lineCount === 1) {\n\t\t\t\t// single line insert\n\t\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber, startColumn + firstLineLength);\n\t\t\t} else {\n\t\t\t\t// multi line insert\n\t\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber + lineCount - 1, lastLineLength + 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// There is nothing to insert\n\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber, startColumn);\n\t\t}\n\n\t\treturn resultRange;\n\t}\n\n\t/**\n\t * Assumes `operations` are validated and sorted ascending\n\t */\n\tpublic static _getInverseEditRanges(operations: IValidatedEditOperation[]): Range[] {\n\t\tconst result: Range[] = [];\n\n\t\tlet prevOpEndLineNumber: number = 0;\n\t\tlet prevOpEndColumn: number = 0;\n\t\tlet prevOp: IValidatedEditOperation | null = null;\n\t\tfor (let i = 0, len = operations.length; i < len; i++) {\n\t\t\tconst op = operations[i];\n\n\t\t\tlet startLineNumber: number;\n\t\t\tlet startColumn: number;\n\n\t\t\tif (prevOp) {\n\t\t\t\tif (prevOp.range.endLineNumber === op.range.startLineNumber) {\n\t\t\t\t\tstartLineNumber = prevOpEndLineNumber;\n\t\t\t\t\tstartColumn = prevOpEndColumn + (op.range.startColumn - prevOp.range.endColumn);\n\t\t\t\t} else {\n\t\t\t\t\tstartLineNumber = prevOpEndLineNumber + (op.range.startLineNumber - prevOp.range.endLineNumber);\n\t\t\t\t\tstartColumn = op.range.startColumn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstartLineNumber = op.range.startLineNumber;\n\t\t\t\tstartColumn = op.range.startColumn;\n\t\t\t}\n\n\t\t\tlet resultRange: Range;\n\n\t\t\tif (op.text.length > 0) {\n\t\t\t\t// the operation inserts something\n\t\t\t\tconst lineCount = op.eolCount + 1;\n\n\t\t\t\tif (lineCount === 1) {\n\t\t\t\t\t// single line insert\n\t\t\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber, startColumn + op.firstLineLength);\n\t\t\t\t} else {\n\t\t\t\t\t// multi line insert\n\t\t\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber + lineCount - 1, op.lastLineLength + 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// There is nothing to insert\n\t\t\t\tresultRange = new Range(startLineNumber, startColumn, startLineNumber, startColumn);\n\t\t\t}\n\n\t\t\tprevOpEndLineNumber = resultRange.endLineNumber;\n\t\t\tprevOpEndColumn = resultRange.endColumn;\n\n\t\t\tresult.push(resultRange);\n\t\t\tprevOp = op;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate static _sortOpsAscending(a: IValidatedEditOperation, b: IValidatedEditOperation): number {\n\t\tconst r = Range.compareRangesUsingEnds(a.range, b.range);\n\t\tif (r === 0) {\n\t\t\treturn a.sortIndex - b.sortIndex;\n\t\t}\n\t\treturn r;\n\t}\n\n\tprivate static _sortOpsDescending(a: IValidatedEditOperation, b: IValidatedEditOperation): number {\n\t\tconst r = Range.compareRangesUsingEnds(a.range, b.range);\n\t\tif (r === 0) {\n\t\t\treturn b.sortIndex - a.sortIndex;\n\t\t}\n\t\treturn -r;\n\t}\n\t// #endregion\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoCS;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AApCT;;;;AAKA,SAASE,OAAO,QAAe,kCAAkC;AACjE,OAAO,KAAKC,OAAO,MAAM,oCAAoC;AAE7D,SAASC,KAAK,QAAQ,qBAAqB;AAC3C,SAASC,gBAAgB,QAA+L,gBAAgB;AACxO,SAASC,aAAa,QAAsB,oBAAoB;AAChE,SAASC,QAAQ,QAAmB,+BAA+B;AACnE,SAASC,UAAU,QAAQ,0BAA0B;AACrD,SAASC,UAAU,QAAQ,sCAAsC;AAoBjE,OAAM,MAAOC,mBAAoB,SAAQD,UAAU;EAC1CE,UAAU;EACDC,IAAI;EACbC,gBAAgB;EAChBC,mCAAmC;EACnCC,0BAA0B;EAEjBC,mBAAmB;EAAA;EAAA,CAAAhB,aAAA,GAAAiB,CAAA,OAAkB,IAAI,CAACC,SAAS,CAAC,IAAIhB,OAAO,EAAQ,CAAC;EACzF,IAAWiB,kBAAkBA,CAAA;IAAA;IAAAnB,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAAkB,OAAO,IAAI,CAACD,mBAAmB,CAACK,KAAK;EAAE;EAEtFC,YAAYC,MAAsB,EAAEC,GAAW,EAAEC,GAAkB,EAAEC,WAAoB,EAAEC,8BAAuC,EAAEC,YAAqB,EAAEC,aAAsB;IAAA;IAAA7B,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAChL,KAAK,EAAE;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IACR,IAAI,CAACL,IAAI,GAAGY,GAAG;IAAC;IAAAxB,aAAA,GAAAiB,CAAA;IAChB,IAAI,CAACF,0BAA0B,GAAG,CAACa,YAAY;IAAC;IAAA5B,aAAA,GAAAiB,CAAA;IAChD,IAAI,CAACJ,gBAAgB,GAAGa,WAAW;IAAC;IAAA1B,aAAA,GAAAiB,CAAA;IACpC,IAAI,CAACH,mCAAmC,GAAGa,8BAA8B;IAAC;IAAA3B,aAAA,GAAAiB,CAAA;IAC1E,IAAI,CAACN,UAAU,GAAG,IAAIL,aAAa,CAACiB,MAAM,EAAEE,GAAG,EAAEI,aAAa,CAAC;EAChE;EAEA;EACOC,MAAMA,CAACC,KAAkB;IAAA;IAAA/B,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC/B,IAAI,EAAEc,KAAK,YAAYrB,mBAAmB,CAAC,EAAE;MAAA;MAAAV,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAC5C,OAAO,KAAK;IACb,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,IAAI,IAAI,CAACL,IAAI,KAAKmB,KAAK,CAACnB,IAAI,EAAE;MAAA;MAAAZ,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAC7B,OAAO,KAAK;IACb,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,IAAI,IAAI,CAACgB,MAAM,EAAE,KAAKF,KAAK,CAACE,MAAM,EAAE,EAAE;MAAA;MAAAjC,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACrC,OAAO,KAAK;IACb,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,OAAO,IAAI,CAACN,UAAU,CAACuB,KAAK,CAACH,KAAK,CAACpB,UAAU,CAAC;EAC/C;EACOwB,eAAeA,CAAA;IAAA;IAAAnC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACrB,OAAO,IAAI,CAACJ,gBAAgB;EAC7B;EACOuB,kCAAkCA,CAAA;IAAA;IAAApC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACxC,OAAO,IAAI,CAACH,mCAAmC;EAChD;EACOuB,uCAAuCA,CAAA;IAAA;IAAArC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC7C,IAAI,CAACH,mCAAmC,GAAG,KAAK;EACjD;EACOwB,yBAAyBA,CAAA;IAAA;IAAAtC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC/B,OAAO,IAAI,CAACF,0BAA0B;EACvC;EACOwB,MAAMA,CAAA;IAAA;IAAAvC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACZ,OAAO,IAAI,CAACL,IAAI;EACjB;EACOqB,MAAMA,CAAA;IAAA;IAAAjC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACZ,OAAO,IAAI,CAACN,UAAU,CAACsB,MAAM,EAAE;EAChC;EAEOO,cAAcA,CAACC,WAAoB;IAAA;IAAAzC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACzC,OAAO,IAAI,CAACN,UAAU,CAAC6B,cAAc,CAACC,WAAW;IAAA;IAAA,CAAAzC,aAAA,GAAAgC,CAAA,UAAG,IAAI,CAACpB,IAAI;IAAA;IAAA,CAAAZ,aAAA,GAAAgC,CAAA,UAAG,EAAE,EAAC;EACpE;EAEOU,WAAWA,CAACC,UAAkB,EAAEC,MAAc;IAAA;IAAA5C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACpD,OAAO,IAAI,CAACN,UAAU,CAAC+B,WAAW,CAACC,UAAU,EAAEC,MAAM,CAAC;EACvD;EAEOC,aAAaA,CAACC,MAAc;IAAA;IAAA9C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAClC,OAAO,IAAI,CAACN,UAAU,CAACkC,aAAa,CAACC,MAAM,CAAC;EAC7C;EAEOC,UAAUA,CAACC,KAAa,EAAEC,MAAc;IAAA;IAAAjD,aAAA,GAAAoB,CAAA;IAC9C,MAAM8B,GAAG;IAAA;IAAA,CAAAlD,aAAA,GAAAiB,CAAA,QAAG+B,KAAK,GAAGC,MAAM;IAC1B,MAAME,aAAa;IAAA;IAAA,CAAAnD,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAAC4B,aAAa,CAACG,KAAK,CAAC;IAC/C,MAAMI,WAAW;IAAA;IAAA,CAAApD,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAAC4B,aAAa,CAACK,GAAG,CAAC;IAAC;IAAAlD,aAAA,GAAAiB,CAAA;IAC5C,OAAO,IAAIb,KAAK,CAAC+C,aAAa,CAACR,UAAU,EAAEQ,aAAa,CAACP,MAAM,EAAEQ,WAAW,CAACT,UAAU,EAAES,WAAW,CAACR,MAAM,CAAC;EAC7G;EAEOS,eAAeA,CAACC,KAAY,EAAE7B,GAAA;EAAA;EAAA,CAAAzB,aAAA,GAAAgC,CAAA,oDAA0D;IAAA;IAAAhC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC9F,IAAIqC,KAAK,CAACC,OAAO,EAAE,EAAE;MAAA;MAAAvD,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACpB,OAAO,EAAE;IACV,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAED,MAAMwB,UAAU;IAAA;IAAA,CAAAxD,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACwC,aAAa,CAAChC,GAAG,CAAC;IAAC;IAAAzB,aAAA,GAAAiB,CAAA;IAC3C,OAAO,IAAI,CAACN,UAAU,CAAC0C,eAAe,CAACC,KAAK,EAAEE,UAAU,CAAC;EAC1D;EAEOE,qBAAqBA,CAACJ,KAAY,EAAE7B,GAAA;EAAA;EAAA,CAAAzB,aAAA,GAAAgC,CAAA,oDAA0D;IAAA;IAAAhC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACpG,IAAIqC,KAAK,CAACC,OAAO,EAAE,EAAE;MAAA;MAAAvD,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACpB,OAAO,CAAC;IACT,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IAED,IAAIqC,KAAK,CAACK,eAAe,KAAKL,KAAK,CAACM,aAAa,EAAE;MAAA;MAAA5D,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAClD,OAAQqC,KAAK,CAACO,SAAS,GAAGP,KAAK,CAACQ,WAAW;IAC5C,CAAC;IAAA;IAAA;MAAA9D,aAAA,GAAAgC,CAAA;IAAA;IAED,MAAM+B,WAAW;IAAA;IAAA,CAAA/D,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACyB,WAAW,CAACY,KAAK,CAACK,eAAe,EAAEL,KAAK,CAACQ,WAAW,CAAC;IAC9E,MAAME,SAAS;IAAA;IAAA,CAAAhE,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACyB,WAAW,CAACY,KAAK,CAACM,aAAa,EAAEN,KAAK,CAACO,SAAS,CAAC;IAExE;IACA;IACA,IAAII,qBAAqB;IAAA;IAAA,CAAAjE,aAAA,GAAAiB,CAAA,QAAG,CAAC;IAC7B,MAAMiD,UAAU;IAAA;IAAA,CAAAlE,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACwC,aAAa,CAAChC,GAAG,CAAC;IAC1C,MAAM0C,SAAS;IAAA;IAAA,CAAAnE,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACgB,MAAM,EAAE;IAAC;IAAAjC,aAAA,GAAAiB,CAAA;IAChC,IAAIiD,UAAU,CAACjB,MAAM,KAAKkB,SAAS,CAAClB,MAAM,EAAE;MAAA;MAAAjD,aAAA,GAAAgC,CAAA;MAC3C,MAAMoC,KAAK;MAAA;MAAA,CAAApE,aAAA,GAAAiB,CAAA,QAAGiD,UAAU,CAACjB,MAAM,GAAGkB,SAAS,CAAClB,MAAM;MAClD,MAAMoB,QAAQ;MAAA;MAAA,CAAArE,aAAA,GAAAiB,CAAA,QAAGqC,KAAK,CAACM,aAAa,GAAGN,KAAK,CAACK,eAAe;MAAC;MAAA3D,aAAA,GAAAiB,CAAA;MAC7DgD,qBAAqB,GAAGG,KAAK,GAAGC,QAAQ;IACzC,CAAC;IAAA;IAAA;MAAArE,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IAED,OAAO+C,SAAS,GAAGD,WAAW,GAAGE,qBAAqB;EACvD;EAEOK,wBAAwBA,CAAChB,KAAY,EAAE7B,GAAA;EAAA;EAAA,CAAAzB,aAAA,GAAAgC,CAAA,qDAA0D;IAAA;IAAAhC,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACvG,IAAI,IAAI,CAACF,0BAA0B,EAAE;MAAA;MAAAf,aAAA,GAAAgC,CAAA;MACpC;MAEA,IAAIuC,MAAM;MAAA;MAAA,CAAAvE,aAAA,GAAAiB,CAAA,QAAG,CAAC;MAEd,MAAMuD,cAAc;MAAA;MAAA,CAAAxE,aAAA,GAAAiB,CAAA,QAAGqC,KAAK,CAACK,eAAe;MAC5C,MAAMc,YAAY;MAAA;MAAA,CAAAzE,aAAA,GAAAiB,CAAA,QAAGqC,KAAK,CAACM,aAAa;MAAC;MAAA5D,aAAA,GAAAiB,CAAA;MACzC,KAAK,IAAI0B,UAAU;MAAA;MAAA,CAAA3C,aAAA,GAAAiB,CAAA,QAAGuD,cAAc,GAAE7B,UAAU,IAAI8B,YAAY,EAAE9B,UAAU,EAAE,EAAE;QAC/E,MAAM+B,WAAW;QAAA;QAAA,CAAA1E,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAAC0D,cAAc,CAAChC,UAAU,CAAC;QACnD,MAAMiC,UAAU;QAAA;QAAA,CAAA5E,aAAA,GAAAiB,CAAA,QAAI0B,UAAU,KAAK6B,cAAc;QAAA;QAAA,CAAAxE,aAAA,GAAAgC,CAAA,WAAGsB,KAAK,CAACQ,WAAW,GAAG,CAAC;QAAA;QAAA,CAAA9D,aAAA,GAAAgC,CAAA,WAAG,CAAC,EAAC;QAC9E,MAAM6C,QAAQ;QAAA;QAAA,CAAA7E,aAAA,GAAAiB,CAAA,QAAI0B,UAAU,KAAK8B,YAAY;QAAA;QAAA,CAAAzE,aAAA,GAAAgC,CAAA,WAAGsB,KAAK,CAACO,SAAS,GAAG,CAAC;QAAA;QAAA,CAAA7D,aAAA,GAAAgC,CAAA,WAAG0C,WAAW,CAACzB,MAAM,EAAC;QAAC;QAAAjD,aAAA,GAAAiB,CAAA;QAE1F,KAAK,IAAI6B,MAAM;QAAA;QAAA,CAAA9C,aAAA,GAAAiB,CAAA,QAAG2D,UAAU,GAAE9B,MAAM,GAAG+B,QAAQ,EAAE/B,MAAM,EAAE,EAAE;UAAA;UAAA9C,aAAA,GAAAiB,CAAA;UAC1D,IAAId,OAAO,CAAC2E,eAAe,CAACJ,WAAW,CAACK,UAAU,CAACjC,MAAM,CAAC,CAAC,EAAE;YAAA;YAAA9C,aAAA,GAAAgC,CAAA;YAAAhC,aAAA,GAAAiB,CAAA;YAC5DsD,MAAM,GAAGA,MAAM,GAAG,CAAC;YAAC;YAAAvE,aAAA,GAAAiB,CAAA;YACpB6B,MAAM,GAAGA,MAAM,GAAG,CAAC;UACpB,CAAC,MAAM;YAAA;YAAA9C,aAAA,GAAAgC,CAAA;YAAAhC,aAAA,GAAAiB,CAAA;YACNsD,MAAM,GAAGA,MAAM,GAAG,CAAC;UACpB;QACD;MACD;MAAC;MAAAvE,aAAA,GAAAiB,CAAA;MAEDsD,MAAM,IAAI,IAAI,CAACd,aAAa,CAAChC,GAAG,CAAC,CAACwB,MAAM,IAAIwB,YAAY,GAAGD,cAAc,CAAC;MAAC;MAAAxE,aAAA,GAAAiB,CAAA;MAE3E,OAAOsD,MAAM;IACd,CAAC;IAAA;IAAA;MAAAvE,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IAED,OAAO,IAAI,CAACyC,qBAAqB,CAACJ,KAAK,EAAE7B,GAAG,CAAC;EAC9C;EAEOuD,eAAeA,CAAClC,MAAc;IAAA;IAAA9C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACpC,OAAO,IAAI,CAACN,UAAU,CAACqE,eAAe,CAAClC,MAAM,CAAC;EAC/C;EAEOmC,SAASA,CAAA;IAAA;IAAAjF,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACf,OAAO,IAAI,CAACN,UAAU,CAACsE,SAAS,EAAE;EACnC;EAEOC,YAAYA,CAAA;IAAA;IAAAlF,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAClB,OAAO,IAAI,CAACN,UAAU,CAACuE,YAAY,EAAE;EACtC;EAEOC,eAAeA,CAAA;IAAA;IAAAnF,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACrB,OAAO,IAAI,CAACN,UAAU,CAACwE,eAAe,EAAE;EACzC;EAEOR,cAAcA,CAAChC,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACvC,OAAO,IAAI,CAACN,UAAU,CAACgE,cAAc,CAAChC,UAAU,CAAC;EAClD;EAEOyC,eAAeA,CAACzC,UAAkB,EAAE0C,KAAa;IAAA;IAAArF,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACvD,OAAO,IAAI,CAACN,UAAU,CAACyE,eAAe,CAACzC,UAAU,EAAE0C,KAAK,CAAC;EAC1D;EAEOC,WAAWA,CAACxC,MAAc;IAAA;IAAA9C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAChC,OAAO,IAAI,CAACN,UAAU,CAAC2E,WAAW,CAACxC,MAAM,CAAC;EAC3C;EAEOyC,aAAaA,CAAC5C,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACtC,OAAO,IAAI,CAACN,UAAU,CAAC4E,aAAa,CAAC5C,UAAU,CAAC;EACjD;EAEO6C,gBAAgBA,CAAC7C,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACzC,OAAO,CAAC;EACT;EAEOwE,gBAAgBA,CAAC9C,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IACzC,OAAO,IAAI,CAACsE,aAAa,CAAC5C,UAAU,CAAC,GAAG,CAAC;EAC1C;EAEO+C,+BAA+BA,CAAC/C,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IACxD,MAAMmD,MAAM;IAAA;IAAA,CAAAvE,aAAA,GAAAiB,CAAA,QAAGd,OAAO,CAACwF,uBAAuB,CAAC,IAAI,CAAChB,cAAc,CAAChC,UAAU,CAAC,CAAC;IAAC;IAAA3C,aAAA,GAAAiB,CAAA;IAChF,IAAIsD,MAAM,KAAK,CAAC,CAAC,EAAE;MAAA;MAAAvE,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAClB,OAAO,CAAC;IACT,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,OAAOsD,MAAM,GAAG,CAAC;EAClB;EAEOqB,8BAA8BA,CAACjD,UAAkB;IAAA;IAAA3C,aAAA,GAAAoB,CAAA;IACvD,MAAMmD,MAAM;IAAA;IAAA,CAAAvE,aAAA,GAAAiB,CAAA,QAAGd,OAAO,CAAC0F,sBAAsB,CAAC,IAAI,CAAClB,cAAc,CAAChC,UAAU,CAAC,CAAC;IAAC;IAAA3C,aAAA,GAAAiB,CAAA;IAC/E,IAAIsD,MAAM,KAAK,CAAC,CAAC,EAAE;MAAA;MAAAvE,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAClB,OAAO,CAAC;IACT,CAAC;IAAA;IAAA;MAAAjB,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,OAAOsD,MAAM,GAAG,CAAC;EAClB;EAEQd,aAAaA,CAAChC,GAAwB;IAAA;IAAAzB,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC7C,QAAQQ,GAAG;MACV;QAAA;QAAAzB,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACC,OAAO,IAAI;MACZ;QAAA;QAAAjB,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACC,OAAO,MAAM;MACd;QAAA;QAAAjB,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACC,OAAO,IAAI,CAACgB,MAAM,EAAE;MACrB;QAAA;QAAAjC,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACC,MAAM,IAAI6E,KAAK,CAAC,wBAAwB,CAAC;IAC3C;EACD;EAEOC,MAAMA,CAACC,MAAqB;IAAA;IAAAhG,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAClC,IAAI,CAACN,UAAU,CAACoF,MAAM,CAACC,MAAM,CAAC;EAC/B;EAEOC,UAAUA,CAACC,aAA4C,EAAEC,wBAAiC,EAAEC,gBAAyB;IAAA;IAAApG,aAAA,GAAAoB,CAAA;IAC3H,IAAIe,eAAe;IAAA;IAAA,CAAAnC,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACJ,gBAAgB;IAC3C,IAAIuB,kCAAkC;IAAA;IAAA,CAAApC,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACH,mCAAmC;IACjF,IAAIwB,yBAAyB;IAAA;IAAA,CAAAtC,aAAA,GAAAiB,CAAA,QAAG,IAAI,CAACF,0BAA0B;IAC/D,IAAIsF,mBAAmB;IAAA;IAAA,CAAArG,aAAA,GAAAiB,CAAA,QAAG,IAAI;IAE9B,IAAIqF,UAAU;IAAA;IAAA,CAAAtG,aAAA,GAAAiB,CAAA,QAA8B,EAAE;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IAC/C,KAAK,IAAIsF,CAAC;IAAA;IAAA,CAAAvG,aAAA,GAAAiB,CAAA,QAAG,CAAC,GAAEsF,CAAC,GAAGL,aAAa,CAACjD,MAAM,EAAEsD,CAAC,EAAE,EAAE;MAC9C,MAAMC,EAAE;MAAA;MAAA,CAAAxG,aAAA,GAAAiB,CAAA,QAAGiF,aAAa,CAACK,CAAC,CAAC;MAAC;MAAAvG,aAAA,GAAAiB,CAAA;MAC5B;MAAI;MAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAqE,mBAAmB;MAAA;MAAA,CAAArG,aAAA,GAAAgC,CAAA,WAAIwE,EAAE,CAACC,UAAU,GAAE;QAAA;QAAAzG,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACzCoF,mBAAmB,GAAG,KAAK;MAC5B,CAAC;MAAA;MAAA;QAAArG,aAAA,GAAAgC,CAAA;MAAA;MACD,MAAM0E,cAAc;MAAA;MAAA,CAAA1G,aAAA,GAAAiB,CAAA,QAAGuF,EAAE,CAAClD,KAAK;MAAC;MAAAtD,aAAA,GAAAiB,CAAA;MAChC,IAAIuF,EAAE,CAACG,IAAI,EAAE;QAAA;QAAA3G,aAAA,GAAAgC,CAAA;QACZ,IAAI4E,6BAA6B;QAAA;QAAA,CAAA5G,aAAA,GAAAiB,CAAA,SAAG,IAAI;QAAC;QAAAjB,aAAA,GAAAiB,CAAA;QACzC,IAAI,CAACqB,yBAAyB,EAAE;UAAA;UAAAtC,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UAC/B2F,6BAA6B,GAAG,CAACzG,OAAO,CAACyB,YAAY,CAAC4E,EAAE,CAACG,IAAI,CAAC;UAAC;UAAA3G,aAAA,GAAAiB,CAAA;UAC/DqB,yBAAyB,GAAGsE,6BAA6B;QAC1D,CAAC;QAAA;QAAA;UAAA5G,aAAA,GAAAgC,CAAA;QAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACD;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,YAACG,eAAe;QAAA;QAAA,CAAAnC,aAAA,GAAAgC,CAAA,WAAI4E,6BAA6B,GAAE;UAAA;UAAA5G,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACtD;UACAkB,eAAe,GAAGhC,OAAO,CAACuB,WAAW,CAAC8E,EAAE,CAACG,IAAI,CAAC;QAC/C,CAAC;QAAA;QAAA;UAAA3G,aAAA,GAAAgC,CAAA;QAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACD;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,YAACI,kCAAkC;QAAA;QAAA,CAAApC,aAAA,GAAAgC,CAAA,WAAI4E,6BAA6B,GAAE;UAAA;UAAA5G,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACzE;UACAmB,kCAAkC,GAAGjC,OAAO,CAACwB,8BAA8B,CAAC6E,EAAE,CAACG,IAAI,CAAC;QACrF,CAAC;QAAA;QAAA;UAAA3G,aAAA,GAAAgC,CAAA;QAAA;MACF,CAAC;MAAA;MAAA;QAAAhC,aAAA,GAAAgC,CAAA;MAAA;MAED,IAAI6E,SAAS;MAAA;MAAA,CAAA7G,aAAA,GAAAiB,CAAA,SAAG,EAAE;MAClB,IAAIoD,QAAQ;MAAA;MAAA,CAAArE,aAAA,GAAAiB,CAAA,SAAG,CAAC;MAChB,IAAI6F,eAAe;MAAA;MAAA,CAAA9G,aAAA,GAAAiB,CAAA,SAAG,CAAC;MACvB,IAAI8F,cAAc;MAAA;MAAA,CAAA/G,aAAA,GAAAiB,CAAA,SAAG,CAAC;MAAC;MAAAjB,aAAA,GAAAiB,CAAA;MACvB,IAAIuF,EAAE,CAACG,IAAI,EAAE;QAAA;QAAA3G,aAAA,GAAAgC,CAAA;QACZ,IAAIgF,MAAiB;QAAC;QAAAhH,aAAA,GAAAiB,CAAA;QACtB,CAACoD,QAAQ,EAAEyC,eAAe,EAAEC,cAAc,EAAEC,MAAM,CAAC,GAAGzG,QAAQ,CAACiG,EAAE,CAACG,IAAI,CAAC;QAEvE,MAAMM,SAAS;QAAA;QAAA,CAAAjH,aAAA,GAAAiB,CAAA,SAAG,IAAI,CAACgB,MAAM,EAAE;QAC/B,MAAMiF,cAAc;QAAA;QAAA,CAAAlH,aAAA,GAAAiB,CAAA,SAAIgG,SAAS,KAAK,MAAM;QAAA;QAAA,CAAAjH,aAAA,GAAAgC,CAAA,WAAE;QAAA;QAAA,CAAAhC,aAAA,GAAAgC,CAAA,WAAiB,sBAAc;QAAC;QAAAhC,aAAA,GAAAiB,CAAA;QAC9E;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAgF,MAAM;QAAA;QAAA,CAAAhH,aAAA,GAAAgC,CAAA,WAA0BgF,MAAM,KAAKE,cAAc,GAAE;UAAA;UAAAlH,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UAC9D4F,SAAS,GAAGL,EAAE,CAACG,IAAI;QACpB,CAAC,MAAM;UAAA;UAAA3G,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACN4F,SAAS,GAAGL,EAAE,CAACG,IAAI,CAACQ,OAAO,CAAC,aAAa,EAAEF,SAAS,CAAC;QACtD;MACD,CAAC;MAAA;MAAA;QAAAjH,aAAA,GAAAgC,CAAA;MAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAEDqF,UAAU,CAACC,CAAC,CAAC,GAAG;QACfa,SAAS,EAAEb,CAAC;QACZc,UAAU;QAAE;QAAA,CAAArH,aAAA,GAAAgC,CAAA,WAAAwE,EAAE,CAACa,UAAU;QAAA;QAAA,CAAArH,aAAA,GAAAgC,CAAA,WAAI,IAAI;QACjCsB,KAAK,EAAEoD,cAAc;QACrBY,WAAW,EAAE,IAAI,CAAC5E,WAAW,CAACgE,cAAc,CAAC/C,eAAe,EAAE+C,cAAc,CAAC5C,WAAW,CAAC;QACzFyD,WAAW,EAAE,IAAI,CAAC7D,qBAAqB,CAACgD,cAAc,CAAC;QACvDC,IAAI,EAAEE,SAAS;QACfxC,QAAQ,EAAEA,QAAQ;QAClByC,eAAe,EAAEA,eAAe;QAChCC,cAAc,EAAEA,cAAc;QAC9BS,gBAAgB,EAAEC,OAAO,CAACjB,EAAE,CAACgB,gBAAgB,CAAC;QAC9CE,oBAAoB;QAAE;QAAA,CAAA1H,aAAA,GAAAgC,CAAA,WAAAwE,EAAE,CAACkB,oBAAoB;QAAA;QAAA,CAAA1H,aAAA,GAAAgC,CAAA,WAAI,KAAK;OACtD;IACF;IAEA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACAqF,UAAU,CAACqB,IAAI,CAACjH,mBAAmB,CAACkH,iBAAiB,CAAC;IAEtD,IAAIC,iBAAiB;IAAA;IAAA,CAAA7H,aAAA,GAAAiB,CAAA,SAAG,KAAK;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IAC9B,KAAK,IAAIsF,CAAC;MAAA;MAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAE6G,KAAK;MAAA;MAAA,CAAA9H,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACrD,MAAM,GAAG,CAAC,GAAEsD,CAAC,GAAGuB,KAAK,EAAEvB,CAAC,EAAE,EAAE;MAC9D,MAAMwB,QAAQ;MAAA;MAAA,CAAA/H,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC,CAACjD,KAAK,CAAC0E,cAAc,EAAE;MACrD,MAAMC,cAAc;MAAA;MAAA,CAAAjI,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,GAAG,CAAC,CAAC,CAACjD,KAAK,CAAC4E,gBAAgB,EAAE;MAAC;MAAAlI,aAAA,GAAAiB,CAAA;MAElE,IAAIgH,cAAc,CAACE,eAAe,CAACJ,QAAQ,CAAC,EAAE;QAAA;QAAA/H,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QAC7C,IAAIgH,cAAc,CAACG,QAAQ,CAACL,QAAQ,CAAC,EAAE;UAAA;UAAA/H,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACtC;UACA,MAAM,IAAI6E,KAAK,CAAC,qCAAqC,CAAC;QACvD,CAAC;QAAA;QAAA;UAAA9F,aAAA,GAAAgC,CAAA;QAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACD4G,iBAAiB,GAAG,IAAI;MACzB,CAAC;MAAA;MAAA;QAAA7H,aAAA,GAAAgC,CAAA;MAAA;IACF;IAAC;IAAAhC,aAAA,GAAAiB,CAAA;IAED,IAAIoF,mBAAmB,EAAE;MAAA;MAAArG,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACxBqF,UAAU,GAAG,IAAI,CAAC+B,iBAAiB,CAAC/B,UAAU,CAAC;IAChD,CAAC;IAAA;IAAA;MAAAtG,aAAA,GAAAgC,CAAA;IAAA;IAED;IACA,MAAMsG,aAAa;IAAA;IAAA,CAAAtI,aAAA,GAAAiB,CAAA;IAAI;IAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAoE,gBAAgB;IAAA;IAAA,CAAApG,aAAA,GAAAgC,CAAA,WAAImE,wBAAwB;IAAA;IAAA,CAAAnG,aAAA,GAAAgC,CAAA,WAAGtB,mBAAmB,CAAC6H,qBAAqB,CAACjC,UAAU,CAAC;IAAA;IAAA,CAAAtG,aAAA,GAAAgC,CAAA,WAAG,EAAE,EAAC;IACjI,MAAMwG,+BAA+B;IAAA;IAAA,CAAAxI,aAAA,GAAAiB,CAAA,SAAiD,EAAE;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IACzF,IAAIkF,wBAAwB,EAAE;MAAA;MAAAnG,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAC7B,KAAK,IAAIsF,CAAC;MAAA;MAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEsF,CAAC,GAAGD,UAAU,CAACrD,MAAM,EAAEsD,CAAC,EAAE,EAAE;QAC3C,MAAMC,EAAE;QAAA;QAAA,CAAAxG,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC;QACxB,MAAMkC,YAAY;QAAA;QAAA,CAAAzI,aAAA,GAAAiB,CAAA,SAAGqH,aAAa,CAAC/B,CAAC,CAAC;QAAC;QAAAvG,aAAA,GAAAiB,CAAA;QAEtC;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAwE,EAAE,CAACkB,oBAAoB;QAAA;QAAA,CAAA1H,aAAA,GAAAgC,CAAA,WAAIwE,EAAE,CAAClD,KAAK,CAACC,OAAO,EAAE,GAAE;UAAA;UAAAvD,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UAClD;UACA,KAAK,IAAI0B,UAAU;UAAA;UAAA,CAAA3C,aAAA,GAAAiB,CAAA,SAAGwH,YAAY,CAAC9E,eAAe,GAAEhB,UAAU,IAAI8F,YAAY,CAAC7E,aAAa,EAAEjB,UAAU,EAAE,EAAE;YAC3G,IAAI+F,kBAAkB;YAAA;YAAA,CAAA1I,aAAA,GAAAiB,CAAA,SAAG,EAAE;YAAC;YAAAjB,aAAA,GAAAiB,CAAA;YAC5B,IAAI0B,UAAU,KAAK8F,YAAY,CAAC9E,eAAe,EAAE;cAAA;cAAA3D,aAAA,GAAAgC,CAAA;cAAAhC,aAAA,GAAAiB,CAAA;cAChDyH,kBAAkB,GAAG,IAAI,CAAC/D,cAAc,CAAC6B,EAAE,CAAClD,KAAK,CAACK,eAAe,CAAC;cAAC;cAAA3D,aAAA,GAAAiB,CAAA;cACnE,IAAId,OAAO,CAACwF,uBAAuB,CAAC+C,kBAAkB,CAAC,KAAK,CAAC,CAAC,EAAE;gBAAA;gBAAA1I,aAAA,GAAAgC,CAAA;gBAAAhC,aAAA,GAAAiB,CAAA;gBAC/D;cACD,CAAC;cAAA;cAAA;gBAAAjB,aAAA,GAAAgC,CAAA;cAAA;YACF,CAAC;YAAA;YAAA;cAAAhC,aAAA,GAAAgC,CAAA;YAAA;YAAAhC,aAAA,GAAAiB,CAAA;YACDuH,+BAA+B,CAACG,IAAI,CAAC;cAAEhG,UAAU,EAAEA,UAAU;cAAEiG,UAAU,EAAEF;YAAkB,CAAE,CAAC;UACjG;QACD,CAAC;QAAA;QAAA;UAAA1I,aAAA,GAAAgC,CAAA;QAAA;MACF;IACD,CAAC;IAAA;IAAA;MAAAhC,aAAA,GAAAgC,CAAA;IAAA;IAED,IAAI6G,iBAAiB;IAAA;IAAA,CAAA7I,aAAA,GAAAiB,CAAA,SAAyC,IAAI;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IACnE,IAAImF,gBAAgB,EAAE;MAAA;MAAApG,aAAA,GAAAgC,CAAA;MAErB,IAAI8G,uBAAuB;MAAA;MAAA,CAAA9I,aAAA,GAAAiB,CAAA,SAAG,CAAC;MAAC;MAAAjB,aAAA,GAAAiB,CAAA;MAChC4H,iBAAiB,GAAG,EAAE;MAAC;MAAA7I,aAAA,GAAAiB,CAAA;MACvB,KAAK,IAAIsF,CAAC;MAAA;MAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEsF,CAAC,GAAGD,UAAU,CAACrD,MAAM,EAAEsD,CAAC,EAAE,EAAE;QAC3C,MAAMC,EAAE;QAAA;QAAA,CAAAxG,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC;QACxB,MAAMkC,YAAY;QAAA;QAAA,CAAAzI,aAAA,GAAAiB,CAAA,SAAGqH,aAAa,CAAC/B,CAAC,CAAC;QACrC,MAAMwC,UAAU;QAAA;QAAA,CAAA/I,aAAA,GAAAiB,CAAA,SAAG,IAAI,CAACoC,eAAe,CAACmD,EAAE,CAAClD,KAAK,CAAC;QACjD,MAAM0F,kBAAkB;QAAA;QAAA,CAAAhJ,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAACc,WAAW,GAAGwB,uBAAuB;QAAC;QAAA9I,aAAA,GAAAiB,CAAA;QACpE6H,uBAAuB,IAAKtC,EAAE,CAACG,IAAI,CAAC1D,MAAM,GAAG8F,UAAU,CAAC9F,MAAO;QAAC;QAAAjD,aAAA,GAAAiB,CAAA;QAEhE4H,iBAAiB,CAACtC,CAAC,CAAC,GAAG;UACtBa,SAAS,EAAEZ,EAAE,CAACY,SAAS;UACvBC,UAAU,EAAEb,EAAE,CAACa,UAAU;UACzB/D,KAAK,EAAEmF,YAAY;UACnB9B,IAAI,EAAEoC,UAAU;UAChBE,UAAU,EAAE,IAAIzI,UAAU,CAACgG,EAAE,CAACc,WAAW,EAAEyB,UAAU,EAAEC,kBAAkB,EAAExC,EAAE,CAACG,IAAI;SAClF;MACF;MAEA;MAAA;MAAA3G,aAAA,GAAAiB,CAAA;MACA,IAAI,CAAC4G,iBAAiB,EAAE;QAAA;QAAA7H,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACvB4H,iBAAiB,CAAClB,IAAI,CAAC,CAACuB,CAAC,EAAElH,CAAC,KAAK;UAAA;UAAAhC,aAAA,GAAAoB,CAAA;UAAApB,aAAA,GAAAiB,CAAA;UAAA,OAAAiI,CAAC,CAAC9B,SAAS,GAAGpF,CAAC,CAACoF,SAAS;QAAT,CAAS,CAAC;MAC5D,CAAC;MAAA;MAAA;QAAApH,aAAA,GAAAgC,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAhC,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IAGD,IAAI,CAACJ,gBAAgB,GAAGsB,eAAe;IAAC;IAAAnC,aAAA,GAAAiB,CAAA;IACxC,IAAI,CAACH,mCAAmC,GAAGsB,kCAAkC;IAAC;IAAApC,aAAA,GAAAiB,CAAA;IAC9E,IAAI,CAACF,0BAA0B,GAAGuB,yBAAyB;IAE3D,MAAM6G,cAAc;IAAA;IAAA,CAAAnJ,aAAA,GAAAiB,CAAA,SAAG,IAAI,CAACmI,aAAa,CAAC9C,UAAU,CAAC;IAErD,IAAI+C,6BAA6B;IAAA;IAAA,CAAArJ,aAAA,GAAAiB,CAAA,SAAoB,IAAI;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IAC1D;IAAI;IAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAmE,wBAAwB;IAAA;IAAA,CAAAnG,aAAA,GAAAgC,CAAA,WAAIwG,+BAA+B,CAACvF,MAAM,GAAG,CAAC,GAAE;MAAA;MAAAjD,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAC3E;MACAuH,+BAA+B,CAACb,IAAI,CAAC,CAACuB,CAAC,EAAElH,CAAC,KAAK;QAAA;QAAAhC,aAAA,GAAAoB,CAAA;QAAApB,aAAA,GAAAiB,CAAA;QAAA,OAAAe,CAAC,CAACW,UAAU,GAAGuG,CAAC,CAACvG,UAAU;MAAV,CAAU,CAAC;MAAC;MAAA3C,aAAA,GAAAiB,CAAA;MAE5EoI,6BAA6B,GAAG,EAAE;MAAC;MAAArJ,aAAA,GAAAiB,CAAA;MACnC,KAAK,IAAIsF,CAAC;QAAA;QAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEqI,GAAG;QAAA;QAAA,CAAAtJ,aAAA,GAAAiB,CAAA,SAAGuH,+BAA+B,CAACvF,MAAM,GAAEsD,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;QAC3E,MAAM5D,UAAU;QAAA;QAAA,CAAA3C,aAAA,GAAAiB,CAAA,SAAGuH,+BAA+B,CAACjC,CAAC,CAAC,CAAC5D,UAAU;QAAC;QAAA3C,aAAA,GAAAiB,CAAA;QACjE;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAAuE,CAAC,GAAG,CAAC;QAAA;QAAA,CAAAvG,aAAA,GAAAgC,CAAA,WAAIwG,+BAA+B,CAACjC,CAAC,GAAG,CAAC,CAAC,CAAC5D,UAAU,KAAKA,UAAU,GAAE;UAAA;UAAA3C,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UAC9E;UACA;QACD,CAAC;QAAA;QAAA;UAAAjB,aAAA,GAAAgC,CAAA;QAAA;QAED,MAAMuH,WAAW;QAAA;QAAA,CAAAvJ,aAAA,GAAAiB,CAAA,SAAGuH,+BAA+B,CAACjC,CAAC,CAAC,CAACqC,UAAU;QACjE,MAAMlE,WAAW;QAAA;QAAA,CAAA1E,aAAA,GAAAiB,CAAA,SAAG,IAAI,CAAC0D,cAAc,CAAChC,UAAU,CAAC;QAAC;QAAA3C,aAAA,GAAAiB,CAAA;QAEpD;QAAI;QAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAA0C,WAAW,CAACzB,MAAM,KAAK,CAAC;QAAA;QAAA,CAAAjD,aAAA,GAAAgC,CAAA,WAAI0C,WAAW,KAAK6E,WAAW;QAAA;QAAA,CAAAvJ,aAAA,GAAAgC,CAAA,WAAI7B,OAAO,CAACwF,uBAAuB,CAACjB,WAAW,CAAC,KAAK,CAAC,CAAC,GAAE;UAAA;UAAA1E,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACnH;QACD,CAAC;QAAA;QAAA;UAAAjB,aAAA,GAAAgC,CAAA;QAAA;QAAAhC,aAAA,GAAAiB,CAAA;QAEDoI,6BAA6B,CAACV,IAAI,CAAChG,UAAU,CAAC;MAC/C;IACD,CAAC;IAAA;IAAA;MAAA3C,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IAED,IAAI,CAACD,mBAAmB,CAACwI,IAAI,EAAE;IAAC;IAAAxJ,aAAA,GAAAiB,CAAA;IAEhC,OAAO,IAAIZ,gBAAgB,CAC1BwI,iBAAiB,EACjBM,cAAc,EACdE,6BAA6B,CAC7B;EACF;EAEA;;;;EAIQhB,iBAAiBA,CAAC/B,UAAqC;IAAA;IAAAtG,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC9D,IAAIqF,UAAU,CAACrD,MAAM,GAAG,IAAI,EAAE;MAAA;MAAAjD,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAC7B;MACA,OAAOqF,UAAU;IAClB,CAAC;IAAA;IAAA;MAAAtG,aAAA,GAAAgC,CAAA;IAAA;IAED;IACA;IACA;IACA;IACA;IAAAhC,aAAA,GAAAiB,CAAA;IACA,OAAO,CAAC,IAAI,CAACwI,sBAAsB,CAACnD,UAAU,CAAC,CAAC;EACjD;EAEAmD,sBAAsBA,CAACnD,UAAqC;IAAA;IAAAtG,aAAA,GAAAoB,CAAA;IAC3D,IAAIoG,gBAAgB;IAAA;IAAA,CAAAxH,aAAA,GAAAiB,CAAA,SAAG,KAAK;IAC5B,MAAMyI,cAAc;IAAA;IAAA,CAAA1J,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAAC,CAAC,CAAC,CAAChD,KAAK;IAC1C,MAAMqG,aAAa;IAAA;IAAA,CAAA3J,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACA,UAAU,CAACrD,MAAM,GAAG,CAAC,CAAC,CAACK,KAAK;IAC7D,MAAMsG,eAAe;IAAA;IAAA,CAAA5J,aAAA,GAAAiB,CAAA,SAAG,IAAIb,KAAK,CAACsJ,cAAc,CAAC/F,eAAe,EAAE+F,cAAc,CAAC5F,WAAW,EAAE6F,aAAa,CAAC/F,aAAa,EAAE+F,aAAa,CAAC9F,SAAS,CAAC;IACnJ,IAAIgG,iBAAiB;IAAA;IAAA,CAAA7J,aAAA,GAAAiB,CAAA,SAAGyI,cAAc,CAAC/F,eAAe;IACtD,IAAImG,aAAa;IAAA;IAAA,CAAA9J,aAAA,GAAAiB,CAAA,SAAGyI,cAAc,CAAC5F,WAAW;IAC9C,MAAMS,MAAM;IAAA;IAAA,CAAAvE,aAAA,GAAAiB,CAAA,SAAa,EAAE;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IAE5B,KAAK,IAAIsF,CAAC;MAAA;MAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEqI,GAAG;MAAA;MAAA,CAAAtJ,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACrD,MAAM,GAAEsD,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;MACtD,MAAMwD,SAAS;MAAA;MAAA,CAAA/J,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC;MAC/B,MAAMjD,KAAK;MAAA;MAAA,CAAAtD,aAAA,GAAAiB,CAAA,SAAG8I,SAAS,CAACzG,KAAK;MAAC;MAAAtD,aAAA,GAAAiB,CAAA;MAE9BuG,gBAAgB;MAAG;MAAA,CAAAxH,aAAA,GAAAgC,CAAA,WAAAwF,gBAAgB;MAAA;MAAA,CAAAxH,aAAA,GAAAgC,CAAA,WAAI+H,SAAS,CAACvC,gBAAgB;MAEjE;MAAA;MAAAxH,aAAA,GAAAiB,CAAA;MACAsD,MAAM,CAACoE,IAAI,CAAC,IAAI,CAACtF,eAAe,CAAC,IAAIjD,KAAK,CAACyJ,iBAAiB,EAAEC,aAAa,EAAExG,KAAK,CAACK,eAAe,EAAEL,KAAK,CAACQ,WAAW,CAAC,CAAC,CAAC;MAExH;MAAA;MAAA9D,aAAA,GAAAiB,CAAA;MACA,IAAI8I,SAAS,CAACpD,IAAI,CAAC1D,MAAM,GAAG,CAAC,EAAE;QAAA;QAAAjD,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QAC9BsD,MAAM,CAACoE,IAAI,CAACoB,SAAS,CAACpD,IAAI,CAAC;MAC5B,CAAC;MAAA;MAAA;QAAA3G,aAAA,GAAAgC,CAAA;MAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAED4I,iBAAiB,GAAGvG,KAAK,CAACM,aAAa;MAAC;MAAA5D,aAAA,GAAAiB,CAAA;MACxC6I,aAAa,GAAGxG,KAAK,CAACO,SAAS;IAChC;IAEA,MAAM8C,IAAI;IAAA;IAAA,CAAA3G,aAAA,GAAAiB,CAAA,SAAGsD,MAAM,CAACyF,IAAI,CAAC,EAAE,CAAC;IAC5B,MAAM,CAAC3F,QAAQ,EAAEyC,eAAe,EAAEC,cAAc,CAAC;IAAA;IAAA,CAAA/G,aAAA,GAAAiB,CAAA,SAAGV,QAAQ,CAACoG,IAAI,CAAC;IAAC;IAAA3G,aAAA,GAAAiB,CAAA;IAEnE,OAAO;MACNmG,SAAS,EAAE,CAAC;MACZC,UAAU,EAAEf,UAAU,CAAC,CAAC,CAAC,CAACe,UAAU;MACpC/D,KAAK,EAAEsG,eAAe;MACtBtC,WAAW,EAAE,IAAI,CAAC5E,WAAW,CAACkH,eAAe,CAACjG,eAAe,EAAEiG,eAAe,CAAC9F,WAAW,CAAC;MAC3FyD,WAAW,EAAE,IAAI,CAAC7D,qBAAqB,CAACkG,eAAe,0CAAkC;MACzFjD,IAAI,EAAEA,IAAI;MACVtC,QAAQ,EAAEA,QAAQ;MAClByC,eAAe,EAAEA,eAAe;MAChCC,cAAc,EAAEA,cAAc;MAC9BS,gBAAgB,EAAEA,gBAAgB;MAClCE,oBAAoB,EAAE;KACtB;EACF;EAEQ0B,aAAaA,CAAC9C,UAAqC;IAAA;IAAAtG,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAC1DqF,UAAU,CAACqB,IAAI,CAACjH,mBAAmB,CAACuJ,kBAAkB,CAAC;IAEvD,MAAMd,cAAc;IAAA;IAAA,CAAAnJ,aAAA,GAAAiB,CAAA,SAAkC,EAAE;IAExD;IAAA;IAAAjB,aAAA,GAAAiB,CAAA;IACA,KAAK,IAAIsF,CAAC;IAAA;IAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEsF,CAAC,GAAGD,UAAU,CAACrD,MAAM,EAAEsD,CAAC,EAAE,EAAE;MAC3C,MAAMC,EAAE;MAAA;MAAA,CAAAxG,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC;MAExB,MAAM5C,eAAe;MAAA;MAAA,CAAA3D,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAAClD,KAAK,CAACK,eAAe;MAChD,MAAMG,WAAW;MAAA;MAAA,CAAA9D,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAAClD,KAAK,CAACQ,WAAW;MACxC,MAAMF,aAAa;MAAA;MAAA,CAAA5D,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAAClD,KAAK,CAACM,aAAa;MAC5C,MAAMC,SAAS;MAAA;MAAA,CAAA7D,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAAClD,KAAK,CAACO,SAAS;MAAC;MAAA7D,aAAA,GAAAiB,CAAA;MAErC;MAAI;MAAA,CAAAjB,aAAA,GAAAgC,CAAA,WAAA2B,eAAe,KAAKC,aAAa;MAAA;MAAA,CAAA5D,aAAA,GAAAgC,CAAA,WAAI8B,WAAW,KAAKD,SAAS;MAAA;MAAA,CAAA7D,aAAA,GAAAgC,CAAA,WAAIwE,EAAE,CAACG,IAAI,CAAC1D,MAAM,KAAK,CAAC,GAAE;QAAA;QAAAjD,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QAC3F;QACA;MACD,CAAC;MAAA;MAAA;QAAAjB,aAAA,GAAAgC,CAAA;MAAA;MAAAhC,aAAA,GAAAiB,CAAA;MAED,IAAIuF,EAAE,CAACG,IAAI,EAAE;QAAA;QAAA3G,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACZ;QACA,IAAI,CAACN,UAAU,CAACuJ,MAAM,CAAC1D,EAAE,CAACc,WAAW,EAAEd,EAAE,CAACe,WAAW,CAAC;QAAC;QAAAvH,aAAA,GAAAiB,CAAA;QACvD,IAAI,CAACN,UAAU,CAACwJ,MAAM,CAAC3D,EAAE,CAACc,WAAW,EAAEd,EAAE,CAACG,IAAI,EAAE,IAAI,CAAC;MAEtD,CAAC,MAAM;QAAA;QAAA3G,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACN;QACA,IAAI,CAACN,UAAU,CAACuJ,MAAM,CAAC1D,EAAE,CAACc,WAAW,EAAEd,EAAE,CAACe,WAAW,CAAC;MACvD;MAEA,MAAM6C,kBAAkB;MAAA;MAAA,CAAApK,aAAA,GAAAiB,CAAA,SAAG,IAAIb,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEF,aAAa,EAAEC,SAAS,CAAC;MAAC;MAAA7D,aAAA,GAAAiB,CAAA;MAC7FkI,cAAc,CAACR,IAAI,CAAC;QACnBrF,KAAK,EAAE8G,kBAAkB;QACzB7C,WAAW,EAAEf,EAAE,CAACe,WAAW;QAC3BZ,IAAI,EAAEH,EAAE,CAACG,IAAI;QACbW,WAAW,EAAEd,EAAE,CAACc,WAAW;QAC3BE,gBAAgB,EAAEhB,EAAE,CAACgB;OACrB,CAAC;IACH;IAAC;IAAAxH,aAAA,GAAAiB,CAAA;IACD,OAAOkI,cAAc;EACtB;EAEAkB,qBAAqBA,CAACC,WAAkB,EAAEC,UAAsB,EAAEC,cAAuB,EAAEC,gBAAwB;IAAA;IAAAzK,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAClH,OAAO,IAAI,CAACN,UAAU,CAAC0J,qBAAqB,CAACC,WAAW,EAAEC,UAAU,EAAEC,cAAc,EAAEC,gBAAgB,CAAC;EACxG;EAEA;EAEA;EACA;EACOC,YAAYA,CAAA;IAAA;IAAA1K,aAAA,GAAAoB,CAAA;IAAApB,aAAA,GAAAiB,CAAA;IAClB,OAAO,IAAI,CAACN,UAAU;EACvB;EAEO,OAAOgK,oBAAoBA,CAACrH,KAAY,EAAEqD,IAAY;IAAA;IAAA3G,aAAA,GAAAoB,CAAA;IAC5D,MAAMuC,eAAe;IAAA;IAAA,CAAA3D,aAAA,GAAAiB,CAAA,SAAGqC,KAAK,CAACK,eAAe;IAC7C,MAAMG,WAAW;IAAA;IAAA,CAAA9D,aAAA,GAAAiB,CAAA,SAAGqC,KAAK,CAACQ,WAAW;IACrC,MAAM,CAACO,QAAQ,EAAEyC,eAAe,EAAEC,cAAc,CAAC;IAAA;IAAA,CAAA/G,aAAA,GAAAiB,CAAA,SAAGV,QAAQ,CAACoG,IAAI,CAAC;IAClE,IAAIiE,WAAkB;IAAC;IAAA5K,aAAA,GAAAiB,CAAA;IAEvB,IAAI0F,IAAI,CAAC1D,MAAM,GAAG,CAAC,EAAE;MAAA;MAAAjD,aAAA,GAAAgC,CAAA;MACpB;MACA,MAAM6I,SAAS;MAAA;MAAA,CAAA7K,aAAA,GAAAiB,CAAA,SAAGoD,QAAQ,GAAG,CAAC;MAAC;MAAArE,aAAA,GAAAiB,CAAA;MAE/B,IAAI4J,SAAS,KAAK,CAAC,EAAE;QAAA;QAAA7K,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACpB;QACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,EAAEG,WAAW,GAAGgD,eAAe,CAAC;MACtG,CAAC,MAAM;QAAA;QAAA9G,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACN;QACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,GAAGkH,SAAS,GAAG,CAAC,EAAE9D,cAAc,GAAG,CAAC,CAAC;MAC3G;IACD,CAAC,MAAM;MAAA;MAAA/G,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACN;MACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,EAAEG,WAAW,CAAC;IACpF;IAAC;IAAA9D,aAAA,GAAAiB,CAAA;IAED,OAAO2J,WAAW;EACnB;EAEA;;;EAGO,OAAOrC,qBAAqBA,CAACjC,UAAqC;IAAA;IAAAtG,aAAA,GAAAoB,CAAA;IACxE,MAAMmD,MAAM;IAAA;IAAA,CAAAvE,aAAA,GAAAiB,CAAA,SAAY,EAAE;IAE1B,IAAI6J,mBAAmB;IAAA;IAAA,CAAA9K,aAAA,GAAAiB,CAAA,SAAW,CAAC;IACnC,IAAI8J,eAAe;IAAA;IAAA,CAAA/K,aAAA,GAAAiB,CAAA,SAAW,CAAC;IAC/B,IAAI+J,MAAM;IAAA;IAAA,CAAAhL,aAAA,GAAAiB,CAAA,SAAmC,IAAI;IAAC;IAAAjB,aAAA,GAAAiB,CAAA;IAClD,KAAK,IAAIsF,CAAC;MAAA;MAAA,CAAAvG,aAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEqI,GAAG;MAAA;MAAA,CAAAtJ,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACrD,MAAM,GAAEsD,CAAC,GAAG+C,GAAG,EAAE/C,CAAC,EAAE,EAAE;MACtD,MAAMC,EAAE;MAAA;MAAA,CAAAxG,aAAA,GAAAiB,CAAA,SAAGqF,UAAU,CAACC,CAAC,CAAC;MAExB,IAAI5C,eAAuB;MAC3B,IAAIG,WAAmB;MAAC;MAAA9D,aAAA,GAAAiB,CAAA;MAExB,IAAI+J,MAAM,EAAE;QAAA;QAAAhL,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACX,IAAI+J,MAAM,CAAC1H,KAAK,CAACM,aAAa,KAAK4C,EAAE,CAAClD,KAAK,CAACK,eAAe,EAAE;UAAA;UAAA3D,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UAC5D0C,eAAe,GAAGmH,mBAAmB;UAAC;UAAA9K,aAAA,GAAAiB,CAAA;UACtC6C,WAAW,GAAGiH,eAAe,IAAIvE,EAAE,CAAClD,KAAK,CAACQ,WAAW,GAAGkH,MAAM,CAAC1H,KAAK,CAACO,SAAS,CAAC;QAChF,CAAC,MAAM;UAAA;UAAA7D,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACN0C,eAAe,GAAGmH,mBAAmB,IAAItE,EAAE,CAAClD,KAAK,CAACK,eAAe,GAAGqH,MAAM,CAAC1H,KAAK,CAACM,aAAa,CAAC;UAAC;UAAA5D,aAAA,GAAAiB,CAAA;UAChG6C,WAAW,GAAG0C,EAAE,CAAClD,KAAK,CAACQ,WAAW;QACnC;MACD,CAAC,MAAM;QAAA;QAAA9D,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACN0C,eAAe,GAAG6C,EAAE,CAAClD,KAAK,CAACK,eAAe;QAAC;QAAA3D,aAAA,GAAAiB,CAAA;QAC3C6C,WAAW,GAAG0C,EAAE,CAAClD,KAAK,CAACQ,WAAW;MACnC;MAEA,IAAI8G,WAAkB;MAAC;MAAA5K,aAAA,GAAAiB,CAAA;MAEvB,IAAIuF,EAAE,CAACG,IAAI,CAAC1D,MAAM,GAAG,CAAC,EAAE;QAAA;QAAAjD,aAAA,GAAAgC,CAAA;QACvB;QACA,MAAM6I,SAAS;QAAA;QAAA,CAAA7K,aAAA,GAAAiB,CAAA,SAAGuF,EAAE,CAACnC,QAAQ,GAAG,CAAC;QAAC;QAAArE,aAAA,GAAAiB,CAAA;QAElC,IAAI4J,SAAS,KAAK,CAAC,EAAE;UAAA;UAAA7K,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACpB;UACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,EAAEG,WAAW,GAAG0C,EAAE,CAACM,eAAe,CAAC;QACzG,CAAC,MAAM;UAAA;UAAA9G,aAAA,GAAAgC,CAAA;UAAAhC,aAAA,GAAAiB,CAAA;UACN;UACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,GAAGkH,SAAS,GAAG,CAAC,EAAErE,EAAE,CAACO,cAAc,GAAG,CAAC,CAAC;QAC9G;MACD,CAAC,MAAM;QAAA;QAAA/G,aAAA,GAAAgC,CAAA;QAAAhC,aAAA,GAAAiB,CAAA;QACN;QACA2J,WAAW,GAAG,IAAIxK,KAAK,CAACuD,eAAe,EAAEG,WAAW,EAAEH,eAAe,EAAEG,WAAW,CAAC;MACpF;MAAC;MAAA9D,aAAA,GAAAiB,CAAA;MAED6J,mBAAmB,GAAGF,WAAW,CAAChH,aAAa;MAAC;MAAA5D,aAAA,GAAAiB,CAAA;MAChD8J,eAAe,GAAGH,WAAW,CAAC/G,SAAS;MAAC;MAAA7D,aAAA,GAAAiB,CAAA;MAExCsD,MAAM,CAACoE,IAAI,CAACiC,WAAW,CAAC;MAAC;MAAA5K,aAAA,GAAAiB,CAAA;MACzB+J,MAAM,GAAGxE,EAAE;IACZ;IAAC;IAAAxG,aAAA,GAAAiB,CAAA;IAED,OAAOsD,MAAM;EACd;EAEQ,OAAOqD,iBAAiBA,CAACsB,CAA0B,EAAElH,CAA0B;IAAA;IAAAhC,aAAA,GAAAoB,CAAA;IACtF,MAAM6J,CAAC;IAAA;IAAA,CAAAjL,aAAA,GAAAiB,CAAA,SAAGb,KAAK,CAAC8K,sBAAsB,CAAChC,CAAC,CAAC5F,KAAK,EAAEtB,CAAC,CAACsB,KAAK,CAAC;IAAC;IAAAtD,aAAA,GAAAiB,CAAA;IACzD,IAAIgK,CAAC,KAAK,CAAC,EAAE;MAAA;MAAAjL,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACZ,OAAOiI,CAAC,CAAC9B,SAAS,GAAGpF,CAAC,CAACoF,SAAS;IACjC,CAAC;IAAA;IAAA;MAAApH,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,OAAOgK,CAAC;EACT;EAEQ,OAAOhB,kBAAkBA,CAACf,CAA0B,EAAElH,CAA0B;IAAA;IAAAhC,aAAA,GAAAoB,CAAA;IACvF,MAAM6J,CAAC;IAAA;IAAA,CAAAjL,aAAA,GAAAiB,CAAA,SAAGb,KAAK,CAAC8K,sBAAsB,CAAChC,CAAC,CAAC5F,KAAK,EAAEtB,CAAC,CAACsB,KAAK,CAAC;IAAC;IAAAtD,aAAA,GAAAiB,CAAA;IACzD,IAAIgK,CAAC,KAAK,CAAC,EAAE;MAAA;MAAAjL,aAAA,GAAAgC,CAAA;MAAAhC,aAAA,GAAAiB,CAAA;MACZ,OAAOe,CAAC,CAACoF,SAAS,GAAG8B,CAAC,CAAC9B,SAAS;IACjC,CAAC;IAAA;IAAA;MAAApH,aAAA,GAAAgC,CAAA;IAAA;IAAAhC,aAAA,GAAAiB,CAAA;IACD,OAAO,CAACgK,CAAC;EACV","ignoreList":[]}