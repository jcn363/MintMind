{"version":3,"names":["cov_m4qgu2bsp","actualCoverage","Position","Range","FindMatch","SENTINEL","TreeNode","fixInsert","leftest","rbDelete","righttest","updateTreeMetadata","Searcher","createFindMatch","isValidMatch","AverageBufferSize","s","createUintArray","arr","f","r","length","b","Uint16Array","Uint32Array","set","LineStarts","lineStarts","cr","lf","crlf","isBasicASCII","constructor","createLineStartsFast","str","readonly","rLength","i","len","chr","charCodeAt","createLineStarts","result","Piece","bufferIndex","start","end","lineFeedCnt","StringBuffer","buffer","PieceTreeSnapshot","_pieces","_index","_tree","_BOM","tree","BOM","root","iterate","node","push","piece","read","getPieceContent","PieceTreeSearchCache","_limit","_cache","limit","get","offset","nodePos","nodeStartOffset","get2","lineNumber","nodeStartLineNumber","nodePosition","shift","validate","hasInvalidVal","tmp","parent","newArr","entry","PieceTreeBase","_buffers","_lineCnt","_length","_EOL","_EOLLength","_EOLNormalized","_lastChangeBufferPos","_searchCache","_lastVisitedLine","chunks","eol","eolNormalized","create","line","column","lastNode","rbInsertRight","value","computeBufferMetadata","normalizeEOL","averageBufferSize","min","Math","floor","max","tempChunk","tempChunkLen","getNodeContent","text","replace","getEOL","setEOL","newEOL","createSnapshot","equal","other","getLength","getLineCount","ret","startPosition","nodeAt","endPosition","val","getValueInRange2","getOffsetAt","leftLen","x","left","lf_left","size_left","accumualtedValInCurrentIndex","getAccumulatedValue","right","getPositionAt","lfCnt","originalOffset","out","getIndexOf","index","lineStartOffset","remainder","getValueInRange","range","startLineNumber","endLineNumber","startColumn","endColumn","nodeAt2","startOffset","offsetInBuffer","substring","next","substr","getLinesContent","lines","linesLength","currentLine","danglingCR","pieceLength","pieceStartLine","pieceEndLine","pieceStartOffset","getLineContent","getLineRawContent","_getCharCode","matchingNode","targetOffset","getLineCharCode","getLineLength","getCharCode","getNearestChunk","targetEnd","findMatchesInNode","searcher","startCursor","endCursor","searchData","captureMatches","limitResultCount","resultLen","startOffsetInBuffer","m","searchText","_wordSeparators","reset","positionInBuffer","getLineFeedCnt","retStartColumn","retEndColumn","findMatchesLineByLine","searchRange","wordSeparators","regex","currentNode","lineBreakCnt","nextLineStartOffset","_findMatchesInLine","deltaOffset","simpleSearch","searchString","searchStringLen","textLength","lastMatchIndex","indexOf","insert","insertPosInBuffer","appendToNode","insertContentToNodeLeft","nodesToDel","newRightPiece","shouldCheckCRLF","endWithCR","headOfRight","nodeCharCodeAt","newStart","startWithLF","tailOfLeft","previousPos","deleteNodeTail","newPieces","createNewPieces","tmpNode","k","deleteNodes","insertContentToNodeRight","pieces","rbInsertLeft","delete","cnt","startNode","endNode","startSplitPosInBuffer","endSplitPosInBuffer","validateCRLFWithPrevNode","deleteNodeHead","validateCRLFWithNextNode","shrinkNode","secondNode","prev","nPiece","newNode","adjustCarriageReturnFromNext","low","high","mid","midStop","midStart","endOffset","previousCharOffset","cursor","nodes","lastChar","splitText","concat","slice","endIndex","endPos","newPiece","getLinesRawContent","getContentOfSubTree","cache","prevAccumulatedValue","accumulatedValue","originalLineNumber","pos","lineCnt","realLineCnt","expectedLineStartIndex","originalLFCnt","originalEndOffset","newEnd","newEndOffset","newLineFeedCnt","lf_delta","size_delta","newLength","originalStartOffset","newStartOffset","originalStartPos","originalEndPos","oldLength","oldLFCnt","hitCRLF","prevStartOffset","pop","oldLineFeedCnt","prevAccumualtedValue","offsetOfNode","newOffset","nextLineOffset","nextNode","fixCRLF","prevNewLength","prevNewLFCnt","callback","leftRet","currentContent","p","z","color","prevNode"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { Position } from '../../core/position.js';\nimport { Range } from '../../core/range.js';\nimport { FindMatch, ITextSnapshot, SearchData } from '../../model.js';\nimport { NodeColor, SENTINEL, TreeNode, fixInsert, leftest, rbDelete, righttest, updateTreeMetadata } from './rbTreeBase.js';\nimport { Searcher, createFindMatch, isValidMatch } from '../textModelSearch.js';\n\n// const lfRegex = new RegExp(/\\r\\n|\\r|\\n/g);\nconst AverageBufferSize = 65535;\n\nfunction createUintArray(arr: number[]): Uint32Array | Uint16Array {\n\tlet r;\n\tif (arr[arr.length - 1] < 65536) {\n\t\tr = new Uint16Array(arr.length);\n\t} else {\n\t\tr = new Uint32Array(arr.length);\n\t}\n\tr.set(arr, 0);\n\treturn r;\n}\n\nclass LineStarts {\n\tconstructor(\n\t\tpublic readonly lineStarts: Uint32Array | Uint16Array | number[],\n\t\tpublic readonly cr: number,\n\t\tpublic readonly lf: number,\n\t\tpublic readonly crlf: number,\n\t\tpublic readonly isBasicASCII: boolean\n\t) { }\n}\n\nexport function createLineStartsFast(str: string, readonly: boolean = true): Uint32Array | Uint16Array | number[] {\n\tconst r: number[] = [0];\n\tlet rLength = 1;\n\n\tfor (let i = 0, len = str.length; i < len; i++) {\n\t\tconst chr = str.charCodeAt(i);\n\n\t\tif (chr === CharCode.CarriageReturn) {\n\t\t\tif (i + 1 < len && str.charCodeAt(i + 1) === CharCode.LineFeed) {\n\t\t\t\t// \\r\\n... case\n\t\t\t\tr[rLength++] = i + 2;\n\t\t\t\ti++; // skip \\n\n\t\t\t} else {\n\t\t\t\t// \\r... case\n\t\t\t\tr[rLength++] = i + 1;\n\t\t\t}\n\t\t} else if (chr === CharCode.LineFeed) {\n\t\t\tr[rLength++] = i + 1;\n\t\t}\n\t}\n\tif (readonly) {\n\t\treturn createUintArray(r);\n\t} else {\n\t\treturn r;\n\t}\n}\n\nexport function createLineStarts(r: number[], str: string): LineStarts {\n\tr.length = 0;\n\tr[0] = 0;\n\tlet rLength = 1;\n\tlet cr = 0, lf = 0, crlf = 0;\n\tlet isBasicASCII = true;\n\tfor (let i = 0, len = str.length; i < len; i++) {\n\t\tconst chr = str.charCodeAt(i);\n\n\t\tif (chr === CharCode.CarriageReturn) {\n\t\t\tif (i + 1 < len && str.charCodeAt(i + 1) === CharCode.LineFeed) {\n\t\t\t\t// \\r\\n... case\n\t\t\t\tcrlf++;\n\t\t\t\tr[rLength++] = i + 2;\n\t\t\t\ti++; // skip \\n\n\t\t\t} else {\n\t\t\t\tcr++;\n\t\t\t\t// \\r... case\n\t\t\t\tr[rLength++] = i + 1;\n\t\t\t}\n\t\t} else if (chr === CharCode.LineFeed) {\n\t\t\tlf++;\n\t\t\tr[rLength++] = i + 1;\n\t\t} else {\n\t\t\tif (isBasicASCII) {\n\t\t\t\tif (chr !== CharCode.Tab && (chr < 32 || chr > 126)) {\n\t\t\t\t\tisBasicASCII = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tconst result = new LineStarts(createUintArray(r), cr, lf, crlf, isBasicASCII);\n\tr.length = 0;\n\n\treturn result;\n}\n\ninterface NodePosition {\n\t/**\n\t * Piece Index\n\t */\n\tnode: TreeNode;\n\t/**\n\t * remainder in current piece.\n\t*/\n\tremainder: number;\n\t/**\n\t * node start offset in document.\n\t */\n\tnodeStartOffset: number;\n}\n\ninterface BufferCursor {\n\t/**\n\t * Line number in current buffer\n\t */\n\tline: number;\n\t/**\n\t * Column number in current buffer\n\t */\n\tcolumn: number;\n}\n\nexport class Piece {\n\treadonly bufferIndex: number;\n\treadonly start: BufferCursor;\n\treadonly end: BufferCursor;\n\treadonly length: number;\n\treadonly lineFeedCnt: number;\n\n\tconstructor(bufferIndex: number, start: BufferCursor, end: BufferCursor, lineFeedCnt: number, length: number) {\n\t\tthis.bufferIndex = bufferIndex;\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\tthis.lineFeedCnt = lineFeedCnt;\n\t\tthis.length = length;\n\t}\n}\n\nexport class StringBuffer {\n\tbuffer: string;\n\tlineStarts: Uint32Array | Uint16Array | number[];\n\n\tconstructor(buffer: string, lineStarts: Uint32Array | Uint16Array | number[]) {\n\t\tthis.buffer = buffer;\n\t\tthis.lineStarts = lineStarts;\n\t}\n}\n\n/**\n * Readonly snapshot for piece tree.\n * In a real multiple thread environment, to make snapshot reading always work correctly, we need to\n * 1. Make TreeNode.piece immutable, then reading and writing can run in parallel.\n * 2. TreeNode/Buffers normalization should not happen during snapshot reading.\n */\nclass PieceTreeSnapshot implements ITextSnapshot {\n\tprivate readonly _pieces: Piece[];\n\tprivate _index: number;\n\tprivate readonly _tree: PieceTreeBase;\n\tprivate readonly _BOM: string;\n\n\tconstructor(tree: PieceTreeBase, BOM: string) {\n\t\tthis._pieces = [];\n\t\tthis._tree = tree;\n\t\tthis._BOM = BOM;\n\t\tthis._index = 0;\n\t\tif (tree.root !== SENTINEL) {\n\t\t\ttree.iterate(tree.root, node => {\n\t\t\t\tif (node !== SENTINEL) {\n\t\t\t\t\tthis._pieces.push(node.piece);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\t}\n\n\tread(): string | null {\n\t\tif (this._pieces.length === 0) {\n\t\t\tif (this._index === 0) {\n\t\t\t\tthis._index++;\n\t\t\t\treturn this._BOM;\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tif (this._index > this._pieces.length - 1) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (this._index === 0) {\n\t\t\treturn this._BOM + this._tree.getPieceContent(this._pieces[this._index++]);\n\t\t}\n\t\treturn this._tree.getPieceContent(this._pieces[this._index++]);\n\t}\n}\n\ninterface CacheEntry {\n\tnode: TreeNode;\n\tnodeStartOffset: number;\n\tnodeStartLineNumber?: number;\n}\n\nclass PieceTreeSearchCache {\n\tprivate readonly _limit: number;\n\tprivate _cache: CacheEntry[];\n\n\tconstructor(limit: number) {\n\t\tthis._limit = limit;\n\t\tthis._cache = [];\n\t}\n\n\tpublic get(offset: number): CacheEntry | null {\n\t\tfor (let i = this._cache.length - 1; i >= 0; i--) {\n\t\t\tconst nodePos = this._cache[i];\n\t\t\tif (nodePos.nodeStartOffset <= offset && nodePos.nodeStartOffset + nodePos.node.piece.length >= offset) {\n\t\t\t\treturn nodePos;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic get2(lineNumber: number): { node: TreeNode; nodeStartOffset: number; nodeStartLineNumber: number } | null {\n\t\tfor (let i = this._cache.length - 1; i >= 0; i--) {\n\t\t\tconst nodePos = this._cache[i];\n\t\t\tif (nodePos.nodeStartLineNumber && nodePos.nodeStartLineNumber < lineNumber && nodePos.nodeStartLineNumber + nodePos.node.piece.lineFeedCnt >= lineNumber) {\n\t\t\t\treturn <{ node: TreeNode; nodeStartOffset: number; nodeStartLineNumber: number }>nodePos;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic set(nodePosition: CacheEntry) {\n\t\tif (this._cache.length >= this._limit) {\n\t\t\tthis._cache.shift();\n\t\t}\n\t\tthis._cache.push(nodePosition);\n\t}\n\n\tpublic validate(offset: number) {\n\t\tlet hasInvalidVal = false;\n\t\tconst tmp: Array<CacheEntry | null> = this._cache;\n\t\tfor (let i = 0; i < tmp.length; i++) {\n\t\t\tconst nodePos = tmp[i]!;\n\t\t\tif (nodePos.node.parent === null || nodePos.nodeStartOffset >= offset) {\n\t\t\t\ttmp[i] = null;\n\t\t\t\thasInvalidVal = true;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tif (hasInvalidVal) {\n\t\t\tconst newArr: CacheEntry[] = [];\n\t\t\tfor (const entry of tmp) {\n\t\t\t\tif (entry !== null) {\n\t\t\t\t\tnewArr.push(entry);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._cache = newArr;\n\t\t}\n\t}\n}\n\nexport class PieceTreeBase {\n\troot!: TreeNode;\n\tprotected _buffers!: StringBuffer[]; // 0 is change buffer, others are readonly original buffer.\n\tprotected _lineCnt!: number;\n\tprotected _length!: number;\n\tprotected _EOL!: '\\r\\n' | '\\n';\n\tprotected _EOLLength!: number;\n\tprotected _EOLNormalized!: boolean;\n\tprivate _lastChangeBufferPos!: BufferCursor;\n\tprivate _searchCache!: PieceTreeSearchCache;\n\tprivate _lastVisitedLine!: { lineNumber: number; value: string };\n\n\tconstructor(chunks: StringBuffer[], eol: '\\r\\n' | '\\n', eolNormalized: boolean) {\n\t\tthis.create(chunks, eol, eolNormalized);\n\t}\n\n\tcreate(chunks: StringBuffer[], eol: '\\r\\n' | '\\n', eolNormalized: boolean) {\n\t\tthis._buffers = [\n\t\t\tnew StringBuffer('', [0])\n\t\t];\n\t\tthis._lastChangeBufferPos = { line: 0, column: 0 };\n\t\tthis.root = SENTINEL;\n\t\tthis._lineCnt = 1;\n\t\tthis._length = 0;\n\t\tthis._EOL = eol;\n\t\tthis._EOLLength = eol.length;\n\t\tthis._EOLNormalized = eolNormalized;\n\n\t\tlet lastNode: TreeNode | null = null;\n\t\tfor (let i = 0, len = chunks.length; i < len; i++) {\n\t\t\tif (chunks[i].buffer.length > 0) {\n\t\t\t\tif (!chunks[i].lineStarts) {\n\t\t\t\t\tchunks[i].lineStarts = createLineStartsFast(chunks[i].buffer);\n\t\t\t\t}\n\n\t\t\t\tconst piece = new Piece(\n\t\t\t\t\ti + 1,\n\t\t\t\t\t{ line: 0, column: 0 },\n\t\t\t\t\t{ line: chunks[i].lineStarts.length - 1, column: chunks[i].buffer.length - chunks[i].lineStarts[chunks[i].lineStarts.length - 1] },\n\t\t\t\t\tchunks[i].lineStarts.length - 1,\n\t\t\t\t\tchunks[i].buffer.length\n\t\t\t\t);\n\t\t\t\tthis._buffers.push(chunks[i]);\n\t\t\t\tlastNode = this.rbInsertRight(lastNode, piece);\n\t\t\t}\n\t\t}\n\n\t\tthis._searchCache = new PieceTreeSearchCache(1);\n\t\tthis._lastVisitedLine = { lineNumber: 0, value: '' };\n\t\tthis.computeBufferMetadata();\n\t}\n\n\tnormalizeEOL(eol: '\\r\\n' | '\\n') {\n\t\tconst averageBufferSize = AverageBufferSize;\n\t\tconst min = averageBufferSize - Math.floor(averageBufferSize / 3);\n\t\tconst max = min * 2;\n\n\t\tlet tempChunk = '';\n\t\tlet tempChunkLen = 0;\n\t\tconst chunks: StringBuffer[] = [];\n\n\t\tthis.iterate(this.root, node => {\n\t\t\tconst str = this.getNodeContent(node);\n\t\t\tconst len = str.length;\n\t\t\tif (tempChunkLen <= min || tempChunkLen + len < max) {\n\t\t\t\ttempChunk += str;\n\t\t\t\ttempChunkLen += len;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// flush anyways\n\t\t\tconst text = tempChunk.replace(/\\r\\n|\\r|\\n/g, eol);\n\t\t\tchunks.push(new StringBuffer(text, createLineStartsFast(text)));\n\t\t\ttempChunk = str;\n\t\t\ttempChunkLen = len;\n\t\t\treturn true;\n\t\t});\n\n\t\tif (tempChunkLen > 0) {\n\t\t\tconst text = tempChunk.replace(/\\r\\n|\\r|\\n/g, eol);\n\t\t\tchunks.push(new StringBuffer(text, createLineStartsFast(text)));\n\t\t}\n\n\t\tthis.create(chunks, eol, true);\n\t}\n\n\t// #region Buffer API\n\tpublic getEOL(): '\\r\\n' | '\\n' {\n\t\treturn this._EOL;\n\t}\n\n\tpublic setEOL(newEOL: '\\r\\n' | '\\n'): void {\n\t\tthis._EOL = newEOL;\n\t\tthis._EOLLength = this._EOL.length;\n\t\tthis.normalizeEOL(newEOL);\n\t}\n\n\tpublic createSnapshot(BOM: string): ITextSnapshot {\n\t\treturn new PieceTreeSnapshot(this, BOM);\n\t}\n\n\tpublic equal(other: PieceTreeBase): boolean {\n\t\tif (this.getLength() !== other.getLength()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.getLineCount() !== other.getLineCount()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet offset = 0;\n\t\tconst ret = this.iterate(this.root, node => {\n\t\t\tif (node === SENTINEL) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst str = this.getNodeContent(node);\n\t\t\tconst len = str.length;\n\t\t\tconst startPosition = other.nodeAt(offset);\n\t\t\tconst endPosition = other.nodeAt(offset + len);\n\t\t\tconst val = other.getValueInRange2(startPosition, endPosition);\n\n\t\t\toffset += len;\n\t\t\treturn str === val;\n\t\t});\n\n\t\treturn ret;\n\t}\n\n\tpublic getOffsetAt(lineNumber: number, column: number): number {\n\t\tlet leftLen = 0; // inorder\n\n\t\tlet x = this.root;\n\n\t\twhile (x !== SENTINEL) {\n\t\t\tif (x.left !== SENTINEL && x.lf_left + 1 >= lineNumber) {\n\t\t\t\tx = x.left;\n\t\t\t} else if (x.lf_left + x.piece.lineFeedCnt + 1 >= lineNumber) {\n\t\t\t\tleftLen += x.size_left;\n\t\t\t\t// lineNumber >= 2\n\t\t\t\tconst accumualtedValInCurrentIndex = this.getAccumulatedValue(x, lineNumber - x.lf_left - 2);\n\t\t\t\treturn leftLen += accumualtedValInCurrentIndex + column - 1;\n\t\t\t} else {\n\t\t\t\tlineNumber -= x.lf_left + x.piece.lineFeedCnt;\n\t\t\t\tleftLen += x.size_left + x.piece.length;\n\t\t\t\tx = x.right;\n\t\t\t}\n\t\t}\n\n\t\treturn leftLen;\n\t}\n\n\tpublic getPositionAt(offset: number): Position {\n\t\toffset = Math.floor(offset);\n\t\toffset = Math.max(0, offset);\n\n\t\tlet x = this.root;\n\t\tlet lfCnt = 0;\n\t\tconst originalOffset = offset;\n\n\t\twhile (x !== SENTINEL) {\n\t\t\tif (x.size_left !== 0 && x.size_left >= offset) {\n\t\t\t\tx = x.left;\n\t\t\t} else if (x.size_left + x.piece.length >= offset) {\n\t\t\t\tconst out = this.getIndexOf(x, offset - x.size_left);\n\n\t\t\t\tlfCnt += x.lf_left + out.index;\n\n\t\t\t\tif (out.index === 0) {\n\t\t\t\t\tconst lineStartOffset = this.getOffsetAt(lfCnt + 1, 1);\n\t\t\t\t\tconst column = originalOffset - lineStartOffset;\n\t\t\t\t\treturn new Position(lfCnt + 1, column + 1);\n\t\t\t\t}\n\n\t\t\t\treturn new Position(lfCnt + 1, out.remainder + 1);\n\t\t\t} else {\n\t\t\t\toffset -= x.size_left + x.piece.length;\n\t\t\t\tlfCnt += x.lf_left + x.piece.lineFeedCnt;\n\n\t\t\t\tif (x.right === SENTINEL) {\n\t\t\t\t\t// last node\n\t\t\t\t\tconst lineStartOffset = this.getOffsetAt(lfCnt + 1, 1);\n\t\t\t\t\tconst column = originalOffset - offset - lineStartOffset;\n\t\t\t\t\treturn new Position(lfCnt + 1, column + 1);\n\t\t\t\t} else {\n\t\t\t\t\tx = x.right;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn new Position(1, 1);\n\t}\n\n\tpublic getValueInRange(range: Range, eol?: string): string {\n\t\tif (range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst startPosition = this.nodeAt2(range.startLineNumber, range.startColumn);\n\t\tconst endPosition = this.nodeAt2(range.endLineNumber, range.endColumn);\n\n\t\tconst value = this.getValueInRange2(startPosition, endPosition);\n\t\tif (eol) {\n\t\t\tif (eol !== this._EOL || !this._EOLNormalized) {\n\t\t\t\treturn value.replace(/\\r\\n|\\r|\\n/g, eol);\n\t\t\t}\n\n\t\t\tif (eol === this.getEOL() && this._EOLNormalized) {\n\t\t\t\tif (eol === '\\r\\n') {\n\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\treturn value.replace(/\\r\\n|\\r|\\n/g, eol);\n\t\t}\n\t\treturn value;\n\t}\n\n\tpublic getValueInRange2(startPosition: NodePosition, endPosition: NodePosition): string {\n\t\tif (startPosition.node === endPosition.node) {\n\t\t\tconst node = startPosition.node;\n\t\t\tconst buffer = this._buffers[node.piece.bufferIndex].buffer;\n\t\t\tconst startOffset = this.offsetInBuffer(node.piece.bufferIndex, node.piece.start);\n\t\t\treturn buffer.substring(startOffset + startPosition.remainder, startOffset + endPosition.remainder);\n\t\t}\n\n\t\tlet x = startPosition.node;\n\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\t\tlet ret = buffer.substring(startOffset + startPosition.remainder, startOffset + x.piece.length);\n\n\t\tx = x.next();\n\t\twhile (x !== SENTINEL) {\n\t\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\n\t\t\tif (x === endPosition.node) {\n\t\t\t\tret += buffer.substring(startOffset, startOffset + endPosition.remainder);\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tret += buffer.substr(startOffset, x.piece.length);\n\t\t\t}\n\n\t\t\tx = x.next();\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tpublic getLinesContent(): string[] {\n\t\tconst lines: string[] = [];\n\t\tlet linesLength = 0;\n\t\tlet currentLine = '';\n\t\tlet danglingCR = false;\n\n\t\tthis.iterate(this.root, node => {\n\t\t\tif (node === SENTINEL) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst piece = node.piece;\n\t\t\tlet pieceLength = piece.length;\n\t\t\tif (pieceLength === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst buffer = this._buffers[piece.bufferIndex].buffer;\n\t\t\tconst lineStarts = this._buffers[piece.bufferIndex].lineStarts;\n\n\t\t\tconst pieceStartLine = piece.start.line;\n\t\t\tconst pieceEndLine = piece.end.line;\n\t\t\tlet pieceStartOffset = lineStarts[pieceStartLine] + piece.start.column;\n\n\t\t\tif (danglingCR) {\n\t\t\t\tif (buffer.charCodeAt(pieceStartOffset) === CharCode.LineFeed) {\n\t\t\t\t\t// pretend the \\n was in the previous piece..\n\t\t\t\t\tpieceStartOffset++;\n\t\t\t\t\tpieceLength--;\n\t\t\t\t}\n\t\t\t\tlines[linesLength++] = currentLine;\n\t\t\t\tcurrentLine = '';\n\t\t\t\tdanglingCR = false;\n\t\t\t\tif (pieceLength === 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (pieceStartLine === pieceEndLine) {\n\t\t\t\t// this piece has no new lines\n\t\t\t\tif (!this._EOLNormalized && buffer.charCodeAt(pieceStartOffset + pieceLength - 1) === CharCode.CarriageReturn) {\n\t\t\t\t\tdanglingCR = true;\n\t\t\t\t\tcurrentLine += buffer.substr(pieceStartOffset, pieceLength - 1);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentLine += buffer.substr(pieceStartOffset, pieceLength);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// add the text before the first line start in this piece\n\t\t\tcurrentLine += (\n\t\t\t\tthis._EOLNormalized\n\t\t\t\t\t? buffer.substring(pieceStartOffset, Math.max(pieceStartOffset, lineStarts[pieceStartLine + 1] - this._EOLLength))\n\t\t\t\t\t: buffer.substring(pieceStartOffset, lineStarts[pieceStartLine + 1]).replace(/(\\r\\n|\\r|\\n)$/, '')\n\t\t\t);\n\t\t\tlines[linesLength++] = currentLine;\n\n\t\t\tfor (let line = pieceStartLine + 1; line < pieceEndLine; line++) {\n\t\t\t\tcurrentLine = (\n\t\t\t\t\tthis._EOLNormalized\n\t\t\t\t\t\t? buffer.substring(lineStarts[line], lineStarts[line + 1] - this._EOLLength)\n\t\t\t\t\t\t: buffer.substring(lineStarts[line], lineStarts[line + 1]).replace(/(\\r\\n|\\r|\\n)$/, '')\n\t\t\t\t);\n\t\t\t\tlines[linesLength++] = currentLine;\n\t\t\t}\n\n\t\t\tif (!this._EOLNormalized && buffer.charCodeAt(lineStarts[pieceEndLine] + piece.end.column - 1) === CharCode.CarriageReturn) {\n\t\t\t\tdanglingCR = true;\n\t\t\t\tif (piece.end.column === 0) {\n\t\t\t\t\t// The last line ended with a \\r, let's undo the push, it will be pushed by next iteration\n\t\t\t\t\tlinesLength--;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentLine = buffer.substr(lineStarts[pieceEndLine], piece.end.column - 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentLine = buffer.substr(lineStarts[pieceEndLine], piece.end.column);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tif (danglingCR) {\n\t\t\tlines[linesLength++] = currentLine;\n\t\t\tcurrentLine = '';\n\t\t}\n\n\t\tlines[linesLength++] = currentLine;\n\t\treturn lines;\n\t}\n\n\tpublic getLength(): number {\n\t\treturn this._length;\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._lineCnt;\n\t}\n\n\tpublic getLineContent(lineNumber: number): string {\n\t\tif (this._lastVisitedLine.lineNumber === lineNumber) {\n\t\t\treturn this._lastVisitedLine.value;\n\t\t}\n\n\t\tthis._lastVisitedLine.lineNumber = lineNumber;\n\n\t\tif (lineNumber === this._lineCnt) {\n\t\t\tthis._lastVisitedLine.value = this.getLineRawContent(lineNumber);\n\t\t} else if (this._EOLNormalized) {\n\t\t\tthis._lastVisitedLine.value = this.getLineRawContent(lineNumber, this._EOLLength);\n\t\t} else {\n\t\t\tthis._lastVisitedLine.value = this.getLineRawContent(lineNumber).replace(/(\\r\\n|\\r|\\n)$/, '');\n\t\t}\n\n\t\treturn this._lastVisitedLine.value;\n\t}\n\n\tprivate _getCharCode(nodePos: NodePosition): number {\n\t\tif (nodePos.remainder === nodePos.node.piece.length) {\n\t\t\t// the char we want to fetch is at the head of next node.\n\t\t\tconst matchingNode = nodePos.node.next();\n\t\t\tif (!matchingNode) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tconst buffer = this._buffers[matchingNode.piece.bufferIndex];\n\t\t\tconst startOffset = this.offsetInBuffer(matchingNode.piece.bufferIndex, matchingNode.piece.start);\n\t\t\treturn buffer.buffer.charCodeAt(startOffset);\n\t\t} else {\n\t\t\tconst buffer = this._buffers[nodePos.node.piece.bufferIndex];\n\t\t\tconst startOffset = this.offsetInBuffer(nodePos.node.piece.bufferIndex, nodePos.node.piece.start);\n\t\t\tconst targetOffset = startOffset + nodePos.remainder;\n\n\t\t\treturn buffer.buffer.charCodeAt(targetOffset);\n\t\t}\n\t}\n\n\tpublic getLineCharCode(lineNumber: number, index: number): number {\n\t\tconst nodePos = this.nodeAt2(lineNumber, index + 1);\n\t\treturn this._getCharCode(nodePos);\n\t}\n\n\tpublic getLineLength(lineNumber: number): number {\n\t\tif (lineNumber === this.getLineCount()) {\n\t\t\tconst startOffset = this.getOffsetAt(lineNumber, 1);\n\t\t\treturn this.getLength() - startOffset;\n\t\t}\n\t\treturn this.getOffsetAt(lineNumber + 1, 1) - this.getOffsetAt(lineNumber, 1) - this._EOLLength;\n\t}\n\n\tpublic getCharCode(offset: number): number {\n\t\tconst nodePos = this.nodeAt(offset);\n\t\treturn this._getCharCode(nodePos);\n\t}\n\n\tpublic getNearestChunk(offset: number): string {\n\t\tconst nodePos = this.nodeAt(offset);\n\t\tif (nodePos.remainder === nodePos.node.piece.length) {\n\t\t\t// the offset is at the head of next node.\n\t\t\tconst matchingNode = nodePos.node.next();\n\t\t\tif (!matchingNode || matchingNode === SENTINEL) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst buffer = this._buffers[matchingNode.piece.bufferIndex];\n\t\t\tconst startOffset = this.offsetInBuffer(matchingNode.piece.bufferIndex, matchingNode.piece.start);\n\t\t\treturn buffer.buffer.substring(startOffset, startOffset + matchingNode.piece.length);\n\t\t} else {\n\t\t\tconst buffer = this._buffers[nodePos.node.piece.bufferIndex];\n\t\t\tconst startOffset = this.offsetInBuffer(nodePos.node.piece.bufferIndex, nodePos.node.piece.start);\n\t\t\tconst targetOffset = startOffset + nodePos.remainder;\n\t\t\tconst targetEnd = startOffset + nodePos.node.piece.length;\n\t\t\treturn buffer.buffer.substring(targetOffset, targetEnd);\n\t\t}\n\t}\n\n\tpublic findMatchesInNode(node: TreeNode, searcher: Searcher, startLineNumber: number, startColumn: number, startCursor: BufferCursor, endCursor: BufferCursor, searchData: SearchData, captureMatches: boolean, limitResultCount: number, resultLen: number, result: FindMatch[]) {\n\t\tconst buffer = this._buffers[node.piece.bufferIndex];\n\t\tconst startOffsetInBuffer = this.offsetInBuffer(node.piece.bufferIndex, node.piece.start);\n\t\tconst start = this.offsetInBuffer(node.piece.bufferIndex, startCursor);\n\t\tconst end = this.offsetInBuffer(node.piece.bufferIndex, endCursor);\n\n\t\tlet m: RegExpExecArray | null;\n\t\t// Reset regex to search from the beginning\n\t\tconst ret: BufferCursor = { line: 0, column: 0 };\n\t\tlet searchText: string;\n\t\tlet offsetInBuffer: (offset: number) => number;\n\n\t\tif (searcher._wordSeparators) {\n\t\t\tsearchText = buffer.buffer.substring(start, end);\n\t\t\toffsetInBuffer = (offset: number) => offset + start;\n\t\t\tsearcher.reset(0);\n\t\t} else {\n\t\t\tsearchText = buffer.buffer;\n\t\t\toffsetInBuffer = (offset: number) => offset;\n\t\t\tsearcher.reset(start);\n\t\t}\n\n\t\tdo {\n\t\t\tm = searcher.next(searchText);\n\n\t\t\tif (m) {\n\t\t\t\tif (offsetInBuffer(m.index) >= end) {\n\t\t\t\t\treturn resultLen;\n\t\t\t\t}\n\t\t\t\tthis.positionInBuffer(node, offsetInBuffer(m.index) - startOffsetInBuffer, ret);\n\t\t\t\tconst lineFeedCnt = this.getLineFeedCnt(node.piece.bufferIndex, startCursor, ret);\n\t\t\t\tconst retStartColumn = ret.line === startCursor.line ? ret.column - startCursor.column + startColumn : ret.column + 1;\n\t\t\t\tconst retEndColumn = retStartColumn + m[0].length;\n\t\t\t\tresult[resultLen++] = createFindMatch(new Range(startLineNumber + lineFeedCnt, retStartColumn, startLineNumber + lineFeedCnt, retEndColumn), m, captureMatches);\n\n\t\t\t\tif (offsetInBuffer(m.index) + m[0].length >= end) {\n\t\t\t\t\treturn resultLen;\n\t\t\t\t}\n\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\treturn resultLen;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} while (m);\n\n\t\treturn resultLen;\n\t}\n\n\tpublic findMatchesLineByLine(searchRange: Range, searchData: SearchData, captureMatches: boolean, limitResultCount: number): FindMatch[] {\n\t\tconst result: FindMatch[] = [];\n\t\tlet resultLen = 0;\n\t\tconst searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n\n\t\tlet startPosition = this.nodeAt2(searchRange.startLineNumber, searchRange.startColumn);\n\t\tif (startPosition === null) {\n\t\t\treturn [];\n\t\t}\n\t\tconst endPosition = this.nodeAt2(searchRange.endLineNumber, searchRange.endColumn);\n\t\tif (endPosition === null) {\n\t\t\treturn [];\n\t\t}\n\t\tlet start = this.positionInBuffer(startPosition.node, startPosition.remainder);\n\t\tconst end = this.positionInBuffer(endPosition.node, endPosition.remainder);\n\n\t\tif (startPosition.node === endPosition.node) {\n\t\t\tthis.findMatchesInNode(startPosition.node, searcher, searchRange.startLineNumber, searchRange.startColumn, start, end, searchData, captureMatches, limitResultCount, resultLen, result);\n\t\t\treturn result;\n\t\t}\n\n\t\tlet startLineNumber = searchRange.startLineNumber;\n\n\t\tlet currentNode = startPosition.node;\n\t\twhile (currentNode !== endPosition.node) {\n\t\t\tconst lineBreakCnt = this.getLineFeedCnt(currentNode.piece.bufferIndex, start, currentNode.piece.end);\n\n\t\t\tif (lineBreakCnt >= 1) {\n\t\t\t\t// last line break position\n\t\t\t\tconst lineStarts = this._buffers[currentNode.piece.bufferIndex].lineStarts;\n\t\t\t\tconst startOffsetInBuffer = this.offsetInBuffer(currentNode.piece.bufferIndex, currentNode.piece.start);\n\t\t\t\tconst nextLineStartOffset = lineStarts[start.line + lineBreakCnt];\n\t\t\t\tconst startColumn = startLineNumber === searchRange.startLineNumber ? searchRange.startColumn : 1;\n\t\t\t\tresultLen = this.findMatchesInNode(currentNode, searcher, startLineNumber, startColumn, start, this.positionInBuffer(currentNode, nextLineStartOffset - startOffsetInBuffer), searchData, captureMatches, limitResultCount, resultLen, result);\n\n\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tstartLineNumber += lineBreakCnt;\n\t\t\t}\n\n\t\t\tconst startColumn = startLineNumber === searchRange.startLineNumber ? searchRange.startColumn - 1 : 0;\n\t\t\t// search for the remaining content\n\t\t\tif (startLineNumber === searchRange.endLineNumber) {\n\t\t\t\tconst text = this.getLineContent(startLineNumber).substring(startColumn, searchRange.endColumn - 1);\n\t\t\t\tresultLen = this._findMatchesInLine(searchData, searcher, text, searchRange.endLineNumber, startColumn, resultLen, result, captureMatches, limitResultCount);\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tresultLen = this._findMatchesInLine(searchData, searcher, this.getLineContent(startLineNumber).substr(startColumn), startLineNumber, startColumn, resultLen, result, captureMatches, limitResultCount);\n\n\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tstartLineNumber++;\n\t\t\tstartPosition = this.nodeAt2(startLineNumber, 1);\n\t\t\tcurrentNode = startPosition.node;\n\t\t\tstart = this.positionInBuffer(startPosition.node, startPosition.remainder);\n\t\t}\n\n\t\tif (startLineNumber === searchRange.endLineNumber) {\n\t\t\tconst startColumn = startLineNumber === searchRange.startLineNumber ? searchRange.startColumn - 1 : 0;\n\t\t\tconst text = this.getLineContent(startLineNumber).substring(startColumn, searchRange.endColumn - 1);\n\t\t\tresultLen = this._findMatchesInLine(searchData, searcher, text, searchRange.endLineNumber, startColumn, resultLen, result, captureMatches, limitResultCount);\n\t\t\treturn result;\n\t\t}\n\n\t\tconst startColumn = startLineNumber === searchRange.startLineNumber ? searchRange.startColumn : 1;\n\t\tresultLen = this.findMatchesInNode(endPosition.node, searcher, startLineNumber, startColumn, start, end, searchData, captureMatches, limitResultCount, resultLen, result);\n\t\treturn result;\n\t}\n\n\tprivate _findMatchesInLine(searchData: SearchData, searcher: Searcher, text: string, lineNumber: number, deltaOffset: number, resultLen: number, result: FindMatch[], captureMatches: boolean, limitResultCount: number): number {\n\t\tconst wordSeparators = searchData.wordSeparators;\n\t\tif (!captureMatches && searchData.simpleSearch) {\n\t\t\tconst searchString = searchData.simpleSearch;\n\t\t\tconst searchStringLen = searchString.length;\n\t\t\tconst textLength = text.length;\n\n\t\t\tlet lastMatchIndex = -searchStringLen;\n\t\t\twhile ((lastMatchIndex = text.indexOf(searchString, lastMatchIndex + searchStringLen)) !== -1) {\n\t\t\t\tif (!wordSeparators || isValidMatch(wordSeparators, text, textLength, lastMatchIndex, searchStringLen)) {\n\t\t\t\t\tresult[resultLen++] = new FindMatch(new Range(lineNumber, lastMatchIndex + 1 + deltaOffset, lineNumber, lastMatchIndex + 1 + searchStringLen + deltaOffset), null);\n\t\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\t\treturn resultLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn resultLen;\n\t\t}\n\n\t\tlet m: RegExpExecArray | null;\n\t\t// Reset regex to search from the beginning\n\t\tsearcher.reset(0);\n\t\tdo {\n\t\t\tm = searcher.next(text);\n\t\t\tif (m) {\n\t\t\t\tresult[resultLen++] = createFindMatch(new Range(lineNumber, m.index + 1 + deltaOffset, lineNumber, m.index + 1 + m[0].length + deltaOffset), m, captureMatches);\n\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\treturn resultLen;\n\t\t\t\t}\n\t\t\t}\n\t\t} while (m);\n\t\treturn resultLen;\n\t}\n\n\t// #endregion\n\n\t// #region Piece Table\n\tpublic insert(offset: number, value: string, eolNormalized: boolean = false): void {\n\t\tthis._EOLNormalized = this._EOLNormalized && eolNormalized;\n\t\tthis._lastVisitedLine.lineNumber = 0;\n\t\tthis._lastVisitedLine.value = '';\n\n\t\tif (this.root !== SENTINEL) {\n\t\t\tconst { node, remainder, nodeStartOffset } = this.nodeAt(offset);\n\t\t\tconst piece = node.piece;\n\t\t\tconst bufferIndex = piece.bufferIndex;\n\t\t\tconst insertPosInBuffer = this.positionInBuffer(node, remainder);\n\t\t\tif (node.piece.bufferIndex === 0 &&\n\t\t\t\tpiece.end.line === this._lastChangeBufferPos.line &&\n\t\t\t\tpiece.end.column === this._lastChangeBufferPos.column &&\n\t\t\t\t(nodeStartOffset + piece.length === offset) &&\n\t\t\t\tvalue.length < AverageBufferSize\n\t\t\t) {\n\t\t\t\t// changed buffer\n\t\t\t\tthis.appendToNode(node, value);\n\t\t\t\tthis.computeBufferMetadata();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (nodeStartOffset === offset) {\n\t\t\t\tthis.insertContentToNodeLeft(value, node);\n\t\t\t\tthis._searchCache.validate(offset);\n\t\t\t} else if (nodeStartOffset + node.piece.length > offset) {\n\t\t\t\t// we are inserting into the middle of a node.\n\t\t\t\tconst nodesToDel: TreeNode[] = [];\n\t\t\t\tlet newRightPiece = new Piece(\n\t\t\t\t\tpiece.bufferIndex,\n\t\t\t\t\tinsertPosInBuffer,\n\t\t\t\t\tpiece.end,\n\t\t\t\t\tthis.getLineFeedCnt(piece.bufferIndex, insertPosInBuffer, piece.end),\n\t\t\t\t\tthis.offsetInBuffer(bufferIndex, piece.end) - this.offsetInBuffer(bufferIndex, insertPosInBuffer)\n\t\t\t\t);\n\n\t\t\t\tif (this.shouldCheckCRLF() && this.endWithCR(value)) {\n\t\t\t\t\tconst headOfRight = this.nodeCharCodeAt(node, remainder);\n\n\t\t\t\t\tif (headOfRight === 10 /** \\n */) {\n\t\t\t\t\t\tconst newStart: BufferCursor = { line: newRightPiece.start.line + 1, column: 0 };\n\t\t\t\t\t\tnewRightPiece = new Piece(\n\t\t\t\t\t\t\tnewRightPiece.bufferIndex,\n\t\t\t\t\t\t\tnewStart,\n\t\t\t\t\t\t\tnewRightPiece.end,\n\t\t\t\t\t\t\tthis.getLineFeedCnt(newRightPiece.bufferIndex, newStart, newRightPiece.end),\n\t\t\t\t\t\t\tnewRightPiece.length - 1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tvalue += '\\n';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// reuse node for content before insertion point.\n\t\t\t\tif (this.shouldCheckCRLF() && this.startWithLF(value)) {\n\t\t\t\t\tconst tailOfLeft = this.nodeCharCodeAt(node, remainder - 1);\n\t\t\t\t\tif (tailOfLeft === 13 /** \\r */) {\n\t\t\t\t\t\tconst previousPos = this.positionInBuffer(node, remainder - 1);\n\t\t\t\t\t\tthis.deleteNodeTail(node, previousPos);\n\t\t\t\t\t\tvalue = '\\r' + value;\n\n\t\t\t\t\t\tif (node.piece.length === 0) {\n\t\t\t\t\t\t\tnodesToDel.push(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.deleteNodeTail(node, insertPosInBuffer);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.deleteNodeTail(node, insertPosInBuffer);\n\t\t\t\t}\n\n\t\t\t\tconst newPieces = this.createNewPieces(value);\n\t\t\t\tif (newRightPiece.length > 0) {\n\t\t\t\t\tthis.rbInsertRight(node, newRightPiece);\n\t\t\t\t}\n\n\t\t\t\tlet tmpNode = node;\n\t\t\t\tfor (let k = 0; k < newPieces.length; k++) {\n\t\t\t\t\ttmpNode = this.rbInsertRight(tmpNode, newPieces[k]);\n\t\t\t\t}\n\t\t\t\tthis.deleteNodes(nodesToDel);\n\t\t\t} else {\n\t\t\t\tthis.insertContentToNodeRight(value, node);\n\t\t\t}\n\t\t} else {\n\t\t\t// insert new node\n\t\t\tconst pieces = this.createNewPieces(value);\n\t\t\tlet node = this.rbInsertLeft(null, pieces[0]);\n\n\t\t\tfor (let k = 1; k < pieces.length; k++) {\n\t\t\t\tnode = this.rbInsertRight(node, pieces[k]);\n\t\t\t}\n\t\t}\n\n\t\t// todo, this is too brutal. Total line feed count should be updated the same way as lf_left.\n\t\tthis.computeBufferMetadata();\n\t}\n\n\tpublic delete(offset: number, cnt: number): void {\n\t\tthis._lastVisitedLine.lineNumber = 0;\n\t\tthis._lastVisitedLine.value = '';\n\n\t\tif (cnt <= 0 || this.root === SENTINEL) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst startPosition = this.nodeAt(offset);\n\t\tconst endPosition = this.nodeAt(offset + cnt);\n\t\tconst startNode = startPosition.node;\n\t\tconst endNode = endPosition.node;\n\n\t\tif (startNode === endNode) {\n\t\t\tconst startSplitPosInBuffer = this.positionInBuffer(startNode, startPosition.remainder);\n\t\t\tconst endSplitPosInBuffer = this.positionInBuffer(startNode, endPosition.remainder);\n\n\t\t\tif (startPosition.nodeStartOffset === offset) {\n\t\t\t\tif (cnt === startNode.piece.length) { // delete node\n\t\t\t\t\tconst next = startNode.next();\n\t\t\t\t\trbDelete(this, startNode);\n\t\t\t\t\tthis.validateCRLFWithPrevNode(next);\n\t\t\t\t\tthis.computeBufferMetadata();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.deleteNodeHead(startNode, endSplitPosInBuffer);\n\t\t\t\tthis._searchCache.validate(offset);\n\t\t\t\tthis.validateCRLFWithPrevNode(startNode);\n\t\t\t\tthis.computeBufferMetadata();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (startPosition.nodeStartOffset + startNode.piece.length === offset + cnt) {\n\t\t\t\tthis.deleteNodeTail(startNode, startSplitPosInBuffer);\n\t\t\t\tthis.validateCRLFWithNextNode(startNode);\n\t\t\t\tthis.computeBufferMetadata();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// delete content in the middle, this node will be splitted to nodes\n\t\t\tthis.shrinkNode(startNode, startSplitPosInBuffer, endSplitPosInBuffer);\n\t\t\tthis.computeBufferMetadata();\n\t\t\treturn;\n\t\t}\n\n\t\tconst nodesToDel: TreeNode[] = [];\n\n\t\tconst startSplitPosInBuffer = this.positionInBuffer(startNode, startPosition.remainder);\n\t\tthis.deleteNodeTail(startNode, startSplitPosInBuffer);\n\t\tthis._searchCache.validate(offset);\n\t\tif (startNode.piece.length === 0) {\n\t\t\tnodesToDel.push(startNode);\n\t\t}\n\n\t\t// update last touched node\n\t\tconst endSplitPosInBuffer = this.positionInBuffer(endNode, endPosition.remainder);\n\t\tthis.deleteNodeHead(endNode, endSplitPosInBuffer);\n\t\tif (endNode.piece.length === 0) {\n\t\t\tnodesToDel.push(endNode);\n\t\t}\n\n\t\t// delete nodes in between\n\t\tconst secondNode = startNode.next();\n\t\tfor (let node = secondNode; node !== SENTINEL && node !== endNode; node = node.next()) {\n\t\t\tnodesToDel.push(node);\n\t\t}\n\n\t\tconst prev = startNode.piece.length === 0 ? startNode.prev() : startNode;\n\t\tthis.deleteNodes(nodesToDel);\n\t\tthis.validateCRLFWithNextNode(prev);\n\t\tthis.computeBufferMetadata();\n\t}\n\n\tprivate insertContentToNodeLeft(value: string, node: TreeNode) {\n\t\t// we are inserting content to the beginning of node\n\t\tconst nodesToDel: TreeNode[] = [];\n\t\tif (this.shouldCheckCRLF() && this.endWithCR(value) && this.startWithLF(node)) {\n\t\t\t// move `\\n` to new node.\n\n\t\t\tconst piece = node.piece;\n\t\t\tconst newStart: BufferCursor = { line: piece.start.line + 1, column: 0 };\n\t\t\tconst nPiece = new Piece(\n\t\t\t\tpiece.bufferIndex,\n\t\t\t\tnewStart,\n\t\t\t\tpiece.end,\n\t\t\t\tthis.getLineFeedCnt(piece.bufferIndex, newStart, piece.end),\n\t\t\t\tpiece.length - 1\n\t\t\t);\n\n\t\t\tnode.piece = nPiece;\n\n\t\t\tvalue += '\\n';\n\t\t\tupdateTreeMetadata(this, node, -1, -1);\n\n\t\t\tif (node.piece.length === 0) {\n\t\t\t\tnodesToDel.push(node);\n\t\t\t}\n\t\t}\n\n\t\tconst newPieces = this.createNewPieces(value);\n\t\tlet newNode = this.rbInsertLeft(node, newPieces[newPieces.length - 1]);\n\t\tfor (let k = newPieces.length - 2; k >= 0; k--) {\n\t\t\tnewNode = this.rbInsertLeft(newNode, newPieces[k]);\n\t\t}\n\t\tthis.validateCRLFWithPrevNode(newNode);\n\t\tthis.deleteNodes(nodesToDel);\n\t}\n\n\tprivate insertContentToNodeRight(value: string, node: TreeNode) {\n\t\t// we are inserting to the right of this node.\n\t\tif (this.adjustCarriageReturnFromNext(value, node)) {\n\t\t\t// move \\n to the new node.\n\t\t\tvalue += '\\n';\n\t\t}\n\n\t\tconst newPieces = this.createNewPieces(value);\n\t\tconst newNode = this.rbInsertRight(node, newPieces[0]);\n\t\tlet tmpNode = newNode;\n\n\t\tfor (let k = 1; k < newPieces.length; k++) {\n\t\t\ttmpNode = this.rbInsertRight(tmpNode, newPieces[k]);\n\t\t}\n\n\t\tthis.validateCRLFWithPrevNode(newNode);\n\t}\n\n\tprivate positionInBuffer(node: TreeNode, remainder: number): BufferCursor;\n\tprivate positionInBuffer(node: TreeNode, remainder: number, ret: BufferCursor): null;\n\tprivate positionInBuffer(node: TreeNode, remainder: number, ret?: BufferCursor): BufferCursor | null {\n\t\tconst piece = node.piece;\n\t\tconst bufferIndex = node.piece.bufferIndex;\n\t\tconst lineStarts = this._buffers[bufferIndex].lineStarts;\n\n\t\tconst startOffset = lineStarts[piece.start.line] + piece.start.column;\n\n\t\tconst offset = startOffset + remainder;\n\n\t\t// binary search offset between startOffset and endOffset\n\t\tlet low = piece.start.line;\n\t\tlet high = piece.end.line;\n\n\t\tlet mid: number = 0;\n\t\tlet midStop: number = 0;\n\t\tlet midStart: number = 0;\n\n\t\twhile (low <= high) {\n\t\t\tmid = low + ((high - low) / 2) | 0;\n\t\t\tmidStart = lineStarts[mid];\n\n\t\t\tif (mid === high) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tmidStop = lineStarts[mid + 1];\n\n\t\t\tif (offset < midStart) {\n\t\t\t\thigh = mid - 1;\n\t\t\t} else if (offset >= midStop) {\n\t\t\t\tlow = mid + 1;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (ret) {\n\t\t\tret.line = mid;\n\t\t\tret.column = offset - midStart;\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tline: mid,\n\t\t\tcolumn: offset - midStart\n\t\t};\n\t}\n\n\tprivate getLineFeedCnt(bufferIndex: number, start: BufferCursor, end: BufferCursor): number {\n\t\t// we don't need to worry about start: abc\\r|\\n, or abc|\\r, or abc|\\n, or abc|\\r\\n doesn't change the fact that, there is one line break after start.\n\t\t// now let's take care of end: abc\\r|\\n, if end is in between \\r and \\n, we need to add line feed count by 1\n\t\tif (end.column === 0) {\n\t\t\treturn end.line - start.line;\n\t\t}\n\n\t\tconst lineStarts = this._buffers[bufferIndex].lineStarts;\n\t\tif (end.line === lineStarts.length - 1) { // it means, there is no \\n after end, otherwise, there will be one more lineStart.\n\t\t\treturn end.line - start.line;\n\t\t}\n\n\t\tconst nextLineStartOffset = lineStarts[end.line + 1];\n\t\tconst endOffset = lineStarts[end.line] + end.column;\n\t\tif (nextLineStartOffset > endOffset + 1) { // there are more than 1 character after end, which means it can't be \\n\n\t\t\treturn end.line - start.line;\n\t\t}\n\t\t// endOffset + 1 === nextLineStartOffset\n\t\t// character at endOffset is \\n, so we check the character before first\n\t\t// if character at endOffset is \\r, end.column is 0 and we can't get here.\n\t\tconst previousCharOffset = endOffset - 1; // end.column > 0 so it's okay.\n\t\tconst buffer = this._buffers[bufferIndex].buffer;\n\n\t\tif (buffer.charCodeAt(previousCharOffset) === 13) {\n\t\t\treturn end.line - start.line + 1;\n\t\t} else {\n\t\t\treturn end.line - start.line;\n\t\t}\n\t}\n\n\tprivate offsetInBuffer(bufferIndex: number, cursor: BufferCursor): number {\n\t\tconst lineStarts = this._buffers[bufferIndex].lineStarts;\n\t\treturn lineStarts[cursor.line] + cursor.column;\n\t}\n\n\tprivate deleteNodes(nodes: TreeNode[]): void {\n\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\trbDelete(this, nodes[i]);\n\t\t}\n\t}\n\n\tprivate createNewPieces(text: string): Piece[] {\n\t\tif (text.length > AverageBufferSize) {\n\t\t\t// the content is large, operations like substring, charCode becomes slow\n\t\t\t// so here we split it into smaller chunks, just like what we did for CR/LF normalization\n\t\t\tconst newPieces: Piece[] = [];\n\t\t\twhile (text.length > AverageBufferSize) {\n\t\t\t\tconst lastChar = text.charCodeAt(AverageBufferSize - 1);\n\t\t\t\tlet splitText;\n\t\t\t\tif (lastChar === CharCode.CarriageReturn || (lastChar >= 0xD800 && lastChar <= 0xDBFF)) {\n\t\t\t\t\t// last character is \\r or a high surrogate => keep it back\n\t\t\t\t\tsplitText = text.substring(0, AverageBufferSize - 1);\n\t\t\t\t\ttext = text.substring(AverageBufferSize - 1);\n\t\t\t\t} else {\n\t\t\t\t\tsplitText = text.substring(0, AverageBufferSize);\n\t\t\t\t\ttext = text.substring(AverageBufferSize);\n\t\t\t\t}\n\n\t\t\t\tconst lineStarts = createLineStartsFast(splitText);\n\t\t\t\tnewPieces.push(new Piece(\n\t\t\t\t\tthis._buffers.length, /* buffer index */\n\t\t\t\t\t{ line: 0, column: 0 },\n\t\t\t\t\t{ line: lineStarts.length - 1, column: splitText.length - lineStarts[lineStarts.length - 1] },\n\t\t\t\t\tlineStarts.length - 1,\n\t\t\t\t\tsplitText.length\n\t\t\t\t));\n\t\t\t\tthis._buffers.push(new StringBuffer(splitText, lineStarts));\n\t\t\t}\n\n\t\t\tconst lineStarts = createLineStartsFast(text);\n\t\t\tnewPieces.push(new Piece(\n\t\t\t\tthis._buffers.length, /* buffer index */\n\t\t\t\t{ line: 0, column: 0 },\n\t\t\t\t{ line: lineStarts.length - 1, column: text.length - lineStarts[lineStarts.length - 1] },\n\t\t\t\tlineStarts.length - 1,\n\t\t\t\ttext.length\n\t\t\t));\n\t\t\tthis._buffers.push(new StringBuffer(text, lineStarts));\n\n\t\t\treturn newPieces;\n\t\t}\n\n\t\tlet startOffset = this._buffers[0].buffer.length;\n\t\tconst lineStarts = createLineStartsFast(text, false);\n\n\t\tlet start = this._lastChangeBufferPos;\n\t\tif (this._buffers[0].lineStarts[this._buffers[0].lineStarts.length - 1] === startOffset\n\t\t\t&& startOffset !== 0\n\t\t\t&& this.startWithLF(text)\n\t\t\t&& this.endWithCR(this._buffers[0].buffer) // todo, we can check this._lastChangeBufferPos's column as it's the last one\n\t\t) {\n\t\t\tthis._lastChangeBufferPos = { line: this._lastChangeBufferPos.line, column: this._lastChangeBufferPos.column + 1 };\n\t\t\tstart = this._lastChangeBufferPos;\n\n\t\t\tfor (let i = 0; i < lineStarts.length; i++) {\n\t\t\t\tlineStarts[i] += startOffset + 1;\n\t\t\t}\n\n\t\t\tthis._buffers[0].lineStarts = (<number[]>this._buffers[0].lineStarts).concat(<number[]>lineStarts.slice(1));\n\t\t\tthis._buffers[0].buffer += '_' + text;\n\t\t\tstartOffset += 1;\n\t\t} else {\n\t\t\tif (startOffset !== 0) {\n\t\t\t\tfor (let i = 0; i < lineStarts.length; i++) {\n\t\t\t\t\tlineStarts[i] += startOffset;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._buffers[0].lineStarts = (<number[]>this._buffers[0].lineStarts).concat(<number[]>lineStarts.slice(1));\n\t\t\tthis._buffers[0].buffer += text;\n\t\t}\n\n\t\tconst endOffset = this._buffers[0].buffer.length;\n\t\tconst endIndex = this._buffers[0].lineStarts.length - 1;\n\t\tconst endColumn = endOffset - this._buffers[0].lineStarts[endIndex];\n\t\tconst endPos = { line: endIndex, column: endColumn };\n\t\tconst newPiece = new Piece(\n\t\t\t0, /** todo@peng */\n\t\t\tstart,\n\t\t\tendPos,\n\t\t\tthis.getLineFeedCnt(0, start, endPos),\n\t\t\tendOffset - startOffset\n\t\t);\n\t\tthis._lastChangeBufferPos = endPos;\n\t\treturn [newPiece];\n\t}\n\n\tpublic getLinesRawContent(): string {\n\t\treturn this.getContentOfSubTree(this.root);\n\t}\n\n\tpublic getLineRawContent(lineNumber: number, endOffset: number = 0): string {\n\t\tlet x = this.root;\n\n\t\tlet ret = '';\n\t\tconst cache = this._searchCache.get2(lineNumber);\n\t\tif (cache) {\n\t\t\tx = cache.node;\n\t\t\tconst prevAccumulatedValue = this.getAccumulatedValue(x, lineNumber - cache.nodeStartLineNumber - 1);\n\t\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\t\t\tif (cache.nodeStartLineNumber + x.piece.lineFeedCnt === lineNumber) {\n\t\t\t\tret = buffer.substring(startOffset + prevAccumulatedValue, startOffset + x.piece.length);\n\t\t\t} else {\n\t\t\t\tconst accumulatedValue = this.getAccumulatedValue(x, lineNumber - cache.nodeStartLineNumber);\n\t\t\t\treturn buffer.substring(startOffset + prevAccumulatedValue, startOffset + accumulatedValue - endOffset);\n\t\t\t}\n\t\t} else {\n\t\t\tlet nodeStartOffset = 0;\n\t\t\tconst originalLineNumber = lineNumber;\n\t\t\twhile (x !== SENTINEL) {\n\t\t\t\tif (x.left !== SENTINEL && x.lf_left >= lineNumber - 1) {\n\t\t\t\t\tx = x.left;\n\t\t\t\t} else if (x.lf_left + x.piece.lineFeedCnt > lineNumber - 1) {\n\t\t\t\t\tconst prevAccumulatedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 2);\n\t\t\t\t\tconst accumulatedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 1);\n\t\t\t\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\t\t\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\t\t\t\t\tnodeStartOffset += x.size_left;\n\t\t\t\t\tthis._searchCache.set({\n\t\t\t\t\t\tnode: x,\n\t\t\t\t\t\tnodeStartOffset,\n\t\t\t\t\t\tnodeStartLineNumber: originalLineNumber - (lineNumber - 1 - x.lf_left)\n\t\t\t\t\t});\n\n\t\t\t\t\treturn buffer.substring(startOffset + prevAccumulatedValue, startOffset + accumulatedValue - endOffset);\n\t\t\t\t} else if (x.lf_left + x.piece.lineFeedCnt === lineNumber - 1) {\n\t\t\t\t\tconst prevAccumulatedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 2);\n\t\t\t\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\t\t\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\n\t\t\t\t\tret = buffer.substring(startOffset + prevAccumulatedValue, startOffset + x.piece.length);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tlineNumber -= x.lf_left + x.piece.lineFeedCnt;\n\t\t\t\t\tnodeStartOffset += x.size_left + x.piece.length;\n\t\t\t\t\tx = x.right;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// search in order, to find the node contains end column\n\t\tx = x.next();\n\t\twhile (x !== SENTINEL) {\n\t\t\tconst buffer = this._buffers[x.piece.bufferIndex].buffer;\n\n\t\t\tif (x.piece.lineFeedCnt > 0) {\n\t\t\t\tconst accumulatedValue = this.getAccumulatedValue(x, 0);\n\t\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\n\t\t\t\tret += buffer.substring(startOffset, startOffset + accumulatedValue - endOffset);\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\tconst startOffset = this.offsetInBuffer(x.piece.bufferIndex, x.piece.start);\n\t\t\t\tret += buffer.substr(startOffset, x.piece.length);\n\t\t\t}\n\n\t\t\tx = x.next();\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tprivate computeBufferMetadata() {\n\t\tlet x = this.root;\n\n\t\tlet lfCnt = 1;\n\t\tlet len = 0;\n\n\t\twhile (x !== SENTINEL) {\n\t\t\tlfCnt += x.lf_left + x.piece.lineFeedCnt;\n\t\t\tlen += x.size_left + x.piece.length;\n\t\t\tx = x.right;\n\t\t}\n\n\t\tthis._lineCnt = lfCnt;\n\t\tthis._length = len;\n\t\tthis._searchCache.validate(this._length);\n\t}\n\n\t// #region node operations\n\tprivate getIndexOf(node: TreeNode, accumulatedValue: number): { index: number; remainder: number } {\n\t\tconst piece = node.piece;\n\t\tconst pos = this.positionInBuffer(node, accumulatedValue);\n\t\tconst lineCnt = pos.line - piece.start.line;\n\n\t\tif (this.offsetInBuffer(piece.bufferIndex, piece.end) - this.offsetInBuffer(piece.bufferIndex, piece.start) === accumulatedValue) {\n\t\t\t// we are checking the end of this node, so a CRLF check is necessary.\n\t\t\tconst realLineCnt = this.getLineFeedCnt(node.piece.bufferIndex, piece.start, pos);\n\t\t\tif (realLineCnt !== lineCnt) {\n\t\t\t\t// aha yes, CRLF\n\t\t\t\treturn { index: realLineCnt, remainder: 0 };\n\t\t\t}\n\t\t}\n\n\t\treturn { index: lineCnt, remainder: pos.column };\n\t}\n\n\tprivate getAccumulatedValue(node: TreeNode, index: number) {\n\t\tif (index < 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tconst piece = node.piece;\n\t\tconst lineStarts = this._buffers[piece.bufferIndex].lineStarts;\n\t\tconst expectedLineStartIndex = piece.start.line + index + 1;\n\t\tif (expectedLineStartIndex > piece.end.line) {\n\t\t\treturn lineStarts[piece.end.line] + piece.end.column - lineStarts[piece.start.line] - piece.start.column;\n\t\t} else {\n\t\t\treturn lineStarts[expectedLineStartIndex] - lineStarts[piece.start.line] - piece.start.column;\n\t\t}\n\t}\n\n\tprivate deleteNodeTail(node: TreeNode, pos: BufferCursor) {\n\t\tconst piece = node.piece;\n\t\tconst originalLFCnt = piece.lineFeedCnt;\n\t\tconst originalEndOffset = this.offsetInBuffer(piece.bufferIndex, piece.end);\n\n\t\tconst newEnd = pos;\n\t\tconst newEndOffset = this.offsetInBuffer(piece.bufferIndex, newEnd);\n\t\tconst newLineFeedCnt = this.getLineFeedCnt(piece.bufferIndex, piece.start, newEnd);\n\n\t\tconst lf_delta = newLineFeedCnt - originalLFCnt;\n\t\tconst size_delta = newEndOffset - originalEndOffset;\n\t\tconst newLength = piece.length + size_delta;\n\n\t\tnode.piece = new Piece(\n\t\t\tpiece.bufferIndex,\n\t\t\tpiece.start,\n\t\t\tnewEnd,\n\t\t\tnewLineFeedCnt,\n\t\t\tnewLength\n\t\t);\n\n\t\tupdateTreeMetadata(this, node, size_delta, lf_delta);\n\t}\n\n\tprivate deleteNodeHead(node: TreeNode, pos: BufferCursor) {\n\t\tconst piece = node.piece;\n\t\tconst originalLFCnt = piece.lineFeedCnt;\n\t\tconst originalStartOffset = this.offsetInBuffer(piece.bufferIndex, piece.start);\n\n\t\tconst newStart = pos;\n\t\tconst newLineFeedCnt = this.getLineFeedCnt(piece.bufferIndex, newStart, piece.end);\n\t\tconst newStartOffset = this.offsetInBuffer(piece.bufferIndex, newStart);\n\t\tconst lf_delta = newLineFeedCnt - originalLFCnt;\n\t\tconst size_delta = originalStartOffset - newStartOffset;\n\t\tconst newLength = piece.length + size_delta;\n\t\tnode.piece = new Piece(\n\t\t\tpiece.bufferIndex,\n\t\t\tnewStart,\n\t\t\tpiece.end,\n\t\t\tnewLineFeedCnt,\n\t\t\tnewLength\n\t\t);\n\n\t\tupdateTreeMetadata(this, node, size_delta, lf_delta);\n\t}\n\n\tprivate shrinkNode(node: TreeNode, start: BufferCursor, end: BufferCursor) {\n\t\tconst piece = node.piece;\n\t\tconst originalStartPos = piece.start;\n\t\tconst originalEndPos = piece.end;\n\n\t\t// old piece, originalStartPos, start\n\t\tconst oldLength = piece.length;\n\t\tconst oldLFCnt = piece.lineFeedCnt;\n\t\tconst newEnd = start;\n\t\tconst newLineFeedCnt = this.getLineFeedCnt(piece.bufferIndex, piece.start, newEnd);\n\t\tconst newLength = this.offsetInBuffer(piece.bufferIndex, start) - this.offsetInBuffer(piece.bufferIndex, originalStartPos);\n\n\t\tnode.piece = new Piece(\n\t\t\tpiece.bufferIndex,\n\t\t\tpiece.start,\n\t\t\tnewEnd,\n\t\t\tnewLineFeedCnt,\n\t\t\tnewLength\n\t\t);\n\n\t\tupdateTreeMetadata(this, node, newLength - oldLength, newLineFeedCnt - oldLFCnt);\n\n\t\t// new right piece, end, originalEndPos\n\t\tconst newPiece = new Piece(\n\t\t\tpiece.bufferIndex,\n\t\t\tend,\n\t\t\toriginalEndPos,\n\t\t\tthis.getLineFeedCnt(piece.bufferIndex, end, originalEndPos),\n\t\t\tthis.offsetInBuffer(piece.bufferIndex, originalEndPos) - this.offsetInBuffer(piece.bufferIndex, end)\n\t\t);\n\n\t\tconst newNode = this.rbInsertRight(node, newPiece);\n\t\tthis.validateCRLFWithPrevNode(newNode);\n\t}\n\n\tprivate appendToNode(node: TreeNode, value: string): void {\n\t\tif (this.adjustCarriageReturnFromNext(value, node)) {\n\t\t\tvalue += '\\n';\n\t\t}\n\n\t\tconst hitCRLF = this.shouldCheckCRLF() && this.startWithLF(value) && this.endWithCR(node);\n\t\tconst startOffset = this._buffers[0].buffer.length;\n\t\tthis._buffers[0].buffer += value;\n\t\tconst lineStarts = createLineStartsFast(value, false);\n\t\tfor (let i = 0; i < lineStarts.length; i++) {\n\t\t\tlineStarts[i] += startOffset;\n\t\t}\n\t\tif (hitCRLF) {\n\t\t\tconst prevStartOffset = this._buffers[0].lineStarts[this._buffers[0].lineStarts.length - 2];\n\t\t\t(<number[]>this._buffers[0].lineStarts).pop();\n\t\t\t// _lastChangeBufferPos is already wrong\n\t\t\tthis._lastChangeBufferPos = { line: this._lastChangeBufferPos.line - 1, column: startOffset - prevStartOffset };\n\t\t}\n\n\t\tthis._buffers[0].lineStarts = (<number[]>this._buffers[0].lineStarts).concat(<number[]>lineStarts.slice(1));\n\t\tconst endIndex = this._buffers[0].lineStarts.length - 1;\n\t\tconst endColumn = this._buffers[0].buffer.length - this._buffers[0].lineStarts[endIndex];\n\t\tconst newEnd = { line: endIndex, column: endColumn };\n\t\tconst newLength = node.piece.length + value.length;\n\t\tconst oldLineFeedCnt = node.piece.lineFeedCnt;\n\t\tconst newLineFeedCnt = this.getLineFeedCnt(0, node.piece.start, newEnd);\n\t\tconst lf_delta = newLineFeedCnt - oldLineFeedCnt;\n\n\t\tnode.piece = new Piece(\n\t\t\tnode.piece.bufferIndex,\n\t\t\tnode.piece.start,\n\t\t\tnewEnd,\n\t\t\tnewLineFeedCnt,\n\t\t\tnewLength\n\t\t);\n\n\t\tthis._lastChangeBufferPos = newEnd;\n\t\tupdateTreeMetadata(this, node, value.length, lf_delta);\n\t}\n\n\tprivate nodeAt(offset: number): NodePosition {\n\t\tlet x = this.root;\n\t\tconst cache = this._searchCache.get(offset);\n\t\tif (cache) {\n\t\t\treturn {\n\t\t\t\tnode: cache.node,\n\t\t\t\tnodeStartOffset: cache.nodeStartOffset,\n\t\t\t\tremainder: offset - cache.nodeStartOffset\n\t\t\t};\n\t\t}\n\n\t\tlet nodeStartOffset = 0;\n\n\t\twhile (x !== SENTINEL) {\n\t\t\tif (x.size_left > offset) {\n\t\t\t\tx = x.left;\n\t\t\t} else if (x.size_left + x.piece.length >= offset) {\n\t\t\t\tnodeStartOffset += x.size_left;\n\t\t\t\tconst ret = {\n\t\t\t\t\tnode: x,\n\t\t\t\t\tremainder: offset - x.size_left,\n\t\t\t\t\tnodeStartOffset\n\t\t\t\t};\n\t\t\t\tthis._searchCache.set(ret);\n\t\t\t\treturn ret;\n\t\t\t} else {\n\t\t\t\toffset -= x.size_left + x.piece.length;\n\t\t\t\tnodeStartOffset += x.size_left + x.piece.length;\n\t\t\t\tx = x.right;\n\t\t\t}\n\t\t}\n\n\t\treturn null!;\n\t}\n\n\tprivate nodeAt2(lineNumber: number, column: number): NodePosition {\n\t\tlet x = this.root;\n\t\tlet nodeStartOffset = 0;\n\n\t\twhile (x !== SENTINEL) {\n\t\t\tif (x.left !== SENTINEL && x.lf_left >= lineNumber - 1) {\n\t\t\t\tx = x.left;\n\t\t\t} else if (x.lf_left + x.piece.lineFeedCnt > lineNumber - 1) {\n\t\t\t\tconst prevAccumualtedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 2);\n\t\t\t\tconst accumulatedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 1);\n\t\t\t\tnodeStartOffset += x.size_left;\n\n\t\t\t\treturn {\n\t\t\t\t\tnode: x,\n\t\t\t\t\tremainder: Math.min(prevAccumualtedValue + column - 1, accumulatedValue),\n\t\t\t\t\tnodeStartOffset\n\t\t\t\t};\n\t\t\t} else if (x.lf_left + x.piece.lineFeedCnt === lineNumber - 1) {\n\t\t\t\tconst prevAccumualtedValue = this.getAccumulatedValue(x, lineNumber - x.lf_left - 2);\n\t\t\t\tif (prevAccumualtedValue + column - 1 <= x.piece.length) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tnode: x,\n\t\t\t\t\t\tremainder: prevAccumualtedValue + column - 1,\n\t\t\t\t\t\tnodeStartOffset\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcolumn -= x.piece.length - prevAccumualtedValue;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlineNumber -= x.lf_left + x.piece.lineFeedCnt;\n\t\t\t\tnodeStartOffset += x.size_left + x.piece.length;\n\t\t\t\tx = x.right;\n\t\t\t}\n\t\t}\n\n\t\t// search in order, to find the node contains position.column\n\t\tx = x.next();\n\t\twhile (x !== SENTINEL) {\n\n\t\t\tif (x.piece.lineFeedCnt > 0) {\n\t\t\t\tconst accumulatedValue = this.getAccumulatedValue(x, 0);\n\t\t\t\tconst nodeStartOffset = this.offsetOfNode(x);\n\t\t\t\treturn {\n\t\t\t\t\tnode: x,\n\t\t\t\t\tremainder: Math.min(column - 1, accumulatedValue),\n\t\t\t\t\tnodeStartOffset\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tif (x.piece.length >= column - 1) {\n\t\t\t\t\tconst nodeStartOffset = this.offsetOfNode(x);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tnode: x,\n\t\t\t\t\t\tremainder: column - 1,\n\t\t\t\t\t\tnodeStartOffset\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tcolumn -= x.piece.length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tx = x.next();\n\t\t}\n\n\t\treturn null!;\n\t}\n\n\tprivate nodeCharCodeAt(node: TreeNode, offset: number): number {\n\t\tif (node.piece.lineFeedCnt < 1) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst buffer = this._buffers[node.piece.bufferIndex];\n\t\tconst newOffset = this.offsetInBuffer(node.piece.bufferIndex, node.piece.start) + offset;\n\t\treturn buffer.buffer.charCodeAt(newOffset);\n\t}\n\n\tprivate offsetOfNode(node: TreeNode): number {\n\t\tif (!node) {\n\t\t\treturn 0;\n\t\t}\n\t\tlet pos = node.size_left;\n\t\twhile (node !== this.root) {\n\t\t\tif (node.parent.right === node) {\n\t\t\t\tpos += node.parent.size_left + node.parent.piece.length;\n\t\t\t}\n\n\t\t\tnode = node.parent;\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\t// #endregion\n\n\t// #region CRLF\n\tprivate shouldCheckCRLF() {\n\t\treturn !(this._EOLNormalized && this._EOL === '\\n');\n\t}\n\n\tprivate startWithLF(val: string | TreeNode): boolean {\n\t\tif (typeof val === 'string') {\n\t\t\treturn val.charCodeAt(0) === 10;\n\t\t}\n\n\t\tif (val === SENTINEL || val.piece.lineFeedCnt === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst piece = val.piece;\n\t\tconst lineStarts = this._buffers[piece.bufferIndex].lineStarts;\n\t\tconst line = piece.start.line;\n\t\tconst startOffset = lineStarts[line] + piece.start.column;\n\t\tif (line === lineStarts.length - 1) {\n\t\t\t// last line, so there is no line feed at the end of this line\n\t\t\treturn false;\n\t\t}\n\t\tconst nextLineOffset = lineStarts[line + 1];\n\t\tif (nextLineOffset > startOffset + 1) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._buffers[piece.bufferIndex].buffer.charCodeAt(startOffset) === 10;\n\t}\n\n\tprivate endWithCR(val: string | TreeNode): boolean {\n\t\tif (typeof val === 'string') {\n\t\t\treturn val.charCodeAt(val.length - 1) === 13;\n\t\t}\n\n\t\tif (val === SENTINEL || val.piece.lineFeedCnt === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.nodeCharCodeAt(val, val.piece.length - 1) === 13;\n\t}\n\n\tprivate validateCRLFWithPrevNode(nextNode: TreeNode) {\n\t\tif (this.shouldCheckCRLF() && this.startWithLF(nextNode)) {\n\t\t\tconst node = nextNode.prev();\n\t\t\tif (this.endWithCR(node)) {\n\t\t\t\tthis.fixCRLF(node, nextNode);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate validateCRLFWithNextNode(node: TreeNode) {\n\t\tif (this.shouldCheckCRLF() && this.endWithCR(node)) {\n\t\t\tconst nextNode = node.next();\n\t\t\tif (this.startWithLF(nextNode)) {\n\t\t\t\tthis.fixCRLF(node, nextNode);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate fixCRLF(prev: TreeNode, next: TreeNode) {\n\t\tconst nodesToDel: TreeNode[] = [];\n\t\t// update node\n\t\tconst lineStarts = this._buffers[prev.piece.bufferIndex].lineStarts;\n\t\tlet newEnd: BufferCursor;\n\t\tif (prev.piece.end.column === 0) {\n\t\t\t// it means, last line ends with \\r, not \\r\\n\n\t\t\tnewEnd = { line: prev.piece.end.line - 1, column: lineStarts[prev.piece.end.line] - lineStarts[prev.piece.end.line - 1] - 1 };\n\t\t} else {\n\t\t\t// \\r\\n\n\t\t\tnewEnd = { line: prev.piece.end.line, column: prev.piece.end.column - 1 };\n\t\t}\n\n\t\tconst prevNewLength = prev.piece.length - 1;\n\t\tconst prevNewLFCnt = prev.piece.lineFeedCnt - 1;\n\t\tprev.piece = new Piece(\n\t\t\tprev.piece.bufferIndex,\n\t\t\tprev.piece.start,\n\t\t\tnewEnd,\n\t\t\tprevNewLFCnt,\n\t\t\tprevNewLength\n\t\t);\n\n\t\tupdateTreeMetadata(this, prev, -1, -1);\n\t\tif (prev.piece.length === 0) {\n\t\t\tnodesToDel.push(prev);\n\t\t}\n\n\t\t// update nextNode\n\t\tconst newStart: BufferCursor = { line: next.piece.start.line + 1, column: 0 };\n\t\tconst newLength = next.piece.length - 1;\n\t\tconst newLineFeedCnt = this.getLineFeedCnt(next.piece.bufferIndex, newStart, next.piece.end);\n\t\tnext.piece = new Piece(\n\t\t\tnext.piece.bufferIndex,\n\t\t\tnewStart,\n\t\t\tnext.piece.end,\n\t\t\tnewLineFeedCnt,\n\t\t\tnewLength\n\t\t);\n\n\t\tupdateTreeMetadata(this, next, -1, -1);\n\t\tif (next.piece.length === 0) {\n\t\t\tnodesToDel.push(next);\n\t\t}\n\n\t\t// create new piece which contains \\r\\n\n\t\tconst pieces = this.createNewPieces('\\r\\n');\n\t\tthis.rbInsertRight(prev, pieces[0]);\n\t\t// delete empty nodes\n\n\t\tfor (let i = 0; i < nodesToDel.length; i++) {\n\t\t\trbDelete(this, nodesToDel[i]);\n\t\t}\n\t}\n\n\tprivate adjustCarriageReturnFromNext(value: string, node: TreeNode): boolean {\n\t\tif (this.shouldCheckCRLF() && this.endWithCR(value)) {\n\t\t\tconst nextNode = node.next();\n\t\t\tif (this.startWithLF(nextNode)) {\n\t\t\t\t// move `\\n` forward\n\t\t\t\tvalue += '\\n';\n\n\t\t\t\tif (nextNode.piece.length === 1) {\n\t\t\t\t\trbDelete(this, nextNode);\n\t\t\t\t} else {\n\n\t\t\t\t\tconst piece = nextNode.piece;\n\t\t\t\t\tconst newStart: BufferCursor = { line: piece.start.line + 1, column: 0 };\n\t\t\t\t\tconst newLength = piece.length - 1;\n\t\t\t\t\tconst newLineFeedCnt = this.getLineFeedCnt(piece.bufferIndex, newStart, piece.end);\n\t\t\t\t\tnextNode.piece = new Piece(\n\t\t\t\t\t\tpiece.bufferIndex,\n\t\t\t\t\t\tnewStart,\n\t\t\t\t\t\tpiece.end,\n\t\t\t\t\t\tnewLineFeedCnt,\n\t\t\t\t\t\tnewLength\n\t\t\t\t\t);\n\n\t\t\t\t\tupdateTreeMetadata(this, nextNode, -1, -1);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// #endregion\n\n\t// #endregion\n\n\t// #region Tree operations\n\titerate(node: TreeNode, callback: (node: TreeNode) => boolean): boolean {\n\t\tif (node === SENTINEL) {\n\t\t\treturn callback(SENTINEL);\n\t\t}\n\n\t\tconst leftRet = this.iterate(node.left, callback);\n\t\tif (!leftRet) {\n\t\t\treturn leftRet;\n\t\t}\n\n\t\treturn callback(node) && this.iterate(node.right, callback);\n\t}\n\n\tprivate getNodeContent(node: TreeNode) {\n\t\tif (node === SENTINEL) {\n\t\t\treturn '';\n\t\t}\n\t\tconst buffer = this._buffers[node.piece.bufferIndex];\n\t\tconst piece = node.piece;\n\t\tconst startOffset = this.offsetInBuffer(piece.bufferIndex, piece.start);\n\t\tconst endOffset = this.offsetInBuffer(piece.bufferIndex, piece.end);\n\t\tconst currentContent = buffer.buffer.substring(startOffset, endOffset);\n\t\treturn currentContent;\n\t}\n\n\tgetPieceContent(piece: Piece) {\n\t\tconst buffer = this._buffers[piece.bufferIndex];\n\t\tconst startOffset = this.offsetInBuffer(piece.bufferIndex, piece.start);\n\t\tconst endOffset = this.offsetInBuffer(piece.bufferIndex, piece.end);\n\t\tconst currentContent = buffer.buffer.substring(startOffset, endOffset);\n\t\treturn currentContent;\n\t}\n\n\t/**\n\t *      node              node\n\t *     /  \\              /  \\\n\t *    a   b    <----   a    b\n\t *                         /\n\t *                        z\n\t */\n\tprivate rbInsertRight(node: TreeNode | null, p: Piece): TreeNode {\n\t\tconst z = new TreeNode(p, NodeColor.Red);\n\t\tz.left = SENTINEL;\n\t\tz.right = SENTINEL;\n\t\tz.parent = SENTINEL;\n\t\tz.size_left = 0;\n\t\tz.lf_left = 0;\n\n\t\tconst x = this.root;\n\t\tif (x === SENTINEL) {\n\t\t\tthis.root = z;\n\t\t\tz.color = NodeColor.Black;\n\t\t} else if (node!.right === SENTINEL) {\n\t\t\tnode!.right = z;\n\t\t\tz.parent = node!;\n\t\t} else {\n\t\t\tconst nextNode = leftest(node!.right);\n\t\t\tnextNode.left = z;\n\t\t\tz.parent = nextNode;\n\t\t}\n\n\t\tfixInsert(this, z);\n\t\treturn z;\n\t}\n\n\t/**\n\t *      node              node\n\t *     /  \\              /  \\\n\t *    a   b     ---->   a    b\n\t *                       \\\n\t *                        z\n\t */\n\tprivate rbInsertLeft(node: TreeNode | null, p: Piece): TreeNode {\n\t\tconst z = new TreeNode(p, NodeColor.Red);\n\t\tz.left = SENTINEL;\n\t\tz.right = SENTINEL;\n\t\tz.parent = SENTINEL;\n\t\tz.size_left = 0;\n\t\tz.lf_left = 0;\n\n\t\tif (this.root === SENTINEL) {\n\t\t\tthis.root = z;\n\t\t\tz.color = NodeColor.Black;\n\t\t} else if (node!.left === SENTINEL) {\n\t\t\tnode!.left = z;\n\t\t\tz.parent = node!;\n\t\t} else {\n\t\t\tconst prevNode = righttest(node!.left); // a\n\t\t\tprevNode.right = z;\n\t\t\tz.parent = prevNode;\n\t\t}\n\n\t\tfixInsert(this, z);\n\t\treturn z;\n\t}\n\n\tprivate getContentOfSubTree(node: TreeNode): string {\n\t\tlet str = '';\n\n\t\tthis.iterate(node, node => {\n\t\t\tstr += this.getNodeContent(node);\n\t\t\treturn true;\n\t\t});\n\n\t\treturn str;\n\t}\n\t// #endregion\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}