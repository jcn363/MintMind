66e2e1b1032aa5da9f638eb3df37b373
/* istanbul ignore next */
function cov_24pt47pmy8() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/contrib/authentication/browser/actions/signOutOfAccountAction.ts";
  var hash = "6f834889dc24bb6ba5a95a62270be349adaa9b20";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/authentication/browser/actions/signOutOfAccountAction.ts",
    statementMap: {
      "0": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 18,
          column: 11
        }
      },
      "1": {
        start: {
          line: 21,
          column: 38
        },
        end: {
          line: 21,
          column: 74
        }
      },
      "2": {
        start: {
          line: 22,
          column: 43
        },
        end: {
          line: 22,
          column: 84
        }
      },
      "3": {
        start: {
          line: 23,
          column: 44
        },
        end: {
          line: 23,
          column: 86
        }
      },
      "4": {
        start: {
          line: 24,
          column: 30
        },
        end: {
          line: 24,
          column: 58
        }
      },
      "5": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "6": {
        start: {
          line: 26,
          column: 12
        },
        end: {
          line: 26,
          column: 105
        }
      },
      "7": {
        start: {
          line: 28,
          column: 28
        },
        end: {
          line: 28,
          column: 79
        }
      },
      "8": {
        start: {
          line: 29,
          column: 25
        },
        end: {
          line: 29,
          column: 82
        }
      },
      "9": {
        start: {
          line: 29,
          column: 49
        },
        end: {
          line: 29,
          column: 81
        }
      },
      "10": {
        start: {
          line: 30,
          column: 30
        },
        end: {
          line: 30,
          column: 100
        }
      },
      "11": {
        start: {
          line: 31,
          column: 30
        },
        end: {
          line: 37,
          column: 10
        }
      },
      "12": {
        start: {
          line: 34,
          column: 169
        },
        end: {
          line: 34,
          column: 188
        }
      },
      "13": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "14": {
        start: {
          line: 39,
          column: 42
        },
        end: {
          line: 39,
          column: 126
        }
      },
      "15": {
        start: {
          line: 39,
          column: 66
        },
        end: {
          line: 39,
          column: 125
        }
      },
      "16": {
        start: {
          line: 40,
          column: 12
        },
        end: {
          line: 40,
          column: 53
        }
      },
      "17": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 84
        }
      },
      "18": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 90
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 18
          },
          end: {
            line: 19,
            column: 5
          }
        },
        line: 13
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 54
          },
          end: {
            line: 44,
            column: 5
          }
        },
        line: 20
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 29,
            column: 44
          },
          end: {
            line: 29,
            column: 45
          }
        },
        loc: {
          start: {
            line: 29,
            column: 49
          },
          end: {
            line: 29,
            column: 81
          }
        },
        line: 29
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 34,
            column: 160
          },
          end: {
            line: 34,
            column: 161
          }
        },
        loc: {
          start: {
            line: 34,
            column: 169
          },
          end: {
            line: 34,
            column: 188
          }
        },
        line: 34
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 39,
            column: 55
          },
          end: {
            line: 39,
            column: 56
          }
        },
        loc: {
          start: {
            line: 39,
            column: 66
          },
          end: {
            line: 39,
            column: 125
          }
        },
        line: 39
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 25
      },
      "1": {
        loc: {
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 25,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 25,
            column: 12
          },
          end: {
            line: 25,
            column: 23
          }
        }, {
          start: {
            line: 25,
            column: 27
          },
          end: {
            line: 25,
            column: 40
          }
        }],
        line: 25
      },
      "2": {
        loc: {
          start: {
            line: 33,
            column: 21
          },
          end: {
            line: 35,
            column: 86
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 34,
            column: 18
          },
          end: {
            line: 34,
            column: 201
          }
        }, {
          start: {
            line: 35,
            column: 18
          },
          end: {
            line: 35,
            column: 86
          }
        }],
        line: 33
      },
      "3": {
        loc: {
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/authentication/browser/actions/signOutOfAccountAction.ts",
      mappings: "AAAA;;;gGAGgG;AAEhG,OAAO,QAAQ,MAAM,wCAAwC,CAAC;AAC9D,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,OAAO,EAAE,MAAM,mDAAmD,CAAC;AAC5E,OAAO,EAAE,cAAc,EAAE,MAAM,mDAAmD,CAAC;AAEnF,OAAO,EAAE,4BAA4B,EAAE,MAAM,4EAA4E,CAAC;AAC1H,OAAO,EAAE,2BAA2B,EAAE,MAAM,2EAA2E,CAAC;AACxH,OAAO,EAAE,sBAAsB,EAAE,MAAM,8DAA8D,CAAC;AAEtG,MAAM,OAAO,sBAAuB,SAAQ,OAAO;IAClD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,mBAAmB;YACvB,KAAK,EAAE,QAAQ,CAAC,kBAAkB,EAAE,qBAAqB,CAAC;YAC1D,EAAE,EAAE,KAAK;SACT,CAAC,CAAC;IACJ,CAAC;IAEQ,KAAK,CAAC,GAAG,CAAC,QAA0B,EAAE,EAAE,UAAU,EAAE,YAAY,EAAgD;QACxH,MAAM,qBAAqB,GAAG,QAAQ,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACnE,MAAM,0BAA0B,GAAG,QAAQ,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QAC7E,MAAM,2BAA2B,GAAG,QAAQ,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC/E,MAAM,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAEnD,IAAI,CAAC,UAAU,IAAI,CAAC,YAAY,EAAE,CAAC;YAClC,MAAM,IAAI,KAAK,CAAC,2EAA2E,CAAC,CAAC;QAC9F,CAAC;QAED,MAAM,WAAW,GAAG,MAAM,qBAAqB,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACxE,MAAM,QAAQ,GAAG,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,YAAY,CAAC,CAAC;QAE3E,MAAM,aAAa,GAAG,0BAA0B,CAAC,iBAAiB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAE7F,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,aAAa,CAAC,OAAO,CAAC;YACjD,IAAI,EAAE,QAAQ,CAAC,IAAI;YACnB,OAAO,EAAE,aAAa,CAAC,MAAM;gBAC5B,CAAC,CAAC,QAAQ,CAAC,gBAAgB,EAAE,iFAAiF,EAAE,YAAY,EAAE,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACzL,CAAC,CAAC,QAAQ,CAAC,sBAAsB,EAAE,oBAAoB,EAAE,YAAY,CAAC;YACvE,aAAa,EAAE,QAAQ,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC,EAAE,EAAE,YAAY,CAAC;SAC7F,CAAC,CAAC;QAEH,IAAI,SAAS,EAAE,CAAC;YACf,MAAM,qBAAqB,GAAG,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,qBAAqB,CAAC,aAAa,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YACnH,MAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YACzC,0BAA0B,CAAC,kBAAkB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;YACxE,2BAA2B,CAAC,uBAAuB,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC;QAC/E,CAAC;IACF,CAAC;CACD",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/contrib/authentication/browser/actions/signOutOfAccountAction.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport Severity from '../../../../../base/common/severity.js';\nimport { localize } from '../../../../../nls.js';\nimport { Action2 } from '../../../../../platform/actions/common/actions.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IAuthenticationAccessService } from '../../../../services/authentication/browser/authenticationAccessService.js';\nimport { IAuthenticationUsageService } from '../../../../services/authentication/browser/authenticationUsageService.js';\nimport { IAuthenticationService } from '../../../../services/authentication/common/authentication.js';\n\nexport class SignOutOfAccountAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: '_signOutOfAccount',\n\t\t\ttitle: localize('signOutOfAccount', \"Sign out of account\"),\n\t\t\tf1: false\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, { providerId, accountLabel }: { providerId: string; accountLabel: string }): Promise<void> {\n\t\tconst authenticationService = accessor.get(IAuthenticationService);\n\t\tconst authenticationUsageService = accessor.get(IAuthenticationUsageService);\n\t\tconst authenticationAccessService = accessor.get(IAuthenticationAccessService);\n\t\tconst dialogService = accessor.get(IDialogService);\n\n\t\tif (!providerId || !accountLabel) {\n\t\t\tthrow new Error('Invalid arguments. Expected: { providerId: string; accountLabel: string }');\n\t\t}\n\n\t\tconst allSessions = await authenticationService.getSessions(providerId);\n\t\tconst sessions = allSessions.filter(s => s.account.label === accountLabel);\n\n\t\tconst accountUsages = authenticationUsageService.readAccountUsages(providerId, accountLabel);\n\n\t\tconst { confirmed } = await dialogService.confirm({\n\t\t\ttype: Severity.Info,\n\t\t\tmessage: accountUsages.length\n\t\t\t\t? localize('signOutMessage', \"The account '{0}' has been used by: \\n\\n{1}\\n\\n Sign out from these extensions?\", accountLabel, accountUsages.map(usage => usage.extensionName).join('\\n'))\n\t\t\t\t: localize('signOutMessageSimple', \"Sign out of '{0}'?\", accountLabel),\n\t\t\tprimaryButton: localize({ key: 'signOut', comment: ['&& denotes a mnemonic'] }, \"&&Sign Out\")\n\t\t});\n\n\t\tif (confirmed) {\n\t\t\tconst removeSessionPromises = sessions.map(session => authenticationService.removeSession(providerId, session.id));\n\t\t\tawait Promise.all(removeSessionPromises);\n\t\t\tauthenticationUsageService.removeAccountUsage(providerId, accountLabel);\n\t\t\tauthenticationAccessService.removeAllowedExtensions(providerId, accountLabel);\n\t\t}\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6f834889dc24bb6ba5a95a62270be349adaa9b20"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_24pt47pmy8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_24pt47pmy8();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import Severity from '../../../../../base/common/severity.js';
import { localize } from '../../../../../nls.js';
import { Action2 } from '../../../../../platform/actions/common/actions.js';
import { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';
import { IAuthenticationAccessService } from '../../../../services/authentication/browser/authenticationAccessService.js';
import { IAuthenticationUsageService } from '../../../../services/authentication/browser/authenticationUsageService.js';
import { IAuthenticationService } from '../../../../services/authentication/common/authentication.js';
export class SignOutOfAccountAction extends Action2 {
  constructor() {
    /* istanbul ignore next */
    cov_24pt47pmy8().f[0]++;
    cov_24pt47pmy8().s[0]++;
    super({
      id: '_signOutOfAccount',
      title: localize('signOutOfAccount', "Sign out of account"),
      f1: false
    });
  }
  async run(accessor, {
    providerId,
    accountLabel
  }) {
    /* istanbul ignore next */
    cov_24pt47pmy8().f[1]++;
    const authenticationService =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[1]++, accessor.get(IAuthenticationService));
    const authenticationUsageService =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[2]++, accessor.get(IAuthenticationUsageService));
    const authenticationAccessService =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[3]++, accessor.get(IAuthenticationAccessService));
    const dialogService =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[4]++, accessor.get(IDialogService));
    /* istanbul ignore next */
    cov_24pt47pmy8().s[5]++;
    if (
    /* istanbul ignore next */
    (cov_24pt47pmy8().b[1][0]++, !providerId) ||
    /* istanbul ignore next */
    (cov_24pt47pmy8().b[1][1]++, !accountLabel)) {
      /* istanbul ignore next */
      cov_24pt47pmy8().b[0][0]++;
      cov_24pt47pmy8().s[6]++;
      throw new Error('Invalid arguments. Expected: { providerId: string; accountLabel: string }');
    } else
    /* istanbul ignore next */
    {
      cov_24pt47pmy8().b[0][1]++;
    }
    const allSessions =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[7]++, await authenticationService.getSessions(providerId));
    const sessions =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[8]++, allSessions.filter(s => {
      /* istanbul ignore next */
      cov_24pt47pmy8().f[2]++;
      cov_24pt47pmy8().s[9]++;
      return s.account.label === accountLabel;
    }));
    const accountUsages =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[10]++, authenticationUsageService.readAccountUsages(providerId, accountLabel));
    const {
      confirmed
    } =
    /* istanbul ignore next */
    (cov_24pt47pmy8().s[11]++, await dialogService.confirm({
      type: Severity.Info,
      message: accountUsages.length ?
      /* istanbul ignore next */
      (cov_24pt47pmy8().b[2][0]++, localize('signOutMessage', "The account '{0}' has been used by: \n\n{1}\n\n Sign out from these extensions?", accountLabel, accountUsages.map(usage => {
        /* istanbul ignore next */
        cov_24pt47pmy8().f[3]++;
        cov_24pt47pmy8().s[12]++;
        return usage.extensionName;
      }).join('\n'))) :
      /* istanbul ignore next */
      (cov_24pt47pmy8().b[2][1]++, localize('signOutMessageSimple', "Sign out of '{0}'?", accountLabel)),
      primaryButton: localize({
        key: 'signOut',
        comment: ['&& denotes a mnemonic']
      }, "&&Sign Out")
    }));
    /* istanbul ignore next */
    cov_24pt47pmy8().s[13]++;
    if (confirmed) {
      /* istanbul ignore next */
      cov_24pt47pmy8().b[3][0]++;
      const removeSessionPromises =
      /* istanbul ignore next */
      (cov_24pt47pmy8().s[14]++, sessions.map(session => {
        /* istanbul ignore next */
        cov_24pt47pmy8().f[4]++;
        cov_24pt47pmy8().s[15]++;
        return authenticationService.removeSession(providerId, session.id);
      }));
      /* istanbul ignore next */
      cov_24pt47pmy8().s[16]++;
      await Promise.all(removeSessionPromises);
      /* istanbul ignore next */
      cov_24pt47pmy8().s[17]++;
      authenticationUsageService.removeAccountUsage(providerId, accountLabel);
      /* istanbul ignore next */
      cov_24pt47pmy8().s[18]++;
      authenticationAccessService.removeAllowedExtensions(providerId, accountLabel);
    } else
    /* istanbul ignore next */
    {
      cov_24pt47pmy8().b[3][1]++;
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjRwdDQ3cG15OCIsImFjdHVhbENvdmVyYWdlIiwiU2V2ZXJpdHkiLCJsb2NhbGl6ZSIsIkFjdGlvbjIiLCJJRGlhbG9nU2VydmljZSIsIklBdXRoZW50aWNhdGlvbkFjY2Vzc1NlcnZpY2UiLCJJQXV0aGVudGljYXRpb25Vc2FnZVNlcnZpY2UiLCJJQXV0aGVudGljYXRpb25TZXJ2aWNlIiwiU2lnbk91dE9mQWNjb3VudEFjdGlvbiIsImNvbnN0cnVjdG9yIiwiZiIsInMiLCJpZCIsInRpdGxlIiwiZjEiLCJydW4iLCJhY2Nlc3NvciIsInByb3ZpZGVySWQiLCJhY2NvdW50TGFiZWwiLCJhdXRoZW50aWNhdGlvblNlcnZpY2UiLCJnZXQiLCJhdXRoZW50aWNhdGlvblVzYWdlU2VydmljZSIsImF1dGhlbnRpY2F0aW9uQWNjZXNzU2VydmljZSIsImRpYWxvZ1NlcnZpY2UiLCJiIiwiRXJyb3IiLCJhbGxTZXNzaW9ucyIsImdldFNlc3Npb25zIiwic2Vzc2lvbnMiLCJmaWx0ZXIiLCJhY2NvdW50IiwibGFiZWwiLCJhY2NvdW50VXNhZ2VzIiwicmVhZEFjY291bnRVc2FnZXMiLCJjb25maXJtZWQiLCJjb25maXJtIiwidHlwZSIsIkluZm8iLCJtZXNzYWdlIiwibGVuZ3RoIiwibWFwIiwidXNhZ2UiLCJleHRlbnNpb25OYW1lIiwiam9pbiIsInByaW1hcnlCdXR0b24iLCJrZXkiLCJjb21tZW50IiwicmVtb3ZlU2Vzc2lvblByb21pc2VzIiwic2Vzc2lvbiIsInJlbW92ZVNlc3Npb24iLCJQcm9taXNlIiwiYWxsIiwicmVtb3ZlQWNjb3VudFVzYWdlIiwicmVtb3ZlQWxsb3dlZEV4dGVuc2lvbnMiXSwic291cmNlcyI6WyIvaG9tZS91c2VyL0Rlc2t0b3AvTWludE1pbmQvc3JjL3ZzL3dvcmtiZW5jaC9jb250cmliL2F1dGhlbnRpY2F0aW9uL2Jyb3dzZXIvYWN0aW9ucy9zaWduT3V0T2ZBY2NvdW50QWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgU2V2ZXJpdHkgZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vc2V2ZXJpdHkuanMnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9ubHMuanMnO1xuaW1wb3J0IHsgQWN0aW9uMiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3BsYXRmb3JtL2FjdGlvbnMvY29tbW9uL2FjdGlvbnMuanMnO1xuaW1wb3J0IHsgSURpYWxvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9wbGF0Zm9ybS9kaWFsb2dzL2NvbW1vbi9kaWFsb2dzLmpzJztcbmltcG9ydCB7IFNlcnZpY2VzQWNjZXNzb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmltcG9ydCB7IElBdXRoZW50aWNhdGlvbkFjY2Vzc1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9icm93c2VyL2F1dGhlbnRpY2F0aW9uQWNjZXNzU2VydmljZS5qcyc7XG5pbXBvcnQgeyBJQXV0aGVudGljYXRpb25Vc2FnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9icm93c2VyL2F1dGhlbnRpY2F0aW9uVXNhZ2VTZXJ2aWNlLmpzJztcbmltcG9ydCB7IElBdXRoZW50aWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi9jb21tb24vYXV0aGVudGljYXRpb24uanMnO1xuXG5leHBvcnQgY2xhc3MgU2lnbk91dE9mQWNjb3VudEFjdGlvbiBleHRlbmRzIEFjdGlvbjIge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcih7XG5cdFx0XHRpZDogJ19zaWduT3V0T2ZBY2NvdW50Jyxcblx0XHRcdHRpdGxlOiBsb2NhbGl6ZSgnc2lnbk91dE9mQWNjb3VudCcsIFwiU2lnbiBvdXQgb2YgYWNjb3VudFwiKSxcblx0XHRcdGYxOiBmYWxzZVxuXHRcdH0pO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgcnVuKGFjY2Vzc29yOiBTZXJ2aWNlc0FjY2Vzc29yLCB7IHByb3ZpZGVySWQsIGFjY291bnRMYWJlbCB9OiB7IHByb3ZpZGVySWQ6IHN0cmluZzsgYWNjb3VudExhYmVsOiBzdHJpbmcgfSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGF1dGhlbnRpY2F0aW9uU2VydmljZSA9IGFjY2Vzc29yLmdldChJQXV0aGVudGljYXRpb25TZXJ2aWNlKTtcblx0XHRjb25zdCBhdXRoZW50aWNhdGlvblVzYWdlU2VydmljZSA9IGFjY2Vzc29yLmdldChJQXV0aGVudGljYXRpb25Vc2FnZVNlcnZpY2UpO1xuXHRcdGNvbnN0IGF1dGhlbnRpY2F0aW9uQWNjZXNzU2VydmljZSA9IGFjY2Vzc29yLmdldChJQXV0aGVudGljYXRpb25BY2Nlc3NTZXJ2aWNlKTtcblx0XHRjb25zdCBkaWFsb2dTZXJ2aWNlID0gYWNjZXNzb3IuZ2V0KElEaWFsb2dTZXJ2aWNlKTtcblxuXHRcdGlmICghcHJvdmlkZXJJZCB8fCAhYWNjb3VudExhYmVsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzLiBFeHBlY3RlZDogeyBwcm92aWRlcklkOiBzdHJpbmc7IGFjY291bnRMYWJlbDogc3RyaW5nIH0nKTtcblx0XHR9XG5cblx0XHRjb25zdCBhbGxTZXNzaW9ucyA9IGF3YWl0IGF1dGhlbnRpY2F0aW9uU2VydmljZS5nZXRTZXNzaW9ucyhwcm92aWRlcklkKTtcblx0XHRjb25zdCBzZXNzaW9ucyA9IGFsbFNlc3Npb25zLmZpbHRlcihzID0+IHMuYWNjb3VudC5sYWJlbCA9PT0gYWNjb3VudExhYmVsKTtcblxuXHRcdGNvbnN0IGFjY291bnRVc2FnZXMgPSBhdXRoZW50aWNhdGlvblVzYWdlU2VydmljZS5yZWFkQWNjb3VudFVzYWdlcyhwcm92aWRlcklkLCBhY2NvdW50TGFiZWwpO1xuXG5cdFx0Y29uc3QgeyBjb25maXJtZWQgfSA9IGF3YWl0IGRpYWxvZ1NlcnZpY2UuY29uZmlybSh7XG5cdFx0XHR0eXBlOiBTZXZlcml0eS5JbmZvLFxuXHRcdFx0bWVzc2FnZTogYWNjb3VudFVzYWdlcy5sZW5ndGhcblx0XHRcdFx0PyBsb2NhbGl6ZSgnc2lnbk91dE1lc3NhZ2UnLCBcIlRoZSBhY2NvdW50ICd7MH0nIGhhcyBiZWVuIHVzZWQgYnk6IFxcblxcbnsxfVxcblxcbiBTaWduIG91dCBmcm9tIHRoZXNlIGV4dGVuc2lvbnM/XCIsIGFjY291bnRMYWJlbCwgYWNjb3VudFVzYWdlcy5tYXAodXNhZ2UgPT4gdXNhZ2UuZXh0ZW5zaW9uTmFtZSkuam9pbignXFxuJykpXG5cdFx0XHRcdDogbG9jYWxpemUoJ3NpZ25PdXRNZXNzYWdlU2ltcGxlJywgXCJTaWduIG91dCBvZiAnezB9Jz9cIiwgYWNjb3VudExhYmVsKSxcblx0XHRcdHByaW1hcnlCdXR0b246IGxvY2FsaXplKHsga2V5OiAnc2lnbk91dCcsIGNvbW1lbnQ6IFsnJiYgZGVub3RlcyBhIG1uZW1vbmljJ10gfSwgXCImJlNpZ24gT3V0XCIpXG5cdFx0fSk7XG5cblx0XHRpZiAoY29uZmlybWVkKSB7XG5cdFx0XHRjb25zdCByZW1vdmVTZXNzaW9uUHJvbWlzZXMgPSBzZXNzaW9ucy5tYXAoc2Vzc2lvbiA9PiBhdXRoZW50aWNhdGlvblNlcnZpY2UucmVtb3ZlU2Vzc2lvbihwcm92aWRlcklkLCBzZXNzaW9uLmlkKSk7XG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChyZW1vdmVTZXNzaW9uUHJvbWlzZXMpO1xuXHRcdFx0YXV0aGVudGljYXRpb25Vc2FnZVNlcnZpY2UucmVtb3ZlQWNjb3VudFVzYWdlKHByb3ZpZGVySWQsIGFjY291bnRMYWJlbCk7XG5cdFx0XHRhdXRoZW50aWNhdGlvbkFjY2Vzc1NlcnZpY2UucmVtb3ZlQWxsb3dlZEV4dGVuc2lvbnMocHJvdmlkZXJJZCwgYWNjb3VudExhYmVsKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBa0JHO0lBQUFBLGNBQUEs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QUE7TUFBQSxDQUFBeEMsY0FBQSxHQUFBeUIsQ0FBQSxVQUMxQnRCLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxpRkFBaUYsRUFBRWdCLFlBQVksRUFBRWMsYUFBYSxDQUFDUSxHQUFHLENBQUNDLEtBQUssSUFBSTtRQUFBO1FBQUExQyxjQUFBLEdBQUFXLENBQUE7UUFBQVgsY0FBQSxHQUFBWSxDQUFBO1FBQUEsT0FBQThCLEtBQUssQ0FBQ0MsYUFBYTtNQUFiLENBQWEsQ0FBQyxDQUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7TUFBQTtNQUFBLENBQUE1QyxjQUFBLEdBQUF5QixDQUFBLFVBQ3ZMdEIsUUFBUSxDQUFDLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFZ0IsWUFBWSxDQUFDO01BQ3ZFMEIsYUFBYSxFQUFFMUMsUUFBUSxDQUFDO1FBQUUyQyxHQUFHLEVBQUUsU0FBUztRQUFFQyxPQUFPLEVBQUUsQ0FBQyx1QkFBdUI7TUFBQyxDQUFFLEVBQUUsWUFBWTtLQUM1RixDQUFDO0lBQUM7SUFBQS9DLGNBQUEsR0FBQVksQ0FBQTtJQUVILElBQUl1QixTQUFTLEVBQUU7TUFBQTtNQUFBbkMsY0FBQSxHQUFBeUIsQ0FBQTtNQUNkLE1BQU11QixxQkFBcUI7TUFBQTtNQUFBLENBQUFoRCxjQUFBLEdBQUFZLENBQUEsUUFBR2lCLFFBQVEsQ0FBQ1ksR0FBRyxDQUFDUSxPQUFPLElBQUk7UUFBQTtRQUFBakQsY0FBQSxHQUFBVyxDQUFBO1FBQUFYLGNBQUEsR0FBQVksQ0FBQTtRQUFBLE9BQUFRLHFCQUFxQixDQUFDOEIsYUFBYSxDQUFDaEMsVUFBVSxFQUFFK0IsT0FBTyxDQUFDcEMsRUFBRSxDQUFDO01BQUQsQ0FBQyxDQUFDO01BQUM7TUFBQWIsY0FBQSxHQUFBWSxDQUFBO01BQ25ILE1BQU11QyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0oscUJBQXFCLENBQUM7TUFBQztNQUFBaEQsY0FBQSxHQUFBWSxDQUFBO01BQ3pDVSwwQkFBMEIsQ0FBQytCLGtCQUFrQixDQUFDbkMsVUFBVSxFQUFFQyxZQUFZLENBQUM7TUFBQztNQUFBbkIsY0FBQSxHQUFBWSxDQUFBO01BQ3hFVywyQkFBMkIsQ0FBQytCLHVCQUF1QixDQUFDcEMsVUFBVSxFQUFFQyxZQUFZLENBQUM7SUFDOUUsQ0FBQztJQUFBO0lBQUE7TUFBQW5CLGNBQUEsR0FBQXlCLENBQUE7SUFBQTtFQUNGIiwiaWdub3JlTGlzdCI6W119