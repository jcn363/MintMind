{"version":3,"names":["cov_1pdwx438bw","actualCoverage","Codicon","localize2","AccessibilitySignal","IAccessibilitySignalService","Action2","MenuId","MenuRegistry","registerAction2","CommandsRegistry","ContextKeyExpr","IDialogService","ActiveEditorContext","ChatContextKeys","ChatAgentLocation","ChatModeKind","ChatViewId","IChatWidgetService","EditingSessionAction","getEditingSessionContext","ChatEditorInput","ACTION_ID_NEW_CHAT","ACTION_ID_NEW_EDIT_SESSION","CHAT_CATEGORY","handleCurrentEditingSession","clearChatEditor","registerNewChatActions","f","s","appendMenuItem","ViewTitle","submenu","ChatNewMenu","title","icon","plus","when","equals","group","order","isSplitButton","NewChatEditorAction","constructor","id","f1","precondition","enabled","run","accessor","args","accessibilitySignalService","get","playSignal","clear","NewChatAction","category","and","location","isEqualTo","Chat","menu","ChatContext","CompactWindowEditorTitle","EditorID","lockedToCodingAgent","negate","keybinding","weight","primary","secondary","mac","inChatSession","executeCommandContext","context","editingSession","chatWidget","widget","b","dialogService","undefined","stop","waitForReady","attachmentModel","input","relatedFiles","focusInput","agentMode","setChatMode","Agent","Edit","inputValue","isPartialQuery","setInput","acceptInput","registerCommandAlias","UndoChatEditInteractionAction","discard","chatEditingCanUndo","isHiddenByDefault","runEditingSessionAction","undoInteraction","RedoChatEditInteractionAction","redo","chatEditingCanRedo","redoInteraction","lastFocusedWidget","viewModel","model","setCheckpoint","RedoChatCheckpoints","tooltip","ChatMessageRestoreCheckpoint","canRedo","currentWidget","requestText","checkpoint","message","text","inputEditor","getValue","setValue"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/actions/chatNewActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { Action2, MenuId, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ActiveEditorContext } from '../../../../common/contextkeys.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { IChatEditingSession } from '../../common/chatEditingService.js';\nimport { ChatAgentLocation, ChatModeKind } from '../../common/constants.js';\nimport { ChatViewId, IChatWidgetService } from '../chat.js';\nimport { EditingSessionAction, getEditingSessionContext } from '../chatEditing/chatEditingActions.js';\nimport { ChatEditorInput } from '../chatEditorInput.js';\nimport { ACTION_ID_NEW_CHAT, ACTION_ID_NEW_EDIT_SESSION, CHAT_CATEGORY, handleCurrentEditingSession } from './chatActions.js';\nimport { clearChatEditor } from './chatClear.js';\n\nexport interface INewEditSessionActionContext {\n\n\t/**\n\t * An initial prompt to write to the chat.\n\t */\n\tinputValue?: string;\n\n\t/**\n\t * Selects opening in agent mode or not. If not set, the current mode is used.\n\t * This is ignored when coming from a chat view title context.\n\t */\n\tagentMode?: boolean;\n\n\t/**\n\t * Whether the inputValue is partial and should wait for further user input.\n\t * If false or not set, the prompt is sent immediately.\n\t */\n\tisPartialQuery?: boolean;\n}\n\nexport function registerNewChatActions() {\n\n\t// Add \"New Chat\" submenu to Chat view menu\n\tMenuRegistry.appendMenuItem(MenuId.ViewTitle, {\n\t\tsubmenu: MenuId.ChatNewMenu,\n\t\ttitle: localize2('chat.newEdits.label', \"New Chat\"),\n\t\ticon: Codicon.plus,\n\t\twhen: ContextKeyExpr.equals('view', ChatViewId),\n\t\tgroup: 'navigation',\n\t\torder: -1,\n\t\tisSplitButton: true\n\t});\n\n\tregisterAction2(class NewChatEditorAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chatEditor.newChat',\n\t\t\t\ttitle: localize2('chat.newChat.label', \"New Chat\"),\n\t\t\t\ticon: Codicon.plus,\n\t\t\t\tf1: false,\n\t\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n\n\t\t\taccessibilitySignalService.playSignal(AccessibilitySignal.clear);\n\n\t\t\tawait clearChatEditor(accessor);\n\t\t}\n\t});\n\n\tregisterAction2(class NewChatAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: ACTION_ID_NEW_CHAT,\n\t\t\t\ttitle: localize2('chat.newEdits.label', \"New Chat\"),\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.plus,\n\t\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.enabled, ChatContextKeys.location.isEqualTo(ChatAgentLocation.Chat)),\n\t\t\t\tf1: true,\n\t\t\t\tmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\t\tgroup: 'z_clear'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.ChatNewMenu,\n\t\t\t\t\t\tgroup: '1_open',\n\t\t\t\t\t\torder: 1,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.CompactWindowEditorTitle,\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ActiveEditorContext.isEqualTo(ChatEditorInput.EditorID), ChatContextKeys.lockedToCodingAgent.negate()),\n\t\t\t\t\t\torder: 1\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tkeybinding: {\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyN,\n\t\t\t\t\tsecondary: [KeyMod.CtrlCmd | KeyCode.KeyL],\n\t\t\t\t\tmac: {\n\t\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyN,\n\t\t\t\t\t\tsecondary: [KeyMod.WinCtrl | KeyCode.KeyL]\n\t\t\t\t\t},\n\t\t\t\t\twhen: ChatContextKeys.inChatSession\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst executeCommandContext = args[0] as INewEditSessionActionContext | undefined;\n\n\t\t\t// Context from toolbar or lastFocusedWidget\n\t\t\tconst context = getEditingSessionContext(accessor, args);\n\t\t\tconst { editingSession, chatWidget: widget } = context ?? {};\n\t\t\tif (!widget) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n\t\t\tconst dialogService = accessor.get(IDialogService);\n\n\t\t\tif (editingSession && !(await handleCurrentEditingSession(editingSession, undefined, dialogService))) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccessibilitySignalService.playSignal(AccessibilitySignal.clear);\n\n\t\t\tawait editingSession?.stop();\n\t\t\twidget.clear();\n\t\t\tawait widget.waitForReady();\n\t\t\twidget.attachmentModel.clear(true);\n\t\t\twidget.input.relatedFiles?.clear();\n\t\t\twidget.focusInput();\n\n\t\t\tif (!executeCommandContext) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof executeCommandContext.agentMode === 'boolean') {\n\t\t\t\twidget.input.setChatMode(executeCommandContext.agentMode ? ChatModeKind.Agent : ChatModeKind.Edit);\n\t\t\t}\n\n\t\t\tif (executeCommandContext.inputValue) {\n\t\t\t\tif (executeCommandContext.isPartialQuery) {\n\t\t\t\t\twidget.setInput(executeCommandContext.inputValue);\n\t\t\t\t} else {\n\t\t\t\t\twidget.acceptInput(executeCommandContext.inputValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\tCommandsRegistry.registerCommandAlias(ACTION_ID_NEW_EDIT_SESSION, ACTION_ID_NEW_CHAT);\n\n\tregisterAction2(class UndoChatEditInteractionAction extends EditingSessionAction {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.undoEdit',\n\t\t\t\ttitle: localize2('chat.undoEdit.label', \"Undo Last Request\"),\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.discard,\n\t\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.chatEditingCanUndo, ChatContextKeys.enabled),\n\t\t\t\tf1: true,\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\twhen: ContextKeyExpr.equals('view', ChatViewId),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: -3,\n\t\t\t\t\tisHiddenByDefault: true\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\tasync runEditingSessionAction(accessor: ServicesAccessor, editingSession: IChatEditingSession) {\n\t\t\tawait editingSession.undoInteraction();\n\t\t}\n\t});\n\n\tregisterAction2(class RedoChatEditInteractionAction extends EditingSessionAction {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.redoEdit',\n\t\t\t\ttitle: localize2('chat.redoEdit.label', \"Redo Last Request\"),\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.redo,\n\t\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.chatEditingCanRedo, ChatContextKeys.enabled),\n\t\t\t\tf1: true,\n\t\t\t\tmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\twhen: ContextKeyExpr.equals('view', ChatViewId),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\torder: -2,\n\t\t\t\t\t\tisHiddenByDefault: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tasync runEditingSessionAction(accessor: ServicesAccessor, editingSession: IChatEditingSession) {\n\t\t\tconst widget = accessor.get(IChatWidgetService);\n\t\t\tawait editingSession.redoInteraction();\n\t\t\twidget.lastFocusedWidget?.viewModel?.model.setCheckpoint(undefined);\n\t\t}\n\t});\n\n\tregisterAction2(class RedoChatCheckpoints extends EditingSessionAction {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.redoEdit2',\n\t\t\t\ttitle: localize2('chat.redoEdit.label2', \"Redo\"),\n\t\t\t\ttooltip: localize2('chat.redoEdit.tooltip', \"Reapply discarded workspace changes and chat\"),\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.chatEditingCanRedo, ChatContextKeys.enabled),\n\t\t\t\tf1: true,\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageRestoreCheckpoint,\n\t\t\t\t\twhen: ChatContextKeys.lockedToCodingAgent.negate(),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: -1\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\tasync runEditingSessionAction(accessor: ServicesAccessor, editingSession: IChatEditingSession) {\n\t\t\tconst widget = accessor.get(IChatWidgetService);\n\n\t\t\twhile (editingSession.canRedo.get()) {\n\t\t\t\tawait editingSession.redoInteraction();\n\t\t\t}\n\n\t\t\tconst currentWidget = widget.lastFocusedWidget;\n\t\t\tconst requestText = currentWidget?.viewModel?.model.checkpoint?.message.text;\n\n\t\t\t// if the input has the same text that we just restored, clear it.\n\t\t\tif (currentWidget?.inputEditor.getValue() === requestText) {\n\t\t\t\tcurrentWidget?.input.setValue('', false);\n\t\t\t}\n\n\t\t\tcurrentWidget?.viewModel?.model.setCheckpoint(undefined);\n\t\t\tcurrentWidget?.focusInput();\n\t\t}\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}