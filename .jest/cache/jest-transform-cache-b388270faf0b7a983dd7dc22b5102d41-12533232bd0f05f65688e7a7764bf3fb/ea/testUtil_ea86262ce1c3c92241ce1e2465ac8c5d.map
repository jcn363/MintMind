{"version":3,"names":["cov_2i2ai6y2xr","actualCoverage","fail","ok","TextureAtlas","isNumber","ensureNonNullable","assertIsValidGlyph","glyph","atlasOrSource","f","s","undefined","b","pageW","pageSize","width","pageH","source","pages","pageIndex","x","y","w","h","originOffsetX","originOffsetY","ctx","getContext","edges","getImageData","data","edge","some","color"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/test/browser/gpu/atlas/testUtil.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { fail, ok } from 'assert';\nimport type { ITextureAtlasPageGlyph } from '../../../../browser/gpu/atlas/atlas.js';\nimport { TextureAtlas } from '../../../../browser/gpu/atlas/textureAtlas.js';\nimport { isNumber } from '../../../../../base/common/types.js';\nimport { ensureNonNullable } from '../../../../browser/gpu/gpuUtils.js';\n\nexport function assertIsValidGlyph(glyph: Readonly<ITextureAtlasPageGlyph> | undefined, atlasOrSource: TextureAtlas | OffscreenCanvas) {\n\tif (glyph === undefined) {\n\t\tfail('glyph is undefined');\n\t}\n\tconst pageW = atlasOrSource instanceof TextureAtlas ? atlasOrSource.pageSize : atlasOrSource.width;\n\tconst pageH = atlasOrSource instanceof TextureAtlas ? atlasOrSource.pageSize : atlasOrSource.width;\n\tconst source = atlasOrSource instanceof TextureAtlas ? atlasOrSource.pages[glyph.pageIndex].source : atlasOrSource;\n\n\t// (x,y) are valid coordinates\n\tok(isNumber(glyph.x));\n\tok(glyph.x >= 0);\n\tok(glyph.x < pageW);\n\tok(isNumber(glyph.y));\n\tok(glyph.y >= 0);\n\tok(glyph.y < pageH);\n\n\t// (w,h) are valid dimensions\n\tok(isNumber(glyph.w));\n\tok(glyph.w > 0);\n\tok(glyph.w <= pageW);\n\tok(isNumber(glyph.h));\n\tok(glyph.h > 0);\n\tok(glyph.h <= pageH);\n\n\t// (originOffsetX, originOffsetY) are valid offsets\n\tok(isNumber(glyph.originOffsetX));\n\tok(isNumber(glyph.originOffsetY));\n\n\t// (x,y) + (w,h) are within the bounds of the atlas\n\tok(glyph.x + glyph.w <= pageW);\n\tok(glyph.y + glyph.h <= pageH);\n\n\t// Each of the glyph's outer pixel edges contain at least 1 non-transparent pixel\n\tconst ctx = ensureNonNullable(source.getContext('2d'));\n\tconst edges = [\n\t\tctx.getImageData(glyph.x, glyph.y, glyph.w, 1).data,\n\t\tctx.getImageData(glyph.x, glyph.y + glyph.h - 1, glyph.w, 1).data,\n\t\tctx.getImageData(glyph.x, glyph.y, 1, glyph.h).data,\n\t\tctx.getImageData(glyph.x + glyph.w - 1, glyph.y, 1, glyph.h).data,\n\t];\n\tfor (const edge of edges) {\n\t\tok(edge.some(color => (color & 0xFF) !== 0));\n\t}\n}\n"],"mappings":"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","ignoreList":[]}