{"version":3,"names":["cov_1fh7cv61sk","actualCoverage","findNodeAtLocation","parseTree","jsonParseTree","s","getMcpServerMapping","opts","f","tree","model","getValue","servers","pathToServers","b","type","Map","result","node","children","start","getPositionAt","offset","end","length","set","value","uri","range","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/mcp/common/mcpConfigFileUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { findNodeAtLocation, parseTree as jsonParseTree } from '../../../../base/common/json.js';\nimport { Location } from '../../../../editor/common/languages.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\n\nexport const getMcpServerMapping = (opts: {\n\tmodel: ITextModel;\n\t// Path to MCP servers in the config.\n\tpathToServers: string[];\n}): Map<string, Location> => {\n\tconst tree = jsonParseTree(opts.model.getValue());\n\tconst servers = findNodeAtLocation(tree, opts.pathToServers);\n\tif (!servers || servers.type !== 'object') {\n\t\treturn new Map();\n\t}\n\n\tconst result = new Map<string, Location>();\n\tfor (const node of servers.children || []) {\n\t\tif (node.type !== 'property' || node.children?.[0]?.type !== 'string') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst start = opts.model.getPositionAt(node.offset);\n\t\tconst end = opts.model.getPositionAt(node.offset + node.length);\n\t\tresult.set(node.children[0].value, {\n\t\t\turi: opts.model.uri,\n\t\t\trange: {\n\t\t\t\tstartLineNumber: start.lineNumber,\n\t\t\t\tstartColumn: start.column,\n\t\t\t\tendLineNumber: end.lineNumber,\n\t\t\t\tendColumn: end.column,\n\t\t\t}\n\t\t});\n\t}\n\n\treturn result;\n};\n"],"mappings":"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","ignoreList":[]}