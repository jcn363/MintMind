{"version":3,"names":["cov_1bfz4lr1fq","actualCoverage","exec","isWindows","windowsTerminalEncodings","s","toIconvLiteEncoding","encodingName","f","normalizedEncodingName","replace","toLowerCase","mapped","JSCHARDET_TO_ICONV_ENCODINGS","b","UTF8","resolveTerminalEncoding","verbose","rawEncodingPromise","cliEncodingEnv","process","env","console","log","Promise","resolve","err","stdout","stderr","windowsTerminalEncodingKeys","Object","keys","key","indexOf","undefined","rawEncoding"],"sources":["/home/user/Desktop/MintMind/src/vs/base/node/terminalEncoding.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * This code is also used by standalone cli's. Avoid adding dependencies to keep the size of the cli small.\n */\nimport { exec } from 'child_process';\nimport { isWindows } from '../common/platform.js';\n\nconst windowsTerminalEncodings = {\n\t'437': 'cp437', // United States\n\t'850': 'cp850', // Multilingual(Latin I)\n\t'852': 'cp852', // Slavic(Latin II)\n\t'855': 'cp855', // Cyrillic(Russian)\n\t'857': 'cp857', // Turkish\n\t'860': 'cp860', // Portuguese\n\t'861': 'cp861', // Icelandic\n\t'863': 'cp863', // Canadian - French\n\t'865': 'cp865', // Nordic\n\t'866': 'cp866', // Russian\n\t'869': 'cp869', // Modern Greek\n\t'936': 'cp936', // Simplified Chinese\n\t'1252': 'cp1252' // West European Latin\n};\n\nfunction toIconvLiteEncoding(encodingName: string): string {\n\tconst normalizedEncodingName = encodingName.replace(/[^a-zA-Z0-9]/g, '').toLowerCase();\n\tconst mapped = JSCHARDET_TO_ICONV_ENCODINGS[normalizedEncodingName];\n\n\treturn mapped || normalizedEncodingName;\n}\n\nconst JSCHARDET_TO_ICONV_ENCODINGS: { [name: string]: string } = {\n\t'ibm866': 'cp866',\n\t'big5': 'cp950'\n};\n\nconst UTF8 = 'utf8';\n\nexport async function resolveTerminalEncoding(verbose?: boolean): Promise<string> {\n\tlet rawEncodingPromise: Promise<string | undefined>;\n\n\t// Support a global environment variable to win over other mechanics\n\tconst cliEncodingEnv = process.env['MINTMIND_CLI_ENCODING'];\n\tif (cliEncodingEnv) {\n\t\tif (verbose) {\n\t\t\tconsole.log(`Found MINTMIND_CLI_ENCODING variable: ${cliEncodingEnv}`);\n\t\t}\n\n\t\trawEncodingPromise = Promise.resolve(cliEncodingEnv);\n\t}\n\n\t// Windows: educated guess\n\telse if (isWindows) {\n\t\trawEncodingPromise = new Promise<string | undefined>(resolve => {\n\t\t\tif (verbose) {\n\t\t\t\tconsole.log('Running \"chcp\" to detect terminal encoding...');\n\t\t\t}\n\n\t\t\texec('chcp', (err, stdout, stderr) => {\n\t\t\t\tif (stdout) {\n\t\t\t\t\tif (verbose) {\n\t\t\t\t\t\tconsole.log(`Output from \"chcp\" command is: ${stdout}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst windowsTerminalEncodingKeys = Object.keys(windowsTerminalEncodings) as Array<keyof typeof windowsTerminalEncodings>;\n\t\t\t\t\tfor (const key of windowsTerminalEncodingKeys) {\n\t\t\t\t\t\tif (stdout.indexOf(key) >= 0) {\n\t\t\t\t\t\t\treturn resolve(windowsTerminalEncodings[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn resolve(undefined);\n\t\t\t});\n\t\t});\n\t}\n\t// Linux/Mac: use \"locale charmap\" command\n\telse {\n\t\trawEncodingPromise = new Promise<string>(resolve => {\n\t\t\tif (verbose) {\n\t\t\t\tconsole.log('Running \"locale charmap\" to detect terminal encoding...');\n\t\t\t}\n\n\t\t\texec('locale charmap', (err, stdout, stderr) => resolve(stdout));\n\t\t});\n\t}\n\n\tconst rawEncoding = await rawEncodingPromise;\n\tif (verbose) {\n\t\tconsole.log(`Detected raw terminal encoding: ${rawEncoding}`);\n\t}\n\n\tif (!rawEncoding || rawEncoding.toLowerCase() === 'utf-8' || rawEncoding.toLowerCase() === UTF8) {\n\t\treturn UTF8;\n\t}\n\n\treturn toIconvLiteEncoding(rawEncoding);\n}\n"],"mappings":"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","ignoreList":[]}