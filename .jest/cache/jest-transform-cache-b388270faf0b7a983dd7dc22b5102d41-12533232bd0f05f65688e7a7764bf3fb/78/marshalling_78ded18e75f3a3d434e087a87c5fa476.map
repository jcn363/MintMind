{"version":3,"names":["cov_6lxl25tju","actualCoverage","VSBuffer","URI","stringify","obj","f","s","JSON","replacer","parse","text","data","revive","key","value","RegExp","b","$mid","source","flags","depth","Date","Uint8Array","Array","isArray","i","length","Object","hasOwnProperty","call"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/marshalling.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { VSBuffer } from './buffer.js';\nimport { URI, UriComponents } from './uri.js';\nimport { MarshalledId } from './marshallingIds.js';\n\nexport function stringify(obj: unknown): string {\n\treturn JSON.stringify(obj, replacer);\n}\n\nexport function parse(text: string): any {\n\tlet data = JSON.parse(text);\n\tdata = revive(data);\n\treturn data;\n}\n\nexport interface MarshalledObject {\n\t$mid: MarshalledId;\n}\n\nfunction replacer(key: string, value: any): any {\n\t// URI is done via toJSON-member\n\tif (value instanceof RegExp) {\n\t\treturn {\n\t\t\t$mid: MarshalledId.Regexp,\n\t\t\tsource: value.source,\n\t\t\tflags: value.flags,\n\t\t};\n\t}\n\treturn value;\n}\n\n\ntype Deserialize<T> = T extends UriComponents ? URI\n\t: T extends VSBuffer ? VSBuffer\n\t: T extends object\n\t? Revived<T>\n\t: T;\n\nexport type Revived<T> = { [K in keyof T]: Deserialize<T[K]> };\n\nexport function revive<T = any>(obj: any, depth = 0): Revived<T> {\n\tif (!obj || depth > 200) {\n\t\treturn obj;\n\t}\n\n\tif (typeof obj === 'object') {\n\n\t\tswitch ((<MarshalledObject>obj).$mid) {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tcase MarshalledId.Uri: return <any>URI.revive(obj);\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tcase MarshalledId.Regexp: return <any>new RegExp(obj.source, obj.flags);\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tcase MarshalledId.Date: return <any>new Date(obj.source);\n\t\t}\n\n\t\tif (\n\t\t\tobj instanceof VSBuffer\n\t\t\t|| obj instanceof Uint8Array\n\t\t) {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\treturn <any>obj;\n\t\t}\n\n\t\tif (Array.isArray(obj)) {\n\t\t\tfor (let i = 0; i < obj.length; ++i) {\n\t\t\t\tobj[i] = revive(obj[i], depth + 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// walk object\n\t\t\tfor (const key in obj) {\n\t\t\t\tif (Object.hasOwnProperty.call(obj, key)) {\n\t\t\t\t\tobj[key] = revive(obj[key], depth + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn obj;\n}\n"],"mappings":"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","ignoreList":[]}