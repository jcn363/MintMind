{"version":3,"names":["cov_2pyj9pwe8x","actualCoverage","equals","tail","Disposable","GridView","orthogonal","Sizing","GridViewSizing","oppositeDirection","direction","f","s","b","isGridBranchNode","node","children","getGridNode","location","length","Error","index","rest","intersects","one","other","start","end","getBoxBoundary","box","orientation","getDirectionOrientation","offset","top","left","width","height","range","findAdjacentBoxLeafNodes","boxNode","boundary","result","_","child","push","getLocationOrientation","rootOrientation","getRelativeLocation","directionOrientation","indexInParent","element","parentElement","el","firstElementChild","lastElementChild","nextElementSibling","getGridLocation","test","className","ancestor","Distribute","type","Split","Auto","Invisible","cachedVisibleSize","Grid","gridview","views","Map","minimumWidth","minimumHeight","maximumWidth","maximumHeight","onDidChange","onDidScroll","boundarySashes","edgeSnapping","didLayout","onDidChangeViewMaximized","constructor","view","options","getViewMap","_register","onDidSashReset","_addView","style","styles","layout","addView","newView","size","referenceView","has","referenceLocation","getViewLocation","viewSize","addViewAt","set","removeView","sizing","gridViewSizing","delete","moveView","sourceLocation","sourceParentLocation","from","targetLocation","targetParentLocation","to","undefined","moveViewTo","getViewSize","cachedViewSize","getViewCachedVisibleSize","swapViews","fromLocation","toLocation","resizeView","isViewExpanded","isViewMaximized","hasMaximizedView","maximizeView","exitMaximizedView","expandView","distributeViewSizes","isViewVisible","setViewVisible","visible","getViews","getView","getNeighborViews","wrap","root","map","get","resizeToPreferredSize","preferredWidth","preferredHeight","Math","round","parentLocation","SerializableGrid","serializeNode","serializedLeafNode","data","toJSON","maximized","c","some","deserialize","json","deserializer","gridDescriptor","createSerializedGrid","fromJSON","initialLayoutContext","serialize","trySet2x2","isGridBranchNodeDescriptor","nodeDescriptor","groups","sanitizeGridNodeDescriptor","rootNode","totalDefinedSize","totalDefinedSizeCount","totalUndefinedSize","totalUndefinedSizeCount","eachUndefinedSize","createSerializedNode","getDimensions","childrenDimensions","max","d","reduce","r"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/ui/grid/grid.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IBoundarySashes, Orientation } from '../sash/sash.js';\nimport { equals, tail } from '../../../common/arrays.js';\nimport { Event } from '../../../common/event.js';\nimport { Disposable } from '../../../common/lifecycle.js';\nimport './gridview.css';\nimport { Box, GridView, IGridViewOptions, IGridViewStyles, IView as IGridViewView, IViewSize, orthogonal, Sizing as GridViewSizing, GridLocation } from './gridview.js';\nimport type { SplitView, AutoSizing as SplitViewAutoSizing } from '../splitview/splitview.js';\n\nexport type { IViewSize };\nexport { LayoutPriority, Orientation, orthogonal } from './gridview.js';\n\nexport const enum Direction {\n\tUp,\n\tDown,\n\tLeft,\n\tRight\n}\n\nfunction oppositeDirection(direction: Direction): Direction {\n\tswitch (direction) {\n\t\tcase Direction.Up: return Direction.Down;\n\t\tcase Direction.Down: return Direction.Up;\n\t\tcase Direction.Left: return Direction.Right;\n\t\tcase Direction.Right: return Direction.Left;\n\t}\n}\n\n/**\n * The interface to implement for views within a {@link Grid}.\n */\nexport interface IView extends IGridViewView {\n\n\t/**\n\t * The preferred width for when the user double clicks a sash\n\t * adjacent to this view.\n\t */\n\treadonly preferredWidth?: number;\n\n\t/**\n\t * The preferred height for when the user double clicks a sash\n\t * adjacent to this view.\n\t */\n\treadonly preferredHeight?: number;\n}\n\nexport interface GridLeafNode<T extends IView> {\n\treadonly view: T;\n\treadonly box: Box;\n\treadonly cachedVisibleSize: number | undefined;\n\treadonly maximized: boolean;\n}\n\nexport interface GridBranchNode<T extends IView> {\n\treadonly children: GridNode<T>[];\n\treadonly box: Box;\n}\n\nexport type GridNode<T extends IView> = GridLeafNode<T> | GridBranchNode<T>;\n\nexport function isGridBranchNode<T extends IView>(node: GridNode<T>): node is GridBranchNode<T> {\n\t// eslint-disable-next-line local/code-no-any-casts\n\treturn !!(node as any).children;\n}\n\nfunction getGridNode<T extends IView>(node: GridNode<T>, location: GridLocation): GridNode<T> {\n\tif (location.length === 0) {\n\t\treturn node;\n\t}\n\n\tif (!isGridBranchNode(node)) {\n\t\tthrow new Error('Invalid location');\n\t}\n\n\tconst [index, ...rest] = location;\n\treturn getGridNode(node.children[index], rest);\n}\n\ninterface Range {\n\treadonly start: number;\n\treadonly end: number;\n}\n\nfunction intersects(one: Range, other: Range): boolean {\n\treturn !(one.start >= other.end || other.start >= one.end);\n}\n\ninterface Boundary {\n\treadonly offset: number;\n\treadonly range: Range;\n}\n\nfunction getBoxBoundary(box: Box, direction: Direction): Boundary {\n\tconst orientation = getDirectionOrientation(direction);\n\tconst offset = direction === Direction.Up ? box.top :\n\t\tdirection === Direction.Right ? box.left + box.width :\n\t\t\tdirection === Direction.Down ? box.top + box.height :\n\t\t\t\tbox.left;\n\n\tconst range = {\n\t\tstart: orientation === Orientation.HORIZONTAL ? box.top : box.left,\n\t\tend: orientation === Orientation.HORIZONTAL ? box.top + box.height : box.left + box.width\n\t};\n\n\treturn { offset, range };\n}\n\nfunction findAdjacentBoxLeafNodes<T extends IView>(boxNode: GridNode<T>, direction: Direction, boundary: Boundary): GridLeafNode<T>[] {\n\tconst result: GridLeafNode<T>[] = [];\n\n\tfunction _(boxNode: GridNode<T>, direction: Direction, boundary: Boundary): void {\n\t\tif (isGridBranchNode(boxNode)) {\n\t\t\tfor (const child of boxNode.children) {\n\t\t\t\t_(child, direction, boundary);\n\t\t\t}\n\t\t} else {\n\t\t\tconst { offset, range } = getBoxBoundary(boxNode.box, direction);\n\n\t\t\tif (offset === boundary.offset && intersects(range, boundary.range)) {\n\t\t\t\tresult.push(boxNode);\n\t\t\t}\n\t\t}\n\t}\n\n\t_(boxNode, direction, boundary);\n\treturn result;\n}\n\nfunction getLocationOrientation(rootOrientation: Orientation, location: GridLocation): Orientation {\n\treturn location.length % 2 === 0 ? orthogonal(rootOrientation) : rootOrientation;\n}\n\nfunction getDirectionOrientation(direction: Direction): Orientation {\n\treturn direction === Direction.Up || direction === Direction.Down ? Orientation.VERTICAL : Orientation.HORIZONTAL;\n}\n\nexport function getRelativeLocation(rootOrientation: Orientation, location: GridLocation, direction: Direction): GridLocation {\n\tconst orientation = getLocationOrientation(rootOrientation, location);\n\tconst directionOrientation = getDirectionOrientation(direction);\n\n\tif (orientation === directionOrientation) {\n\t\tlet [rest, index] = tail(location);\n\n\t\tif (direction === Direction.Right || direction === Direction.Down) {\n\t\t\tindex += 1;\n\t\t}\n\n\t\treturn [...rest, index];\n\t} else {\n\t\tconst index = (direction === Direction.Right || direction === Direction.Down) ? 1 : 0;\n\t\treturn [...location, index];\n\t}\n}\n\nfunction indexInParent(element: HTMLElement): number {\n\tconst parentElement = element.parentElement;\n\n\tif (!parentElement) {\n\t\tthrow new Error('Invalid grid element');\n\t}\n\n\tlet el = parentElement.firstElementChild;\n\tlet index = 0;\n\n\twhile (el !== element && el !== parentElement.lastElementChild && el) {\n\t\tel = el.nextElementSibling;\n\t\tindex++;\n\t}\n\n\treturn index;\n}\n\n/**\n * Find the grid location of a specific DOM element by traversing the parent\n * chain and finding each child index on the way.\n *\n * This will break as soon as DOM structures of the Splitview or Gridview change.\n */\nfunction getGridLocation(element: HTMLElement): GridLocation {\n\tconst parentElement = element.parentElement;\n\n\tif (!parentElement) {\n\t\tthrow new Error('Invalid grid element');\n\t}\n\n\tif (/\\bmonaco-grid-view\\b/.test(parentElement.className)) {\n\t\treturn [];\n\t}\n\n\tconst index = indexInParent(parentElement);\n\tconst ancestor = parentElement.parentElement!.parentElement!.parentElement!.parentElement!;\n\treturn [...getGridLocation(ancestor), index];\n}\n\nexport type DistributeSizing = { type: 'distribute' };\nexport type SplitSizing = { type: 'split' };\nexport type AutoSizing = { type: 'auto' };\nexport type InvisibleSizing = { type: 'invisible'; cachedVisibleSize: number };\nexport type Sizing = DistributeSizing | SplitSizing | AutoSizing | InvisibleSizing;\n\nexport namespace Sizing {\n\texport const Distribute: DistributeSizing = { type: 'distribute' };\n\texport const Split: SplitSizing = { type: 'split' };\n\texport const Auto: AutoSizing = { type: 'auto' };\n\texport function Invisible(cachedVisibleSize: number): InvisibleSizing { return { type: 'invisible', cachedVisibleSize }; }\n}\n\nexport interface IGridStyles extends IGridViewStyles { }\nexport interface IGridOptions extends IGridViewOptions { }\n\n/**\n * The {@link Grid} exposes a Grid widget in a friendlier API than the underlying\n * {@link GridView} widget. Namely, all mutation operations are addressed by the\n * model elements, rather than indexes.\n *\n * It support the same features as the {@link GridView}.\n */\nexport class Grid<T extends IView = IView> extends Disposable {\n\n\tprotected gridview: GridView;\n\tprivate views = new Map<T, HTMLElement>();\n\n\t/**\n\t * The orientation of the grid. Matches the orientation of the root\n\t * {@link SplitView} in the grid's {@link GridLocation} model.\n\t */\n\tget orientation(): Orientation { return this.gridview.orientation; }\n\tset orientation(orientation: Orientation) { this.gridview.orientation = orientation; }\n\n\t/**\n\t * The width of the grid.\n\t */\n\tget width(): number { return this.gridview.width; }\n\n\t/**\n\t * The height of the grid.\n\t */\n\tget height(): number { return this.gridview.height; }\n\n\t/**\n\t * The minimum width of the grid.\n\t */\n\tget minimumWidth(): number { return this.gridview.minimumWidth; }\n\n\t/**\n\t * The minimum height of the grid.\n\t */\n\tget minimumHeight(): number { return this.gridview.minimumHeight; }\n\n\t/**\n\t * The maximum width of the grid.\n\t */\n\tget maximumWidth(): number { return this.gridview.maximumWidth; }\n\n\t/**\n\t * The maximum height of the grid.\n\t */\n\tget maximumHeight(): number { return this.gridview.maximumHeight; }\n\n\t/**\n\t * Fires whenever a view within the grid changes its size constraints.\n\t */\n\treadonly onDidChange: Event<{ width: number; height: number } | undefined>;\n\n\t/**\n\t * Fires whenever the user scrolls a {@link SplitView} within\n\t * the grid.\n\t */\n\treadonly onDidScroll: Event<void>;\n\n\t/**\n\t * A collection of sashes perpendicular to each edge of the grid.\n\t * Corner sashes will be created for each intersection.\n\t */\n\tget boundarySashes(): IBoundarySashes { return this.gridview.boundarySashes; }\n\tset boundarySashes(boundarySashes: IBoundarySashes) { this.gridview.boundarySashes = boundarySashes; }\n\n\t/**\n\t * Enable/disable edge snapping across all grid views.\n\t */\n\tset edgeSnapping(edgeSnapping: boolean) { this.gridview.edgeSnapping = edgeSnapping; }\n\n\t/**\n\t * The DOM element for this view.\n\t */\n\tget element(): HTMLElement { return this.gridview.element; }\n\n\tprivate didLayout = false;\n\n\treadonly onDidChangeViewMaximized: Event<boolean>;\n\t/**\n\t * Create a new {@link Grid}. A grid must *always* have a view\n\t * inside.\n\t *\n\t * @param view An initial view for this Grid.\n\t */\n\tconstructor(view: T | GridView, options: IGridOptions = {}) {\n\t\tsuper();\n\n\t\tif (view instanceof GridView) {\n\t\t\tthis.gridview = view;\n\t\t\tthis.gridview.getViewMap(this.views);\n\t\t} else {\n\t\t\tthis.gridview = new GridView(options);\n\t\t}\n\n\t\tthis._register(this.gridview);\n\t\tthis._register(this.gridview.onDidSashReset(this.onDidSashReset, this));\n\n\t\tif (!(view instanceof GridView)) {\n\t\t\tthis._addView(view, 0, [0]);\n\t\t}\n\n\t\tthis.onDidChange = this.gridview.onDidChange;\n\t\tthis.onDidScroll = this.gridview.onDidScroll;\n\t\tthis.onDidChangeViewMaximized = this.gridview.onDidChangeViewMaximized;\n\t}\n\n\tstyle(styles: IGridStyles): void {\n\t\tthis.gridview.style(styles);\n\t}\n\n\t/**\n\t * Layout the {@link Grid}.\n\t *\n\t * Optionally provide a `top` and `left` positions, those will propagate\n\t * as an origin for positions passed to {@link IView.layout}.\n\t *\n\t * @param width The width of the {@link Grid}.\n\t * @param height The height of the {@link Grid}.\n\t * @param top Optional, the top location of the {@link Grid}.\n\t * @param left Optional, the left location of the {@link Grid}.\n\t */\n\tlayout(width: number, height: number, top: number = 0, left: number = 0): void {\n\t\tthis.gridview.layout(width, height, top, left);\n\t\tthis.didLayout = true;\n\t}\n\n\t/**\n\t * Add a {@link IView view} to this {@link Grid}, based on another reference view.\n\t *\n\t * Take this grid as an example:\n\t *\n\t * ```\n\t *  +-----+---------------+\n\t *  |  A  |      B        |\n\t *  +-----+---------+-----+\n\t *  |        C      |     |\n\t *  +---------------+  D  |\n\t *  |        E      |     |\n\t *  +---------------+-----+\n\t * ```\n\t *\n\t * Calling `addView(X, Sizing.Distribute, C, Direction.Right)` will make the following\n\t * changes:\n\t *\n\t * ```\n\t *  +-----+---------------+\n\t *  |  A  |      B        |\n\t *  +-----+-+-------+-----+\n\t *  |   C   |   X   |     |\n\t *  +-------+-------+  D  |\n\t *  |        E      |     |\n\t *  +---------------+-----+\n\t * ```\n\t *\n\t * Or `addView(X, Sizing.Distribute, D, Direction.Down)`:\n\t *\n\t * ```\n\t *  +-----+---------------+\n\t *  |  A  |      B        |\n\t *  +-----+---------+-----+\n\t *  |        C      |  D  |\n\t *  +---------------+-----+\n\t *  |        E      |  X  |\n\t *  +---------------+-----+\n\t * ```\n\t *\n\t * @param newView The view to add.\n\t * @param size Either a fixed size, or a dynamic {@link Sizing} strategy.\n\t * @param referenceView Another view to place this new view next to.\n\t * @param direction The direction the new view should be placed next to the reference view.\n\t */\n\taddView(newView: T, size: number | Sizing, referenceView: T, direction: Direction): void {\n\t\tif (this.views.has(newView)) {\n\t\t\tthrow new Error('Can\\'t add same view twice');\n\t\t}\n\n\t\tconst orientation = getDirectionOrientation(direction);\n\n\t\tif (this.views.size === 1 && this.orientation !== orientation) {\n\t\t\tthis.orientation = orientation;\n\t\t}\n\n\t\tconst referenceLocation = this.getViewLocation(referenceView);\n\t\tconst location = getRelativeLocation(this.gridview.orientation, referenceLocation, direction);\n\n\t\tlet viewSize: number | GridViewSizing;\n\n\t\tif (typeof size === 'number') {\n\t\t\tviewSize = size;\n\t\t} else if (size.type === 'split') {\n\t\t\tconst [, index] = tail(referenceLocation);\n\t\t\tviewSize = GridViewSizing.Split(index);\n\t\t} else if (size.type === 'distribute') {\n\t\t\tviewSize = GridViewSizing.Distribute;\n\t\t} else if (size.type === 'auto') {\n\t\t\tconst [, index] = tail(referenceLocation);\n\t\t\tviewSize = GridViewSizing.Auto(index);\n\t\t} else {\n\t\t\tviewSize = size;\n\t\t}\n\n\t\tthis._addView(newView, viewSize, location);\n\t}\n\n\tprivate addViewAt(newView: T, size: number | DistributeSizing | InvisibleSizing, location: GridLocation): void {\n\t\tif (this.views.has(newView)) {\n\t\t\tthrow new Error('Can\\'t add same view twice');\n\t\t}\n\n\t\tlet viewSize: number | GridViewSizing;\n\n\t\tif (typeof size === 'number') {\n\t\t\tviewSize = size;\n\t\t} else if (size.type === 'distribute') {\n\t\t\tviewSize = GridViewSizing.Distribute;\n\t\t} else {\n\t\t\tviewSize = size;\n\t\t}\n\n\t\tthis._addView(newView, viewSize, location);\n\t}\n\n\tprotected _addView(newView: T, size: number | GridViewSizing, location: GridLocation): void {\n\t\tthis.views.set(newView, newView.element);\n\t\tthis.gridview.addView(newView, size, location);\n\t}\n\n\t/**\n\t * Remove a {@link IView view} from this {@link Grid}.\n\t *\n\t * @param view The {@link IView view} to remove.\n\t * @param sizing Whether to distribute other {@link IView view}'s sizes.\n\t */\n\tremoveView(view: T, sizing?: Sizing): void {\n\t\tif (this.views.size === 1) {\n\t\t\tthrow new Error('Can\\'t remove last view');\n\t\t}\n\n\t\tconst location = this.getViewLocation(view);\n\n\t\tlet gridViewSizing: DistributeSizing | SplitViewAutoSizing | undefined;\n\n\t\tif (sizing?.type === 'distribute') {\n\t\t\tgridViewSizing = GridViewSizing.Distribute;\n\t\t} else if (sizing?.type === 'auto') {\n\t\t\tconst index = location[location.length - 1];\n\t\t\tgridViewSizing = GridViewSizing.Auto(index === 0 ? 1 : index - 1);\n\t\t}\n\n\t\tthis.gridview.removeView(location, gridViewSizing);\n\t\tthis.views.delete(view);\n\t}\n\n\t/**\n\t * Move a {@link IView view} to another location in the grid.\n\t *\n\t * @remarks See {@link Grid.addView}.\n\t *\n\t * @param view The {@link IView view} to move.\n\t * @param sizing Either a fixed size, or a dynamic {@link Sizing} strategy.\n\t * @param referenceView Another view to place the view next to.\n\t * @param direction The direction the view should be placed next to the reference view.\n\t */\n\tmoveView(view: T, sizing: number | Sizing, referenceView: T, direction: Direction): void {\n\t\tconst sourceLocation = this.getViewLocation(view);\n\t\tconst [sourceParentLocation, from] = tail(sourceLocation);\n\n\t\tconst referenceLocation = this.getViewLocation(referenceView);\n\t\tconst targetLocation = getRelativeLocation(this.gridview.orientation, referenceLocation, direction);\n\t\tconst [targetParentLocation, to] = tail(targetLocation);\n\n\t\tif (equals(sourceParentLocation, targetParentLocation)) {\n\t\t\tthis.gridview.moveView(sourceParentLocation, from, to);\n\t\t} else {\n\t\t\tthis.removeView(view, typeof sizing === 'number' ? undefined : sizing);\n\t\t\tthis.addView(view, sizing, referenceView, direction);\n\t\t}\n\t}\n\n\t/**\n\t * Move a {@link IView view} to another location in the grid.\n\t *\n\t * @remarks Internal method, do not use without knowing what you're doing.\n\t * @remarks See {@link GridView.moveView}.\n\t *\n\t * @param view The {@link IView view} to move.\n\t * @param location The {@link GridLocation location} to insert the view on.\n\t */\n\tmoveViewTo(view: T, location: GridLocation): void {\n\t\tconst sourceLocation = this.getViewLocation(view);\n\t\tconst [sourceParentLocation, from] = tail(sourceLocation);\n\t\tconst [targetParentLocation, to] = tail(location);\n\n\t\tif (equals(sourceParentLocation, targetParentLocation)) {\n\t\t\tthis.gridview.moveView(sourceParentLocation, from, to);\n\t\t} else {\n\t\t\tconst size = this.getViewSize(view);\n\t\t\tconst orientation = getLocationOrientation(this.gridview.orientation, sourceLocation);\n\t\t\tconst cachedViewSize = this.getViewCachedVisibleSize(view);\n\t\t\tconst sizing = typeof cachedViewSize === 'undefined'\n\t\t\t\t? (orientation === Orientation.HORIZONTAL ? size.width : size.height)\n\t\t\t\t: Sizing.Invisible(cachedViewSize);\n\n\t\t\tthis.removeView(view);\n\t\t\tthis.addViewAt(view, sizing, location);\n\t\t}\n\t}\n\n\t/**\n\t * Swap two {@link IView views} within the {@link Grid}.\n\t *\n\t * @param from One {@link IView view}.\n\t * @param to Another {@link IView view}.\n\t */\n\tswapViews(from: T, to: T): void {\n\t\tconst fromLocation = this.getViewLocation(from);\n\t\tconst toLocation = this.getViewLocation(to);\n\t\treturn this.gridview.swapViews(fromLocation, toLocation);\n\t}\n\n\t/**\n\t * Resize a {@link IView view}.\n\t *\n\t * @param view The {@link IView view} to resize.\n\t * @param size The size the view should be.\n\t */\n\tresizeView(view: T, size: IViewSize): void {\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.resizeView(location, size);\n\t}\n\n\t/**\n\t * Returns whether all other {@link IView views} are at their minimum size.\n\t *\n\t * @param view The reference {@link IView view}.\n\t */\n\tisViewExpanded(view: T): boolean {\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.isViewExpanded(location);\n\t}\n\n\t/**\n\t * Returns whether the {@link IView view} is maximized.\n\t *\n\t * @param view The reference {@link IView view}.\n\t */\n\tisViewMaximized(view: T): boolean {\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.isViewMaximized(location);\n\t}\n\n\t/**\n\t * Returns whether the {@link IView view} is maximized.\n\t *\n\t * @param view The reference {@link IView view}.\n\t */\n\thasMaximizedView(): boolean {\n\t\treturn this.gridview.hasMaximizedView();\n\t}\n\n\t/**\n\t * Get the size of a {@link IView view}.\n\t *\n\t * @param view The {@link IView view}. Provide `undefined` to get the size\n\t * of the grid itself.\n\t */\n\tgetViewSize(view?: T): IViewSize {\n\t\tif (!view) {\n\t\t\treturn this.gridview.getViewSize();\n\t\t}\n\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.getViewSize(location);\n\t}\n\n\t/**\n\t * Get the cached visible size of a {@link IView view}. This was the size\n\t * of the view at the moment it last became hidden.\n\t *\n\t * @param view The {@link IView view}.\n\t */\n\tgetViewCachedVisibleSize(view: T): number | undefined {\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.getViewCachedVisibleSize(location);\n\t}\n\n\t/**\n\t * Maximizes the specified view and hides all other views.\n\t * @param view The view to maximize.\n\t */\n\tmaximizeView(view: T) {\n\t\tif (this.views.size < 2) {\n\t\t\tthrow new Error('At least two views are required to maximize a view');\n\t\t}\n\t\tconst location = this.getViewLocation(view);\n\t\tthis.gridview.maximizeView(location);\n\t}\n\n\texitMaximizedView(): void {\n\t\tthis.gridview.exitMaximizedView();\n\t}\n\n\t/**\n\t * Expand the size of a {@link IView view} by collapsing all other views\n\t * to their minimum sizes.\n\t *\n\t * @param view The {@link IView view}.\n\t */\n\texpandView(view: T): void {\n\t\tconst location = this.getViewLocation(view);\n\t\tthis.gridview.expandView(location);\n\t}\n\n\t/**\n\t * Distribute the size among all {@link IView views} within the entire\n\t * grid or within a single {@link SplitView}.\n\t */\n\tdistributeViewSizes(): void {\n\t\tthis.gridview.distributeViewSizes();\n\t}\n\n\t/**\n\t * Returns whether a {@link IView view} is visible.\n\t *\n\t * @param view The {@link IView view}.\n\t */\n\tisViewVisible(view: T): boolean {\n\t\tconst location = this.getViewLocation(view);\n\t\treturn this.gridview.isViewVisible(location);\n\t}\n\n\t/**\n\t * Set the visibility state of a {@link IView view}.\n\t *\n\t * @param view The {@link IView view}.\n\t */\n\tsetViewVisible(view: T, visible: boolean): void {\n\t\tconst location = this.getViewLocation(view);\n\t\tthis.gridview.setViewVisible(location, visible);\n\t}\n\n\t/**\n\t * Returns a descriptor for the entire grid.\n\t */\n\tgetViews(): GridBranchNode<T> {\n\t\treturn this.gridview.getView() as GridBranchNode<T>;\n\t}\n\n\t/**\n\t * Utility method to return the collection all views which intersect\n\t * a view's edge.\n\t *\n\t * @param view The {@link IView view}.\n\t * @param direction Which direction edge to be considered.\n\t * @param wrap Whether the grid wraps around (from right to left, from bottom to top).\n\t */\n\tgetNeighborViews(view: T, direction: Direction, wrap: boolean = false): T[] {\n\t\tif (!this.didLayout) {\n\t\t\tthrow new Error('Can\\'t call getNeighborViews before first layout');\n\t\t}\n\n\t\tconst location = this.getViewLocation(view);\n\t\tconst root = this.getViews();\n\t\tconst node = getGridNode(root, location);\n\t\tlet boundary = getBoxBoundary(node.box, direction);\n\n\t\tif (wrap) {\n\t\t\tif (direction === Direction.Up && node.box.top === 0) {\n\t\t\t\tboundary = { offset: root.box.top + root.box.height, range: boundary.range };\n\t\t\t} else if (direction === Direction.Right && node.box.left + node.box.width === root.box.width) {\n\t\t\t\tboundary = { offset: 0, range: boundary.range };\n\t\t\t} else if (direction === Direction.Down && node.box.top + node.box.height === root.box.height) {\n\t\t\t\tboundary = { offset: 0, range: boundary.range };\n\t\t\t} else if (direction === Direction.Left && node.box.left === 0) {\n\t\t\t\tboundary = { offset: root.box.left + root.box.width, range: boundary.range };\n\t\t\t}\n\t\t}\n\n\t\treturn findAdjacentBoxLeafNodes(root, oppositeDirection(direction), boundary)\n\t\t\t.map(node => node.view);\n\t}\n\n\tprivate getViewLocation(view: T): GridLocation {\n\t\tconst element = this.views.get(view);\n\n\t\tif (!element) {\n\t\t\tthrow new Error('View not found');\n\t\t}\n\n\t\treturn getGridLocation(element);\n\t}\n\n\tprivate onDidSashReset(location: GridLocation): void {\n\t\tconst resizeToPreferredSize = (location: GridLocation): boolean => {\n\t\t\tconst node = this.gridview.getView(location) as GridNode<T>;\n\n\t\t\tif (isGridBranchNode(node)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst direction = getLocationOrientation(this.orientation, location);\n\t\t\tconst size = direction === Orientation.HORIZONTAL ? node.view.preferredWidth : node.view.preferredHeight;\n\n\t\t\tif (typeof size !== 'number') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst viewSize = direction === Orientation.HORIZONTAL ? { width: Math.round(size) } : { height: Math.round(size) };\n\t\t\tthis.gridview.resizeView(location, viewSize);\n\t\t\treturn true;\n\t\t};\n\n\t\tif (resizeToPreferredSize(location)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [parentLocation, index] = tail(location);\n\n\t\tif (resizeToPreferredSize([...parentLocation, index + 1])) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.gridview.distributeViewSizes(parentLocation);\n\t}\n}\n\nexport interface ISerializableView extends IView {\n\ttoJSON(): object;\n}\n\nexport interface IViewDeserializer<T extends ISerializableView> {\n\tfromJSON(json: any): T;\n}\n\nexport interface ISerializedLeafNode {\n\ttype: 'leaf';\n\tdata: unknown;\n\tsize: number;\n\tvisible?: boolean;\n\tmaximized?: boolean;\n}\n\nexport interface ISerializedBranchNode {\n\ttype: 'branch';\n\tdata: ISerializedNode[];\n\tsize: number;\n\tvisible?: boolean;\n}\n\nexport type ISerializedNode = ISerializedLeafNode | ISerializedBranchNode;\n\nexport interface ISerializedGrid {\n\troot: ISerializedNode;\n\torientation: Orientation;\n\twidth: number;\n\theight: number;\n}\n\n/**\n * A {@link Grid} which can serialize itself.\n */\nexport class SerializableGrid<T extends ISerializableView> extends Grid<T> {\n\n\tprivate static serializeNode<T extends ISerializableView>(node: GridNode<T>, orientation: Orientation): ISerializedNode {\n\t\tconst size = orientation === Orientation.VERTICAL ? node.box.width : node.box.height;\n\n\t\tif (!isGridBranchNode(node)) {\n\t\t\tconst serializedLeafNode: ISerializedLeafNode = { type: 'leaf', data: node.view.toJSON(), size };\n\n\t\t\tif (typeof node.cachedVisibleSize === 'number') {\n\t\t\t\tserializedLeafNode.size = node.cachedVisibleSize;\n\t\t\t\tserializedLeafNode.visible = false;\n\t\t\t} else if (node.maximized) {\n\t\t\t\tserializedLeafNode.maximized = true;\n\t\t\t}\n\n\t\t\treturn serializedLeafNode;\n\t\t}\n\n\t\tconst data = node.children.map(c => SerializableGrid.serializeNode(c, orthogonal(orientation)));\n\t\tif (data.some(c => c.visible !== false)) {\n\t\t\treturn { type: 'branch', data: data, size };\n\t\t}\n\t\treturn { type: 'branch', data: data, size, visible: false };\n\t}\n\n\t/**\n\t * Construct a new {@link SerializableGrid} from a JSON object.\n\t *\n\t * @param json The JSON object.\n\t * @param deserializer A deserializer which can revive each view.\n\t * @returns A new {@link SerializableGrid} instance.\n\t */\n\tstatic deserialize<T extends ISerializableView>(json: ISerializedGrid, deserializer: IViewDeserializer<T>, options: IGridOptions = {}): SerializableGrid<T> {\n\t\tif (typeof json.orientation !== 'number') {\n\t\t\tthrow new Error('Invalid JSON: \\'orientation\\' property must be a number.');\n\t\t} else if (typeof json.width !== 'number') {\n\t\t\tthrow new Error('Invalid JSON: \\'width\\' property must be a number.');\n\t\t} else if (typeof json.height !== 'number') {\n\t\t\tthrow new Error('Invalid JSON: \\'height\\' property must be a number.');\n\t\t}\n\n\t\tconst gridview = GridView.deserialize(json, deserializer, options);\n\t\tconst result = new SerializableGrid<T>(gridview, options);\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Construct a new {@link SerializableGrid} from a grid descriptor.\n\t *\n\t * @param gridDescriptor A grid descriptor in which leaf nodes point to actual views.\n\t * @returns A new {@link SerializableGrid} instance.\n\t */\n\tstatic from<T extends ISerializableView>(gridDescriptor: GridDescriptor<T>, options: IGridOptions = {}): SerializableGrid<T> {\n\t\treturn SerializableGrid.deserialize(createSerializedGrid(gridDescriptor), { fromJSON: view => view }, options);\n\t}\n\n\t/**\n\t * Useful information in order to proportionally restore view sizes\n\t * upon the very first layout call.\n\t */\n\tprivate initialLayoutContext: boolean = true;\n\n\t/**\n\t * Serialize this grid into a JSON object.\n\t */\n\tserialize(): ISerializedGrid {\n\t\treturn {\n\t\t\troot: SerializableGrid.serializeNode(this.getViews(), this.orientation),\n\t\t\torientation: this.orientation,\n\t\t\twidth: this.width,\n\t\t\theight: this.height\n\t\t};\n\t}\n\n\toverride layout(width: number, height: number, top: number = 0, left: number = 0): void {\n\t\tsuper.layout(width, height, top, left);\n\n\t\tif (this.initialLayoutContext) {\n\t\t\tthis.initialLayoutContext = false;\n\t\t\tthis.gridview.trySet2x2();\n\t\t}\n\t}\n}\n\nexport type GridLeafNodeDescriptor<T> = { size?: number; data?: any };\nexport type GridBranchNodeDescriptor<T> = { size?: number; groups: GridNodeDescriptor<T>[] };\nexport type GridNodeDescriptor<T> = GridBranchNodeDescriptor<T> | GridLeafNodeDescriptor<T>;\nexport type GridDescriptor<T> = { orientation: Orientation } & GridBranchNodeDescriptor<T>;\n\nfunction isGridBranchNodeDescriptor<T>(nodeDescriptor: GridNodeDescriptor<T>): nodeDescriptor is GridBranchNodeDescriptor<T> {\n\treturn !!(nodeDescriptor as GridBranchNodeDescriptor<T>).groups;\n}\n\nexport function sanitizeGridNodeDescriptor<T>(nodeDescriptor: GridNodeDescriptor<T>, rootNode: boolean): void {\n\t// eslint-disable-next-line local/code-no-any-casts\n\tif (!rootNode && (nodeDescriptor as any).groups && (nodeDescriptor as any).groups.length <= 1) {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t(nodeDescriptor as any).groups = undefined;\n\t}\n\n\tif (!isGridBranchNodeDescriptor(nodeDescriptor)) {\n\t\treturn;\n\t}\n\n\tlet totalDefinedSize = 0;\n\tlet totalDefinedSizeCount = 0;\n\n\tfor (const child of nodeDescriptor.groups) {\n\t\tsanitizeGridNodeDescriptor(child, false);\n\n\t\tif (child.size) {\n\t\t\ttotalDefinedSize += child.size;\n\t\t\ttotalDefinedSizeCount++;\n\t\t}\n\t}\n\n\tconst totalUndefinedSize = totalDefinedSizeCount > 0 ? totalDefinedSize : 1;\n\tconst totalUndefinedSizeCount = nodeDescriptor.groups.length - totalDefinedSizeCount;\n\tconst eachUndefinedSize = totalUndefinedSize / totalUndefinedSizeCount;\n\n\tfor (const child of nodeDescriptor.groups) {\n\t\tif (!child.size) {\n\t\t\tchild.size = eachUndefinedSize;\n\t\t}\n\t}\n}\n\nfunction createSerializedNode<T>(nodeDescriptor: GridNodeDescriptor<T>): ISerializedNode {\n\tif (isGridBranchNodeDescriptor(nodeDescriptor)) {\n\t\treturn { type: 'branch', data: nodeDescriptor.groups.map(c => createSerializedNode(c)), size: nodeDescriptor.size! };\n\t} else {\n\t\treturn { type: 'leaf', data: nodeDescriptor.data, size: nodeDescriptor.size! };\n\t}\n}\n\nfunction getDimensions(node: ISerializedNode, orientation: Orientation): { width?: number; height?: number } {\n\tif (node.type === 'branch') {\n\t\tconst childrenDimensions = node.data.map(c => getDimensions(c, orthogonal(orientation)));\n\n\t\tif (orientation === Orientation.VERTICAL) {\n\t\t\tconst width = node.size || (childrenDimensions.length === 0 ? undefined : Math.max(...childrenDimensions.map(d => d.width || 0)));\n\t\t\tconst height = childrenDimensions.length === 0 ? undefined : childrenDimensions.reduce((r, d) => r + (d.height || 0), 0);\n\t\t\treturn { width, height };\n\t\t} else {\n\t\t\tconst width = childrenDimensions.length === 0 ? undefined : childrenDimensions.reduce((r, d) => r + (d.width || 0), 0);\n\t\t\tconst height = node.size || (childrenDimensions.length === 0 ? undefined : Math.max(...childrenDimensions.map(d => d.height || 0)));\n\t\t\treturn { width, height };\n\t\t}\n\t} else {\n\t\tconst width = orientation === Orientation.VERTICAL ? node.size : undefined;\n\t\tconst height = orientation === Orientation.VERTICAL ? undefined : node.size;\n\t\treturn { width, height };\n\t}\n}\n\n/**\n * Creates a new JSON object from a {@link GridDescriptor}, which can\n * be deserialized by {@link SerializableGrid.deserialize}.\n */\nexport function createSerializedGrid<T>(gridDescriptor: GridDescriptor<T>): ISerializedGrid {\n\tsanitizeGridNodeDescriptor(gridDescriptor, true);\n\n\tconst root = createSerializedNode(gridDescriptor);\n\tconst { width, height } = getDimensions(root, gridDescriptor.orientation);\n\n\treturn {\n\t\troot,\n\t\torientation: gridDescriptor.orientation,\n\t\twidth: width || 1,\n\t\theight: height || 1\n\t};\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}