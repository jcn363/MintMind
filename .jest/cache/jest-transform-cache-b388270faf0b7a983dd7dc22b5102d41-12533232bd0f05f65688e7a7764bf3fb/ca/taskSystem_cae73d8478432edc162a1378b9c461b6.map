{"version":3,"names":["cov_tsjbldmh9","actualCoverage","VerifiedTask","task","resolver","trigger","resolvedVariables","systemInfo","workspaceFolder","shellLaunchConfig","constructor","f","s","verify","verified","b","undefined","getVerifiedTask","Error","TaskError","severity","message","code","Triggers","shortcut","command","reconnect"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/tasks/common/taskSystem.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../base/common/uri.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { TerminateResponse } from '../../../../base/common/processes.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Platform } from '../../../../base/common/platform.js';\nimport { IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { Task, ITaskEvent, KeyedTaskIdentifier } from './tasks.js';\nimport { ConfigurationTarget } from '../../../../platform/configuration/common/configuration.js';\n\nimport { IShellLaunchConfig } from '../../../../platform/terminal/common/terminal.js';\nimport { IMarkerData } from '../../../../platform/markers/common/markers.js';\nimport type { SingleOrMany } from '../../../../base/common/types.js';\n\nexport const enum TaskErrors {\n\tNotConfigured,\n\tRunningTask,\n\tNoBuildTask,\n\tNoTestTask,\n\tConfigValidationError,\n\tTaskNotFound,\n\tNoValidTaskRunner,\n\tUnknownError\n}\n\nexport class VerifiedTask {\n\treadonly task: Task;\n\treadonly resolver: ITaskResolver;\n\treadonly trigger: string;\n\tresolvedVariables?: IResolvedVariables;\n\tsystemInfo?: ITaskSystemInfo;\n\tworkspaceFolder?: IWorkspaceFolder;\n\tshellLaunchConfig?: IShellLaunchConfig;\n\n\tconstructor(task: Task, resolver: ITaskResolver, trigger: string) {\n\t\tthis.task = task;\n\t\tthis.resolver = resolver;\n\t\tthis.trigger = trigger;\n\t}\n\n\tpublic verify(): boolean {\n\t\tlet verified = false;\n\t\tif (this.trigger && this.resolvedVariables && this.workspaceFolder && (this.shellLaunchConfig !== undefined)) {\n\t\t\tverified = true;\n\t\t}\n\t\treturn verified;\n\t}\n\n\tpublic getVerifiedTask(): { task: Task; resolver: ITaskResolver; trigger: string; resolvedVariables: IResolvedVariables; systemInfo: ITaskSystemInfo; workspaceFolder: IWorkspaceFolder; shellLaunchConfig: IShellLaunchConfig } {\n\t\tif (this.verify()) {\n\t\t\treturn { task: this.task, resolver: this.resolver, trigger: this.trigger, resolvedVariables: this.resolvedVariables!, systemInfo: this.systemInfo!, workspaceFolder: this.workspaceFolder!, shellLaunchConfig: this.shellLaunchConfig! };\n\t\t} else {\n\t\t\tthrow new Error('VerifiedTask was not checked. verify must be checked before getVerifiedTask.');\n\t\t}\n\t}\n}\n\nexport class TaskError {\n\tpublic severity: Severity;\n\tpublic message: string;\n\tpublic code: TaskErrors;\n\n\tconstructor(severity: Severity, message: string, code: TaskErrors) {\n\t\tthis.severity = severity;\n\t\tthis.message = message;\n\t\tthis.code = code;\n\t}\n}\n\nexport namespace Triggers {\n\texport const shortcut: string = 'shortcut';\n\texport const command: string = 'command';\n\texport const reconnect: string = 'reconnect';\n}\n\nexport interface ITaskSummary {\n\t/**\n\t * Exit code of the process.\n\t */\n\texitCode?: number;\n}\n\nexport const enum TaskExecuteKind {\n\tStarted = 1,\n\tActive = 2\n}\n\nexport interface ITaskExecuteResult {\n\tkind: TaskExecuteKind;\n\tpromise: Promise<ITaskSummary>;\n\ttask: Task;\n\tstarted?: {\n\t\trestartOnFileChanges?: string;\n\t};\n\tactive?: {\n\t\tsame: boolean;\n\t\tbackground: boolean;\n\t};\n}\n\nexport interface ITaskResolver {\n\tresolve(uri: URI | string, identifier: string | KeyedTaskIdentifier | undefined): Promise<Task | undefined>;\n}\n\nexport interface ITaskTerminateResponse extends TerminateResponse {\n\ttask: Task | undefined;\n}\n\nexport interface IResolveSet {\n\tprocess?: {\n\t\tname: string;\n\t\tcwd?: string;\n\t\tpath?: string;\n\t};\n\tvariables: Set<string>;\n}\n\nexport interface IResolvedVariables {\n\tprocess?: string;\n\tvariables: Map<string, string>;\n}\n\nexport interface ITaskSystemInfo {\n\tplatform: Platform;\n\tcontext: any;\n\turiProvider: (this: void, path: string) => URI;\n\tresolveVariables(workspaceFolder: IWorkspaceFolder, toResolve: IResolveSet, target: ConfigurationTarget): Promise<IResolvedVariables | undefined>;\n\tfindExecutable(command: string, cwd?: string, paths?: string[]): Promise<string | undefined>;\n}\n\nexport interface ITaskSystemInfoResolver {\n\t(workspaceFolder: IWorkspaceFolder | undefined): ITaskSystemInfo | undefined;\n}\n\nexport interface ITaskSystem {\n\treadonly onDidStateChange: Event<ITaskEvent>;\n\treconnect(task: Task, resolver: ITaskResolver): ITaskExecuteResult;\n\trun(task: Task, resolver: ITaskResolver): ITaskExecuteResult;\n\trerun(): ITaskExecuteResult | undefined;\n\tisActive(): Promise<boolean>;\n\tisActiveSync(): boolean;\n\tgetActiveTasks(): Task[];\n\tgetLastInstance(task: Task): Task | undefined;\n\tgetBusyTasks(): Task[];\n\tcanAutoTerminate(): boolean;\n\tterminate(task: Task): Promise<ITaskTerminateResponse>;\n\tterminateAll(): Promise<ITaskTerminateResponse[]>;\n\trevealTask(task: Task): boolean;\n\tcustomExecutionComplete(task: Task, result: number): Promise<void>;\n\tisTaskVisible(task: Task): boolean;\n\tgetTaskForTerminal(instanceId: number): Task | undefined;\n\tgetTerminalsForTasks(tasks: SingleOrMany<Task>): URI[] | undefined;\n\tgetTaskProblems(instanceId: number): Map<string, { resources: URI[]; markers: IMarkerData[] }> | undefined;\n\tgetFirstInstance(task: Task): Task | undefined;\n\tget lastTask(): VerifiedTask | undefined;\n\tset lastTask(task: VerifiedTask);\n}\n"],"mappings":"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","ignoreList":[]}