{"version":3,"names":["cov_y1qk31n8r","actualCoverage","nls","ISnippetsService","IQuickInputService","Codicon","ThemeIcon","Event","DisposableStore","pickSnippet","accessor","languageIdOrSnippets","f","snippetService","s","get","quickInputService","snippets","Array","isArray","b","getSnippets","includeDisabledSnippets","includeNoPrefixSnippets","sort","a","snippetSource","makeSnippetPicks","result","prevSnippet","snippet","pick","label","prefix","name","detail","description","body","source","localize","push","type","isEnabled","buttons","iconClass","asClassName","eyeClosed","tooltip","eye","disposables","picker","add","createQuickPick","useSeparators","placeholder","matchOnDetail","ignoreFocusOut","keepScrollPosition","onDidTriggerItemButton","ctx","item","updateEnablement","items","length","validationMessage","show","Promise","race","toPromise","onDidAccept","onDidHide","selectedItems","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/snippetPicker.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { ISnippetsService } from './snippets.js';\nimport { Snippet, SnippetSource } from './snippetsFile.js';\nimport { IQuickPickItem, IQuickInputService, QuickPickInput } from '../../../../platform/quickinput/common/quickInput.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\n\nexport async function pickSnippet(accessor: ServicesAccessor, languageIdOrSnippets: string | Snippet[]): Promise<Snippet | undefined> {\n\n\tconst snippetService = accessor.get(ISnippetsService);\n\tconst quickInputService = accessor.get(IQuickInputService);\n\n\tinterface ISnippetPick extends IQuickPickItem {\n\t\tsnippet: Snippet;\n\t}\n\n\tlet snippets: Snippet[];\n\tif (Array.isArray(languageIdOrSnippets)) {\n\t\tsnippets = languageIdOrSnippets;\n\t} else {\n\t\tsnippets = (await snippetService.getSnippets(languageIdOrSnippets, { includeDisabledSnippets: true, includeNoPrefixSnippets: true }));\n\t}\n\n\tsnippets.sort((a, b) => a.snippetSource - b.snippetSource);\n\n\tconst makeSnippetPicks = () => {\n\t\tconst result: QuickPickInput<ISnippetPick>[] = [];\n\t\tlet prevSnippet: Snippet | undefined;\n\t\tfor (const snippet of snippets) {\n\t\t\tconst pick: ISnippetPick = {\n\t\t\t\tlabel: snippet.prefix || snippet.name,\n\t\t\t\tdetail: snippet.description || snippet.body,\n\t\t\t\tsnippet\n\t\t\t};\n\t\t\tif (!prevSnippet || prevSnippet.snippetSource !== snippet.snippetSource || prevSnippet.source !== snippet.source) {\n\t\t\t\tlet label = '';\n\t\t\t\tswitch (snippet.snippetSource) {\n\t\t\t\t\tcase SnippetSource.User:\n\t\t\t\t\t\tlabel = nls.localize('sep.userSnippet', \"User Snippets\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase SnippetSource.Extension:\n\t\t\t\t\t\tlabel = snippet.source;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase SnippetSource.Workspace:\n\t\t\t\t\t\tlabel = nls.localize('sep.workspaceSnippet', \"Workspace Snippets\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push({ type: 'separator', label });\n\t\t\t}\n\n\t\t\tif (snippet.snippetSource === SnippetSource.Extension) {\n\t\t\t\tconst isEnabled = snippetService.isEnabled(snippet);\n\t\t\t\tif (isEnabled) {\n\t\t\t\t\tpick.buttons = [{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(Codicon.eyeClosed),\n\t\t\t\t\t\ttooltip: nls.localize('disableSnippet', 'Hide from IntelliSense')\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tpick.description = nls.localize('isDisabled', \"(hidden from IntelliSense)\");\n\t\t\t\t\tpick.buttons = [{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(Codicon.eye),\n\t\t\t\t\t\ttooltip: nls.localize('enable.snippet', 'Show in IntelliSense')\n\t\t\t\t\t}];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(pick);\n\t\t\tprevSnippet = snippet;\n\t\t}\n\t\treturn result;\n\t};\n\n\tconst disposables = new DisposableStore();\n\tconst picker = disposables.add(quickInputService.createQuickPick<ISnippetPick>({ useSeparators: true }));\n\tpicker.placeholder = nls.localize('pick.placeholder', \"Select a snippet\");\n\tpicker.matchOnDetail = true;\n\tpicker.ignoreFocusOut = false;\n\tpicker.keepScrollPosition = true;\n\tdisposables.add(picker.onDidTriggerItemButton(ctx => {\n\t\tconst isEnabled = snippetService.isEnabled(ctx.item.snippet);\n\t\tsnippetService.updateEnablement(ctx.item.snippet, !isEnabled);\n\t\tpicker.items = makeSnippetPicks();\n\t}));\n\tpicker.items = makeSnippetPicks();\n\tif (!picker.items.length) {\n\t\tpicker.validationMessage = nls.localize('pick.noSnippetAvailable', \"No snippet available\");\n\t}\n\tpicker.show();\n\n\t// wait for an item to be picked or the picker to become hidden\n\tawait Promise.race([Event.toPromise(picker.onDidAccept), Event.toPromise(picker.onDidHide)]);\n\tconst result = picker.selectedItems[0]?.snippet;\n\tdisposables.dispose();\n\treturn result;\n}\n"],"mappings":"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","ignoreList":[]}