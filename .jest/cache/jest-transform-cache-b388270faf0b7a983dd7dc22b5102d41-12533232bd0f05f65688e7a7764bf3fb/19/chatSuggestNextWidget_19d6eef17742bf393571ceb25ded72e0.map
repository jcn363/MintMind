{"version":3,"names":["cov_c4gqflzu6","actualCoverage","dom","Emitter","Disposable","localize","ChatSuggestNextWidget","domNode","_onDidChangeHeight","s","_register","onDidChangeHeight","event","_onDidSelectPrompt","onDidSelectPrompt","promptsContainer","titleElement","_currentMode","constructor","f","createSuggestNextWidget","height","style","display","b","offsetHeight","getCurrentMode","container","$","append","render","mode","handoffs","handOffs","get","length","hide","modeName","name","label","textContent","childrenToRemove","i","children","push","child","removeChild","handoff","promptButton","createPromptButton","appendChild","fire","button","setAttribute","addDisposableListener","e","key","preventDefault","undefined"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatSuggestNextWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { IChatMode } from '../../common/chatModes.js';\nimport { IHandOff } from '../../common/promptSyntax/promptFileParser.js';\n\nexport interface INextPromptSelection {\n\treadonly handoff: IHandOff;\n}\n\nexport class ChatSuggestNextWidget extends Disposable {\n\tpublic readonly domNode: HTMLElement;\n\n\tprivate readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight: Event<void> = this._onDidChangeHeight.event;\n\n\tprivate readonly _onDidSelectPrompt = this._register(new Emitter<INextPromptSelection>());\n\tpublic readonly onDidSelectPrompt: Event<INextPromptSelection> = this._onDidSelectPrompt.event;\n\n\tprivate promptsContainer!: HTMLElement;\n\tprivate titleElement!: HTMLElement;\n\tprivate _currentMode: IChatMode | undefined;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.domNode = this.createSuggestNextWidget();\n\t}\n\n\tpublic get height(): number {\n\t\treturn this.domNode.style.display === 'none' ? 0 : this.domNode.offsetHeight;\n\t}\n\n\tpublic getCurrentMode(): IChatMode | undefined {\n\t\treturn this._currentMode;\n\t}\n\n\tprivate createSuggestNextWidget(): HTMLElement {\n\t\t// Reuse welcome view classes for consistent styling\n\t\tconst container = dom.$('.chat-suggest-next-widget.chat-welcome-view-suggested-prompts');\n\t\tcontainer.style.display = 'none';\n\n\t\t// Title element using welcome view class\n\t\tthis.titleElement = dom.append(container, dom.$('.chat-welcome-view-suggested-prompts-title'));\n\n\t\t// Container for prompt buttons\n\t\tthis.promptsContainer = container;\n\n\t\treturn container;\n\t}\n\n\tpublic render(mode: IChatMode): void {\n\t\tconst handoffs = mode.handOffs?.get();\n\n\t\tif (!handoffs || handoffs.length === 0) {\n\t\t\tthis.hide();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentMode = mode;\n\n\t\t// Update title with mode name: \"Proceed from {Mode}\"\n\t\tconst modeName = mode.name.get() || mode.label.get() || localize('chat.currentMode', 'current mode');\n\t\tthis.titleElement.textContent = localize('chat.proceedFrom', 'Proceed from {0}', modeName);\n\n\t\t// Clear existing prompt buttons (keep title which is first child)\n\t\tconst childrenToRemove: HTMLElement[] = [];\n\t\tfor (let i = 1; i < this.promptsContainer.children.length; i++) {\n\t\t\tchildrenToRemove.push(this.promptsContainer.children[i] as HTMLElement);\n\t\t}\n\t\tfor (const child of childrenToRemove) {\n\t\t\tthis.promptsContainer.removeChild(child);\n\t\t}\n\n\t\t// Create prompt buttons using welcome view classes\n\t\tfor (const handoff of handoffs) {\n\t\t\tconst promptButton = this.createPromptButton(handoff);\n\t\t\tthis.promptsContainer.appendChild(promptButton);\n\t\t}\n\n\t\tthis.domNode.style.display = 'flex';\n\t\tthis._onDidChangeHeight.fire();\n\t}\n\n\tprivate createPromptButton(handoff: IHandOff): HTMLElement {\n\t\t// Reuse welcome view prompt button class\n\t\tconst button = dom.$('.chat-welcome-view-suggested-prompt');\n\t\tbutton.setAttribute('tabindex', '0');\n\t\tbutton.setAttribute('role', 'button');\n\t\tbutton.setAttribute('aria-label', localize('chat.suggestNext.item', '{0}', handoff.label));\n\n\t\t// Title element using welcome view class\n\t\tconst titleElement = dom.append(button, dom.$('.chat-welcome-view-suggested-prompt-title'));\n\t\ttitleElement.textContent = handoff.label;\n\n\t\t// Click handler\n\t\tthis._register(dom.addDisposableListener(button, 'click', () => {\n\t\t\tthis._onDidSelectPrompt.fire({ handoff });\n\t\t}));\n\n\t\t// Keyboard handler\n\t\tthis._register(dom.addDisposableListener(button, 'keydown', (e) => {\n\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidSelectPrompt.fire({ handoff });\n\t\t\t}\n\t\t}));\n\n\t\treturn button;\n\t}\n\n\tpublic hide(): void {\n\t\tif (this.domNode.style.display !== 'none') {\n\t\t\tthis._currentMode = undefined;\n\t\t\tthis.domNode.style.display = 'none';\n\t\t\tthis._onDidChangeHeight.fire();\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0BS;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AA1BT;;;;AAKA,OAAO,KAAKE,GAAG,MAAM,oCAAoC;AACzD,SAASC,OAAO,QAAe,qCAAqC;AACpE,SAASC,UAAU,QAAQ,yCAAyC;AACpE,SAASC,QAAQ,QAAQ,uBAAuB;AAQhD,OAAM,MAAOC,qBAAsB,SAAQF,UAAU;EACpCG,OAAO;EAENC,kBAAkB;EAAA;EAAA,CAAAR,aAAA,GAAAS,CAAA,OAAG,IAAI,CAACC,SAAS,CAAC,IAAIP,OAAO,EAAQ,CAAC;EACzDQ,iBAAiB;EAAA;EAAA,CAAAX,aAAA,GAAAS,CAAA,OAAgB,IAAI,CAACD,kBAAkB,CAACI,KAAK;EAE7DC,kBAAkB;EAAA;EAAA,CAAAb,aAAA,GAAAS,CAAA,OAAG,IAAI,CAACC,SAAS,CAAC,IAAIP,OAAO,EAAwB,CAAC;EACzEW,iBAAiB;EAAA;EAAA,CAAAd,aAAA,GAAAS,CAAA,OAAgC,IAAI,CAACI,kBAAkB,CAACD,KAAK;EAEtFG,gBAAgB;EAChBC,YAAY;EACZC,YAAY;EAEpBC,YAAA;IAAA;IAAAlB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAS,CAAA;IACC,KAAK,EAAE;IAAC;IAAAT,aAAA,GAAAS,CAAA;IACR,IAAI,CAACF,OAAO,GAAG,IAAI,CAACa,uBAAuB,EAAE;EAC9C;EAEA,IAAWC,MAAMA,CAAA;IAAA;IAAArB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAS,CAAA;IAChB,OAAO,IAAI,CAACF,OAAO,CAACe,KAAK,CAACC,OAAO,KAAK,MAAM;IAAA;IAAA,CAAAvB,aAAA,GAAAwB,CAAA,UAAG,CAAC;IAAA;IAAA,CAAAxB,aAAA,GAAAwB,CAAA,UAAG,IAAI,CAACjB,OAAO,CAACkB,YAAY;EAC7E;EAEOC,cAAcA,CAAA;IAAA;IAAA1B,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAS,CAAA;IACpB,OAAO,IAAI,CAACQ,YAAY;EACzB;EAEQG,uBAAuBA,CAAA;IAAA;IAAApB,aAAA,GAAAmB,CAAA;IAC9B;IACA,MAAMQ,SAAS;IAAA;IAAA,CAAA3B,aAAA,GAAAS,CAAA,OAAGP,GAAG,CAAC0B,CAAC,CAAC,+DAA+D,CAAC;IAAC;IAAA5B,aAAA,GAAAS,CAAA;IACzFkB,SAAS,CAACL,KAAK,CAACC,OAAO,GAAG,MAAM;IAEhC;IAAA;IAAAvB,aAAA,GAAAS,CAAA;IACA,IAAI,CAACO,YAAY,GAAGd,GAAG,CAAC2B,MAAM,CAACF,SAAS,EAAEzB,GAAG,CAAC0B,CAAC,CAAC,4CAA4C,CAAC,CAAC;IAE9F;IAAA;IAAA5B,aAAA,GAAAS,CAAA;IACA,IAAI,CAACM,gBAAgB,GAAGY,SAAS;IAAC;IAAA3B,aAAA,GAAAS,CAAA;IAElC,OAAOkB,SAAS;EACjB;EAEOG,MAAMA,CAACC,IAAe;IAAA;IAAA/B,aAAA,GAAAmB,CAAA;IAC5B,MAAMa,QAAQ;IAAA;IAAA,CAAAhC,aAAA,GAAAS,CAAA,QAAGsB,IAAI,CAACE,QAAQ,EAAEC,GAAG,EAAE;IAAC;IAAAlC,aAAA,GAAAS,CAAA;IAEtC;IAAI;IAAA,CAAAT,aAAA,GAAAwB,CAAA,WAACQ,QAAQ;IAAA;IAAA,CAAAhC,aAAA,GAAAwB,CAAA,UAAIQ,QAAQ,CAACG,MAAM,KAAK,CAAC,GAAE;MAAA;MAAAnC,aAAA,GAAAwB,CAAA;MAAAxB,aAAA,GAAAS,CAAA;MACvC,IAAI,CAAC2B,IAAI,EAAE;MAAC;MAAApC,aAAA,GAAAS,CAAA;MACZ;IACD,CAAC;IAAA;IAAA;MAAAT,aAAA,GAAAwB,CAAA;IAAA;IAAAxB,aAAA,GAAAS,CAAA;IAED,IAAI,CAACQ,YAAY,GAAGc,IAAI;IAExB;IACA,MAAMM,QAAQ;IAAA;IAAA,CAAArC,aAAA,GAAAS,CAAA;IAAG;IAAA,CAAAT,aAAA,GAAAwB,CAAA,UAAAO,IAAI,CAACO,IAAI,CAACJ,GAAG,EAAE;IAAA;IAAA,CAAAlC,aAAA,GAAAwB,CAAA,UAAIO,IAAI,CAACQ,KAAK,CAACL,GAAG,EAAE;IAAA;IAAA,CAAAlC,aAAA,GAAAwB,CAAA,UAAInB,QAAQ,CAAC,kBAAkB,EAAE,cAAc,CAAC;IAAC;IAAAL,aAAA,GAAAS,CAAA;IACrG,IAAI,CAACO,YAAY,CAACwB,WAAW,GAAGnC,QAAQ,CAAC,kBAAkB,EAAE,kBAAkB,EAAEgC,QAAQ,CAAC;IAE1F;IACA,MAAMI,gBAAgB;IAAA;IAAA,CAAAzC,aAAA,GAAAS,CAAA,QAAkB,EAAE;IAAC;IAAAT,aAAA,GAAAS,CAAA;IAC3C,KAAK,IAAIiC,CAAC;IAAA;IAAA,CAAA1C,aAAA,GAAAS,CAAA,QAAG,CAAC,GAAEiC,CAAC,GAAG,IAAI,CAAC3B,gBAAgB,CAAC4B,QAAQ,CAACR,MAAM,EAAEO,CAAC,EAAE,EAAE;MAAA;MAAA1C,aAAA,GAAAS,CAAA;MAC/DgC,gBAAgB,CAACG,IAAI,CAAC,IAAI,CAAC7B,gBAAgB,CAAC4B,QAAQ,CAACD,CAAC,CAAgB,CAAC;IACxE;IAAC;IAAA1C,aAAA,GAAAS,CAAA;IACD,KAAK,MAAMoC,KAAK,IAAIJ,gBAAgB,EAAE;MAAA;MAAAzC,aAAA,GAAAS,CAAA;MACrC,IAAI,CAACM,gBAAgB,CAAC+B,WAAW,CAACD,KAAK,CAAC;IACzC;IAEA;IAAA;IAAA7C,aAAA,GAAAS,CAAA;IACA,KAAK,MAAMsC,OAAO,IAAIf,QAAQ,EAAE;MAC/B,MAAMgB,YAAY;MAAA;MAAA,CAAAhD,aAAA,GAAAS,CAAA,QAAG,IAAI,CAACwC,kBAAkB,CAACF,OAAO,CAAC;MAAC;MAAA/C,aAAA,GAAAS,CAAA;MACtD,IAAI,CAACM,gBAAgB,CAACmC,WAAW,CAACF,YAAY,CAAC;IAChD;IAAC;IAAAhD,aAAA,GAAAS,CAAA;IAED,IAAI,CAACF,OAAO,CAACe,KAAK,CAACC,OAAO,GAAG,MAAM;IAAC;IAAAvB,aAAA,GAAAS,CAAA;IACpC,IAAI,CAACD,kBAAkB,CAAC2C,IAAI,EAAE;EAC/B;EAEQF,kBAAkBA,CAACF,OAAiB;IAAA;IAAA/C,aAAA,GAAAmB,CAAA;IAC3C;IACA,MAAMiC,MAAM;IAAA;IAAA,CAAApD,aAAA,GAAAS,CAAA,QAAGP,GAAG,CAAC0B,CAAC,CAAC,qCAAqC,CAAC;IAAC;IAAA5B,aAAA,GAAAS,CAAA;IAC5D2C,MAAM,CAACC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;IAAC;IAAArD,aAAA,GAAAS,CAAA;IACrC2C,MAAM,CAACC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;IAAC;IAAArD,aAAA,GAAAS,CAAA;IACtC2C,MAAM,CAACC,YAAY,CAAC,YAAY,EAAEhD,QAAQ,CAAC,uBAAuB,EAAE,KAAK,EAAE0C,OAAO,CAACR,KAAK,CAAC,CAAC;IAE1F;IACA,MAAMvB,YAAY;IAAA;IAAA,CAAAhB,aAAA,GAAAS,CAAA,QAAGP,GAAG,CAAC2B,MAAM,CAACuB,MAAM,EAAElD,GAAG,CAAC0B,CAAC,CAAC,2CAA2C,CAAC,CAAC;IAAC;IAAA5B,aAAA,GAAAS,CAAA;IAC5FO,YAAY,CAACwB,WAAW,GAAGO,OAAO,CAACR,KAAK;IAExC;IAAA;IAAAvC,aAAA,GAAAS,CAAA;IACA,IAAI,CAACC,SAAS,CAACR,GAAG,CAACoD,qBAAqB,CAACF,MAAM,EAAE,OAAO,EAAE,MAAK;MAAA;MAAApD,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAS,CAAA;MAC9D,IAAI,CAACI,kBAAkB,CAACsC,IAAI,CAAC;QAAEJ;MAAO,CAAE,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH;IAAA;IAAA/C,aAAA,GAAAS,CAAA;IACA,IAAI,CAACC,SAAS,CAACR,GAAG,CAACoD,qBAAqB,CAACF,MAAM,EAAE,SAAS,EAAGG,CAAC,IAAI;MAAA;MAAAvD,aAAA,GAAAmB,CAAA;MAAAnB,aAAA,GAAAS,CAAA;MACjE;MAAI;MAAA,CAAAT,aAAA,GAAAwB,CAAA,UAAA+B,CAAC,CAACC,GAAG,KAAK,OAAO;MAAA;MAAA,CAAAxD,aAAA,GAAAwB,CAAA,UAAI+B,CAAC,CAACC,GAAG,KAAK,GAAG,GAAE;QAAA;QAAAxD,aAAA,GAAAwB,CAAA;QAAAxB,aAAA,GAAAS,CAAA;QACvC8C,CAAC,CAACE,cAAc,EAAE;QAAC;QAAAzD,aAAA,GAAAS,CAAA;QACnB,IAAI,CAACI,kBAAkB,CAACsC,IAAI,CAAC;UAAEJ;QAAO,CAAE,CAAC;MAC1C,CAAC;MAAA;MAAA;QAAA/C,aAAA,GAAAwB,CAAA;MAAA;IACF,CAAC,CAAC,CAAC;IAAC;IAAAxB,aAAA,GAAAS,CAAA;IAEJ,OAAO2C,MAAM;EACd;EAEOhB,IAAIA,CAAA;IAAA;IAAApC,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAS,CAAA;IACV,IAAI,IAAI,CAACF,OAAO,CAACe,KAAK,CAACC,OAAO,KAAK,MAAM,EAAE;MAAA;MAAAvB,aAAA,GAAAwB,CAAA;MAAAxB,aAAA,GAAAS,CAAA;MAC1C,IAAI,CAACQ,YAAY,GAAGyC,SAAS;MAAC;MAAA1D,aAAA,GAAAS,CAAA;MAC9B,IAAI,CAACF,OAAO,CAACe,KAAK,CAACC,OAAO,GAAG,MAAM;MAAC;MAAAvB,aAAA,GAAAS,CAAA;MACpC,IAAI,CAACD,kBAAkB,CAAC2C,IAAI,EAAE;IAC/B,CAAC;IAAA;IAAA;MAAAnD,aAAA,GAAAwB,CAAA;IAAA;EACF","ignoreList":[]}