{"version":3,"names":["cov_13n83ugl03","actualCoverage","VSBuffer","Event","IPCClient","Protocol","ElectronProtocol","ipcRenderer","Client","protocol","createProtocol","f","onMessage","s","fromNodeEventEmitter","_","message","wrap","send","constructor","id","dispose","disconnect"],"sources":["/home/user/Desktop/MintMind/src/vs/base/parts/ipc/electron-browser/ipc.electron.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { VSBuffer } from '../../../common/buffer.js';\nimport { Event } from '../../../common/event.js';\nimport { IDisposable } from '../../../common/lifecycle.js';\nimport { IPCClient } from '../common/ipc.js';\nimport { Protocol as ElectronProtocol } from '../common/ipc.electron.js';\nimport { ipcRenderer } from '../../sandbox/electron-browser/globals.js';\n\n/**\n * An implementation of `IPCClient` on top of Electron `ipcRenderer` IPC communication\n * provided from sandbox globals (via preload script).\n */\nexport class Client extends IPCClient implements IDisposable {\n\n\tprivate protocol: ElectronProtocol;\n\n\tprivate static createProtocol(): ElectronProtocol {\n\t\tconst onMessage = Event.fromNodeEventEmitter<VSBuffer>(ipcRenderer, 'vscode:message', (_, message) => VSBuffer.wrap(message));\n\t\tipcRenderer.send('vscode:hello');\n\n\t\treturn new ElectronProtocol(ipcRenderer, onMessage);\n\t}\n\n\tconstructor(id: string) {\n\t\tconst protocol = Client.createProtocol();\n\t\tsuper(protocol, id);\n\n\t\tthis.protocol = protocol;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.protocol.disconnect();\n\t\tsuper.dispose();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAoBgB;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AApBhB;;;;AAKA,SAASE,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,KAAK,QAAQ,0BAA0B;AAEhD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,QAAQ,IAAIC,gBAAgB,QAAQ,2BAA2B;AACxE,SAASC,WAAW,QAAQ,2CAA2C;AAEvE;;;;AAIA,OAAM,MAAOC,MAAO,SAAQJ,SAAS;EAE5BK,QAAQ;EAER,OAAOC,cAAcA,CAAA;IAAA;IAAAV,cAAA,GAAAW,CAAA;IAC5B,MAAMC,SAAS;IAAA;IAAA,CAAAZ,cAAA,GAAAa,CAAA,OAAGV,KAAK,CAACW,oBAAoB,CAAWP,WAAW,EAAE,gBAAgB,EAAE,CAACQ,CAAC,EAAEC,OAAO,KAAK;MAAA;MAAAhB,cAAA,GAAAW,CAAA;MAAAX,cAAA,GAAAa,CAAA;MAAA,OAAAX,QAAQ,CAACe,IAAI,CAACD,OAAO,CAAC;IAAD,CAAC,CAAC;IAAC;IAAAhB,cAAA,GAAAa,CAAA;IAC9HN,WAAW,CAACW,IAAI,CAAC,cAAc,CAAC;IAAC;IAAAlB,cAAA,GAAAa,CAAA;IAEjC,OAAO,IAAIP,gBAAgB,CAACC,WAAW,EAAEK,SAAS,CAAC;EACpD;EAEAO,YAAYC,EAAU;IAAA;IAAApB,cAAA,GAAAW,CAAA;IACrB,MAAMF,QAAQ;IAAA;IAAA,CAAAT,cAAA,GAAAa,CAAA,OAAGL,MAAM,CAACE,cAAc,EAAE;IAAC;IAAAV,cAAA,GAAAa,CAAA;IACzC,KAAK,CAACJ,QAAQ,EAAEW,EAAE,CAAC;IAAC;IAAApB,cAAA,GAAAa,CAAA;IAEpB,IAAI,CAACJ,QAAQ,GAAGA,QAAQ;EACzB;EAESY,OAAOA,CAAA;IAAA;IAAArB,cAAA,GAAAW,CAAA;IAAAX,cAAA,GAAAa,CAAA;IACf,IAAI,CAACJ,QAAQ,CAACa,UAAU,EAAE;IAAC;IAAAtB,cAAA,GAAAa,CAAA;IAC3B,KAAK,CAACQ,OAAO,EAAE;EAChB","ignoreList":[]}