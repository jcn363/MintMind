{"version":3,"names":["cov_2jdkj1t1x","actualCoverage","DOM","StandardKeyboardEvent","ActionViewItem","BaseActionViewItem","createInstantHoverDelegate","ActionRunner","Separator","Emitter","Disposable","DisposableMap","DisposableStore","dispose","types","ActionBar","options","_hoverDelegate","_actionRunner","_actionRunnerDisposables","s","_register","_context","_orientation","_triggerKeys","viewItems","viewItemDisposables","previouslyFocusedItem","focusedItem","focusTracker","triggerKeyDown","focusable","domNode","actionsList","_onDidBlur","onDidBlur","f","event","_onDidCancel","onWillAddFirstListener","cancelHasListener","onDidCancel","_onDidRun","onDidRun","_onWillRun","onWillRun","constructor","container","b","context","orientation","keyDown","triggerKeys","keys","hoverDelegate","actionRunner","add","e","fire","undefined","document","createElement","className","previousKeys","nextKeys","addDisposableListener","EventType","KEY_DOWN","eventHandled","equals","focusPrevious","focusNext","focusFirst","focusLast","trapsArrowNavigation","isTriggerKeyEvent","doTrigger","preventDefault","stopPropagation","KEY_UP","updateFocusedItem","trackFocus","getActiveElement","isAncestor","onDidFocus","highlightToggledItems","classList","setAttribute","ariaRole","ariaLabel","appendChild","refreshRole","length","setAriaLabel","label","removeAttribute","setFocusable","firstEnabled","find","vi","isEnabled","forEach","ret","keyCode","i","children","elem","showHover","setActionContext","clear","item","getContainer","hasAction","action","findIndex","candidate","id","getAction","indexOrElement","isHTMLElement","parentElement","childNodes","push","arg","actions","Array","isArray","index","isNumber","actionViewItemElement","viewItemOptions","isTabList","actionViewItemProvider","allowContextMenu","set","CONTEXT_MENU","EventHelper","stop","render","insertBefore","splice","didFocus","focus","ID","focusOnlyEnabledItems","getWidth","clientWidth","getHeight","clientHeight","pull","remove","deleteAndDispose","isEmpty","clearAndDisposeAll","clearNode","selectFirst","updateFocus","forceLoop","forceFocus","startIndex","preventLoopNavigation","fromRight","preventScroll","blur","actionViewItem","focusItem","isFunction","run","_action","prepareActions","firstIndexOfAction","slice","h","isSeparator","foundAction","k"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/ui/actionbar/actionbar.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, IActionViewItemOptions } from './actionViewItems.js';\nimport { createInstantHoverDelegate } from '../hover/hoverDelegateFactory.js';\nimport { IHoverDelegate } from '../hover/hoverDelegate.js';\nimport { ActionRunner, IAction, IActionRunner, IRunEvent, Separator } from '../../../common/actions.js';\nimport { Emitter } from '../../../common/event.js';\nimport { KeyCode, KeyMod } from '../../../common/keyCodes.js';\nimport { Disposable, DisposableMap, DisposableStore, dispose, IDisposable } from '../../../common/lifecycle.js';\nimport * as types from '../../../common/types.js';\nimport './actionbar.css';\n\nexport interface IActionViewItem extends IDisposable {\n\taction: IAction;\n\tactionRunner: IActionRunner;\n\tsetActionContext(context: unknown): void;\n\trender(element: HTMLElement): void;\n\tisEnabled(): boolean;\n\tfocus(fromRight?: boolean): void; // TODO@isidorn what is this?\n\tblur(): void;\n\tshowHover?(): void;\n}\n\nexport interface IActionViewItemProvider {\n\t(action: IAction, options: IActionViewItemOptions): IActionViewItem | undefined;\n}\n\nexport const enum ActionsOrientation {\n\tHORIZONTAL,\n\tVERTICAL,\n}\n\nexport interface ActionTrigger {\n\tkeys?: KeyCode[];\n\tkeyDown: boolean;\n}\n\nexport interface IActionBarOptions {\n\treadonly orientation?: ActionsOrientation;\n\treadonly context?: unknown;\n\treadonly actionViewItemProvider?: IActionViewItemProvider;\n\treadonly actionRunner?: IActionRunner;\n\treadonly ariaLabel?: string;\n\treadonly ariaRole?: string;\n\treadonly triggerKeys?: ActionTrigger;\n\treadonly allowContextMenu?: boolean;\n\treadonly preventLoopNavigation?: boolean;\n\treadonly focusOnlyEnabledItems?: boolean;\n\treadonly hoverDelegate?: IHoverDelegate;\n\t/**\n\t * If true, toggled primary items are highlighted with a background color.\n\t * Some action bars exclusively use icon states, we don't want to enable this for them.\n\t * Thus, this is opt-in.\n\t */\n\treadonly highlightToggledItems?: boolean;\n}\n\nexport interface IActionOptions extends IActionViewItemOptions {\n\tindex?: number;\n}\n\nexport class ActionBar extends Disposable implements IActionRunner {\n\n\tprivate readonly options: IActionBarOptions;\n\tprivate readonly _hoverDelegate: IHoverDelegate;\n\n\tprivate _actionRunner: IActionRunner;\n\tprivate readonly _actionRunnerDisposables = this._register(new DisposableStore());\n\tprivate _context: unknown;\n\tprivate readonly _orientation: ActionsOrientation;\n\tprivate readonly _triggerKeys: {\n\t\tkeys: KeyCode[];\n\t\tkeyDown: boolean;\n\t};\n\n\t// View Items\n\tviewItems: IActionViewItem[];\n\tprivate readonly viewItemDisposables = this._register(new DisposableMap<IActionViewItem>());\n\tprivate previouslyFocusedItem?: number;\n\tprotected focusedItem?: number;\n\tprivate focusTracker: DOM.IFocusTracker;\n\n\t// Trigger Key Tracking\n\tprivate triggerKeyDown: boolean = false;\n\n\tprivate focusable: boolean = true;\n\n\t// Elements\n\tdomNode: HTMLElement;\n\tprotected readonly actionsList: HTMLElement;\n\n\tprivate readonly _onDidBlur = this._register(new Emitter<void>());\n\tget onDidBlur() { return this._onDidBlur.event; }\n\n\tprivate readonly _onDidCancel = this._register(new Emitter<void>({ onWillAddFirstListener: () => this.cancelHasListener = true }));\n\tget onDidCancel() { return this._onDidCancel.event; }\n\tprivate cancelHasListener = false;\n\n\tprivate readonly _onDidRun = this._register(new Emitter<IRunEvent>());\n\tget onDidRun() { return this._onDidRun.event; }\n\n\tprivate readonly _onWillRun = this._register(new Emitter<IRunEvent>());\n\tget onWillRun() { return this._onWillRun.event; }\n\n\tconstructor(container: HTMLElement, options: IActionBarOptions = {}) {\n\t\tsuper();\n\n\t\tthis.options = options;\n\t\tthis._context = options.context ?? null;\n\t\tthis._orientation = this.options.orientation ?? ActionsOrientation.HORIZONTAL;\n\t\tthis._triggerKeys = {\n\t\t\tkeyDown: this.options.triggerKeys?.keyDown ?? false,\n\t\t\tkeys: this.options.triggerKeys?.keys ?? [KeyCode.Enter, KeyCode.Space]\n\t\t};\n\n\t\tthis._hoverDelegate = options.hoverDelegate ?? this._register(createInstantHoverDelegate());\n\n\t\tif (this.options.actionRunner) {\n\t\t\tthis._actionRunner = this.options.actionRunner;\n\t\t} else {\n\t\t\tthis._actionRunner = new ActionRunner();\n\t\t\tthis._actionRunnerDisposables.add(this._actionRunner);\n\t\t}\n\n\t\tthis._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n\t\tthis._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n\n\t\tthis.viewItems = [];\n\t\tthis.focusedItem = undefined;\n\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.className = 'monaco-action-bar';\n\n\t\tlet previousKeys: KeyCode[];\n\t\tlet nextKeys: KeyCode[];\n\n\t\tswitch (this._orientation) {\n\t\t\tcase ActionsOrientation.HORIZONTAL:\n\t\t\t\tpreviousKeys = [KeyCode.LeftArrow];\n\t\t\t\tnextKeys = [KeyCode.RightArrow];\n\t\t\t\tbreak;\n\t\t\tcase ActionsOrientation.VERTICAL:\n\t\t\t\tpreviousKeys = [KeyCode.UpArrow];\n\t\t\t\tnextKeys = [KeyCode.DownArrow];\n\t\t\t\tthis.domNode.className += ' vertical';\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tlet eventHandled = true;\n\t\t\tconst focusedItem = typeof this.focusedItem === 'number' ? this.viewItems[this.focusedItem] : undefined;\n\n\t\t\tif (previousKeys && (event.equals(previousKeys[0]) || event.equals(previousKeys[1]))) {\n\t\t\t\teventHandled = this.focusPrevious();\n\t\t\t} else if (nextKeys && (event.equals(nextKeys[0]) || event.equals(nextKeys[1]))) {\n\t\t\t\teventHandled = this.focusNext();\n\t\t\t} else if (event.equals(KeyCode.Escape) && this.cancelHasListener) {\n\t\t\t\tthis._onDidCancel.fire();\n\t\t\t} else if (event.equals(KeyCode.Home)) {\n\t\t\t\teventHandled = this.focusFirst();\n\t\t\t} else if (event.equals(KeyCode.End)) {\n\t\t\t\teventHandled = this.focusLast();\n\t\t\t} else if (event.equals(KeyCode.Tab) && focusedItem instanceof BaseActionViewItem && focusedItem.trapsArrowNavigation) {\n\t\t\t\t// Tab, so forcibly focus next #219199\n\t\t\t\teventHandled = this.focusNext(undefined, true);\n\t\t\t} else if (this.isTriggerKeyEvent(event)) {\n\t\t\t\t// Staying out of the else branch even if not triggered\n\t\t\t\tif (this._triggerKeys.keyDown) {\n\t\t\t\t\tthis.doTrigger(event);\n\t\t\t\t} else {\n\t\t\t\t\tthis.triggerKeyDown = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\teventHandled = false;\n\t\t\t}\n\n\t\t\tif (eventHandled) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\n\t\t\t// Run action on Enter/Space\n\t\t\tif (this.isTriggerKeyEvent(event)) {\n\t\t\t\tif (!this._triggerKeys.keyDown && this.triggerKeyDown) {\n\t\t\t\t\tthis.triggerKeyDown = false;\n\t\t\t\t\tthis.doTrigger(event);\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\n\t\t\t// Recompute focused item\n\t\t\telse if (event.equals(KeyCode.Tab) || event.equals(KeyMod.Shift | KeyCode.Tab) || event.equals(KeyCode.UpArrow) || event.equals(KeyCode.DownArrow) || event.equals(KeyCode.LeftArrow) || event.equals(KeyCode.RightArrow)) {\n\t\t\t\tthis.updateFocusedItem();\n\t\t\t}\n\t\t}));\n\n\t\tthis.focusTracker = this._register(DOM.trackFocus(this.domNode));\n\t\tthis._register(this.focusTracker.onDidBlur(() => {\n\t\t\tif (DOM.getActiveElement() === this.domNode || !DOM.isAncestor(DOM.getActiveElement(), this.domNode)) {\n\t\t\t\tthis._onDidBlur.fire();\n\t\t\t\tthis.previouslyFocusedItem = this.focusedItem;\n\t\t\t\tthis.focusedItem = undefined;\n\t\t\t\tthis.triggerKeyDown = false;\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));\n\n\t\tthis.actionsList = document.createElement('ul');\n\t\tthis.actionsList.className = 'actions-container';\n\t\tif (this.options.highlightToggledItems) {\n\t\t\tthis.actionsList.classList.add('highlight-toggled');\n\t\t}\n\t\tthis.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n\n\t\tif (this.options.ariaLabel) {\n\t\t\tthis.actionsList.setAttribute('aria-label', this.options.ariaLabel);\n\t\t}\n\n\t\tthis.domNode.appendChild(this.actionsList);\n\n\t\tcontainer.appendChild(this.domNode);\n\t}\n\n\tprivate refreshRole(): void {\n\t\tif (this.length() >= 1) {\n\t\t\tthis.actionsList.setAttribute('role', this.options.ariaRole || 'toolbar');\n\t\t} else {\n\t\t\tthis.actionsList.setAttribute('role', 'presentation');\n\t\t}\n\t}\n\n\tsetAriaLabel(label: string): void {\n\t\tif (label) {\n\t\t\tthis.actionsList.setAttribute('aria-label', label);\n\t\t} else {\n\t\t\tthis.actionsList.removeAttribute('aria-label');\n\t\t}\n\t}\n\n\t// Some action bars should not be focusable at times\n\t// When an action bar is not focusable make sure to make all the elements inside it not focusable\n\t// When an action bar is focusable again, make sure the first item can be focused\n\tsetFocusable(focusable: boolean): void {\n\t\tthis.focusable = focusable;\n\t\tif (this.focusable) {\n\t\t\tconst firstEnabled = this.viewItems.find(vi => vi instanceof BaseActionViewItem && vi.isEnabled());\n\t\t\tif (firstEnabled instanceof BaseActionViewItem) {\n\t\t\t\tfirstEnabled.setFocusable(true);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.viewItems.forEach(vi => {\n\t\t\t\tif (vi instanceof BaseActionViewItem) {\n\t\t\t\t\tvi.setFocusable(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate isTriggerKeyEvent(event: StandardKeyboardEvent): boolean {\n\t\tlet ret = false;\n\t\tthis._triggerKeys.keys.forEach(keyCode => {\n\t\t\tret = ret || event.equals(keyCode);\n\t\t});\n\n\t\treturn ret;\n\t}\n\n\tprivate updateFocusedItem(): void {\n\t\tfor (let i = 0; i < this.actionsList.children.length; i++) {\n\t\t\tconst elem = this.actionsList.children[i];\n\t\t\tif (DOM.isAncestor(DOM.getActiveElement(), elem)) {\n\t\t\t\tthis.focusedItem = i;\n\t\t\t\tthis.viewItems[this.focusedItem]?.showHover?.();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tget context(): unknown {\n\t\treturn this._context;\n\t}\n\n\tset context(context: unknown) {\n\t\tthis._context = context;\n\t\tthis.viewItems.forEach(i => i.setActionContext(context));\n\t}\n\n\tget actionRunner(): IActionRunner {\n\t\treturn this._actionRunner;\n\t}\n\n\tset actionRunner(actionRunner: IActionRunner) {\n\t\tthis._actionRunner = actionRunner;\n\n\t\t// when setting a new `IActionRunner` make sure to dispose old listeners and\n\t\t// start to forward events from the new listener\n\t\tthis._actionRunnerDisposables.clear();\n\t\tthis._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));\n\t\tthis._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));\n\t\tthis.viewItems.forEach(item => item.actionRunner = actionRunner);\n\t}\n\n\tgetContainer(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\thasAction(action: IAction): boolean {\n\t\treturn this.viewItems.findIndex(candidate => candidate.action.id === action.id) !== -1;\n\t}\n\n\tgetAction(indexOrElement: number | HTMLElement): IAction | undefined {\n\n\t\t// by index\n\t\tif (typeof indexOrElement === 'number') {\n\t\t\treturn this.viewItems[indexOrElement]?.action;\n\t\t}\n\n\t\t// by element\n\t\tif (DOM.isHTMLElement(indexOrElement)) {\n\t\t\twhile (indexOrElement.parentElement !== this.actionsList) {\n\t\t\t\tif (!indexOrElement.parentElement) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tindexOrElement = indexOrElement.parentElement;\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.actionsList.childNodes.length; i++) {\n\t\t\t\tif (this.actionsList.childNodes[i] === indexOrElement) {\n\t\t\t\t\treturn this.viewItems[i].action;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tpush(arg: IAction | ReadonlyArray<IAction>, options: IActionOptions = {}): void {\n\t\tconst actions: ReadonlyArray<IAction> = Array.isArray(arg) ? arg : [arg];\n\n\t\tlet index = types.isNumber(options.index) ? options.index : null;\n\n\t\tactions.forEach((action: IAction) => {\n\t\t\tconst actionViewItemElement = document.createElement('li');\n\t\t\tactionViewItemElement.className = 'action-item';\n\t\t\tactionViewItemElement.setAttribute('role', 'presentation');\n\n\t\t\tlet item: IActionViewItem | undefined;\n\n\t\t\tconst viewItemOptions: IActionViewItemOptions = { hoverDelegate: this._hoverDelegate, ...options, isTabList: this.options.ariaRole === 'tablist' };\n\t\t\tif (this.options.actionViewItemProvider) {\n\t\t\t\titem = this.options.actionViewItemProvider(action, viewItemOptions);\n\t\t\t}\n\n\t\t\tif (!item) {\n\t\t\t\titem = new ActionViewItem(this.context, action, viewItemOptions);\n\t\t\t}\n\n\t\t\t// Prevent native context menu on actions\n\t\t\tif (!this.options.allowContextMenu) {\n\t\t\t\tthis.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, (e: DOM.EventLike) => {\n\t\t\t\t\tDOM.EventHelper.stop(e, true);\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\titem.actionRunner = this._actionRunner;\n\t\t\titem.setActionContext(this.context);\n\t\t\titem.render(actionViewItemElement);\n\n\t\t\tif (index === null || index < 0 || index >= this.actionsList.children.length) {\n\t\t\t\tthis.actionsList.appendChild(actionViewItemElement);\n\t\t\t\tthis.viewItems.push(item);\n\t\t\t} else {\n\t\t\t\tthis.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]);\n\t\t\t\tthis.viewItems.splice(index, 0, item);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\n\t\t// We need to allow for the first enabled item to be focused on using tab navigation #106441\n\t\tif (this.focusable) {\n\t\t\tlet didFocus = false;\n\t\t\tfor (const item of this.viewItems) {\n\t\t\t\tif (!(item instanceof BaseActionViewItem)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet focus: boolean;\n\t\t\t\tif (didFocus) {\n\t\t\t\t\tfocus = false; // already focused an item\n\t\t\t\t} else if (item.action.id === Separator.ID) {\n\t\t\t\t\tfocus = false; // never focus a separator\n\t\t\t\t} else if (!item.isEnabled() && this.options.focusOnlyEnabledItems) {\n\t\t\t\t\tfocus = false; // never focus a disabled item\n\t\t\t\t} else {\n\t\t\t\t\tfocus = true;\n\t\t\t\t}\n\n\t\t\t\tif (focus) {\n\t\t\t\t\titem.setFocusable(true);\n\t\t\t\t\tdidFocus = true;\n\t\t\t\t} else {\n\t\t\t\t\titem.setFocusable(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (typeof this.focusedItem === 'number') {\n\t\t\t// After a clear actions might be re-added to simply toggle some actions. We should preserve focus #97128\n\t\t\tthis.focus(this.focusedItem);\n\t\t}\n\t\tthis.refreshRole();\n\t}\n\n\tgetWidth(index: number): number {\n\t\tif (index >= 0 && index < this.actionsList.children.length) {\n\t\t\tconst item = this.actionsList.children.item(index);\n\t\t\tif (item) {\n\t\t\t\treturn item.clientWidth;\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tgetHeight(index: number): number {\n\t\tif (index >= 0 && index < this.actionsList.children.length) {\n\t\t\tconst item = this.actionsList.children.item(index);\n\t\t\tif (item) {\n\t\t\t\treturn item.clientHeight;\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tpull(index: number): void {\n\t\tif (index >= 0 && index < this.viewItems.length) {\n\t\t\tthis.actionsList.childNodes[index].remove();\n\t\t\tthis.viewItemDisposables.deleteAndDispose(this.viewItems[index]);\n\t\t\tdispose(this.viewItems.splice(index, 1));\n\t\t\tthis.refreshRole();\n\t\t}\n\t}\n\n\tclear(): void {\n\t\tif (this.isEmpty()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.viewItems = dispose(this.viewItems);\n\t\tthis.viewItemDisposables.clearAndDisposeAll();\n\t\tDOM.clearNode(this.actionsList);\n\t\tthis.refreshRole();\n\t}\n\n\tlength(): number {\n\t\treturn this.viewItems.length;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this.viewItems.length === 0;\n\t}\n\n\tfocus(index?: number): void;\n\tfocus(selectFirst?: boolean): void;\n\tfocus(arg?: number | boolean): void {\n\t\tlet selectFirst: boolean = false;\n\t\tlet index: number | undefined = undefined;\n\t\tif (arg === undefined) {\n\t\t\tselectFirst = true;\n\t\t} else if (typeof arg === 'number') {\n\t\t\tindex = arg;\n\t\t} else if (typeof arg === 'boolean') {\n\t\t\tselectFirst = arg;\n\t\t}\n\n\t\tif (selectFirst && typeof this.focusedItem === 'undefined') {\n\t\t\tconst firstEnabled = this.viewItems.findIndex(item => item.isEnabled());\n\t\t\t// Focus the first enabled item\n\t\t\tthis.focusedItem = firstEnabled === -1 ? undefined : firstEnabled;\n\t\t\tthis.updateFocus(undefined, undefined, true);\n\t\t} else {\n\t\t\tif (index !== undefined) {\n\t\t\t\tthis.focusedItem = index;\n\t\t\t}\n\n\t\t\tthis.updateFocus(undefined, undefined, true);\n\t\t}\n\t}\n\n\tprivate focusFirst(): boolean {\n\t\tthis.focusedItem = this.length() - 1;\n\t\treturn this.focusNext(true);\n\t}\n\n\tprivate focusLast(): boolean {\n\t\tthis.focusedItem = 0;\n\t\treturn this.focusPrevious(true);\n\t}\n\n\tprotected focusNext(forceLoop?: boolean, forceFocus?: boolean): boolean {\n\t\tif (typeof this.focusedItem === 'undefined') {\n\t\t\tthis.focusedItem = this.viewItems.length - 1;\n\t\t} else if (this.viewItems.length <= 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst startIndex = this.focusedItem;\n\t\tlet item: IActionViewItem;\n\t\tdo {\n\n\t\t\tif (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {\n\t\t\t\tthis.focusedItem = startIndex;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focusedItem = (this.focusedItem + 1) % this.viewItems.length;\n\t\t\titem = this.viewItems[this.focusedItem];\n\t\t} while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n\n\t\tthis.updateFocus(undefined, undefined, forceFocus);\n\t\treturn true;\n\t}\n\n\tprotected focusPrevious(forceLoop?: boolean): boolean {\n\t\tif (typeof this.focusedItem === 'undefined') {\n\t\t\tthis.focusedItem = 0;\n\t\t} else if (this.viewItems.length <= 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst startIndex = this.focusedItem;\n\t\tlet item: IActionViewItem;\n\n\t\tdo {\n\t\t\tthis.focusedItem = this.focusedItem - 1;\n\t\t\tif (this.focusedItem < 0) {\n\t\t\t\tif (!forceLoop && this.options.preventLoopNavigation) {\n\t\t\t\t\tthis.focusedItem = startIndex;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.focusedItem = this.viewItems.length - 1;\n\t\t\t}\n\t\t\titem = this.viewItems[this.focusedItem];\n\t\t} while (this.focusedItem !== startIndex && ((this.options.focusOnlyEnabledItems && !item.isEnabled()) || item.action.id === Separator.ID));\n\n\n\t\tthis.updateFocus(true);\n\t\treturn true;\n\t}\n\n\tprotected updateFocus(fromRight?: boolean, preventScroll?: boolean, forceFocus: boolean = false): void {\n\t\tif (typeof this.focusedItem === 'undefined') {\n\t\t\tthis.actionsList.focus({ preventScroll });\n\t\t}\n\n\t\tif (this.previouslyFocusedItem !== undefined && this.previouslyFocusedItem !== this.focusedItem) {\n\t\t\tthis.viewItems[this.previouslyFocusedItem]?.blur();\n\t\t}\n\t\tconst actionViewItem = this.focusedItem !== undefined ? this.viewItems[this.focusedItem] : undefined;\n\t\tif (actionViewItem) {\n\t\t\tlet focusItem = true;\n\n\t\t\tif (!types.isFunction(actionViewItem.focus)) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\n\t\t\tif (this.options.focusOnlyEnabledItems && types.isFunction(actionViewItem.isEnabled) && !actionViewItem.isEnabled()) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\n\t\t\tif (actionViewItem.action.id === Separator.ID) {\n\t\t\t\tfocusItem = false;\n\t\t\t}\n\t\t\tif (!focusItem) {\n\t\t\t\tthis.actionsList.focus({ preventScroll });\n\t\t\t\tthis.previouslyFocusedItem = undefined;\n\t\t\t} else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {\n\t\t\t\tactionViewItem.focus(fromRight);\n\t\t\t\tthis.previouslyFocusedItem = this.focusedItem;\n\t\t\t}\n\t\t\tif (focusItem) {\n\t\t\t\tactionViewItem.showHover?.();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate doTrigger(event: StandardKeyboardEvent): void {\n\t\tif (typeof this.focusedItem === 'undefined') {\n\t\t\treturn; //nothing to focus\n\t\t}\n\n\t\t// trigger action\n\t\tconst actionViewItem = this.viewItems[this.focusedItem];\n\t\tif (actionViewItem instanceof BaseActionViewItem) {\n\t\t\tconst context = (actionViewItem._context === null || actionViewItem._context === undefined) ? event : actionViewItem._context;\n\t\t\tthis.run(actionViewItem._action, context);\n\t\t}\n\t}\n\n\tasync run(action: IAction, context?: unknown): Promise<void> {\n\t\tawait this._actionRunner.run(action, context);\n\t}\n\n\toverride dispose(): void {\n\t\tthis._context = undefined;\n\t\tthis.viewItems = dispose(this.viewItems);\n\t\tthis.getContainer().remove();\n\t\tsuper.dispose();\n\t}\n}\n\nexport function prepareActions(actions: IAction[]): IAction[] {\n\tif (!actions.length) {\n\t\treturn actions;\n\t}\n\n\t// Clean up leading separators\n\tlet firstIndexOfAction = -1;\n\tfor (let i = 0; i < actions.length; i++) {\n\t\tif (actions[i].id === Separator.ID) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tfirstIndexOfAction = i;\n\t\tbreak;\n\t}\n\n\tif (firstIndexOfAction === -1) {\n\t\treturn [];\n\t}\n\n\tactions = actions.slice(firstIndexOfAction);\n\n\t// Clean up trailing separators\n\tfor (let h = actions.length - 1; h >= 0; h--) {\n\t\tconst isSeparator = actions[h].id === Separator.ID;\n\t\tif (isSeparator) {\n\t\t\tactions.splice(h, 1);\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Clean up separator duplicates\n\tlet foundAction = false;\n\tfor (let k = actions.length - 1; k >= 0; k--) {\n\t\tconst isSeparator = actions[k].id === Separator.ID;\n\t\tif (isSeparator && !foundAction) {\n\t\t\tactions.splice(k, 1);\n\t\t} else if (!isSeparator) {\n\t\t\tfoundAction = true;\n\t\t} else if (isSeparator) {\n\t\t\tfoundAction = false;\n\t\t}\n\t}\n\n\treturn actions;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}