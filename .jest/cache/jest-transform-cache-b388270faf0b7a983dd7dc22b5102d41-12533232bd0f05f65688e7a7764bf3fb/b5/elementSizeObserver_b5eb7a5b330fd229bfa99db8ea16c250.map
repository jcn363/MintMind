{"version":3,"names":["cov_r5x2bzljn","actualCoverage","Disposable","Emitter","getWindow","scheduleAtNextAnimationFrame","ElementSizeObserver","_onDidChange","s","_register","onDidChange","event","_referenceDomElement","_width","_height","_resizeObserver","constructor","referenceDomElement","dimension","f","measureReferenceDomElement","dispose","stopObserving","getWidth","getHeight","startObserving","b","observedDimension","observeNow","observe","width","height","shouldObserve","alreadyObservedThisAnimationFrame","update","ResizeObserver","entries","contentRect","disconnect","emitEvent","observedWidth","observedHeight","clientWidth","clientHeight","Math","max","fire"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/config/elementSizeObserver.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IDimension } from '../../common/core/2d/dimension.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { getWindow, scheduleAtNextAnimationFrame } from '../../../base/browser/dom.js';\n\nexport class ElementSizeObserver extends Disposable {\n\n\tprivate _onDidChange = this._register(new Emitter<void>());\n\tpublic readonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tprivate readonly _referenceDomElement: HTMLElement | null;\n\tprivate _width: number;\n\tprivate _height: number;\n\tprivate _resizeObserver: ResizeObserver | null;\n\n\tconstructor(referenceDomElement: HTMLElement | null, dimension: IDimension | undefined) {\n\t\tsuper();\n\t\tthis._referenceDomElement = referenceDomElement;\n\t\tthis._width = -1;\n\t\tthis._height = -1;\n\t\tthis._resizeObserver = null;\n\t\tthis.measureReferenceDomElement(false, dimension);\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis.stopObserving();\n\t\tsuper.dispose();\n\t}\n\n\tpublic getWidth(): number {\n\t\treturn this._width;\n\t}\n\n\tpublic getHeight(): number {\n\t\treturn this._height;\n\t}\n\n\tpublic startObserving(): void {\n\t\tif (!this._resizeObserver && this._referenceDomElement) {\n\t\t\t// We want to react to the resize observer only once per animation frame\n\t\t\t// The first time the resize observer fires, we will react to it immediately.\n\t\t\t// Otherwise we will postpone to the next animation frame.\n\t\t\t// We'll use `observeContentRect` to store the content rect we received.\n\n\t\t\tlet observedDimension: IDimension | null = null;\n\t\t\tconst observeNow = () => {\n\t\t\t\tif (observedDimension) {\n\t\t\t\t\tthis.observe({ width: observedDimension.width, height: observedDimension.height });\n\t\t\t\t} else {\n\t\t\t\t\tthis.observe();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlet shouldObserve = false;\n\t\t\tlet alreadyObservedThisAnimationFrame = false;\n\n\t\t\tconst update = () => {\n\t\t\t\tif (shouldObserve && !alreadyObservedThisAnimationFrame) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tshouldObserve = false;\n\t\t\t\t\t\talreadyObservedThisAnimationFrame = true;\n\t\t\t\t\t\tobserveNow();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tscheduleAtNextAnimationFrame(getWindow(this._referenceDomElement), () => {\n\t\t\t\t\t\t\talreadyObservedThisAnimationFrame = false;\n\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis._resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\tif (entries && entries[0] && entries[0].contentRect) {\n\t\t\t\t\tobservedDimension = { width: entries[0].contentRect.width, height: entries[0].contentRect.height };\n\t\t\t\t} else {\n\t\t\t\t\tobservedDimension = null;\n\t\t\t\t}\n\t\t\t\tshouldObserve = true;\n\t\t\t\tupdate();\n\t\t\t});\n\t\t\tthis._resizeObserver.observe(this._referenceDomElement);\n\t\t}\n\t}\n\n\tpublic stopObserving(): void {\n\t\tif (this._resizeObserver) {\n\t\t\tthis._resizeObserver.disconnect();\n\t\t\tthis._resizeObserver = null;\n\t\t}\n\t}\n\n\tpublic observe(dimension?: IDimension): void {\n\t\tthis.measureReferenceDomElement(true, dimension);\n\t}\n\n\tprivate measureReferenceDomElement(emitEvent: boolean, dimension?: IDimension): void {\n\t\tlet observedWidth = 0;\n\t\tlet observedHeight = 0;\n\t\tif (dimension) {\n\t\t\tobservedWidth = dimension.width;\n\t\t\tobservedHeight = dimension.height;\n\t\t} else if (this._referenceDomElement) {\n\t\t\tobservedWidth = this._referenceDomElement.clientWidth;\n\t\t\tobservedHeight = this._referenceDomElement.clientHeight;\n\t\t}\n\t\tobservedWidth = Math.max(5, observedWidth);\n\t\tobservedHeight = Math.max(5, observedHeight);\n\t\tif (this._width !== observedWidth || this._height !== observedHeight) {\n\t\t\tthis._width = observedWidth;\n\t\t\tthis._height = observedHeight;\n\t\t\tif (emitEvent) {\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBE;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AArBF;;;;AAKA,SAASE,UAAU,QAAQ,mCAAmC;AAE9D,SAASC,OAAO,QAAe,+BAA+B;AAC9D,SAASC,SAAS,EAAEC,4BAA4B,QAAQ,8BAA8B;AAEtF,OAAM,MAAOC,mBAAoB,SAAQJ,UAAU;EAE1CK,YAAY;EAAA;EAAA,CAAAP,aAAA,GAAAQ,CAAA,OAAG,IAAI,CAACC,SAAS,CAAC,IAAIN,OAAO,EAAQ,CAAC;EAC1CO,WAAW;EAAA;EAAA,CAAAV,aAAA,GAAAQ,CAAA,OAAgB,IAAI,CAACD,YAAY,CAACI,KAAK;EAEjDC,oBAAoB;EAC7BC,MAAM;EACNC,OAAO;EACPC,eAAe;EAEvBC,YAAYC,mBAAuC,EAAEC,SAAiC;IAAA;IAAAlB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACrF,KAAK,EAAE;IAAC;IAAAR,aAAA,GAAAQ,CAAA;IACR,IAAI,CAACI,oBAAoB,GAAGK,mBAAmB;IAAC;IAAAjB,aAAA,GAAAQ,CAAA;IAChD,IAAI,CAACK,MAAM,GAAG,CAAC,CAAC;IAAC;IAAAb,aAAA,GAAAQ,CAAA;IACjB,IAAI,CAACM,OAAO,GAAG,CAAC,CAAC;IAAC;IAAAd,aAAA,GAAAQ,CAAA;IAClB,IAAI,CAACO,eAAe,GAAG,IAAI;IAAC;IAAAf,aAAA,GAAAQ,CAAA;IAC5B,IAAI,CAACY,0BAA0B,CAAC,KAAK,EAAEF,SAAS,CAAC;EAClD;EAEgBG,OAAOA,CAAA;IAAA;IAAArB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACtB,IAAI,CAACc,aAAa,EAAE;IAAC;IAAAtB,aAAA,GAAAQ,CAAA;IACrB,KAAK,CAACa,OAAO,EAAE;EAChB;EAEOE,QAAQA,CAAA;IAAA;IAAAvB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACd,OAAO,IAAI,CAACK,MAAM;EACnB;EAEOW,SAASA,CAAA;IAAA;IAAAxB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACf,OAAO,IAAI,CAACM,OAAO;EACpB;EAEOW,cAAcA,CAAA;IAAA;IAAAzB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACpB;IAAI;IAAA,CAAAR,aAAA,GAAA0B,CAAA,WAAC,IAAI,CAACX,eAAe;IAAA;IAAA,CAAAf,aAAA,GAAA0B,CAAA,UAAI,IAAI,CAACd,oBAAoB,GAAE;MAAA;MAAAZ,aAAA,GAAA0B,CAAA;MACvD;MACA;MACA;MACA;MAEA,IAAIC,iBAAiB;MAAA;MAAA,CAAA3B,aAAA,GAAAQ,CAAA,QAAsB,IAAI;MAAC;MAAAR,aAAA,GAAAQ,CAAA;MAChD,MAAMoB,UAAU,GAAGA,CAAA,KAAK;QAAA;QAAA5B,aAAA,GAAAmB,CAAA;QAAAnB,aAAA,GAAAQ,CAAA;QACvB,IAAImB,iBAAiB,EAAE;UAAA;UAAA3B,aAAA,GAAA0B,CAAA;UAAA1B,aAAA,GAAAQ,CAAA;UACtB,IAAI,CAACqB,OAAO,CAAC;YAAEC,KAAK,EAAEH,iBAAiB,CAACG,KAAK;YAAEC,MAAM,EAAEJ,iBAAiB,CAACI;UAAM,CAAE,CAAC;QACnF,CAAC,MAAM;UAAA;UAAA/B,aAAA,GAAA0B,CAAA;UAAA1B,aAAA,GAAAQ,CAAA;UACN,IAAI,CAACqB,OAAO,EAAE;QACf;MACD,CAAC;MAED,IAAIG,aAAa;MAAA;MAAA,CAAAhC,aAAA,GAAAQ,CAAA,QAAG,KAAK;MACzB,IAAIyB,iCAAiC;MAAA;MAAA,CAAAjC,aAAA,GAAAQ,CAAA,QAAG,KAAK;MAAC;MAAAR,aAAA,GAAAQ,CAAA;MAE9C,MAAM0B,MAAM,GAAGA,CAAA,KAAK;QAAA;QAAAlC,aAAA,GAAAmB,CAAA;QAAAnB,aAAA,GAAAQ,CAAA;QACnB;QAAI;QAAA,CAAAR,aAAA,GAAA0B,CAAA,UAAAM,aAAa;QAAA;QAAA,CAAAhC,aAAA,GAAA0B,CAAA,UAAI,CAACO,iCAAiC,GAAE;UAAA;UAAAjC,aAAA,GAAA0B,CAAA;UAAA1B,aAAA,GAAAQ,CAAA;UACxD,IAAI;YAAA;YAAAR,aAAA,GAAAQ,CAAA;YACHwB,aAAa,GAAG,KAAK;YAAC;YAAAhC,aAAA,GAAAQ,CAAA;YACtByB,iCAAiC,GAAG,IAAI;YAAC;YAAAjC,aAAA,GAAAQ,CAAA;YACzCoB,UAAU,EAAE;UACb,CAAC,SAAS;YAAA;YAAA5B,aAAA,GAAAQ,CAAA;YACTH,4BAA4B,CAACD,SAAS,CAAC,IAAI,CAACQ,oBAAoB,CAAC,EAAE,MAAK;cAAA;cAAAZ,aAAA,GAAAmB,CAAA;cAAAnB,aAAA,GAAAQ,CAAA;cACvEyB,iCAAiC,GAAG,KAAK;cAAC;cAAAjC,aAAA,GAAAQ,CAAA;cAC1C0B,MAAM,EAAE;YACT,CAAC,CAAC;UACH;QACD,CAAC;QAAA;QAAA;UAAAlC,aAAA,GAAA0B,CAAA;QAAA;MACF,CAAC;MAAC;MAAA1B,aAAA,GAAAQ,CAAA;MAEF,IAAI,CAACO,eAAe,GAAG,IAAIoB,cAAc,CAAEC,OAAO,IAAI;QAAA;QAAApC,aAAA,GAAAmB,CAAA;QAAAnB,aAAA,GAAAQ,CAAA;QACrD;QAAI;QAAA,CAAAR,aAAA,GAAA0B,CAAA,UAAAU,OAAO;QAAA;QAAA,CAAApC,aAAA,GAAA0B,CAAA,UAAIU,OAAO,CAAC,CAAC,CAAC;QAAA;QAAA,CAAApC,aAAA,GAAA0B,CAAA,UAAIU,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW,GAAE;UAAA;UAAArC,aAAA,GAAA0B,CAAA;UAAA1B,aAAA,GAAAQ,CAAA;UACpDmB,iBAAiB,GAAG;YAAEG,KAAK,EAAEM,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW,CAACP,KAAK;YAAEC,MAAM,EAAEK,OAAO,CAAC,CAAC,CAAC,CAACC,WAAW,CAACN;UAAM,CAAE;QACnG,CAAC,MAAM;UAAA;UAAA/B,aAAA,GAAA0B,CAAA;UAAA1B,aAAA,GAAAQ,CAAA;UACNmB,iBAAiB,GAAG,IAAI;QACzB;QAAC;QAAA3B,aAAA,GAAAQ,CAAA;QACDwB,aAAa,GAAG,IAAI;QAAC;QAAAhC,aAAA,GAAAQ,CAAA;QACrB0B,MAAM,EAAE;MACT,CAAC,CAAC;MAAC;MAAAlC,aAAA,GAAAQ,CAAA;MACH,IAAI,CAACO,eAAe,CAACc,OAAO,CAAC,IAAI,CAACjB,oBAAoB,CAAC;IACxD,CAAC;IAAA;IAAA;MAAAZ,aAAA,GAAA0B,CAAA;IAAA;EACF;EAEOJ,aAAaA,CAAA;IAAA;IAAAtB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACnB,IAAI,IAAI,CAACO,eAAe,EAAE;MAAA;MAAAf,aAAA,GAAA0B,CAAA;MAAA1B,aAAA,GAAAQ,CAAA;MACzB,IAAI,CAACO,eAAe,CAACuB,UAAU,EAAE;MAAC;MAAAtC,aAAA,GAAAQ,CAAA;MAClC,IAAI,CAACO,eAAe,GAAG,IAAI;IAC5B,CAAC;IAAA;IAAA;MAAAf,aAAA,GAAA0B,CAAA;IAAA;EACF;EAEOG,OAAOA,CAACX,SAAsB;IAAA;IAAAlB,aAAA,GAAAmB,CAAA;IAAAnB,aAAA,GAAAQ,CAAA;IACpC,IAAI,CAACY,0BAA0B,CAAC,IAAI,EAAEF,SAAS,CAAC;EACjD;EAEQE,0BAA0BA,CAACmB,SAAkB,EAAErB,SAAsB;IAAA;IAAAlB,aAAA,GAAAmB,CAAA;IAC5E,IAAIqB,aAAa;IAAA;IAAA,CAAAxC,aAAA,GAAAQ,CAAA,QAAG,CAAC;IACrB,IAAIiC,cAAc;IAAA;IAAA,CAAAzC,aAAA,GAAAQ,CAAA,QAAG,CAAC;IAAC;IAAAR,aAAA,GAAAQ,CAAA;IACvB,IAAIU,SAAS,EAAE;MAAA;MAAAlB,aAAA,GAAA0B,CAAA;MAAA1B,aAAA,GAAAQ,CAAA;MACdgC,aAAa,GAAGtB,SAAS,CAACY,KAAK;MAAC;MAAA9B,aAAA,GAAAQ,CAAA;MAChCiC,cAAc,GAAGvB,SAAS,CAACa,MAAM;IAClC,CAAC,MAAM;MAAA;MAAA/B,aAAA,GAAA0B,CAAA;MAAA1B,aAAA,GAAAQ,CAAA;MAAA,IAAI,IAAI,CAACI,oBAAoB,EAAE;QAAA;QAAAZ,aAAA,GAAA0B,CAAA;QAAA1B,aAAA,GAAAQ,CAAA;QACrCgC,aAAa,GAAG,IAAI,CAAC5B,oBAAoB,CAAC8B,WAAW;QAAC;QAAA1C,aAAA,GAAAQ,CAAA;QACtDiC,cAAc,GAAG,IAAI,CAAC7B,oBAAoB,CAAC+B,YAAY;MACxD,CAAC;MAAA;MAAA;QAAA3C,aAAA,GAAA0B,CAAA;MAAA;IAAD;IAAC;IAAA1B,aAAA,GAAAQ,CAAA;IACDgC,aAAa,GAAGI,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEL,aAAa,CAAC;IAAC;IAAAxC,aAAA,GAAAQ,CAAA;IAC3CiC,cAAc,GAAGG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEJ,cAAc,CAAC;IAAC;IAAAzC,aAAA,GAAAQ,CAAA;IAC7C;IAAI;IAAA,CAAAR,aAAA,GAAA0B,CAAA,eAAI,CAACb,MAAM,KAAK2B,aAAa;IAAA;IAAA,CAAAxC,aAAA,GAAA0B,CAAA,WAAI,IAAI,CAACZ,OAAO,KAAK2B,cAAc,GAAE;MAAA;MAAAzC,aAAA,GAAA0B,CAAA;MAAA1B,aAAA,GAAAQ,CAAA;MACrE,IAAI,CAACK,MAAM,GAAG2B,aAAa;MAAC;MAAAxC,aAAA,GAAAQ,CAAA;MAC5B,IAAI,CAACM,OAAO,GAAG2B,cAAc;MAAC;MAAAzC,aAAA,GAAAQ,CAAA;MAC9B,IAAI+B,SAAS,EAAE;QAAA;QAAAvC,aAAA,GAAA0B,CAAA;QAAA1B,aAAA,GAAAQ,CAAA;QACd,IAAI,CAACD,YAAY,CAACuC,IAAI,EAAE;MACzB,CAAC;MAAA;MAAA;QAAA9C,aAAA,GAAA0B,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAA1B,aAAA,GAAA0B,CAAA;IAAA;EACF","ignoreList":[]}