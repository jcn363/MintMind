{"version":3,"names":["cov_1vrkn06xxt","actualCoverage","posix","win32","convertLinkRangeToBuffer","lines","bufferWidth","range","startLine","f","bufferRange","s","start","x","startColumn","y","startLineNumber","end","endColumn","endLineNumber","startOffset","startWrappedLineCount","Math","ceil","min","lineLength","lineOffset","line","b","cell","getCell","width","getWidth","char","getChars","length","endOffset","endWrappedLineCount","max","chars","convertBufferRangeToViewport","viewportY","getXtermLineContent","buffer","lineStart","lineEnd","cols","maxLineLength","content","i","getLine","translateToString","getXtermRangesByAttr","bufferRangeStart","undefined","lastFgAttr","lastBgAttr","ranges","thisFgAttr","isBold","isInverse","isStrikethrough","isUnderline","thisBgAttr","isDim","isItalic","bufferRangeEnd","push","updateLinkWithRelativeCwd","capabilities","text","osPath","logService","cwd","get","getCwdForLine","trace","result","sep","includes","resolve","commonDirs","cwdPath","split","reverse","linkPath","slice","join","osPathModule","os"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/links/browser/terminalLinkHelpers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IViewportRange, IBufferRange, IBufferLine, IBuffer, IBufferCellPosition } from '@xterm/xterm';\nimport { IRange } from '../../../../../editor/common/core/range.js';\nimport { OperatingSystem } from '../../../../../base/common/platform.js';\nimport { IPath, posix, win32 } from '../../../../../base/common/path.js';\nimport { ITerminalCapabilityStore, TerminalCapability } from '../../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { ITerminalLogService } from '../../../../../platform/terminal/common/terminal.js';\n\n/**\n * Converts a possibly wrapped link's range (comprised of string indices) into a buffer range that plays nicely with xterm.js\n *\n * @param lines A single line (not the entire buffer)\n * @param bufferWidth The number of columns in the terminal\n * @param range The link range - string indices\n * @param startLine The absolute y position (on the buffer) of the line\n */\nexport function convertLinkRangeToBuffer(\n\tlines: IBufferLine[],\n\tbufferWidth: number,\n\trange: IRange,\n\tstartLine: number\n): IBufferRange {\n\tconst bufferRange: IBufferRange = {\n\t\tstart: {\n\t\t\tx: range.startColumn,\n\t\t\ty: range.startLineNumber + startLine\n\t\t},\n\t\tend: {\n\t\t\tx: range.endColumn - 1,\n\t\t\ty: range.endLineNumber + startLine\n\t\t}\n\t};\n\n\t// Shift start range right for each wide character before the link\n\tlet startOffset = 0;\n\tconst startWrappedLineCount = Math.ceil(range.startColumn / bufferWidth);\n\tfor (let y = 0; y < Math.min(startWrappedLineCount); y++) {\n\t\tconst lineLength = Math.min(bufferWidth, (range.startColumn - 1) - y * bufferWidth);\n\t\tlet lineOffset = 0;\n\t\tconst line = lines[y];\n\t\t// Sanity check for line, apparently this can happen but it's not clear under what\n\t\t// circumstances this happens. Continue on, skipping the remainder of start offset if this\n\t\t// happens to minimize impact.\n\t\tif (!line) {\n\t\t\tbreak;\n\t\t}\n\t\tfor (let x = 0; x < Math.min(bufferWidth, lineLength + lineOffset); x++) {\n\t\t\tconst cell = line.getCell(x);\n\t\t\t// This is unexpected but it means the character doesn't exist, so we shouldn't add to\n\t\t\t// the offset\n\t\t\tif (!cell) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst width = cell.getWidth();\n\t\t\tif (width === 2) {\n\t\t\t\tlineOffset++;\n\t\t\t}\n\t\t\tconst char = cell.getChars();\n\t\t\tif (char.length > 1) {\n\t\t\t\tlineOffset -= char.length - 1;\n\t\t\t}\n\t\t}\n\t\tstartOffset += lineOffset;\n\t}\n\n\t// Shift end range right for each wide character inside the link\n\tlet endOffset = 0;\n\tconst endWrappedLineCount = Math.ceil(range.endColumn / bufferWidth);\n\tfor (let y = Math.max(0, startWrappedLineCount - 1); y < endWrappedLineCount; y++) {\n\t\tconst start = (y === startWrappedLineCount - 1 ? (range.startColumn - 1 + startOffset) % bufferWidth : 0);\n\t\tconst lineLength = Math.min(bufferWidth, range.endColumn + startOffset - y * bufferWidth);\n\t\tlet lineOffset = 0;\n\t\tconst line = lines[y];\n\t\t// Sanity check for line, apparently this can happen but it's not clear under what\n\t\t// circumstances this happens. Continue on, skipping the remainder of start offset if this\n\t\t// happens to minimize impact.\n\t\tif (!line) {\n\t\t\tbreak;\n\t\t}\n\t\tfor (let x = start; x < Math.min(bufferWidth, lineLength + lineOffset); x++) {\n\t\t\tconst cell = line.getCell(x);\n\t\t\t// This is unexpected but it means the character doesn't exist, so we shouldn't add to\n\t\t\t// the offset\n\t\t\tif (!cell) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tconst width = cell.getWidth();\n\t\t\tconst chars = cell.getChars();\n\t\t\t// Offset for null cells following wide characters\n\t\t\tif (width === 2) {\n\t\t\t\tlineOffset++;\n\t\t\t}\n\t\t\t// Offset for early wrapping when the last cell in row is a wide character\n\t\t\tif (x === bufferWidth - 1 && chars === '') {\n\t\t\t\tlineOffset++;\n\t\t\t}\n\t\t\t// Offset multi-code characters like emoji\n\t\t\tif (chars.length > 1) {\n\t\t\t\tlineOffset -= chars.length - 1;\n\t\t\t}\n\t\t}\n\t\tendOffset += lineOffset;\n\t}\n\n\t// Apply the width character offsets to the result\n\tbufferRange.start.x += startOffset;\n\tbufferRange.end.x += startOffset + endOffset;\n\n\t// Convert back to wrapped lines\n\twhile (bufferRange.start.x > bufferWidth) {\n\t\tbufferRange.start.x -= bufferWidth;\n\t\tbufferRange.start.y++;\n\t}\n\twhile (bufferRange.end.x > bufferWidth) {\n\t\tbufferRange.end.x -= bufferWidth;\n\t\tbufferRange.end.y++;\n\t}\n\n\treturn bufferRange;\n}\n\nexport function convertBufferRangeToViewport(bufferRange: IBufferRange, viewportY: number): IViewportRange {\n\treturn {\n\t\tstart: {\n\t\t\tx: bufferRange.start.x - 1,\n\t\t\ty: bufferRange.start.y - viewportY - 1\n\t\t},\n\t\tend: {\n\t\t\tx: bufferRange.end.x - 1,\n\t\t\ty: bufferRange.end.y - viewportY - 1\n\t\t}\n\t};\n}\n\nexport function getXtermLineContent(buffer: IBuffer, lineStart: number, lineEnd: number, cols: number): string {\n\t// Cap the maximum number of lines generated to prevent potential performance problems. This is\n\t// more of a sanity check as the wrapped line should already be trimmed down at this point.\n\tconst maxLineLength = Math.max(2048, cols * 2);\n\tlineEnd = Math.min(lineEnd, lineStart + maxLineLength);\n\tlet content = '';\n\tfor (let i = lineStart; i <= lineEnd; i++) {\n\t\t// Make sure only 0 to cols are considered as resizing when windows mode is enabled will\n\t\t// retain buffer data outside of the terminal width as reflow is disabled.\n\t\tconst line = buffer.getLine(i);\n\t\tif (line) {\n\t\t\tcontent += line.translateToString(true, 0, cols);\n\t\t}\n\t}\n\treturn content;\n}\n\nexport function getXtermRangesByAttr(buffer: IBuffer, lineStart: number, lineEnd: number, cols: number): IBufferRange[] {\n\tlet bufferRangeStart: IBufferCellPosition | undefined = undefined;\n\tlet lastFgAttr: number = -1;\n\tlet lastBgAttr: number = -1;\n\tconst ranges: IBufferRange[] = [];\n\tfor (let y = lineStart; y <= lineEnd; y++) {\n\t\tconst line = buffer.getLine(y);\n\t\tif (!line) {\n\t\t\tcontinue;\n\t\t}\n\t\tfor (let x = 0; x < cols; x++) {\n\t\t\tconst cell = line.getCell(x);\n\t\t\tif (!cell) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// HACK: Re-construct the attributes from fg and bg, this is hacky as it relies\n\t\t\t// upon the internal buffer bit layout\n\t\t\tconst thisFgAttr = (\n\t\t\t\tcell.isBold() |\n\t\t\t\tcell.isInverse() |\n\t\t\t\tcell.isStrikethrough() |\n\t\t\t\tcell.isUnderline()\n\t\t\t);\n\t\t\tconst thisBgAttr = (\n\t\t\t\tcell.isDim() |\n\t\t\t\tcell.isItalic()\n\t\t\t);\n\t\t\tif (lastFgAttr === -1 || lastBgAttr === -1) {\n\t\t\t\tbufferRangeStart = { x, y };\n\t\t\t} else {\n\t\t\t\tif (lastFgAttr !== thisFgAttr || lastBgAttr !== thisBgAttr) {\n\t\t\t\t\t// TODO: x overflow\n\t\t\t\t\tconst bufferRangeEnd = { x, y };\n\t\t\t\t\tranges.push({\n\t\t\t\t\t\tstart: bufferRangeStart!,\n\t\t\t\t\t\tend: bufferRangeEnd\n\t\t\t\t\t});\n\t\t\t\t\tbufferRangeStart = { x, y };\n\t\t\t\t}\n\t\t\t}\n\t\t\tlastFgAttr = thisFgAttr;\n\t\t\tlastBgAttr = thisBgAttr;\n\t\t}\n\t}\n\treturn ranges;\n}\n\n\n// export function positionIsInRange(position: IBufferCellPosition, range: IBufferRange): boolean {\n// \tif (position.y < range.start.y || position.y > range.end.y) {\n// \t\treturn false;\n// \t}\n// \tif (position.y === range.start.y && position.x < range.start.x) {\n// \t\treturn false;\n// \t}\n// \tif (position.y === range.end.y && position.x > range.end.x) {\n// \t\treturn false;\n// \t}\n// \treturn true;\n// }\n\n/**\n * For shells with the CommandDetection capability, the cwd for a command relative to the line of\n * the particular link can be used to narrow down the result for an exact file match.\n */\nexport function updateLinkWithRelativeCwd(capabilities: ITerminalCapabilityStore, y: number, text: string, osPath: IPath, logService: ITerminalLogService): string[] | undefined {\n\tconst cwd = capabilities.get(TerminalCapability.CommandDetection)?.getCwdForLine(y);\n\tlogService.trace('terminalLinkHelpers#updateLinkWithRelativeCwd cwd', cwd);\n\tif (!cwd) {\n\t\treturn undefined;\n\t}\n\tconst result: string[] = [];\n\tconst sep = osPath.sep;\n\tif (!text.includes(sep)) {\n\t\tresult.push(osPath.resolve(cwd + sep + text));\n\t} else {\n\t\tlet commonDirs = 0;\n\t\tlet i = 0;\n\t\tconst cwdPath = cwd.split(sep).reverse();\n\t\tconst linkPath = text.split(sep);\n\t\t// Get all results as candidates, prioritizing the link with the most common directories.\n\t\t// For example if in the directory /home/common and the link is common/file, the result\n\t\t// should be: `['/home/common/common/file', '/home/common/file']`. The first is the most\n\t\t// likely as cwd detection is active.\n\t\twhile (i < cwdPath.length) {\n\t\t\tresult.push(osPath.resolve(cwd + sep + linkPath.slice(commonDirs).join(sep)));\n\t\t\tif (cwdPath[i] === linkPath[i]) {\n\t\t\t\tcommonDirs++;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t}\n\treturn result;\n}\n\nexport function osPathModule(os: OperatingSystem): IPath {\n\treturn os === OperatingSystem.Windows ? win32 : posix;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}