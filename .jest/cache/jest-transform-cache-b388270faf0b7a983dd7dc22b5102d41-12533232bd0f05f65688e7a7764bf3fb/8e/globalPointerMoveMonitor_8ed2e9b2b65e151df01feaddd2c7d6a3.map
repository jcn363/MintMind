{"version":3,"names":["cov_1q1fweqr6e","actualCoverage","dom","DisposableStore","toDisposable","GlobalPointerMoveMonitor","_hooks","s","_pointerMoveCallback","_onStopCallback","dispose","f","stopMonitoring","invokeStopCallback","browserEvent","isMonitoring","b","clear","onStopCallback","startMonitoring","initialElement","pointerId","initialButtons","pointerMoveCallback","eventSource","setPointerCapture","add","releasePointerCapture","err","getWindow","addDisposableListener","EventType","POINTER_MOVE","e","buttons","preventDefault","POINTER_UP"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/globalPointerMoveMonitor.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from './dom.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../common/lifecycle.js';\n\nexport interface IPointerMoveCallback {\n\t(event: PointerEvent): void;\n}\n\nexport interface IOnStopCallback {\n\t(browserEvent?: PointerEvent | KeyboardEvent): void;\n}\n\nexport class GlobalPointerMoveMonitor implements IDisposable {\n\n\tprivate readonly _hooks = new DisposableStore();\n\tprivate _pointerMoveCallback: IPointerMoveCallback | null = null;\n\tprivate _onStopCallback: IOnStopCallback | null = null;\n\n\tpublic dispose(): void {\n\t\tthis.stopMonitoring(false);\n\t\tthis._hooks.dispose();\n\t}\n\n\tpublic stopMonitoring(invokeStopCallback: boolean, browserEvent?: PointerEvent | KeyboardEvent): void {\n\t\tif (!this.isMonitoring()) {\n\t\t\t// Not monitoring\n\t\t\treturn;\n\t\t}\n\n\t\t// Unhook\n\t\tthis._hooks.clear();\n\t\tthis._pointerMoveCallback = null;\n\t\tconst onStopCallback = this._onStopCallback;\n\t\tthis._onStopCallback = null;\n\n\t\tif (invokeStopCallback && onStopCallback) {\n\t\t\tonStopCallback(browserEvent);\n\t\t}\n\t}\n\n\tpublic isMonitoring(): boolean {\n\t\treturn !!this._pointerMoveCallback;\n\t}\n\n\tpublic startMonitoring(\n\t\tinitialElement: Element,\n\t\tpointerId: number,\n\t\tinitialButtons: number,\n\t\tpointerMoveCallback: IPointerMoveCallback,\n\t\tonStopCallback: IOnStopCallback\n\t): void {\n\t\tif (this.isMonitoring()) {\n\t\t\tthis.stopMonitoring(false);\n\t\t}\n\t\tthis._pointerMoveCallback = pointerMoveCallback;\n\t\tthis._onStopCallback = onStopCallback;\n\n\t\tlet eventSource: Element | Window = initialElement;\n\n\t\ttry {\n\t\t\tinitialElement.setPointerCapture(pointerId);\n\t\t\tthis._hooks.add(toDisposable(() => {\n\t\t\t\ttry {\n\t\t\t\t\tinitialElement.releasePointerCapture(pointerId);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// See https://github.com/microsoft/vscode/issues/161731\n\t\t\t\t\t//\n\t\t\t\t\t// `releasePointerCapture` sometimes fails when being invoked with the exception:\n\t\t\t\t\t//     DOMException: Failed to execute 'releasePointerCapture' on 'Element':\n\t\t\t\t\t//     No active pointer with the given id is found.\n\t\t\t\t\t//\n\t\t\t\t\t// There's no need to do anything in case of failure\n\t\t\t\t}\n\t\t\t}));\n\t\t} catch (err) {\n\t\t\t// See https://github.com/microsoft/vscode/issues/144584\n\t\t\t// See https://github.com/microsoft/vscode/issues/146947\n\t\t\t// `setPointerCapture` sometimes fails when being invoked\n\t\t\t// from a `mousedown` listener on macOS and Windows\n\t\t\t// and it always fails on Linux with the exception:\n\t\t\t//     DOMException: Failed to execute 'setPointerCapture' on 'Element':\n\t\t\t//     No active pointer with the given id is found.\n\t\t\t// In case of failure, we bind the listeners on the window\n\t\t\teventSource = dom.getWindow(initialElement);\n\t\t}\n\n\t\tthis._hooks.add(dom.addDisposableListener(\n\t\t\teventSource,\n\t\t\tdom.EventType.POINTER_MOVE,\n\t\t\t(e) => {\n\t\t\t\tif (e.buttons !== initialButtons) {\n\t\t\t\t\t// Buttons state has changed in the meantime\n\t\t\t\t\tthis.stopMonitoring(true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._pointerMoveCallback!(e);\n\t\t\t}\n\t\t));\n\n\t\tthis._hooks.add(dom.addDisposableListener(\n\t\t\teventSource,\n\t\t\tdom.EventType.POINTER_UP,\n\t\t\t(e: PointerEvent) => this.stopMonitoring(true)\n\t\t));\n\t}\n}\n"],"mappings":"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","ignoreList":[]}