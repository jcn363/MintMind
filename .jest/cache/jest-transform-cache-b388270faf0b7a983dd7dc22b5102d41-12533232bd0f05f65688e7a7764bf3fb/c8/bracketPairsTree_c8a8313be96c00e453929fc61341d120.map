{"version":3,"names":["cov_cw237sjfq","actualCoverage","Emitter","Disposable","BracketInfo","BracketPairWithMinIndentationInfo","TextEditInfo","LanguageAgnosticBracketTokens","lengthAdd","lengthGreaterThanEqual","lengthLessThan","lengthLessThanEqual","lengthsToRange","lengthZero","positionToLength","toLength","parseDocument","DenseKeyProvider","FastTokenizer","TextBufferTokenizer","CallbackIterable","combineTextEditInfos","BracketPairsTree","textModel","getLanguageConfiguration","didChangeEmitter","initialAstWithoutTokens","astWithTokens","denseKeyProvider","brackets","didLanguageChange","languageId","f","s","onDidChange","queuedTextEditsForInitialAstWithoutTokens","queuedTextEdits","constructor","event","tokenization","hasTokens","b","getSingleLanguageBracketTokens","getLanguageId","tokenizer","getValue","undefined","backgroundTokenizationState","parseDocumentFromTextBuffer","handleDidChangeBackgroundTokenizationState","wasUndefined","fire","handleDidChangeTokens","ranges","edits","map","r","fromLineNumber","toLineNumber","handleEdits","handleContentChanged","change","fromModelContentChanges","changes","tokenChange","result","flushQueue","length","previousAst","immutable","isPure","previousAstClone","deepClone","getBracketsInRange","range","onlyColorizedBrackets","startOffset","startLineNumber","startColumn","endOffset","endLineNumber","endColumn","cb","node","collectBrackets","Map","getBracketPairsInRange","includeMinIndentation","startLength","getStartPosition","endLength","getEndPosition","context","CollectBracketPairsContext","collectBracketPairs","getFirstBracketAfter","position","getFirstBracketBefore","nodeOffsetStart","nodeOffsetEnd","kind","lengths","child","children","push","i","bracketInfo","level","nestingLevelOfEqualBracketType","levelPerBracketType","parentPairIsIncomplete","whileLoop","childCount","childrenLength","getChild","childEndsAfterEnd","shouldContinue","colorize","closingBracket","closesColorized","openingBracket","levelPerBracket","existing","get","text","set","openingBracketEnd","minIndentation","computeMinIndentation","curOffset","childOffset"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { Range } from '../../../core/range.js';\nimport { ITextModel } from '../../../model.js';\nimport { BracketInfo, BracketPairWithMinIndentationInfo, IFoundBracket } from '../../../textModelBracketPairs.js';\nimport { TextModel } from '../../textModel.js';\nimport { IModelContentChangedEvent, IModelTokensChangedEvent } from '../../../textModelEvents.js';\nimport { ResolvedLanguageConfiguration } from '../../../languages/languageConfigurationRegistry.js';\nimport { AstNode, AstNodeKind } from './ast.js';\nimport { TextEditInfo } from './beforeEditPositionMapper.js';\nimport { LanguageAgnosticBracketTokens } from './brackets.js';\nimport { Length, lengthAdd, lengthGreaterThanEqual, lengthLessThan, lengthLessThanEqual, lengthsToRange, lengthZero, positionToLength, toLength } from './length.js';\nimport { parseDocument } from './parser.js';\nimport { DenseKeyProvider } from './smallImmutableSet.js';\nimport { FastTokenizer, TextBufferTokenizer } from './tokenizer.js';\nimport { BackgroundTokenizationState } from '../../../tokenizationTextModelPart.js';\nimport { Position } from '../../../core/position.js';\nimport { CallbackIterable } from '../../../../../base/common/arrays.js';\nimport { combineTextEditInfos } from './combineTextEditInfos.js';\nimport { ClosingBracketKind, OpeningBracketKind } from '../../../languages/supports/languageBracketsConfiguration.js';\n\nexport class BracketPairsTree extends Disposable {\n\tprivate readonly didChangeEmitter;\n\n\t/*\n\t\tThere are two trees:\n\t\t* The initial tree that has no token information and is used for performant initial bracket colorization.\n\t\t* The tree that used token information to detect bracket pairs.\n\n\t\tTo prevent flickering, we only switch from the initial tree to tree with token information\n\t\twhen tokenization completes.\n\t\tSince the text can be edited while background tokenization is in progress, we need to update both trees.\n\t*/\n\tprivate initialAstWithoutTokens: AstNode | undefined;\n\tprivate astWithTokens: AstNode | undefined;\n\n\tprivate readonly denseKeyProvider;\n\tprivate readonly brackets;\n\n\tpublic didLanguageChange(languageId: string): boolean {\n\t\treturn this.brackets.didLanguageChange(languageId);\n\t}\n\n\tpublic readonly onDidChange;\n\tprivate queuedTextEditsForInitialAstWithoutTokens: TextEditInfo[];\n\tprivate queuedTextEdits: TextEditInfo[];\n\n\tpublic constructor(\n\t\tprivate readonly textModel: TextModel,\n\t\tprivate readonly getLanguageConfiguration: (languageId: string) => ResolvedLanguageConfiguration\n\t) {\n\t\tsuper();\n\t\tthis.didChangeEmitter = new Emitter<void>();\n\t\tthis.denseKeyProvider = new DenseKeyProvider<string>();\n\t\tthis.brackets = new LanguageAgnosticBracketTokens(this.denseKeyProvider, this.getLanguageConfiguration);\n\t\tthis.onDidChange = this.didChangeEmitter.event;\n\t\tthis.queuedTextEditsForInitialAstWithoutTokens = [];\n\t\tthis.queuedTextEdits = [];\n\n\t\tif (!textModel.tokenization.hasTokens) {\n\t\t\tconst brackets = this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId());\n\t\t\tconst tokenizer = new FastTokenizer(this.textModel.getValue(), brackets);\n\t\t\tthis.initialAstWithoutTokens = parseDocument(tokenizer, [], undefined, true);\n\t\t\tthis.astWithTokens = this.initialAstWithoutTokens;\n\t\t} else if (textModel.tokenization.backgroundTokenizationState === BackgroundTokenizationState.Completed) {\n\t\t\t// Skip the initial ast, as there is no flickering.\n\t\t\t// Directly create the tree with token information.\n\t\t\tthis.initialAstWithoutTokens = undefined;\n\t\t\tthis.astWithTokens = this.parseDocumentFromTextBuffer([], undefined, false);\n\t\t} else {\n\t\t\t// We missed some token changes already, so we cannot use the fast tokenizer + delta increments\n\t\t\tthis.initialAstWithoutTokens = this.parseDocumentFromTextBuffer([], undefined, true);\n\t\t\tthis.astWithTokens = this.initialAstWithoutTokens;\n\t\t}\n\t}\n\n\t//#region TextModel events\n\n\tpublic handleDidChangeBackgroundTokenizationState(): void {\n\t\tif (this.textModel.tokenization.backgroundTokenizationState === BackgroundTokenizationState.Completed) {\n\t\t\tconst wasUndefined = this.initialAstWithoutTokens === undefined;\n\t\t\t// Clear the initial tree as we can use the tree with token information now.\n\t\t\tthis.initialAstWithoutTokens = undefined;\n\t\t\tif (!wasUndefined) {\n\t\t\t\tthis.didChangeEmitter.fire();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleDidChangeTokens({ ranges }: IModelTokensChangedEvent): void {\n\t\tconst edits = ranges.map(r =>\n\t\t\tnew TextEditInfo(\n\t\t\t\ttoLength(r.fromLineNumber - 1, 0),\n\t\t\t\ttoLength(r.toLineNumber, 0),\n\t\t\t\ttoLength(r.toLineNumber - r.fromLineNumber + 1, 0)\n\t\t\t)\n\t\t);\n\n\t\tthis.handleEdits(edits, true);\n\n\t\tif (!this.initialAstWithoutTokens) {\n\t\t\tthis.didChangeEmitter.fire();\n\t\t}\n\t}\n\n\tpublic handleContentChanged(change: IModelContentChangedEvent) {\n\t\tconst edits = TextEditInfo.fromModelContentChanges(change.changes);\n\t\tthis.handleEdits(edits, false);\n\t}\n\n\tprivate handleEdits(edits: TextEditInfo[], tokenChange: boolean): void {\n\t\t// Lazily queue the edits and only apply them when the tree is accessed.\n\t\tconst result = combineTextEditInfos(this.queuedTextEdits, edits);\n\n\t\tthis.queuedTextEdits = result;\n\t\tif (this.initialAstWithoutTokens && !tokenChange) {\n\t\t\tthis.queuedTextEditsForInitialAstWithoutTokens = combineTextEditInfos(this.queuedTextEditsForInitialAstWithoutTokens, edits);\n\t\t}\n\t}\n\n\t//#endregion\n\n\tprivate flushQueue() {\n\t\tif (this.queuedTextEdits.length > 0) {\n\t\t\tthis.astWithTokens = this.parseDocumentFromTextBuffer(this.queuedTextEdits, this.astWithTokens, false);\n\t\t\tthis.queuedTextEdits = [];\n\t\t}\n\t\tif (this.queuedTextEditsForInitialAstWithoutTokens.length > 0) {\n\t\t\tif (this.initialAstWithoutTokens) {\n\t\t\t\tthis.initialAstWithoutTokens = this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens, this.initialAstWithoutTokens, false);\n\t\t\t}\n\t\t\tthis.queuedTextEditsForInitialAstWithoutTokens = [];\n\t\t}\n\t}\n\n\t/**\n\t * @pure (only if isPure = true)\n\t*/\n\tprivate parseDocumentFromTextBuffer(edits: TextEditInfo[], previousAst: AstNode | undefined, immutable: boolean): AstNode {\n\t\t// Is much faster if `isPure = false`.\n\t\tconst isPure = false;\n\t\tconst previousAstClone = isPure ? previousAst?.deepClone() : previousAst;\n\t\tconst tokenizer = new TextBufferTokenizer(this.textModel, this.brackets);\n\t\tconst result = parseDocument(tokenizer, edits, previousAstClone, immutable);\n\t\treturn result;\n\t}\n\n\tpublic getBracketsInRange(range: Range, onlyColorizedBrackets: boolean): CallbackIterable<BracketInfo> {\n\t\tthis.flushQueue();\n\n\t\tconst startOffset = toLength(range.startLineNumber - 1, range.startColumn - 1);\n\t\tconst endOffset = toLength(range.endLineNumber - 1, range.endColumn - 1);\n\t\treturn new CallbackIterable(cb => {\n\t\t\tconst node = this.initialAstWithoutTokens || this.astWithTokens!;\n\t\t\tcollectBrackets(node, lengthZero, node.length, startOffset, endOffset, cb, 0, 0, new Map(), onlyColorizedBrackets);\n\t\t});\n\t}\n\n\tpublic getBracketPairsInRange(range: Range, includeMinIndentation: boolean): CallbackIterable<BracketPairWithMinIndentationInfo> {\n\t\tthis.flushQueue();\n\n\t\tconst startLength = positionToLength(range.getStartPosition());\n\t\tconst endLength = positionToLength(range.getEndPosition());\n\n\t\treturn new CallbackIterable(cb => {\n\t\t\tconst node = this.initialAstWithoutTokens || this.astWithTokens!;\n\t\t\tconst context = new CollectBracketPairsContext(cb, includeMinIndentation, this.textModel);\n\t\t\tcollectBracketPairs(node, lengthZero, node.length, startLength, endLength, context, 0, new Map());\n\t\t});\n\t}\n\n\tpublic getFirstBracketAfter(position: Position): IFoundBracket | null {\n\t\tthis.flushQueue();\n\n\t\tconst node = this.initialAstWithoutTokens || this.astWithTokens!;\n\t\treturn getFirstBracketAfter(node, lengthZero, node.length, positionToLength(position));\n\t}\n\n\tpublic getFirstBracketBefore(position: Position): IFoundBracket | null {\n\t\tthis.flushQueue();\n\n\t\tconst node = this.initialAstWithoutTokens || this.astWithTokens!;\n\t\treturn getFirstBracketBefore(node, lengthZero, node.length, positionToLength(position));\n\t}\n}\n\nfunction getFirstBracketBefore(node: AstNode, nodeOffsetStart: Length, nodeOffsetEnd: Length, position: Length): IFoundBracket | null {\n\tif (node.kind === AstNodeKind.List || node.kind === AstNodeKind.Pair) {\n\t\tconst lengths: { nodeOffsetStart: Length; nodeOffsetEnd: Length }[] = [];\n\t\tfor (const child of node.children) {\n\t\t\tnodeOffsetEnd = lengthAdd(nodeOffsetStart, child.length);\n\t\t\tlengths.push({ nodeOffsetStart, nodeOffsetEnd });\n\t\t\tnodeOffsetStart = nodeOffsetEnd;\n\t\t}\n\t\tfor (let i = lengths.length - 1; i >= 0; i--) {\n\t\t\tconst { nodeOffsetStart, nodeOffsetEnd } = lengths[i];\n\t\t\tif (lengthLessThan(nodeOffsetStart, position)) {\n\t\t\t\tconst result = getFirstBracketBefore(node.children[i], nodeOffsetStart, nodeOffsetEnd, position);\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t} else if (node.kind === AstNodeKind.UnexpectedClosingBracket) {\n\t\treturn null;\n\t} else if (node.kind === AstNodeKind.Bracket) {\n\t\tconst range = lengthsToRange(nodeOffsetStart, nodeOffsetEnd);\n\t\treturn {\n\t\t\tbracketInfo: node.bracketInfo,\n\t\t\trange\n\t\t};\n\t}\n\treturn null;\n}\n\nfunction getFirstBracketAfter(node: AstNode, nodeOffsetStart: Length, nodeOffsetEnd: Length, position: Length): IFoundBracket | null {\n\tif (node.kind === AstNodeKind.List || node.kind === AstNodeKind.Pair) {\n\t\tfor (const child of node.children) {\n\t\t\tnodeOffsetEnd = lengthAdd(nodeOffsetStart, child.length);\n\t\t\tif (lengthLessThan(position, nodeOffsetEnd)) {\n\t\t\t\tconst result = getFirstBracketAfter(child, nodeOffsetStart, nodeOffsetEnd, position);\n\t\t\t\tif (result) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t\tnodeOffsetStart = nodeOffsetEnd;\n\t\t}\n\t\treturn null;\n\t} else if (node.kind === AstNodeKind.UnexpectedClosingBracket) {\n\t\treturn null;\n\t} else if (node.kind === AstNodeKind.Bracket) {\n\t\tconst range = lengthsToRange(nodeOffsetStart, nodeOffsetEnd);\n\t\treturn {\n\t\t\tbracketInfo: node.bracketInfo,\n\t\t\trange\n\t\t};\n\t}\n\treturn null;\n}\n\nfunction collectBrackets(\n\tnode: AstNode,\n\tnodeOffsetStart: Length,\n\tnodeOffsetEnd: Length,\n\tstartOffset: Length,\n\tendOffset: Length,\n\tpush: (item: BracketInfo) => boolean,\n\tlevel: number,\n\tnestingLevelOfEqualBracketType: number,\n\tlevelPerBracketType: Map<string, number>,\n\tonlyColorizedBrackets: boolean,\n\tparentPairIsIncomplete: boolean = false,\n): boolean {\n\tif (level > 200) {\n\t\treturn true;\n\t}\n\n\twhileLoop:\n\twhile (true) {\n\t\tswitch (node.kind) {\n\t\t\tcase AstNodeKind.List: {\n\t\t\t\tconst childCount = node.childrenLength;\n\t\t\t\tfor (let i = 0; i < childCount; i++) {\n\t\t\t\t\tconst child = node.getChild(i);\n\t\t\t\t\tif (!child) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tnodeOffsetEnd = lengthAdd(nodeOffsetStart, child.length);\n\t\t\t\t\tif (\n\t\t\t\t\t\tlengthLessThanEqual(nodeOffsetStart, endOffset) &&\n\t\t\t\t\t\tlengthGreaterThanEqual(nodeOffsetEnd, startOffset)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst childEndsAfterEnd = lengthGreaterThanEqual(nodeOffsetEnd, endOffset);\n\t\t\t\t\t\tif (childEndsAfterEnd) {\n\t\t\t\t\t\t\t// No child after this child in the requested window, don't recurse\n\t\t\t\t\t\t\tnode = child;\n\t\t\t\t\t\t\tcontinue whileLoop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst shouldContinue = collectBrackets(child, nodeOffsetStart, nodeOffsetEnd, startOffset, endOffset, push, level, 0, levelPerBracketType, onlyColorizedBrackets);\n\t\t\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnodeOffsetStart = nodeOffsetEnd;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase AstNodeKind.Pair: {\n\t\t\t\tconst colorize = !onlyColorizedBrackets || !node.closingBracket || (node.closingBracket.bracketInfo as ClosingBracketKind).closesColorized(node.openingBracket.bracketInfo as OpeningBracketKind);\n\n\t\t\t\tlet levelPerBracket = 0;\n\t\t\t\tif (levelPerBracketType) {\n\t\t\t\t\tlet existing = levelPerBracketType.get(node.openingBracket.text);\n\t\t\t\t\tif (existing === undefined) {\n\t\t\t\t\t\texisting = 0;\n\t\t\t\t\t}\n\t\t\t\t\tlevelPerBracket = existing;\n\t\t\t\t\tif (colorize) {\n\t\t\t\t\t\texisting++;\n\t\t\t\t\t\tlevelPerBracketType.set(node.openingBracket.text, existing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst childCount = node.childrenLength;\n\t\t\t\tfor (let i = 0; i < childCount; i++) {\n\t\t\t\t\tconst child = node.getChild(i);\n\t\t\t\t\tif (!child) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tnodeOffsetEnd = lengthAdd(nodeOffsetStart, child.length);\n\t\t\t\t\tif (\n\t\t\t\t\t\tlengthLessThanEqual(nodeOffsetStart, endOffset) &&\n\t\t\t\t\t\tlengthGreaterThanEqual(nodeOffsetEnd, startOffset)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst childEndsAfterEnd = lengthGreaterThanEqual(nodeOffsetEnd, endOffset);\n\t\t\t\t\t\tif (childEndsAfterEnd && child.kind !== AstNodeKind.Bracket) {\n\t\t\t\t\t\t\t// No child after this child in the requested window, don't recurse\n\t\t\t\t\t\t\t// Don't do this for brackets because of unclosed/unopened brackets\n\t\t\t\t\t\t\tnode = child;\n\t\t\t\t\t\t\tif (colorize) {\n\t\t\t\t\t\t\t\tlevel++;\n\t\t\t\t\t\t\t\tnestingLevelOfEqualBracketType = levelPerBracket + 1;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnestingLevelOfEqualBracketType = levelPerBracket;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue whileLoop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (colorize || child.kind !== AstNodeKind.Bracket || !node.closingBracket) {\n\t\t\t\t\t\t\tconst shouldContinue = collectBrackets(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tnodeOffsetStart,\n\t\t\t\t\t\t\t\tnodeOffsetEnd,\n\t\t\t\t\t\t\t\tstartOffset,\n\t\t\t\t\t\t\t\tendOffset,\n\t\t\t\t\t\t\t\tpush,\n\t\t\t\t\t\t\t\tcolorize ? level + 1 : level,\n\t\t\t\t\t\t\t\tcolorize ? levelPerBracket + 1 : levelPerBracket,\n\t\t\t\t\t\t\t\tlevelPerBracketType,\n\t\t\t\t\t\t\t\tonlyColorizedBrackets,\n\t\t\t\t\t\t\t\t!node.closingBracket,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnodeOffsetStart = nodeOffsetEnd;\n\t\t\t\t}\n\n\t\t\t\tlevelPerBracketType?.set(node.openingBracket.text, levelPerBracket);\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase AstNodeKind.UnexpectedClosingBracket: {\n\t\t\t\tconst range = lengthsToRange(nodeOffsetStart, nodeOffsetEnd);\n\t\t\t\treturn push(new BracketInfo(range, level - 1, 0, true));\n\t\t\t}\n\t\t\tcase AstNodeKind.Bracket: {\n\t\t\t\tconst range = lengthsToRange(nodeOffsetStart, nodeOffsetEnd);\n\t\t\t\treturn push(new BracketInfo(range, level - 1, nestingLevelOfEqualBracketType - 1, parentPairIsIncomplete));\n\t\t\t}\n\t\t\tcase AstNodeKind.Text:\n\t\t\t\treturn true;\n\t\t}\n\t}\n}\n\nclass CollectBracketPairsContext {\n\tconstructor(\n\t\tpublic readonly push: (item: BracketPairWithMinIndentationInfo) => boolean,\n\t\tpublic readonly includeMinIndentation: boolean,\n\t\tpublic readonly textModel: ITextModel,\n\t) {\n\t}\n}\n\nfunction collectBracketPairs(\n\tnode: AstNode,\n\tnodeOffsetStart: Length,\n\tnodeOffsetEnd: Length,\n\tstartOffset: Length,\n\tendOffset: Length,\n\tcontext: CollectBracketPairsContext,\n\tlevel: number,\n\tlevelPerBracketType: Map<string, number>\n): boolean {\n\tif (level > 200) {\n\t\treturn true;\n\t}\n\n\tlet shouldContinue = true;\n\n\tif (node.kind === AstNodeKind.Pair) {\n\t\tlet levelPerBracket = 0;\n\t\tif (levelPerBracketType) {\n\t\t\tlet existing = levelPerBracketType.get(node.openingBracket.text);\n\t\t\tif (existing === undefined) {\n\t\t\t\texisting = 0;\n\t\t\t}\n\t\t\tlevelPerBracket = existing;\n\t\t\texisting++;\n\t\t\tlevelPerBracketType.set(node.openingBracket.text, existing);\n\t\t}\n\n\t\tconst openingBracketEnd = lengthAdd(nodeOffsetStart, node.openingBracket.length);\n\t\tlet minIndentation = -1;\n\t\tif (context.includeMinIndentation) {\n\t\t\tminIndentation = node.computeMinIndentation(\n\t\t\t\tnodeOffsetStart,\n\t\t\t\tcontext.textModel\n\t\t\t);\n\t\t}\n\n\t\tshouldContinue = context.push(\n\t\t\tnew BracketPairWithMinIndentationInfo(\n\t\t\t\tlengthsToRange(nodeOffsetStart, nodeOffsetEnd),\n\t\t\t\tlengthsToRange(nodeOffsetStart, openingBracketEnd),\n\t\t\t\tnode.closingBracket\n\t\t\t\t\t? lengthsToRange(\n\t\t\t\t\t\tlengthAdd(openingBracketEnd, node.child?.length || lengthZero),\n\t\t\t\t\t\tnodeOffsetEnd\n\t\t\t\t\t)\n\t\t\t\t\t: undefined,\n\t\t\t\tlevel,\n\t\t\t\tlevelPerBracket,\n\t\t\t\tnode,\n\t\t\t\tminIndentation\n\t\t\t)\n\t\t);\n\n\t\tnodeOffsetStart = openingBracketEnd;\n\t\tif (shouldContinue && node.child) {\n\t\t\tconst child = node.child;\n\t\t\tnodeOffsetEnd = lengthAdd(nodeOffsetStart, child.length);\n\t\t\tif (\n\t\t\t\tlengthLessThanEqual(nodeOffsetStart, endOffset) &&\n\t\t\t\tlengthGreaterThanEqual(nodeOffsetEnd, startOffset)\n\t\t\t) {\n\t\t\t\tshouldContinue = collectBracketPairs(\n\t\t\t\t\tchild,\n\t\t\t\t\tnodeOffsetStart,\n\t\t\t\t\tnodeOffsetEnd,\n\t\t\t\t\tstartOffset,\n\t\t\t\t\tendOffset,\n\t\t\t\t\tcontext,\n\t\t\t\t\tlevel + 1,\n\t\t\t\t\tlevelPerBracketType\n\t\t\t\t);\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlevelPerBracketType?.set(node.openingBracket.text, levelPerBracket);\n\t} else {\n\t\tlet curOffset = nodeOffsetStart;\n\t\tfor (const child of node.children) {\n\t\t\tconst childOffset = curOffset;\n\t\t\tcurOffset = lengthAdd(curOffset, child.length);\n\n\t\t\tif (\n\t\t\t\tlengthLessThanEqual(childOffset, endOffset) &&\n\t\t\t\tlengthLessThanEqual(startOffset, curOffset)\n\t\t\t) {\n\t\t\t\tshouldContinue = collectBracketPairs(\n\t\t\t\t\tchild,\n\t\t\t\t\tchildOffset,\n\t\t\t\t\tcurOffset,\n\t\t\t\t\tstartOffset,\n\t\t\t\t\tendOffset,\n\t\t\t\t\tcontext,\n\t\t\t\t\tlevel,\n\t\t\t\t\tlevelPerBracketType\n\t\t\t\t);\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn shouldContinue;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}