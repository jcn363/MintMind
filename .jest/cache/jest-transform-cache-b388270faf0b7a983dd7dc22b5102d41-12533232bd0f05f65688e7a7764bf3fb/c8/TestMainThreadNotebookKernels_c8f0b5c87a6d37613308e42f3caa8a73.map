{"version":3,"names":["cov_qlbemnvpq","actualCoverage","mock","TestInstantiationService","INotebookKernelService","Disposable","ILanguageService","INotebookExecutionStateService","INotebookService","INotebookEditorService","Event","MainThreadNotebookKernels","ExtensionIdentifier","TestMainThreadNotebookKernels","instantiationService","registeredKernels","s","Map","mainThreadNotebookKernels","kernelHandle","constructor","extHostContext","f","_register","setupDefaultStubs","createInstance","stub","getRegisteredLanguageIds","builder","registerKernel","kernel","set","id","None","onDidChangeSelectedNotebooks","getMatchingKernel","selected","undefined","suggestions","all","hidden","createCellExecution","createExecution","getNotebookTextModel","listNotebookEditors","onDidAddNotebookEditor","onDidRemoveNotebookEditor","instance","addKernel","handle","$addKernel","notebookType","extensionId","extensionLocation","scheme","path","label","description","hasVariableProvider","getKernel","get"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/test/browser/TestMainThreadNotebookKernels.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mock } from '../../../test/common/workbenchTestServices.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IExtHostContext } from '../../../services/extensions/common/extHostCustomers.js';\nimport { INotebookKernel, INotebookKernelService } from '../../../contrib/notebook/common/notebookKernelService.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { INotebookCellExecution, INotebookExecution, INotebookExecutionStateService } from '../../../contrib/notebook/common/notebookExecutionStateService.js';\nimport { INotebookService } from '../../../contrib/notebook/common/notebookService.js';\nimport { INotebookEditorService } from '../../../contrib/notebook/browser/services/notebookEditorService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { MainThreadNotebookKernels } from '../../browser/mainThreadNotebookKernels.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\n\nexport class TestMainThreadNotebookKernels extends Disposable {\n\tprivate readonly instantiationService: TestInstantiationService;\n\tprivate readonly registeredKernels = new Map<string, INotebookKernel>();\n\tprivate mainThreadNotebookKernels: MainThreadNotebookKernels;\n\tprivate kernelHandle = 0;\n\n\tconstructor(extHostContext: IExtHostContext) {\n\t\tsuper();\n\t\tthis.instantiationService = this._register(new TestInstantiationService());\n\t\tthis.setupDefaultStubs();\n\t\tthis.mainThreadNotebookKernels = this._register(this.instantiationService.createInstance(MainThreadNotebookKernels, extHostContext));\n\t}\n\n\tprivate setupDefaultStubs(): void {\n\t\tthis.instantiationService.stub(ILanguageService, new class extends mock<ILanguageService>() {\n\t\t\toverride getRegisteredLanguageIds() {\n\t\t\t\treturn ['typescript', 'javascript', 'python'];\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookKernelService, new class extends mock<INotebookKernelService>() {\n\t\t\tconstructor(private builder: TestMainThreadNotebookKernels) {\n\t\t\t\tsuper();\n\t\t\t}\n\n\t\t\toverride registerKernel(kernel: INotebookKernel) {\n\t\t\t\tthis.builder.registeredKernels.set(kernel.id, kernel);\n\t\t\t\treturn Disposable.None;\n\t\t\t}\n\t\t\toverride onDidChangeSelectedNotebooks = Event.None;\n\t\t\toverride getMatchingKernel() {\n\t\t\t\treturn {\n\t\t\t\t\tselected: undefined,\n\t\t\t\t\tsuggestions: [],\n\t\t\t\t\tall: [],\n\t\t\t\t\thidden: []\n\t\t\t\t};\n\t\t\t}\n\t\t}(this));\n\n\t\tthis.instantiationService.stub(INotebookExecutionStateService, new class extends mock<INotebookExecutionStateService>() {\n\t\t\toverride createCellExecution(): INotebookCellExecution {\n\t\t\t\treturn new class extends mock<INotebookCellExecution>() { };\n\t\t\t}\n\t\t\toverride createExecution(): INotebookExecution {\n\t\t\t\treturn new class extends mock<INotebookExecution>() { };\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookService, new class extends mock<INotebookService>() {\n\t\t\toverride getNotebookTextModel() {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookEditorService, new class extends mock<INotebookEditorService>() {\n\t\t\toverride listNotebookEditors() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\toverride onDidAddNotebookEditor = Event.None;\n\t\t\toverride onDidRemoveNotebookEditor = Event.None;\n\t\t});\n\t}\n\n\tget instance(): MainThreadNotebookKernels {\n\t\treturn this.mainThreadNotebookKernels;\n\t}\n\n\tasync addKernel(id: string): Promise<void> {\n\t\tconst handle = this.kernelHandle++;\n\t\tawait this.instance.$addKernel(handle, {\n\t\t\tid,\n\t\t\tnotebookType: 'test-notebook',\n\t\t\textensionId: new ExtensionIdentifier('test.extension'),\n\t\t\textensionLocation: { scheme: 'test', path: '/test' },\n\t\t\tlabel: 'Test Kernel',\n\t\t\tdescription: 'A test kernel',\n\t\t\thasVariableProvider: true\n\t\t});\n\t}\n\n\tgetKernel(id: string): INotebookKernel | undefined {\n\t\treturn this.registeredKernels.get(id);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}