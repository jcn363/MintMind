{"version":3,"names":["cov_bqloa8owe","actualCoverage","Range","TextSearchMatch","editorMatchToTextSearchResult","matches","model","previewOptions","f","firstLine","s","range","startLineNumber","lastLine","length","endLineNumber","lineTexts","i","push","getLineContent","join","map","m","startColumn","endColumn","editorMatchesToTextSearchResults","previousEndLine","groupedMatches","currentMatches","forEach","match","b","sameLineMatches","getTextSearchMatchWithModelContext","query","results","prevLine","start","matchStartLine","end","matchEndLine","getMatchStartEnd","surroundingContext","beforeContextStartLine","Math","max","text","lineNumber","nextMatch","nextMatchStartLine","Number","MAX_VALUE","afterContextToLine","min","getLineCount","a","matchRanges","rangeLocations","e","source"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/search/common/searchHelpers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { FindMatch, ITextModel } from '../../../../editor/common/model.js';\nimport { ITextSearchPreviewOptions, TextSearchMatch, ITextSearchResult, ITextSearchMatch, ITextSearchQuery } from './search.js';\n\nfunction editorMatchToTextSearchResult(matches: FindMatch[], model: ITextModel, previewOptions?: ITextSearchPreviewOptions): TextSearchMatch {\n\tconst firstLine = matches[0].range.startLineNumber;\n\tconst lastLine = matches[matches.length - 1].range.endLineNumber;\n\n\tconst lineTexts: string[] = [];\n\tfor (let i = firstLine; i <= lastLine; i++) {\n\t\tlineTexts.push(model.getLineContent(i));\n\t}\n\n\treturn new TextSearchMatch(\n\t\tlineTexts.join('\\n') + '\\n',\n\t\tmatches.map(m => new Range(m.range.startLineNumber - 1, m.range.startColumn - 1, m.range.endLineNumber - 1, m.range.endColumn - 1)),\n\t\tpreviewOptions);\n}\n\n/**\n * Combine a set of FindMatches into a set of TextSearchResults. They should be grouped by matches that start on the same line that the previous match ends on.\n */\nexport function editorMatchesToTextSearchResults(matches: FindMatch[], model: ITextModel, previewOptions?: ITextSearchPreviewOptions): TextSearchMatch[] {\n\tlet previousEndLine = -1;\n\tconst groupedMatches: FindMatch[][] = [];\n\tlet currentMatches: FindMatch[] = [];\n\tmatches.forEach((match) => {\n\t\tif (match.range.startLineNumber !== previousEndLine) {\n\t\t\tcurrentMatches = [];\n\t\t\tgroupedMatches.push(currentMatches);\n\t\t}\n\n\t\tcurrentMatches.push(match);\n\t\tpreviousEndLine = match.range.endLineNumber;\n\t});\n\n\treturn groupedMatches.map(sameLineMatches => {\n\t\treturn editorMatchToTextSearchResult(sameLineMatches, model, previewOptions);\n\t});\n}\n\nexport function getTextSearchMatchWithModelContext(matches: ITextSearchMatch[], model: ITextModel, query: ITextSearchQuery): ITextSearchResult[] {\n\tconst results: ITextSearchResult[] = [];\n\n\tlet prevLine = -1;\n\tfor (let i = 0; i < matches.length; i++) {\n\t\tconst { start: matchStartLine, end: matchEndLine } = getMatchStartEnd(matches[i]);\n\t\tif (typeof query.surroundingContext === 'number' && query.surroundingContext > 0) {\n\t\t\tconst beforeContextStartLine = Math.max(prevLine + 1, matchStartLine - query.surroundingContext);\n\t\t\tfor (let b = beforeContextStartLine; b < matchStartLine; b++) {\n\t\t\t\tresults.push({\n\t\t\t\t\ttext: model.getLineContent(b + 1),\n\t\t\t\t\tlineNumber: b + 1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tresults.push(matches[i]);\n\n\t\tconst nextMatch = matches[i + 1];\n\t\tconst nextMatchStartLine = nextMatch ? getMatchStartEnd(nextMatch).start : Number.MAX_VALUE;\n\t\tif (typeof query.surroundingContext === 'number' && query.surroundingContext > 0) {\n\t\t\tconst afterContextToLine = Math.min(nextMatchStartLine - 1, matchEndLine + query.surroundingContext, model.getLineCount() - 1);\n\t\t\tfor (let a = matchEndLine + 1; a <= afterContextToLine; a++) {\n\t\t\t\tresults.push({\n\t\t\t\t\ttext: model.getLineContent(a + 1),\n\t\t\t\t\tlineNumber: a + 1\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tprevLine = matchEndLine;\n\t}\n\n\treturn results;\n}\n\nfunction getMatchStartEnd(match: ITextSearchMatch): { start: number; end: number } {\n\tconst matchRanges = match.rangeLocations.map(e => e.source);\n\tconst matchStartLine = matchRanges[0].startLineNumber;\n\tconst matchEndLine = matchRanges[matchRanges.length - 1].endLineNumber;\n\n\treturn {\n\t\tstart: matchStartLine,\n\t\tend: matchEndLine\n\t};\n}\n"],"mappings":"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","ignoreList":[]}