{"version":3,"names":["cov_c3hm7ccst","actualCoverage","CancellationToken","ResourceMap","deepClone","observableSignal","WellDefinedPrefixTree","URI","ICoverageCount","incId","s","TestCoverage","result","fromTaskId","uriIdentityService","accessor","fileCoverage","didAddCoverage","tree","associatedData","Map","constructor","f","allPerTestIDs","seen","Set","root","nodes","b","value","perTestData","id","has","add","append","coverage","tx","previous","getComputedForUri","uri","applyDelta","kind","node","covered","total","canonical","treePathForUri","chain","mutatePath","push","length","v","statement","branch","declaration","FileCoverage","set","intermediate","String","treePathToUri","slice","ComputedFileCoverage","didChange","trigger","testIds","filterTreeForTest","testId","values","toString","n","BypassedFileCoverage","fromResult","getAllFiles","getUri","get","find","canconicalPath","scheme","authority","path","extUri","ignorePathCasing","toLowerCase","split","from","join","getTotalCoveragePercent","function_","numerator","denominator","AbstractFileCoverage","tpc","_details","resolved","_detailsForTest","hasSynchronousDetails","Array","detailsForTest","_testId","token","None","prev","promise","getCoverageDetails","e","delete","details","undefined","d","totalFromCoverageDetails","fc","empty","detail","type","count","branches"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/common/testCoverage.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { deepClone } from '../../../../base/common/objects.js';\nimport { ITransaction, observableSignal } from '../../../../base/common/observable.js';\nimport { IPrefixTreeNode, WellDefinedPrefixTree } from '../../../../base/common/prefixTree.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { TestId } from './testId.js';\nimport { LiveTestResult } from './testResult.js';\nimport { CoverageDetails, DetailType, ICoverageCount, IFileCoverage } from './testTypes.js';\n\nexport interface ICoverageAccessor {\n\tgetCoverageDetails: (id: string, testId: string | undefined, token: CancellationToken) => Promise<CoverageDetails[]>;\n}\n\nlet incId = 0;\n\n/**\n * Class that exposese coverage information for a run.\n */\nexport class TestCoverage {\n\tprivate readonly fileCoverage = new ResourceMap<FileCoverage>();\n\tpublic readonly didAddCoverage = observableSignal<IPrefixTreeNode<AbstractFileCoverage>[]>(this);\n\tpublic readonly tree = new WellDefinedPrefixTree<AbstractFileCoverage>();\n\tpublic readonly associatedData = new Map<unknown, unknown>();\n\n\tconstructor(\n\t\tpublic readonly result: LiveTestResult,\n\t\tpublic readonly fromTaskId: string,\n\t\tprivate readonly uriIdentityService: IUriIdentityService,\n\t\tprivate readonly accessor: ICoverageAccessor,\n\t) { }\n\n\t/** Gets all test IDs that were included in this test run. */\n\tpublic *allPerTestIDs() {\n\t\tconst seen = new Set<string>();\n\t\tfor (const root of this.tree.nodes) {\n\t\t\tif (root.value && root.value.perTestData) {\n\t\t\t\tfor (const id of root.value.perTestData) {\n\t\t\t\t\tif (!seen.has(id)) {\n\t\t\t\t\t\tseen.add(id);\n\t\t\t\t\t\tyield id;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic append(coverage: IFileCoverage, tx: ITransaction | undefined) {\n\t\tconst previous = this.getComputedForUri(coverage.uri);\n\t\tconst result = this.result;\n\t\tconst applyDelta = (kind: 'statement' | 'branch' | 'declaration', node: ComputedFileCoverage) => {\n\t\t\tif (!node[kind]) {\n\t\t\t\tif (coverage[kind]) {\n\t\t\t\t\tnode[kind] = { ...coverage[kind]! };\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode[kind]!.covered += (coverage[kind]?.covered || 0) - (previous?.[kind]?.covered || 0);\n\t\t\t\tnode[kind]!.total += (coverage[kind]?.total || 0) - (previous?.[kind]?.total || 0);\n\t\t\t}\n\t\t};\n\n\t\t// We insert using the non-canonical path to normalize for casing differences\n\t\t// between URIs, but when inserting an intermediate node always use 'a' canonical\n\t\t// version.\n\t\tconst canonical = [...this.treePathForUri(coverage.uri, /* canonical = */ true)];\n\t\tconst chain: IPrefixTreeNode<AbstractFileCoverage>[] = [];\n\n\t\tthis.tree.mutatePath(this.treePathForUri(coverage.uri, /* canonical = */ false), node => {\n\t\t\tchain.push(node);\n\n\t\t\tif (chain.length === canonical.length) {\n\t\t\t\t// we reached our destination node, apply the coverage as necessary:\n\t\t\t\tif (node.value) {\n\t\t\t\t\tconst v = node.value;\n\t\t\t\t\t// if ID was generated from a test-specific coverage, reassign it to get its real ID in the extension host.\n\t\t\t\t\tv.id = coverage.id;\n\t\t\t\t\tv.statement = coverage.statement;\n\t\t\t\t\tv.branch = coverage.branch;\n\t\t\t\t\tv.declaration = coverage.declaration;\n\t\t\t\t} else {\n\t\t\t\t\tconst v = node.value = new FileCoverage(coverage, result, this.accessor);\n\t\t\t\t\tthis.fileCoverage.set(coverage.uri, v);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Otherwise, if this is not a partial per-test coverage, merge the\n\t\t\t\t// coverage changes into the chain. Per-test coverages are not complete\n\t\t\t\t// and we don't want to consider them for computation.\n\t\t\t\tif (!node.value) {\n\t\t\t\t\t// clone because later intersertions can modify the counts:\n\t\t\t\t\tconst intermediate = deepClone(coverage);\n\t\t\t\t\tintermediate.id = String(incId++);\n\t\t\t\t\tintermediate.uri = this.treePathToUri(canonical.slice(0, chain.length));\n\t\t\t\t\tnode.value = new ComputedFileCoverage(intermediate, result);\n\t\t\t\t} else {\n\t\t\t\t\tapplyDelta('statement', node.value);\n\t\t\t\t\tapplyDelta('branch', node.value);\n\t\t\t\t\tapplyDelta('declaration', node.value);\n\t\t\t\t\tnode.value.didChange.trigger(tx);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (coverage.testIds) {\n\t\t\t\tnode.value!.perTestData ??= new Set();\n\t\t\t\tfor (const id of coverage.testIds) {\n\t\t\t\t\tnode.value!.perTestData.add(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (chain) {\n\t\t\tthis.didAddCoverage.trigger(tx, chain);\n\t\t}\n\t}\n\n\t/**\n\t * Builds a new tree filtered to per-test coverage data for the given ID.\n\t */\n\tpublic filterTreeForTest(testId: TestId) {\n\t\tconst tree = new WellDefinedPrefixTree<AbstractFileCoverage>();\n\t\tfor (const node of this.tree.values()) {\n\t\t\tif (node instanceof FileCoverage) {\n\t\t\t\tif (!node.perTestData?.has(testId.toString())) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst canonical = [...this.treePathForUri(node.uri, /* canonical = */ true)];\n\t\t\t\tconst chain: IPrefixTreeNode<AbstractFileCoverage>[] = [];\n\t\t\t\ttree.mutatePath(this.treePathForUri(node.uri, /* canonical = */ false), n => {\n\t\t\t\t\tchain.push(n);\n\t\t\t\t\tn.value ??= new BypassedFileCoverage(this.treePathToUri(canonical.slice(0, chain.length)), node.fromResult);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn tree;\n\t}\n\n\t/**\n\t * Gets coverage information for all files.\n\t */\n\tpublic getAllFiles() {\n\t\treturn this.fileCoverage;\n\t}\n\n\t/**\n\t * Gets coverage information for a specific file.\n\t */\n\tpublic getUri(uri: URI) {\n\t\treturn this.fileCoverage.get(uri);\n\t}\n\n\t/**\n\t * Gets computed information for a file, including DFS-computed information\n\t * from child tests.\n\t */\n\tpublic getComputedForUri(uri: URI) {\n\t\treturn this.tree.find(this.treePathForUri(uri, /* canonical = */ false));\n\t}\n\n\tprivate *treePathForUri(uri: URI, canconicalPath: boolean) {\n\t\tyield uri.scheme;\n\t\tyield uri.authority;\n\n\t\tconst path = !canconicalPath && this.uriIdentityService.extUri.ignorePathCasing(uri) ? uri.path.toLowerCase() : uri.path;\n\t\tyield* path.split('/');\n\t}\n\n\tprivate treePathToUri(path: string[]) {\n\t\treturn URI.from({ scheme: path[0], authority: path[1], path: path.slice(2).join('/') });\n\t}\n}\n\nexport const getTotalCoveragePercent = (statement: ICoverageCount, branch: ICoverageCount | undefined, function_: ICoverageCount | undefined) => {\n\tlet numerator = statement.covered;\n\tlet denominator = statement.total;\n\n\tif (branch) {\n\t\tnumerator += branch.covered;\n\t\tdenominator += branch.total;\n\t}\n\n\tif (function_) {\n\t\tnumerator += function_.covered;\n\t\tdenominator += function_.total;\n\t}\n\n\treturn denominator === 0 ? 1 : numerator / denominator;\n};\n\nexport abstract class AbstractFileCoverage {\n\tpublic id: string;\n\tpublic readonly uri: URI;\n\tpublic statement: ICoverageCount;\n\tpublic branch?: ICoverageCount;\n\tpublic declaration?: ICoverageCount;\n\tpublic readonly didChange = observableSignal(this);\n\n\t/**\n\t * Gets the total coverage percent based on information provided.\n\t * This is based on the Clover total coverage formula\n\t */\n\tpublic get tpc() {\n\t\treturn getTotalCoveragePercent(this.statement, this.branch, this.declaration);\n\t}\n\n\t/**\n\t * Per-test coverage data for this file, if available.\n\t */\n\tpublic perTestData?: Set<string>;\n\n\tconstructor(coverage: IFileCoverage, public readonly fromResult: LiveTestResult) {\n\t\tthis.id = coverage.id;\n\t\tthis.uri = coverage.uri;\n\t\tthis.statement = coverage.statement;\n\t\tthis.branch = coverage.branch;\n\t\tthis.declaration = coverage.declaration;\n\t}\n}\n\n/**\n * File coverage info computed from children in the tree, not provided by the\n * extension.\n */\nexport class ComputedFileCoverage extends AbstractFileCoverage { }\n\n/**\n * A virtual node that doesn't have any added coverage info.\n */\nexport class BypassedFileCoverage extends ComputedFileCoverage {\n\tconstructor(uri: URI, result: LiveTestResult) {\n\t\tsuper({ id: String(incId++), uri, statement: { covered: 0, total: 0 } }, result);\n\t}\n}\n\nexport class FileCoverage extends AbstractFileCoverage {\n\tprivate _details?: Promise<CoverageDetails[]>;\n\tprivate resolved?: boolean;\n\tprivate _detailsForTest?: Map<string, Promise<CoverageDetails[]>>;\n\n\t/** Gets whether details are synchronously available */\n\tpublic get hasSynchronousDetails() {\n\t\treturn this._details instanceof Array || this.resolved;\n\t}\n\n\tconstructor(coverage: IFileCoverage, fromResult: LiveTestResult, private readonly accessor: ICoverageAccessor) {\n\t\tsuper(coverage, fromResult);\n\t}\n\n\t/**\n\t * Gets per-line coverage details.\n\t */\n\tpublic async detailsForTest(_testId: TestId, token = CancellationToken.None) {\n\t\tthis._detailsForTest ??= new Map();\n\t\tconst testId = _testId.toString();\n\t\tconst prev = this._detailsForTest.get(testId);\n\t\tif (prev) {\n\t\t\treturn prev;\n\t\t}\n\n\t\tconst promise = (async () => {\n\t\t\ttry {\n\t\t\t\treturn await this.accessor.getCoverageDetails(this.id, testId, token);\n\t\t\t} catch (e) {\n\t\t\t\tthis._detailsForTest?.delete(testId);\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t})();\n\n\t\tthis._detailsForTest.set(testId, promise);\n\t\treturn promise;\n\t}\n\n\t/**\n\t * Gets per-line coverage details.\n\t */\n\tpublic async details(token = CancellationToken.None) {\n\t\tthis._details ??= this.accessor.getCoverageDetails(this.id, undefined, token);\n\n\t\ttry {\n\t\t\tconst d = await this._details;\n\t\t\tthis.resolved = true;\n\t\t\treturn d;\n\t\t} catch (e) {\n\t\t\tthis._details = undefined;\n\t\t\tthrow e;\n\t\t}\n\t}\n}\n\nexport const totalFromCoverageDetails = (uri: URI, details: CoverageDetails[]): IFileCoverage => {\n\tconst fc: IFileCoverage = {\n\t\tid: '',\n\t\turi,\n\t\tstatement: ICoverageCount.empty(),\n\t};\n\n\tfor (const detail of details) {\n\t\tif (detail.type === DetailType.Statement) {\n\t\t\tfc.statement.total++;\n\t\t\tfc.statement.total += detail.count ? 1 : 0;\n\n\t\t\tfor (const branch of detail.branches || []) {\n\t\t\t\tfc.branch ??= ICoverageCount.empty();\n\t\t\t\tfc.branch.total++;\n\t\t\t\tfc.branch.covered += branch.count ? 1 : 0;\n\t\t\t}\n\t\t} else {\n\t\t\tfc.declaration ??= ICoverageCount.empty();\n\t\t\tfc.declaration.total++;\n\t\t\tfc.declaration.covered += detail.count ? 1 : 0;\n\t\t}\n\t}\n\n\treturn fc;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}