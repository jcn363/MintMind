{"version":3,"names":["cov_1sy5rictjz","actualCoverage","nls","dom","parseLinkedText","Severity","SeverityIcon","TextSearchCompleteMessageType","Schemas","Link","URI","s","renderSearchMessage","message","instantiationService","notificationService","openerService","commandService","disposableStore","triggerSearch","f","div","$","linkedText","text","append","className","type","Information","b","Info","Warning","split","join","node","nodes","document","createTextNode","link","createInstance","opener","href","trusted","parsed","parse","scheme","command","result","executeCommand","path","https","open","error","localize","add"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/search/browser/searchMessage.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { parseLinkedText } from '../../../../base/common/linkedText.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { SeverityIcon } from '../../../../base/browser/ui/severityIcon/severityIcon.js';\nimport { TextSearchCompleteMessage, TextSearchCompleteMessageType } from '../../../services/search/common/searchExtTypes.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport const renderSearchMessage = (\n\tmessage: TextSearchCompleteMessage,\n\tinstantiationService: IInstantiationService,\n\tnotificationService: INotificationService,\n\topenerService: IOpenerService,\n\tcommandService: ICommandService,\n\tdisposableStore: DisposableStore,\n\ttriggerSearch: () => void,\n): HTMLElement => {\n\tconst div = dom.$('div.providerMessage');\n\tconst linkedText = parseLinkedText(message.text);\n\tdom.append(div,\n\t\tdom.$('.' +\n\t\t\tSeverityIcon.className(\n\t\t\t\tmessage.type === TextSearchCompleteMessageType.Information\n\t\t\t\t\t? Severity.Info\n\t\t\t\t\t: Severity.Warning)\n\t\t\t\t.split(' ')\n\t\t\t\t.join('.')));\n\n\tfor (const node of linkedText.nodes) {\n\t\tif (typeof node === 'string') {\n\t\t\tdom.append(div, document.createTextNode(node));\n\t\t} else {\n\t\t\tconst link = instantiationService.createInstance(Link, div, node, {\n\t\t\t\topener: async href => {\n\t\t\t\t\tif (!message.trusted) { return; }\n\t\t\t\t\tconst parsed = URI.parse(href, true);\n\t\t\t\t\tif (parsed.scheme === Schemas.command && message.trusted) {\n\t\t\t\t\t\tconst result = await commandService.executeCommand(parsed.path);\n\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\tif ((result as any)?.triggerSearch) {\n\t\t\t\t\t\t\ttriggerSearch();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (parsed.scheme === Schemas.https) {\n\t\t\t\t\t\topenerService.open(parsed);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (parsed.scheme === Schemas.command && !message.trusted) {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open trust', \"Unable to open command link from untrusted source: {0}\", href));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open', \"Unable to open unknown link: {0}\", href));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdisposableStore.add(link);\n\t\t}\n\t}\n\treturn div;\n};\n"],"mappings":"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","ignoreList":[]}