{"version":3,"names":["cov_c6rm0zno1","actualCoverage","matchesFuzzy","matchesFuzzy2","splitGlobAware","getEmptyExpression","parse","strings","relativePath","TernarySearchTree","ResourceGlobMatcher","globalExpression","expressionsByRoot","constructor","rootExpressions","uriIdentityService","f","s","forUris","uri","extUri","ignorePathCasing","expression","set","root","matches","resource","rootExpression","findSubstr","b","path","FilterOptions","filter","_filter","_messageFilter","showWarnings","showErrors","showInfos","textFilter","excludesMatcher","includesMatcher","EMPTY","filesExclude","trim","filesExcludeByRoot","Array","isArray","excludesExpression","pattern","Object","keys","endsWith","rtrim","negate","startsWith","text","ltrim","includeExpression","filters","map","length","filterText","setPattern"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/markers/browser/markersFilterOptions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IFilter, matchesFuzzy, matchesFuzzy2 } from '../../../../base/common/filters.js';\nimport { IExpression, splitGlobAware, getEmptyExpression, ParsedExpression, parse } from '../../../../base/common/glob.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { relativePath } from '../../../../base/common/resources.js';\nimport { TernarySearchTree } from '../../../../base/common/ternarySearchTree.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\n\nexport class ResourceGlobMatcher {\n\n\tprivate readonly globalExpression: ParsedExpression;\n\tprivate readonly expressionsByRoot: TernarySearchTree<URI, { root: URI; expression: ParsedExpression }>;\n\n\tconstructor(\n\t\tglobalExpression: IExpression,\n\t\trootExpressions: { root: URI; expression: IExpression }[],\n\t\turiIdentityService: IUriIdentityService\n\t) {\n\t\tthis.globalExpression = parse(globalExpression);\n\t\tthis.expressionsByRoot = TernarySearchTree.forUris<{ root: URI; expression: ParsedExpression }>(uri => uriIdentityService.extUri.ignorePathCasing(uri));\n\t\tfor (const expression of rootExpressions) {\n\t\t\tthis.expressionsByRoot.set(expression.root, { root: expression.root, expression: parse(expression.expression) });\n\t\t}\n\t}\n\n\tmatches(resource: URI): boolean {\n\t\tconst rootExpression = this.expressionsByRoot.findSubstr(resource);\n\t\tif (rootExpression) {\n\t\t\tconst path = relativePath(rootExpression.root, resource);\n\t\t\tif (path && !!rootExpression.expression(path)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn !!this.globalExpression(resource.path);\n\t}\n}\n\nexport class FilterOptions {\n\n\tstatic readonly _filter: IFilter = matchesFuzzy2;\n\tstatic readonly _messageFilter: IFilter = matchesFuzzy;\n\n\treadonly showWarnings: boolean = false;\n\treadonly showErrors: boolean = false;\n\treadonly showInfos: boolean = false;\n\treadonly textFilter: { readonly text: string; readonly negate: boolean };\n\treadonly excludesMatcher: ResourceGlobMatcher;\n\treadonly includesMatcher: ResourceGlobMatcher;\n\n\tstatic EMPTY(uriIdentityService: IUriIdentityService) { return new FilterOptions('', [], false, false, false, uriIdentityService); }\n\n\tconstructor(\n\t\treadonly filter: string,\n\t\tfilesExclude: { root: URI; expression: IExpression }[] | IExpression,\n\t\tshowWarnings: boolean,\n\t\tshowErrors: boolean,\n\t\tshowInfos: boolean,\n\t\turiIdentityService: IUriIdentityService\n\t) {\n\t\tfilter = filter.trim();\n\t\tthis.showWarnings = showWarnings;\n\t\tthis.showErrors = showErrors;\n\t\tthis.showInfos = showInfos;\n\n\t\tconst filesExcludeByRoot = Array.isArray(filesExclude) ? filesExclude : [];\n\t\tconst excludesExpression: IExpression = Array.isArray(filesExclude) ? getEmptyExpression() : filesExclude;\n\n\t\tfor (const { expression } of filesExcludeByRoot) {\n\t\t\tfor (const pattern of Object.keys(expression)) {\n\t\t\t\tif (!pattern.endsWith('/**')) {\n\t\t\t\t\t// Append `/**` to pattern to match a parent folder #103631\n\t\t\t\t\texpression[`${strings.rtrim(pattern, '/')}/**`] = expression[pattern];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst negate = filter.startsWith('!');\n\t\tthis.textFilter = { text: (negate ? strings.ltrim(filter, '!') : filter).trim(), negate };\n\t\tconst includeExpression: IExpression = getEmptyExpression();\n\n\t\tif (filter) {\n\t\t\tconst filters = splitGlobAware(filter, ',').map(s => s.trim()).filter(s => !!s.length);\n\t\t\tfor (const f of filters) {\n\t\t\t\tif (f.startsWith('!')) {\n\t\t\t\t\tconst filterText = strings.ltrim(f, '!');\n\t\t\t\t\tif (filterText) {\n\t\t\t\t\t\tthis.setPattern(excludesExpression, filterText);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.setPattern(includeExpression, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.excludesMatcher = new ResourceGlobMatcher(excludesExpression, filesExcludeByRoot, uriIdentityService);\n\t\tthis.includesMatcher = new ResourceGlobMatcher(includeExpression, [], uriIdentityService);\n\t}\n\n\tprivate setPattern(expression: IExpression, pattern: string) {\n\t\tif (pattern[0] === '.') {\n\t\t\tpattern = '*' + pattern; // convert \".js\" to \"*.js\"\n\t\t}\n\t\texpression[`**/${pattern}/**`] = true;\n\t\texpression[`**/${pattern}`] = true;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}