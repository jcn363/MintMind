{"version":3,"names":["cov_2jbx2zlk93","actualCoverage","IModelService","ILanguageService","IInstantiationService","parseSavedSearchEditor","parseSerializedSearchEditor","IWorkingCopyBackupService","SearchEditorWorkingCopyTypeId","assertReturnsDefined","createTextBufferFactoryFromStream","Emitter","ResourceMap","SEARCH_RESULT_LANGUAGE_ID","SearchConfigurationModel","config","_onConfigDidUpdate","s","onConfigDidUpdate","event","constructor","f","updateConfig","fire","SearchEditorModel","resource","resolve","searchEditorModelFactory","models","get","SearchEditorModelFactory","initializeModelFromExistingModel","accessor","has","b","Error","languageService","modelService","instantiationService","workingCopyBackupService","ongoingResolve","set","backup","tryFetchModelFromBackupService","Promise","resultsModel","getModel","createModel","createById","configurationModel","initializeModelFromRawData","contents","initializeModelFromExistingFile","existingFile","text","invokeFunction","typeId","model","factory","value","getValue","destroyModel","undefined"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/searchEditor/browser/searchEditorModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { parseSavedSearchEditor, parseSerializedSearchEditor } from './searchEditorSerialization.js';\nimport { IWorkingCopyBackupService } from '../../../services/workingCopy/common/workingCopyBackup.js';\nimport { SearchConfiguration, SearchEditorWorkingCopyTypeId } from './constants.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { createTextBufferFactoryFromStream } from '../../../../editor/common/model/textModel.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { SEARCH_RESULT_LANGUAGE_ID } from '../../../services/search/common/search.js';\n\nexport type SearchEditorData = { resultsModel: ITextModel; configurationModel: SearchConfigurationModel };\n\nexport class SearchConfigurationModel {\n\tprivate _onConfigDidUpdate = new Emitter<SearchConfiguration>();\n\tpublic readonly onConfigDidUpdate = this._onConfigDidUpdate.event;\n\n\tconstructor(public config: Readonly<SearchConfiguration>) { }\n\tupdateConfig(config: SearchConfiguration) { this.config = config; this._onConfigDidUpdate.fire(config); }\n}\n\nexport class SearchEditorModel {\n\tconstructor(\n\t\tprivate resource: URI,\n\t) { }\n\n\tasync resolve(): Promise<SearchEditorData> {\n\t\treturn assertReturnsDefined(searchEditorModelFactory.models.get(this.resource)).resolve();\n\t}\n}\n\nclass SearchEditorModelFactory {\n\tmodels = new ResourceMap<{ resolve: () => Promise<SearchEditorData> }>();\n\n\tconstructor() { }\n\n\tinitializeModelFromExistingModel(accessor: ServicesAccessor, resource: URI, config: SearchConfiguration) {\n\t\tif (this.models.has(resource)) {\n\t\t\tthrow Error('Unable to contruct model for resource that already exists');\n\t\t}\n\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst modelService = accessor.get(IModelService);\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\tconst workingCopyBackupService = accessor.get(IWorkingCopyBackupService);\n\n\t\tlet ongoingResolve: Promise<SearchEditorData> | undefined;\n\n\t\tthis.models.set(resource, {\n\t\t\tresolve: () => {\n\t\t\t\tif (!ongoingResolve) {\n\t\t\t\t\tongoingResolve = (async () => {\n\n\t\t\t\t\t\tconst backup = await this.tryFetchModelFromBackupService(resource, languageService, modelService, workingCopyBackupService, instantiationService);\n\t\t\t\t\t\tif (backup) {\n\t\t\t\t\t\t\treturn backup;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\t\tresultsModel: modelService.getModel(resource) ?? modelService.createModel('', languageService.createById(SEARCH_RESULT_LANGUAGE_ID), resource),\n\t\t\t\t\t\t\tconfigurationModel: new SearchConfigurationModel(config)\n\t\t\t\t\t\t});\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\treturn ongoingResolve;\n\t\t\t}\n\t\t});\n\t}\n\n\tinitializeModelFromRawData(accessor: ServicesAccessor, resource: URI, config: SearchConfiguration, contents: string | undefined) {\n\t\tif (this.models.has(resource)) {\n\t\t\tthrow Error('Unable to contruct model for resource that already exists');\n\t\t}\n\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst modelService = accessor.get(IModelService);\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\tconst workingCopyBackupService = accessor.get(IWorkingCopyBackupService);\n\n\t\tlet ongoingResolve: Promise<SearchEditorData> | undefined;\n\n\t\tthis.models.set(resource, {\n\t\t\tresolve: () => {\n\t\t\t\tif (!ongoingResolve) {\n\t\t\t\t\tongoingResolve = (async () => {\n\n\t\t\t\t\t\tconst backup = await this.tryFetchModelFromBackupService(resource, languageService, modelService, workingCopyBackupService, instantiationService);\n\t\t\t\t\t\tif (backup) {\n\t\t\t\t\t\t\treturn backup;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\t\tresultsModel: modelService.createModel(contents ?? '', languageService.createById(SEARCH_RESULT_LANGUAGE_ID), resource),\n\t\t\t\t\t\t\tconfigurationModel: new SearchConfigurationModel(config)\n\t\t\t\t\t\t});\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\treturn ongoingResolve;\n\t\t\t}\n\t\t});\n\t}\n\n\tinitializeModelFromExistingFile(accessor: ServicesAccessor, resource: URI, existingFile: URI) {\n\t\tif (this.models.has(resource)) {\n\t\t\tthrow Error('Unable to contruct model for resource that already exists');\n\t\t}\n\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst modelService = accessor.get(IModelService);\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\tconst workingCopyBackupService = accessor.get(IWorkingCopyBackupService);\n\n\t\tlet ongoingResolve: Promise<SearchEditorData> | undefined;\n\n\t\tthis.models.set(resource, {\n\t\t\tresolve: async () => {\n\t\t\t\tif (!ongoingResolve) {\n\t\t\t\t\tongoingResolve = (async () => {\n\n\t\t\t\t\t\tconst backup = await this.tryFetchModelFromBackupService(resource, languageService, modelService, workingCopyBackupService, instantiationService);\n\t\t\t\t\t\tif (backup) {\n\t\t\t\t\t\t\treturn backup;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst { text, config } = await instantiationService.invokeFunction(parseSavedSearchEditor, existingFile);\n\t\t\t\t\t\treturn ({\n\t\t\t\t\t\t\tresultsModel: modelService.createModel(text ?? '', languageService.createById(SEARCH_RESULT_LANGUAGE_ID), resource),\n\t\t\t\t\t\t\tconfigurationModel: new SearchConfigurationModel(config)\n\t\t\t\t\t\t});\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\t\treturn ongoingResolve;\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async tryFetchModelFromBackupService(resource: URI, languageService: ILanguageService, modelService: IModelService, workingCopyBackupService: IWorkingCopyBackupService, instantiationService: IInstantiationService): Promise<SearchEditorData | undefined> {\n\t\tconst backup = await workingCopyBackupService.resolve({ resource, typeId: SearchEditorWorkingCopyTypeId });\n\n\t\tlet model = modelService.getModel(resource);\n\t\tif (!model && backup) {\n\t\t\tconst factory = await createTextBufferFactoryFromStream(backup.value);\n\n\t\t\tmodel = modelService.createModel(factory, languageService.createById(SEARCH_RESULT_LANGUAGE_ID), resource);\n\t\t}\n\n\t\tif (model) {\n\t\t\tconst existingFile = model.getValue();\n\t\t\tconst { text, config } = parseSerializedSearchEditor(existingFile);\n\t\t\tmodelService.destroyModel(resource);\n\t\t\treturn ({\n\t\t\t\tresultsModel: modelService.createModel(text ?? '', languageService.createById(SEARCH_RESULT_LANGUAGE_ID), resource),\n\t\t\t\tconfigurationModel: new SearchConfigurationModel(config)\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport const searchEditorModelFactory = new SearchEditorModelFactory();\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}