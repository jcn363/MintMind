{"version":3,"names":["cov_1b17uob38p","actualCoverage","basename","TernarySearchTree","URI","Utils","buildModel","BottomUpNode","processNode","create","f","s","ProfileAnalysisWorker","_requestHandlerBrand","undefined","$analyseBottomUp","profile","isValidProfile","b","kind","samples","model","bottomUp","filter","isSpecial","length","percentage","$analyseByUrlCategory","categories","searchTree","forUris","fill","aggegrateByCategory","Map","node","nodes","loc","locations","locationId","category","findSubstr","parse","callFrame","url","printCallFrameShort","value","get","newValue","selfTime","set","result","key","push","call","functionName","startsWith","endsWith","frame","lineNumber","columnNumber","printCallFrameStackLike","getHeaviestLocationIds","topN","stackSelfTime","locationIds","Object","entries","sort","a","slice","map","Number","Set","root","has","addNode","values","children","sample","Math","round","totalTime","aggregateTime","location","absLocation","caller","duration","stack","pop","top","candidate"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/profiling/electron-browser/profileAnalysisWorker.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { basename } from '../../../base/common/path.js';\nimport { TernarySearchTree } from '../../../base/common/ternarySearchTree.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IWebWorkerServerRequestHandler } from '../../../base/common/worker/webWorker.js';\nimport { IV8Profile, Utils } from '../common/profiling.js';\nimport { IProfileModel, BottomUpSample, buildModel, BottomUpNode, processNode, CdpCallFrame } from '../common/profilingModel.js';\nimport { BottomUpAnalysis, IProfileAnalysisWorker, ProfilingOutput } from './profileAnalysisWorkerService.js';\n\nexport function create(): IWebWorkerServerRequestHandler {\n\treturn new ProfileAnalysisWorker();\n}\n\nclass ProfileAnalysisWorker implements IWebWorkerServerRequestHandler, IProfileAnalysisWorker {\n\n\t_requestHandlerBrand: void = undefined;\n\n\t$analyseBottomUp(profile: IV8Profile): BottomUpAnalysis {\n\t\tif (!Utils.isValidProfile(profile)) {\n\t\t\treturn { kind: ProfilingOutput.Irrelevant, samples: [] };\n\t\t}\n\n\t\tconst model = buildModel(profile);\n\t\tconst samples = bottomUp(model, 5)\n\t\t\t.filter(s => !s.isSpecial);\n\n\t\tif (samples.length === 0 || samples[0].percentage < 10) {\n\t\t\t// ignore this profile because 90% of the time is spent inside \"special\" frames\n\t\t\t// like idle, GC, or program\n\t\t\treturn { kind: ProfilingOutput.Irrelevant, samples: [] };\n\t\t}\n\n\t\treturn { kind: ProfilingOutput.Interesting, samples };\n\t}\n\n\t$analyseByUrlCategory(profile: IV8Profile, categories: [url: URI, category: string][]): [category: string, aggregated: number][] {\n\n\t\t// build search tree\n\t\tconst searchTree = TernarySearchTree.forUris<string>();\n\t\tsearchTree.fill(categories);\n\n\t\t// cost by categories\n\t\tconst model = buildModel(profile);\n\t\tconst aggegrateByCategory = new Map<string, number>();\n\n\t\tfor (const node of model.nodes) {\n\t\t\tconst loc = model.locations[node.locationId];\n\t\t\tlet category: string | undefined;\n\t\t\ttry {\n\t\t\t\tcategory = searchTree.findSubstr(URI.parse(loc.callFrame.url));\n\t\t\t} catch {\n\t\t\t\t// ignore\n\t\t\t}\n\t\t\tif (!category) {\n\t\t\t\tcategory = printCallFrameShort(loc.callFrame);\n\t\t\t}\n\t\t\tconst value = aggegrateByCategory.get(category) ?? 0;\n\t\t\tconst newValue = value + node.selfTime;\n\t\t\taggegrateByCategory.set(category, newValue);\n\t\t}\n\n\t\tconst result: [string, number][] = [];\n\t\tfor (const [key, value] of aggegrateByCategory) {\n\t\t\tresult.push([key, value]);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction isSpecial(call: CdpCallFrame): boolean {\n\treturn call.functionName.startsWith('(') && call.functionName.endsWith(')');\n}\n\nfunction printCallFrameShort(frame: CdpCallFrame): string {\n\tlet result = frame.functionName || '(anonymous)';\n\tif (frame.url) {\n\t\tresult += '#';\n\t\tresult += basename(frame.url);\n\t\tif (frame.lineNumber >= 0) {\n\t\t\tresult += ':';\n\t\t\tresult += frame.lineNumber + 1;\n\t\t}\n\t\tif (frame.columnNumber >= 0) {\n\t\t\tresult += ':';\n\t\t\tresult += frame.columnNumber + 1;\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction printCallFrameStackLike(frame: CdpCallFrame): string {\n\tlet result = frame.functionName || '(anonymous)';\n\tif (frame.url) {\n\t\tresult += ' (';\n\t\tresult += frame.url;\n\t\tif (frame.lineNumber >= 0) {\n\t\t\tresult += ':';\n\t\t\tresult += frame.lineNumber + 1;\n\t\t}\n\t\tif (frame.columnNumber >= 0) {\n\t\t\tresult += ':';\n\t\t\tresult += frame.columnNumber + 1;\n\t\t}\n\t\tresult += ')';\n\t}\n\treturn result;\n}\n\nfunction getHeaviestLocationIds(model: IProfileModel, topN: number) {\n\tconst stackSelfTime: { [locationId: number]: number } = {};\n\tfor (const node of model.nodes) {\n\t\tstackSelfTime[node.locationId] = (stackSelfTime[node.locationId] || 0) + node.selfTime;\n\t}\n\n\tconst locationIds = Object.entries(stackSelfTime)\n\t\t.sort(([, a], [, b]) => b - a)\n\t\t.slice(0, topN)\n\t\t.map(([locationId]) => Number(locationId));\n\n\treturn new Set(locationIds);\n}\n\nfunction bottomUp(model: IProfileModel, topN: number) {\n\tconst root = BottomUpNode.root();\n\tconst locationIds = getHeaviestLocationIds(model, topN);\n\n\tfor (const node of model.nodes) {\n\t\tif (locationIds.has(node.locationId)) {\n\t\t\tprocessNode(root, node, model);\n\t\t\troot.addNode(node);\n\t\t}\n\t}\n\n\tconst result = Object.values(root.children)\n\t\t.sort((a, b) => b.selfTime - a.selfTime)\n\t\t.slice(0, topN);\n\n\tconst samples: BottomUpSample[] = [];\n\n\tfor (const node of result) {\n\n\t\tconst sample: BottomUpSample = {\n\t\t\tselfTime: Math.round(node.selfTime / 1000),\n\t\t\ttotalTime: Math.round(node.aggregateTime / 1000),\n\t\t\tlocation: printCallFrameShort(node.callFrame),\n\t\t\tabsLocation: printCallFrameStackLike(node.callFrame),\n\t\t\turl: node.callFrame.url,\n\t\t\tcaller: [],\n\t\t\tpercentage: Math.round(node.selfTime / (model.duration / 100)),\n\t\t\tisSpecial: isSpecial(node.callFrame)\n\t\t};\n\n\t\t// follow the heaviest caller paths\n\t\tconst stack = [node];\n\t\twhile (stack.length) {\n\t\t\tconst node = stack.pop()!;\n\t\t\tlet top: BottomUpNode | undefined;\n\t\t\tfor (const candidate of Object.values(node.children)) {\n\t\t\t\tif (!top || top.selfTime < candidate.selfTime) {\n\t\t\t\t\ttop = candidate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (top) {\n\t\t\t\tconst percentage = Math.round(top.selfTime / (node.selfTime / 100));\n\t\t\t\tsample.caller.push({\n\t\t\t\t\tpercentage,\n\t\t\t\t\tlocation: printCallFrameShort(top.callFrame),\n\t\t\t\t\tabsLocation: printCallFrameStackLike(top.callFrame),\n\t\t\t\t});\n\t\t\t\tstack.push(top);\n\t\t\t}\n\t\t}\n\n\t\tsamples.push(sample);\n\t}\n\n\treturn samples;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}