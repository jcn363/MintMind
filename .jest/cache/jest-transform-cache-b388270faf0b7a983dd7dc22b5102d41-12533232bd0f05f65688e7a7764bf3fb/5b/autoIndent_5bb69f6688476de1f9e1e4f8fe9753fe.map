{"version":3,"names":["cov_2jmj5q19h0","actualCoverage","strings","IndentAction","IndentationContextProcessor","isLanguageDifferentFromLineStart","ProcessedIndentRulesSupport","getPrecedingValidLine","model","lineNumber","processedIndentRulesSupport","f","languageId","s","tokenization","getLanguageIdAtPosition","b","lastLineNumber","resultLineNumber","text","getLineContent","shouldIgnore","test","getInheritIndentForLine","autoIndent","honorIntentialIndent","languageConfigurationService","indentRulesSupport","getLanguageConfiguration","getLanguageId","indentation","action","priorLineNumber","precedingUnIgnoredLine","shouldIncrease","shouldIndentNextLine","precedingUnIgnoredLineContent","getLeadingWhitespace","Indent","line","shouldDecrease","previousLine","previousLineIndentMetadata","getIndentMetadata","stopLine","i","j","getGoodIndentForLine","virtualModel","indentConverter","richEditSupport","indent","undefined","inheritLine","shouldApplyEnterRules","inBetweenLine","enterResult","onEnter","removeText","substring","length","indentAction","IndentOutdent","shiftIndent","Outdent","unshiftIndent","appendText","getIndentForEnter","range","startLineNumber","startColumn","forceTokenization","indentationContextProcessor","processedContextTokens","getProcessedTokenContextAroundRange","afterEnterProcessedTokens","afterRangeProcessedTokens","beforeEnterProcessedTokens","beforeRangeProcessedTokens","beforeEnterIndent","createVirtualModelWithModifiedTokensAtLine","languageIsDifferentFromLineStart","getStartPosition","currentLine","currentLineIndent","afterEnterAction","beforeEnter","afterEnter","afterEnterIndent","getIndentActionForType","cursorConfig","ch","beforeRangeText","afterRangeText","textAroundRange","textAroundRangeWithCharacter","r","previousLineNumber","inheritedIndentationData","inheritedIndentation","actualCurrentIndentation","inferredCurrentIndentation","inferredIndentationEqualsActual","textAroundRangeContainsOnlyWhitespace","autoClosingPairs","autoClosingPairsOpenByEnd","get","autoClosingPairExists","isChFirstNonWhitespaceCharacterAndInAutoClosingPair","getLineCount","modifiedLineNumber","modifiedTokens","getLineTokens","column"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languages/autoIndent.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as strings from '../../../base/common/strings.js';\nimport { Range } from '../core/range.js';\nimport { ITextModel } from '../model.js';\nimport { IndentAction } from './languageConfiguration.js';\nimport { IndentConsts } from './supports/indentRules.js';\nimport { EditorAutoIndentStrategy } from '../config/editorOptions.js';\nimport { ILanguageConfigurationService } from './languageConfigurationRegistry.js';\nimport { IViewLineTokens } from '../tokens/lineTokens.js';\nimport { IndentationContextProcessor, isLanguageDifferentFromLineStart, ProcessedIndentRulesSupport } from './supports/indentationLineProcessor.js';\nimport { CursorConfiguration } from '../cursorCommon.js';\n\nexport interface IVirtualModel {\n\ttokenization: {\n\t\tgetLineTokens(lineNumber: number): IViewLineTokens;\n\t\tgetLanguageId(): string;\n\t\tgetLanguageIdAtPosition(lineNumber: number, column: number): string;\n\t\tforceTokenization?(lineNumber: number): void;\n\t};\n\tgetLineContent(lineNumber: number): string;\n}\n\nexport interface IIndentConverter {\n\tshiftIndent(indentation: string): string;\n\tunshiftIndent(indentation: string): string;\n\tnormalizeIndentation?(indentation: string): string;\n}\n\n/**\n * Get nearest preceding line which doesn't match unIndentPattern or contains all whitespace.\n * Result:\n * -1: run into the boundary of embedded languages\n * 0: every line above are invalid\n * else: nearest preceding line of the same language\n */\nfunction getPrecedingValidLine(model: IVirtualModel, lineNumber: number, processedIndentRulesSupport: ProcessedIndentRulesSupport) {\n\tconst languageId = model.tokenization.getLanguageIdAtPosition(lineNumber, 0);\n\tif (lineNumber > 1) {\n\t\tlet lastLineNumber: number;\n\t\tlet resultLineNumber = -1;\n\n\t\tfor (lastLineNumber = lineNumber - 1; lastLineNumber >= 1; lastLineNumber--) {\n\t\t\tif (model.tokenization.getLanguageIdAtPosition(lastLineNumber, 0) !== languageId) {\n\t\t\t\treturn resultLineNumber;\n\t\t\t}\n\t\t\tconst text = model.getLineContent(lastLineNumber);\n\t\t\tif (processedIndentRulesSupport.shouldIgnore(lastLineNumber) || /^\\s+$/.test(text) || text === '') {\n\t\t\t\tresultLineNumber = lastLineNumber;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn lastLineNumber;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\n/**\n * Get inherited indentation from above lines.\n * 1. Find the nearest preceding line which doesn't match unIndentedLinePattern.\n * 2. If this line matches indentNextLinePattern or increaseIndentPattern, it means that the indent level of `lineNumber` should be 1 greater than this line.\n * 3. If this line doesn't match any indent rules\n *   a. check whether the line above it matches indentNextLinePattern\n *   b. If not, the indent level of this line is the result\n *   c. If so, it means the indent of this line is *temporary*, go upward utill we find a line whose indent is not temporary (the same workflow a -> b -> c).\n * 4. Otherwise, we fail to get an inherited indent from aboves. Return null and we should not touch the indent of `lineNumber`\n *\n * This function only return the inherited indent based on above lines, it doesn't check whether current line should decrease or not.\n */\nexport function getInheritIndentForLine(\n\tautoIndent: EditorAutoIndentStrategy,\n\tmodel: IVirtualModel,\n\tlineNumber: number,\n\thonorIntentialIndent: boolean = true,\n\tlanguageConfigurationService: ILanguageConfigurationService\n): { indentation: string; action: IndentAction | null; line?: number } | null {\n\tif (autoIndent < EditorAutoIndentStrategy.Full) {\n\t\treturn null;\n\t}\n\n\tconst indentRulesSupport = languageConfigurationService.getLanguageConfiguration(model.tokenization.getLanguageId()).indentRulesSupport;\n\tif (!indentRulesSupport) {\n\t\treturn null;\n\t}\n\tconst processedIndentRulesSupport = new ProcessedIndentRulesSupport(model, indentRulesSupport, languageConfigurationService);\n\n\tif (lineNumber <= 1) {\n\t\treturn {\n\t\t\tindentation: '',\n\t\t\taction: null\n\t\t};\n\t}\n\n\t// Use no indent if this is the first non-blank line\n\tfor (let priorLineNumber = lineNumber - 1; priorLineNumber > 0; priorLineNumber--) {\n\t\tif (model.getLineContent(priorLineNumber) !== '') {\n\t\t\tbreak;\n\t\t}\n\t\tif (priorLineNumber === 1) {\n\t\t\treturn {\n\t\t\t\tindentation: '',\n\t\t\t\taction: null\n\t\t\t};\n\t\t}\n\t}\n\n\tconst precedingUnIgnoredLine = getPrecedingValidLine(model, lineNumber, processedIndentRulesSupport);\n\tif (precedingUnIgnoredLine < 0) {\n\t\treturn null;\n\t} else if (precedingUnIgnoredLine < 1) {\n\t\treturn {\n\t\t\tindentation: '',\n\t\t\taction: null\n\t\t};\n\t}\n\n\tif (processedIndentRulesSupport.shouldIncrease(precedingUnIgnoredLine) || processedIndentRulesSupport.shouldIndentNextLine(precedingUnIgnoredLine)) {\n\t\tconst precedingUnIgnoredLineContent = model.getLineContent(precedingUnIgnoredLine);\n\t\treturn {\n\t\t\tindentation: strings.getLeadingWhitespace(precedingUnIgnoredLineContent),\n\t\t\taction: IndentAction.Indent,\n\t\t\tline: precedingUnIgnoredLine\n\t\t};\n\t} else if (processedIndentRulesSupport.shouldDecrease(precedingUnIgnoredLine)) {\n\t\tconst precedingUnIgnoredLineContent = model.getLineContent(precedingUnIgnoredLine);\n\t\treturn {\n\t\t\tindentation: strings.getLeadingWhitespace(precedingUnIgnoredLineContent),\n\t\t\taction: null,\n\t\t\tline: precedingUnIgnoredLine\n\t\t};\n\t} else {\n\t\t// precedingUnIgnoredLine can not be ignored.\n\t\t// it doesn't increase indent of following lines\n\t\t// it doesn't increase just next line\n\t\t// so current line is not affect by precedingUnIgnoredLine\n\t\t// and then we should get a correct inheritted indentation from above lines\n\t\tif (precedingUnIgnoredLine === 1) {\n\t\t\treturn {\n\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(precedingUnIgnoredLine)),\n\t\t\t\taction: null,\n\t\t\t\tline: precedingUnIgnoredLine\n\t\t\t};\n\t\t}\n\n\t\tconst previousLine = precedingUnIgnoredLine - 1;\n\n\t\tconst previousLineIndentMetadata = indentRulesSupport.getIndentMetadata(model.getLineContent(previousLine));\n\t\tif (!(previousLineIndentMetadata & (IndentConsts.INCREASE_MASK | IndentConsts.DECREASE_MASK)) &&\n\t\t\t(previousLineIndentMetadata & IndentConsts.INDENT_NEXTLINE_MASK)) {\n\t\t\tlet stopLine = 0;\n\t\t\tfor (let i = previousLine - 1; i > 0; i--) {\n\t\t\t\tif (processedIndentRulesSupport.shouldIndentNextLine(i)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstopLine = i;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(stopLine + 1)),\n\t\t\t\taction: null,\n\t\t\t\tline: stopLine + 1\n\t\t\t};\n\t\t}\n\n\t\tif (honorIntentialIndent) {\n\t\t\treturn {\n\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(precedingUnIgnoredLine)),\n\t\t\t\taction: null,\n\t\t\t\tline: precedingUnIgnoredLine\n\t\t\t};\n\t\t} else {\n\t\t\t// search from precedingUnIgnoredLine until we find one whose indent is not temporary\n\t\t\tfor (let i = precedingUnIgnoredLine; i > 0; i--) {\n\t\t\t\tif (processedIndentRulesSupport.shouldIncrease(i)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(i)),\n\t\t\t\t\t\taction: IndentAction.Indent,\n\t\t\t\t\t\tline: i\n\t\t\t\t\t};\n\t\t\t\t} else if (processedIndentRulesSupport.shouldIndentNextLine(i)) {\n\t\t\t\t\tlet stopLine = 0;\n\t\t\t\t\tfor (let j = i - 1; j > 0; j--) {\n\t\t\t\t\t\tif (processedIndentRulesSupport.shouldIndentNextLine(i)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstopLine = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(stopLine + 1)),\n\t\t\t\t\t\taction: null,\n\t\t\t\t\t\tline: stopLine + 1\n\t\t\t\t\t};\n\t\t\t\t} else if (processedIndentRulesSupport.shouldDecrease(i)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(i)),\n\t\t\t\t\t\taction: null,\n\t\t\t\t\t\tline: i\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tindentation: strings.getLeadingWhitespace(model.getLineContent(1)),\n\t\t\t\taction: null,\n\t\t\t\tline: 1\n\t\t\t};\n\t\t}\n\t}\n}\n\nexport function getGoodIndentForLine(\n\tautoIndent: EditorAutoIndentStrategy,\n\tvirtualModel: IVirtualModel,\n\tlanguageId: string,\n\tlineNumber: number,\n\tindentConverter: IIndentConverter,\n\tlanguageConfigurationService: ILanguageConfigurationService\n): string | null {\n\tif (autoIndent < EditorAutoIndentStrategy.Full) {\n\t\treturn null;\n\t}\n\n\tconst richEditSupport = languageConfigurationService.getLanguageConfiguration(languageId);\n\tif (!richEditSupport) {\n\t\treturn null;\n\t}\n\n\tconst indentRulesSupport = languageConfigurationService.getLanguageConfiguration(languageId).indentRulesSupport;\n\tif (!indentRulesSupport) {\n\t\treturn null;\n\t}\n\n\tconst processedIndentRulesSupport = new ProcessedIndentRulesSupport(virtualModel, indentRulesSupport, languageConfigurationService);\n\tconst indent = getInheritIndentForLine(autoIndent, virtualModel, lineNumber, undefined, languageConfigurationService);\n\n\tif (indent) {\n\t\tconst inheritLine = indent.line;\n\t\tif (inheritLine !== undefined) {\n\t\t\t// Apply enter action as long as there are only whitespace lines between inherited line and this line.\n\t\t\tlet shouldApplyEnterRules = true;\n\t\t\tfor (let inBetweenLine = inheritLine; inBetweenLine < lineNumber - 1; inBetweenLine++) {\n\t\t\t\tif (!/^\\s*$/.test(virtualModel.getLineContent(inBetweenLine))) {\n\t\t\t\t\tshouldApplyEnterRules = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (shouldApplyEnterRules) {\n\t\t\t\tconst enterResult = richEditSupport.onEnter(autoIndent, '', virtualModel.getLineContent(inheritLine), '');\n\n\t\t\t\tif (enterResult) {\n\t\t\t\t\tlet indentation = strings.getLeadingWhitespace(virtualModel.getLineContent(inheritLine));\n\n\t\t\t\t\tif (enterResult.removeText) {\n\t\t\t\t\t\tindentation = indentation.substring(0, indentation.length - enterResult.removeText);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t(enterResult.indentAction === IndentAction.Indent) ||\n\t\t\t\t\t\t(enterResult.indentAction === IndentAction.IndentOutdent)\n\t\t\t\t\t) {\n\t\t\t\t\t\tindentation = indentConverter.shiftIndent(indentation);\n\t\t\t\t\t} else if (enterResult.indentAction === IndentAction.Outdent) {\n\t\t\t\t\t\tindentation = indentConverter.unshiftIndent(indentation);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (processedIndentRulesSupport.shouldDecrease(lineNumber)) {\n\t\t\t\t\t\tindentation = indentConverter.unshiftIndent(indentation);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (enterResult.appendText) {\n\t\t\t\t\t\tindentation += enterResult.appendText;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn strings.getLeadingWhitespace(indentation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (processedIndentRulesSupport.shouldDecrease(lineNumber)) {\n\t\t\tif (indent.action === IndentAction.Indent) {\n\t\t\t\treturn indent.indentation;\n\t\t\t} else {\n\t\t\t\treturn indentConverter.unshiftIndent(indent.indentation);\n\t\t\t}\n\t\t} else {\n\t\t\tif (indent.action === IndentAction.Indent) {\n\t\t\t\treturn indentConverter.shiftIndent(indent.indentation);\n\t\t\t} else {\n\t\t\t\treturn indent.indentation;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\nexport function getIndentForEnter(\n\tautoIndent: EditorAutoIndentStrategy,\n\tmodel: ITextModel,\n\trange: Range,\n\tindentConverter: IIndentConverter,\n\tlanguageConfigurationService: ILanguageConfigurationService\n): { beforeEnter: string; afterEnter: string } | null {\n\tif (autoIndent < EditorAutoIndentStrategy.Full) {\n\t\treturn null;\n\t}\n\tconst languageId = model.getLanguageIdAtPosition(range.startLineNumber, range.startColumn);\n\tconst indentRulesSupport = languageConfigurationService.getLanguageConfiguration(languageId).indentRulesSupport;\n\tif (!indentRulesSupport) {\n\t\treturn null;\n\t}\n\n\tmodel.tokenization.forceTokenization(range.startLineNumber);\n\tconst indentationContextProcessor = new IndentationContextProcessor(model, languageConfigurationService);\n\tconst processedContextTokens = indentationContextProcessor.getProcessedTokenContextAroundRange(range);\n\tconst afterEnterProcessedTokens = processedContextTokens.afterRangeProcessedTokens;\n\tconst beforeEnterProcessedTokens = processedContextTokens.beforeRangeProcessedTokens;\n\tconst beforeEnterIndent = strings.getLeadingWhitespace(beforeEnterProcessedTokens.getLineContent());\n\n\tconst virtualModel = createVirtualModelWithModifiedTokensAtLine(model, range.startLineNumber, beforeEnterProcessedTokens);\n\tconst languageIsDifferentFromLineStart = isLanguageDifferentFromLineStart(model, range.getStartPosition());\n\tconst currentLine = model.getLineContent(range.startLineNumber);\n\tconst currentLineIndent = strings.getLeadingWhitespace(currentLine);\n\tconst afterEnterAction = getInheritIndentForLine(autoIndent, virtualModel, range.startLineNumber + 1, undefined, languageConfigurationService);\n\tif (!afterEnterAction) {\n\t\tconst beforeEnter = languageIsDifferentFromLineStart ? currentLineIndent : beforeEnterIndent;\n\t\treturn {\n\t\t\tbeforeEnter: beforeEnter,\n\t\t\tafterEnter: beforeEnter\n\t\t};\n\t}\n\n\tlet afterEnterIndent = languageIsDifferentFromLineStart ? currentLineIndent : afterEnterAction.indentation;\n\n\tif (afterEnterAction.action === IndentAction.Indent) {\n\t\tafterEnterIndent = indentConverter.shiftIndent(afterEnterIndent);\n\t}\n\n\tif (indentRulesSupport.shouldDecrease(afterEnterProcessedTokens.getLineContent())) {\n\t\tafterEnterIndent = indentConverter.unshiftIndent(afterEnterIndent);\n\t}\n\n\treturn {\n\t\tbeforeEnter: languageIsDifferentFromLineStart ? currentLineIndent : beforeEnterIndent,\n\t\tafterEnter: afterEnterIndent\n\t};\n}\n\n/**\n * We should always allow intentional indentation. It means, if users change the indentation of `lineNumber` and the content of\n * this line doesn't match decreaseIndentPattern, we should not adjust the indentation.\n */\nexport function getIndentActionForType(\n\tcursorConfig: CursorConfiguration,\n\tmodel: ITextModel,\n\trange: Range,\n\tch: string,\n\tindentConverter: IIndentConverter,\n\tlanguageConfigurationService: ILanguageConfigurationService\n): string | null {\n\tconst autoIndent = cursorConfig.autoIndent;\n\tif (autoIndent < EditorAutoIndentStrategy.Full) {\n\t\treturn null;\n\t}\n\tconst languageIsDifferentFromLineStart = isLanguageDifferentFromLineStart(model, range.getStartPosition());\n\tif (languageIsDifferentFromLineStart) {\n\t\t// this line has mixed languages and indentation rules will not work\n\t\treturn null;\n\t}\n\n\tconst languageId = model.getLanguageIdAtPosition(range.startLineNumber, range.startColumn);\n\tconst indentRulesSupport = languageConfigurationService.getLanguageConfiguration(languageId).indentRulesSupport;\n\tif (!indentRulesSupport) {\n\t\treturn null;\n\t}\n\n\tconst indentationContextProcessor = new IndentationContextProcessor(model, languageConfigurationService);\n\tconst processedContextTokens = indentationContextProcessor.getProcessedTokenContextAroundRange(range);\n\tconst beforeRangeText = processedContextTokens.beforeRangeProcessedTokens.getLineContent();\n\tconst afterRangeText = processedContextTokens.afterRangeProcessedTokens.getLineContent();\n\tconst textAroundRange = beforeRangeText + afterRangeText;\n\tconst textAroundRangeWithCharacter = beforeRangeText + ch + afterRangeText;\n\n\t// If previous content already matches decreaseIndentPattern, it means indentation of this line should already be adjusted\n\t// Users might change the indentation by purpose and we should honor that instead of readjusting.\n\tif (!indentRulesSupport.shouldDecrease(textAroundRange) && indentRulesSupport.shouldDecrease(textAroundRangeWithCharacter)) {\n\t\t// after typing `ch`, the content matches decreaseIndentPattern, we should adjust the indent to a good manner.\n\t\t// 1. Get inherited indent action\n\t\tconst r = getInheritIndentForLine(autoIndent, model, range.startLineNumber, false, languageConfigurationService);\n\t\tif (!r) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet indentation = r.indentation;\n\t\tif (r.action !== IndentAction.Indent) {\n\t\t\tindentation = indentConverter.unshiftIndent(indentation);\n\t\t}\n\n\t\treturn indentation;\n\t}\n\n\tconst previousLineNumber = range.startLineNumber - 1;\n\tif (previousLineNumber > 0) {\n\t\tconst previousLine = model.getLineContent(previousLineNumber);\n\t\tif (indentRulesSupport.shouldIndentNextLine(previousLine) && indentRulesSupport.shouldIncrease(textAroundRangeWithCharacter)) {\n\t\t\tconst inheritedIndentationData = getInheritIndentForLine(autoIndent, model, range.startLineNumber, false, languageConfigurationService);\n\t\t\tconst inheritedIndentation = inheritedIndentationData?.indentation;\n\t\t\tif (inheritedIndentation !== undefined) {\n\t\t\t\tconst currentLine = model.getLineContent(range.startLineNumber);\n\t\t\t\tconst actualCurrentIndentation = strings.getLeadingWhitespace(currentLine);\n\t\t\t\tconst inferredCurrentIndentation = indentConverter.shiftIndent(inheritedIndentation);\n\t\t\t\t// If the inferred current indentation is not equal to the actual current indentation, then the indentation has been intentionally changed, in that case keep it\n\t\t\t\tconst inferredIndentationEqualsActual = inferredCurrentIndentation === actualCurrentIndentation;\n\t\t\t\tconst textAroundRangeContainsOnlyWhitespace = /^\\s*$/.test(textAroundRange);\n\t\t\t\tconst autoClosingPairs = cursorConfig.autoClosingPairs.autoClosingPairsOpenByEnd.get(ch);\n\t\t\t\tconst autoClosingPairExists = autoClosingPairs && autoClosingPairs.length > 0;\n\t\t\t\tconst isChFirstNonWhitespaceCharacterAndInAutoClosingPair = autoClosingPairExists && textAroundRangeContainsOnlyWhitespace;\n\t\t\t\tif (inferredIndentationEqualsActual && isChFirstNonWhitespaceCharacterAndInAutoClosingPair) {\n\t\t\t\t\treturn inheritedIndentation;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n\nexport function getIndentMetadata(\n\tmodel: ITextModel,\n\tlineNumber: number,\n\tlanguageConfigurationService: ILanguageConfigurationService\n): number | null {\n\tconst indentRulesSupport = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).indentRulesSupport;\n\tif (!indentRulesSupport) {\n\t\treturn null;\n\t}\n\tif (lineNumber < 1 || lineNumber > model.getLineCount()) {\n\t\treturn null;\n\t}\n\treturn indentRulesSupport.getIndentMetadata(model.getLineContent(lineNumber));\n}\n\nfunction createVirtualModelWithModifiedTokensAtLine(model: ITextModel, modifiedLineNumber: number, modifiedTokens: IViewLineTokens): IVirtualModel {\n\tconst virtualModel: IVirtualModel = {\n\t\ttokenization: {\n\t\t\tgetLineTokens: (lineNumber: number): IViewLineTokens => {\n\t\t\t\tif (lineNumber === modifiedLineNumber) {\n\t\t\t\t\treturn modifiedTokens;\n\t\t\t\t} else {\n\t\t\t\t\treturn model.tokenization.getLineTokens(lineNumber);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetLanguageId: (): string => {\n\t\t\t\treturn model.getLanguageId();\n\t\t\t},\n\t\t\tgetLanguageIdAtPosition: (lineNumber: number, column: number): string => {\n\t\t\t\treturn model.getLanguageIdAtPosition(lineNumber, column);\n\t\t\t},\n\t\t},\n\t\tgetLineContent: (lineNumber: number): string => {\n\t\t\tif (lineNumber === modifiedLineNumber) {\n\t\t\t\treturn modifiedTokens.getLineContent();\n\t\t\t} else {\n\t\t\t\treturn model.getLineContent(lineNumber);\n\t\t\t}\n\t\t}\n\t};\n\treturn virtualModel;\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwCO;IA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","ignoreList":[]}