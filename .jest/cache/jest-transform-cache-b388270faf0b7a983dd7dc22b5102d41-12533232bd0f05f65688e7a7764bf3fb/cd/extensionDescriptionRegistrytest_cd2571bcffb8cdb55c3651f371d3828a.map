{"version":3,"names":["cov_2drvvj7gjm","actualCoverage","assert","URI","ensureNoDisposablesAreLeakedInTestSuite","ExtensionIdentifier","ExtensionDescriptionRegistry","s","describe","f","it","idA","extensionA1","desc","extensionA2","basicActivationEventsReader","readActivationEvents","extensionDescription","b","activationEvents","slice","registry","deltaExtensions","deepStrictEqual","getAllExtensionDescriptions","dispose","id","version","name","value","publisher","engines","vscode","identifier","extensionLocation","parse","isBuiltin","isUnderDevelopment","isUserBuiltin","main","targetPlatform","extensionDependencies","enabledApiProposals","undefined","preRelease"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/extensions/test/common/extensionDescriptionRegistry.test.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ExtensionIdentifier, IExtensionDescription, TargetPlatform } from '../../../../../platform/extensions/common/extensions.js';\nimport { ExtensionDescriptionRegistry, IActivationEventsReader } from '../../common/extensionDescriptionRegistry.js';\n\ndescribe('ExtensionDescriptionRegistry', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tit('allow removing and adding the same extension at a different version', () => {\n\t\tconst idA = new ExtensionIdentifier('a');\n\t\tconst extensionA1 = desc(idA, '1.0.0');\n\t\tconst extensionA2 = desc(idA, '2.0.0');\n\n\t\tconst basicActivationEventsReader: IActivationEventsReader = {\n\t\t\treadActivationEvents: (extensionDescription: IExtensionDescription): string[] => {\n\t\t\t\treturn extensionDescription.activationEvents?.slice() ?? [];\n\t\t\t}\n\t\t};\n\n\t\tconst registry = new ExtensionDescriptionRegistry(basicActivationEventsReader, [extensionA1]);\n\t\tregistry.deltaExtensions([extensionA2], [idA]);\n\n\t\tassert.deepStrictEqual(registry.getAllExtensionDescriptions(), [extensionA2]);\n\n\t\tregistry.dispose();\n\t});\n\n\tfunction desc(id: ExtensionIdentifier, version: string, activationEvents: string[] = ['*']): IExtensionDescription {\n\t\treturn {\n\t\t\tname: id.value,\n\t\t\tpublisher: 'test',\n\t\t\tversion: '0.0.0',\n\t\t\tengines: { vscode: '^1.0.0' },\n\t\t\tidentifier: id,\n\t\t\textensionLocation: URI.parse(`nothing://nowhere`),\n\t\t\tisBuiltin: false,\n\t\t\tisUnderDevelopment: false,\n\t\t\tisUserBuiltin: false,\n\t\t\tactivationEvents,\n\t\t\tmain: 'index.js',\n\t\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\t\textensionDependencies: [],\n\t\t\tenabledApiProposals: undefined,\n\t\t\tpreRelease: false,\n\t\t};\n\t}\n});\n"],"mappings":"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","ignoreList":[]}