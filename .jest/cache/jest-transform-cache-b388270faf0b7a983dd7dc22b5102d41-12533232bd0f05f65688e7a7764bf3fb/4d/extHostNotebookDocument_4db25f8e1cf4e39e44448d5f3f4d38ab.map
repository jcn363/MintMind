{"version":3,"names":["cov_fq5gpbg8k","actualCoverage","Schemas","URI","extHostTypeConverters","NotebookRange","notebookCommon","isTextStreamMime","RawContentChangeEvent","start","deletedCount","deletedItems","items","constructor","f","s","asApiEvent","range","addedCells","map","cell","apiCell","removedCells","ExtHostCell","notebook","_extHostDocument","_cellData","asModelAddData","EOL","eol","lines","source","languageId","language","uri","isDirty","versionId","encoding","_outputs","_metadata","_previousResult","_internalMetadata","handle","cellKind","_apiCell","_mime","revive","outputs","NotebookCellOutput","to","b","internalMetadata","Object","freeze","metadata","NotebookCellExecutionSummary","that","data","getDocument","Error","index","getCellIndex","apiNotebook","kind","NotebookCellKind","document","mime","value","slice","executionSummary","setOutputs","newOutputs","setOutputItems","outputId","append","newOutputItems","newItems","NotebookCellOutputItem","output","find","op","id","length","push","every","item","mimeOutputs","Map","mimeTypes","forEach","has","get","set","compressed","compressOutputItemStreams","buffer","setMetadata","newMetadata","setInternalMetadata","newInternalMetadata","setMime","newMime","ExtHostNotebookDocument","_proxy","_textDocumentsAndEditors","_textDocuments","_handlePool","_cells","_notebookType","_notebook","_versionId","_isDirty","_disposed","viewType","create","_spliceNotebookCells","cells","undefined","dispose","apiObject","version","notebookType","isUntitled","scheme","untitled","isClosed","cellCount","cellAt","_validateIndex","getCells","_getCells","save","_save","Symbol","for","toString","acceptDocumentPropertiesChanged","acceptDirty","acceptModelChanged","event","result","cellChanges","contentChanges","relaxedCellChanges","rawEvent","rawEvents","NotebookCellsChangeType","ModelChange","changes","Move","_moveCells","newIdx","Output","_setCellOutputs","OutputItem","_setCellOutputItems","outputItems","ChangeCellLanguage","_changeCellLanguage","ChangeCellContent","ChangeCellMime","_changeCellMime","ChangeCellMetadata","_changeCellMetadata","ChangeCellInternalMetadata","_changeCellInternalMetadata","i","relaxedCellChange","existing","newLen","_validateRange","end","with","Promise","reject","$trySaveNotebook","splices","initialization","bucket","contentChangeEvents","addedCellDocuments","removedCellDocuments","reverse","splice","cellDtos","newCells","extCell","changeEvent","acceptDocumentsAndEditorsDelta","addedDocuments","removedDocuments","c","change","newLanguageId","$acceptModelLanguageChanged","getCellFromApiCell","getCellFromIndex","getCell","cellHandle","indexOf"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostNotebookDocument.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport * as extHostProtocol from './extHost.protocol.js';\nimport { ExtHostDocuments } from './extHostDocuments.js';\nimport { ExtHostDocumentsAndEditors } from './extHostDocumentsAndEditors.js';\nimport * as extHostTypeConverters from './extHostTypeConverters.js';\nimport { NotebookRange } from './extHostTypes.js';\nimport * as notebookCommon from '../../contrib/notebook/common/notebookCommon.js';\nimport * as vscode from 'vscode';\nimport { isTextStreamMime } from '../../../base/common/mime.js';\n\nclass RawContentChangeEvent {\n\n\tconstructor(\n\t\treadonly start: number,\n\t\treadonly deletedCount: number,\n\t\treadonly deletedItems: vscode.NotebookCell[],\n\t\treadonly items: ExtHostCell[]\n\t) { }\n\n\tasApiEvent(): vscode.NotebookDocumentContentChange {\n\t\treturn {\n\t\t\trange: new NotebookRange(this.start, this.start + this.deletedCount),\n\t\t\taddedCells: this.items.map(cell => cell.apiCell),\n\t\t\tremovedCells: this.deletedItems,\n\t\t};\n\t}\n}\n\nexport class ExtHostCell {\n\n\tstatic asModelAddData(cell: extHostProtocol.NotebookCellDto): extHostProtocol.IModelAddedData {\n\t\treturn {\n\t\t\tEOL: cell.eol,\n\t\t\tlines: cell.source,\n\t\t\tlanguageId: cell.language,\n\t\t\turi: cell.uri,\n\t\t\tisDirty: false,\n\t\t\tversionId: 1,\n\t\t\tencoding: 'utf8'\n\t\t};\n\t}\n\n\tprivate _outputs: vscode.NotebookCellOutput[];\n\tprivate _metadata: Readonly<notebookCommon.NotebookCellMetadata>;\n\tprivate _previousResult: Readonly<vscode.NotebookCellExecutionSummary | undefined>;\n\n\tprivate _internalMetadata: notebookCommon.NotebookCellInternalMetadata;\n\treadonly handle: number;\n\treadonly uri: URI;\n\treadonly cellKind: notebookCommon.CellKind;\n\n\tprivate _apiCell: vscode.NotebookCell | undefined;\n\tprivate _mime: string | undefined;\n\n\tconstructor(\n\t\treadonly notebook: ExtHostNotebookDocument,\n\t\tprivate readonly _extHostDocument: ExtHostDocumentsAndEditors,\n\t\tprivate readonly _cellData: extHostProtocol.NotebookCellDto,\n\t) {\n\t\tthis.handle = _cellData.handle;\n\t\tthis.uri = URI.revive(_cellData.uri);\n\t\tthis.cellKind = _cellData.cellKind;\n\t\tthis._outputs = _cellData.outputs.map(extHostTypeConverters.NotebookCellOutput.to);\n\t\tthis._internalMetadata = _cellData.internalMetadata ?? {};\n\t\tthis._metadata = Object.freeze(_cellData.metadata ?? {});\n\t\tthis._previousResult = Object.freeze(extHostTypeConverters.NotebookCellExecutionSummary.to(_cellData.internalMetadata ?? {}));\n\t}\n\n\tget internalMetadata(): notebookCommon.NotebookCellInternalMetadata {\n\t\treturn this._internalMetadata;\n\t}\n\n\tget apiCell(): vscode.NotebookCell {\n\t\tif (!this._apiCell) {\n\t\t\tconst that = this;\n\t\t\tconst data = this._extHostDocument.getDocument(this.uri);\n\t\t\tif (!data) {\n\t\t\t\tthrow new Error(`MISSING extHostDocument for notebook cell: ${this.uri}`);\n\t\t\t}\n\t\t\tconst apiCell: vscode.NotebookCell = {\n\t\t\t\tget index() { return that.notebook.getCellIndex(that); },\n\t\t\t\tnotebook: that.notebook.apiNotebook,\n\t\t\t\tkind: extHostTypeConverters.NotebookCellKind.to(this._cellData.cellKind),\n\t\t\t\tdocument: data.document,\n\t\t\t\tget mime() { return that._mime; },\n\t\t\t\tset mime(value: string | undefined) { that._mime = value; },\n\t\t\t\tget outputs() { return that._outputs.slice(0); },\n\t\t\t\tget metadata() { return that._metadata; },\n\t\t\t\tget executionSummary() { return that._previousResult; }\n\t\t\t};\n\t\t\tthis._apiCell = Object.freeze(apiCell);\n\t\t}\n\t\treturn this._apiCell;\n\t}\n\n\tsetOutputs(newOutputs: extHostProtocol.NotebookOutputDto[]): void {\n\t\tthis._outputs = newOutputs.map(extHostTypeConverters.NotebookCellOutput.to);\n\t}\n\n\tsetOutputItems(outputId: string, append: boolean, newOutputItems: extHostProtocol.NotebookOutputItemDto[]) {\n\t\tconst newItems = newOutputItems.map(extHostTypeConverters.NotebookCellOutputItem.to);\n\t\tconst output = this._outputs.find(op => op.id === outputId);\n\t\tif (output) {\n\t\t\tif (!append) {\n\t\t\t\toutput.items.length = 0;\n\t\t\t}\n\t\t\toutput.items.push(...newItems);\n\n\t\t\tif (output.items.length > 1 && output.items.every(item => isTextStreamMime(item.mime))) {\n\t\t\t\t// Look for the mimes in the items, and keep track of their order.\n\t\t\t\t// Merge the streams into one output item, per mime type.\n\t\t\t\tconst mimeOutputs = new Map<string, Uint8Array[]>();\n\t\t\t\tconst mimeTypes: string[] = [];\n\t\t\t\toutput.items.forEach(item => {\n\t\t\t\t\tlet items: Uint8Array[];\n\t\t\t\t\tif (mimeOutputs.has(item.mime)) {\n\t\t\t\t\t\titems = mimeOutputs.get(item.mime)!;\n\t\t\t\t\t} else {\n\t\t\t\t\t\titems = [];\n\t\t\t\t\t\tmimeOutputs.set(item.mime, items);\n\t\t\t\t\t\tmimeTypes.push(item.mime);\n\t\t\t\t\t}\n\t\t\t\t\titems.push(item.data);\n\t\t\t\t});\n\t\t\t\toutput.items.length = 0;\n\t\t\t\tmimeTypes.forEach(mime => {\n\t\t\t\t\tconst compressed = notebookCommon.compressOutputItemStreams(mimeOutputs.get(mime)!);\n\t\t\t\t\toutput.items.push({\n\t\t\t\t\t\tmime,\n\t\t\t\t\t\tdata: compressed.data.buffer\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsetMetadata(newMetadata: notebookCommon.NotebookCellMetadata): void {\n\t\tthis._metadata = Object.freeze(newMetadata);\n\t}\n\n\tsetInternalMetadata(newInternalMetadata: notebookCommon.NotebookCellInternalMetadata): void {\n\t\tthis._internalMetadata = newInternalMetadata;\n\t\tthis._previousResult = Object.freeze(extHostTypeConverters.NotebookCellExecutionSummary.to(newInternalMetadata));\n\t}\n\n\tsetMime(newMime: string | undefined) {\n\n\t}\n}\n\n\nexport class ExtHostNotebookDocument {\n\n\tprivate static _handlePool: number = 0;\n\treadonly handle = ExtHostNotebookDocument._handlePool++;\n\n\tprivate readonly _cells: ExtHostCell[] = [];\n\n\tprivate readonly _notebookType: string;\n\n\tprivate _notebook: vscode.NotebookDocument | undefined;\n\tprivate _metadata: Record<string, any>;\n\tprivate _versionId: number = 0;\n\tprivate _isDirty: boolean = false;\n\tprivate _disposed: boolean = false;\n\n\tconstructor(\n\t\tprivate readonly _proxy: extHostProtocol.MainThreadNotebookDocumentsShape,\n\t\tprivate readonly _textDocumentsAndEditors: ExtHostDocumentsAndEditors,\n\t\tprivate readonly _textDocuments: ExtHostDocuments,\n\t\treadonly uri: URI,\n\t\tdata: extHostProtocol.INotebookModelAddedData\n\t) {\n\t\tthis._notebookType = data.viewType;\n\t\tthis._metadata = Object.freeze(data.metadata ?? Object.create(null));\n\t\tthis._spliceNotebookCells([[0, 0, data.cells]], true /* init -> no event*/, undefined);\n\t\tthis._versionId = data.versionId;\n\t}\n\n\tdispose() {\n\t\tthis._disposed = true;\n\t}\n\n\tget versionId(): number {\n\t\treturn this._versionId;\n\t}\n\n\tget apiNotebook(): vscode.NotebookDocument {\n\t\tif (!this._notebook) {\n\t\t\tconst that = this;\n\t\t\tconst apiObject: vscode.NotebookDocument = {\n\t\t\t\tget uri() { return that.uri; },\n\t\t\t\tget version() { return that._versionId; },\n\t\t\t\tget notebookType() { return that._notebookType; },\n\t\t\t\tget isDirty() { return that._isDirty; },\n\t\t\t\tget isUntitled() { return that.uri.scheme === Schemas.untitled; },\n\t\t\t\tget isClosed() { return that._disposed; },\n\t\t\t\tget metadata() { return that._metadata; },\n\t\t\t\tget cellCount() { return that._cells.length; },\n\t\t\t\tcellAt(index) {\n\t\t\t\t\tindex = that._validateIndex(index);\n\t\t\t\t\treturn that._cells[index].apiCell;\n\t\t\t\t},\n\t\t\t\tgetCells(range) {\n\t\t\t\t\tconst cells = range ? that._getCells(range) : that._cells;\n\t\t\t\t\treturn cells.map(cell => cell.apiCell);\n\t\t\t\t},\n\t\t\t\tsave() {\n\t\t\t\t\treturn that._save();\n\t\t\t\t},\n\t\t\t\t[Symbol.for('debug.description')]() {\n\t\t\t\t\treturn `NotebookDocument(${this.uri.toString()})`;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._notebook = Object.freeze(apiObject);\n\t\t}\n\t\treturn this._notebook;\n\t}\n\n\tacceptDocumentPropertiesChanged(data: extHostProtocol.INotebookDocumentPropertiesChangeData) {\n\t\tif (data.metadata) {\n\t\t\tthis._metadata = Object.freeze({ ...this._metadata, ...data.metadata });\n\t\t}\n\t}\n\n\tacceptDirty(isDirty: boolean): void {\n\t\tthis._isDirty = isDirty;\n\t}\n\n\tacceptModelChanged(event: extHostProtocol.NotebookCellsChangedEventDto, isDirty: boolean, newMetadata: notebookCommon.NotebookDocumentMetadata | undefined): vscode.NotebookDocumentChangeEvent {\n\t\tthis._versionId = event.versionId;\n\t\tthis._isDirty = isDirty;\n\t\tthis.acceptDocumentPropertiesChanged({ metadata: newMetadata });\n\n\t\tconst result = {\n\t\t\tnotebook: this.apiNotebook,\n\t\t\tmetadata: newMetadata,\n\t\t\tcellChanges: <vscode.NotebookDocumentCellChange[]>[],\n\t\t\tcontentChanges: <vscode.NotebookDocumentContentChange[]>[],\n\t\t};\n\n\t\ttype RelaxedCellChange = Partial<vscode.NotebookDocumentCellChange> & { cell: vscode.NotebookCell };\n\t\tconst relaxedCellChanges: RelaxedCellChange[] = [];\n\n\t\t// -- apply change and populate content changes\n\n\t\tfor (const rawEvent of event.rawEvents) {\n\t\t\tif (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ModelChange) {\n\t\t\t\tthis._spliceNotebookCells(rawEvent.changes, false, result.contentChanges);\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.Move) {\n\t\t\t\tthis._moveCells(rawEvent.index, rawEvent.length, rawEvent.newIdx, result.contentChanges);\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.Output) {\n\t\t\t\tthis._setCellOutputs(rawEvent.index, rawEvent.outputs);\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, outputs: this._cells[rawEvent.index].apiCell.outputs });\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.OutputItem) {\n\t\t\t\tthis._setCellOutputItems(rawEvent.index, rawEvent.outputId, rawEvent.append, rawEvent.outputItems);\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, outputs: this._cells[rawEvent.index].apiCell.outputs });\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ChangeCellLanguage) {\n\t\t\t\tthis._changeCellLanguage(rawEvent.index, rawEvent.language);\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, document: this._cells[rawEvent.index].apiCell.document });\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ChangeCellContent) {\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, document: this._cells[rawEvent.index].apiCell.document });\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ChangeCellMime) {\n\t\t\t\tthis._changeCellMime(rawEvent.index, rawEvent.mime);\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ChangeCellMetadata) {\n\t\t\t\tthis._changeCellMetadata(rawEvent.index, rawEvent.metadata);\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, metadata: this._cells[rawEvent.index].apiCell.metadata });\n\n\t\t\t} else if (rawEvent.kind === notebookCommon.NotebookCellsChangeType.ChangeCellInternalMetadata) {\n\t\t\t\tthis._changeCellInternalMetadata(rawEvent.index, rawEvent.internalMetadata);\n\t\t\t\trelaxedCellChanges.push({ cell: this._cells[rawEvent.index].apiCell, executionSummary: this._cells[rawEvent.index].apiCell.executionSummary });\n\t\t\t}\n\t\t}\n\n\t\t// -- compact cellChanges\n\n\t\tconst map = new Map<vscode.NotebookCell, number>();\n\t\tfor (let i = 0; i < relaxedCellChanges.length; i++) {\n\t\t\tconst relaxedCellChange = relaxedCellChanges[i];\n\t\t\tconst existing = map.get(relaxedCellChange.cell);\n\t\t\tif (existing === undefined) {\n\t\t\t\tconst newLen = result.cellChanges.push({\n\t\t\t\t\tdocument: undefined,\n\t\t\t\t\texecutionSummary: undefined,\n\t\t\t\t\tmetadata: undefined,\n\t\t\t\t\toutputs: undefined,\n\t\t\t\t\t...relaxedCellChange,\n\t\t\t\t});\n\t\t\t\tmap.set(relaxedCellChange.cell, newLen - 1);\n\t\t\t} else {\n\t\t\t\tresult.cellChanges[existing] = {\n\t\t\t\t\t...result.cellChanges[existing],\n\t\t\t\t\t...relaxedCellChange\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// Freeze event properties so handlers cannot accidentally modify them\n\t\tObject.freeze(result);\n\t\tObject.freeze(result.cellChanges);\n\t\tObject.freeze(result.contentChanges);\n\n\t\treturn result;\n\t}\n\n\tprivate _validateIndex(index: number): number {\n\t\tindex = index | 0;\n\t\tif (index < 0) {\n\t\t\treturn 0;\n\t\t} else if (index >= this._cells.length) {\n\t\t\treturn this._cells.length - 1;\n\t\t} else {\n\t\t\treturn index;\n\t\t}\n\t}\n\n\tprivate _validateRange(range: vscode.NotebookRange): vscode.NotebookRange {\n\t\tlet start = range.start | 0;\n\t\tlet end = range.end | 0;\n\t\tif (start < 0) {\n\t\t\tstart = 0;\n\t\t}\n\t\tif (end > this._cells.length) {\n\t\t\tend = this._cells.length;\n\t\t}\n\t\treturn range.with({ start, end });\n\t}\n\n\tprivate _getCells(range: vscode.NotebookRange): ExtHostCell[] {\n\t\trange = this._validateRange(range);\n\t\tconst result: ExtHostCell[] = [];\n\t\tfor (let i = range.start; i < range.end; i++) {\n\t\t\tresult.push(this._cells[i]);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate async _save(): Promise<boolean> {\n\t\tif (this._disposed) {\n\t\t\treturn Promise.reject(new Error('Notebook has been closed'));\n\t\t}\n\t\treturn this._proxy.$trySaveNotebook(this.uri);\n\t}\n\n\tprivate _spliceNotebookCells(splices: notebookCommon.NotebookCellTextModelSplice<extHostProtocol.NotebookCellDto>[], initialization: boolean, bucket: vscode.NotebookDocumentContentChange[] | undefined): void {\n\t\tif (this._disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst contentChangeEvents: RawContentChangeEvent[] = [];\n\t\tconst addedCellDocuments: extHostProtocol.IModelAddedData[] = [];\n\t\tconst removedCellDocuments: URI[] = [];\n\n\t\tsplices.reverse().forEach(splice => {\n\t\t\tconst cellDtos = splice[2];\n\t\t\tconst newCells = cellDtos.map(cell => {\n\n\t\t\t\tconst extCell = new ExtHostCell(this, this._textDocumentsAndEditors, cell);\n\t\t\t\tif (!initialization) {\n\t\t\t\t\taddedCellDocuments.push(ExtHostCell.asModelAddData(cell));\n\t\t\t\t}\n\t\t\t\treturn extCell;\n\t\t\t});\n\n\t\t\tconst changeEvent = new RawContentChangeEvent(splice[0], splice[1], [], newCells);\n\t\t\tconst deletedItems = this._cells.splice(splice[0], splice[1], ...newCells);\n\t\t\tfor (const cell of deletedItems) {\n\t\t\t\tremovedCellDocuments.push(cell.uri);\n\t\t\t\tchangeEvent.deletedItems.push(cell.apiCell);\n\t\t\t}\n\t\t\tcontentChangeEvents.push(changeEvent);\n\t\t});\n\n\t\tthis._textDocumentsAndEditors.acceptDocumentsAndEditorsDelta({\n\t\t\taddedDocuments: addedCellDocuments,\n\t\t\tremovedDocuments: removedCellDocuments\n\t\t});\n\n\t\tif (bucket) {\n\t\t\tfor (const changeEvent of contentChangeEvents) {\n\t\t\t\tbucket.push(changeEvent.asApiEvent());\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _moveCells(index: number, length: number, newIdx: number, bucket: vscode.NotebookDocumentContentChange[]): void {\n\t\tconst cells = this._cells.splice(index, length);\n\t\tthis._cells.splice(newIdx, 0, ...cells);\n\t\tconst changes = [\n\t\t\tnew RawContentChangeEvent(index, length, cells.map(c => c.apiCell), []),\n\t\t\tnew RawContentChangeEvent(newIdx, 0, [], cells)\n\t\t];\n\t\tfor (const change of changes) {\n\t\t\tbucket.push(change.asApiEvent());\n\t\t}\n\t}\n\n\tprivate _setCellOutputs(index: number, outputs: extHostProtocol.NotebookOutputDto[]): void {\n\t\tconst cell = this._cells[index];\n\t\tcell.setOutputs(outputs);\n\t}\n\n\tprivate _setCellOutputItems(index: number, outputId: string, append: boolean, outputItems: extHostProtocol.NotebookOutputItemDto[]): void {\n\t\tconst cell = this._cells[index];\n\t\tcell.setOutputItems(outputId, append, outputItems);\n\t}\n\n\tprivate _changeCellLanguage(index: number, newLanguageId: string): void {\n\t\tconst cell = this._cells[index];\n\t\tif (cell.apiCell.document.languageId !== newLanguageId) {\n\t\t\tthis._textDocuments.$acceptModelLanguageChanged(cell.uri, newLanguageId);\n\t\t}\n\t}\n\n\tprivate _changeCellMime(index: number, newMime: string | undefined): void {\n\t\tconst cell = this._cells[index];\n\t\tcell.apiCell.mime = newMime;\n\t}\n\n\tprivate _changeCellMetadata(index: number, newMetadata: notebookCommon.NotebookCellMetadata): void {\n\t\tconst cell = this._cells[index];\n\t\tcell.setMetadata(newMetadata);\n\t}\n\n\tprivate _changeCellInternalMetadata(index: number, newInternalMetadata: notebookCommon.NotebookCellInternalMetadata): void {\n\t\tconst cell = this._cells[index];\n\t\tcell.setInternalMetadata(newInternalMetadata);\n\t}\n\n\tgetCellFromApiCell(apiCell: vscode.NotebookCell): ExtHostCell | undefined {\n\t\treturn this._cells.find(cell => cell.apiCell === apiCell);\n\t}\n\n\tgetCellFromIndex(index: number): ExtHostCell | undefined {\n\t\treturn this._cells[index];\n\t}\n\n\tgetCell(cellHandle: number): ExtHostCell | undefined {\n\t\treturn this._cells.find(cell => cell.handle === cellHandle);\n\t}\n\n\tgetCellIndex(cell: ExtHostCell): number {\n\t\treturn this._cells.indexOf(cell);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}