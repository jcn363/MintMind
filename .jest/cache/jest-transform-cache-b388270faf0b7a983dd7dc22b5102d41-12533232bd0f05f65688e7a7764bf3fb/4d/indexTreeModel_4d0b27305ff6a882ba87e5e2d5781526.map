{"version":3,"names":["cov_gb5jrpsw6","actualCoverage","TreeError","splice","tail","Delayer","MicrotaskDelay","LcsDiff","Emitter","EventBufferer","Iterable","isFilterResult","obj","f","s","b","visibility","undefined","getVisibleState","isCollapsibleStateUpdate","update","IndexTreeModel","user","rootRef","root","eventBufferer","_onDidSpliceModel","onDidSpliceModel","event","_onDidSpliceRenderedNodes","onDidSpliceRenderedNodes","_onDidChangeCollapseState","onDidChangeCollapseState","wrapEvent","_onDidChangeRenderNodeCount","onDidChangeRenderNodeCount","collapseByDefault","allowNonCollapsibleParents","filter","autoExpandSingleChildren","refilterDelayer","constructor","rootElement","options","parent","element","children","depth","visibleChildrenCount","visibleChildIndex","collapsible","collapsed","renderNodeCount","visible","filterData","location","deleteCount","toInsert","empty","length","diffIdentityProvider","spliceSmart","spliceSimple","identity","toInsertIterable","recurseLevels","diffDepth","parentNode","getParentNodeWithListIndex","lastDiffIds","index","diff","getElements","slice","map","e","getId","toString","ComputeDiff","quitEarly","locationPrefix","recurseSplice","fromOriginal","fromModified","count","i","Number","MAX_SAFE_INTEGER","lastStartO","Math","min","lastStartM","change","changes","sort","a","originalStart","originalLength","modifiedStart","modifiedLength","onDidCreateNode","onDidDeleteNode","listIndex","revealed","treeListElementsToInsert","nodesToInsertIterator","el","createTreeNode","lastIndex","visibleChildStartIndex","child","nodesToInsert","insertedVisibleChildrenCount","push","deletedNodes","n","deletedVisibleChildrenCount","visit","node","forEach","visibleDeleteCount","reduce","r","_updateAncestorsRenderNodeCount","fire","start","elements","insertedNodes","trigger","refilter","rerender","getTreeNodeWithListIndex","has","hasTreeNode","getListIndex","getListRenderCount","getTreeNode","isCollapsible","setCollapsible","bufferEvents","_setCollapseState","isCollapsed","setCollapsed","recursive","result","_setListNodeCollapseState","onlyVisibleChildIndex","_setNodeCollapseState","previousRenderNodeCount","updateNodeAfterCollapseChange","deep","expandTo","updateNodeAfterFilterChange","cancel","treeElement","parentVisibility","treeListElements","_filterNode","childElements","childRevealed","pop","_updateNodeAfterCollapseChange","_updateNodeAfterFilterChange","resultStartLength","hasVisibleDescendants","data","rest","getNode","getNodeLocation","indexTreeNode","indexOf","reverse","getParentNodeLocation","getFirstElementChild","getLastElementAncestor","_getLastElementAncestor"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/ui/tree/indexTreeModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IIdentityProvider } from '../list/list.js';\nimport { ICollapseStateChangeEvent, ITreeElement, ITreeFilter, ITreeFilterDataResult, ITreeListSpliceData, ITreeModel, ITreeModelSpliceEvent, ITreeNode, TreeError, TreeVisibility } from './tree.js';\nimport { splice, tail } from '../../../common/arrays.js';\nimport { Delayer } from '../../../common/async.js';\nimport { MicrotaskDelay } from '../../../common/symbols.js';\nimport { LcsDiff } from '../../../common/diff/diff.js';\nimport { Emitter, Event, EventBufferer } from '../../../common/event.js';\nimport { Iterable } from '../../../common/iterator.js';\n\n// Exported for tests\nexport interface IIndexTreeNode<T, TFilterData = void> extends ITreeNode<T, TFilterData> {\n\treadonly parent: IIndexTreeNode<T, TFilterData> | undefined;\n\treadonly children: IIndexTreeNode<T, TFilterData>[];\n\tvisibleChildrenCount: number;\n\tvisibleChildIndex: number;\n\tcollapsible: boolean;\n\tcollapsed: boolean;\n\trenderNodeCount: number;\n\tvisibility: TreeVisibility;\n\tvisible: boolean;\n\tfilterData: TFilterData | undefined;\n\tlastDiffIds?: string[];\n}\n\nexport function isFilterResult<T>(obj: unknown): obj is ITreeFilterDataResult<T> {\n\treturn !!obj && (<ITreeFilterDataResult<T>>obj).visibility !== undefined;\n}\n\nexport function getVisibleState(visibility: boolean | TreeVisibility): TreeVisibility {\n\tswitch (visibility) {\n\t\tcase true: return TreeVisibility.Visible;\n\t\tcase false: return TreeVisibility.Hidden;\n\t\tdefault: return visibility;\n\t}\n}\n\nexport interface IIndexTreeModelOptions<T, TFilterData> {\n\treadonly collapseByDefault?: boolean; // defaults to false\n\treadonly allowNonCollapsibleParents?: boolean; // defaults to false\n\treadonly filter?: ITreeFilter<T, TFilterData>;\n\treadonly autoExpandSingleChildren?: boolean;\n}\n\nexport interface IIndexTreeModelSpliceOptions<T, TFilterData> {\n\t/**\n\t * If set, child updates will recurse the given number of levels even if\n\t * items in the splice operation are unchanged. `Infinity` is a valid value.\n\t */\n\treadonly diffDepth?: number;\n\n\t/**\n\t * Identity provider used to optimize splice() calls in the IndexTree. If\n\t * this is not present, optimized splicing is not enabled.\n\t *\n\t * Warning: if this is present, calls to `setChildren()` will not replace\n\t * or update nodes if their identity is the same, even if the elements are\n\t * different. For this, you should call `rerender()`.\n\t */\n\treadonly diffIdentityProvider?: IIdentityProvider<T>;\n\n\t/**\n\t * Callback for when a node is created.\n\t */\n\tonDidCreateNode?: (node: ITreeNode<T, TFilterData>) => void;\n\n\t/**\n\t * Callback for when a node is deleted.\n\t */\n\tonDidDeleteNode?: (node: ITreeNode<T, TFilterData>) => void;\n}\n\ninterface CollapsibleStateUpdate {\n\treadonly collapsible: boolean;\n}\n\ninterface CollapsedStateUpdate {\n\treadonly collapsed: boolean;\n\treadonly recursive: boolean;\n}\n\ntype CollapseStateUpdate = CollapsibleStateUpdate | CollapsedStateUpdate;\n\nfunction isCollapsibleStateUpdate(update: CollapseStateUpdate): update is CollapsibleStateUpdate {\n\treturn 'collapsible' in update;\n}\n\nexport class IndexTreeModel<T extends Exclude<any, undefined>, TFilterData = void> implements ITreeModel<T, TFilterData, number[]> {\n\n\treadonly rootRef = [];\n\n\tprivate root: IIndexTreeNode<T, TFilterData>;\n\tprivate eventBufferer = new EventBufferer();\n\n\tprivate readonly _onDidSpliceModel = new Emitter<ITreeModelSpliceEvent<T, TFilterData>>();\n\treadonly onDidSpliceModel = this._onDidSpliceModel.event;\n\n\tprivate readonly _onDidSpliceRenderedNodes = new Emitter<ITreeListSpliceData<T, TFilterData>>();\n\treadonly onDidSpliceRenderedNodes = this._onDidSpliceRenderedNodes.event;\n\n\tprivate readonly _onDidChangeCollapseState = new Emitter<ICollapseStateChangeEvent<T, TFilterData>>();\n\treadonly onDidChangeCollapseState: Event<ICollapseStateChangeEvent<T, TFilterData>> = this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);\n\n\tprivate readonly _onDidChangeRenderNodeCount = new Emitter<ITreeNode<T, TFilterData>>();\n\treadonly onDidChangeRenderNodeCount: Event<ITreeNode<T, TFilterData>> = this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);\n\n\tprivate collapseByDefault: boolean;\n\tprivate allowNonCollapsibleParents: boolean;\n\tprivate filter?: ITreeFilter<T, TFilterData>;\n\tprivate autoExpandSingleChildren: boolean;\n\n\tprivate readonly refilterDelayer = new Delayer(MicrotaskDelay);\n\n\tconstructor(\n\t\tprivate user: string,\n\t\trootElement: T,\n\t\toptions: IIndexTreeModelOptions<T, TFilterData> = {}\n\t) {\n\t\tthis.collapseByDefault = typeof options.collapseByDefault === 'undefined' ? false : options.collapseByDefault;\n\t\tthis.allowNonCollapsibleParents = options.allowNonCollapsibleParents ?? false;\n\t\tthis.filter = options.filter;\n\t\tthis.autoExpandSingleChildren = typeof options.autoExpandSingleChildren === 'undefined' ? false : options.autoExpandSingleChildren;\n\n\t\tthis.root = {\n\t\t\tparent: undefined,\n\t\t\telement: rootElement,\n\t\t\tchildren: [],\n\t\t\tdepth: 0,\n\t\t\tvisibleChildrenCount: 0,\n\t\t\tvisibleChildIndex: -1,\n\t\t\tcollapsible: false,\n\t\t\tcollapsed: false,\n\t\t\trenderNodeCount: 0,\n\t\t\tvisibility: TreeVisibility.Visible,\n\t\t\tvisible: true,\n\t\t\tfilterData: undefined\n\t\t};\n\t}\n\n\tsplice(\n\t\tlocation: number[],\n\t\tdeleteCount: number,\n\t\ttoInsert: Iterable<ITreeElement<T>> = Iterable.empty(),\n\t\toptions: IIndexTreeModelSpliceOptions<T, TFilterData> = {},\n\t): void {\n\t\tif (location.length === 0) {\n\t\t\tthrow new TreeError(this.user, 'Invalid tree location');\n\t\t}\n\n\t\tif (options.diffIdentityProvider) {\n\t\t\tthis.spliceSmart(options.diffIdentityProvider, location, deleteCount, toInsert, options);\n\t\t} else {\n\t\t\tthis.spliceSimple(location, deleteCount, toInsert, options);\n\t\t}\n\t}\n\n\tprivate spliceSmart(\n\t\tidentity: IIdentityProvider<T>,\n\t\tlocation: number[],\n\t\tdeleteCount: number,\n\t\ttoInsertIterable: Iterable<ITreeElement<T>> = Iterable.empty(),\n\t\toptions: IIndexTreeModelSpliceOptions<T, TFilterData>,\n\t\trecurseLevels = options.diffDepth ?? 0,\n\t) {\n\t\tconst { parentNode } = this.getParentNodeWithListIndex(location);\n\t\tif (!parentNode.lastDiffIds) {\n\t\t\treturn this.spliceSimple(location, deleteCount, toInsertIterable, options);\n\t\t}\n\n\t\tconst toInsert = [...toInsertIterable];\n\t\tconst index = location[location.length - 1];\n\t\tconst diff = new LcsDiff(\n\t\t\t{ getElements: () => parentNode.lastDiffIds! },\n\t\t\t{\n\t\t\t\tgetElements: () => [\n\t\t\t\t\t...parentNode.children.slice(0, index),\n\t\t\t\t\t...toInsert,\n\t\t\t\t\t...parentNode.children.slice(index + deleteCount),\n\t\t\t\t].map(e => identity.getId(e.element).toString())\n\t\t\t},\n\t\t).ComputeDiff(false);\n\n\t\t// if we were given a 'best effort' diff, use default behavior\n\t\tif (diff.quitEarly) {\n\t\t\tparentNode.lastDiffIds = undefined;\n\t\t\treturn this.spliceSimple(location, deleteCount, toInsert, options);\n\t\t}\n\n\t\tconst locationPrefix = location.slice(0, -1);\n\t\tconst recurseSplice = (fromOriginal: number, fromModified: number, count: number) => {\n\t\t\tif (recurseLevels > 0) {\n\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\tfromOriginal--;\n\t\t\t\t\tfromModified--;\n\t\t\t\t\tthis.spliceSmart(\n\t\t\t\t\t\tidentity,\n\t\t\t\t\t\t[...locationPrefix, fromOriginal, 0],\n\t\t\t\t\t\tNumber.MAX_SAFE_INTEGER,\n\t\t\t\t\t\ttoInsert[fromModified].children,\n\t\t\t\t\t\toptions,\n\t\t\t\t\t\trecurseLevels - 1,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tlet lastStartO = Math.min(parentNode.children.length, index + deleteCount);\n\t\tlet lastStartM = toInsert.length;\n\t\tfor (const change of diff.changes.sort((a, b) => b.originalStart - a.originalStart)) {\n\t\t\trecurseSplice(lastStartO, lastStartM, lastStartO - (change.originalStart + change.originalLength));\n\t\t\tlastStartO = change.originalStart;\n\t\t\tlastStartM = change.modifiedStart - index;\n\n\t\t\tthis.spliceSimple(\n\t\t\t\t[...locationPrefix, lastStartO],\n\t\t\t\tchange.originalLength,\n\t\t\t\tIterable.slice(toInsert, lastStartM, lastStartM + change.modifiedLength),\n\t\t\t\toptions,\n\t\t\t);\n\t\t}\n\n\t\t// at this point, startO === startM === count since any remaining prefix should match\n\t\trecurseSplice(lastStartO, lastStartM, lastStartO);\n\t}\n\n\tprivate spliceSimple(\n\t\tlocation: number[],\n\t\tdeleteCount: number,\n\t\ttoInsert: Iterable<ITreeElement<T>> = Iterable.empty(),\n\t\t{ onDidCreateNode, onDidDeleteNode, diffIdentityProvider }: IIndexTreeModelSpliceOptions<T, TFilterData>,\n\t) {\n\t\tconst { parentNode, listIndex, revealed, visible } = this.getParentNodeWithListIndex(location);\n\t\tconst treeListElementsToInsert: ITreeNode<T, TFilterData>[] = [];\n\t\tconst nodesToInsertIterator = Iterable.map(toInsert, el => this.createTreeNode(el, parentNode, parentNode.visible ? TreeVisibility.Visible : TreeVisibility.Hidden, revealed, treeListElementsToInsert, onDidCreateNode));\n\n\t\tconst lastIndex = location[location.length - 1];\n\n\t\t// figure out what's the visible child start index right before the\n\t\t// splice point\n\t\tlet visibleChildStartIndex = 0;\n\n\t\tfor (let i = lastIndex; i >= 0 && i < parentNode.children.length; i--) {\n\t\t\tconst child = parentNode.children[i];\n\n\t\t\tif (child.visible) {\n\t\t\t\tvisibleChildStartIndex = child.visibleChildIndex;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst nodesToInsert: IIndexTreeNode<T, TFilterData>[] = [];\n\t\tlet insertedVisibleChildrenCount = 0;\n\t\tlet renderNodeCount = 0;\n\n\t\tfor (const child of nodesToInsertIterator) {\n\t\t\tnodesToInsert.push(child);\n\t\t\trenderNodeCount += child.renderNodeCount;\n\n\t\t\tif (child.visible) {\n\t\t\t\tchild.visibleChildIndex = visibleChildStartIndex + insertedVisibleChildrenCount++;\n\t\t\t}\n\t\t}\n\n\t\tconst deletedNodes = splice(parentNode.children, lastIndex, deleteCount, nodesToInsert);\n\n\t\tif (!diffIdentityProvider) {\n\t\t\tparentNode.lastDiffIds = undefined;\n\t\t} else if (parentNode.lastDiffIds) {\n\t\t\tsplice(parentNode.lastDiffIds, lastIndex, deleteCount, nodesToInsert.map(n => diffIdentityProvider.getId(n.element).toString()));\n\t\t} else {\n\t\t\tparentNode.lastDiffIds = parentNode.children.map(n => diffIdentityProvider.getId(n.element).toString());\n\t\t}\n\n\t\t// figure out what is the count of deleted visible children\n\t\tlet deletedVisibleChildrenCount = 0;\n\n\t\tfor (const child of deletedNodes) {\n\t\t\tif (child.visible) {\n\t\t\t\tdeletedVisibleChildrenCount++;\n\t\t\t}\n\t\t}\n\n\t\t// and adjust for all visible children after the splice point\n\t\tif (deletedVisibleChildrenCount !== 0) {\n\t\t\tfor (let i = lastIndex + nodesToInsert.length; i < parentNode.children.length; i++) {\n\t\t\t\tconst child = parentNode.children[i];\n\n\t\t\t\tif (child.visible) {\n\t\t\t\t\tchild.visibleChildIndex -= deletedVisibleChildrenCount;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// update parent's visible children count\n\t\tparentNode.visibleChildrenCount += insertedVisibleChildrenCount - deletedVisibleChildrenCount;\n\n\t\tif (deletedNodes.length > 0 && onDidDeleteNode) {\n\t\t\tconst visit = (node: ITreeNode<T, TFilterData>) => {\n\t\t\t\tonDidDeleteNode(node);\n\t\t\t\tnode.children.forEach(visit);\n\t\t\t};\n\n\t\t\tdeletedNodes.forEach(visit);\n\t\t}\n\n\t\tif (revealed && visible) {\n\t\t\tconst visibleDeleteCount = deletedNodes.reduce((r, node) => r + (node.visible ? node.renderNodeCount : 0), 0);\n\n\t\t\tthis._updateAncestorsRenderNodeCount(parentNode, renderNodeCount - visibleDeleteCount);\n\t\t\tthis._onDidSpliceRenderedNodes.fire({ start: listIndex, deleteCount: visibleDeleteCount, elements: treeListElementsToInsert });\n\t\t}\n\n\t\tthis._onDidSpliceModel.fire({ insertedNodes: nodesToInsert, deletedNodes });\n\n\t\tlet node: IIndexTreeNode<T, TFilterData> | undefined = parentNode;\n\n\t\twhile (node) {\n\t\t\tif (node.visibility === TreeVisibility.Recurse) {\n\t\t\t\t// delayed to avoid excessive refiltering, see #135941\n\t\t\t\tthis.refilterDelayer.trigger(() => this.refilter());\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tnode = node.parent;\n\t\t}\n\t}\n\n\trerender(location: number[]): void {\n\t\tif (location.length === 0) {\n\t\t\tthrow new TreeError(this.user, 'Invalid tree location');\n\t\t}\n\n\t\tconst { node, listIndex, revealed } = this.getTreeNodeWithListIndex(location);\n\n\t\tif (node.visible && revealed) {\n\t\t\tthis._onDidSpliceRenderedNodes.fire({ start: listIndex, deleteCount: 1, elements: [node] });\n\t\t}\n\t}\n\n\thas(location: number[]): boolean {\n\t\treturn this.hasTreeNode(location);\n\t}\n\n\tgetListIndex(location: number[]): number {\n\t\tconst { listIndex, visible, revealed } = this.getTreeNodeWithListIndex(location);\n\t\treturn visible && revealed ? listIndex : -1;\n\t}\n\n\tgetListRenderCount(location: number[]): number {\n\t\treturn this.getTreeNode(location).renderNodeCount;\n\t}\n\n\tisCollapsible(location: number[]): boolean {\n\t\treturn this.getTreeNode(location).collapsible;\n\t}\n\n\tsetCollapsible(location: number[], collapsible?: boolean): boolean {\n\t\tconst node = this.getTreeNode(location);\n\n\t\tif (typeof collapsible === 'undefined') {\n\t\t\tcollapsible = !node.collapsible;\n\t\t}\n\n\t\tconst update: CollapsibleStateUpdate = { collapsible };\n\t\treturn this.eventBufferer.bufferEvents(() => this._setCollapseState(location, update));\n\t}\n\n\tisCollapsed(location: number[]): boolean {\n\t\treturn this.getTreeNode(location).collapsed;\n\t}\n\n\tsetCollapsed(location: number[], collapsed?: boolean, recursive?: boolean): boolean {\n\t\tconst node = this.getTreeNode(location);\n\n\t\tif (typeof collapsed === 'undefined') {\n\t\t\tcollapsed = !node.collapsed;\n\t\t}\n\n\t\tconst update: CollapsedStateUpdate = { collapsed, recursive: recursive || false };\n\t\treturn this.eventBufferer.bufferEvents(() => this._setCollapseState(location, update));\n\t}\n\n\tprivate _setCollapseState(location: number[], update: CollapseStateUpdate): boolean {\n\t\tconst { node, listIndex, revealed } = this.getTreeNodeWithListIndex(location);\n\n\t\tconst result = this._setListNodeCollapseState(node, listIndex, revealed, update);\n\n\t\tif (node !== this.root && this.autoExpandSingleChildren && result && !isCollapsibleStateUpdate(update) && node.collapsible && !node.collapsed && !update.recursive) {\n\t\t\tlet onlyVisibleChildIndex = -1;\n\n\t\t\tfor (let i = 0; i < node.children.length; i++) {\n\t\t\t\tconst child = node.children[i];\n\n\t\t\t\tif (child.visible) {\n\t\t\t\t\tif (onlyVisibleChildIndex > -1) {\n\t\t\t\t\t\tonlyVisibleChildIndex = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonlyVisibleChildIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (onlyVisibleChildIndex > -1) {\n\t\t\t\tthis._setCollapseState([...location, onlyVisibleChildIndex], update);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate _setListNodeCollapseState(node: IIndexTreeNode<T, TFilterData>, listIndex: number, revealed: boolean, update: CollapseStateUpdate): boolean {\n\t\tconst result = this._setNodeCollapseState(node, update, false);\n\n\t\tif (!revealed || !node.visible || !result) {\n\t\t\treturn result;\n\t\t}\n\n\t\tconst previousRenderNodeCount = node.renderNodeCount;\n\t\tconst toInsert = this.updateNodeAfterCollapseChange(node);\n\t\tconst deleteCount = previousRenderNodeCount - (listIndex === -1 ? 0 : 1);\n\t\tthis._onDidSpliceRenderedNodes.fire({ start: listIndex + 1, deleteCount: deleteCount, elements: toInsert.slice(1) });\n\n\t\treturn result;\n\t}\n\n\tprivate _setNodeCollapseState(node: IIndexTreeNode<T, TFilterData>, update: CollapseStateUpdate, deep: boolean): boolean {\n\t\tlet result: boolean;\n\n\t\tif (node === this.root) {\n\t\t\tresult = false;\n\t\t} else {\n\t\t\tif (isCollapsibleStateUpdate(update)) {\n\t\t\t\tresult = node.collapsible !== update.collapsible;\n\t\t\t\tnode.collapsible = update.collapsible;\n\t\t\t} else if (!node.collapsible) {\n\t\t\t\tresult = false;\n\t\t\t} else {\n\t\t\t\tresult = node.collapsed !== update.collapsed;\n\t\t\t\tnode.collapsed = update.collapsed;\n\t\t\t}\n\n\t\t\tif (result) {\n\t\t\t\tthis._onDidChangeCollapseState.fire({ node, deep });\n\t\t\t}\n\t\t}\n\n\t\tif (!isCollapsibleStateUpdate(update) && update.recursive) {\n\t\t\tfor (const child of node.children) {\n\t\t\t\tresult = this._setNodeCollapseState(child, update, true) || result;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\texpandTo(location: number[]): void {\n\t\tthis.eventBufferer.bufferEvents(() => {\n\t\t\tlet node = this.getTreeNode(location);\n\n\t\t\twhile (node.parent) {\n\t\t\t\tnode = node.parent;\n\t\t\t\tlocation = location.slice(0, location.length - 1);\n\n\t\t\t\tif (node.collapsed) {\n\t\t\t\t\tthis._setCollapseState(location, { collapsed: false, recursive: false });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trefilter(): void {\n\t\tconst previousRenderNodeCount = this.root.renderNodeCount;\n\t\tconst toInsert = this.updateNodeAfterFilterChange(this.root);\n\t\tthis._onDidSpliceRenderedNodes.fire({ start: 0, deleteCount: previousRenderNodeCount, elements: toInsert });\n\t\tthis.refilterDelayer.cancel();\n\t}\n\n\tprivate createTreeNode(\n\t\ttreeElement: ITreeElement<T>,\n\t\tparent: IIndexTreeNode<T, TFilterData>,\n\t\tparentVisibility: TreeVisibility,\n\t\trevealed: boolean,\n\t\ttreeListElements: ITreeNode<T, TFilterData>[],\n\t\tonDidCreateNode?: (node: ITreeNode<T, TFilterData>) => void\n\t): IIndexTreeNode<T, TFilterData> {\n\t\tconst node: IIndexTreeNode<T, TFilterData> = {\n\t\t\tparent,\n\t\t\telement: treeElement.element,\n\t\t\tchildren: [],\n\t\t\tdepth: parent.depth + 1,\n\t\t\tvisibleChildrenCount: 0,\n\t\t\tvisibleChildIndex: -1,\n\t\t\tcollapsible: typeof treeElement.collapsible === 'boolean' ? treeElement.collapsible : (typeof treeElement.collapsed !== 'undefined'),\n\t\t\tcollapsed: typeof treeElement.collapsed === 'undefined' ? this.collapseByDefault : treeElement.collapsed,\n\t\t\trenderNodeCount: 1,\n\t\t\tvisibility: TreeVisibility.Visible,\n\t\t\tvisible: true,\n\t\t\tfilterData: undefined\n\t\t};\n\n\t\tconst visibility = this._filterNode(node, parentVisibility);\n\t\tnode.visibility = visibility;\n\n\t\tif (revealed) {\n\t\t\ttreeListElements.push(node);\n\t\t}\n\n\t\tconst childElements = treeElement.children || Iterable.empty();\n\t\tconst childRevealed = revealed && visibility !== TreeVisibility.Hidden && !node.collapsed;\n\n\t\tlet visibleChildrenCount = 0;\n\t\tlet renderNodeCount = 1;\n\n\t\tfor (const el of childElements) {\n\t\t\tconst child = this.createTreeNode(el, node, visibility, childRevealed, treeListElements, onDidCreateNode);\n\t\t\tnode.children.push(child);\n\t\t\trenderNodeCount += child.renderNodeCount;\n\n\t\t\tif (child.visible) {\n\t\t\t\tchild.visibleChildIndex = visibleChildrenCount++;\n\t\t\t}\n\t\t}\n\n\t\tif (!this.allowNonCollapsibleParents) {\n\t\t\tnode.collapsible = node.collapsible || node.children.length > 0;\n\t\t}\n\n\t\tnode.visibleChildrenCount = visibleChildrenCount;\n\t\tnode.visible = visibility === TreeVisibility.Recurse ? visibleChildrenCount > 0 : (visibility === TreeVisibility.Visible);\n\n\t\tif (!node.visible) {\n\t\t\tnode.renderNodeCount = 0;\n\n\t\t\tif (revealed) {\n\t\t\t\ttreeListElements.pop();\n\t\t\t}\n\t\t} else if (!node.collapsed) {\n\t\t\tnode.renderNodeCount = renderNodeCount;\n\t\t}\n\n\t\tonDidCreateNode?.(node);\n\n\t\treturn node;\n\t}\n\n\tprivate updateNodeAfterCollapseChange(node: IIndexTreeNode<T, TFilterData>): ITreeNode<T, TFilterData>[] {\n\t\tconst previousRenderNodeCount = node.renderNodeCount;\n\t\tconst result: ITreeNode<T, TFilterData>[] = [];\n\n\t\tthis._updateNodeAfterCollapseChange(node, result);\n\t\tthis._updateAncestorsRenderNodeCount(node.parent, result.length - previousRenderNodeCount);\n\n\t\treturn result;\n\t}\n\n\tprivate _updateNodeAfterCollapseChange(node: IIndexTreeNode<T, TFilterData>, result: ITreeNode<T, TFilterData>[]): number {\n\t\tif (node.visible === false) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tresult.push(node);\n\t\tnode.renderNodeCount = 1;\n\n\t\tif (!node.collapsed) {\n\t\t\tfor (const child of node.children) {\n\t\t\t\tnode.renderNodeCount += this._updateNodeAfterCollapseChange(child, result);\n\t\t\t}\n\t\t}\n\n\t\tthis._onDidChangeRenderNodeCount.fire(node);\n\t\treturn node.renderNodeCount;\n\t}\n\n\tprivate updateNodeAfterFilterChange(node: IIndexTreeNode<T, TFilterData>): ITreeNode<T, TFilterData>[] {\n\t\tconst previousRenderNodeCount = node.renderNodeCount;\n\t\tconst result: ITreeNode<T, TFilterData>[] = [];\n\n\t\tthis._updateNodeAfterFilterChange(node, node.visible ? TreeVisibility.Visible : TreeVisibility.Hidden, result);\n\t\tthis._updateAncestorsRenderNodeCount(node.parent, result.length - previousRenderNodeCount);\n\n\t\treturn result;\n\t}\n\n\tprivate _updateNodeAfterFilterChange(node: IIndexTreeNode<T, TFilterData>, parentVisibility: TreeVisibility, result: ITreeNode<T, TFilterData>[], revealed = true): boolean {\n\t\tlet visibility: TreeVisibility;\n\n\t\tif (node !== this.root) {\n\t\t\tvisibility = this._filterNode(node, parentVisibility);\n\n\t\t\tif (visibility === TreeVisibility.Hidden) {\n\t\t\t\tnode.visible = false;\n\t\t\t\tnode.renderNodeCount = 0;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (revealed) {\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t}\n\n\t\tconst resultStartLength = result.length;\n\t\tnode.renderNodeCount = node === this.root ? 0 : 1;\n\n\t\tlet hasVisibleDescendants = false;\n\t\tif (!node.collapsed || visibility! !== TreeVisibility.Hidden) {\n\t\t\tlet visibleChildIndex = 0;\n\n\t\t\tfor (const child of node.children) {\n\t\t\t\thasVisibleDescendants = this._updateNodeAfterFilterChange(child, visibility!, result, revealed && !node.collapsed) || hasVisibleDescendants;\n\n\t\t\t\tif (child.visible) {\n\t\t\t\t\tchild.visibleChildIndex = visibleChildIndex++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnode.visibleChildrenCount = visibleChildIndex;\n\t\t} else {\n\t\t\tnode.visibleChildrenCount = 0;\n\t\t}\n\n\t\tif (node !== this.root) {\n\t\t\tnode.visible = visibility! === TreeVisibility.Recurse ? hasVisibleDescendants : (visibility! === TreeVisibility.Visible);\n\t\t\tnode.visibility = visibility!;\n\t\t}\n\n\t\tif (!node.visible) {\n\t\t\tnode.renderNodeCount = 0;\n\n\t\t\tif (revealed) {\n\t\t\t\tresult.pop();\n\t\t\t}\n\t\t} else if (!node.collapsed) {\n\t\t\tnode.renderNodeCount += result.length - resultStartLength;\n\t\t}\n\n\t\tthis._onDidChangeRenderNodeCount.fire(node);\n\t\treturn node.visible;\n\t}\n\n\tprivate _updateAncestorsRenderNodeCount(node: IIndexTreeNode<T, TFilterData> | undefined, diff: number): void {\n\t\tif (diff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\twhile (node) {\n\t\t\tnode.renderNodeCount += diff;\n\t\t\tthis._onDidChangeRenderNodeCount.fire(node);\n\t\t\tnode = node.parent;\n\t\t}\n\t}\n\n\tprivate _filterNode(node: IIndexTreeNode<T, TFilterData>, parentVisibility: TreeVisibility): TreeVisibility {\n\t\tconst result = this.filter ? this.filter.filter(node.element, parentVisibility) : TreeVisibility.Visible;\n\n\t\tif (typeof result === 'boolean') {\n\t\t\tnode.filterData = undefined;\n\t\t\treturn result ? TreeVisibility.Visible : TreeVisibility.Hidden;\n\t\t} else if (isFilterResult<TFilterData>(result)) {\n\t\t\tnode.filterData = result.data;\n\t\t\treturn getVisibleState(result.visibility);\n\t\t} else {\n\t\t\tnode.filterData = undefined;\n\t\t\treturn getVisibleState(result);\n\t\t}\n\t}\n\n\t// cheap\n\tprivate hasTreeNode(location: number[], node: IIndexTreeNode<T, TFilterData> = this.root): boolean {\n\t\tif (!location || location.length === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst [index, ...rest] = location;\n\n\t\tif (index < 0 || index > node.children.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.hasTreeNode(rest, node.children[index]);\n\t}\n\n\t// cheap\n\tprivate getTreeNode(location: number[], node: IIndexTreeNode<T, TFilterData> = this.root): IIndexTreeNode<T, TFilterData> {\n\t\tif (!location || location.length === 0) {\n\t\t\treturn node;\n\t\t}\n\n\t\tconst [index, ...rest] = location;\n\n\t\tif (index < 0 || index > node.children.length) {\n\t\t\tthrow new TreeError(this.user, 'Invalid tree location');\n\t\t}\n\n\t\treturn this.getTreeNode(rest, node.children[index]);\n\t}\n\n\t// expensive\n\tprivate getTreeNodeWithListIndex(location: number[]): { node: IIndexTreeNode<T, TFilterData>; listIndex: number; revealed: boolean; visible: boolean } {\n\t\tif (location.length === 0) {\n\t\t\treturn { node: this.root, listIndex: -1, revealed: true, visible: false };\n\t\t}\n\n\t\tconst { parentNode, listIndex, revealed, visible } = this.getParentNodeWithListIndex(location);\n\t\tconst index = location[location.length - 1];\n\n\t\tif (index < 0 || index > parentNode.children.length) {\n\t\t\tthrow new TreeError(this.user, 'Invalid tree location');\n\t\t}\n\n\t\tconst node = parentNode.children[index];\n\n\t\treturn { node, listIndex, revealed, visible: visible && node.visible };\n\t}\n\n\tprivate getParentNodeWithListIndex(location: number[], node: IIndexTreeNode<T, TFilterData> = this.root, listIndex: number = 0, revealed = true, visible = true): { parentNode: IIndexTreeNode<T, TFilterData>; listIndex: number; revealed: boolean; visible: boolean } {\n\t\tconst [index, ...rest] = location;\n\n\t\tif (index < 0 || index > node.children.length) {\n\t\t\tthrow new TreeError(this.user, 'Invalid tree location');\n\t\t}\n\n\t\t// TODO@joao perf!\n\t\tfor (let i = 0; i < index; i++) {\n\t\t\tlistIndex += node.children[i].renderNodeCount;\n\t\t}\n\n\t\trevealed = revealed && !node.collapsed;\n\t\tvisible = visible && node.visible;\n\n\t\tif (rest.length === 0) {\n\t\t\treturn { parentNode: node, listIndex, revealed, visible };\n\t\t}\n\n\t\treturn this.getParentNodeWithListIndex(rest, node.children[index], listIndex + 1, revealed, visible);\n\t}\n\n\tgetNode(location: number[] = []): ITreeNode<T, TFilterData> {\n\t\treturn this.getTreeNode(location);\n\t}\n\n\t// TODO@joao perf!\n\tgetNodeLocation(node: ITreeNode<T, TFilterData>): number[] {\n\t\tconst location: number[] = [];\n\t\tlet indexTreeNode = node as IIndexTreeNode<T, TFilterData>; // typing woes\n\n\t\twhile (indexTreeNode.parent) {\n\t\t\tlocation.push(indexTreeNode.parent.children.indexOf(indexTreeNode));\n\t\t\tindexTreeNode = indexTreeNode.parent;\n\t\t}\n\n\t\treturn location.reverse();\n\t}\n\n\tgetParentNodeLocation(location: number[]): number[] | undefined {\n\t\tif (location.length === 0) {\n\t\t\treturn undefined;\n\t\t} else if (location.length === 1) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\treturn tail(location)[0];\n\t\t}\n\t}\n\n\tgetFirstElementChild(location: number[]): T | undefined {\n\t\tconst node = this.getTreeNode(location);\n\n\t\tif (node.children.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn node.children[0].element;\n\t}\n\n\tgetLastElementAncestor(location: number[] = []): T | undefined {\n\t\tconst node = this.getTreeNode(location);\n\n\t\tif (node.children.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this._getLastElementAncestor(node);\n\t}\n\n\tprivate _getLastElementAncestor(node: ITreeNode<T, TFilterData>): T {\n\t\tif (node.children.length === 0) {\n\t\t\treturn node.element;\n\t\t}\n\n\t\treturn this._getLastElementAncestor(node.children[node.children.length - 1]);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}