{"version":3,"names":["cov_2retb0qh8z","actualCoverage","getMediaMime","URI","mcpAllowableContentTypes","s","validateIcon","icon","launch","logger","f","mimeType","b","toLowerCase","src","includes","debug","join","uri","parse","scheme","type","expectedAuthority","authority","parseAndValidateMcpIcon","icons","result","sizesArr","sizes","split","Array","isArray","push","theme","map","size","widthStr","heightStr","width","Number","height","sort","a","McpIcons","_icons","fromStored","fromParsed","i","revive","constructor","getUrl","dark","getSizeWithTheme","light","undefined","bestOfAnySize","matchingSize","find"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/mcp/common/mcpIcons.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getMediaMime } from '../../../../base/common/mime.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ILogger } from '../../../../platform/log/common/log.js';\nimport { Dto } from '../../../services/extensions/common/proxyIdentifier.js';\nimport { IMcpIcons, McpServerLaunch, McpServerTransportType } from './mcpTypes.js';\nimport { MCP } from './modelContextProtocol.js';\n\nconst mcpAllowableContentTypes: readonly string[] = [\n\t'image/webp',\n\t'image/png',\n\t'image/jpeg',\n\t'image/jpg',\n\t'image/gif'\n];\n\nconst enum IconTheme {\n\tLight,\n\tDark,\n\tAny,\n}\n\ninterface IIcon {\n\t/** URI the image can be loaded from */\n\tsrc: URI;\n\t/** Theme for this icon. */\n\ttheme: IconTheme;\n\t/** Sizes of the icon in ascending order. */\n\tsizes: { width: number; height: number }[];\n}\n\nexport type ParsedMcpIcons = IIcon[];\nexport type StoredMcpIcons = Dto<IIcon>[];\n\n\nfunction validateIcon(icon: MCP.Icon, launch: McpServerLaunch, logger: ILogger): URI | undefined {\n\tconst mimeType = icon.mimeType?.toLowerCase() || getMediaMime(icon.src);\n\tif (!mimeType || !mcpAllowableContentTypes.includes(mimeType)) {\n\t\tlogger.debug(`Ignoring icon with unsupported mime type: ${icon.src} (${mimeType}), allowed: ${mcpAllowableContentTypes.join(', ')}`);\n\t\treturn;\n\t}\n\n\tconst uri = URI.parse(icon.src);\n\tif (uri.scheme === 'data') {\n\t\treturn uri;\n\t}\n\n\tif (uri.scheme === 'https' || uri.scheme === 'http') {\n\t\tif (launch.type !== McpServerTransportType.HTTP) {\n\t\t\tlogger.debug(`Ignoring icon with HTTP/HTTPS URL: ${icon.src} as the MCP server is not launched with HTTP transport.`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst expectedAuthority = launch.uri.authority.toLowerCase();\n\t\tif (uri.authority.toLowerCase() !== expectedAuthority) {\n\t\t\tlogger.debug(`Ignoring icon with untrusted authority: ${icon.src}, expected authority: ${expectedAuthority}`);\n\t\t\treturn;\n\t\t}\n\n\t\treturn uri;\n\t}\n\n\tif (uri.scheme === 'file') {\n\t\tif (launch.type !== McpServerTransportType.Stdio) {\n\t\t\tlogger.debug(`Ignoring icon with file URL: ${icon.src} as the MCP server is not launched as a local process.`);\n\t\t\treturn;\n\t\t}\n\n\t\treturn uri;\n\t}\n\n\tlogger.debug(`Ignoring icon with unsupported scheme: ${icon.src}. Allowed: data:, http:, https:, file:`);\n\treturn;\n}\n\nexport function parseAndValidateMcpIcon(icons: MCP.Icons, launch: McpServerLaunch, logger: ILogger): ParsedMcpIcons {\n\tconst result: ParsedMcpIcons = [];\n\tfor (const icon of icons.icons || []) {\n\t\tconst uri = validateIcon(icon, launch, logger);\n\t\tif (!uri) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst sizesArr = typeof icon.sizes === 'string' ? icon.sizes.split(' ') : Array.isArray(icon.sizes) ? icon.sizes : [];\n\t\tresult.push({\n\t\t\tsrc: uri,\n\t\t\ttheme: icon.theme === 'light' ? IconTheme.Light : icon.theme === 'dark' ? IconTheme.Dark : IconTheme.Any,\n\t\t\tsizes: sizesArr.map(size => {\n\t\t\t\tconst [widthStr, heightStr] = size.toLowerCase().split('x');\n\t\t\t\treturn { width: Number(widthStr) || 0, height: Number(heightStr) || 0 };\n\t\t\t}).sort((a, b) => a.width - b.width)\n\t\t});\n\t}\n\n\tresult.sort((a, b) => a.sizes[0]?.width - b.sizes[0]?.width);\n\n\treturn result;\n}\n\nexport class McpIcons implements IMcpIcons {\n\tpublic static fromStored(icons: StoredMcpIcons | undefined) {\n\t\treturn McpIcons.fromParsed(icons?.map(i => ({ src: URI.revive(i.src), theme: i.theme, sizes: i.sizes })));\n\t}\n\n\tpublic static fromParsed(icons: ParsedMcpIcons | undefined) {\n\t\treturn new McpIcons(icons || []);\n\t}\n\n\tprotected constructor(private readonly _icons: IIcon[]) { }\n\n\tgetUrl(size: number): { dark: URI; light?: URI } | undefined {\n\t\tconst dark = this.getSizeWithTheme(size, IconTheme.Dark);\n\t\tif (dark?.theme === IconTheme.Any) {\n\t\t\treturn { dark: dark.src };\n\t\t}\n\n\t\tconst light = this.getSizeWithTheme(size, IconTheme.Light);\n\t\tif (!light && !dark) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn { dark: (dark || light)!.src, light: light?.src };\n\t}\n\n\tprivate getSizeWithTheme(size: number, theme: IconTheme): IIcon | undefined {\n\t\tlet bestOfAnySize: IIcon | undefined;\n\n\t\tfor (const icon of this._icons) {\n\t\t\tif (icon.theme === theme || icon.theme === IconTheme.Any || icon.theme === undefined) { // undefined check for back compat\n\t\t\t\tbestOfAnySize = icon;\n\n\t\t\t\tconst matchingSize = icon.sizes.find(s => s.width >= size);\n\t\t\t\tif (matchingSize) {\n\t\t\t\t\treturn { ...icon, sizes: [matchingSize] };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn bestOfAnySize;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}