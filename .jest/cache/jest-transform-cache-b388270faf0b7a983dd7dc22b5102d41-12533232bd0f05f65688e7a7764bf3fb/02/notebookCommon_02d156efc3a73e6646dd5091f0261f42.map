{"version":3,"names":["cov_usapnu3xx","actualCoverage","VSBuffer","glob","Iterable","Mimes","Schemas","basename","isWindows","RawContextKey","generateMetadataUri","generate","generateUri","extractCellOutputDetails","parseMetadataUri","parse","parseUri","NOTEBOOK_EDITOR_ID","s","NOTEBOOK_DIFF_EDITOR_ID","NOTEBOOK_MULTI_DIFF_EDITOR_ID","INTERACTIVE_WINDOW_EDITOR_ID","REPL_EDITOR_ID","NOTEBOOK_OUTPUT_EDITOR_ID","EXECUTE_REPL_COMMAND_ID","CellKind","f","b","NOTEBOOK_DISPLAY_ORDER","latex","markdown","text","ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER","RENDERER_EQUIVALENT_EXTENSIONS","Map","Set","RENDERER_NOT_AVAILABLE","NotebookRunState","NotebookCellExecutionState","NotebookExecutionState","NotebookCellsChangeType","SelectionStateType","NotebookMetadataUri","scheme","vscodeNotebookMetadata","notebook","metadata","CellUri","vscodeNotebookCell","handle","cell","generateCellOutputUriWithId","outputId","with","vscodeNotebookCellOutput","query","URLSearchParams","openIn","notebookScheme","file","toString","generateCellOutputUriWithIndex","cellUri","outputIndex","fragment","String","generateOutputEditorUri","cellId","cellIndex","parseCellOutputUri","uri","generateCellPropertyUri","parseCellPropertyUri","propertyScheme","undefined","normalizeSlashes","str","replace","MimeTypeDisplayOrder","defaultOrder","order","constructor","initialValue","map","pattern","matches","ignoreCase","sort","mimeTypes","remaining","m","sorted","original","normalized","push","delete","size","concat","keys","a","indexOf","prioritize","chosenMimetype","otherMimeTypes","chosenIndex","findIndex","unshift","uniqueIndices","otherIndices","Array","from","splice","i","oi","length","toArray","o","mimeType","maxIndex","diff","before","after","contains","equal","result","pushSplice","start","deleteCount","toInsert","latest","beforeIdx","afterIdx","slice","beforeElement","afterElement","NOTEBOOK_EDITOR_CURSOR_BOUNDARY","NOTEBOOK_EDITOR_CURSOR_LINE_BOUNDARY","NotebookEditorPriority","NotebookFindScopeType","isDocumentExcludePattern","filenamePattern","arg","include","isRelativePattern","exclude","notebookDocumentFilterMatch","filter","viewType","resource","isArray","excludeFilenamePattern","match","fsPath","NotebookSetting","displayOrder","cellToolbarLocation","cellToolbarVisibility","showCellStatusBar","cellExecutionTimeVerbosity","textDiffEditorPreview","diffOverviewRuler","experimentalInsertToolbarAlignment","compactView","focusIndicator","insertToolbarLocation","globalToolbar","stickyScrollEnabled","stickyScrollMode","undoRedoPerCell","consolidatedOutputButton","openOutputInPreviewEditor","showFoldingControls","dragAndDropEnabled","cellEditorOptionsCustomizations","consolidatedRunButton","openGettingStarted","globalToolbarShowLabel","markupFontSize","markdownLineHeight","interactiveWindowCollapseCodeCells","outputScrollingDeprecated","outputScrolling","textOutputLineLimit","LinkifyOutputFilePaths","minimalErrorRendering","formatOnSave","insertFinalNewline","defaultFormatter","formatOnCellExecution","codeActionsOnSave","outputWordWrap","outputLineHeightDeprecated","outputLineHeight","outputFontSizeDeprecated","outputFontSize","outputFontFamilyDeprecated","outputFontFamily","findFilters","logging","confirmDeleteRunningCell","remoteSaving","gotoSymbolsAllSymbols","outlineShowMarkdownHeadersOnly","outlineShowCodeCells","outlineShowCodeCellSymbols","breadcrumbsShowCodeCells","scrollToRevealCell","cellChat","cellGenerate","notebookVariablesView","notebookInlineValues","InteractiveWindowPromptToSave","cellFailureDiagnostics","outputBackupSizeLimit","multiCursor","markupFontFamily","NotebookWorkingCopyTypeIdentifier","_prefix","create","notebookType","candidate","startsWith","split","substring","textDecoder","TextDecoder","compressOutputItemStreams","outputs","buffers","startAppending","output","didCompression","compressStreamBuffer","concatenated","buffer","wrap","data","formatStreamText","byteLength","MOVE_CURSOR_1_LINE_COMMAND","fromCharCode","MOVE_CURSOR_1_LINE_COMMAND_BYTES","c","charCodeAt","LINE_FEED","streams","didCompress","forEach","stream","index","previousStream","command","subarray","lastIndexOfLineFeed","lastIndexOf","fixBackspace","txt","tmp","fixCarriageReturn","search","base","insert","BACKSPACE_CHARACTER","CARRIAGE_RETURN_CHARACTER","includes","fromString","decode"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/common/notebookCommon.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IDiffResult } from '../../../../base/common/diff/diff.js';\nimport { Event } from '../../../../base/common/event.js';\nimport * as glob from '../../../../base/common/glob.js';\nimport { IMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../base/common/mime.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { basename } from '../../../../base/common/path.js';\nimport { isWindows } from '../../../../base/common/platform.js';\nimport { ISplice } from '../../../../base/common/sequence.js';\nimport { ThemeColor } from '../../../../base/common/themables.js';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport * as editorCommon from '../../../../editor/common/editorCommon.js';\nimport { Command, WorkspaceEditMetadata } from '../../../../editor/common/languages.js';\nimport { IReadonlyTextBuffer, ITextModel } from '../../../../editor/common/model.js';\nimport { IAccessibilityInformation } from '../../../../platform/accessibility/common/accessibility.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { IFileReadLimits } from '../../../../platform/files/common/files.js';\nimport { UndoRedoGroup } from '../../../../platform/undoRedo/common/undoRedo.js';\nimport { IRevertOptions, ISaveOptions, IUntypedEditorInput } from '../../../common/editor.js';\nimport { NotebookTextModel } from './model/notebookTextModel.js';\nimport { ICellExecutionError } from './notebookExecutionStateService.js';\nimport { INotebookTextModelLike } from './notebookKernelService.js';\nimport { ICellRange } from './notebookRange.js';\nimport { RegisteredEditorPriority } from '../../../services/editor/common/editorResolverService.js';\nimport { generateMetadataUri, generate as generateUri, extractCellOutputDetails, parseMetadataUri, parse as parseUri } from '../../../services/notebook/common/notebookDocumentService.js';\nimport { IWorkingCopyBackupMeta, IWorkingCopySaveEvent } from '../../../services/workingCopy/common/workingCopy.js';\nimport { SnapshotContext } from '../../../services/workingCopy/common/fileWorkingCopy.js';\n\nexport const NOTEBOOK_EDITOR_ID = 'workbench.editor.notebook';\nexport const NOTEBOOK_DIFF_EDITOR_ID = 'workbench.editor.notebookTextDiffEditor';\nexport const NOTEBOOK_MULTI_DIFF_EDITOR_ID = 'workbench.editor.notebookMultiTextDiffEditor';\nexport const INTERACTIVE_WINDOW_EDITOR_ID = 'workbench.editor.interactive';\nexport const REPL_EDITOR_ID = 'workbench.editor.repl';\nexport const NOTEBOOK_OUTPUT_EDITOR_ID = 'workbench.editor.notebookOutputEditor';\n\nexport const EXECUTE_REPL_COMMAND_ID = 'replNotebook.input.execute';\n\nexport enum CellKind {\n\tMarkup = 1,\n\tCode = 2\n}\n\nexport const NOTEBOOK_DISPLAY_ORDER: readonly string[] = [\n\t'application/json',\n\t'application/javascript',\n\t'text/html',\n\t'image/svg+xml',\n\tMimes.latex,\n\tMimes.markdown,\n\t'image/png',\n\t'image/jpeg',\n\tMimes.text\n];\n\nexport const ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER: readonly string[] = [\n\tMimes.latex,\n\tMimes.markdown,\n\t'application/json',\n\t'text/html',\n\t'image/svg+xml',\n\t'image/png',\n\t'image/jpeg',\n\tMimes.text,\n];\n\n/**\n * A mapping of extension IDs who contain renderers, to notebook ids who they\n * should be treated as the same in the renderer selection logic. This is used\n * to prefer the 1st party Jupyter renderers even though they're in a separate\n * extension, for instance. See #136247.\n */\nexport const RENDERER_EQUIVALENT_EXTENSIONS: ReadonlyMap<string, ReadonlySet<string>> = new Map([\n\t['ms-toolsai.jupyter', new Set(['jupyter-notebook', 'interactive'])],\n\t['ms-toolsai.jupyter-renderers', new Set(['jupyter-notebook', 'interactive'])],\n]);\n\nexport const RENDERER_NOT_AVAILABLE = '_notAvailable';\n\nexport type ContributedNotebookRendererEntrypoint = string | { readonly extends: string; readonly path: string };\n\nexport enum NotebookRunState {\n\tRunning = 1,\n\tIdle = 2\n}\n\nexport type NotebookDocumentMetadata = Record<string, unknown>;\n\nexport enum NotebookCellExecutionState {\n\tUnconfirmed = 1,\n\tPending = 2,\n\tExecuting = 3\n}\nexport enum NotebookExecutionState {\n\tUnconfirmed = 1,\n\tPending = 2,\n\tExecuting = 3\n}\n\nexport interface INotebookCellPreviousExecutionResult {\n\texecutionOrder?: number;\n\tsuccess?: boolean;\n\tduration?: number;\n}\n\nexport interface NotebookCellMetadata {\n\t/**\n\t * custom metadata\n\t */\n\t[key: string]: unknown;\n}\n\nexport interface NotebookCellInternalMetadata {\n\t/**\n\t * Used only for diffing of Notebooks.\n\t * This is not persisted and generally useful only when diffing two notebooks.\n\t * Useful only after we've manually matched a few cells together so we know which cells are matching.\n\t */\n\tinternalId?: string;\n\texecutionId?: string;\n\texecutionOrder?: number;\n\tlastRunSuccess?: boolean;\n\trunStartTime?: number;\n\trunStartTimeAdjustment?: number;\n\trunEndTime?: number;\n\trenderDuration?: { [key: string]: number };\n\terror?: ICellExecutionError;\n}\n\nexport interface NotebookCellCollapseState {\n\tinputCollapsed?: boolean;\n\toutputCollapsed?: boolean;\n}\n\nexport interface NotebookCellDefaultCollapseConfig {\n\tcodeCell?: NotebookCellCollapseState;\n\tmarkupCell?: NotebookCellCollapseState;\n}\n\nexport type InteractiveWindowCollapseCodeCells = 'always' | 'never' | 'fromEditor';\n\nexport type TransientCellMetadata = { readonly [K in keyof NotebookCellMetadata]?: boolean };\nexport type CellContentMetadata = { readonly [K in keyof NotebookCellMetadata]?: boolean };\nexport type TransientDocumentMetadata = { readonly [K in keyof NotebookDocumentMetadata]?: boolean };\n\nexport interface TransientOptions {\n\treadonly transientOutputs: boolean;\n\treadonly transientCellMetadata: TransientCellMetadata;\n\treadonly transientDocumentMetadata: TransientDocumentMetadata;\n\treadonly cellContentMetadata: CellContentMetadata;\n}\n\n/** Note: enum values are used for sorting */\nexport const enum NotebookRendererMatch {\n\t/** Renderer has a hard dependency on an available kernel */\n\tWithHardKernelDependency = 0,\n\t/** Renderer works better with an available kernel */\n\tWithOptionalKernelDependency = 1,\n\t/** Renderer is kernel-agnostic */\n\tPure = 2,\n\t/** Renderer is for a different mimeType or has a hard dependency which is unsatisfied */\n\tNever = 3,\n}\n\n/**\n * Renderer messaging requirement. While this allows for 'optional' messaging,\n * MintMind effectively treats it the same as true right now. \"Partial\n * activation\" of extensions is a very tricky problem, which could allow\n * solving this. But for now, optional is mostly only honored for aznb.\n */\nexport const enum RendererMessagingSpec {\n\tAlways = 'always',\n\tNever = 'never',\n\tOptional = 'optional',\n}\n\nexport type NotebookRendererEntrypoint = { readonly extends: string | undefined; readonly path: URI };\n\nexport interface INotebookRendererInfo {\n\treadonly id: string;\n\treadonly displayName: string;\n\treadonly entrypoint: NotebookRendererEntrypoint;\n\treadonly extensionLocation: URI;\n\treadonly extensionId: ExtensionIdentifier;\n\treadonly messaging: RendererMessagingSpec;\n\n\treadonly mimeTypes: readonly string[];\n\n\treadonly isBuiltin: boolean;\n\n\tmatchesWithoutKernel(mimeType: string): NotebookRendererMatch;\n\tmatches(mimeType: string, kernelProvides: ReadonlyArray<string>): NotebookRendererMatch;\n}\n\nexport interface INotebookStaticPreloadInfo {\n\treadonly type: string;\n\treadonly entrypoint: URI;\n\treadonly extensionLocation: URI;\n\treadonly localResourceRoots: readonly URI[];\n}\n\nexport interface IOrderedMimeType {\n\tmimeType: string;\n\trendererId: string;\n\tisTrusted: boolean;\n}\n\nexport interface IOutputItemDto {\n\treadonly mime: string;\n\treadonly data: VSBuffer;\n}\n\nexport interface IOutputDto {\n\toutputs: IOutputItemDto[];\n\toutputId: string;\n\tmetadata?: Record<string, any>;\n}\n\nexport interface ICellOutput {\n\treadonly versionId: number;\n\toutputs: IOutputItemDto[];\n\tmetadata?: Record<string, any>;\n\toutputId: string;\n\t/**\n\t * Alternative output id that's reused when the output is updated.\n\t */\n\talternativeOutputId: string;\n\treadonly onDidChangeData: Event<void>;\n\treplaceData(items: IOutputDto): void;\n\tappendData(items: IOutputItemDto[]): void;\n\tappendedSinceVersion(versionId: number, mime: string): VSBuffer | undefined;\n\tasDto(): IOutputDto;\n\tbumpVersion(): void;\n\tdispose(): void;\n}\n\nexport interface CellInternalMetadataChangedEvent {\n\treadonly lastRunSuccessChanged?: boolean;\n}\n\nexport interface INotebookDocumentMetadataTextModel {\n\t/**\n\t * Notebook Metadata Uri.\n\t */\n\treadonly uri: URI;\n\t/**\n\t * Triggered when the Notebook Metadata changes.\n\t */\n\treadonly onDidChange: Event<void>;\n\treadonly metadata: Readonly<NotebookDocumentMetadata>;\n\treadonly textBuffer: IReadonlyTextBuffer;\n\t/**\n\t * Text representation of the Notebook Metadata\n\t */\n\tgetValue(): string;\n\tgetHash(): string;\n}\n\nexport interface ICell {\n\treadonly uri: URI;\n\thandle: number;\n\tlanguage: string;\n\tcellKind: CellKind;\n\toutputs: ICellOutput[];\n\tmetadata: NotebookCellMetadata;\n\tinternalMetadata: NotebookCellInternalMetadata;\n\tgetHashValue(): number;\n\ttextBuffer: IReadonlyTextBuffer;\n\ttextModel?: ITextModel;\n\treadonly onDidChangeTextModel: Event<void>;\n\tgetValue(): string;\n\treadonly onDidChangeOutputs?: Event<NotebookCellOutputsSplice>;\n\treadonly onDidChangeOutputItems?: Event<void>;\n\treadonly onDidChangeLanguage: Event<string>;\n\treadonly onDidChangeMetadata: Event<void>;\n\treadonly onDidChangeInternalMetadata: Event<CellInternalMetadataChangedEvent>;\n}\n\nexport interface INotebookSnapshotOptions {\n\tcontext: SnapshotContext;\n\toutputSizeLimit: number;\n\ttransientOptions?: TransientOptions;\n}\n\nexport interface INotebookTextModel extends INotebookTextModelLike, IDisposable {\n\treadonly notebookType: string;\n\treadonly viewType: string;\n\tmetadata: NotebookDocumentMetadata;\n\treadonly transientOptions: TransientOptions;\n\treadonly uri: URI;\n\treadonly versionId: number;\n\treadonly length: number;\n\treadonly cells: readonly ICell[];\n\treset(cells: ICellDto2[], metadata: NotebookDocumentMetadata, transientOptions: TransientOptions): void;\n\tcreateSnapshot(options: INotebookSnapshotOptions): NotebookData;\n\trestoreSnapshot(snapshot: NotebookData, transientOptions?: TransientOptions): void;\n\tapplyEdits(rawEdits: ICellEditOperation[], synchronous: boolean, beginSelectionState: ISelectionState | undefined, endSelectionsComputer: () => ISelectionState | undefined, undoRedoGroup: UndoRedoGroup | undefined, computeUndoRedo?: boolean): boolean;\n\treadonly onDidChangeContent: Event<NotebookTextModelChangedEvent>;\n\treadonly onWillDispose: Event<void>;\n}\n\nexport type NotebookCellTextModelSplice<T> = [\n\tstart: number,\n\tdeleteCount: number,\n\tnewItems: T[]\n];\n\nexport type NotebookCellOutputsSplice = {\n\tstart: number /* start */;\n\tdeleteCount: number /* delete count */;\n\tnewOutputs: ICellOutput[];\n};\n\nexport interface IMainCellDto {\n\thandle: number;\n\turl: string;\n\tsource: string[];\n\teol: string;\n\tversionId: number;\n\tlanguage: string;\n\tcellKind: CellKind;\n\toutputs: IOutputDto[];\n\tmetadata?: NotebookCellMetadata;\n\tinternalMetadata?: NotebookCellInternalMetadata;\n}\n\nexport enum NotebookCellsChangeType {\n\tModelChange = 1,\n\tMove = 2,\n\tChangeCellLanguage = 5,\n\tInitialize = 6,\n\tChangeCellMetadata = 7,\n\tOutput = 8,\n\tOutputItem = 9,\n\tChangeCellContent = 10,\n\tChangeDocumentMetadata = 11,\n\tChangeCellInternalMetadata = 12,\n\tChangeCellMime = 13,\n\tUnknown = 100\n}\n\nexport interface NotebookCellsInitializeEvent<T> {\n\treadonly kind: NotebookCellsChangeType.Initialize;\n\treadonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookCellContentChangeEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeCellContent;\n\treadonly index: number;\n}\n\nexport interface NotebookCellsModelChangedEvent<T> {\n\treadonly kind: NotebookCellsChangeType.ModelChange;\n\treadonly changes: NotebookCellTextModelSplice<T>[];\n}\n\nexport interface NotebookCellsModelMoveEvent<T> {\n\treadonly kind: NotebookCellsChangeType.Move;\n\treadonly index: number;\n\treadonly length: number;\n\treadonly newIdx: number;\n\treadonly cells: T[];\n}\n\nexport interface NotebookOutputChangedEvent {\n\treadonly kind: NotebookCellsChangeType.Output;\n\treadonly index: number;\n\treadonly outputs: IOutputDto[];\n\treadonly append: boolean;\n}\n\nexport interface NotebookOutputItemChangedEvent {\n\treadonly kind: NotebookCellsChangeType.OutputItem;\n\treadonly index: number;\n\treadonly outputId: string;\n\treadonly outputItems: IOutputItemDto[];\n\treadonly append: boolean;\n}\n\nexport interface NotebookCellsChangeLanguageEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeCellLanguage;\n\treadonly index: number;\n\treadonly language: string;\n}\n\nexport interface NotebookCellsChangeMimeEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeCellMime;\n\treadonly index: number;\n\treadonly mime: string | undefined;\n}\n\nexport interface NotebookCellsChangeMetadataEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeCellMetadata;\n\treadonly index: number;\n\treadonly metadata: NotebookCellMetadata;\n}\n\nexport interface NotebookCellsChangeInternalMetadataEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeCellInternalMetadata;\n\treadonly index: number;\n\treadonly internalMetadata: NotebookCellInternalMetadata;\n}\n\nexport interface NotebookDocumentChangeMetadataEvent {\n\treadonly kind: NotebookCellsChangeType.ChangeDocumentMetadata;\n\treadonly metadata: NotebookDocumentMetadata;\n}\n\nexport interface NotebookDocumentUnknownChangeEvent {\n\treadonly kind: NotebookCellsChangeType.Unknown;\n}\n\nexport type NotebookRawContentEventDto = NotebookCellsInitializeEvent<IMainCellDto> | NotebookDocumentChangeMetadataEvent | NotebookCellContentChangeEvent | NotebookCellsModelChangedEvent<IMainCellDto> | NotebookCellsModelMoveEvent<IMainCellDto> | NotebookOutputChangedEvent | NotebookOutputItemChangedEvent | NotebookCellsChangeLanguageEvent | NotebookCellsChangeMimeEvent | NotebookCellsChangeMetadataEvent | NotebookCellsChangeInternalMetadataEvent | NotebookDocumentUnknownChangeEvent;\n\nexport type NotebookCellsChangedEventDto = {\n\treadonly rawEvents: NotebookRawContentEventDto[];\n\treadonly versionId: number;\n};\n\nexport type NotebookRawContentEvent = (NotebookCellsInitializeEvent<ICell> | NotebookDocumentChangeMetadataEvent | NotebookCellContentChangeEvent | NotebookCellsModelChangedEvent<ICell> | NotebookCellsModelMoveEvent<ICell> | NotebookOutputChangedEvent | NotebookOutputItemChangedEvent | NotebookCellsChangeLanguageEvent | NotebookCellsChangeMimeEvent | NotebookCellsChangeMetadataEvent | NotebookCellsChangeInternalMetadataEvent | NotebookDocumentUnknownChangeEvent) & { transient: boolean };\n\nexport enum SelectionStateType {\n\tHandle = 0,\n\tIndex = 1\n}\n\nexport interface ISelectionHandleState {\n\tkind: SelectionStateType.Handle;\n\tprimary: number | null;\n\tselections: number[];\n}\n\nexport interface ISelectionIndexState {\n\tkind: SelectionStateType.Index;\n\tfocus: ICellRange;\n\tselections: ICellRange[];\n}\n\nexport type ISelectionState = ISelectionHandleState | ISelectionIndexState;\n\nexport type NotebookTextModelChangedEvent = {\n\treadonly rawEvents: NotebookRawContentEvent[];\n\treadonly versionId: number;\n\treadonly synchronous: boolean | undefined;\n\treadonly endSelectionState: ISelectionState | undefined;\n};\n\nexport type NotebookTextModelWillAddRemoveEvent = {\n\treadonly rawEvent: NotebookCellsModelChangedEvent<ICell>;\n};\n\nexport const enum CellEditType {\n\tReplace = 1,\n\tOutput = 2,\n\tMetadata = 3,\n\tCellLanguage = 4,\n\tDocumentMetadata = 5,\n\tMove = 6,\n\tOutputItems = 7,\n\tPartialMetadata = 8,\n\tPartialInternalMetadata = 9,\n}\n\nexport interface ICellDto2 {\n\tsource: string;\n\tlanguage: string;\n\tmime: string | undefined;\n\tcellKind: CellKind;\n\toutputs: IOutputDto[];\n\tmetadata?: NotebookCellMetadata;\n\tinternalMetadata?: NotebookCellInternalMetadata;\n\tcollapseState?: NotebookCellCollapseState;\n}\n\nexport interface ICellReplaceEdit {\n\teditType: CellEditType.Replace;\n\tindex: number;\n\tcount: number;\n\tcells: ICellDto2[];\n}\n\nexport interface ICellOutputEdit {\n\teditType: CellEditType.Output;\n\tindex: number;\n\toutputs: IOutputDto[];\n\tappend?: boolean;\n}\n\nexport interface ICellOutputEditByHandle {\n\teditType: CellEditType.Output;\n\thandle: number;\n\toutputs: IOutputDto[];\n\tappend?: boolean;\n}\n\nexport interface ICellOutputItemEdit {\n\teditType: CellEditType.OutputItems;\n\toutputId: string;\n\titems: IOutputItemDto[];\n\tappend?: boolean;\n}\n\nexport interface ICellMetadataEdit {\n\teditType: CellEditType.Metadata;\n\tindex: number;\n\tmetadata: NotebookCellMetadata;\n}\n\n// These types are nullable because we need to use 'null' on the EH side so it is JSON-stringified\nexport type NullablePartialNotebookCellMetadata = {\n\t[Key in keyof Partial<NotebookCellMetadata>]: NotebookCellMetadata[Key] | null\n};\n\nexport interface ICellPartialMetadataEdit {\n\teditType: CellEditType.PartialMetadata;\n\tindex: number;\n\tmetadata: NullablePartialNotebookCellMetadata;\n}\n\nexport interface ICellPartialMetadataEditByHandle {\n\teditType: CellEditType.PartialMetadata;\n\thandle: number;\n\tmetadata: NullablePartialNotebookCellMetadata;\n}\n\nexport type NullablePartialNotebookCellInternalMetadata = {\n\t[Key in keyof Partial<NotebookCellInternalMetadata>]: NotebookCellInternalMetadata[Key] | null\n};\nexport interface ICellPartialInternalMetadataEdit {\n\teditType: CellEditType.PartialInternalMetadata;\n\tindex: number;\n\tinternalMetadata: NullablePartialNotebookCellInternalMetadata;\n}\n\nexport interface ICellPartialInternalMetadataEditByHandle {\n\teditType: CellEditType.PartialInternalMetadata;\n\thandle: number;\n\tinternalMetadata: NullablePartialNotebookCellInternalMetadata;\n}\n\nexport interface ICellLanguageEdit {\n\teditType: CellEditType.CellLanguage;\n\tindex: number;\n\tlanguage: string;\n}\n\nexport interface IDocumentMetadataEdit {\n\teditType: CellEditType.DocumentMetadata;\n\tmetadata: NotebookDocumentMetadata;\n}\n\nexport interface ICellMoveEdit {\n\teditType: CellEditType.Move;\n\tindex: number;\n\tlength: number;\n\tnewIdx: number;\n}\n\nexport type IImmediateCellEditOperation = ICellOutputEditByHandle | ICellPartialMetadataEditByHandle | ICellOutputItemEdit | ICellPartialInternalMetadataEdit | ICellPartialInternalMetadataEditByHandle | ICellPartialMetadataEdit;\nexport type ICellEditOperation = IImmediateCellEditOperation | ICellReplaceEdit | ICellOutputEdit | ICellMetadataEdit | ICellPartialMetadataEdit | ICellPartialInternalMetadataEdit | IDocumentMetadataEdit | ICellMoveEdit | ICellOutputItemEdit | ICellLanguageEdit;\n\n\nexport interface IWorkspaceNotebookCellEdit {\n\tmetadata?: WorkspaceEditMetadata;\n\tresource: URI;\n\tnotebookVersionId: number | undefined;\n\tcellEdit: ICellPartialMetadataEdit | IDocumentMetadataEdit | ICellReplaceEdit;\n}\n\nexport interface IWorkspaceNotebookCellEditDto {\n\tmetadata?: WorkspaceEditMetadata;\n\tresource: URI;\n\tnotebookVersionId: number | undefined;\n\tcellEdit: ICellPartialMetadataEdit | IDocumentMetadataEdit | ICellReplaceEdit;\n}\n\nexport interface NotebookData {\n\treadonly cells: ICellDto2[];\n\treadonly metadata: NotebookDocumentMetadata;\n}\n\n\nexport interface INotebookContributionData {\n\textension?: ExtensionIdentifier;\n\tproviderDisplayName: string;\n\tdisplayName: string;\n\tfilenamePattern: (string | glob.IRelativePattern | INotebookExclusiveDocumentFilter)[];\n\tpriority?: RegisteredEditorPriority;\n}\n\nexport namespace NotebookMetadataUri {\n\texport const scheme = Schemas.vscodeNotebookMetadata;\n\texport function generate(notebook: URI): URI {\n\t\treturn generateMetadataUri(notebook);\n\t}\n\texport function parse(metadata: URI): URI | undefined {\n\t\treturn parseMetadataUri(metadata);\n\t}\n}\n\nexport namespace CellUri {\n\texport const scheme = Schemas.vscodeNotebookCell;\n\texport function generate(notebook: URI, handle: number): URI {\n\t\treturn generateUri(notebook, handle);\n\t}\n\n\texport function parse(cell: URI): { notebook: URI; handle: number } | undefined {\n\t\treturn parseUri(cell);\n\t}\n\n\t/**\n\t * Generates a URI for a cell output in a notebook using the output ID.\n\t * Used when URI should be opened as text in the editor.\n\t */\n\texport function generateCellOutputUriWithId(notebook: URI, outputId?: string) {\n\t\treturn notebook.with({\n\t\t\tscheme: Schemas.vscodeNotebookCellOutput,\n\t\t\tquery: new URLSearchParams({\n\t\t\t\topenIn: 'editor',\n\t\t\t\toutputId: outputId ?? '',\n\t\t\t\tnotebookScheme: notebook.scheme !== Schemas.file ? notebook.scheme : '',\n\t\t\t}).toString()\n\t\t});\n\t}\n\t/**\n\t * Generates a URI for a cell output in a notebook using the output index.\n\t * Used when URI should be opened in notebook editor.\n\t */\n\texport function generateCellOutputUriWithIndex(notebook: URI, cellUri: URI, outputIndex: number): URI {\n\t\treturn notebook.with({\n\t\t\tscheme: Schemas.vscodeNotebookCellOutput,\n\t\t\tfragment: cellUri.fragment,\n\t\t\tquery: new URLSearchParams({\n\t\t\t\topenIn: 'notebook',\n\t\t\t\toutputIndex: String(outputIndex),\n\t\t\t}).toString()\n\t\t});\n\t}\n\n\texport function generateOutputEditorUri(notebook: URI, cellId: string, cellIndex: number, outputId: string, outputIndex: number): URI {\n\t\treturn notebook.with({\n\t\t\tscheme: Schemas.vscodeNotebookCellOutput,\n\t\t\tquery: new URLSearchParams({\n\t\t\t\topenIn: 'notebookOutputEditor',\n\t\t\t\tnotebook: notebook.toString(),\n\t\t\t\tcellIndex: String(cellIndex),\n\t\t\t\toutputId: outputId,\n\t\t\t\toutputIndex: String(outputIndex),\n\t\t\t}).toString()\n\t\t});\n\t}\n\n\texport function parseCellOutputUri(uri: URI): { notebook: URI; openIn: string; outputId?: string; cellFragment?: string; outputIndex?: number; cellHandle?: number; cellIndex?: number } | undefined {\n\t\treturn extractCellOutputDetails(uri);\n\t}\n\n\texport function generateCellPropertyUri(notebook: URI, handle: number, scheme: string): URI {\n\t\treturn CellUri.generate(notebook, handle).with({ scheme: scheme });\n\t}\n\n\texport function parseCellPropertyUri(uri: URI, propertyScheme: string) {\n\t\tif (uri.scheme !== propertyScheme) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn CellUri.parse(uri.with({ scheme: scheme }));\n\t}\n}\n\nconst normalizeSlashes = (str: string) => isWindows ? str.replace(/\\//g, '\\\\') : str;\n\ninterface IMimeTypeWithMatcher {\n\tpattern: string;\n\tmatches: glob.ParsedPattern;\n}\n\nexport class MimeTypeDisplayOrder {\n\tprivate readonly order: IMimeTypeWithMatcher[];\n\n\tconstructor(\n\t\tinitialValue: readonly string[] = [],\n\t\tprivate readonly defaultOrder = NOTEBOOK_DISPLAY_ORDER,\n\t) {\n\t\tthis.order = [...new Set(initialValue)].map(pattern => ({\n\t\t\tpattern,\n\t\t\tmatches: glob.parse(normalizeSlashes(pattern), { ignoreCase: true })\n\t\t}));\n\t}\n\n\t/**\n\t * Returns a sorted array of the input mimeTypes.\n\t */\n\tpublic sort(mimeTypes: Iterable<string>): string[] {\n\t\tconst remaining = new Map(Iterable.map(mimeTypes, m => [m, normalizeSlashes(m)]));\n\t\tlet sorted: string[] = [];\n\n\t\tfor (const { matches } of this.order) {\n\t\t\tfor (const [original, normalized] of remaining) {\n\t\t\t\tif (matches(normalized)) {\n\t\t\t\t\tsorted.push(original);\n\t\t\t\t\tremaining.delete(original);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (remaining.size) {\n\t\t\tsorted = sorted.concat([...remaining.keys()].sort(\n\t\t\t\t(a, b) => this.defaultOrder.indexOf(a) - this.defaultOrder.indexOf(b),\n\t\t\t));\n\t\t}\n\n\t\treturn sorted;\n\t}\n\n\t/**\n\t * Records that the user selected the given mimetype over the other\n\t * possible mimeTypes, prioritizing it for future reference.\n\t */\n\tpublic prioritize(chosenMimetype: string, otherMimeTypes: readonly string[]) {\n\t\tconst chosenIndex = this.findIndex(chosenMimetype);\n\t\tif (chosenIndex === -1) {\n\t\t\t// always first, nothing more to do\n\t\t\tthis.order.unshift({ pattern: chosenMimetype, matches: glob.parse(normalizeSlashes(chosenMimetype), { ignoreCase: true }) });\n\t\t\treturn;\n\t\t}\n\n\t\t// Get the other mimeTypes that are before the chosenMimetype. Then, move\n\t\t// them after it, retaining order.\n\t\tconst uniqueIndices = new Set(otherMimeTypes.map(m => this.findIndex(m, chosenIndex)));\n\t\tuniqueIndices.delete(-1);\n\t\tconst otherIndices = Array.from(uniqueIndices).sort();\n\t\tthis.order.splice(chosenIndex + 1, 0, ...otherIndices.map(i => this.order[i]));\n\n\t\tfor (let oi = otherIndices.length - 1; oi >= 0; oi--) {\n\t\t\tthis.order.splice(otherIndices[oi], 1);\n\t\t}\n\t}\n\n\t/**\n\t * Gets an array of in-order mimetype preferences.\n\t */\n\tpublic toArray() {\n\t\treturn this.order.map(o => o.pattern);\n\t}\n\n\tprivate findIndex(mimeType: string, maxIndex = this.order.length) {\n\t\tconst normalized = normalizeSlashes(mimeType);\n\t\tfor (let i = 0; i < maxIndex; i++) {\n\t\t\tif (this.order[i].matches(normalized)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n}\n\ninterface IMutableSplice<T> extends ISplice<T> {\n\treadonly toInsert: T[];\n\tdeleteCount: number;\n}\n\nexport function diff<T>(before: T[], after: T[], contains: (a: T) => boolean, equal: (a: T, b: T) => boolean = (a: T, b: T) => a === b): ISplice<T>[] {\n\tconst result: IMutableSplice<T>[] = [];\n\n\tfunction pushSplice(start: number, deleteCount: number, toInsert: T[]): void {\n\t\tif (deleteCount === 0 && toInsert.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst latest = result[result.length - 1];\n\n\t\tif (latest && latest.start + latest.deleteCount === start) {\n\t\t\tlatest.deleteCount += deleteCount;\n\t\t\tlatest.toInsert.push(...toInsert);\n\t\t} else {\n\t\t\tresult.push({ start, deleteCount, toInsert });\n\t\t}\n\t}\n\n\tlet beforeIdx = 0;\n\tlet afterIdx = 0;\n\n\twhile (true) {\n\t\tif (beforeIdx === before.length) {\n\t\t\tpushSplice(beforeIdx, 0, after.slice(afterIdx));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (afterIdx === after.length) {\n\t\t\tpushSplice(beforeIdx, before.length - beforeIdx, []);\n\t\t\tbreak;\n\t\t}\n\n\t\tconst beforeElement = before[beforeIdx];\n\t\tconst afterElement = after[afterIdx];\n\n\t\tif (equal(beforeElement, afterElement)) {\n\t\t\t// equal\n\t\t\tbeforeIdx += 1;\n\t\t\tafterIdx += 1;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (contains(afterElement)) {\n\t\t\t// `afterElement` exists before, which means some elements before `afterElement` are deleted\n\t\t\tpushSplice(beforeIdx, 1, []);\n\t\t\tbeforeIdx += 1;\n\t\t} else {\n\t\t\t// `afterElement` added\n\t\t\tpushSplice(beforeIdx, 0, [afterElement]);\n\t\t\tafterIdx += 1;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport interface ICellEditorViewState {\n\tselections: editorCommon.ICursorState[];\n}\n\nexport const NOTEBOOK_EDITOR_CURSOR_BOUNDARY = new RawContextKey<'none' | 'top' | 'bottom' | 'both'>('notebookEditorCursorAtBoundary', 'none');\n\nexport const NOTEBOOK_EDITOR_CURSOR_LINE_BOUNDARY = new RawContextKey<'none' | 'start' | 'end' | 'both'>('notebookEditorCursorAtLineBoundary', 'none');\n\nexport interface INotebookLoadOptions {\n\t/**\n\t * Go to disk bypassing any cache of the model if any.\n\t */\n\tforceReadFromFile?: boolean;\n\t/**\n\t * If provided, the size of the file will be checked against the limits\n\t * and an error will be thrown if any limit is exceeded.\n\t */\n\treadonly limits?: IFileReadLimits;\n}\n\nexport type NotebookEditorModelCreationOptions = {\n\tlimits?: IFileReadLimits;\n\tscratchpad?: boolean;\n\tviewType?: string;\n};\n\nexport interface IResolvedNotebookEditorModel extends INotebookEditorModel {\n\tnotebook: NotebookTextModel;\n}\n\nexport interface INotebookEditorModel extends IDisposable {\n\treadonly onDidChangeDirty: Event<void>;\n\treadonly onDidSave: Event<IWorkingCopySaveEvent>;\n\treadonly onDidChangeOrphaned: Event<void>;\n\treadonly onDidChangeReadonly: Event<void>;\n\treadonly onDidRevertUntitled: Event<void>;\n\treadonly resource: URI;\n\treadonly viewType: string;\n\treadonly notebook: INotebookTextModel | undefined;\n\treadonly hasErrorState: boolean;\n\tisResolved(): boolean;\n\tisDirty(): boolean;\n\tisModified(): boolean;\n\tisReadonly(): boolean | IMarkdownString;\n\tisOrphaned(): boolean;\n\thasAssociatedFilePath(): boolean;\n\tload(options?: INotebookLoadOptions): Promise<IResolvedNotebookEditorModel>;\n\tsave(options?: ISaveOptions): Promise<boolean>;\n\tsaveAs(target: URI): Promise<IUntypedEditorInput | undefined>;\n\trevert(options?: IRevertOptions): Promise<void>;\n}\n\nexport interface INotebookDiffEditorModel extends IDisposable {\n\toriginal: { notebook: NotebookTextModel; resource: URI; viewType: string };\n\tmodified: { notebook: NotebookTextModel; resource: URI; viewType: string };\n}\n\nexport interface NotebookDocumentBackupData extends IWorkingCopyBackupMeta {\n\treadonly viewType: string;\n\treadonly backupId?: string;\n\treadonly mtime?: number;\n}\n\nexport enum NotebookEditorPriority {\n\tdefault = 'default',\n\toption = 'option',\n}\n\nexport interface INotebookFindOptions {\n\tregex?: boolean;\n\twholeWord?: boolean;\n\tcaseSensitive?: boolean;\n\twordSeparators?: string;\n\tincludeMarkupInput?: boolean;\n\tincludeMarkupPreview?: boolean;\n\tincludeCodeInput?: boolean;\n\tincludeOutput?: boolean;\n\tfindScope?: INotebookFindScope;\n}\n\nexport interface INotebookFindScope {\n\tfindScopeType: NotebookFindScopeType;\n\tselectedCellRanges?: ICellRange[];\n\tselectedTextRanges?: Range[];\n}\n\nexport enum NotebookFindScopeType {\n\tCells = 'cells',\n\tText = 'text',\n\tNone = 'none'\n}\n\nexport interface INotebookExclusiveDocumentFilter {\n\tinclude?: string | glob.IRelativePattern;\n\texclude?: string | glob.IRelativePattern;\n}\n\nexport interface INotebookDocumentFilter {\n\tviewType?: string | string[];\n\tfilenamePattern?: string | glob.IRelativePattern | INotebookExclusiveDocumentFilter;\n}\n\n//TODO@rebornix test\n\nexport function isDocumentExcludePattern(filenamePattern: string | glob.IRelativePattern | INotebookExclusiveDocumentFilter): filenamePattern is { include: string | glob.IRelativePattern; exclude: string | glob.IRelativePattern } {\n\tconst arg = filenamePattern as INotebookExclusiveDocumentFilter;\n\n\tif ((typeof arg.include === 'string' || glob.isRelativePattern(arg.include))\n\t\t&& (typeof arg.exclude === 'string' || glob.isRelativePattern(arg.exclude))) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\nexport function notebookDocumentFilterMatch(filter: INotebookDocumentFilter, viewType: string, resource: URI): boolean {\n\tif (Array.isArray(filter.viewType) && filter.viewType.indexOf(viewType) >= 0) {\n\t\treturn true;\n\t}\n\n\tif (filter.viewType === viewType) {\n\t\treturn true;\n\t}\n\n\tif (filter.filenamePattern) {\n\t\tconst filenamePattern = isDocumentExcludePattern(filter.filenamePattern) ? filter.filenamePattern.include : (filter.filenamePattern as string | glob.IRelativePattern);\n\t\tconst excludeFilenamePattern = isDocumentExcludePattern(filter.filenamePattern) ? filter.filenamePattern.exclude : undefined;\n\n\t\tif (glob.match(filenamePattern, basename(resource.fsPath), { ignoreCase: true })) {\n\t\t\tif (excludeFilenamePattern) {\n\t\t\t\tif (glob.match(excludeFilenamePattern, basename(resource.fsPath), { ignoreCase: true })) {\n\t\t\t\t\t// should exclude\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nexport interface INotebookCellStatusBarItemProvider {\n\tviewType: string;\n\tonDidChangeStatusBarItems?: Event<void>;\n\tprovideCellStatusBarItems(uri: URI, index: number, token: CancellationToken): Promise<INotebookCellStatusBarItemList | undefined>;\n}\n\n\nexport interface INotebookDiffResult {\n\tcellsDiff: IDiffResult;\n\tmetadataChanged: boolean;\n}\n\nexport interface INotebookCellStatusBarItem {\n\treadonly alignment: CellStatusbarAlignment;\n\treadonly priority?: number;\n\treadonly text: string;\n\treadonly color?: string | ThemeColor;\n\treadonly backgroundColor?: string | ThemeColor;\n\treadonly tooltip?: string | IMarkdownString;\n\treadonly command?: string | Command;\n\treadonly accessibilityInformation?: IAccessibilityInformation;\n\treadonly opacity?: string;\n\treadonly onlyShowWhenActive?: boolean;\n}\n\nexport interface INotebookCellStatusBarItemList {\n\titems: INotebookCellStatusBarItem[];\n\tdispose?(): void;\n}\n\nexport type ShowCellStatusBarType = 'hidden' | 'visible' | 'visibleAfterExecute';\nexport const NotebookSetting = {\n\tdisplayOrder: 'notebook.displayOrder',\n\tcellToolbarLocation: 'notebook.cellToolbarLocation',\n\tcellToolbarVisibility: 'notebook.cellToolbarVisibility',\n\tshowCellStatusBar: 'notebook.showCellStatusBar',\n\tcellExecutionTimeVerbosity: 'notebook.cellExecutionTimeVerbosity',\n\ttextDiffEditorPreview: 'notebook.diff.enablePreview',\n\tdiffOverviewRuler: 'notebook.diff.overviewRuler',\n\texperimentalInsertToolbarAlignment: 'notebook.experimental.insertToolbarAlignment',\n\tcompactView: 'notebook.compactView',\n\tfocusIndicator: 'notebook.cellFocusIndicator',\n\tinsertToolbarLocation: 'notebook.insertToolbarLocation',\n\tglobalToolbar: 'notebook.globalToolbar',\n\tstickyScrollEnabled: 'notebook.stickyScroll.enabled',\n\tstickyScrollMode: 'notebook.stickyScroll.mode',\n\tundoRedoPerCell: 'notebook.undoRedoPerCell',\n\tconsolidatedOutputButton: 'notebook.consolidatedOutputButton',\n\topenOutputInPreviewEditor: 'notebook.output.openInPreviewEditor.enabled',\n\tshowFoldingControls: 'notebook.showFoldingControls',\n\tdragAndDropEnabled: 'notebook.dragAndDropEnabled',\n\tcellEditorOptionsCustomizations: 'notebook.editorOptionsCustomizations',\n\tconsolidatedRunButton: 'notebook.consolidatedRunButton',\n\topenGettingStarted: 'notebook.experimental.openGettingStarted',\n\tglobalToolbarShowLabel: 'notebook.globalToolbarShowLabel',\n\tmarkupFontSize: 'notebook.markup.fontSize',\n\tmarkdownLineHeight: 'notebook.markdown.lineHeight',\n\tinteractiveWindowCollapseCodeCells: 'interactiveWindow.collapseCellInputCode',\n\toutputScrollingDeprecated: 'notebook.experimental.outputScrolling',\n\toutputScrolling: 'notebook.output.scrolling',\n\ttextOutputLineLimit: 'notebook.output.textLineLimit',\n\tLinkifyOutputFilePaths: 'notebook.output.linkifyFilePaths',\n\tminimalErrorRendering: 'notebook.output.minimalErrorRendering',\n\tformatOnSave: 'notebook.formatOnSave.enabled',\n\tinsertFinalNewline: 'notebook.insertFinalNewline',\n\tdefaultFormatter: 'notebook.defaultFormatter',\n\tformatOnCellExecution: 'notebook.formatOnCellExecution',\n\tcodeActionsOnSave: 'notebook.codeActionsOnSave',\n\toutputWordWrap: 'notebook.output.wordWrap',\n\toutputLineHeightDeprecated: 'notebook.outputLineHeight',\n\toutputLineHeight: 'notebook.output.lineHeight',\n\toutputFontSizeDeprecated: 'notebook.outputFontSize',\n\toutputFontSize: 'notebook.output.fontSize',\n\toutputFontFamilyDeprecated: 'notebook.outputFontFamily',\n\toutputFontFamily: 'notebook.output.fontFamily',\n\tfindFilters: 'notebook.find.filters',\n\tlogging: 'notebook.logging',\n\tconfirmDeleteRunningCell: 'notebook.confirmDeleteRunningCell',\n\tremoteSaving: 'notebook.experimental.remoteSave',\n\tgotoSymbolsAllSymbols: 'notebook.gotoSymbols.showAllSymbols',\n\toutlineShowMarkdownHeadersOnly: 'notebook.outline.showMarkdownHeadersOnly',\n\toutlineShowCodeCells: 'notebook.outline.showCodeCells',\n\toutlineShowCodeCellSymbols: 'notebook.outline.showCodeCellSymbols',\n\tbreadcrumbsShowCodeCells: 'notebook.breadcrumbs.showCodeCells',\n\tscrollToRevealCell: 'notebook.scrolling.revealNextCellOnExecute',\n\tcellChat: 'notebook.experimental.cellChat',\n\tcellGenerate: 'notebook.experimental.generate',\n\tnotebookVariablesView: 'notebook.variablesView',\n\tnotebookInlineValues: 'notebook.inlineValues',\n\tInteractiveWindowPromptToSave: 'interactiveWindow.promptToSaveOnClose',\n\tcellFailureDiagnostics: 'notebook.cellFailureDiagnostics',\n\toutputBackupSizeLimit: 'notebook.backup.sizeLimit',\n\tmultiCursor: 'notebook.multiCursor.enabled',\n\tmarkupFontFamily: 'notebook.markup.fontFamily',\n} as const;\n\nexport const enum CellStatusbarAlignment {\n\tLeft = 1,\n\tRight = 2\n}\n\nexport class NotebookWorkingCopyTypeIdentifier {\n\n\tprivate static _prefix = 'notebook/';\n\n\tstatic create(notebookType: string, viewType?: string): string {\n\t\treturn `${NotebookWorkingCopyTypeIdentifier._prefix}${notebookType}/${viewType ?? notebookType}`;\n\t}\n\n\tstatic parse(candidate: string): { notebookType: string; viewType: string } | undefined {\n\t\tif (candidate.startsWith(NotebookWorkingCopyTypeIdentifier._prefix)) {\n\t\t\tconst split = candidate.substring(NotebookWorkingCopyTypeIdentifier._prefix.length).split('/');\n\t\t\tif (split.length === 2) {\n\t\t\t\treturn { notebookType: split[0], viewType: split[1] };\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nexport interface NotebookExtensionDescription {\n\treadonly id: ExtensionIdentifier;\n\treadonly location: UriComponents | undefined;\n}\n\nconst textDecoder = new TextDecoder();\n\n/**\n * Given a stream of individual stdout outputs, this function will return the compressed lines, escaping some of the common terminal escape codes.\n * E.g. some terminal escape codes would result in the previous line getting cleared, such if we had 3 lines and\n * last line contained such a code, then the result string would be just the first two lines.\n * @returns a single VSBuffer with the concatenated and compressed data, and whether any compression was done.\n */\nexport function compressOutputItemStreams(outputs: Uint8Array[]) {\n\tconst buffers: Uint8Array[] = [];\n\tlet startAppending = false;\n\n\t// Pick the first set of outputs with the same mime type.\n\tfor (const output of outputs) {\n\t\tif ((buffers.length === 0 || startAppending)) {\n\t\t\tbuffers.push(output);\n\t\t\tstartAppending = true;\n\t\t}\n\t}\n\n\tlet didCompression = compressStreamBuffer(buffers);\n\tconst concatenated = VSBuffer.concat(buffers.map(buffer => VSBuffer.wrap(buffer)));\n\tconst data = formatStreamText(concatenated);\n\tdidCompression = didCompression || data.byteLength !== concatenated.byteLength;\n\treturn { data, didCompression };\n}\n\nexport const MOVE_CURSOR_1_LINE_COMMAND = `${String.fromCharCode(27)}[A`;\nconst MOVE_CURSOR_1_LINE_COMMAND_BYTES = MOVE_CURSOR_1_LINE_COMMAND.split('').map(c => c.charCodeAt(0));\nconst LINE_FEED = 10;\nfunction compressStreamBuffer(streams: Uint8Array[]) {\n\tlet didCompress = false;\n\tstreams.forEach((stream, index) => {\n\t\tif (index === 0 || stream.length < MOVE_CURSOR_1_LINE_COMMAND.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst previousStream = streams[index - 1];\n\n\t\t// Remove the previous line if required.\n\t\tconst command = stream.subarray(0, MOVE_CURSOR_1_LINE_COMMAND.length);\n\t\tif (command[0] === MOVE_CURSOR_1_LINE_COMMAND_BYTES[0] && command[1] === MOVE_CURSOR_1_LINE_COMMAND_BYTES[1] && command[2] === MOVE_CURSOR_1_LINE_COMMAND_BYTES[2]) {\n\t\t\tconst lastIndexOfLineFeed = previousStream.lastIndexOf(LINE_FEED);\n\t\t\tif (lastIndexOfLineFeed === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdidCompress = true;\n\t\t\tstreams[index - 1] = previousStream.subarray(0, lastIndexOfLineFeed);\n\t\t\tstreams[index] = stream.subarray(MOVE_CURSOR_1_LINE_COMMAND.length);\n\t\t}\n\t});\n\treturn didCompress;\n}\n\n\n\n/**\n * Took this from jupyter/notebook\n * https://github.com/jupyter/notebook/blob/b8b66332e2023e83d2ee04f83d8814f567e01a4e/notebook/static/base/js/utils.js\n * Remove characters that are overridden by backspace characters\n */\nfunction fixBackspace(txt: string) {\n\tlet tmp = txt;\n\tdo {\n\t\ttxt = tmp;\n\t\t// Cancel out anything-but-newline followed by backspace\n\t\ttmp = txt.replace(/[^\\n]\\x08/gm, '');\n\t} while (tmp.length < txt.length);\n\treturn txt;\n}\n\n/**\n * Remove chunks that should be overridden by the effect of carriage return characters\n * From https://github.com/jupyter/notebook/blob/master/notebook/static/base/js/utils.js\n */\nfunction fixCarriageReturn(txt: string) {\n\ttxt = txt.replace(/\\r+\\n/gm, '\\n'); // \\r followed by \\n --> newline\n\twhile (txt.search(/\\r[^$]/g) > -1) {\n\t\tconst base = txt.match(/^(.*)\\r+/m)![1];\n\t\tlet insert = txt.match(/\\r+(.*)$/m)![1];\n\t\tinsert = insert + base.slice(insert.length, base.length);\n\t\ttxt = txt.replace(/\\r+.*$/m, '\\r').replace(/^.*\\r/m, insert);\n\t}\n\treturn txt;\n}\n\nconst BACKSPACE_CHARACTER = '\\b'.charCodeAt(0);\nconst CARRIAGE_RETURN_CHARACTER = '\\r'.charCodeAt(0);\nfunction formatStreamText(buffer: VSBuffer): VSBuffer {\n\t// We have special handling for backspace and carriage return characters.\n\t// Don't unnecessary decode the bytes if we don't need to perform any processing.\n\tif (!buffer.buffer.includes(BACKSPACE_CHARACTER) && !buffer.buffer.includes(CARRIAGE_RETURN_CHARACTER)) {\n\t\treturn buffer;\n\t}\n\t// Do the same thing jupyter is doing\n\treturn VSBuffer.fromString(fixCarriageReturn(fixBackspace(textDecoder.decode(buffer.buffer))));\n}\n\nexport interface INotebookKernelSourceAction {\n\treadonly label: string;\n\treadonly description?: string;\n\treadonly detail?: string;\n\treadonly command?: string | Command;\n\treadonly documentation?: UriComponents | string;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}