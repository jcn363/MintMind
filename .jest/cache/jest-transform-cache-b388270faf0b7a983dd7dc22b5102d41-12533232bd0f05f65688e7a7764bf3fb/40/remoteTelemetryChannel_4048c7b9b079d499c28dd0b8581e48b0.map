{"version":3,"names":["cov_15i7ffz2vm","actualCoverage","Disposable","ServerTelemetryChannel","telemetryService","telemetryAppender","constructor","f","s","call","_","command","arg","b","telemetryLevel","updateInjectedTelemetryLevel","eventName","data","log","Promise","resolve","flush","Error","listen","event","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/telemetry/common/remoteTelemetryChannel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { TelemetryLevel } from './telemetry.js';\nimport { ITelemetryAppender } from './telemetryUtils.js';\nimport { IServerTelemetryService } from './serverTelemetryService.js';\n\nexport class ServerTelemetryChannel extends Disposable implements IServerChannel {\n\tconstructor(\n\t\tprivate readonly telemetryService: IServerTelemetryService,\n\t\tprivate readonly telemetryAppender: ITelemetryAppender | null\n\t) {\n\t\tsuper();\n\t}\n\n\n\tasync call(_: any, command: string, arg?: any): Promise<any> {\n\t\tswitch (command) {\n\t\t\tcase 'updateTelemetryLevel': {\n\t\t\t\tconst { telemetryLevel } = arg;\n\t\t\t\treturn this.telemetryService.updateInjectedTelemetryLevel(telemetryLevel);\n\t\t\t}\n\n\t\t\tcase 'logTelemetry': {\n\t\t\t\tconst { eventName, data } = arg;\n\t\t\t\t// Logging is done directly to the appender instead of through the telemetry service\n\t\t\t\t// as the data sent from the client has already had common properties added to it and\n\t\t\t\t// has already been sent to the telemetry output channel\n\t\t\t\tif (this.telemetryAppender) {\n\t\t\t\t\treturn this.telemetryAppender.log(eventName, data);\n\t\t\t\t}\n\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\tcase 'flushTelemetry': {\n\t\t\t\tif (this.telemetryAppender) {\n\t\t\t\t\treturn this.telemetryAppender.flush();\n\t\t\t\t}\n\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\tcase 'ping': {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// Command we cannot handle so we throw an error\n\t\tthrow new Error(`IPC Command ${command} not found`);\n\t}\n\n\tlisten(_: any, event: string, arg: any): Event<any> {\n\t\tthrow new Error('Not supported');\n\t}\n\n\t/**\n\t * Disposing the channel also disables the telemetryService as there is\n\t * no longer a way to control it\n\t */\n\tpublic override dispose(): void {\n\t\tthis.telemetryService.updateInjectedTelemetryLevel(TelemetryLevel.NONE);\n\t\tsuper.dispose();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}