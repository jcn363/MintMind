{"version":3,"names":["cov_1va4pskx3v","actualCoverage","Promises","Emitter","Disposable","equals","UserDataProfileService","_serviceBrand","_onDidChangeCurrentProfile","s","_register","onDidChangeCurrentProfile","event","_currentProfile","currentProfile","f","constructor","updateCurrentProfile","userDataProfile","b","previous","joiners","fire","profile","join","promise","push","settled"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/userDataProfile/common/userDataProfileService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Promises } from '../../../../base/common/async.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { equals } from '../../../../base/common/objects.js';\nimport { IUserDataProfile } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { DidChangeUserDataProfileEvent, IUserDataProfileService } from './userDataProfile.js';\n\nexport class UserDataProfileService extends Disposable implements IUserDataProfileService {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeCurrentProfile = this._register(new Emitter<DidChangeUserDataProfileEvent>());\n\treadonly onDidChangeCurrentProfile = this._onDidChangeCurrentProfile.event;\n\n\tprivate _currentProfile: IUserDataProfile;\n\tget currentProfile(): IUserDataProfile { return this._currentProfile; }\n\n\tconstructor(\n\t\tcurrentProfile: IUserDataProfile\n\t) {\n\t\tsuper();\n\t\tthis._currentProfile = currentProfile;\n\t}\n\n\tasync updateCurrentProfile(userDataProfile: IUserDataProfile): Promise<void> {\n\t\tif (equals(this._currentProfile, userDataProfile)) {\n\t\t\treturn;\n\t\t}\n\t\tconst previous = this._currentProfile;\n\t\tthis._currentProfile = userDataProfile;\n\t\tconst joiners: Promise<void>[] = [];\n\t\tthis._onDidChangeCurrentProfile.fire({\n\t\t\tprevious,\n\t\t\tprofile: userDataProfile,\n\t\t\tjoin(promise) {\n\t\t\t\tjoiners.push(promise);\n\t\t\t}\n\t\t});\n\t\tawait Promises.settled(joiners);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAzBF;;;;AAKA,SAASE,QAAQ,QAAQ,kCAAkC;AAC3D,SAASC,OAAO,QAAQ,kCAAkC;AAC1D,SAASC,UAAU,QAAQ,sCAAsC;AACjE,SAASC,MAAM,QAAQ,oCAAoC;AAI3D,OAAM,MAAOC,sBAAuB,SAAQF,UAAU;EAE5CG,aAAa;EAELC,0BAA0B;EAAA;EAAA,CAAAR,cAAA,GAAAS,CAAA,OAAG,IAAI,CAACC,SAAS,CAAC,IAAIP,OAAO,EAAiC,CAAC;EACjGQ,yBAAyB;EAAA;EAAA,CAAAX,cAAA,GAAAS,CAAA,OAAG,IAAI,CAACD,0BAA0B,CAACI,KAAK;EAElEC,eAAe;EACvB,IAAIC,cAAcA,CAAA;IAAA;IAAAd,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAS,CAAA;IAAuB,OAAO,IAAI,CAACI,eAAe;EAAE;EAEtEG,YACCF,cAAgC;IAAA;IAAAd,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAS,CAAA;IAEhC,KAAK,EAAE;IAAC;IAAAT,cAAA,GAAAS,CAAA;IACR,IAAI,CAACI,eAAe,GAAGC,cAAc;EACtC;EAEA,MAAMG,oBAAoBA,CAACC,eAAiC;IAAA;IAAAlB,cAAA,GAAAe,CAAA;IAAAf,cAAA,GAAAS,CAAA;IAC3D,IAAIJ,MAAM,CAAC,IAAI,CAACQ,eAAe,EAAEK,eAAe,CAAC,EAAE;MAAA;MAAAlB,cAAA,GAAAmB,CAAA;MAAAnB,cAAA,GAAAS,CAAA;MAClD;IACD,CAAC;IAAA;IAAA;MAAAT,cAAA,GAAAmB,CAAA;IAAA;IACD,MAAMC,QAAQ;IAAA;IAAA,CAAApB,cAAA,GAAAS,CAAA,OAAG,IAAI,CAACI,eAAe;IAAC;IAAAb,cAAA,GAAAS,CAAA;IACtC,IAAI,CAACI,eAAe,GAAGK,eAAe;IACtC,MAAMG,OAAO;IAAA;IAAA,CAAArB,cAAA,GAAAS,CAAA,OAAoB,EAAE;IAAC;IAAAT,cAAA,GAAAS,CAAA;IACpC,IAAI,CAACD,0BAA0B,CAACc,IAAI,CAAC;MACpCF,QAAQ;MACRG,OAAO,EAAEL,eAAe;MACxBM,IAAIA,CAACC,OAAO;QAAA;QAAAzB,cAAA,GAAAe,CAAA;QAAAf,cAAA,GAAAS,CAAA;QACXY,OAAO,CAACK,IAAI,CAACD,OAAO,CAAC;MACtB;KACA,CAAC;IAAC;IAAAzB,cAAA,GAAAS,CAAA;IACH,MAAMP,QAAQ,CAACyB,OAAO,CAACN,OAAO,CAAC;EAChC","ignoreList":[]}