{"version":3,"names":["cov_mecld36rz","actualCoverage","getWindow","addDisposableListener","n","Disposable","DisposableStore","autorun","derived","disposableObservableValue","observableValue","observableCodeEditor","Point","AnimationFrameScheduler","appendRemoveOnDispose","MiddleScrollController","_editor","ID","s","get","editor","f","getContribution","constructor","obsEditor","scrollOnMiddleClick","getOption","_register","reader","read","b","editorDomNode","domNode","scrollingSession","store","add","undefined","onMouseDown","e","session","set","event","middleButton","stopPropagation","preventDefault","initialPos","posx","posy","mousePos","observeWindowMousePos","mouseDeltaAfterThreshold","map","v","subtract","withThreshold","editorDomNodeRect","getBoundingClientRect","initialMousePosInEditor","x","left","y","top","didScroll","dispose","onMouseUp","onKeyDown","lastTime","Date","now","instance","invalidateOnNextAnimationFrame","curTime","frameDurationMs","mouseDelta","factor","scrollDelta","scale","scrollPos","getScrollLeft","getScrollTop","setScrollPosition","toScrollPosition","isZero","directionAttr","delta","direction","setAttribute","dotDomElem","div","class","style","toDisposableLiveElement","element","classList","toggle","window","val","pageX","pageY","p","scrollLeft","scrollTop"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/middleScroll/browser/middleScrollController.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getWindow, addDisposableListener, n } from '../../../../base/browser/dom.js';\nimport { Disposable, DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { IEditorContribution, INewScrollPosition } from '../../../common/editorCommon.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { autorun, derived, disposableObservableValue, IObservable, observableValue } from '../../../../base/common/observable.js';\nimport { observableCodeEditor } from '../../../browser/observableCodeEditor.js';\nimport { Point } from '../../../common/core/2d/point.js';\nimport { AnimationFrameScheduler } from '../../inlineCompletions/browser/model/animation.js';\nimport { appendRemoveOnDispose } from '../../../browser/widget/diffEditor/utils.js';\nimport './middleScroll.css';\n\nexport class MiddleScrollController extends Disposable implements IEditorContribution {\n\tpublic static readonly ID = 'editor.contrib.middleScroll';\n\n\tstatic get(editor: ICodeEditor): MiddleScrollController | null {\n\t\treturn editor.getContribution<MiddleScrollController>(MiddleScrollController.ID);\n\t}\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor\n\t) {\n\t\tsuper();\n\n\t\tconst obsEditor = observableCodeEditor(this._editor);\n\t\tconst scrollOnMiddleClick = obsEditor.getOption(EditorOption.scrollOnMiddleClick);\n\n\t\tthis._register(autorun(reader => {\n\t\t\tif (!scrollOnMiddleClick.read(reader)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst editorDomNode = obsEditor.domNode.read(reader);\n\t\t\tif (!editorDomNode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst scrollingSession = reader.store.add(\n\t\t\t\tdisposableObservableValue(\n\t\t\t\t\t'scrollingSession',\n\t\t\t\t\tundefined as undefined | { mouseDeltaAfterThreshold: IObservable<Point>; initialMousePosInEditor: Point; didScroll: boolean } & IDisposable\n\t\t\t\t)\n\t\t\t);\n\n\t\t\treader.store.add(this._editor.onMouseDown(e => {\n\t\t\t\tconst session = scrollingSession.read(undefined);\n\t\t\t\tif (session) {\n\t\t\t\t\tscrollingSession.set(undefined, undefined);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!e.event.middleButton) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\te.event.stopPropagation();\n\t\t\t\te.event.preventDefault();\n\n\t\t\t\tconst store = new DisposableStore();\n\t\t\t\tconst initialPos = new Point(e.event.posx, e.event.posy);\n\t\t\t\tconst mousePos = observeWindowMousePos(getWindow(editorDomNode), initialPos, store);\n\t\t\t\tconst mouseDeltaAfterThreshold = mousePos.map(v => v.subtract(initialPos).withThreshold(5));\n\n\t\t\t\tconst editorDomNodeRect = editorDomNode.getBoundingClientRect();\n\t\t\t\tconst initialMousePosInEditor = new Point(initialPos.x - editorDomNodeRect.left, initialPos.y - editorDomNodeRect.top);\n\n\t\t\t\tscrollingSession.set({\n\t\t\t\t\tmouseDeltaAfterThreshold,\n\t\t\t\t\tinitialMousePosInEditor,\n\t\t\t\t\tdidScroll: false,\n\t\t\t\t\tdispose: () => store.dispose(),\n\t\t\t\t}, undefined);\n\n\t\t\t\tstore.add(this._editor.onMouseUp(e => {\n\t\t\t\t\tconst session = scrollingSession.read(undefined);\n\t\t\t\t\tif (session && session.didScroll) {\n\t\t\t\t\t\t// Only cancel session on release if the user scrolled during it\n\t\t\t\t\t\tscrollingSession.set(undefined, undefined);\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tstore.add(this._editor.onKeyDown(e => {\n\t\t\t\t\tscrollingSession.set(undefined, undefined);\n\t\t\t\t}));\n\t\t\t}));\n\n\t\t\treader.store.add(autorun(reader => {\n\t\t\t\tconst session = scrollingSession.read(reader);\n\t\t\t\tif (!session) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet lastTime = Date.now();\n\t\t\t\treader.store.add(autorun(reader => {\n\t\t\t\t\tAnimationFrameScheduler.instance.invalidateOnNextAnimationFrame(reader);\n\n\t\t\t\t\tconst curTime = Date.now();\n\t\t\t\t\tconst frameDurationMs = curTime - lastTime;\n\t\t\t\t\tlastTime = curTime;\n\n\t\t\t\t\tconst mouseDelta = session.mouseDeltaAfterThreshold.read(undefined);\n\n\t\t\t\t\t// scroll by mouse delta every 32ms\n\t\t\t\t\tconst factor = frameDurationMs / 32;\n\t\t\t\t\tconst scrollDelta = mouseDelta.scale(factor);\n\n\t\t\t\t\tconst scrollPos = new Point(this._editor.getScrollLeft(), this._editor.getScrollTop());\n\t\t\t\t\tthis._editor.setScrollPosition(toScrollPosition(scrollPos.add(scrollDelta)));\n\t\t\t\t\tif (!scrollDelta.isZero()) {\n\t\t\t\t\t\tsession.didScroll = true;\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tconst directionAttr = derived(reader => {\n\t\t\t\t\tconst delta = session.mouseDeltaAfterThreshold.read(reader);\n\t\t\t\t\tlet direction: string = '';\n\t\t\t\t\tdirection += (delta.y < 0 ? 'n' : (delta.y > 0 ? 's' : ''));\n\t\t\t\t\tdirection += (delta.x < 0 ? 'w' : (delta.x > 0 ? 'e' : ''));\n\t\t\t\t\treturn direction;\n\t\t\t\t});\n\t\t\t\treader.store.add(autorun(reader => {\n\t\t\t\t\teditorDomNode.setAttribute('data-scroll-direction', directionAttr.read(reader));\n\t\t\t\t}));\n\t\t\t}));\n\n\t\t\tconst dotDomElem = reader.store.add(n.div({\n\t\t\t\tclass: ['scroll-editor-on-middle-click-dot', scrollingSession.map(session => session ? '' : 'hidden')],\n\t\t\t\tstyle: {\n\t\t\t\t\tleft: scrollingSession.map((session) => session ? session.initialMousePosInEditor.x : 0),\n\t\t\t\t\ttop: scrollingSession.map((session) => session ? session.initialMousePosInEditor.y : 0),\n\t\t\t\t}\n\t\t\t}).toDisposableLiveElement());\n\t\t\treader.store.add(appendRemoveOnDispose(editorDomNode, dotDomElem.element));\n\n\t\t\treader.store.add(autorun(reader => {\n\t\t\t\tconst session = scrollingSession.read(reader);\n\t\t\t\teditorDomNode.classList.toggle('scroll-editor-on-middle-click-editor', !!session);\n\t\t\t}));\n\t\t}));\n\t}\n}\n\nfunction observeWindowMousePos(window: Window, initialPos: Point, store: DisposableStore): IObservable<Point> {\n\tconst val = observableValue('pos', initialPos);\n\tstore.add(addDisposableListener(window, 'mousemove', (e: MouseEvent) => {\n\t\tval.set(new Point(e.pageX, e.pageY), undefined);\n\t}));\n\treturn val;\n}\n\nfunction toScrollPosition(p: Point): INewScrollPosition {\n\treturn {\n\t\tscrollLeft: p.x,\n\t\tscrollTop: p.y,\n\t};\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}