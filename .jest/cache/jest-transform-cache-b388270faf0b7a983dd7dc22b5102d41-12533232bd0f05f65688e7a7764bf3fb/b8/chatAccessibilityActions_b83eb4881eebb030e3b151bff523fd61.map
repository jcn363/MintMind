{"version":3,"names":["cov_7ft19skhf","actualCoverage","alert","localize","Action2","registerAction2","IChatWidgetService","ChatContextKeys","isResponseVM","CONTEXT_ACCESSIBILITY_MODE_ENABLED","ACTION_ID_FOCUS_CHAT_CONFIRMATION","s","AnnounceChatConfirmationAction","constructor","f","id","title","value","original","category","precondition","enabled","f1","keybinding","weight","primary","when","run","accessor","chatWidgetService","get","lastFocusedWidget","b","viewModel","firstConfirmationElement","lastResponse","getItems","length","confirmationWidgets","domNode","querySelectorAll","focus","registerChatAccessibilityActions"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/actions/chatAccessibilityActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../../base/browser/ui/aria/aria.js';\nimport { localize } from '../../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { IChatWidgetService } from '../chat.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { isResponseVM } from '../../common/chatViewModel.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../../platform/accessibility/common/accessibility.js';\n\nexport const ACTION_ID_FOCUS_CHAT_CONFIRMATION = 'workbench.action.chat.focusConfirmation';\n\nclass AnnounceChatConfirmationAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ACTION_ID_FOCUS_CHAT_CONFIRMATION,\n\t\t\ttitle: { value: localize('focusChatConfirmation', 'Focus Chat Confirmation'), original: 'Focus Chat Confirmation' },\n\t\t\tcategory: { value: localize('chat.category', 'Chat'), original: 'Chat' },\n\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyA | KeyMod.Shift,\n\t\t\t\twhen: CONTEXT_ACCESSIBILITY_MODE_ENABLED\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\tconst lastFocusedWidget = chatWidgetService.lastFocusedWidget;\n\n\t\tif (!lastFocusedWidget) {\n\t\t\talert(localize('noChatSession', 'No active chat session found.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewModel = lastFocusedWidget.viewModel;\n\t\tif (!viewModel) {\n\t\t\talert(localize('chatNotReady', 'Chat interface not ready.'));\n\t\t\treturn;\n\t\t}\n\n\t\t// Check for active confirmations in the chat responses\n\t\tlet firstConfirmationElement: HTMLElement | undefined;\n\n\t\tconst lastResponse = viewModel.getItems()[viewModel.getItems().length - 1];\n\t\tif (isResponseVM(lastResponse)) {\n\t\t\t \n\t\t\tconst confirmationWidgets = lastFocusedWidget.domNode.querySelectorAll('.chat-confirmation-widget-container');\n\t\t\tif (confirmationWidgets.length > 0) {\n\t\t\t\tfirstConfirmationElement = confirmationWidgets[0] as HTMLElement;\n\t\t\t}\n\t\t}\n\n\t\tif (firstConfirmationElement) {\n\t\t\tfirstConfirmationElement.focus();\n\t\t} else {\n\t\t\talert(localize('noConfirmationRequired', 'No chat confirmation required'));\n\t\t}\n\t}\n}\n\nexport function registerChatAccessibilityActions(): void {\n\tregisterAction2(AnnounceChatConfirmationAction);\n}\n"],"mappings":"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","ignoreList":[]}