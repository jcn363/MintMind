{"version":3,"names":["cov_2goux7oz32","actualCoverage","Emitter","Disposable","DisposableStore","dispose","Schemas","MultiDiffEditorItem","DiffElementPlaceholderViewModel","NotebookDocumentMetadataViewModel","SideBySideDiffElementViewModel","SingleSideDiffElementViewModel","NOTEBOOK_DIFF_ITEM_DIFF_STATE","NOTEBOOK_DIFF_ITEM_KIND","CellUri","raceCancellation","computeDiff","NotebookDiffViewModel","model","notebookEditorWorkerService","configurationService","eventDispatcher","notebookService","diffEditorHeightCalculator","fontInfo","excludeUnchangedPlaceholder","placeholderAndRelatedCells","s","Map","_items","items","f","_onDidChangeItems","_register","onDidChangeItems","event","disposables","_onDidChange","diffEditorItems","onDidChange","notebookMetadataViewModel","value","filter","item","type","_includeUnchanged","b","NotebookMultiDiffEditorCellItem","containerType","NotebookMultiDiffEditorMetadataItem","NotebookMultiDiffEditorOutputItem","hideOutput","ignoreMetadata","_hasUnchangedCells","hasUnchangedCells","includeUnchanged","fire","originalCellViewModels","constructor","modified","notebook","transientOptions","transientOutputs","getValue","onDidChangeConfiguration","e","triggerChange","metadataChanged","affectsConfiguration","newValue","undefined","toggleNotebookMetadata","clear","Array","from","keys","splice","length","token","diffResult","original","resource","isCancellationRequested","prettyChanges","cellsDiff","cellDiffInfo","firstChangeIndex","isEqual","updateViewModels","updateDiffEditorItems","start","deleteCount","elements","originalSourceUri","modifiedSourceUri","forEach","push","uri","originalMetadata","generateCellPropertyUri","handle","vscodeNotebookCellMetadata","originalOutput","vscodeNotebookCellOutput","modifiedMetadata","modifiedOutput","cellType","checkIfInputModified","containerChanged","checkMetadataIfModified","checkIfOutputsModified","cellViewModels","createDiffViewModels","oldLength","placeholder","vm","index","displayIconToHideUnmodifiedCells","mainDocumentTextModel","editorEventDispatcher","initData","placeholderItem","add","onUnfoldHiddenCells","hiddenCellViewModels","get","isArray","indexOf","onHideUnchangedCells","set","hiddenCells","computedCellDiffs","originalModel","modifiedModel","metadataStatusHeight","outputStatusHeight","viewModels","computeHeights","Promise","all","map","diff","cells","originalCellIndex","modifiedCellIndex","viewModel","computeEditorHeights","changes","i","curr","next","x","originalStart","y","modifiedStart","originalLength","modifiedLength","getHashValue","a","NotebookMultiDiffEditorItem","kind","originalUri","modifiedUri","goToFileUri","contextKeys","key"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/diff/notebookDiffViewModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { IDiffResult } from '../../../../../base/common/diff/diff.js';\nimport { Emitter, type IValueWithChangeEvent } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport type { URI } from '../../../../../base/common/uri.js';\nimport { FontInfo } from '../../../../../editor/common/config/fontInfo.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport type { ContextKeyValue } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { MultiDiffEditorItem } from '../../../multiDiffEditor/browser/multiDiffSourceResolverService.js';\nimport { DiffElementCellViewModelBase, DiffElementPlaceholderViewModel, IDiffElementViewModelBase, NotebookDocumentMetadataViewModel, SideBySideDiffElementViewModel, SingleSideDiffElementViewModel } from './diffElementViewModel.js';\nimport { NotebookDiffEditorEventDispatcher } from './eventDispatcher.js';\nimport { INotebookDiffViewModel, INotebookDiffViewModelUpdateEvent, NOTEBOOK_DIFF_ITEM_DIFF_STATE, NOTEBOOK_DIFF_ITEM_KIND } from './notebookDiffEditorBrowser.js';\nimport { NotebookTextModel } from '../../common/model/notebookTextModel.js';\nimport { CellUri, INotebookDiffEditorModel } from '../../common/notebookCommon.js';\nimport { INotebookService } from '../../common/notebookService.js';\nimport { INotebookEditorWorkerService } from '../../common/services/notebookWorkerService.js';\nimport { IDiffEditorHeightCalculatorService } from './editorHeightCalculator.js';\nimport { raceCancellation } from '../../../../../base/common/async.js';\nimport { computeDiff } from '../../common/notebookDiff.js';\n\nexport class NotebookDiffViewModel extends Disposable implements INotebookDiffViewModel, IValueWithChangeEvent<readonly MultiDiffEditorItem[]> {\n\tprivate readonly placeholderAndRelatedCells = new Map<DiffElementPlaceholderViewModel, DiffElementCellViewModelBase[]>();\n\tprivate readonly _items: IDiffElementViewModelBase[] = [];\n\tget items(): readonly IDiffElementViewModelBase[] {\n\t\treturn this._items;\n\t}\n\tprivate readonly _onDidChangeItems = this._register(new Emitter<INotebookDiffViewModelUpdateEvent>());\n\tpublic readonly onDidChangeItems = this._onDidChangeItems.event;\n\tprivate readonly disposables = this._register(new DisposableStore());\n\tprivate _onDidChange = this._register(new Emitter<void>());\n\tprivate diffEditorItems: NotebookMultiDiffEditorItem[] = [];\n\tpublic onDidChange = this._onDidChange.event;\n\tprivate notebookMetadataViewModel?: NotebookDocumentMetadataViewModel;\n\tget value(): readonly NotebookMultiDiffEditorItem[] {\n\t\treturn this.diffEditorItems\n\t\t\t.filter(item => item.type !== 'placeholder')\n\t\t\t.filter(item => {\n\t\t\t\tif (this._includeUnchanged) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (item instanceof NotebookMultiDiffEditorCellItem) {\n\t\t\t\t\treturn item.type === 'unchanged' && item.containerType === 'unchanged' ? false : true;\n\t\t\t\t}\n\t\t\t\tif (item instanceof NotebookMultiDiffEditorMetadataItem) {\n\t\t\t\t\treturn item.type === 'unchanged' && item.containerType === 'unchanged' ? false : true;\n\t\t\t\t}\n\t\t\t\tif (item instanceof NotebookMultiDiffEditorOutputItem) {\n\t\t\t\t\treturn item.type === 'unchanged' && item.containerType === 'unchanged' ? false : true;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t\t.filter(item => item instanceof NotebookMultiDiffEditorOutputItem ? !this.hideOutput : true)\n\t\t\t.filter(item => item instanceof NotebookMultiDiffEditorMetadataItem ? !this.ignoreMetadata : true);\n\t}\n\n\tprivate _hasUnchangedCells?: boolean;\n\tpublic get hasUnchangedCells() {\n\t\treturn this._hasUnchangedCells === true;\n\t}\n\tprivate _includeUnchanged?: boolean;\n\tpublic get includeUnchanged() {\n\t\treturn this._includeUnchanged === true;\n\t}\n\tpublic set includeUnchanged(value) {\n\t\tthis._includeUnchanged = value;\n\t\tthis._onDidChange.fire();\n\t}\n\tprivate hideOutput?: boolean;\n\tprivate ignoreMetadata?: boolean;\n\n\tprivate originalCellViewModels: IDiffElementViewModelBase[] = [];\n\tconstructor(private readonly model: INotebookDiffEditorModel,\n\t\tprivate readonly notebookEditorWorkerService: INotebookEditorWorkerService,\n\t\tprivate readonly configurationService: IConfigurationService,\n\t\tprivate readonly eventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tprivate readonly notebookService: INotebookService,\n\t\tprivate readonly diffEditorHeightCalculator: IDiffEditorHeightCalculatorService,\n\t\tprivate readonly fontInfo?: FontInfo,\n\t\tprivate readonly excludeUnchangedPlaceholder?: boolean,\n\t) {\n\t\tsuper();\n\t\tthis.hideOutput = this.model.modified.notebook.transientOptions.transientOutputs || this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs');\n\t\tthis.ignoreMetadata = this.configurationService.getValue('notebook.diff.ignoreMetadata');\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tlet triggerChange = false;\n\t\t\tlet metadataChanged = false;\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreMetadata')) {\n\t\t\t\tconst newValue = this.configurationService.getValue<boolean>('notebook.diff.ignoreMetadata');\n\n\t\t\t\tif (newValue !== undefined && this.ignoreMetadata !== newValue) {\n\t\t\t\t\tthis.ignoreMetadata = newValue;\n\t\t\t\t\ttriggerChange = true;\n\t\t\t\t\tmetadataChanged = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreOutputs')) {\n\t\t\t\tconst newValue = this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs');\n\n\t\t\t\tif (newValue !== undefined && this.hideOutput !== (newValue || this.model.modified.notebook.transientOptions.transientOutputs)) {\n\t\t\t\t\tthis.hideOutput = newValue || !!(this.model.modified.notebook.transientOptions.transientOutputs);\n\t\t\t\t\ttriggerChange = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (metadataChanged) {\n\t\t\t\tthis.toggleNotebookMetadata();\n\t\t\t}\n\t\t\tif (triggerChange) {\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t}));\n\t}\n\toverride dispose() {\n\t\tthis.clear();\n\t\tsuper.dispose();\n\t}\n\tprivate clear() {\n\t\tthis.disposables.clear();\n\t\tdispose(Array.from(this.placeholderAndRelatedCells.keys()));\n\t\tthis.placeholderAndRelatedCells.clear();\n\t\tdispose(this.originalCellViewModels);\n\t\tthis.originalCellViewModels = [];\n\t\tdispose(this._items);\n\t\tthis._items.splice(0, this._items.length);\n\t}\n\n\tasync computeDiff(token: CancellationToken): Promise<void> {\n\t\tconst diffResult = await raceCancellation(this.notebookEditorWorkerService.computeDiff(this.model.original.resource, this.model.modified.resource), token);\n\t\tif (!diffResult || token.isCancellationRequested) {\n\t\t\t// after await the editor might be disposed.\n\t\t\treturn;\n\t\t}\n\n\t\tprettyChanges(this.model.original.notebook, this.model.modified.notebook, diffResult.cellsDiff);\n\n\t\tconst { cellDiffInfo, firstChangeIndex } = computeDiff(this.model.original.notebook, this.model.modified.notebook, diffResult);\n\t\tif (isEqual(cellDiffInfo, this.originalCellViewModels, this.model)) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tawait raceCancellation(this.updateViewModels(cellDiffInfo, diffResult.metadataChanged, firstChangeIndex), token);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.updateDiffEditorItems();\n\t\t}\n\t}\n\n\tprivate toggleNotebookMetadata() {\n\t\tif (!this.notebookMetadataViewModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.ignoreMetadata) {\n\t\t\tif (this._items.length && this._items[0] === this.notebookMetadataViewModel) {\n\t\t\t\tthis._items.splice(0, 1);\n\t\t\t\tthis._onDidChangeItems.fire({ start: 0, deleteCount: 1, elements: [] });\n\t\t\t}\n\t\t} else {\n\t\t\tif (!this._items.length || this._items[0] !== this.notebookMetadataViewModel) {\n\t\t\t\tthis._items.splice(0, 0, this.notebookMetadataViewModel);\n\t\t\t\tthis._onDidChangeItems.fire({ start: 0, deleteCount: 0, elements: [this.notebookMetadataViewModel] });\n\t\t\t}\n\t\t}\n\t}\n\tprivate updateDiffEditorItems() {\n\t\tthis.diffEditorItems = [];\n\t\tconst originalSourceUri = this.model.original.resource!;\n\t\tconst modifiedSourceUri = this.model.modified.resource!;\n\t\tthis._hasUnchangedCells = false;\n\t\tthis.items.forEach(item => {\n\t\t\tswitch (item.type) {\n\t\t\t\tcase 'delete': {\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorCellItem(item.original!.uri, undefined, item.type, item.type));\n\t\t\t\t\tconst originalMetadata = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorMetadataItem(originalMetadata, undefined, item.type, item.type));\n\t\t\t\t\tconst originalOutput = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorOutputItem(originalOutput, undefined, item.type, item.type));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'insert': {\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorCellItem(undefined, item.modified!.uri, item.type, item.type));\n\t\t\t\t\tconst modifiedMetadata = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorMetadataItem(undefined, modifiedMetadata, item.type, item.type));\n\t\t\t\t\tconst modifiedOutput = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorOutputItem(undefined, modifiedOutput, item.type, item.type));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'modified': {\n\t\t\t\t\tconst cellType = item.checkIfInputModified() ? item.type : 'unchanged';\n\t\t\t\t\tconst containerChanged = (item.checkIfInputModified() || item.checkMetadataIfModified() || item.checkIfOutputsModified()) ? item.type : 'unchanged';\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorCellItem(item.original!.uri, item.modified!.uri, cellType, containerChanged));\n\t\t\t\t\tconst originalMetadata = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tconst modifiedMetadata = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorMetadataItem(originalMetadata, modifiedMetadata, item.checkMetadataIfModified() ? item.type : 'unchanged', containerChanged));\n\t\t\t\t\tconst originalOutput = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tconst modifiedOutput = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorOutputItem(originalOutput, modifiedOutput, item.checkIfOutputsModified() ? item.type : 'unchanged', containerChanged));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'unchanged': {\n\t\t\t\t\tthis._hasUnchangedCells = true;\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorCellItem(item.original!.uri, item.modified!.uri, item.type, item.type));\n\t\t\t\t\tconst originalMetadata = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tconst modifiedMetadata = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorMetadataItem(originalMetadata, modifiedMetadata, item.type, item.type));\n\t\t\t\t\tconst originalOutput = CellUri.generateCellPropertyUri(originalSourceUri, item.original!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tconst modifiedOutput = CellUri.generateCellPropertyUri(modifiedSourceUri, item.modified!.handle, Schemas.vscodeNotebookCellOutput);\n\t\t\t\t\tthis.diffEditorItems.push(new NotebookMultiDiffEditorOutputItem(originalOutput, modifiedOutput, item.type, item.type));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tprivate async updateViewModels(cellDiffInfo: CellDiffInfo[], metadataChanged: boolean, firstChangeIndex: number) {\n\t\tconst cellViewModels = await this.createDiffViewModels(cellDiffInfo, metadataChanged);\n\t\tconst oldLength = this._items.length;\n\t\tthis.clear();\n\t\tthis._items.splice(0, oldLength);\n\n\t\tlet placeholder: DiffElementPlaceholderViewModel | undefined = undefined;\n\t\tthis.originalCellViewModels = cellViewModels;\n\t\tcellViewModels.forEach((vm, index) => {\n\t\t\tif (vm.type === 'unchanged' && !this.excludeUnchangedPlaceholder) {\n\t\t\t\tif (!placeholder) {\n\t\t\t\t\tvm.displayIconToHideUnmodifiedCells = true;\n\t\t\t\t\tplaceholder = new DiffElementPlaceholderViewModel(vm.mainDocumentTextModel, vm.editorEventDispatcher, vm.initData);\n\t\t\t\t\tthis._items.push(placeholder);\n\t\t\t\t\tconst placeholderItem = placeholder;\n\n\t\t\t\t\tthis.disposables.add(placeholderItem.onUnfoldHiddenCells(() => {\n\t\t\t\t\t\tconst hiddenCellViewModels = this.placeholderAndRelatedCells.get(placeholderItem);\n\t\t\t\t\t\tif (!Array.isArray(hiddenCellViewModels)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst start = this._items.indexOf(placeholderItem);\n\t\t\t\t\t\tthis._items.splice(start, 1, ...hiddenCellViewModels);\n\t\t\t\t\t\tthis._onDidChangeItems.fire({ start, deleteCount: 1, elements: hiddenCellViewModels });\n\t\t\t\t\t}));\n\t\t\t\t\tthis.disposables.add(vm.onHideUnchangedCells(() => {\n\t\t\t\t\t\tconst hiddenCellViewModels = this.placeholderAndRelatedCells.get(placeholderItem);\n\t\t\t\t\t\tif (!Array.isArray(hiddenCellViewModels)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst start = this._items.indexOf(vm);\n\t\t\t\t\t\tthis._items.splice(start, hiddenCellViewModels.length, placeholderItem);\n\t\t\t\t\t\tthis._onDidChangeItems.fire({ start, deleteCount: hiddenCellViewModels.length, elements: [placeholderItem] });\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tconst hiddenCellViewModels = this.placeholderAndRelatedCells.get(placeholder) || [];\n\t\t\t\thiddenCellViewModels.push(vm);\n\t\t\t\tthis.placeholderAndRelatedCells.set(placeholder, hiddenCellViewModels);\n\t\t\t\tplaceholder.hiddenCells.push(vm);\n\t\t\t} else {\n\t\t\t\tplaceholder = undefined;\n\t\t\t\tthis._items.push(vm);\n\t\t\t}\n\t\t});\n\n\t\t// Note, ensure all of the height calculations are done before firing the event.\n\t\t// This is to ensure that the diff editor is not resized multiple times, thereby avoiding flickering.\n\t\tthis._onDidChangeItems.fire({ start: 0, deleteCount: oldLength, elements: this._items, firstChangeIndex });\n\t}\n\tprivate async createDiffViewModels(computedCellDiffs: CellDiffInfo[], metadataChanged: boolean) {\n\t\tconst originalModel = this.model.original.notebook;\n\t\tconst modifiedModel = this.model.modified.notebook;\n\t\tconst initData = {\n\t\t\tmetadataStatusHeight: this.configurationService.getValue('notebook.diff.ignoreMetadata') ? 0 : 25,\n\t\t\toutputStatusHeight: this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs') || !!(modifiedModel.transientOptions.transientOutputs) ? 0 : 25,\n\t\t\tfontInfo: this.fontInfo\n\t\t};\n\n\t\tconst viewModels: (SingleSideDiffElementViewModel | SideBySideDiffElementViewModel | NotebookDocumentMetadataViewModel)[] = [];\n\t\tthis.notebookMetadataViewModel = this._register(new NotebookDocumentMetadataViewModel(this.model.original.notebook, this.model.modified.notebook, metadataChanged ? 'modifiedMetadata' : 'unchangedMetadata', this.eventDispatcher, initData, this.notebookService, this.diffEditorHeightCalculator));\n\t\tif (!this.ignoreMetadata) {\n\t\t\tif (metadataChanged) {\n\t\t\t\tawait this.notebookMetadataViewModel.computeHeights();\n\t\t\t}\n\t\t\tviewModels.push(this.notebookMetadataViewModel);\n\t\t}\n\t\tconst cellViewModels = await Promise.all(computedCellDiffs.map(async (diff) => {\n\t\t\tswitch (diff.type) {\n\t\t\t\tcase 'delete': {\n\t\t\t\t\treturn new SingleSideDiffElementViewModel(\n\t\t\t\t\t\toriginalModel,\n\t\t\t\t\t\tmodifiedModel,\n\t\t\t\t\t\toriginalModel.cells[diff.originalCellIndex],\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t'delete',\n\t\t\t\t\t\tthis.eventDispatcher,\n\t\t\t\t\t\tinitData,\n\t\t\t\t\t\tthis.notebookService,\n\t\t\t\t\t\tthis.configurationService,\n\t\t\t\t\t\tthis.diffEditorHeightCalculator,\n\t\t\t\t\t\tdiff.originalCellIndex\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'insert': {\n\t\t\t\t\treturn new SingleSideDiffElementViewModel(\n\t\t\t\t\t\tmodifiedModel,\n\t\t\t\t\t\toriginalModel,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\tmodifiedModel.cells[diff.modifiedCellIndex],\n\t\t\t\t\t\t'insert',\n\t\t\t\t\t\tthis.eventDispatcher,\n\t\t\t\t\t\tinitData,\n\t\t\t\t\t\tthis.notebookService,\n\t\t\t\t\t\tthis.configurationService,\n\t\t\t\t\t\tthis.diffEditorHeightCalculator,\n\t\t\t\t\t\tdiff.modifiedCellIndex\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tcase 'modified': {\n\t\t\t\t\tconst viewModel = new SideBySideDiffElementViewModel(\n\t\t\t\t\t\tthis.model.modified.notebook,\n\t\t\t\t\t\tthis.model.original.notebook,\n\t\t\t\t\t\toriginalModel.cells[diff.originalCellIndex],\n\t\t\t\t\t\tmodifiedModel.cells[diff.modifiedCellIndex],\n\t\t\t\t\t\t'modified',\n\t\t\t\t\t\tthis.eventDispatcher,\n\t\t\t\t\t\tinitData,\n\t\t\t\t\t\tthis.notebookService,\n\t\t\t\t\t\tthis.configurationService,\n\t\t\t\t\t\tdiff.originalCellIndex,\n\t\t\t\t\t\tthis.diffEditorHeightCalculator\n\t\t\t\t\t);\n\t\t\t\t\t// Reduces flicker (compute this before setting the model)\n\t\t\t\t\t// Else when the model is set, the height of the editor will be x, after diff is computed, then height will be y.\n\t\t\t\t\t// & that results in flicker.\n\t\t\t\t\tawait viewModel.computeEditorHeights();\n\t\t\t\t\treturn viewModel;\n\t\t\t\t}\n\t\t\t\tcase 'unchanged': {\n\t\t\t\t\treturn new SideBySideDiffElementViewModel(\n\t\t\t\t\t\tthis.model.modified.notebook,\n\t\t\t\t\t\tthis.model.original.notebook,\n\t\t\t\t\t\toriginalModel.cells[diff.originalCellIndex],\n\t\t\t\t\t\tmodifiedModel.cells[diff.modifiedCellIndex],\n\t\t\t\t\t\t'unchanged', this.eventDispatcher,\n\t\t\t\t\t\tinitData,\n\t\t\t\t\t\tthis.notebookService,\n\t\t\t\t\t\tthis.configurationService,\n\t\t\t\t\t\tdiff.originalCellIndex,\n\t\t\t\t\t\tthis.diffEditorHeightCalculator\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tcellViewModels.forEach(vm => viewModels.push(vm));\n\n\t\treturn viewModels;\n\t}\n\n}\n\n\n/**\n * making sure that swapping cells are always translated to `insert+delete`.\n */\nexport function prettyChanges(original: NotebookTextModel, modified: NotebookTextModel, diffResult: IDiffResult) {\n\tconst changes = diffResult.changes;\n\tfor (let i = 0; i < diffResult.changes.length - 1; i++) {\n\t\t// then we know there is another change after current one\n\t\tconst curr = changes[i];\n\t\tconst next = changes[i + 1];\n\t\tconst x = curr.originalStart;\n\t\tconst y = curr.modifiedStart;\n\n\t\tif (\n\t\t\tcurr.originalLength === 1\n\t\t\t&& curr.modifiedLength === 0\n\t\t\t&& next.originalStart === x + 2\n\t\t\t&& next.originalLength === 0\n\t\t\t&& next.modifiedStart === y + 1\n\t\t\t&& next.modifiedLength === 1\n\t\t\t&& original.cells[x].getHashValue() === modified.cells[y + 1].getHashValue()\n\t\t\t&& original.cells[x + 1].getHashValue() === modified.cells[y].getHashValue()\n\t\t) {\n\t\t\t// this is a swap\n\t\t\tcurr.originalStart = x;\n\t\t\tcurr.originalLength = 0;\n\t\t\tcurr.modifiedStart = y;\n\t\t\tcurr.modifiedLength = 1;\n\n\t\t\tnext.originalStart = x + 1;\n\t\t\tnext.originalLength = 1;\n\t\t\tnext.modifiedStart = y + 2;\n\t\t\tnext.modifiedLength = 0;\n\n\t\t\ti++;\n\t\t}\n\t}\n}\n\nexport type CellDiffInfo = {\n\toriginalCellIndex: number;\n\tmodifiedCellIndex: number;\n\ttype: 'unchanged' | 'modified';\n} |\n{\n\toriginalCellIndex: number;\n\ttype: 'delete';\n} |\n{\n\tmodifiedCellIndex: number;\n\ttype: 'insert';\n};\n\nfunction isEqual(cellDiffInfo: CellDiffInfo[], viewModels: IDiffElementViewModelBase[], model: INotebookDiffEditorModel) {\n\tif (cellDiffInfo.length !== viewModels.length) {\n\t\treturn false;\n\t}\n\tconst originalModel = model.original.notebook;\n\tconst modifiedModel = model.modified.notebook;\n\tfor (let i = 0; i < viewModels.length; i++) {\n\t\tconst a = cellDiffInfo[i];\n\t\tconst b = viewModels[i];\n\t\tif (a.type !== b.type) {\n\t\t\treturn false;\n\t\t}\n\t\tswitch (a.type) {\n\t\t\tcase 'delete': {\n\t\t\t\tif (originalModel.cells[a.originalCellIndex].handle !== b.original?.handle) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcase 'insert': {\n\t\t\t\tif (modifiedModel.cells[a.modifiedCellIndex].handle !== b.modified?.handle) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tif (originalModel.cells[a.originalCellIndex].handle !== b.original?.handle) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (modifiedModel.cells[a.modifiedCellIndex].handle !== b.modified?.handle) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}\nexport abstract class NotebookMultiDiffEditorItem extends MultiDiffEditorItem {\n\tconstructor(\n\t\toriginalUri: URI | undefined,\n\t\tmodifiedUri: URI | undefined,\n\t\tgoToFileUri: URI | undefined,\n\t\tpublic readonly type: IDiffElementViewModelBase['type'],\n\t\tpublic readonly containerType: IDiffElementViewModelBase['type'],\n\t\tpublic kind: 'Cell' | 'Metadata' | 'Output',\n\t\tcontextKeys?: Record<string, ContextKeyValue>,\n\t) {\n\t\tsuper(originalUri, modifiedUri, goToFileUri, undefined, contextKeys);\n\t}\n}\n\nclass NotebookMultiDiffEditorCellItem extends NotebookMultiDiffEditorItem {\n\tconstructor(\n\t\toriginalUri: URI | undefined,\n\t\tmodifiedUri: URI | undefined,\n\t\ttype: IDiffElementViewModelBase['type'],\n\t\tcontainerType: IDiffElementViewModelBase['type'],\n\t) {\n\t\tsuper(originalUri, modifiedUri, modifiedUri || originalUri, type, containerType, 'Cell', {\n\t\t\t[NOTEBOOK_DIFF_ITEM_KIND.key]: 'Cell',\n\t\t\t[NOTEBOOK_DIFF_ITEM_DIFF_STATE.key]: type\n\t\t});\n\t}\n}\n\nclass NotebookMultiDiffEditorMetadataItem extends NotebookMultiDiffEditorItem {\n\tconstructor(\n\t\toriginalUri: URI | undefined,\n\t\tmodifiedUri: URI | undefined,\n\t\ttype: IDiffElementViewModelBase['type'],\n\t\tcontainerType: IDiffElementViewModelBase['type'],\n\t) {\n\t\tsuper(originalUri, modifiedUri, modifiedUri || originalUri, type, containerType, 'Metadata', {\n\t\t\t[NOTEBOOK_DIFF_ITEM_KIND.key]: 'Metadata',\n\t\t\t[NOTEBOOK_DIFF_ITEM_DIFF_STATE.key]: type\n\t\t});\n\t}\n}\n\nclass NotebookMultiDiffEditorOutputItem extends NotebookMultiDiffEditorItem {\n\tconstructor(\n\t\toriginalUri: URI | undefined,\n\t\tmodifiedUri: URI | undefined,\n\t\ttype: IDiffElementViewModelBase['type'],\n\t\tcontainerType: IDiffElementViewModelBase['type'],\n\t) {\n\t\tsuper(originalUri, modifiedUri, modifiedUri || originalUri, type, containerType, 'Output', {\n\t\t\t[NOTEBOOK_DIFF_ITEM_KIND.key]: 'Output',\n\t\t\t[NOTEBOOK_DIFF_ITEM_DIFF_STATE.key]: type\n\t\t});\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}