{"version":3,"names":["cov_mdltmwtae","actualCoverage","MainContext","Disposable","ExtHostAiEmbeddingVector","_AiEmbeddingVectorProviders","s","Map","_nextHandle","_proxy","constructor","mainContext","f","getProxy","MainThreadAiEmbeddingVector","$provideAiEmbeddingVector","handle","strings","token","size","b","Error","provider","get","result","provideEmbeddingVector","registerEmbeddingVectorProvider","extension","model","set","$registerAiEmbeddingVectorProvider","$unregisterAiEmbeddingVectorProvider","delete"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostEmbeddingVector.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { ExtHostAiEmbeddingVectorShape, IMainContext, MainContext, MainThreadAiEmbeddingVectorShape } from './extHost.protocol.js';\nimport type { CancellationToken, EmbeddingVectorProvider } from 'vscode';\nimport { Disposable } from './extHostTypes.js';\n\nexport class ExtHostAiEmbeddingVector implements ExtHostAiEmbeddingVectorShape {\n\tprivate _AiEmbeddingVectorProviders: Map<number, EmbeddingVectorProvider> = new Map();\n\tprivate _nextHandle = 0;\n\n\tprivate readonly _proxy: MainThreadAiEmbeddingVectorShape;\n\n\tconstructor(\n\t\tmainContext: IMainContext\n\t) {\n\t\tthis._proxy = mainContext.getProxy(MainContext.MainThreadAiEmbeddingVector);\n\t}\n\n\tasync $provideAiEmbeddingVector(handle: number, strings: string[], token: CancellationToken): Promise<number[][]> {\n\t\tif (this._AiEmbeddingVectorProviders.size === 0) {\n\t\t\tthrow new Error('No embedding vector providers registered');\n\t\t}\n\n\t\tconst provider = this._AiEmbeddingVectorProviders.get(handle);\n\t\tif (!provider) {\n\t\t\tthrow new Error('Embedding vector provider not found');\n\t\t}\n\n\t\tconst result = await provider.provideEmbeddingVector(strings, token);\n\t\tif (!result) {\n\t\t\tthrow new Error('Embedding vector provider returned undefined');\n\t\t}\n\t\treturn result;\n\t}\n\n\tregisterEmbeddingVectorProvider(extension: IExtensionDescription, model: string, provider: EmbeddingVectorProvider): Disposable {\n\t\tconst handle = this._nextHandle;\n\t\tthis._nextHandle++;\n\t\tthis._AiEmbeddingVectorProviders.set(handle, provider);\n\t\tthis._proxy.$registerAiEmbeddingVectorProvider(model, handle);\n\t\treturn new Disposable(() => {\n\t\t\tthis._proxy.$unregisterAiEmbeddingVectorProvider(handle);\n\t\t\tthis._AiEmbeddingVectorProviders.delete(handle);\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[]}