{"version":3,"names":["basename","dirname","PromptsType","PROMPT_FILE_EXTENSION","cov_tc1ndw4p5","s","INSTRUCTION_FILE_EXTENSION","LEGACY_MODE_FILE_EXTENSION","AGENT_FILE_EXTENSION","COPILOT_CUSTOM_INSTRUCTIONS_FILENAME","PROMPT_DEFAULT_SOURCE_FOLDER","INSTRUCTIONS_DEFAULT_SOURCE_FOLDER","LEGACY_MODE_DEFAULT_SOURCE_FOLDER","AGENTS_SOURCE_FOLDER","isInAgentsFolder","fileUri","f","dir","path","b","endsWith","getPromptFileType","filename","prompt","instructions","agent","undefined","isPromptOrInstructionsFile","getPromptFileExtension","type","Error","getPromptFileDefaultLocation","getCleanPromptName","fileName","extensions","ext"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/promptSyntax/config/promptFileLocations.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { basename, dirname } from '../../../../../../base/common/path.js';\nimport { PromptsType } from '../promptTypes.js';\n\n/**\n * File extension for the reusable prompt files.\n */\nexport const PROMPT_FILE_EXTENSION = '.prompt.md';\n\n/**\n * File extension for the reusable instruction files.\n */\nexport const INSTRUCTION_FILE_EXTENSION = '.instructions.md';\n\n/**\n * File extension for the modes files.\n */\nexport const LEGACY_MODE_FILE_EXTENSION = '.chatmode.md';\n\n/**\n * File extension for the agent files.\n */\nexport const AGENT_FILE_EXTENSION = '.agent.md';\n\n/**\n * Copilot custom instructions file name.\n */\nexport const COPILOT_CUSTOM_INSTRUCTIONS_FILENAME = 'copilot-instructions.md';\n\n\n/**\n * Default reusable prompt files source folder.\n */\nexport const PROMPT_DEFAULT_SOURCE_FOLDER = '.github/prompts';\n\n/**\n * Default reusable instructions files source folder.\n */\nexport const INSTRUCTIONS_DEFAULT_SOURCE_FOLDER = '.github/instructions';\n\n/**\n * Default modes source folder.\n */\nexport const LEGACY_MODE_DEFAULT_SOURCE_FOLDER = '.github/chatmodes';\n\n/**\n * Agents folder.\n */\nexport const AGENTS_SOURCE_FOLDER = '.github/agents';\n\n/**\n * Helper function to check if a file is directly in the .github/agents/ folder (not in subfolders).\n */\nfunction isInAgentsFolder(fileUri: URI): boolean {\n\tconst dir = dirname(fileUri.path);\n\treturn dir.endsWith('/' + AGENTS_SOURCE_FOLDER) || dir === AGENTS_SOURCE_FOLDER;\n}\n\n/**\n * Gets the prompt file type from the provided path.\n */\nexport function getPromptFileType(fileUri: URI): PromptsType | undefined {\n\tconst filename = basename(fileUri.path);\n\n\tif (filename.endsWith(PROMPT_FILE_EXTENSION)) {\n\t\treturn PromptsType.prompt;\n\t}\n\n\tif (filename.endsWith(INSTRUCTION_FILE_EXTENSION) || (filename === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME)) {\n\t\treturn PromptsType.instructions;\n\t}\n\n\tif (filename.endsWith(LEGACY_MODE_FILE_EXTENSION) || filename.endsWith(AGENT_FILE_EXTENSION)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\t// Check if it's a .md file in the .github/agents/ folder\n\tif (filename.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Check if provided URI points to a file that with prompt file extension.\n */\nexport function isPromptOrInstructionsFile(fileUri: URI): boolean {\n\treturn getPromptFileType(fileUri) !== undefined;\n}\n\nexport function getPromptFileExtension(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTION_FILE_EXTENSION;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_FILE_EXTENSION;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENT_FILE_EXTENSION;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\nexport function getPromptFileDefaultLocation(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTIONS_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENTS_SOURCE_FOLDER;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\n\n/**\n * Gets clean prompt name without file extension.\n */\nexport function getCleanPromptName(fileUri: URI): string {\n\tconst fileName = basename(fileUri.path);\n\n\tconst extensions = [\n\t\tPROMPT_FILE_EXTENSION,\n\t\tINSTRUCTION_FILE_EXTENSION,\n\t\tLEGACY_MODE_FILE_EXTENSION,\n\t\tAGENT_FILE_EXTENSION,\n\t];\n\n\tfor (const ext of extensions) {\n\t\tif (fileName.endsWith(ext)) {\n\t\t\treturn basename(fileUri.path, ext);\n\t\t}\n\t}\n\n\tif (fileName === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// For .md files in .github/agents/ folder, treat them as agent files\n\tif (fileName.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// because we now rely on the `prompt` language ID that can be explicitly\n\t// set for any document in the editor, any file can be a \"prompt\" file, so\n\t// to account for that, we return the full file name including the file\n\t// extension for all other cases\n\treturn basename(fileUri.path);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AAMA,SAASA,QAAQ,EAAEC,O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","ignoreList":[]}