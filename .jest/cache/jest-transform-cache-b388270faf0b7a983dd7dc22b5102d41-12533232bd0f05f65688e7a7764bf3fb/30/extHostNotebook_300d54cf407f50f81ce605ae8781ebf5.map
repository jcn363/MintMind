{"version":3,"names":["cov_13vmjmee2g","actualCoverage","localize","VSBuffer","Emitter","DisposableStore","toDisposable","ResourceMap","ResourceSet","isFalsyOrWhitespace","assertReturnsDefined","URI","CancellationError","files","Cache","MainContext","ApiCommand","ApiCommandArgument","ApiCommandResult","typeConverters","extHostTypes","SerializableObjectWithBuffers","ExtHostCell","ExtHostNotebookDocument","ExtHostNotebookEditor","filter","Schemas","CellSearchModel","genericCellMatchesToTextSearchMatches","globMatchesResource","RegisteredEditorPriority","ExtHostNotebookController","_textDocumentsAndEditors","_textDocuments","_extHostFileSystem","_extHostSearch","_logService","_notebookStatusBarItemProviderHandlePool","s","_notebookProxy","_notebookDocumentsProxy","_notebookEditorsProxy","_notebookStatusBarItemProviders","Map","_documents","_editors","_commandsConverter","_onDidChangeActiveNotebookEditor","onDidChangeActiveNotebookEditor","event","_activeNotebookEditor","activeNotebookEditor","f","apiEditor","_visibleNotebookEditors","visibleNotebookEditors","map","editor","_onDidOpenNotebookDocument","onDidOpenNotebookDocument","_onDidCloseNotebookDocument","onDidCloseNotebookDocument","_onDidChangeVisibleNotebookEditors","onDidChangeVisibleNotebookEditors","_statusBarCache","constructor","mainContext","commands","getProxy","MainThreadNotebook","MainThreadNotebookDocuments","MainThreadNotebookEditors","converter","registerArgumentProcessor","processArgument","arg","b","$mid","notebookUri","notebookEditor","cellHandle","cell","handle","data","get","getCell","apiCell","uri","apiNotebook","_registerApiCommands","getEditorById","editorId","Error","keys","getIdByEditor","id","candidate","undefined","notebookDocuments","values","getNotebookDocument","relaxed","result","_convertNotebookRegistrationData","extension","registration","viewOptionsFilenamePattern","filenamePattern","pattern","NotebookExclusiveDocumentPattern","from","console","warn","identifier","providerDisplayName","displayName","name","priority","exclusive","registerNotebookCellStatusBarItemProvider","notebookType","provider","eventHandle","onDidChangeCellStatusBarItems","set","$registerNotebookCellStatusBarItemProvider","subscription","_","$emitCellStatusBarEvent","Disposable","delete","$unregisterNotebookCellStatusBarItemProvider","dispose","createNotebookDocument","options","canonicalUri","$tryCreateNotebook","viewType","content","NotebookData","revive","openNotebookDocument","cached","$tryOpenNotebook","document","showNotebookDocument","notebook","resolvedOptions","position","ViewColumn","viewColumn","preserveFocus","selections","NotebookRange","pinned","preview","label","asRepl","$tryShowNotebookDocument","toString","$provideNotebookCellStatusBarItems","index","token","revivedUri","getCellFromIndex","provideCellStatusBarItems","disposables","cacheId","add","resultArr","Array","isArray","items","item","NotebookStatusBarItem","$releaseNotebookCellStatusBarItems","_handlePool","_notebookSerializer","registerNotebookSerializer","serializer","$registerNotebookSerializer","location","extensionLocation","NotebookDocumentContentOptions","$unregisterNotebookSerializer","$dataToNotebook","bytes","deserializeNotebook","buffer","$notebookToData","serializeNotebook","to","value","wrap","$saveNotebook","uriComponents","versionId","trace","NotebookSaveError","isWritableFileSystem","scheme","FileOperationError","_resourceForError","metadata","key","transientDocumentMetadata","cells","getCells","cellData","NotebookCellData","kind","getText","languageId","mime","transientOutputs","outputs","executionSummary","transientCellMetadata","push","_validateWriteFile","isCancellationRequested","writeFile","providerExtUri","getFileSystemProviderExtUri","stat","fileStats","basename","isFile","type","FileType","File","isDirectory","Directory","isSymbolicLink","SymbolicLink","mtime","ctime","size","readonly","Boolean","permissions","FilePermission","Readonly","locked","Locked","etag","children","error","message","$searchInNotebooks","textQuery","viewTypeFileTargets","otherViewTypeFileTargets","limitHit","results","finalMatchedTargets","runFileQueries","includes","Promise","all","include","filenamePatterns","filePattern","query","_reason","folderQueries","includePattern","excludePattern","maxResults","doInternalFileSearchWithCustomCallback","forEach","has","hasOtherMatches","some","target","isFromSettings","targetFilePattern","catch","err","code","messages","promises","cellMatches","reduce","acc","cellResults","length","simpleCells","e","input","flatMap","output","fileContent","readFile","fromString","source","valueBytes","contentPattern","cellModel","inputMatches","findInInputs","outputMatches","findInOutputs","webviewResults","outputMatch","matches","textBuffer","textMatch","webviewIndex","cellMatch","contentResults","inputTextBuffer","fileMatch","resource","ETAG_DISABLED","file","fsPath","_createExtHostEditor","visibleRanges","$acceptDocumentAndEditorsDelta","delta","removedDocuments","$acceptDocumentsAndEditorsDelta","fire","notebookData","addedDocuments","addedCellDocuments","modelData","asModelAddData","addedEditors","editorModelData","documentUri","removedEditors","editorid","visibleEditors","visibleEditorsSet","Set","newValue","_acceptVisibility","visible","newActiveEditor","activeEditor","extHostCommands","notebookTypeArg","String","with","commandDataToNotebook","v","Uint8Array","commandNotebookToData","dto","registerApiCommand","msg"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostNotebook.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../nls.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { IRelativePattern } from '../../../base/common/glob.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { ResourceMap, ResourceSet } from '../../../base/common/map.js';\nimport { MarshalledId } from '../../../base/common/marshallingIds.js';\nimport { isFalsyOrWhitespace } from '../../../base/common/strings.js';\nimport { assertReturnsDefined } from '../../../base/common/types.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { CancellationError } from '../../../base/common/errors.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport * as files from '../../../platform/files/common/files.js';\nimport { Cache } from './cache.js';\nimport { ExtHostNotebookShape, IMainContext, IModelAddedData, INotebookCellStatusBarListDto, INotebookDocumentsAndEditorsDelta, INotebookDocumentShowOptions, INotebookEditorAddData, INotebookPartialFileStatsWithMetadata, MainContext, MainThreadNotebookDocumentsShape, MainThreadNotebookEditorsShape, MainThreadNotebookShape, NotebookDataDto } from './extHost.protocol.js';\nimport { ApiCommand, ApiCommandArgument, ApiCommandResult, CommandsConverter, ExtHostCommands } from './extHostCommands.js';\nimport { ExtHostDocuments } from './extHostDocuments.js';\nimport { ExtHostDocumentsAndEditors } from './extHostDocumentsAndEditors.js';\nimport * as typeConverters from './extHostTypeConverters.js';\nimport * as extHostTypes from './extHostTypes.js';\nimport { INotebookExclusiveDocumentFilter, INotebookContributionData } from '../../contrib/notebook/common/notebookCommon.js';\nimport { SerializableObjectWithBuffers } from '../../services/extensions/common/proxyIdentifier.js';\nimport type * as vscode from 'vscode';\nimport { ExtHostCell, ExtHostNotebookDocument } from './extHostNotebookDocument.js';\nimport { ExtHostNotebookEditor } from './extHostNotebookEditor.js';\nimport { IExtHostConsumerFileSystem } from './extHostFileSystemConsumer.js';\nimport { filter } from '../../../base/common/objects.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { IFileQuery, ITextQuery, QueryType } from '../../services/search/common/search.js';\nimport { IExtHostSearch } from './extHostSearch.js';\nimport { CellSearchModel } from '../../contrib/search/common/cellSearchModel.js';\nimport { INotebookCellMatchNoModel, INotebookFileMatchNoModel, IRawClosedNotebookFileMatch, genericCellMatchesToTextSearchMatches } from '../../contrib/search/common/searchNotebookHelpers.js';\nimport { NotebookPriorityInfo } from '../../contrib/search/common/search.js';\nimport { globMatchesResource, RegisteredEditorPriority } from '../../services/editor/common/editorResolverService.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\n\nexport class ExtHostNotebookController implements ExtHostNotebookShape {\n\tprivate static _notebookStatusBarItemProviderHandlePool: number = 0;\n\n\tprivate readonly _notebookProxy: MainThreadNotebookShape;\n\tprivate readonly _notebookDocumentsProxy: MainThreadNotebookDocumentsShape;\n\tprivate readonly _notebookEditorsProxy: MainThreadNotebookEditorsShape;\n\n\tprivate readonly _notebookStatusBarItemProviders = new Map<number, vscode.NotebookCellStatusBarItemProvider>();\n\tprivate readonly _documents = new ResourceMap<ExtHostNotebookDocument>();\n\tprivate readonly _editors = new Map<string, ExtHostNotebookEditor>();\n\tprivate readonly _commandsConverter: CommandsConverter;\n\n\tprivate readonly _onDidChangeActiveNotebookEditor = new Emitter<vscode.NotebookEditor | undefined>();\n\treadonly onDidChangeActiveNotebookEditor = this._onDidChangeActiveNotebookEditor.event;\n\n\tprivate _activeNotebookEditor: ExtHostNotebookEditor | undefined;\n\tget activeNotebookEditor(): vscode.NotebookEditor | undefined {\n\t\treturn this._activeNotebookEditor?.apiEditor;\n\t}\n\tprivate _visibleNotebookEditors: ExtHostNotebookEditor[] = [];\n\tget visibleNotebookEditors(): vscode.NotebookEditor[] {\n\t\treturn this._visibleNotebookEditors.map(editor => editor.apiEditor);\n\t}\n\n\tprivate _onDidOpenNotebookDocument = new Emitter<vscode.NotebookDocument>();\n\treadonly onDidOpenNotebookDocument: Event<vscode.NotebookDocument> = this._onDidOpenNotebookDocument.event;\n\tprivate _onDidCloseNotebookDocument = new Emitter<vscode.NotebookDocument>();\n\treadonly onDidCloseNotebookDocument: Event<vscode.NotebookDocument> = this._onDidCloseNotebookDocument.event;\n\n\tprivate _onDidChangeVisibleNotebookEditors = new Emitter<vscode.NotebookEditor[]>();\n\tonDidChangeVisibleNotebookEditors = this._onDidChangeVisibleNotebookEditors.event;\n\n\tprivate _statusBarCache = new Cache<IDisposable>('NotebookCellStatusBarCache');\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tcommands: ExtHostCommands,\n\t\tprivate _textDocumentsAndEditors: ExtHostDocumentsAndEditors,\n\t\tprivate _textDocuments: ExtHostDocuments,\n\t\tprivate _extHostFileSystem: IExtHostConsumerFileSystem,\n\t\tprivate _extHostSearch: IExtHostSearch,\n\t\tprivate _logService: ILogService\n\t) {\n\t\tthis._notebookProxy = mainContext.getProxy(MainContext.MainThreadNotebook);\n\t\tthis._notebookDocumentsProxy = mainContext.getProxy(MainContext.MainThreadNotebookDocuments);\n\t\tthis._notebookEditorsProxy = mainContext.getProxy(MainContext.MainThreadNotebookEditors);\n\t\tthis._commandsConverter = commands.converter;\n\n\t\tcommands.registerArgumentProcessor({\n\t\t\t// Serialized INotebookCellActionContext\n\t\t\tprocessArgument: (arg) => {\n\t\t\t\tif (arg && arg.$mid === MarshalledId.NotebookCellActionContext) {\n\t\t\t\t\tconst notebookUri = arg.notebookEditor?.notebookUri;\n\t\t\t\t\tconst cellHandle = arg.cell.handle;\n\n\t\t\t\t\tconst data = this._documents.get(notebookUri);\n\t\t\t\t\tconst cell = data?.getCell(cellHandle);\n\t\t\t\t\tif (cell) {\n\t\t\t\t\t\treturn cell.apiCell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (arg && arg.$mid === MarshalledId.NotebookActionContext) {\n\t\t\t\t\tconst notebookUri = arg.uri;\n\t\t\t\t\tconst data = this._documents.get(notebookUri);\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\treturn data.apiNotebook;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn arg;\n\t\t\t}\n\t\t});\n\n\t\tExtHostNotebookController._registerApiCommands(commands);\n\t}\n\n\tgetEditorById(editorId: string): ExtHostNotebookEditor {\n\t\tconst editor = this._editors.get(editorId);\n\t\tif (!editor) {\n\t\t\tthrow new Error(`unknown text editor: ${editorId}. known editors: ${[...this._editors.keys()]} `);\n\t\t}\n\t\treturn editor;\n\t}\n\n\tgetIdByEditor(editor: vscode.NotebookEditor): string | undefined {\n\t\tfor (const [id, candidate] of this._editors) {\n\t\t\tif (candidate.apiEditor === editor) {\n\t\t\t\treturn id;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tget notebookDocuments() {\n\t\treturn [...this._documents.values()];\n\t}\n\n\tgetNotebookDocument(uri: URI, relaxed: true): ExtHostNotebookDocument | undefined;\n\tgetNotebookDocument(uri: URI): ExtHostNotebookDocument;\n\tgetNotebookDocument(uri: URI, relaxed?: true): ExtHostNotebookDocument | undefined {\n\t\tconst result = this._documents.get(uri);\n\t\tif (!result && !relaxed) {\n\t\t\tthrow new Error(`NO notebook document for '${uri}'`);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate static _convertNotebookRegistrationData(extension: IExtensionDescription, registration: vscode.NotebookRegistrationData | undefined): INotebookContributionData | undefined {\n\t\tif (!registration) {\n\t\t\treturn;\n\t\t}\n\t\tconst viewOptionsFilenamePattern = registration.filenamePattern\n\t\t\t.map(pattern => typeConverters.NotebookExclusiveDocumentPattern.from(pattern))\n\t\t\t.filter(pattern => pattern !== undefined) as (string | IRelativePattern | INotebookExclusiveDocumentFilter)[];\n\t\tif (registration.filenamePattern && !viewOptionsFilenamePattern) {\n\t\t\tconsole.warn(`Notebook content provider view options file name pattern is invalid ${registration.filenamePattern}`);\n\t\t\treturn undefined;\n\t\t}\n\t\treturn {\n\t\t\textension: extension.identifier,\n\t\t\tproviderDisplayName: extension.displayName || extension.name,\n\t\t\tdisplayName: registration.displayName,\n\t\t\tfilenamePattern: viewOptionsFilenamePattern,\n\t\t\tpriority: registration.exclusive ? RegisteredEditorPriority.exclusive : undefined\n\t\t};\n\t}\n\n\tregisterNotebookCellStatusBarItemProvider(extension: IExtensionDescription, notebookType: string, provider: vscode.NotebookCellStatusBarItemProvider) {\n\n\t\tconst handle = ExtHostNotebookController._notebookStatusBarItemProviderHandlePool++;\n\t\tconst eventHandle = typeof provider.onDidChangeCellStatusBarItems === 'function' ? ExtHostNotebookController._notebookStatusBarItemProviderHandlePool++ : undefined;\n\n\t\tthis._notebookStatusBarItemProviders.set(handle, provider);\n\t\tthis._notebookProxy.$registerNotebookCellStatusBarItemProvider(handle, eventHandle, notebookType);\n\n\t\tlet subscription: vscode.Disposable | undefined;\n\t\tif (eventHandle !== undefined) {\n\t\t\tsubscription = provider.onDidChangeCellStatusBarItems!(_ => this._notebookProxy.$emitCellStatusBarEvent(eventHandle));\n\t\t}\n\n\t\treturn new extHostTypes.Disposable(() => {\n\t\t\tthis._notebookStatusBarItemProviders.delete(handle);\n\t\t\tthis._notebookProxy.$unregisterNotebookCellStatusBarItemProvider(handle, eventHandle);\n\t\t\tsubscription?.dispose();\n\t\t});\n\t}\n\n\tasync createNotebookDocument(options: { viewType: string; content?: vscode.NotebookData }): Promise<URI> {\n\t\tconst canonicalUri = await this._notebookDocumentsProxy.$tryCreateNotebook({\n\t\t\tviewType: options.viewType,\n\t\t\tcontent: options.content && typeConverters.NotebookData.from(options.content)\n\t\t});\n\t\treturn URI.revive(canonicalUri);\n\t}\n\n\tasync openNotebookDocument(uri: URI): Promise<vscode.NotebookDocument> {\n\t\tconst cached = this._documents.get(uri);\n\t\tif (cached) {\n\t\t\treturn cached.apiNotebook;\n\t\t}\n\t\tconst canonicalUri = await this._notebookDocumentsProxy.$tryOpenNotebook(uri);\n\t\tconst document = this._documents.get(URI.revive(canonicalUri));\n\t\treturn assertReturnsDefined(document?.apiNotebook);\n\t}\n\n\tasync showNotebookDocument(notebook: vscode.NotebookDocument, options?: vscode.NotebookDocumentShowOptions): Promise<vscode.NotebookEditor> {\n\t\tlet resolvedOptions: INotebookDocumentShowOptions;\n\t\tif (typeof options === 'object') {\n\t\t\tresolvedOptions = {\n\t\t\t\tposition: typeConverters.ViewColumn.from(options.viewColumn),\n\t\t\t\tpreserveFocus: options.preserveFocus,\n\t\t\t\tselections: options.selections && options.selections.map(typeConverters.NotebookRange.from),\n\t\t\t\tpinned: typeof options.preview === 'boolean' ? !options.preview : undefined,\n\t\t\t\tlabel: typeof options.asRepl === 'string' ?\n\t\t\t\t\toptions.asRepl :\n\t\t\t\t\ttypeof options.asRepl === 'object' ?\n\t\t\t\t\t\toptions.asRepl.label :\n\t\t\t\t\t\tundefined,\n\t\t\t};\n\t\t} else {\n\t\t\tresolvedOptions = {\n\t\t\t\tpreserveFocus: false,\n\t\t\t\tpinned: true\n\t\t\t};\n\t\t}\n\n\t\tconst viewType = !!options?.asRepl ? 'repl' : notebook.notebookType;\n\t\tconst editorId = await this._notebookEditorsProxy.$tryShowNotebookDocument(notebook.uri, viewType, resolvedOptions);\n\t\tconst editor = editorId && this._editors.get(editorId)?.apiEditor;\n\n\t\tif (editor) {\n\t\t\treturn editor;\n\t\t}\n\n\t\tif (editorId) {\n\t\t\tthrow new Error(`Could NOT open editor for \"${notebook.uri.toString()}\" because another editor opened in the meantime.`);\n\t\t} else {\n\t\t\tthrow new Error(`Could NOT open editor for \"${notebook.uri.toString()}\".`);\n\t\t}\n\t}\n\n\tasync $provideNotebookCellStatusBarItems(handle: number, uri: UriComponents, index: number, token: CancellationToken): Promise<INotebookCellStatusBarListDto | undefined> {\n\t\tconst provider = this._notebookStatusBarItemProviders.get(handle);\n\t\tconst revivedUri = URI.revive(uri);\n\t\tconst document = this._documents.get(revivedUri);\n\t\tif (!document || !provider) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cell = document.getCellFromIndex(index);\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst result = await provider.provideCellStatusBarItems(cell.apiCell, token);\n\t\tif (!result) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst cacheId = this._statusBarCache.add([disposables]);\n\t\tconst resultArr = Array.isArray(result) ? result : [result];\n\t\tconst items = resultArr.map(item => typeConverters.NotebookStatusBarItem.from(item, this._commandsConverter, disposables));\n\t\treturn {\n\t\t\tcacheId,\n\t\t\titems\n\t\t};\n\t}\n\n\t$releaseNotebookCellStatusBarItems(cacheId: number): void {\n\t\tthis._statusBarCache.delete(cacheId);\n\t}\n\n\t// --- serialize/deserialize\n\n\tprivate _handlePool = 0;\n\tprivate readonly _notebookSerializer = new Map<number, { viewType: string; serializer: vscode.NotebookSerializer; options: vscode.NotebookDocumentContentOptions | undefined }>();\n\n\tregisterNotebookSerializer(extension: IExtensionDescription, viewType: string, serializer: vscode.NotebookSerializer, options?: vscode.NotebookDocumentContentOptions, registration?: vscode.NotebookRegistrationData): vscode.Disposable {\n\t\tif (isFalsyOrWhitespace(viewType)) {\n\t\t\tthrow new Error(`viewType cannot be empty or just whitespace`);\n\t\t}\n\t\tconst handle = this._handlePool++;\n\t\tthis._notebookSerializer.set(handle, { viewType, serializer, options });\n\t\tthis._notebookProxy.$registerNotebookSerializer(\n\t\t\thandle,\n\t\t\t{ id: extension.identifier, location: extension.extensionLocation },\n\t\t\tviewType,\n\t\t\ttypeConverters.NotebookDocumentContentOptions.from(options),\n\t\t\tExtHostNotebookController._convertNotebookRegistrationData(extension, registration)\n\t\t);\n\t\treturn toDisposable(() => {\n\t\t\tthis._notebookProxy.$unregisterNotebookSerializer(handle);\n\t\t});\n\t}\n\n\tasync $dataToNotebook(handle: number, bytes: VSBuffer, token: CancellationToken): Promise<SerializableObjectWithBuffers<NotebookDataDto>> {\n\t\tconst serializer = this._notebookSerializer.get(handle);\n\t\tif (!serializer) {\n\t\t\tthrow new Error('NO serializer found');\n\t\t}\n\t\tconst data = await serializer.serializer.deserializeNotebook(bytes.buffer, token);\n\t\treturn new SerializableObjectWithBuffers(typeConverters.NotebookData.from(data));\n\t}\n\n\tasync $notebookToData(handle: number, data: SerializableObjectWithBuffers<NotebookDataDto>, token: CancellationToken): Promise<VSBuffer> {\n\t\tconst serializer = this._notebookSerializer.get(handle);\n\t\tif (!serializer) {\n\t\t\tthrow new Error('NO serializer found');\n\t\t}\n\t\tconst bytes = await serializer.serializer.serializeNotebook(typeConverters.NotebookData.to(data.value), token);\n\t\treturn VSBuffer.wrap(bytes);\n\t}\n\n\tasync $saveNotebook(handle: number, uriComponents: UriComponents, versionId: number, options: files.IWriteFileOptions, token: CancellationToken): Promise<INotebookPartialFileStatsWithMetadata | files.FileOperationError> {\n\t\tconst uri = URI.revive(uriComponents);\n\t\tconst serializer = this._notebookSerializer.get(handle);\n\t\tthis.trace(`enter saveNotebook(versionId: ${versionId}, ${uri.toString()})`);\n\n\t\ttry {\n\t\t\tif (!serializer) {\n\t\t\t\tthrow new NotebookSaveError('NO serializer found');\n\t\t\t}\n\n\t\t\tconst document = this._documents.get(uri);\n\t\t\tif (!document) {\n\t\t\t\tthrow new NotebookSaveError('Document NOT found');\n\t\t\t}\n\n\t\t\tif (document.versionId !== versionId) {\n\t\t\t\tthrow new NotebookSaveError('Document version mismatch, expected: ' + versionId + ', actual: ' + document.versionId);\n\t\t\t}\n\n\t\t\tif (!this._extHostFileSystem.value.isWritableFileSystem(uri.scheme)) {\n\t\t\t\tthrow new files.FileOperationError(localize('err.readonly', \"Unable to modify read-only file '{0}'\", this._resourceForError(uri)), files.FileOperationResult.FILE_PERMISSION_DENIED);\n\t\t\t}\n\n\t\t\tconst data: vscode.NotebookData = {\n\t\t\t\tmetadata: filter(document.apiNotebook.metadata, key => !(serializer.options?.transientDocumentMetadata ?? {})[key]),\n\t\t\t\tcells: [],\n\t\t\t};\n\n\t\t\t// this data must be retrieved before any async calls to ensure the data is for the correct version\n\t\t\tfor (const cell of document.apiNotebook.getCells()) {\n\t\t\t\tconst cellData = new extHostTypes.NotebookCellData(\n\t\t\t\t\tcell.kind,\n\t\t\t\t\tcell.document.getText(),\n\t\t\t\t\tcell.document.languageId,\n\t\t\t\t\tcell.mime,\n\t\t\t\t\t!(serializer.options?.transientOutputs) ? [...cell.outputs] : [],\n\t\t\t\t\tcell.metadata,\n\t\t\t\t\tcell.executionSummary\n\t\t\t\t);\n\n\t\t\t\tcellData.metadata = filter(cell.metadata, key => !(serializer.options?.transientCellMetadata ?? {})[key]);\n\t\t\t\tdata.cells.push(cellData);\n\t\t\t}\n\n\t\t\t// validate write\n\t\t\tawait this._validateWriteFile(uri, options);\n\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\tthrow new CancellationError();\n\t\t\t}\n\t\t\tconst bytes = await serializer.serializer.serializeNotebook(data, token);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\tthrow new CancellationError();\n\t\t\t}\n\n\t\t\t// Don't accept any cancellation beyond this point, we need to report the result of the file write\n\t\t\tthis.trace(`serialized versionId: ${versionId} ${uri.toString()}`);\n\t\t\tawait this._extHostFileSystem.value.writeFile(uri, bytes);\n\t\t\tthis.trace(`Finished write versionId: ${versionId} ${uri.toString()}`);\n\t\t\tconst providerExtUri = this._extHostFileSystem.getFileSystemProviderExtUri(uri.scheme);\n\t\t\tconst stat = await this._extHostFileSystem.value.stat(uri);\n\n\t\t\tconst fileStats = {\n\t\t\t\tname: providerExtUri.basename(uri),\n\t\t\t\tisFile: (stat.type & files.FileType.File) !== 0,\n\t\t\t\tisDirectory: (stat.type & files.FileType.Directory) !== 0,\n\t\t\t\tisSymbolicLink: (stat.type & files.FileType.SymbolicLink) !== 0,\n\t\t\t\tmtime: stat.mtime,\n\t\t\t\tctime: stat.ctime,\n\t\t\t\tsize: stat.size,\n\t\t\t\treadonly: Boolean((stat.permissions ?? 0) & files.FilePermission.Readonly) || !this._extHostFileSystem.value.isWritableFileSystem(uri.scheme),\n\t\t\t\tlocked: Boolean((stat.permissions ?? 0) & files.FilePermission.Locked),\n\t\t\t\tetag: files.etag({ mtime: stat.mtime, size: stat.size }),\n\t\t\t\tchildren: undefined\n\t\t\t};\n\n\t\t\tthis.trace(`exit saveNotebook(versionId: ${versionId}, ${uri.toString()})`);\n\t\t\treturn fileStats;\n\t\t} catch (error) {\n\t\t\t// return fileOperationsErrors to keep the whole object across serialization, these errors are handled specially by the WCS\n\t\t\tif (error instanceof files.FileOperationError) {\n\t\t\t\treturn { ...error, message: error.message };\n\t\t\t}\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\t/**\n\t * Search for query in all notebooks that can be deserialized by the serializer fetched by `handle`.\n\t *\n\t * @param handle used to get notebook serializer\n\t * @param textQuery the text query to search using\n\t * @param viewTypeFileTargets the globs (and associated ranks) that are targetting for opening this type of notebook\n\t * @param otherViewTypeFileTargets ranked globs for other editors that we should consider when deciding whether it will open as this notebook\n\t * @param token cancellation token\n\t * @returns `IRawClosedNotebookFileMatch` for every file. Files without matches will just have a `IRawClosedNotebookFileMatch`\n\t * \twith no `cellResults`. This allows the caller to know what was searched in already, even if it did not yield results.\n\t */\n\tasync $searchInNotebooks(handle: number, textQuery: ITextQuery, viewTypeFileTargets: NotebookPriorityInfo[], otherViewTypeFileTargets: NotebookPriorityInfo[], token: CancellationToken): Promise<{ results: IRawClosedNotebookFileMatch[]; limitHit: boolean }> {\n\t\tconst serializer = this._notebookSerializer.get(handle)?.serializer;\n\t\tif (!serializer) {\n\t\t\treturn {\n\t\t\t\tlimitHit: false,\n\t\t\t\tresults: []\n\t\t\t};\n\t\t}\n\n\t\tconst finalMatchedTargets = new ResourceSet();\n\n\t\tconst runFileQueries = async (includes: NotebookPriorityInfo[], token: CancellationToken, textQuery: ITextQuery): Promise<void> => {\n\t\t\tawait Promise.all(includes.map(async include =>\n\t\t\t\tawait Promise.all(include.filenamePatterns.map(filePattern => {\n\t\t\t\t\tconst query: IFileQuery = {\n\t\t\t\t\t\t_reason: textQuery._reason,\n\t\t\t\t\t\tfolderQueries: textQuery.folderQueries,\n\t\t\t\t\t\tincludePattern: textQuery.includePattern,\n\t\t\t\t\t\texcludePattern: textQuery.excludePattern,\n\t\t\t\t\t\tmaxResults: textQuery.maxResults,\n\t\t\t\t\t\ttype: QueryType.File,\n\t\t\t\t\t\tfilePattern\n\t\t\t\t\t};\n\n\t\t\t\t\t// use priority info to exclude info from other globs\n\t\t\t\t\treturn this._extHostSearch.doInternalFileSearchWithCustomCallback(query, token, (data) => {\n\t\t\t\t\t\tdata.forEach(uri => {\n\t\t\t\t\t\t\tif (finalMatchedTargets.has(uri)) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst hasOtherMatches = otherViewTypeFileTargets.some(target => {\n\t\t\t\t\t\t\t\t// use the same strategy that the editor service uses to open editors\n\t\t\t\t\t\t\t\t// https://github.com/microsoft/vscode/blob/ac1631528e67637da65ec994c6dc35d73f6e33cc/src/vs/workbench/services/editor/browser/editorResolverService.ts#L359-L366\n\t\t\t\t\t\t\t\tif (include.isFromSettings && !target.isFromSettings) {\n\t\t\t\t\t\t\t\t\t// if the include is from the settings and target isn't, even if it matches, it's still overridden.\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// longer filePatterns are considered more specifc, so they always have precedence the shorter patterns\n\t\t\t\t\t\t\t\t\treturn target.filenamePatterns.some(targetFilePattern => globMatchesResource(targetFilePattern, uri));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (hasOtherMatches) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfinalMatchedTargets.add(uri);\n\t\t\t\t\t\t});\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t// temporary fix for https://github.com/microsoft/vscode/issues/205044: don't show notebook results for remotehub repos.\n\t\t\t\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\t\t\t\tconsole.warn(`Could not find notebook search results, ignoring notebook results.`);\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tlimitHit: false,\n\t\t\t\t\t\t\t\tmessages: [],\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow err;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}))\n\t\t\t));\n\t\t\treturn;\n\t\t};\n\n\t\tawait runFileQueries(viewTypeFileTargets, token, textQuery);\n\n\t\tconst results = new ResourceMap<INotebookFileMatchNoModel>();\n\t\tlet limitHit = false;\n\t\tconst promises = Array.from(finalMatchedTargets).map(async (uri) => {\n\t\t\tconst cellMatches: INotebookCellMatchNoModel[] = [];\n\n\t\t\ttry {\n\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (textQuery.maxResults && [...results.values()].reduce((acc, value) => acc + value.cellResults.length, 0) > textQuery.maxResults) {\n\t\t\t\t\tlimitHit = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst simpleCells: Array<{ input: string; outputs: string[] }> = [];\n\t\t\t\tconst notebook = this._documents.get(uri);\n\t\t\t\tif (notebook) {\n\t\t\t\t\tconst cells = notebook.apiNotebook.getCells();\n\t\t\t\t\tcells.forEach(e => simpleCells.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinput: e.document.getText(),\n\t\t\t\t\t\t\toutputs: e.outputs.flatMap(value => value.items.map(output => output.data.toString()))\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t} else {\n\t\t\t\t\tconst fileContent = await this._extHostFileSystem.value.readFile(uri);\n\t\t\t\t\tconst bytes = VSBuffer.fromString(fileContent.toString());\n\t\t\t\t\tconst notebook = await serializer.deserializeNotebook(bytes.buffer, token);\n\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst data = typeConverters.NotebookData.from(notebook);\n\n\t\t\t\t\tdata.cells.forEach(cell => simpleCells.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinput: cell.source,\n\t\t\t\t\t\t\toutputs: cell.outputs.flatMap(value => value.items.map(output => output.valueBytes.toString()))\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\t\t\t\t}\n\n\n\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsimpleCells.forEach((cell, index) => {\n\t\t\t\t\tconst target = textQuery.contentPattern.pattern;\n\t\t\t\t\tconst cellModel = new CellSearchModel(cell.input, undefined, cell.outputs);\n\n\t\t\t\t\tconst inputMatches = cellModel.findInInputs(target);\n\t\t\t\t\tconst outputMatches = cellModel.findInOutputs(target);\n\t\t\t\t\tconst webviewResults = outputMatches\n\t\t\t\t\t\t.flatMap(outputMatch =>\n\t\t\t\t\t\t\tgenericCellMatchesToTextSearchMatches(outputMatch.matches, outputMatch.textBuffer))\n\t\t\t\t\t\t.map((textMatch, index) => {\n\t\t\t\t\t\t\ttextMatch.webviewIndex = index;\n\t\t\t\t\t\t\treturn textMatch;\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (inputMatches.length > 0 || outputMatches.length > 0) {\n\t\t\t\t\t\tconst cellMatch: INotebookCellMatchNoModel = {\n\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\tcontentResults: genericCellMatchesToTextSearchMatches(inputMatches, cellModel.inputTextBuffer),\n\t\t\t\t\t\t\twebviewResults\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcellMatches.push(cellMatch);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconst fileMatch = {\n\t\t\t\t\tresource: uri, cellResults: cellMatches\n\t\t\t\t};\n\t\t\t\tresults.set(uri, fileMatch);\n\t\t\t\treturn;\n\n\t\t\t} catch (e) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t});\n\n\t\tawait Promise.all(promises);\n\t\treturn {\n\t\t\tlimitHit,\n\t\t\tresults: [...results.values()]\n\t\t};\n\t}\n\n\n\n\tprivate async _validateWriteFile(uri: URI, options: files.IWriteFileOptions) {\n\t\tconst stat = await this._extHostFileSystem.value.stat(uri);\n\t\t// Dirty write prevention\n\t\tif (\n\t\t\ttypeof options?.mtime === 'number' && typeof options.etag === 'string' && options.etag !== files.ETAG_DISABLED &&\n\t\t\ttypeof stat.mtime === 'number' && typeof stat.size === 'number' &&\n\t\t\toptions.mtime < stat.mtime && options.etag !== files.etag({ mtime: options.mtime /* not using stat.mtime for a reason, see above */, size: stat.size })\n\t\t) {\n\t\t\tthrow new files.FileOperationError(localize('fileModifiedError', \"File Modified Since\"), files.FileOperationResult.FILE_MODIFIED_SINCE, options);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tprivate _resourceForError(uri: URI): string {\n\t\treturn uri.scheme === Schemas.file ? uri.fsPath : uri.toString();\n\t}\n\n\t// --- open, save, saveAs, backup\n\n\n\tprivate _createExtHostEditor(document: ExtHostNotebookDocument, editorId: string, data: INotebookEditorAddData) {\n\n\t\tif (this._editors.has(editorId)) {\n\t\t\tthrow new Error(`editor with id ALREADY EXSIST: ${editorId}`);\n\t\t}\n\n\t\tconst editor = new ExtHostNotebookEditor(\n\t\t\teditorId,\n\t\t\tthis._notebookEditorsProxy,\n\t\t\tdocument,\n\t\t\tdata.visibleRanges.map(typeConverters.NotebookRange.to),\n\t\t\tdata.selections.map(typeConverters.NotebookRange.to),\n\t\t\ttypeof data.viewColumn === 'number' ? typeConverters.ViewColumn.to(data.viewColumn) : undefined,\n\t\t\tdata.viewType\n\t\t);\n\n\t\tthis._editors.set(editorId, editor);\n\t}\n\n\t$acceptDocumentAndEditorsDelta(delta: SerializableObjectWithBuffers<INotebookDocumentsAndEditorsDelta>): void {\n\n\t\tif (delta.value.removedDocuments) {\n\t\t\tfor (const uri of delta.value.removedDocuments) {\n\t\t\t\tconst revivedUri = URI.revive(uri);\n\t\t\t\tconst document = this._documents.get(revivedUri);\n\n\t\t\t\tif (document) {\n\t\t\t\t\tdocument.dispose();\n\t\t\t\t\tthis._documents.delete(revivedUri);\n\t\t\t\t\tthis._textDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({ removedDocuments: document.apiNotebook.getCells().map(cell => cell.document.uri) });\n\t\t\t\t\tthis._onDidCloseNotebookDocument.fire(document.apiNotebook);\n\t\t\t\t}\n\n\t\t\t\tfor (const editor of this._editors.values()) {\n\t\t\t\t\tif (editor.notebookData.uri.toString() === revivedUri.toString()) {\n\t\t\t\t\t\tthis._editors.delete(editor.id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (delta.value.addedDocuments) {\n\n\t\t\tconst addedCellDocuments: IModelAddedData[] = [];\n\n\t\t\tfor (const modelData of delta.value.addedDocuments) {\n\t\t\t\tconst uri = URI.revive(modelData.uri);\n\n\t\t\t\tif (this._documents.has(uri)) {\n\t\t\t\t\tthrow new Error(`adding EXISTING notebook ${uri} `);\n\t\t\t\t}\n\n\t\t\t\tconst document = new ExtHostNotebookDocument(\n\t\t\t\t\tthis._notebookDocumentsProxy,\n\t\t\t\t\tthis._textDocumentsAndEditors,\n\t\t\t\t\tthis._textDocuments,\n\t\t\t\t\turi,\n\t\t\t\t\tmodelData\n\t\t\t\t);\n\n\t\t\t\t// add cell document as vscode.TextDocument\n\t\t\t\taddedCellDocuments.push(...modelData.cells.map(cell => ExtHostCell.asModelAddData(cell)));\n\n\t\t\t\tthis._documents.get(uri)?.dispose();\n\t\t\t\tthis._documents.set(uri, document);\n\t\t\t\tthis._textDocumentsAndEditors.$acceptDocumentsAndEditorsDelta({ addedDocuments: addedCellDocuments });\n\n\t\t\t\tthis._onDidOpenNotebookDocument.fire(document.apiNotebook);\n\t\t\t}\n\t\t}\n\n\t\tif (delta.value.addedEditors) {\n\t\t\tfor (const editorModelData of delta.value.addedEditors) {\n\t\t\t\tif (this._editors.has(editorModelData.id)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst revivedUri = URI.revive(editorModelData.documentUri);\n\t\t\t\tconst document = this._documents.get(revivedUri);\n\n\t\t\t\tif (document) {\n\t\t\t\t\tthis._createExtHostEditor(document, editorModelData.id, editorModelData);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst removedEditors: ExtHostNotebookEditor[] = [];\n\n\t\tif (delta.value.removedEditors) {\n\t\t\tfor (const editorid of delta.value.removedEditors) {\n\t\t\t\tconst editor = this._editors.get(editorid);\n\n\t\t\t\tif (editor) {\n\t\t\t\t\tthis._editors.delete(editorid);\n\n\t\t\t\t\tif (this._activeNotebookEditor?.id === editor.id) {\n\t\t\t\t\t\tthis._activeNotebookEditor = undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\tremovedEditors.push(editor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (delta.value.visibleEditors) {\n\t\t\tthis._visibleNotebookEditors = delta.value.visibleEditors.map(id => this._editors.get(id)!).filter(editor => !!editor) as ExtHostNotebookEditor[];\n\t\t\tconst visibleEditorsSet = new Set<string>();\n\t\t\tthis._visibleNotebookEditors.forEach(editor => visibleEditorsSet.add(editor.id));\n\n\t\t\tfor (const editor of this._editors.values()) {\n\t\t\t\tconst newValue = visibleEditorsSet.has(editor.id);\n\t\t\t\teditor._acceptVisibility(newValue);\n\t\t\t}\n\n\t\t\tthis._visibleNotebookEditors = [...this._editors.values()].map(e => e).filter(e => e.visible);\n\t\t\tthis._onDidChangeVisibleNotebookEditors.fire(this.visibleNotebookEditors);\n\t\t}\n\n\t\tif (delta.value.newActiveEditor === null) {\n\t\t\t// clear active notebook as current active editor is non-notebook editor\n\t\t\tthis._activeNotebookEditor = undefined;\n\t\t} else if (delta.value.newActiveEditor) {\n\t\t\tconst activeEditor = this._editors.get(delta.value.newActiveEditor);\n\t\t\tif (!activeEditor) {\n\t\t\t\tconsole.error(`FAILED to find active notebook editor ${delta.value.newActiveEditor}`);\n\t\t\t}\n\t\t\tthis._activeNotebookEditor = this._editors.get(delta.value.newActiveEditor);\n\t\t}\n\t\tif (delta.value.newActiveEditor !== undefined) {\n\t\t\tthis._onDidChangeActiveNotebookEditor.fire(this._activeNotebookEditor?.apiEditor);\n\t\t}\n\t}\n\n\tprivate static _registerApiCommands(extHostCommands: ExtHostCommands) {\n\n\t\tconst notebookTypeArg = ApiCommandArgument.String.with('notebookType', 'A notebook type');\n\n\t\tconst commandDataToNotebook = new ApiCommand(\n\t\t\t'vscode.executeDataToNotebook', '_executeDataToNotebook', 'Invoke notebook serializer',\n\t\t\t[notebookTypeArg, new ApiCommandArgument<Uint8Array, VSBuffer>('data', 'Bytes to convert to data', v => v instanceof Uint8Array, v => VSBuffer.wrap(v))],\n\t\t\tnew ApiCommandResult<SerializableObjectWithBuffers<NotebookDataDto>, vscode.NotebookData>('Notebook Data', data => typeConverters.NotebookData.to(data.value))\n\t\t);\n\n\t\tconst commandNotebookToData = new ApiCommand(\n\t\t\t'vscode.executeNotebookToData', '_executeNotebookToData', 'Invoke notebook serializer',\n\t\t\t[notebookTypeArg, new ApiCommandArgument<vscode.NotebookData, SerializableObjectWithBuffers<NotebookDataDto>>('NotebookData', 'Notebook data to convert to bytes', v => true, v => new SerializableObjectWithBuffers(typeConverters.NotebookData.from(v)))],\n\t\t\tnew ApiCommandResult<VSBuffer, Uint8Array>('Bytes', dto => dto.buffer)\n\t\t);\n\n\t\textHostCommands.registerApiCommand(commandDataToNotebook);\n\t\textHostCommands.registerApiCommand(commandNotebookToData);\n\t}\n\n\tprivate trace(msg: string): void {\n\t\tthis._logService.trace(`[Extension Host Notebook] ${msg}`);\n\t}\n}\n\nexport class NotebookSaveError extends Error {\n\tconstructor(message: string) {\n\t\tsuper(message);\n\t\tthis.name = 'NotebookSaveError';\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}