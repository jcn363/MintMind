{"version":3,"names":["cov_1kr60t49gw","actualCoverage","glob","Schemas","posix","basename","localize","workbenchConfigurationNodeBase","Extensions","ConfigurationExtensions","createDecorator","Registry","IEditorResolverService","s","editorsAssociationsSettingId","configurationRegistry","as","Configuration","editorAssociationsConfigurationNode","properties","type","markdownDescription","additionalProperties","registerConfiguration","RegisteredEditorPriority","f","b","priorityToRank","priority","exclusive","default","builtin","option","globMatchesResource","globPattern","resource","excludedSchemes","Set","extension","webviewPanel","vscodeWorkspaceTrust","vscodeSettings","has","scheme","matchOnPath","indexOf","sep","target","path","match","ignoreCase"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/editor/common/editorResolverService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as glob from '../../../../base/common/glob.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { posix } from '../../../../base/common/path.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize } from '../../../../nls.js';\nimport { workbenchConfigurationNodeBase } from '../../../common/configuration.js';\nimport { Extensions as ConfigurationExtensions, IConfigurationNode, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IResourceEditorInput, ITextResourceEditorInput } from '../../../../platform/editor/common/editor.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { EditorInputWithOptions, EditorInputWithOptionsAndGroup, IResourceDiffEditorInput, IResourceMultiDiffEditorInput, IResourceMergeEditorInput, IUntitledTextResourceEditorInput, IUntypedEditorInput } from '../../../common/editor.js';\nimport { IEditorGroup } from './editorGroupsService.js';\nimport { PreferredGroup } from './editorService.js';\nimport { AtLeastOne } from '../../../../base/common/types.js';\n\nexport const IEditorResolverService = createDecorator<IEditorResolverService>('editorResolverService');\n\n//#region Editor Associations\n\n// Static values for registered editors\n\nexport type EditorAssociation = {\n\treadonly viewType: string;\n\treadonly filenamePattern?: string;\n};\n\nexport type EditorAssociations = readonly EditorAssociation[];\n\nexport const editorsAssociationsSettingId = 'workbench.editorAssociations';\n\nconst configurationRegistry = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration);\n\nconst editorAssociationsConfigurationNode: IConfigurationNode = {\n\t...workbenchConfigurationNodeBase,\n\tproperties: {\n\t\t'workbench.editorAssociations': {\n\t\t\ttype: 'object',\n\t\t\tmarkdownDescription: localize('editor.editorAssociations', \"Configure [glob patterns](https://aka.ms/vscode-glob-patterns) to editors (for example `\\\"*.hex\\\": \\\"hexEditor.hexedit\\\"`). These have precedence over the default behavior.\"),\n\t\t\tadditionalProperties: {\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport interface IEditorType {\n\treadonly id: string;\n\treadonly displayName: string;\n\treadonly providerDisplayName: string;\n}\n\nconfigurationRegistry.registerConfiguration(editorAssociationsConfigurationNode);\n//#endregion\n\n//#region EditorResolverService types\nexport enum RegisteredEditorPriority {\n\tbuiltin = 'builtin',\n\toption = 'option',\n\texclusive = 'exclusive',\n\tdefault = 'default'\n}\n\n/**\n * If we didn't resolve an editor dictates what to do with the opening state\n * ABORT = Do not continue with opening the editor\n * NONE = Continue as if the resolution has been disabled as the service could not resolve one\n */\nexport const enum ResolvedStatus {\n\tABORT = 1,\n\tNONE = 2,\n}\n\nexport type ResolvedEditor = EditorInputWithOptionsAndGroup | ResolvedStatus;\n\nexport type RegisteredEditorOptions = {\n\t/**\n\t * If your editor cannot be opened in multiple groups for the same resource\n\t */\n\tsinglePerResource?: boolean | (() => boolean);\n\n\t/**\n\t * Whether or not you can support opening the given resource.\n\t * If omitted we assume you can open everything\n\t */\n\tcanSupportResource?: (resource: URI) => boolean;\n};\n\nexport type RegisteredEditorInfo = {\n\tid: string;\n\tlabel: string;\n\tdetail?: string;\n\tpriority: RegisteredEditorPriority;\n};\n\ntype EditorInputFactoryResult = EditorInputWithOptions | Promise<EditorInputWithOptions>;\n\nexport type EditorInputFactoryFunction = (editorInput: IResourceEditorInput | ITextResourceEditorInput, group: IEditorGroup) => EditorInputFactoryResult;\n\nexport type UntitledEditorInputFactoryFunction = (untitledEditorInput: IUntitledTextResourceEditorInput, group: IEditorGroup) => EditorInputFactoryResult;\n\nexport type DiffEditorInputFactoryFunction = (diffEditorInput: IResourceDiffEditorInput, group: IEditorGroup) => EditorInputFactoryResult;\n\nexport type MultiDiffEditorInputFactoryFunction = (multiDiffEditorInput: IResourceMultiDiffEditorInput, group: IEditorGroup) => EditorInputFactoryResult;\n\nexport type MergeEditorInputFactoryFunction = (mergeEditorInput: IResourceMergeEditorInput, group: IEditorGroup) => EditorInputFactoryResult;\n\ntype EditorInputFactories = {\n\tcreateEditorInput?: EditorInputFactoryFunction;\n\tcreateUntitledEditorInput?: UntitledEditorInputFactoryFunction;\n\tcreateDiffEditorInput?: DiffEditorInputFactoryFunction;\n\tcreateMultiDiffEditorInput?: MultiDiffEditorInputFactoryFunction;\n\tcreateMergeEditorInput?: MergeEditorInputFactoryFunction;\n};\n\nexport type EditorInputFactoryObject = AtLeastOne<EditorInputFactories>;\n\nexport interface IEditorResolverService {\n\treadonly _serviceBrand: undefined;\n\t/**\n\t * Given a resource finds the editor associations that match it from the user's settings\n\t * @param resource The resource to match\n\t * @return The matching associations\n\t */\n\tgetAssociationsForResource(resource: URI): EditorAssociations;\n\n\t/**\n\t * Updates the user's association to include a specific editor ID as a default for the given glob pattern\n\t * @param globPattern The glob pattern (must be a string as settings don't support relative glob)\n\t * @param editorID The ID of the editor to make a user default\n\t */\n\tupdateUserAssociations(globPattern: string, editorID: string): void;\n\n\t/**\n\t * Emitted when an editor is registered or unregistered.\n\t */\n\treadonly onDidChangeEditorRegistrations: Event<void>;\n\n\t/**\n\t * Given a callback, run the callback pausing the registration emitter\n\t */\n\tbufferChangeEvents(callback: Function): void;\n\n\t/**\n\t * Registers a specific editor. Editors with the same glob pattern and ID will be grouped together by the resolver.\n\t * This allows for registration of the factories in different locations\n\t * @param globPattern The glob pattern for this registration\n\t * @param editorInfo Information about the registration\n\t * @param options Specific options which apply to this registration\n\t * @param editorFactoryObject The editor input factory functions\n\t */\n\tregisterEditor(\n\t\tglobPattern: string | glob.IRelativePattern,\n\t\teditorInfo: RegisteredEditorInfo,\n\t\toptions: RegisteredEditorOptions,\n\t\teditorFactoryObject: EditorInputFactoryObject\n\t): IDisposable;\n\n\t/**\n\t * Given an editor resolves it to the suitable ResolvedEditor based on user extensions, settings, and built-in editors\n\t * @param editor The editor to resolve\n\t * @param preferredGroup The group you want to open the editor in\n\t * @returns An EditorInputWithOptionsAndGroup if there is an available editor or a status of how to proceed\n\t */\n\tresolveEditor(editor: IUntypedEditorInput, preferredGroup: PreferredGroup | undefined): Promise<ResolvedEditor>;\n\n\t/**\n\t * Given a resource returns all the editor ids that match that resource. If there is exclusive editor we return an empty array\n\t * @param resource The resource\n\t * @returns A list of editor ids\n\t */\n\tgetEditors(resource: URI): RegisteredEditorInfo[];\n\n\t/**\n\t * A set of all the editors that are registered to the editor resolver.\n\t */\n\tgetEditors(): RegisteredEditorInfo[];\n\n\t/**\n\t * Get a complete list of editor associations.\n\t */\n\tgetAllUserAssociations(): EditorAssociations;\n}\n\n//#endregion\n\n//#region Util functions\nexport function priorityToRank(priority: RegisteredEditorPriority): number {\n\tswitch (priority) {\n\t\tcase RegisteredEditorPriority.exclusive:\n\t\t\treturn 5;\n\t\tcase RegisteredEditorPriority.default:\n\t\t\treturn 4;\n\t\tcase RegisteredEditorPriority.builtin:\n\t\t\treturn 3;\n\t\t// Text editor is priority 2\n\t\tcase RegisteredEditorPriority.option:\n\t\tdefault:\n\t\t\treturn 1;\n\t}\n}\n\nexport function globMatchesResource(globPattern: string | glob.IRelativePattern, resource: URI): boolean {\n\tconst excludedSchemes = new Set([\n\t\tSchemas.extension,\n\t\tSchemas.webviewPanel,\n\t\tSchemas.vscodeWorkspaceTrust,\n\t\tSchemas.vscodeSettings\n\t]);\n\t// We want to say that the above schemes match no glob patterns\n\tif (excludedSchemes.has(resource.scheme)) {\n\t\treturn false;\n\t}\n\tconst matchOnPath = typeof globPattern === 'string' && globPattern.indexOf(posix.sep) >= 0;\n\tconst target = matchOnPath ? `${resource.scheme}:${resource.path}` : basename(resource);\n\treturn glob.match(globPattern, target, { ignoreCase: true });\n}\n//#endregion\n"],"mappings":"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","ignoreList":[]}