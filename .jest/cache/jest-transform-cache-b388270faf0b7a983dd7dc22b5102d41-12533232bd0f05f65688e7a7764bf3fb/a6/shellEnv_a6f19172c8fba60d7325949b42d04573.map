{"version":3,"names":["cov_17lspgzget","actualCoverage","spawn","basename","localize","CancellationTokenSource","toErrorMessage","CancellationError","isCancellationError","isWindows","OS","generateUuid","getSystemShell","isLaunchedFromCli","Promises","clamp","unixShellEnvPromise","s","undefined","getResolvedShellEnv","configurationService","logService","args","env","f","b","trace","withAsyncBody","resolve","reject","cts","timeoutValue","configuredTimeoutValue","getValue","timeout","setTimeout","dispose","Error","doResolveUnixShellEnv","token","error","isCancellationRequested","clearTimeout","runAsNode","process","noAttach","mark","replace","substr","regex","RegExp","ELECTRON_RUN_AS_NODE","ELECTRON_NO_ATTACH_CONSOLE","VSCODE_RESOLVING_ENVIRONMENT","systemShellUnix","Promise","name","command","shellArgs","extraArgs","test","execPath","JSON","stringify","child","detached","stdio","onCancellationRequested","kill","on","err","buffers","stdout","push","stderr","code","signal","raw","Buffer","concat","toString","stderrStr","trim","match","exec","rawStripped","parse"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/shell/node/shellEnv.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { spawn } from 'child_process';\nimport { basename } from '../../../base/common/path.js';\nimport { localize } from '../../../nls.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../base/common/cancellation.js';\nimport { toErrorMessage } from '../../../base/common/errorMessage.js';\nimport { CancellationError, isCancellationError } from '../../../base/common/errors.js';\nimport { IProcessEnvironment, isWindows, OS } from '../../../base/common/platform.js';\nimport { generateUuid } from '../../../base/common/uuid.js';\nimport { getSystemShell } from '../../../base/node/shell.js';\nimport { NativeParsedArgs } from '../../environment/common/argv.js';\nimport { isLaunchedFromCli } from '../../environment/node/argvHelper.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { Promises } from '../../../base/common/async.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { clamp } from '../../../base/common/numbers.js';\n\nlet unixShellEnvPromise: Promise<typeof process.env> | undefined = undefined;\n\n/**\n * Resolves the shell environment by spawning a shell. This call will cache\n * the shell spawning so that subsequent invocations use that cached result.\n *\n * Will throw an error if:\n * - we hit a timeout of `MAX_SHELL_RESOLVE_TIME`\n * - any other error from spawning a shell to figure out the environment\n */\nexport async function getResolvedShellEnv(configurationService: IConfigurationService, logService: ILogService, args: NativeParsedArgs, env: IProcessEnvironment): Promise<typeof process.env> {\n\n\t// Skip if --force-disable-user-env\n\tif (args['force-disable-user-env']) {\n\t\tlogService.trace('resolveShellEnv(): skipped (--force-disable-user-env)');\n\n\t\treturn {};\n\t}\n\n\t// Skip on windows\n\telse if (isWindows) {\n\t\tlogService.trace('resolveShellEnv(): skipped (Windows)');\n\n\t\treturn {};\n\t}\n\n\t// Skip if running from CLI already\n\telse if (isLaunchedFromCli(env) && !args['force-user-env']) {\n\t\tlogService.trace('resolveShellEnv(): skipped (VSCODE_CLI is set)');\n\n\t\treturn {};\n\t}\n\n\t// Otherwise resolve (macOS, Linux)\n\telse {\n\t\tif (isLaunchedFromCli(env)) {\n\t\t\tlogService.trace('resolveShellEnv(): running (--force-user-env)');\n\t\t} else {\n\t\t\tlogService.trace('resolveShellEnv(): running (macOS/Linux)');\n\t\t}\n\n\t\t// Call this only once and cache the promise for\n\t\t// subsequent calls since this operation can be\n\t\t// expensive (spawns a process).\n\t\tif (!unixShellEnvPromise) {\n\t\t\tunixShellEnvPromise = Promises.withAsyncBody<NodeJS.ProcessEnv>(async (resolve, reject) => {\n\t\t\t\tconst cts = new CancellationTokenSource();\n\n\t\t\t\tlet timeoutValue = 10000; // default to 10 seconds\n\t\t\t\tconst configuredTimeoutValue = configurationService.getValue<unknown>('application.shellEnvironmentResolutionTimeout');\n\t\t\t\tif (typeof configuredTimeoutValue === 'number') {\n\t\t\t\t\ttimeoutValue = clamp(configuredTimeoutValue, 1, 120) * 1000 /* convert from seconds */;\n\t\t\t\t}\n\n\t\t\t\t// Give up resolving shell env after some time\n\t\t\t\tconst timeout = setTimeout(() => {\n\t\t\t\t\tcts.dispose(true);\n\t\t\t\t\treject(new Error(localize('resolveShellEnvTimeout', \"Unable to resolve your shell environment in a reasonable time. Please review your shell configuration and restart.\")));\n\t\t\t\t}, timeoutValue);\n\n\t\t\t\t// Resolve shell env and handle errors\n\t\t\t\ttry {\n\t\t\t\t\tresolve(await doResolveUnixShellEnv(logService, cts.token));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (!isCancellationError(error) && !cts.token.isCancellationRequested) {\n\t\t\t\t\t\treject(new Error(localize('resolveShellEnvError', \"Unable to resolve your shell environment: {0}\", toErrorMessage(error))));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve({});\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\tcts.dispose();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn unixShellEnvPromise;\n\t}\n}\n\nasync function doResolveUnixShellEnv(logService: ILogService, token: CancellationToken): Promise<typeof process.env> {\n\tconst runAsNode = process.env['ELECTRON_RUN_AS_NODE'];\n\tlogService.trace('getUnixShellEnvironment#runAsNode', runAsNode);\n\n\tconst noAttach = process.env['ELECTRON_NO_ATTACH_CONSOLE'];\n\tlogService.trace('getUnixShellEnvironment#noAttach', noAttach);\n\n\tconst mark = generateUuid().replace(/-/g, '').substr(0, 12);\n\tconst regex = new RegExp(mark + '({.*})' + mark);\n\n\tconst env = {\n\t\t...process.env,\n\t\tELECTRON_RUN_AS_NODE: '1',\n\t\tELECTRON_NO_ATTACH_CONSOLE: '1',\n\t\tVSCODE_RESOLVING_ENVIRONMENT: '1'\n\t};\n\n\tlogService.trace('getUnixShellEnvironment#env', env);\n\tconst systemShellUnix = await getSystemShell(OS, env);\n\tlogService.trace('getUnixShellEnvironment#shell', systemShellUnix);\n\n\treturn new Promise<typeof process.env>((resolve, reject) => {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn reject(new CancellationError());\n\t\t}\n\n\t\t// handle popular non-POSIX shells\n\t\tconst name = basename(systemShellUnix);\n\t\tlet command: string, shellArgs: Array<string>;\n\t\tconst extraArgs = '';\n\t\tif (/^(?:pwsh|powershell)(?:-preview)?$/.test(name)) {\n\t\t\t// Older versions of PowerShell removes double quotes sometimes so we use \"double single quotes\" which is how\n\t\t\t// you escape single quotes inside of a single quoted string.\n\t\t\tcommand = `& '${process.execPath}' ${extraArgs} -p '''${mark}'' + JSON.stringify(process.env) + ''${mark}'''`;\n\t\t\tshellArgs = ['-Login', '-Command'];\n\t\t} else if (name === 'nu') { // nushell requires ^ before quoted path to treat it as a command\n\t\t\tcommand = `^'${process.execPath}' ${extraArgs} -p '\"${mark}\" + JSON.stringify(process.env) + \"${mark}\"'`;\n\t\t\tshellArgs = ['-i', '-l', '-c'];\n\t\t} else if (name === 'xonsh') { // #200374: native implementation is shorter\n\t\t\tcommand = `import os, json; print(\"${mark}\", json.dumps(dict(os.environ)), \"${mark}\")`;\n\t\t\tshellArgs = ['-i', '-l', '-c'];\n\t\t} else {\n\t\t\tcommand = `'${process.execPath}' ${extraArgs} -p '\"${mark}\" + JSON.stringify(process.env) + \"${mark}\"'`;\n\n\t\t\tif (name === 'tcsh' || name === 'csh') {\n\t\t\t\tshellArgs = ['-ic'];\n\t\t\t} else {\n\t\t\t\tshellArgs = ['-i', '-l', '-c'];\n\t\t\t}\n\t\t}\n\n\t\tlogService.trace('getUnixShellEnvironment#spawn', JSON.stringify(shellArgs), command);\n\n\t\tconst child = spawn(systemShellUnix, [...shellArgs, command], {\n\t\t\tdetached: true,\n\t\t\tstdio: ['ignore', 'pipe', 'pipe'],\n\t\t\tenv\n\t\t});\n\n\t\ttoken.onCancellationRequested(() => {\n\t\t\tchild.kill();\n\n\t\t\treturn reject(new CancellationError());\n\t\t});\n\n\t\tchild.on('error', err => {\n\t\t\tlogService.error('getUnixShellEnvironment#errorChildProcess', toErrorMessage(err));\n\t\t\treject(err);\n\t\t});\n\n\t\tconst buffers: Buffer[] = [];\n\t\tchild.stdout.on('data', b => buffers.push(b));\n\n\t\tconst stderr: Buffer[] = [];\n\t\tchild.stderr.on('data', b => stderr.push(b));\n\n\t\tchild.on('close', (code, signal) => {\n\t\t\tconst raw = Buffer.concat(buffers).toString('utf8');\n\t\t\tlogService.trace('getUnixShellEnvironment#raw', raw);\n\n\t\t\tconst stderrStr = Buffer.concat(stderr).toString('utf8');\n\t\t\tif (stderrStr.trim()) {\n\t\t\t\tlogService.trace('getUnixShellEnvironment#stderr', stderrStr);\n\t\t\t}\n\n\t\t\tif (code || signal) {\n\t\t\t\treturn reject(new Error(localize('resolveShellEnvExitError', \"Unexpected exit code from spawned shell (code {0}, signal {1})\", code, signal)));\n\t\t\t}\n\n\t\t\tconst match = regex.exec(raw);\n\t\t\tconst rawStripped = match ? match[1] : '{}';\n\n\t\t\ttry {\n\t\t\t\tconst env = JSON.parse(rawStripped);\n\n\t\t\t\tif (runAsNode) {\n\t\t\t\t\tenv['ELECTRON_RUN_AS_NODE'] = runAsNode;\n\t\t\t\t} else {\n\t\t\t\t\tdelete env['ELECTRON_RUN_AS_NODE'];\n\t\t\t\t}\n\n\t\t\t\tif (noAttach) {\n\t\t\t\t\tenv['ELECTRON_NO_ATTACH_CONSOLE'] = noAttach;\n\t\t\t\t} else {\n\t\t\t\t\tdelete env['ELECTRON_NO_ATTACH_CONSOLE'];\n\t\t\t\t}\n\n\t\t\t\tdelete env['VSCODE_RESOLVING_ENVIRONMENT'];\n\n\t\t\t\t// https://github.com/microsoft/vscode/issues/22593#issuecomment-336050758\n\t\t\t\tdelete env['XDG_RUNTIME_DIR'];\n\n\t\t\t\tlogService.trace('getUnixShellEnvironment#result', env);\n\t\t\t\tresolve(env);\n\t\t\t} catch (err) {\n\t\t\t\tlogService.error('getUnixShellEnvironment#errorCaught', toErrorMessage(err));\n\t\t\t\treject(err);\n\t\t\t}\n\t\t});\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}