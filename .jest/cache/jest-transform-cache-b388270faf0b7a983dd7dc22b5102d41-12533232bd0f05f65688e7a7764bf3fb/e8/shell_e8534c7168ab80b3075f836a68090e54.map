{"version":3,"names":["cov_286kozif2t","actualCoverage","userInfo","platform","getFirstAvailablePowerShellInstallation","processes","getSystemShell","os","env","f","s","b","isWindows","getSystemShellWindows","getWindowsShell","getSystemShellUnixLike","_TERMINAL_DEFAULT_SHELL_UNIX_LIKE","isLinux","isMacintosh","unixLikeTerminal","shell","err","_TERMINAL_DEFAULT_SHELL_WINDOWS","exePath"],"sources":["/home/user/Desktop/MintMind/src/vs/base/node/shell.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { userInfo } from 'os';\nimport * as platform from '../common/platform.js';\nimport { getFirstAvailablePowerShellInstallation } from './powershell.js';\nimport * as processes from './processes.js';\n\n/**\n * Gets the detected default shell for the _system_, not to be confused with MintMind's _default_\n * shell that the terminal uses by default.\n * @param os The platform to detect the shell of.\n */\nexport async function getSystemShell(os: platform.OperatingSystem, env: platform.IProcessEnvironment): Promise<string> {\n\tif (os === platform.OperatingSystem.Windows) {\n\t\tif (platform.isWindows) {\n\t\t\treturn getSystemShellWindows();\n\t\t}\n\t\t// Don't detect Windows shell when not on Windows\n\t\treturn processes.getWindowsShell(env);\n\t}\n\n\treturn getSystemShellUnixLike(os, env);\n}\n\nlet _TERMINAL_DEFAULT_SHELL_UNIX_LIKE: string | null = null;\nfunction getSystemShellUnixLike(os: platform.OperatingSystem, env: platform.IProcessEnvironment): string {\n\t// Only use $SHELL for the current OS\n\tif (platform.isLinux && os === platform.OperatingSystem.Macintosh || platform.isMacintosh && os === platform.OperatingSystem.Linux) {\n\t\treturn '/bin/bash';\n\t}\n\n\tif (!_TERMINAL_DEFAULT_SHELL_UNIX_LIKE) {\n\t\tlet unixLikeTerminal: string | undefined | null;\n\t\tif (platform.isWindows) {\n\t\t\tunixLikeTerminal = '/bin/bash'; // for WSL\n\t\t} else {\n\t\t\tunixLikeTerminal = env['SHELL'];\n\n\t\t\tif (!unixLikeTerminal) {\n\t\t\t\ttry {\n\t\t\t\t\t// It's possible for $SHELL to be unset, this API reads /etc/passwd. See https://github.com/github/codespaces/issues/1639\n\t\t\t\t\t// Node docs: \"Throws a SystemError if a user has no username or homedir.\"\n\t\t\t\t\tunixLikeTerminal = userInfo().shell;\n\t\t\t\t} catch (err) { }\n\t\t\t}\n\n\t\t\tif (!unixLikeTerminal) {\n\t\t\t\tunixLikeTerminal = 'sh';\n\t\t\t}\n\n\t\t\t// Some systems have $SHELL set to /bin/false which breaks the terminal\n\t\t\tif (unixLikeTerminal === '/bin/false') {\n\t\t\t\tunixLikeTerminal = '/bin/bash';\n\t\t\t}\n\t\t}\n\t\t_TERMINAL_DEFAULT_SHELL_UNIX_LIKE = unixLikeTerminal;\n\t}\n\treturn _TERMINAL_DEFAULT_SHELL_UNIX_LIKE;\n}\n\nlet _TERMINAL_DEFAULT_SHELL_WINDOWS: string | null = null;\nasync function getSystemShellWindows(): Promise<string> {\n\tif (!_TERMINAL_DEFAULT_SHELL_WINDOWS) {\n\t\t_TERMINAL_DEFAULT_SHELL_WINDOWS = (await getFirstAvailablePowerShellInstallation())!.exePath;\n\t}\n\treturn _TERMINAL_DEFAULT_SHELL_WINDOWS;\n}\n"],"mappings":"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","ignoreList":[]}