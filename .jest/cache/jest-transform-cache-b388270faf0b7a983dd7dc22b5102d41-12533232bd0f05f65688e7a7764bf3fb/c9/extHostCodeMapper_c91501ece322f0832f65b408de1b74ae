292c10b77a25abb520a3aa7dc57a542e
/* istanbul ignore next */
function cov_1xzw3bbzs8() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostCodeMapper.ts";
  var hash = "fd3a0971bfeb875bf1c21c03cafade421d35d4a1";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostCodeMapper.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 33
        },
        end: {
          line: 10,
          column: 34
        }
      },
      "1": {
        start: {
          line: 12,
          column: 16
        },
        end: {
          line: 12,
          column: 25
        }
      },
      "2": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 93
        }
      },
      "3": {
        start: {
          line: 18,
          column: 25
        },
        end: {
          line: 18,
          column: 51
        }
      },
      "4": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 21,
          column: 9
        }
      },
      "5": {
        start: {
          line: 20,
          column: 12
        },
        end: {
          line: 20,
          column: 98
        }
      },
      "6": {
        start: {
          line: 23,
          column: 23
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "7": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 39
        }
      },
      "8": {
        start: {
          line: 26,
          column: 16
        },
        end: {
          line: 29,
          column: 19
        }
      },
      "9": {
        start: {
          line: 32,
          column: 16
        },
        end: {
          line: 32,
          column: 39
        }
      },
      "10": {
        start: {
          line: 33,
          column: 16
        },
        end: {
          line: 36,
          column: 19
        }
      },
      "11": {
        start: {
          line: 39,
          column: 24
        },
        end: {
          line: 51,
          column: 9
        }
      },
      "12": {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 49,
          column: 18
        }
      },
      "13": {
        start: {
          line: 52,
          column: 23
        },
        end: {
          line: 52,
          column: 80
        }
      },
      "14": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 30
        }
      },
      "15": {
        start: {
          line: 56,
          column: 23
        },
        end: {
          line: 56,
          column: 62
        }
      },
      "16": {
        start: {
          line: 57,
          column: 8
        },
        end: {
          line: 57,
          column: 97
        }
      },
      "17": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 45
        }
      },
      "18": {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 63,
          column: 10
        }
      },
      "19": {
        start: {
          line: 61,
          column: 16
        },
        end: {
          line: 61,
          column: 73
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 29
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 51
          },
          end: {
            line: 54,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 24,
            column: 22
          },
          end: {
            line: 24,
            column: 23
          }
        },
        loc: {
          start: {
            line: 24,
            column: 41
          },
          end: {
            line: 30,
            column: 13
          }
        },
        line: 24
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 31,
            column: 26
          },
          end: {
            line: 31,
            column: 27
          }
        },
        loc: {
          start: {
            line: 31,
            column: 45
          },
          end: {
            line: 37,
            column: 13
          }
        },
        line: 31
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 44,
            column: 55
          },
          end: {
            line: 44,
            column: 56
          }
        },
        loc: {
          start: {
            line: 44,
            column: 64
          },
          end: {
            line: 50,
            column: 13
          }
        },
        line: 44
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 55,
            column: 5
          }
        },
        loc: {
          start: {
            line: 55,
            column: 53
          },
          end: {
            line: 64,
            column: 5
          }
        },
        line: 55
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 60,
            column: 21
          },
          end: {
            line: 60,
            column: 22
          }
        },
        loc: {
          start: {
            line: 60,
            column: 27
          },
          end: {
            line: 62,
            column: 13
          }
        },
        line: 60
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 19,
            column: 8
          },
          end: {
            line: 21,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 19
      },
      "1": {
        loc: {
          start: {
            line: 53,
            column: 15
          },
          end: {
            line: 53,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 53,
            column: 15
          },
          end: {
            line: 53,
            column: 21
          }
        }, {
          start: {
            line: 53,
            column: 25
          },
          end: {
            line: 53,
            column: 29
          }
        }],
        line: 53
      },
      "2": {
        loc: {
          start: {
            line: 57,
            column: 56
          },
          end: {
            line: 57,
            column: 95
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 57,
            column: 56
          },
          end: {
            line: 57,
            column: 77
          }
        }, {
          start: {
            line: 57,
            column: 81
          },
          end: {
            line: 57,
            column: 95
          }
        }],
        line: 57
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostCodeMapper.ts",
      mappings: "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",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostCodeMapper.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { ICodeMapperResult } from '../../contrib/chat/common/chatCodeMapperService.js';\nimport * as extHostProtocol from './extHost.protocol.js';\nimport { NotebookEdit, TextEdit } from './extHostTypeConverters.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { asArray } from '../../../base/common/arrays.js';\n\nexport class ExtHostCodeMapper implements extHostProtocol.ExtHostCodeMapperShape {\n\n\tprivate static _providerHandlePool: number = 0;\n\tprivate readonly _proxy: extHostProtocol.MainThreadCodeMapperShape;\n\tprivate readonly providers = new Map<number, vscode.MappedEditsProvider2>();\n\n\tconstructor(\n\t\tmainContext: extHostProtocol.IMainContext\n\t) {\n\t\tthis._proxy = mainContext.getProxy(extHostProtocol.MainContext.MainThreadCodeMapper);\n\t}\n\n\tasync $mapCode(handle: number, internalRequest: extHostProtocol.ICodeMapperRequestDto, token: CancellationToken): Promise<ICodeMapperResult | null> {\n\t\t// Received request to map code from the main thread\n\t\tconst provider = this.providers.get(handle);\n\t\tif (!provider) {\n\t\t\tthrow new Error(`Received request to map code for unknown provider handle ${handle}`);\n\t\t}\n\n\t\t// Construct a response object to pass to the provider\n\t\tconst stream: vscode.MappedEditsResponseStream = {\n\t\t\ttextEdit: (target: vscode.Uri, edits: vscode.TextEdit | vscode.TextEdit[]) => {\n\t\t\t\tedits = asArray(edits);\n\t\t\t\tthis._proxy.$handleProgress(internalRequest.requestId, {\n\t\t\t\t\turi: target,\n\t\t\t\t\tedits: edits.map(TextEdit.from)\n\t\t\t\t});\n\t\t\t},\n\t\t\tnotebookEdit: (target: vscode.Uri, edits: vscode.NotebookEdit | vscode.NotebookEdit[]) => {\n\t\t\t\tedits = asArray(edits);\n\t\t\t\tthis._proxy.$handleProgress(internalRequest.requestId, {\n\t\t\t\t\turi: target,\n\t\t\t\t\tedits: edits.map(NotebookEdit.from)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tconst request: vscode.MappedEditsRequest = {\n\t\t\tlocation: internalRequest.location,\n\t\t\tchatRequestId: internalRequest.chatRequestId,\n\t\t\tchatRequestModel: internalRequest.chatRequestModel,\n\t\t\tchatSessionId: internalRequest.chatSessionId,\n\t\t\tcodeBlocks: internalRequest.codeBlocks.map(block => {\n\t\t\t\treturn {\n\t\t\t\t\tcode: block.code,\n\t\t\t\t\tresource: URI.revive(block.resource),\n\t\t\t\t\tmarkdownBeforeBlock: block.markdownBeforeBlock\n\t\t\t\t};\n\t\t\t})\n\t\t};\n\n\t\tconst result = await provider.provideMappedEdits(request, stream, token);\n\t\treturn result ?? null;\n\t}\n\n\tregisterMappedEditsProvider(extension: IExtensionDescription, provider: vscode.MappedEditsProvider2): vscode.Disposable {\n\t\tconst handle = ExtHostCodeMapper._providerHandlePool++;\n\t\tthis._proxy.$registerCodeMapperProvider(handle, extension.displayName ?? extension.name);\n\t\tthis.providers.set(handle, provider);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\treturn this._proxy.$unregisterCodeMapperProvider(handle);\n\t\t\t}\n\t\t};\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fd3a0971bfeb875bf1c21c03cafade421d35d4a1"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1xzw3bbzs8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1xzw3bbzs8();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import * as extHostProtocol from './extHost.protocol.js';
import { NotebookEdit, TextEdit } from './extHostTypeConverters.js';
import { URI } from '../../../base/common/uri.js';
import { asArray } from '../../../base/common/arrays.js';
export class ExtHostCodeMapper {
  static _providerHandlePool =
  /* istanbul ignore next */
  (cov_1xzw3bbzs8().s[0]++, 0);
  _proxy;
  providers =
  /* istanbul ignore next */
  (cov_1xzw3bbzs8().s[1]++, new Map());
  constructor(mainContext) {
    /* istanbul ignore next */
    cov_1xzw3bbzs8().f[0]++;
    cov_1xzw3bbzs8().s[2]++;
    this._proxy = mainContext.getProxy(extHostProtocol.MainContext.MainThreadCodeMapper);
  }
  async $mapCode(handle, internalRequest, token) {
    /* istanbul ignore next */
    cov_1xzw3bbzs8().f[1]++;
    // Received request to map code from the main thread
    const provider =
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().s[3]++, this.providers.get(handle));
    /* istanbul ignore next */
    cov_1xzw3bbzs8().s[4]++;
    if (!provider) {
      /* istanbul ignore next */
      cov_1xzw3bbzs8().b[0][0]++;
      cov_1xzw3bbzs8().s[5]++;
      throw new Error(`Received request to map code for unknown provider handle ${handle}`);
    } else
    /* istanbul ignore next */
    {
      cov_1xzw3bbzs8().b[0][1]++;
    }
    // Construct a response object to pass to the provider
    const stream =
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().s[6]++, {
      textEdit: (target, edits) => {
        /* istanbul ignore next */
        cov_1xzw3bbzs8().f[2]++;
        cov_1xzw3bbzs8().s[7]++;
        edits = asArray(edits);
        /* istanbul ignore next */
        cov_1xzw3bbzs8().s[8]++;
        this._proxy.$handleProgress(internalRequest.requestId, {
          uri: target,
          edits: edits.map(TextEdit.from)
        });
      },
      notebookEdit: (target, edits) => {
        /* istanbul ignore next */
        cov_1xzw3bbzs8().f[3]++;
        cov_1xzw3bbzs8().s[9]++;
        edits = asArray(edits);
        /* istanbul ignore next */
        cov_1xzw3bbzs8().s[10]++;
        this._proxy.$handleProgress(internalRequest.requestId, {
          uri: target,
          edits: edits.map(NotebookEdit.from)
        });
      }
    });
    const request =
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().s[11]++, {
      location: internalRequest.location,
      chatRequestId: internalRequest.chatRequestId,
      chatRequestModel: internalRequest.chatRequestModel,
      chatSessionId: internalRequest.chatSessionId,
      codeBlocks: internalRequest.codeBlocks.map(block => {
        /* istanbul ignore next */
        cov_1xzw3bbzs8().f[4]++;
        cov_1xzw3bbzs8().s[12]++;
        return {
          code: block.code,
          resource: URI.revive(block.resource),
          markdownBeforeBlock: block.markdownBeforeBlock
        };
      })
    });
    const result =
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().s[13]++, await provider.provideMappedEdits(request, stream, token));
    /* istanbul ignore next */
    cov_1xzw3bbzs8().s[14]++;
    return /* istanbul ignore next */(cov_1xzw3bbzs8().b[1][0]++, result) ??
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().b[1][1]++, null);
  }
  registerMappedEditsProvider(extension, provider) {
    /* istanbul ignore next */
    cov_1xzw3bbzs8().f[5]++;
    const handle =
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().s[15]++, ExtHostCodeMapper._providerHandlePool++);
    /* istanbul ignore next */
    cov_1xzw3bbzs8().s[16]++;
    this._proxy.$registerCodeMapperProvider(handle,
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().b[2][0]++, extension.displayName) ??
    /* istanbul ignore next */
    (cov_1xzw3bbzs8().b[2][1]++, extension.name));
    /* istanbul ignore next */
    cov_1xzw3bbzs8().s[17]++;
    this.providers.set(handle, provider);
    /* istanbul ignore next */
    cov_1xzw3bbzs8().s[18]++;
    return {
      dispose: () => {
        /* istanbul ignore next */
        cov_1xzw3bbzs8().f[6]++;
        cov_1xzw3bbzs8().s[19]++;
        return this._proxy.$unregisterCodeMapperProvider(handle);
      }
    };
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXh6dzNiYnpzOCIsImFjdHVhbENvdmVyYWdlIiwiZXh0SG9zdFByb3RvY29sIiwiTm90ZWJvb2tFZGl0IiwiVGV4dEVkaXQiLCJVUkkiLCJhc0FycmF5IiwiRXh0SG9zdENvZGVNYXBwZXIiLCJfcHJvdmlkZXJIYW5kbGVQb29sIiwicyIsIl9wcm94eSIsInByb3ZpZGVycyIsIk1hcCIsImNvbnN0cnVjdG9yIiwibWFpbkNvbnRleHQiLCJmIiwiZ2V0UHJveHkiLCJNYWluQ29udGV4dCIsIk1haW5UaHJlYWRDb2RlTWFwcGVyIiwiJG1hcENvZGUiLCJoYW5kbGUiLCJpbnRlcm5hbFJlcXVlc3QiLCJ0b2tlbiIsInByb3ZpZGVyIiwiZ2V0IiwiYiIsIkVycm9yIiwic3RyZWFtIiwidGV4dEVkaXQiLCJ0YXJnZXQiLCJlZGl0cyIsIiRoYW5kbGVQcm9ncmVzcyIsInJlcXVlc3RJZCIsInVyaSIsIm1hcCIsImZyb20iLCJub3RlYm9va0VkaXQiLCJyZXF1ZXN0IiwibG9jYXRpb24iLCJjaGF0UmVxdWVzdElkIiwiY2hhdFJlcXVlc3RNb2RlbCIsImNoYXRTZXNzaW9uSWQiLCJjb2RlQmxvY2tzIiwiYmxvY2siLCJjb2RlIiwicmVzb3VyY2UiLCJyZXZpdmUiLCJtYXJrZG93bkJlZm9yZUJsb2NrIiwicmVzdWx0IiwicHJvdmlkZU1hcHBlZEVkaXRzIiwicmVnaXN0ZXJNYXBwZWRFZGl0c1Byb3ZpZGVyIiwiZXh0ZW5zaW9uIiwiJHJlZ2lzdGVyQ29kZU1hcHBlclByb3ZpZGVyIiwiZGlzcGxheU5hbWUiLCJuYW1lIiwic2V0IiwiZGlzcG9zZSIsIiR1bnJlZ2lzdGVyQ29kZU1hcHBlclByb3ZpZGVyIl0sInNvdXJjZXMiOlsiL2hvbWUvdXNlci9EZXNrdG9wL01pbnRNaW5kL3NyYy92cy93b3JrYmVuY2gvYXBpL2NvbW1vbi9leHRIb3N0Q29kZU1hcHBlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHR5cGUgKiBhcyB2c2NvZGUgZnJvbSAndnNjb2RlJztcbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vY2FuY2VsbGF0aW9uLmpzJztcbmltcG9ydCB7IElFeHRlbnNpb25EZXNjcmlwdGlvbiB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2V4dGVuc2lvbnMvY29tbW9uL2V4dGVuc2lvbnMuanMnO1xuaW1wb3J0IHsgSUNvZGVNYXBwZXJSZXN1bHQgfSBmcm9tICcuLi8uLi9jb250cmliL2NoYXQvY29tbW9uL2NoYXRDb2RlTWFwcGVyU2VydmljZS5qcyc7XG5pbXBvcnQgKiBhcyBleHRIb3N0UHJvdG9jb2wgZnJvbSAnLi9leHRIb3N0LnByb3RvY29sLmpzJztcbmltcG9ydCB7IE5vdGVib29rRWRpdCwgVGV4dEVkaXQgfSBmcm9tICcuL2V4dEhvc3RUeXBlQ29udmVydGVycy5qcyc7XG5pbXBvcnQgeyBVUkkgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi91cmkuanMnO1xuaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBFeHRIb3N0Q29kZU1hcHBlciBpbXBsZW1lbnRzIGV4dEhvc3RQcm90b2NvbC5FeHRIb3N0Q29kZU1hcHBlclNoYXBlIHtcblxuXHRwcml2YXRlIHN0YXRpYyBfcHJvdmlkZXJIYW5kbGVQb29sOiBudW1iZXIgPSAwO1xuXHRwcml2YXRlIHJlYWRvbmx5IF9wcm94eTogZXh0SG9zdFByb3RvY29sLk1haW5UaHJlYWRDb2RlTWFwcGVyU2hhcGU7XG5cdHByaXZhdGUgcmVhZG9ubHkgcHJvdmlkZXJzID0gbmV3IE1hcDxudW1iZXIsIHZzY29kZS5NYXBwZWRFZGl0c1Byb3ZpZGVyMj4oKTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRtYWluQ29udGV4dDogZXh0SG9zdFByb3RvY29sLklNYWluQ29udGV4dFxuXHQpIHtcblx0XHR0aGlzLl9wcm94eSA9IG1haW5Db250ZXh0LmdldFByb3h5KGV4dEhvc3RQcm90b2NvbC5NYWluQ29udGV4dC5NYWluVGhyZWFkQ29kZU1hcHBlcik7XG5cdH1cblxuXHRhc3luYyAkbWFwQ29kZShoYW5kbGU6IG51bWJlciwgaW50ZXJuYWxSZXF1ZXN0OiBleHRIb3N0UHJvdG9jb2wuSUNvZGVNYXBwZXJSZXF1ZXN0RHRvLCB0b2tlbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPElDb2RlTWFwcGVyUmVzdWx0IHwgbnVsbD4ge1xuXHRcdC8vIFJlY2VpdmVkIHJlcXVlc3QgdG8gbWFwIGNvZGUgZnJvbSB0aGUgbWFpbiB0aHJlYWRcblx0XHRjb25zdCBwcm92aWRlciA9IHRoaXMucHJvdmlkZXJzLmdldChoYW5kbGUpO1xuXHRcdGlmICghcHJvdmlkZXIpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgUmVjZWl2ZWQgcmVxdWVzdCB0byBtYXAgY29kZSBmb3IgdW5rbm93biBwcm92aWRlciBoYW5kbGUgJHtoYW5kbGV9YCk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29uc3RydWN0IGEgcmVzcG9uc2Ugb2JqZWN0IHRvIHBhc3MgdG8gdGhlIHByb3ZpZGVyXG5cdFx0Y29uc3Qgc3RyZWFtOiB2c2NvZGUuTWFwcGVkRWRpdHNSZXNwb25zZVN0cmVhbSA9IHtcblx0XHRcdHRleHRFZGl0OiAodGFyZ2V0OiB2c2NvZGUuVXJpLCBlZGl0czogdnNjb2RlLlRleHRFZGl0IHwgdnNjb2RlLlRleHRFZGl0W10pID0+IHtcblx0XHRcdFx0ZWRpdHMgPSBhc0FycmF5KGVkaXRzKTtcblx0XHRcdFx0dGhpcy5fcHJveHkuJGhhbmRsZVByb2dyZXNzKGludGVybmFsUmVxdWVzdC5yZXF1ZXN0SWQsIHtcblx0XHRcdFx0XHR1cmk6IHRhcmdldCxcblx0XHRcdFx0XHRlZGl0czogZWRpdHMubWFwKFRleHRFZGl0LmZyb20pXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSxcblx0XHRcdG5vdGVib29rRWRpdDogKHRhcmdldDogdnNjb2RlLlVyaSwgZWRpdHM6IHZzY29kZS5Ob3RlYm9va0VkaXQgfCB2c2NvZGUuTm90ZWJvb2tFZGl0W10pID0+IHtcblx0XHRcdFx0ZWRpdHMgPSBhc0FycmF5KGVkaXRzKTtcblx0XHRcdFx0dGhpcy5fcHJveHkuJGhhbmRsZVByb2dyZXNzKGludGVybmFsUmVxdWVzdC5yZXF1ZXN0SWQsIHtcblx0XHRcdFx0XHR1cmk6IHRhcmdldCxcblx0XHRcdFx0XHRlZGl0czogZWRpdHMubWFwKE5vdGVib29rRWRpdC5mcm9tKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVxdWVzdDogdnNjb2RlLk1hcHBlZEVkaXRzUmVxdWVzdCA9IHtcblx0XHRcdGxvY2F0aW9uOiBpbnRlcm5hbFJlcXVlc3QubG9jYXRpb24sXG5cdFx0XHRjaGF0UmVxdWVzdElkOiBpbnRlcm5hbFJlcXVlc3QuY2hhdFJlcXVlc3RJZCxcblx0XHRcdGNoYXRSZXF1ZXN0TW9kZWw6IGludGVybmFsUmVxdWVzdC5jaGF0UmVxdWVzdE1vZGVsLFxuXHRcdFx0Y2hhdFNlc3Npb25JZDogaW50ZXJuYWxSZXF1ZXN0LmNoYXRTZXNzaW9uSWQsXG5cdFx0XHRjb2RlQmxvY2tzOiBpbnRlcm5hbFJlcXVlc3QuY29kZUJsb2Nrcy5tYXAoYmxvY2sgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGNvZGU6IGJsb2NrLmNvZGUsXG5cdFx0XHRcdFx0cmVzb3VyY2U6IFVSSS5yZXZpdmUoYmxvY2sucmVzb3VyY2UpLFxuXHRcdFx0XHRcdG1hcmtkb3duQmVmb3JlQmxvY2s6IGJsb2NrLm1hcmtkb3duQmVmb3JlQmxvY2tcblx0XHRcdFx0fTtcblx0XHRcdH0pXG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb3ZpZGVyLnByb3ZpZGVNYXBwZWRFZGl0cyhyZXF1ZXN0LCBzdHJlYW0sIHRva2VuKTtcblx0XHRyZXR1cm4gcmVzdWx0ID8/IG51bGw7XG5cdH1cblxuXHRyZWdpc3Rlck1hcHBlZEVkaXRzUHJvdmlkZXIoZXh0ZW5zaW9uOiBJRXh0ZW5zaW9uRGVzY3JpcHRpb24sIHByb3ZpZGVyOiB2c2NvZGUuTWFwcGVkRWRpdHNQcm92aWRlcjIpOiB2c2NvZGUuRGlzcG9zYWJsZSB7XG5cdFx0Y29uc3QgaGFuZGxlID0gRXh0SG9zdENvZGVNYXBwZXIuX3Byb3ZpZGVySGFuZGxlUG9vbCsrO1xuXHRcdHRoaXMuX3Byb3h5LiRyZWdpc3RlckNvZGVNYXBwZXJQcm92aWRlcihoYW5kbGUsIGV4dGVuc2lvbi5kaXNwbGF5TmFtZSA/PyBleHRlbnNpb24ubmFtZSk7XG5cdFx0dGhpcy5wcm92aWRlcnMuc2V0KGhhbmRsZSwgcHJvdmlkZXIpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRkaXNwb3NlOiAoKSA9PiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wcm94eS4kdW5yZWdpc3RlckNvZGVNYXBwZXJQcm92aWRlcihoYW5kbGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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