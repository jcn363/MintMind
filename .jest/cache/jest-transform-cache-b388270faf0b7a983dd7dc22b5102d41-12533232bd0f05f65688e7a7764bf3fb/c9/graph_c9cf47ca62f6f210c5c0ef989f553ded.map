{"version":3,"names":["DirectedGraph","_nodes","cov_np1wkb8e9","s","Set","_outgoingEdges","Map","from","nodes","getOutgoing","f","graph","node","add","outgoing","length","b","outgoingSet","target","set","removeCycles","foundCycles","visited","recursionStack","toRemove","dfs","get","neighbor","has","push","to","delete","Array"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/graph.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport class DirectedGraph<T> {\n\tprivate readonly _nodes = new Set<T>();\n\tprivate readonly _outgoingEdges = new Map<T, Set<T>>();\n\n\tpublic static from<T>(nodes: readonly T[], getOutgoing: (node: T) => readonly T[]): DirectedGraph<T> {\n\t\tconst graph = new DirectedGraph<T>();\n\n\t\tfor (const node of nodes) {\n\t\t\tgraph._nodes.add(node);\n\t\t}\n\n\t\tfor (const node of nodes) {\n\t\t\tconst outgoing = getOutgoing(node);\n\t\t\tif (outgoing.length > 0) {\n\t\t\t\tconst outgoingSet = new Set<T>();\n\t\t\t\tfor (const target of outgoing) {\n\t\t\t\t\toutgoingSet.add(target);\n\t\t\t\t}\n\t\t\t\tgraph._outgoingEdges.set(node, outgoingSet);\n\t\t\t}\n\t\t}\n\n\t\treturn graph;\n\t}\n\n\t/**\n\t * After this, the graph is guaranteed to have no cycles.\n\t */\n\tremoveCycles(): { foundCycles: T[] } {\n\t\tconst foundCycles: T[] = [];\n\t\tconst visited = new Set<T>();\n\t\tconst recursionStack = new Set<T>();\n\t\tconst toRemove: Array<{ from: T; to: T }> = [];\n\n\t\tconst dfs = (node: T): void => {\n\t\t\tvisited.add(node);\n\t\t\trecursionStack.add(node);\n\n\t\t\tconst outgoing = this._outgoingEdges.get(node);\n\t\t\tif (outgoing) {\n\t\t\t\tfor (const neighbor of outgoing) {\n\t\t\t\t\tif (!visited.has(neighbor)) {\n\t\t\t\t\t\tdfs(neighbor);\n\t\t\t\t\t} else if (recursionStack.has(neighbor)) {\n\t\t\t\t\t\t// Found a cycle\n\t\t\t\t\t\tfoundCycles.push(neighbor);\n\t\t\t\t\t\ttoRemove.push({ from: node, to: neighbor });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\trecursionStack.delete(node);\n\t\t};\n\n\t\t// Run DFS from all unvisited nodes\n\t\tfor (const node of this._nodes) {\n\t\t\tif (!visited.has(node)) {\n\t\t\t\tdfs(node);\n\t\t\t}\n\t\t}\n\n\t\t// Remove edges that cause cycles\n\t\tfor (const { from, to } of toRemove) {\n\t\t\tconst outgoingSet = this._outgoingEdges.get(from);\n\t\t\tif (outgoingSet) {\n\t\t\t\toutgoingSet.delete(to);\n\t\t\t}\n\t\t}\n\n\t\treturn { foundCycles };\n\t}\n\n\tgetOutgoing(node: T): readonly T[] {\n\t\tconst outgoing = this._outgoingEdges.get(node);\n\t\treturn outgoing ? Array.from(outgoing) : [];\n\t}\n}\n"],"mappings":"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","ignoreList":[]}