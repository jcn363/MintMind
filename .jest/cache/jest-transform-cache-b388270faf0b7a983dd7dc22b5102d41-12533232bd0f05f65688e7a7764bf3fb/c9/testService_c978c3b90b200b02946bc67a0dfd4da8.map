{"version":3,"names":["cov_1hobg8nw4y","actualCoverage","timeout","Emitter","TestService","_onMarco","s","onMarco","event","marco","f","fire","answer","Promise","resolve","pong","ping","incoming","outgoing","cancelMe","then","TestChannel","testService","constructor","listen","_","b","Error","call","command","args","reject","TestServiceClient","channel"],"sources":["/home/user/Desktop/MintMind/src/vs/base/parts/ipc/test/node/testService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { timeout } from '../../../../common/async.js';\nimport { Emitter, Event } from '../../../../common/event.js';\nimport { IChannel, IServerChannel } from '../../common/ipc.js';\n\nexport interface IMarcoPoloEvent {\n\tanswer: string;\n}\n\nexport interface ITestService {\n\treadonly onMarco: Event<IMarcoPoloEvent>;\n\tmarco(): Promise<string>;\n\tpong(ping: string): Promise<{ incoming: string; outgoing: string }>;\n\tcancelMe(): Promise<boolean>;\n}\n\nexport class TestService implements ITestService {\n\n\tprivate readonly _onMarco = new Emitter<IMarcoPoloEvent>();\n\treadonly onMarco: Event<IMarcoPoloEvent> = this._onMarco.event;\n\n\tmarco(): Promise<string> {\n\t\tthis._onMarco.fire({ answer: 'polo' });\n\t\treturn Promise.resolve('polo');\n\t}\n\n\tpong(ping: string): Promise<{ incoming: string; outgoing: string }> {\n\t\treturn Promise.resolve({ incoming: ping, outgoing: 'pong' });\n\t}\n\n\tcancelMe(): Promise<boolean> {\n\t\treturn Promise.resolve(timeout(100)).then(() => true);\n\t}\n}\n\nexport class TestChannel implements IServerChannel {\n\n\tconstructor(private testService: ITestService) { }\n\n\tlisten(_: unknown, event: string): Event<any> {\n\t\tswitch (event) {\n\t\t\tcase 'marco': return this.testService.onMarco;\n\t\t}\n\n\t\tthrow new Error('Event not found');\n\t}\n\n\tcall(_: unknown, command: string, ...args: any[]): Promise<any> {\n\t\tswitch (command) {\n\t\t\tcase 'pong': return this.testService.pong(args[0]);\n\t\t\tcase 'cancelMe': return this.testService.cancelMe();\n\t\t\tcase 'marco': return this.testService.marco();\n\t\t\tdefault: return Promise.reject(new Error(`command not found: ${command}`));\n\t\t}\n\t}\n}\n\nexport class TestServiceClient implements ITestService {\n\n\tget onMarco(): Event<IMarcoPoloEvent> { return this.channel.listen('marco'); }\n\n\tconstructor(private channel: IChannel) { }\n\n\tmarco(): Promise<string> {\n\t\treturn this.channel.call('marco');\n\t}\n\n\tpong(ping: string): Promise<{ incoming: string; outgoing: string }> {\n\t\treturn this.channel.call('pong', ping);\n\t}\n\n\tcancelMe(): Promise<boolean> {\n\t\treturn this.channel.call('cancelMe');\n\t}\n}\n"],"mappings":"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","ignoreList":[]}