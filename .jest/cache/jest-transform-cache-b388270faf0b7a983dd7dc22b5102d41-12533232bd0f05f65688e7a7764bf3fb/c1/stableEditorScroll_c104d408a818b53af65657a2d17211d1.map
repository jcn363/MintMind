{"version":3,"names":["cov_rph9uos5p","actualCoverage","StableEditorScrollState","_initialScrollTop","_initialContentHeight","_visiblePosition","_visiblePositionScrollDelta","_cursorPosition","capture","editor","f","s","b","getScrollTop","hasPendingScrollAnimation","getContentHeight","visiblePosition","visiblePositionScrollDelta","visibleRanges","getVisibleRanges","length","getStartPosition","visiblePositionScrollTop","getTopForPosition","lineNumber","column","getPosition","constructor","restore","setScrollTop","restoreRelativeVerticalPositionOfCursor","currentCursorPosition","offset","getTopForLineNumber","StableEditorBottomScrollState","at","getEndPosition","visiblePositionScrollBottom","getBottomForLineNumber"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/stableEditorScroll.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from './editorBrowser.js';\nimport { Position } from '../common/core/position.js';\nimport { ScrollType } from '../common/editorCommon.js';\n\nexport class StableEditorScrollState {\n\n\tpublic static capture(editor: ICodeEditor): StableEditorScrollState {\n\t\tif (editor.getScrollTop() === 0 || editor.hasPendingScrollAnimation()) {\n\t\t\t// Never mess with the scroll top if the editor is at the top of the file or if there is a pending scroll animation\n\t\t\treturn new StableEditorScrollState(editor.getScrollTop(), editor.getContentHeight(), null, 0, null);\n\t\t}\n\n\t\tlet visiblePosition: Position | null = null;\n\t\tlet visiblePositionScrollDelta = 0;\n\t\tconst visibleRanges = editor.getVisibleRanges();\n\t\tif (visibleRanges.length > 0) {\n\t\t\tvisiblePosition = visibleRanges[0].getStartPosition();\n\t\t\tconst visiblePositionScrollTop = editor.getTopForPosition(visiblePosition.lineNumber, visiblePosition.column);\n\t\t\tvisiblePositionScrollDelta = editor.getScrollTop() - visiblePositionScrollTop;\n\t\t}\n\t\treturn new StableEditorScrollState(editor.getScrollTop(), editor.getContentHeight(), visiblePosition, visiblePositionScrollDelta, editor.getPosition());\n\t}\n\n\tconstructor(\n\t\tprivate readonly _initialScrollTop: number,\n\t\tprivate readonly _initialContentHeight: number,\n\t\tprivate readonly _visiblePosition: Position | null,\n\t\tprivate readonly _visiblePositionScrollDelta: number,\n\t\tprivate readonly _cursorPosition: Position | null,\n\t) {\n\t}\n\n\tpublic restore(editor: ICodeEditor): void {\n\t\tif (this._initialContentHeight === editor.getContentHeight() && this._initialScrollTop === editor.getScrollTop()) {\n\t\t\t// The editor's content height and scroll top haven't changed, so we don't need to do anything\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._visiblePosition) {\n\t\t\tconst visiblePositionScrollTop = editor.getTopForPosition(this._visiblePosition.lineNumber, this._visiblePosition.column);\n\t\t\teditor.setScrollTop(visiblePositionScrollTop + this._visiblePositionScrollDelta);\n\t\t}\n\t}\n\n\tpublic restoreRelativeVerticalPositionOfCursor(editor: ICodeEditor): void {\n\t\tif (this._initialContentHeight === editor.getContentHeight() && this._initialScrollTop === editor.getScrollTop()) {\n\t\t\t// The editor's content height and scroll top haven't changed, so we don't need to do anything\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentCursorPosition = editor.getPosition();\n\n\t\tif (!this._cursorPosition || !currentCursorPosition) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst offset = editor.getTopForLineNumber(currentCursorPosition.lineNumber) - editor.getTopForLineNumber(this._cursorPosition.lineNumber);\n\t\teditor.setScrollTop(editor.getScrollTop() + offset, ScrollType.Immediate);\n\t}\n}\n\n\nexport class StableEditorBottomScrollState {\n\n\tpublic static capture(editor: ICodeEditor): StableEditorBottomScrollState {\n\t\tif (editor.hasPendingScrollAnimation()) {\n\t\t\t// Never mess with the scroll if there is a pending scroll animation\n\t\t\treturn new StableEditorBottomScrollState(editor.getScrollTop(), editor.getContentHeight(), null, 0);\n\t\t}\n\n\t\tlet visiblePosition: Position | null = null;\n\t\tlet visiblePositionScrollDelta = 0;\n\t\tconst visibleRanges = editor.getVisibleRanges();\n\t\tif (visibleRanges.length > 0) {\n\t\t\tvisiblePosition = visibleRanges.at(-1)!.getEndPosition();\n\t\t\tconst visiblePositionScrollBottom = editor.getBottomForLineNumber(visiblePosition.lineNumber);\n\t\t\tvisiblePositionScrollDelta = visiblePositionScrollBottom - editor.getScrollTop();\n\t\t}\n\t\treturn new StableEditorBottomScrollState(editor.getScrollTop(), editor.getContentHeight(), visiblePosition, visiblePositionScrollDelta);\n\t}\n\n\tconstructor(\n\t\tprivate readonly _initialScrollTop: number,\n\t\tprivate readonly _initialContentHeight: number,\n\t\tprivate readonly _visiblePosition: Position | null,\n\t\tprivate readonly _visiblePositionScrollDelta: number,\n\t) {\n\t}\n\n\tpublic restore(editor: ICodeEditor): void {\n\t\tif (this._initialContentHeight === editor.getContentHeight() && this._initialScrollTop === editor.getScrollTop()) {\n\t\t\t// The editor's content height and scroll top haven't changed, so we don't need to do anything\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._visiblePosition) {\n\t\t\tconst visiblePositionScrollBottom = editor.getBottomForLineNumber(this._visiblePosition.lineNumber);\n\t\t\teditor.setScrollTop(visiblePositionScrollBottom - this._visiblePositionScrollDelta, ScrollType.Immediate);\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}