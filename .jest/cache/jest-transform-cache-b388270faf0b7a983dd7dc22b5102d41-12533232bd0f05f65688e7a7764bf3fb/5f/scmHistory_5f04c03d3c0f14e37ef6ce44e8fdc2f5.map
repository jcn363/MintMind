{"version":3,"names":["cov_2chbrgy41x","actualCoverage","localize","deepClone","badgeBackground","chartsBlue","chartsPurple","foreground","asCssVariable","registerColor","SCMIncomingHistoryItemId","SCMOutgoingHistoryItemId","rot","svgElem","PANEL_BACKGROUND","findLastIdx","SWIMLANE_HEIGHT","s","SWIMLANE_WIDTH","SWIMLANE_CURVE_RADIUS","CIRCLE_RADIUS","CIRCLE_STROKE_WIDTH","historyItemRefColor","historyItemRemoteRefColor","historyItemBaseRefColor","historyItemHoverDefaultLabelForeground","historyItemHoverDefaultLabelBackground","historyItemHoverLabelForeground","historyItemHoverAdditionsForeground","light","dark","hcDark","hcLight","historyItemHoverDeletionsForeground","colorRegistry","getLabelColorIdentifier","historyItem","colorMap","f","ref","b","references","colorIdentifier","get","id","undefined","createPath","strokeWidth","path","document","createElementNS","setAttribute","style","stroke","drawCircle","index","radius","circle","fill","drawDashedCircle","strokeDasharray","drawVerticalLine","x1","y1","y2","color","findLastIndex","nodes","i","length","renderSCMHistoryItemGraph","historyItemViewModel","svg","classList","add","inputSwimlanes","outputSwimlanes","inputIndex","findIndex","node","circleIndex","circleColor","outputSwimlaneIndex","d","push","join","append","parentIds","parentOutputIndex","kind","outerCircle","innerCircle","dashedCircle","circleOuter","circleInner","height","width","Math","max","renderSCMHistoryGraphPlaceholder","columns","highlightIndex","elements","root","toISCMHistoryItemViewModelArray","historyItems","Map","currentHistoryItemRef","currentHistoryItemRemoteRef","currentHistoryItemBaseRef","addIncomingChanges","addOutgoingChanges","mergeBase","colorIndex","viewModels","revision","outputSwimlanesFromPreviousItem","at","map","firstParentAdded","historyItemParent","find","h","has","sort","ref1","ref2","compareHistoryItemRefs","beforeHistoryItemIndex","vm","some","afterHistoryItemIndex","displayIdLength","displayId","incomingChangesHistoryItem","repeat","author","name","subject","message","splice","slice","outgoingChangesHistoryItem","getHistoryItemIndex","getHistoryItemRefOrder","ref1Order","ref2Order"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/scm/browser/scmHistory.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { deepClone } from '../../../../base/common/objects.js';\nimport { badgeBackground, chartsBlue, chartsPurple, foreground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { asCssVariable, ColorIdentifier, registerColor } from '../../../../platform/theme/common/colorUtils.js';\nimport { ISCMHistoryItem, ISCMHistoryItemGraphNode, ISCMHistoryItemRef, ISCMHistoryItemViewModel, SCMIncomingHistoryItemId, SCMOutgoingHistoryItemId } from '../common/history.js';\nimport { rot } from '../../../../base/common/numbers.js';\nimport { svgElem } from '../../../../base/browser/dom.js';\nimport { PANEL_BACKGROUND } from '../../../common/theme.js';\nimport { findLastIdx } from '../../../../base/common/arraysFind.js';\n\nexport const SWIMLANE_HEIGHT = 22;\nexport const SWIMLANE_WIDTH = 11;\nconst SWIMLANE_CURVE_RADIUS = 5;\nconst CIRCLE_RADIUS = 4;\nconst CIRCLE_STROKE_WIDTH = 2;\n\n/**\n * History item reference colors (local, remote, base)\n */\nexport const historyItemRefColor = registerColor('scmGraph.historyItemRefColor', chartsBlue, localize('scmGraphHistoryItemRefColor', \"History item reference color.\"));\nexport const historyItemRemoteRefColor = registerColor('scmGraph.historyItemRemoteRefColor', chartsPurple, localize('scmGraphHistoryItemRemoteRefColor', \"History item remote reference color.\"));\nexport const historyItemBaseRefColor = registerColor('scmGraph.historyItemBaseRefColor', '#EA5C00', localize('scmGraphHistoryItemBaseRefColor', \"History item base reference color.\"));\n\n/**\n * History item hover color\n */\nexport const historyItemHoverDefaultLabelForeground = registerColor('scmGraph.historyItemHoverDefaultLabelForeground', foreground, localize('scmGraphHistoryItemHoverDefaultLabelForeground', \"History item hover default label foreground color.\"));\nexport const historyItemHoverDefaultLabelBackground = registerColor('scmGraph.historyItemHoverDefaultLabelBackground', badgeBackground, localize('scmGraphHistoryItemHoverDefaultLabelBackground', \"History item hover default label background color.\"));\nexport const historyItemHoverLabelForeground = registerColor('scmGraph.historyItemHoverLabelForeground', PANEL_BACKGROUND, localize('scmGraphHistoryItemHoverLabelForeground', \"History item hover label foreground color.\"));\nexport const historyItemHoverAdditionsForeground = registerColor('scmGraph.historyItemHoverAdditionsForeground', { light: '#587C0C', dark: '#81B88B', hcDark: '#A1E3AD', hcLight: '#374E06' }, localize('scmGraph.HistoryItemHoverAdditionsForeground', \"History item hover additions foreground color.\"));\nexport const historyItemHoverDeletionsForeground = registerColor('scmGraph.historyItemHoverDeletionsForeground', { light: '#AD0707', dark: '#C74E39', hcDark: '#C74E39', hcLight: '#AD0707' }, localize('scmGraph.HistoryItemHoverDeletionsForeground', \"History item hover deletions foreground color.\"));\n\n/**\n * History graph color registry\n */\nexport const colorRegistry: ColorIdentifier[] = [\n\tregisterColor('scmGraph.foreground1', '#FFB000', localize('scmGraphForeground1', \"Source control graph foreground color (1).\")),\n\tregisterColor('scmGraph.foreground2', '#DC267F', localize('scmGraphForeground2', \"Source control graph foreground color (2).\")),\n\tregisterColor('scmGraph.foreground3', '#994F00', localize('scmGraphForeground3', \"Source control graph foreground color (3).\")),\n\tregisterColor('scmGraph.foreground4', '#40B0A6', localize('scmGraphForeground4', \"Source control graph foreground color (4).\")),\n\tregisterColor('scmGraph.foreground5', '#B66DFF', localize('scmGraphForeground5', \"Source control graph foreground color (5).\")),\n];\n\nfunction getLabelColorIdentifier(historyItem: ISCMHistoryItem, colorMap: Map<string, ColorIdentifier | undefined>): ColorIdentifier | undefined {\n\tfor (const ref of historyItem.references ?? []) {\n\t\tconst colorIdentifier = colorMap.get(ref.id);\n\t\tif (colorIdentifier !== undefined) {\n\t\t\treturn colorIdentifier;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nfunction createPath(colorIdentifier: string, strokeWidth = 1): SVGPathElement {\n\tconst path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\tpath.setAttribute('fill', 'none');\n\tpath.setAttribute('stroke-width', `${strokeWidth}px`);\n\tpath.setAttribute('stroke-linecap', 'round');\n\tpath.style.stroke = asCssVariable(colorIdentifier);\n\n\treturn path;\n}\n\nfunction drawCircle(index: number, radius: number, strokeWidth: number, colorIdentifier?: string): SVGCircleElement {\n\tconst circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\tcircle.setAttribute('cx', `${SWIMLANE_WIDTH * (index + 1)}`);\n\tcircle.setAttribute('cy', `${SWIMLANE_WIDTH}`);\n\tcircle.setAttribute('r', `${radius}`);\n\n\tcircle.style.strokeWidth = `${strokeWidth}px`;\n\tif (colorIdentifier) {\n\t\tcircle.style.fill = asCssVariable(colorIdentifier);\n\t}\n\n\treturn circle;\n}\n\nfunction drawDashedCircle(index: number, radius: number, strokeWidth: number, colorIdentifier: string): SVGCircleElement {\n\tconst circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n\tcircle.setAttribute('cx', `${SWIMLANE_WIDTH * (index + 1)}`);\n\tcircle.setAttribute('cy', `${SWIMLANE_WIDTH}`);\n\tcircle.setAttribute('r', `${CIRCLE_RADIUS + 1}`);\n\n\tcircle.style.stroke = asCssVariable(colorIdentifier);\n\tcircle.style.strokeWidth = `${strokeWidth}px`;\n\tcircle.style.strokeDasharray = '4,2';\n\n\treturn circle;\n}\n\nfunction drawVerticalLine(x1: number, y1: number, y2: number, color: string, strokeWidth = 1): SVGPathElement {\n\tconst path = createPath(color, strokeWidth);\n\tpath.setAttribute('d', `M ${x1} ${y1} V ${y2}`);\n\n\treturn path;\n}\n\nfunction findLastIndex(nodes: ISCMHistoryItemGraphNode[], id: string): number {\n\tfor (let i = nodes.length - 1; i >= 0; i--) {\n\t\tif (nodes[i].id === id) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\nexport function renderSCMHistoryItemGraph(historyItemViewModel: ISCMHistoryItemViewModel): SVGElement {\n\tconst svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\tsvg.classList.add('graph');\n\n\tconst historyItem = historyItemViewModel.historyItem;\n\tconst inputSwimlanes = historyItemViewModel.inputSwimlanes;\n\tconst outputSwimlanes = historyItemViewModel.outputSwimlanes;\n\n\t// Find the history item in the input swimlanes\n\tconst inputIndex = inputSwimlanes.findIndex(node => node.id === historyItem.id);\n\n\t// Circle index - use the input swimlane index if present, otherwise add it to the end\n\tconst circleIndex = inputIndex !== -1 ? inputIndex : inputSwimlanes.length;\n\n\t// Circle color - use the output swimlane color if present, otherwise the input swimlane color\n\tconst circleColor = circleIndex < outputSwimlanes.length ? outputSwimlanes[circleIndex].color :\n\t\tcircleIndex < inputSwimlanes.length ? inputSwimlanes[circleIndex].color : historyItemRefColor;\n\n\tlet outputSwimlaneIndex = 0;\n\tfor (let index = 0; index < inputSwimlanes.length; index++) {\n\t\tconst color = inputSwimlanes[index].color;\n\n\t\t// Current commit\n\t\tif (inputSwimlanes[index].id === historyItem.id) {\n\t\t\t// Base commit\n\t\t\tif (index !== circleIndex) {\n\t\t\t\tconst d: string[] = [];\n\t\t\t\tconst path = createPath(color);\n\n\t\t\t\t// Draw /\n\t\t\t\td.push(`M ${SWIMLANE_WIDTH * (index + 1)} 0`);\n\t\t\t\td.push(`A ${SWIMLANE_WIDTH} ${SWIMLANE_WIDTH} 0 0 1 ${SWIMLANE_WIDTH * (index)} ${SWIMLANE_WIDTH}`);\n\n\t\t\t\t// Draw -\n\t\t\t\td.push(`H ${SWIMLANE_WIDTH * (circleIndex + 1)}`);\n\n\t\t\t\tpath.setAttribute('d', d.join(' '));\n\t\t\t\tsvg.append(path);\n\t\t\t} else {\n\t\t\t\toutputSwimlaneIndex++;\n\t\t\t}\n\t\t} else {\n\t\t\t// Not the current commit\n\t\t\tif (outputSwimlaneIndex < outputSwimlanes.length &&\n\t\t\t\tinputSwimlanes[index].id === outputSwimlanes[outputSwimlaneIndex].id) {\n\t\t\t\tif (index === outputSwimlaneIndex) {\n\t\t\t\t\t// Draw |\n\t\t\t\t\tconst path = drawVerticalLine(SWIMLANE_WIDTH * (index + 1), 0, SWIMLANE_HEIGHT, color);\n\t\t\t\t\tsvg.append(path);\n\t\t\t\t} else {\n\t\t\t\t\tconst d: string[] = [];\n\t\t\t\t\tconst path = createPath(color);\n\n\t\t\t\t\t// Draw |\n\t\t\t\t\td.push(`M ${SWIMLANE_WIDTH * (index + 1)} 0`);\n\t\t\t\t\td.push(`V 6`);\n\n\t\t\t\t\t// Draw /\n\t\t\t\t\td.push(`A ${SWIMLANE_CURVE_RADIUS} ${SWIMLANE_CURVE_RADIUS} 0 0 1 ${(SWIMLANE_WIDTH * (index + 1)) - SWIMLANE_CURVE_RADIUS} ${SWIMLANE_HEIGHT / 2}`);\n\n\t\t\t\t\t// Draw -\n\t\t\t\t\td.push(`H ${(SWIMLANE_WIDTH * (outputSwimlaneIndex + 1)) + SWIMLANE_CURVE_RADIUS}`);\n\n\t\t\t\t\t// Draw /\n\t\t\t\t\td.push(`A ${SWIMLANE_CURVE_RADIUS} ${SWIMLANE_CURVE_RADIUS} 0 0 0 ${SWIMLANE_WIDTH * (outputSwimlaneIndex + 1)} ${(SWIMLANE_HEIGHT / 2) + SWIMLANE_CURVE_RADIUS}`);\n\n\t\t\t\t\t// Draw |\n\t\t\t\t\td.push(`V ${SWIMLANE_HEIGHT}`);\n\n\t\t\t\t\tpath.setAttribute('d', d.join(' '));\n\t\t\t\t\tsvg.append(path);\n\t\t\t\t}\n\n\t\t\t\toutputSwimlaneIndex++;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Add remaining parent(s)\n\tfor (let i = 1; i < historyItem.parentIds.length; i++) {\n\t\tconst parentOutputIndex = findLastIndex(outputSwimlanes, historyItem.parentIds[i]);\n\t\tif (parentOutputIndex === -1) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Draw -\\\n\t\tconst d: string[] = [];\n\t\tconst path = createPath(outputSwimlanes[parentOutputIndex].color);\n\n\t\t// Draw \\\n\t\td.push(`M ${SWIMLANE_WIDTH * parentOutputIndex} ${SWIMLANE_HEIGHT / 2}`);\n\t\td.push(`A ${SWIMLANE_WIDTH} ${SWIMLANE_WIDTH} 0 0 1 ${SWIMLANE_WIDTH * (parentOutputIndex + 1)} ${SWIMLANE_HEIGHT}`);\n\n\t\t// Draw -\n\t\td.push(`M ${SWIMLANE_WIDTH * parentOutputIndex} ${SWIMLANE_HEIGHT / 2}`);\n\t\td.push(`H ${SWIMLANE_WIDTH * (circleIndex + 1)} `);\n\n\t\tpath.setAttribute('d', d.join(' '));\n\t\tsvg.append(path);\n\t}\n\n\t// Draw | to *\n\tif (inputIndex !== -1) {\n\t\tconst path = drawVerticalLine(SWIMLANE_WIDTH * (circleIndex + 1), 0, SWIMLANE_HEIGHT / 2, inputSwimlanes[inputIndex].color);\n\t\tsvg.append(path);\n\t}\n\n\t// Draw | from *\n\tif (historyItem.parentIds.length > 0) {\n\t\tconst path = drawVerticalLine(SWIMLANE_WIDTH * (circleIndex + 1), SWIMLANE_HEIGHT / 2, SWIMLANE_HEIGHT, circleColor);\n\t\tsvg.append(path);\n\t}\n\n\t// Draw *\n\tif (historyItemViewModel.kind === 'HEAD') {\n\t\t// HEAD\n\t\tconst outerCircle = drawCircle(circleIndex, CIRCLE_RADIUS + 3, CIRCLE_STROKE_WIDTH, circleColor);\n\t\tsvg.append(outerCircle);\n\n\t\tconst innerCircle = drawCircle(circleIndex, CIRCLE_STROKE_WIDTH, CIRCLE_RADIUS);\n\t\tsvg.append(innerCircle);\n\t} else if (historyItemViewModel.kind === 'incoming-changes' || historyItemViewModel.kind === 'outgoing-changes') {\n\t\t// Incoming/Outgoing changes\n\t\tconst outerCircle = drawCircle(circleIndex, CIRCLE_RADIUS + 3, CIRCLE_STROKE_WIDTH, circleColor);\n\t\tsvg.append(outerCircle);\n\n\t\tconst innerCircle = drawCircle(circleIndex, CIRCLE_RADIUS + 1, CIRCLE_STROKE_WIDTH + 1);\n\t\tsvg.append(innerCircle);\n\n\t\tconst dashedCircle = drawDashedCircle(circleIndex, CIRCLE_RADIUS + 1, CIRCLE_STROKE_WIDTH - 1, circleColor);\n\t\tsvg.append(dashedCircle);\n\t} else {\n\t\tif (historyItem.parentIds.length > 1) {\n\t\t\t// Multi-parent node\n\t\t\tconst circleOuter = drawCircle(circleIndex, CIRCLE_RADIUS + 2, CIRCLE_STROKE_WIDTH, circleColor);\n\t\t\tsvg.append(circleOuter);\n\n\t\t\tconst circleInner = drawCircle(circleIndex, CIRCLE_RADIUS - 1, CIRCLE_STROKE_WIDTH, circleColor);\n\t\t\tsvg.append(circleInner);\n\t\t} else {\n\t\t\t// Node\n\t\t\tconst circle = drawCircle(circleIndex, CIRCLE_RADIUS + 1, CIRCLE_STROKE_WIDTH, circleColor);\n\t\t\tsvg.append(circle);\n\t\t}\n\t}\n\n\t// Set dimensions\n\tsvg.style.height = `${SWIMLANE_HEIGHT}px`;\n\tsvg.style.width = `${SWIMLANE_WIDTH * (Math.max(inputSwimlanes.length, outputSwimlanes.length, 1) + 1)}px`;\n\n\treturn svg;\n}\n\nexport function renderSCMHistoryGraphPlaceholder(columns: ISCMHistoryItemGraphNode[], highlightIndex?: number): HTMLElement {\n\tconst elements = svgElem('svg', {\n\t\tstyle: { height: `${SWIMLANE_HEIGHT}px`, width: `${SWIMLANE_WIDTH * (columns.length + 1)}px`, }\n\t});\n\n\t// Draw |\n\tfor (let index = 0; index < columns.length; index++) {\n\t\tconst strokeWidth = index === highlightIndex ? 3 : 1;\n\t\tconst path = drawVerticalLine(SWIMLANE_WIDTH * (index + 1), 0, SWIMLANE_HEIGHT, columns[index].color, strokeWidth);\n\t\telements.root.append(path);\n\t}\n\n\treturn elements.root;\n}\n\nexport function toISCMHistoryItemViewModelArray(\n\thistoryItems: ISCMHistoryItem[],\n\tcolorMap = new Map<string, ColorIdentifier | undefined>(),\n\tcurrentHistoryItemRef?: ISCMHistoryItemRef,\n\tcurrentHistoryItemRemoteRef?: ISCMHistoryItemRef,\n\tcurrentHistoryItemBaseRef?: ISCMHistoryItemRef,\n\taddIncomingChanges?: boolean,\n\taddOutgoingChanges?: boolean,\n\tmergeBase?: string\n): ISCMHistoryItemViewModel[] {\n\tlet colorIndex = -1;\n\tconst viewModels: ISCMHistoryItemViewModel[] = [];\n\n\tfor (let index = 0; index < historyItems.length; index++) {\n\t\tconst historyItem = historyItems[index];\n\n\t\tconst kind = historyItem.id === currentHistoryItemRef?.revision ? 'HEAD' : 'node';\n\t\tconst outputSwimlanesFromPreviousItem = viewModels.at(-1)?.outputSwimlanes ?? [];\n\t\tconst inputSwimlanes = outputSwimlanesFromPreviousItem.map(i => deepClone(i));\n\t\tconst outputSwimlanes: ISCMHistoryItemGraphNode[] = [];\n\n\t\tlet firstParentAdded = false;\n\n\t\t// Add first parent to the output\n\t\tif (historyItem.parentIds.length > 0) {\n\t\t\tfor (const node of inputSwimlanes) {\n\t\t\t\tif (node.id === historyItem.id) {\n\t\t\t\t\tif (!firstParentAdded) {\n\t\t\t\t\t\toutputSwimlanes.push({\n\t\t\t\t\t\t\tid: historyItem.parentIds[0],\n\t\t\t\t\t\t\tcolor: getLabelColorIdentifier(historyItem, colorMap) ?? node.color\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfirstParentAdded = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\toutputSwimlanes.push(deepClone(node));\n\t\t\t}\n\t\t}\n\n\t\t// Add unprocessed parent(s) to the output\n\t\tfor (let i = firstParentAdded ? 1 : 0; i < historyItem.parentIds.length; i++) {\n\t\t\t// Color index (label -> next color)\n\t\t\tlet colorIdentifier: string | undefined;\n\n\t\t\tif (i === 0) {\n\t\t\t\tcolorIdentifier = getLabelColorIdentifier(historyItem, colorMap);\n\t\t\t} else {\n\t\t\t\tconst historyItemParent = historyItems\n\t\t\t\t\t.find(h => h.id === historyItem.parentIds[i]);\n\t\t\t\tcolorIdentifier = historyItemParent ? getLabelColorIdentifier(historyItemParent, colorMap) : undefined;\n\t\t\t}\n\n\t\t\tif (!colorIdentifier) {\n\t\t\t\tcolorIndex = rot(colorIndex + 1, colorRegistry.length);\n\t\t\t\tcolorIdentifier = colorRegistry[colorIndex];\n\t\t\t}\n\n\t\t\toutputSwimlanes.push({\n\t\t\t\tid: historyItem.parentIds[i],\n\t\t\t\tcolor: colorIdentifier\n\t\t\t});\n\t\t}\n\n\t\t// Add colors to references\n\t\tconst references = (historyItem.references ?? [])\n\t\t\t.map(ref => {\n\t\t\t\tlet color = colorMap.get(ref.id);\n\t\t\t\tif (colorMap.has(ref.id) && color === undefined) {\n\t\t\t\t\t// Find the history item in the input swimlanes\n\t\t\t\t\tconst inputIndex = inputSwimlanes.findIndex(node => node.id === historyItem.id);\n\n\t\t\t\t\t// Circle index - use the input swimlane index if present, otherwise add it to the end\n\t\t\t\t\tconst circleIndex = inputIndex !== -1 ? inputIndex : inputSwimlanes.length;\n\n\t\t\t\t\t// Circle color - use the output swimlane color if present, otherwise the input swimlane color\n\t\t\t\t\tcolor = circleIndex < outputSwimlanes.length ? outputSwimlanes[circleIndex].color :\n\t\t\t\t\t\tcircleIndex < inputSwimlanes.length ? inputSwimlanes[circleIndex].color : historyItemRefColor;\n\t\t\t\t}\n\n\t\t\t\treturn { ...ref, color };\n\t\t\t});\n\n\t\t// Sort references\n\t\treferences.sort((ref1, ref2) =>\n\t\t\tcompareHistoryItemRefs(ref1, ref2, currentHistoryItemRef, currentHistoryItemRemoteRef, currentHistoryItemBaseRef));\n\n\t\tviewModels.push({\n\t\t\thistoryItem: {\n\t\t\t\t...historyItem,\n\t\t\t\treferences\n\t\t\t},\n\t\t\tkind,\n\t\t\tinputSwimlanes,\n\t\t\toutputSwimlanes\n\t\t} satisfies ISCMHistoryItemViewModel);\n\t}\n\n\t// Inject incoming/outgoing changes nodes if ahead/behind and there is a merge base\n\tif (currentHistoryItemRef?.revision !== currentHistoryItemRemoteRef?.revision && mergeBase) {\n\t\t// Incoming changes node\n\t\tif (addIncomingChanges && currentHistoryItemRemoteRef && currentHistoryItemRemoteRef.revision !== mergeBase) {\n\t\t\t// Find the before/after indices using the merge base (might not be present if the merge base history item is not loaded yet)\n\t\t\tconst beforeHistoryItemIndex = findLastIdx(viewModels, vm => vm.outputSwimlanes.some(node => node.id === mergeBase));\n\t\t\tconst afterHistoryItemIndex = viewModels.findIndex(vm => vm.historyItem.id === mergeBase);\n\n\t\t\tif (beforeHistoryItemIndex !== -1 && afterHistoryItemIndex !== -1) {\n\t\t\t\t// Update the before node so that the incoming and outgoing swimlanes\n\t\t\t\t// point to the `incoming-changes` node instead of the merge base\n\t\t\t\tviewModels[beforeHistoryItemIndex] = {\n\t\t\t\t\t...viewModels[beforeHistoryItemIndex],\n\t\t\t\t\tinputSwimlanes: viewModels[beforeHistoryItemIndex].inputSwimlanes\n\t\t\t\t\t\t.map(node => {\n\t\t\t\t\t\t\treturn node.id === mergeBase && node.color === historyItemRemoteRefColor\n\t\t\t\t\t\t\t\t? { ...node, id: SCMIncomingHistoryItemId }\n\t\t\t\t\t\t\t\t: node;\n\t\t\t\t\t\t}),\n\t\t\t\t\toutputSwimlanes: viewModels[beforeHistoryItemIndex].outputSwimlanes\n\t\t\t\t\t\t.map(node => {\n\t\t\t\t\t\t\treturn node.id === mergeBase && node.color === historyItemRemoteRefColor\n\t\t\t\t\t\t\t\t? { ...node, id: SCMIncomingHistoryItemId }\n\t\t\t\t\t\t\t\t: node;\n\t\t\t\t\t\t})\n\t\t\t\t};\n\n\t\t\t\t// Create incoming changes node\n\t\t\t\tconst inputSwimlanes = viewModels[beforeHistoryItemIndex].outputSwimlanes.map(i => deepClone(i));\n\t\t\t\tconst outputSwimlanes = viewModels[afterHistoryItemIndex].inputSwimlanes.map(i => deepClone(i));\n\t\t\t\tconst displayIdLength = viewModels[0].historyItem.displayId?.length ?? 0;\n\n\t\t\t\tconst incomingChangesHistoryItem = {\n\t\t\t\t\tid: SCMIncomingHistoryItemId,\n\t\t\t\t\tdisplayId: '0'.repeat(displayIdLength),\n\t\t\t\t\tparentIds: [mergeBase],\n\t\t\t\t\tauthor: currentHistoryItemRemoteRef?.name,\n\t\t\t\t\tsubject: localize('incomingChanges', 'Incoming Changes'),\n\t\t\t\t\tmessage: ''\n\t\t\t\t} satisfies ISCMHistoryItem;\n\n\t\t\t\t// Insert incoming changes node\n\t\t\t\tviewModels.splice(afterHistoryItemIndex, 0, {\n\t\t\t\t\thistoryItem: incomingChangesHistoryItem,\n\t\t\t\t\tkind: 'incoming-changes',\n\t\t\t\t\tinputSwimlanes,\n\t\t\t\t\toutputSwimlanes\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Outgoing changes node\n\t\tif (addOutgoingChanges && currentHistoryItemRef?.revision && currentHistoryItemRef.revision !== mergeBase) {\n\t\t\t// Find the before/after indices using the merge base (might not be present if the current history item is not loaded yet)\n\t\t\tlet beforeHistoryItemIndex = findLastIdx(viewModels, vm => vm.outputSwimlanes.some(node => node.id === currentHistoryItemRef.revision));\n\t\t\tconst afterHistoryItemIndex = viewModels.findIndex(vm => vm.historyItem.id === currentHistoryItemRef.revision);\n\n\t\t\tif (afterHistoryItemIndex !== -1) {\n\t\t\t\tif (beforeHistoryItemIndex === -1 && afterHistoryItemIndex > 0) {\n\t\t\t\t\tbeforeHistoryItemIndex = afterHistoryItemIndex - 1;\n\t\t\t\t}\n\n\t\t\t\t// Update the after node to point to the `outgoing-changes` node\n\t\t\t\tviewModels[afterHistoryItemIndex].inputSwimlanes.push({\n\t\t\t\t\tid: currentHistoryItemRef.revision,\n\t\t\t\t\tcolor: historyItemRefColor\n\t\t\t\t});\n\n\t\t\t\tconst inputSwimlanes = beforeHistoryItemIndex !== -1\n\t\t\t\t\t? viewModels[beforeHistoryItemIndex].outputSwimlanes\n\t\t\t\t\t\t.map(node => {\n\t\t\t\t\t\t\treturn addIncomingChanges && node.id === mergeBase && node.color === historyItemRemoteRefColor\n\t\t\t\t\t\t\t\t? { ...node, id: SCMIncomingHistoryItemId }\n\t\t\t\t\t\t\t\t: node;\n\t\t\t\t\t\t})\n\t\t\t\t\t: [];\n\t\t\t\tconst outputSwimlanes = viewModels[afterHistoryItemIndex].inputSwimlanes.slice(0);\n\t\t\t\tconst displayIdLength = viewModels[0].historyItem.displayId?.length ?? 0;\n\n\t\t\t\tconst outgoingChangesHistoryItem = {\n\t\t\t\t\tid: SCMOutgoingHistoryItemId,\n\t\t\t\t\tdisplayId: '0'.repeat(displayIdLength),\n\t\t\t\t\tparentIds: [mergeBase],\n\t\t\t\t\tauthor: currentHistoryItemRef?.name,\n\t\t\t\t\tsubject: localize('outgoingChanges', 'Outgoing Changes'),\n\t\t\t\t\tmessage: ''\n\t\t\t\t} satisfies ISCMHistoryItem;\n\n\t\t\t\t// Insert outgoing changes node\n\t\t\t\tviewModels.splice(afterHistoryItemIndex, 0, {\n\t\t\t\t\thistoryItem: outgoingChangesHistoryItem,\n\t\t\t\t\tkind: 'outgoing-changes',\n\t\t\t\t\tinputSwimlanes,\n\t\t\t\t\toutputSwimlanes\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\treturn viewModels;\n}\n\nexport function getHistoryItemIndex(historyItemViewModel: ISCMHistoryItemViewModel): number {\n\tconst historyItem = historyItemViewModel.historyItem;\n\tconst inputSwimlanes = historyItemViewModel.inputSwimlanes;\n\n\t// Find the history item in the input swimlanes\n\tconst inputIndex = inputSwimlanes.findIndex(node => node.id === historyItem.id);\n\n\t// Circle index - use the input swimlane index if present, otherwise add it to the end\n\treturn inputIndex !== -1 ? inputIndex : inputSwimlanes.length;\n}\n\nexport function compareHistoryItemRefs(\n\tref1: ISCMHistoryItemRef,\n\tref2: ISCMHistoryItemRef,\n\tcurrentHistoryItemRef?: ISCMHistoryItemRef,\n\tcurrentHistoryItemRemoteRef?: ISCMHistoryItemRef,\n\tcurrentHistoryItemBaseRef?: ISCMHistoryItemRef\n): number {\n\tconst getHistoryItemRefOrder = (ref: ISCMHistoryItemRef) => {\n\t\tif (ref.id === currentHistoryItemRef?.id) {\n\t\t\treturn 1;\n\t\t} else if (ref.id === currentHistoryItemRemoteRef?.id) {\n\t\t\treturn 2;\n\t\t} else if (ref.id === currentHistoryItemBaseRef?.id) {\n\t\t\treturn 3;\n\t\t} else if (ref.color !== undefined) {\n\t\t\treturn 4;\n\t\t}\n\n\t\treturn 99;\n\t};\n\n\t// Assign order (current > remote > base > color)\n\tconst ref1Order = getHistoryItemRefOrder(ref1);\n\tconst ref2Order = getHistoryItemRefOrder(ref2);\n\n\treturn ref1Order - ref2Order;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAjBN;;;;AAKA,SAASE,QAAQ,QAAQ,oBAAoB;AAC7C,SAASC,SAAS,QAAQ,oCAAoC;AAC9D,SAASC,eAAe,EAAEC,UAAU,EAAEC,YAAY,EAAEC,UAAU,QAAQ,oDAAoD;AAC1H,SAASC,aAAa,EAAmBC,aAAa,QAAQ,iDAAiD;AAC/G,SAAkGC,wBAAwB,EAAEC,wBAAwB,QAAQ,sBAAsB;AAClL,SAASC,GAAG,QAAQ,oCAAoC;AACxD,SAASC,OAAO,QAAQ,iCAAiC;AACzD,SAASC,gBAAgB,QAAQ,0BAA0B;AAC3D,SAASC,WAAW,QAAQ,uCAAuC;AAEnE,OAAO,MAAMC,eAAe;AAAA;AAAA,CAAAhB,cAAA,GAAAiB,CAAA,OAAG,EAAE;AACjC,OAAO,MAAMC,cAAc;AAAA;AAAA,CAAAlB,cAAA,GAAAiB,CAAA,OAAG,EAAE;AAChC,MAAME,qBAAqB;AAAA;AAAA,CAAAnB,cAAA,GAAAiB,CAAA,OAAG,CAAC;AAC/B,MAAMG,aAAa;AAAA;AAAA,CAAApB,cAAA,GAAAiB,CAAA,OAAG,CAAC;AACvB,MAAMI,mBAAmB;AAAA;AAAA,CAAArB,cAAA,GAAAiB,CAAA,OAAG,CAAC;AAE7B;;;AAGA,OAAO,MAAMK,mBAAmB;AAAA;AAAA,CAAAtB,cAAA,GAAAiB,CAAA,OAAGR,aAAa,CAAC,8BAA8B,EAAEJ,UAAU,EAAEH,QAAQ,CAAC,6BAA6B,EAAE,+BAA+B,CAAC,CAAC;AACtK,OAAO,MAAMqB,yBAAyB;AAAA;AAAA,CAAAvB,cAAA,GAAAiB,CAAA,OAAGR,aAAa,CAAC,oCAAoC,EAAEH,YAAY,EAAEJ,QAAQ,CAAC,mCAAmC,EAAE,sCAAsC,CAAC,CAAC;AACjM,OAAO,MAAMsB,uBAAuB;AAAA;AAAA,CAAAxB,cAAA,GAAAiB,CAAA,OAAGR,aAAa,CAAC,kCAAkC,EAAE,SAAS,EAAEP,QAAQ,CAAC,iCAAiC,EAAE,oCAAoC,CAAC,CAAC;AAEtL;;;AAGA,OAAO,MAAMuB,sCAAsC;AAAA;AAAA,CAAAzB,cAAA,GAAAiB,CAAA,OAAGR,aAAa,CAAC,iDAAiD,EAAEF,UAAU,EAAEL,QAAQ,CAAC,gDAAgD,EAAE,oDAAoD,CAAC,CAAC;AACpP,OAAO,MAAMwB,sCAAsC;AAAA;AAAA,CAAA1B,cAAA,GAAAiB,CAAA,OAAGR,aAAa,CAAC,iDAAiD,EAAEL,eAAe,EAAEF,QAAQ,CAAC,gDAAgD,EAAE,oDAAoD,CAAC,CAAC;AACzP,OAAO,MAAMyB,+BAA+B;AAAA;AAAA,CAAA3B,cAAA,GAAAiB,CAAA,QAAGR,aAAa,CAAC,0CAA0C,EAAEK,gBAAgB,EAAEZ,QAAQ,CAAC,yCAAyC,EAAE,4CAA4C,CAAC,CAAC;AAC7N,OAAO,MAAM0B,mCAAmC;AAAA;AAAA,CAAA5B,cAAA,GAAAiB,CAAA,QAAGR,aAAa,CAAC,8CAA8C,EAAE;EAAEoB,KAAK,EAAE,SAAS;EAAEC,IAAI,EAAE,SAAS;EAAEC,MAAM,EAAE,SAAS;EAAEC,OAAO,EAAE;AAAS,CAAE,EAAE9B,QAAQ,CAAC,8CAA8C,EAAE,gDAAgD,CAAC,CAAC;AAC1S,OAAO,MAAM+B,mCAAmC;AAAA;AAAA,CAAAjC,cAAA,GAAAiB,CAAA,QAAGR,aAAa,CAAC,8CAA8C,EAAE;EAAEoB,KAAK,EAAE,SAAS;EAAEC,IAAI,EAAE,SAAS;EAAEC,MAAM,EAAE,SAAS;EAAEC,OAAO,EAAE;AAAS,CAAE,EAAE9B,QAAQ,CAAC,8CAA8C,EAAE,gDAAgD,CAAC,CAAC;AAE1S;;;AAGA,OAAO,MAAMgC,aAAa;AAAA;AAAA,CAAAlC,cAAA,GAAAiB,CAAA,QAAsB,CAC/CR,aAAa,CAAC,sBAAsB,EAAE,SAAS,EAAEP,QAAQ,CAAC,qBAAqB,EAAE,4CAA4C,CAAC,CAAC,EAC/HO,aAAa,CAAC,sBAAsB,EAAE,SAAS,EAAEP,QAAQ,CAAC,qBAAqB,EAAE,4CAA4C,CAAC,CAAC,EAC/HO,aAAa,CAAC,sBAAsB,EAAE,SAAS,EAAEP,QAAQ,CAAC,qBAAqB,EAAE,4CAA4C,CAAC,CAAC,EAC/HO,aAAa,CAAC,sBAAsB,EAAE,SAAS,EAAEP,QAAQ,CAAC,qBAAqB,EAAE,4CAA4C,CAAC,CAAC,EAC/HO,aAAa,CAAC,sBAAsB,EAAE,SAAS,EAAEP,QAAQ,CAAC,qBAAqB,EAAE,4CAA4C,CAAC,CAAC,CAC/H;AAED,SAASiC,uBAAuBA,CAACC,WAA4B,EAAEC,QAAkD;EAAA;EAAArC,cAAA,GAAAsC,CAAA;EAAAtC,cAAA,GAAAiB,CAAA;EAChH,KAAK,MAAMsB,GAAG;EAAI;EAAA,CAAAvC,cAAA,GAAAwC,CAAA,UAAAJ,WAAW,CAACK,UAAU;EAAA;EAAA,CAAAzC,cAAA,GAAAwC,CAAA,UAAI,EAAE,GAAE;IAC/C,MAAME,eAAe;IAAA;IAAA,CAAA1C,cAAA,GAAAiB,CAAA,QAAGoB,QAAQ,CAACM,GAAG,CAACJ,GAAG,CAACK,EAAE,CAAC;IAAC;IAAA5C,cAAA,GAAAiB,CAAA;IAC7C,IAAIyB,eAAe,KAAKG,SAAS,EAAE;MAAA;MAAA7C,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAClC,OAAOyB,eAAe;IACvB,CAAC;IAAA;IAAA;MAAA1C,cAAA,GAAAwC,CAAA;IAAA;EACF;EAAC;EAAAxC,cAAA,GAAAiB,CAAA;EAED,OAAO4B,SAAS;AACjB;AAEA,SAASC,UAAUA,CAACJ,eAAuB,EAAEK,WAAW;AAAA;AAAA,CAAA/C,cAAA,GAAAwC,CAAA,UAAG,CAAC;EAAA;EAAAxC,cAAA,GAAAsC,CAAA;EAC3D,MAAMU,IAAI;EAAA;EAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAGgC,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,MAAM,CAAC;EAAC;EAAAlD,cAAA,GAAAiB,CAAA;EAC5E+B,IAAI,CAACG,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;EAAC;EAAAnD,cAAA,GAAAiB,CAAA;EAClC+B,IAAI,CAACG,YAAY,CAAC,cAAc,EAAE,GAAGJ,WAAW,IAAI,CAAC;EAAC;EAAA/C,cAAA,GAAAiB,CAAA;EACtD+B,IAAI,CAACG,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC;EAAC;EAAAnD,cAAA,GAAAiB,CAAA;EAC7C+B,IAAI,CAACI,KAAK,CAACC,MAAM,GAAG7C,aAAa,CAACkC,eAAe,CAAC;EAAC;EAAA1C,cAAA,GAAAiB,CAAA;EAEnD,OAAO+B,IAAI;AACZ;AAEA,SAASM,UAAUA,CAACC,KAAa,EAAEC,MAAc,EAAET,WAAmB,EAAEL,eAAwB;EAAA;EAAA1C,cAAA,GAAAsC,CAAA;EAC/F,MAAMmB,MAAM;EAAA;EAAA,CAAAzD,cAAA,GAAAiB,CAAA,QAAGgC,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;EAAC;EAAAlD,cAAA,GAAAiB,CAAA;EAChFwC,MAAM,CAACN,YAAY,CAAC,IAAI,EAAE,GAAGjC,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;EAAC;EAAAvD,cAAA,GAAAiB,CAAA;EAC7DwC,MAAM,CAACN,YAAY,CAAC,IAAI,EAAE,GAAGjC,cAAc,EAAE,CAAC;EAAC;EAAAlB,cAAA,GAAAiB,CAAA;EAC/CwC,MAAM,CAACN,YAAY,CAAC,GAAG,EAAE,GAAGK,MAAM,EAAE,CAAC;EAAC;EAAAxD,cAAA,GAAAiB,CAAA;EAEtCwC,MAAM,CAACL,KAAK,CAACL,WAAW,GAAG,GAAGA,WAAW,IAAI;EAAC;EAAA/C,cAAA,GAAAiB,CAAA;EAC9C,IAAIyB,eAAe,EAAE;IAAA;IAAA1C,cAAA,GAAAwC,CAAA;IAAAxC,cAAA,GAAAiB,CAAA;IACpBwC,MAAM,CAACL,KAAK,CAACM,IAAI,GAAGlD,aAAa,CAACkC,eAAe,CAAC;EACnD,CAAC;EAAA;EAAA;IAAA1C,cAAA,GAAAwC,CAAA;EAAA;EAAAxC,cAAA,GAAAiB,CAAA;EAED,OAAOwC,MAAM;AACd;AAEA,SAASE,gBAAgBA,CAACJ,KAAa,EAAEC,MAAc,EAAET,WAAmB,EAAEL,eAAuB;EAAA;EAAA1C,cAAA,GAAAsC,CAAA;EACpG,MAAMmB,MAAM;EAAA;EAAA,CAAAzD,cAAA,GAAAiB,CAAA,QAAGgC,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,QAAQ,CAAC;EAAC;EAAAlD,cAAA,GAAAiB,CAAA;EAChFwC,MAAM,CAACN,YAAY,CAAC,IAAI,EAAE,GAAGjC,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC;EAAC;EAAAvD,cAAA,GAAAiB,CAAA;EAC7DwC,MAAM,CAACN,YAAY,CAAC,IAAI,EAAE,GAAGjC,cAAc,EAAE,CAAC;EAAC;EAAAlB,cAAA,GAAAiB,CAAA;EAC/CwC,MAAM,CAACN,YAAY,CAAC,GAAG,EAAE,GAAG/B,aAAa,GAAG,CAAC,EAAE,CAAC;EAAC;EAAApB,cAAA,GAAAiB,CAAA;EAEjDwC,MAAM,CAACL,KAAK,CAACC,MAAM,GAAG7C,aAAa,CAACkC,eAAe,CAAC;EAAC;EAAA1C,cAAA,GAAAiB,CAAA;EACrDwC,MAAM,CAACL,KAAK,CAACL,WAAW,GAAG,GAAGA,WAAW,IAAI;EAAC;EAAA/C,cAAA,GAAAiB,CAAA;EAC9CwC,MAAM,CAACL,KAAK,CAACQ,eAAe,GAAG,KAAK;EAAC;EAAA5D,cAAA,GAAAiB,CAAA;EAErC,OAAOwC,MAAM;AACd;AAEA,SAASI,gBAAgBA,CAACC,EAAU,EAAEC,EAAU,EAAEC,EAAU,EAAEC,KAAa,EAAElB,WAAW;AAAA;AAAA,CAAA/C,cAAA,GAAAwC,CAAA,UAAG,CAAC;EAAA;EAAAxC,cAAA,GAAAsC,CAAA;EAC3F,MAAMU,IAAI;EAAA;EAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAG6B,UAAU,CAACmB,KAAK,EAAElB,WAAW,CAAC;EAAC;EAAA/C,cAAA,GAAAiB,CAAA;EAC5C+B,IAAI,CAACG,YAAY,CAAC,GAAG,EAAE,KAAKW,EAAE,IAAIC,EAAE,MAAMC,EAAE,EAAE,CAAC;EAAC;EAAAhE,cAAA,GAAAiB,CAAA;EAEhD,OAAO+B,IAAI;AACZ;AAEA,SAASkB,aAAaA,CAACC,KAAiC,EAAEvB,EAAU;EAAA;EAAA5C,cAAA,GAAAsC,CAAA;EAAAtC,cAAA,GAAAiB,CAAA;EACnE,KAAK,IAAImD,CAAC;EAAA;EAAA,CAAApE,cAAA,GAAAiB,CAAA,QAAGkD,KAAK,CAACE,MAAM,GAAG,CAAC,GAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;IAAA;IAAApE,cAAA,GAAAiB,CAAA;IAC3C,IAAIkD,KAAK,CAACC,CAAC,CAAC,CAACxB,EAAE,KAAKA,EAAE,EAAE;MAAA;MAAA5C,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MACvB,OAAOmD,CAAC;IACT,CAAC;IAAA;IAAA;MAAApE,cAAA,GAAAwC,CAAA;IAAA;EACF;EAAC;EAAAxC,cAAA,GAAAiB,CAAA;EAED,OAAO,CAAC,CAAC;AACV;AAEA,OAAM,SAAUqD,yBAAyBA,CAACC,oBAA8C;EAAA;EAAAvE,cAAA,GAAAsC,CAAA;EACvF,MAAMkC,GAAG;EAAA;EAAA,CAAAxE,cAAA,GAAAiB,CAAA,QAAGgC,QAAQ,CAACC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC;EAAC;EAAAlD,cAAA,GAAAiB,CAAA;EAC1EuD,GAAG,CAACC,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;EAE1B,MAAMtC,WAAW;EAAA;EAAA,CAAApC,cAAA,GAAAiB,CAAA,QAAGsD,oBAAoB,CAACnC,WAAW;EACpD,MAAMuC,cAAc;EAAA;EAAA,CAAA3E,cAAA,GAAAiB,CAAA,QAAGsD,oBAAoB,CAACI,cAAc;EAC1D,MAAMC,eAAe;EAAA;EAAA,CAAA5E,cAAA,GAAAiB,CAAA,QAAGsD,oBAAoB,CAACK,eAAe;EAE5D;EACA,MAAMC,UAAU;EAAA;EAAA,CAAA7E,cAAA,GAAAiB,CAAA,QAAG0D,cAAc,CAACG,SAAS,CAACC,IAAI,IAAI;IAAA;IAAA/E,cAAA,GAAAsC,CAAA;IAAAtC,cAAA,GAAAiB,CAAA;IAAA,OAAA8D,IAAI,CAACnC,EAAE,KAAKR,WAAW,CAACQ,EAAE;EAAF,CAAE,CAAC;EAE/E;EACA,MAAMoC,WAAW;EAAA;EAAA,CAAAhF,cAAA,GAAAiB,CAAA,QAAG4D,UAAU,KAAK,CAAC,CAAC;EAAA;EAAA,CAAA7E,cAAA,GAAAwC,CAAA,UAAGqC,UAAU;EAAA;EAAA,CAAA7E,cAAA,GAAAwC,CAAA,UAAGmC,cAAc,CAACN,MAAM;EAE1E;EACA,MAAMY,WAAW;EAAA;EAAA,CAAAjF,cAAA,GAAAiB,CAAA,QAAG+D,WAAW,GAAGJ,eAAe,CAACP,MAAM;EAAA;EAAA,CAAArE,cAAA,GAAAwC,CAAA,UAAGoC,eAAe,CAACI,WAAW,CAAC,CAACf,KAAK;EAAA;EAAA,CAAAjE,cAAA,GAAAwC,CAAA,UAC5FwC,WAAW,GAAGL,cAAc,CAACN,MAAM;EAAA;EAAA,CAAArE,cAAA,GAAAwC,CAAA,UAAGmC,cAAc,CAACK,WAAW,CAAC,CAACf,KAAK;EAAA;EAAA,CAAAjE,cAAA,GAAAwC,CAAA,UAAGlB,mBAAmB;EAE9F,IAAI4D,mBAAmB;EAAA;EAAA,CAAAlF,cAAA,GAAAiB,CAAA,QAAG,CAAC;EAAC;EAAAjB,cAAA,GAAAiB,CAAA;EAC5B,KAAK,IAAIsC,KAAK;EAAA;EAAA,CAAAvD,cAAA,GAAAiB,CAAA,QAAG,CAAC,GAAEsC,KAAK,GAAGoB,cAAc,CAACN,MAAM,EAAEd,KAAK,EAAE,EAAE;IAC3D,MAAMU,KAAK;IAAA;IAAA,CAAAjE,cAAA,GAAAiB,CAAA,QAAG0D,cAAc,CAACpB,KAAK,CAAC,CAACU,KAAK;IAEzC;IAAA;IAAAjE,cAAA,GAAAiB,CAAA;IACA,IAAI0D,cAAc,CAACpB,KAAK,CAAC,CAACX,EAAE,KAAKR,WAAW,CAACQ,EAAE,EAAE;MAAA;MAAA5C,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAChD;MACA,IAAIsC,KAAK,KAAKyB,WAAW,EAAE;QAAA;QAAAhF,cAAA,GAAAwC,CAAA;QAC1B,MAAM2C,CAAC;QAAA;QAAA,CAAAnF,cAAA,GAAAiB,CAAA,QAAa,EAAE;QACtB,MAAM+B,IAAI;QAAA;QAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAG6B,UAAU,CAACmB,KAAK,CAAC;QAE9B;QAAA;QAAAjE,cAAA,GAAAiB,CAAA;QACAkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;QAAC;QAAAvD,cAAA,GAAAiB,CAAA;QAC9CkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAIA,cAAc,UAAUA,cAAc,GAAIqC,KAAM,IAAIrC,cAAc,EAAE,CAAC;QAEnG;QAAA;QAAAlB,cAAA,GAAAiB,CAAA;QACAkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAI8D,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC;QAAC;QAAAhF,cAAA,GAAAiB,CAAA;QAElD+B,IAAI,CAACG,YAAY,CAAC,GAAG,EAAEgC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC,CAAC;QAAC;QAAArF,cAAA,GAAAiB,CAAA;QACpCuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;MACjB,CAAC,MAAM;QAAA;QAAAhD,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACNiE,mBAAmB,EAAE;MACtB;IACD,CAAC,MAAM;MAAA;MAAAlF,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MACN;MACA;MAAI;MAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAA0C,mBAAmB,GAAGN,eAAe,CAACP,MAAM;MAAA;MAAA,CAAArE,cAAA,GAAAwC,CAAA,WAC/CmC,cAAc,CAACpB,KAAK,CAAC,CAACX,EAAE,KAAKgC,eAAe,CAACM,mBAAmB,CAAC,CAACtC,EAAE,GAAE;QAAA;QAAA5C,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACtE,IAAIsC,KAAK,KAAK2B,mBAAmB,EAAE;UAAA;UAAAlF,cAAA,GAAAwC,CAAA;UAClC;UACA,MAAMQ,IAAI;UAAA;UAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAG4C,gBAAgB,CAAC3C,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEvC,eAAe,EAAEiD,KAAK,CAAC;UAAC;UAAAjE,cAAA,GAAAiB,CAAA;UACvFuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;QACjB,CAAC,MAAM;UAAA;UAAAhD,cAAA,GAAAwC,CAAA;UACN,MAAM2C,CAAC;UAAA;UAAA,CAAAnF,cAAA,GAAAiB,CAAA,QAAa,EAAE;UACtB,MAAM+B,IAAI;UAAA;UAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAG6B,UAAU,CAACmB,KAAK,CAAC;UAE9B;UAAA;UAAAjE,cAAA,GAAAiB,CAAA;UACAkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC;UAAC;UAAAvD,cAAA,GAAAiB,CAAA;UAC9CkE,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC;UAEb;UAAA;UAAApF,cAAA,GAAAiB,CAAA;UACAkE,CAAC,CAACC,IAAI,CAAC,KAAKjE,qBAAqB,IAAIA,qBAAqB,UAAWD,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,GAAIpC,qBAAqB,IAAIH,eAAe,GAAG,CAAC,EAAE,CAAC;UAEpJ;UAAA;UAAAhB,cAAA,GAAAiB,CAAA;UACAkE,CAAC,CAACC,IAAI,CAAC,KAAMlE,cAAc,IAAIgE,mBAAmB,GAAG,CAAC,CAAC,GAAI/D,qBAAqB,EAAE,CAAC;UAEnF;UAAA;UAAAnB,cAAA,GAAAiB,CAAA;UACAkE,CAAC,CAACC,IAAI,CAAC,KAAKjE,qBAAqB,IAAIA,qBAAqB,UAAUD,cAAc,IAAIgE,mBAAmB,GAAG,CAAC,CAAC,IAAKlE,eAAe,GAAG,CAAC,GAAIG,qBAAqB,EAAE,CAAC;UAElK;UAAA;UAAAnB,cAAA,GAAAiB,CAAA;UACAkE,CAAC,CAACC,IAAI,CAAC,KAAKpE,eAAe,EAAE,CAAC;UAAC;UAAAhB,cAAA,GAAAiB,CAAA;UAE/B+B,IAAI,CAACG,YAAY,CAAC,GAAG,EAAEgC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC,CAAC;UAAC;UAAArF,cAAA,GAAAiB,CAAA;UACpCuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;QACjB;QAAC;QAAAhD,cAAA,GAAAiB,CAAA;QAEDiE,mBAAmB,EAAE;MACtB,CAAC;MAAA;MAAA;QAAAlF,cAAA,GAAAwC,CAAA;MAAA;IACF;EACD;EAEA;EAAA;EAAAxC,cAAA,GAAAiB,CAAA;EACA,KAAK,IAAImD,CAAC;EAAA;EAAA,CAAApE,cAAA,GAAAiB,CAAA,QAAG,CAAC,GAAEmD,CAAC,GAAGhC,WAAW,CAACmD,SAAS,CAAClB,MAAM,EAAED,CAAC,EAAE,EAAE;IACtD,MAAMoB,iBAAiB;IAAA;IAAA,CAAAxF,cAAA,GAAAiB,CAAA,QAAGiD,aAAa,CAACU,eAAe,EAAExC,WAAW,CAACmD,SAAS,CAACnB,CAAC,CAAC,CAAC;IAAC;IAAApE,cAAA,GAAAiB,CAAA;IACnF,IAAIuE,iBAAiB,KAAK,CAAC,CAAC,EAAE;MAAA;MAAAxF,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAC7B;IACD,CAAC;IAAA;IAAA;MAAAjB,cAAA,GAAAwC,CAAA;IAAA;IAED;IACA,MAAM2C,CAAC;IAAA;IAAA,CAAAnF,cAAA,GAAAiB,CAAA,QAAa,EAAE;IACtB,MAAM+B,IAAI;IAAA;IAAA,CAAAhD,cAAA,GAAAiB,CAAA,QAAG6B,UAAU,CAAC8B,eAAe,CAACY,iBAAiB,CAAC,CAACvB,KAAK,CAAC;IAEjE;IAAA;IAAAjE,cAAA,GAAAiB,CAAA;IACAkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,GAAGsE,iBAAiB,IAAIxE,eAAe,GAAG,CAAC,EAAE,CAAC;IAAC;IAAAhB,cAAA,GAAAiB,CAAA;IACzEkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAIA,cAAc,UAAUA,cAAc,IAAIsE,iBAAiB,GAAG,CAAC,CAAC,IAAIxE,eAAe,EAAE,CAAC;IAEpH;IAAA;IAAAhB,cAAA,GAAAiB,CAAA;IACAkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,GAAGsE,iBAAiB,IAAIxE,eAAe,GAAG,CAAC,EAAE,CAAC;IAAC;IAAAhB,cAAA,GAAAiB,CAAA;IACzEkE,CAAC,CAACC,IAAI,CAAC,KAAKlE,cAAc,IAAI8D,WAAW,GAAG,CAAC,CAAC,GAAG,CAAC;IAAC;IAAAhF,cAAA,GAAAiB,CAAA;IAEnD+B,IAAI,CAACG,YAAY,CAAC,GAAG,EAAEgC,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC,CAAC;IAAC;IAAArF,cAAA,GAAAiB,CAAA;IACpCuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;EACjB;EAEA;EAAA;EAAAhD,cAAA,GAAAiB,CAAA;EACA,IAAI4D,UAAU,KAAK,CAAC,CAAC,EAAE;IAAA;IAAA7E,cAAA,GAAAwC,CAAA;IACtB,MAAMQ,IAAI;IAAA;IAAA,CAAAhD,cAAA,GAAAiB,CAAA,SAAG4C,gBAAgB,CAAC3C,cAAc,IAAI8D,WAAW,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEhE,eAAe,GAAG,CAAC,EAAE2D,cAAc,CAACE,UAAU,CAAC,CAACZ,KAAK,CAAC;IAAC;IAAAjE,cAAA,GAAAiB,CAAA;IAC5HuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;EACjB,CAAC;EAAA;EAAA;IAAAhD,cAAA,GAAAwC,CAAA;EAAA;EAED;EAAAxC,cAAA,GAAAiB,CAAA;EACA,IAAImB,WAAW,CAACmD,SAAS,CAAClB,MAAM,GAAG,CAAC,EAAE;IAAA;IAAArE,cAAA,GAAAwC,CAAA;IACrC,MAAMQ,IAAI;IAAA;IAAA,CAAAhD,cAAA,GAAAiB,CAAA,SAAG4C,gBAAgB,CAAC3C,cAAc,IAAI8D,WAAW,GAAG,CAAC,CAAC,EAAEhE,eAAe,GAAG,CAAC,EAAEA,eAAe,EAAEiE,WAAW,CAAC;IAAC;IAAAjF,cAAA,GAAAiB,CAAA;IACrHuD,GAAG,CAACc,MAAM,CAACtC,IAAI,CAAC;EACjB,CAAC;EAAA;EAAA;IAAAhD,cAAA,GAAAwC,CAAA;EAAA;EAED;EAAAxC,cAAA,GAAAiB,CAAA;EACA,IAAIsD,oBAAoB,CAACkB,IAAI,KAAK,MAAM,EAAE;IAAA;IAAAzF,cAAA,GAAAwC,CAAA;IACzC;IACA,MAAMkD,WAAW;IAAA;IAAA,CAAA1F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,EAAE4D,WAAW,CAAC;IAAC;IAAAjF,cAAA,GAAAiB,CAAA;IACjGuD,GAAG,CAACc,MAAM,CAACI,WAAW,CAAC;IAEvB,MAAMC,WAAW;IAAA;IAAA,CAAA3F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE3D,mBAAmB,EAAED,aAAa,CAAC;IAAC;IAAApB,cAAA,GAAAiB,CAAA;IAChFuD,GAAG,CAACc,MAAM,CAACK,WAAW,CAAC;EACxB,CAAC,MAAM;IAAA;IAAA3F,cAAA,GAAAwC,CAAA;IAAAxC,cAAA,GAAAiB,CAAA;IAAA;IAAI;IAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAA+B,oBAAoB,CAACkB,IAAI,KAAK,kBAAkB;IAAA;IAAA,CAAAzF,cAAA,GAAAwC,CAAA,WAAI+B,oBAAoB,CAACkB,IAAI,KAAK,kBAAkB,GAAE;MAAA;MAAAzF,cAAA,GAAAwC,CAAA;MAChH;MACA,MAAMkD,WAAW;MAAA;MAAA,CAAA1F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,EAAE4D,WAAW,CAAC;MAAC;MAAAjF,cAAA,GAAAiB,CAAA;MACjGuD,GAAG,CAACc,MAAM,CAACI,WAAW,CAAC;MAEvB,MAAMC,WAAW;MAAA;MAAA,CAAA3F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,GAAG,CAAC,CAAC;MAAC;MAAArB,cAAA,GAAAiB,CAAA;MACxFuD,GAAG,CAACc,MAAM,CAACK,WAAW,CAAC;MAEvB,MAAMC,YAAY;MAAA;MAAA,CAAA5F,cAAA,GAAAiB,CAAA,SAAG0C,gBAAgB,CAACqB,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,GAAG,CAAC,EAAE4D,WAAW,CAAC;MAAC;MAAAjF,cAAA,GAAAiB,CAAA;MAC5GuD,GAAG,CAACc,MAAM,CAACM,YAAY,CAAC;IACzB,CAAC,MAAM;MAAA;MAAA5F,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MACN,IAAImB,WAAW,CAACmD,SAAS,CAAClB,MAAM,GAAG,CAAC,EAAE;QAAA;QAAArE,cAAA,GAAAwC,CAAA;QACrC;QACA,MAAMqD,WAAW;QAAA;QAAA,CAAA7F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,EAAE4D,WAAW,CAAC;QAAC;QAAAjF,cAAA,GAAAiB,CAAA;QACjGuD,GAAG,CAACc,MAAM,CAACO,WAAW,CAAC;QAEvB,MAAMC,WAAW;QAAA;QAAA,CAAA9F,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,EAAE4D,WAAW,CAAC;QAAC;QAAAjF,cAAA,GAAAiB,CAAA;QACjGuD,GAAG,CAACc,MAAM,CAACQ,WAAW,CAAC;MACxB,CAAC,MAAM;QAAA;QAAA9F,cAAA,GAAAwC,CAAA;QACN;QACA,MAAMiB,MAAM;QAAA;QAAA,CAAAzD,cAAA,GAAAiB,CAAA,SAAGqC,UAAU,CAAC0B,WAAW,EAAE5D,aAAa,GAAG,CAAC,EAAEC,mBAAmB,EAAE4D,WAAW,CAAC;QAAC;QAAAjF,cAAA,GAAAiB,CAAA;QAC5FuD,GAAG,CAACc,MAAM,CAAC7B,MAAM,CAAC;MACnB;IACD;EAAA;EAEA;EAAA;EAAAzD,cAAA,GAAAiB,CAAA;EACAuD,GAAG,CAACpB,KAAK,CAAC2C,MAAM,GAAG,GAAG/E,eAAe,IAAI;EAAC;EAAAhB,cAAA,GAAAiB,CAAA;EAC1CuD,GAAG,CAACpB,KAAK,CAAC4C,KAAK,GAAG,GAAG9E,cAAc,IAAI+E,IAAI,CAACC,GAAG,CAACvB,cAAc,CAACN,MAAM,EAAEO,eAAe,CAACP,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI;EAAC;EAAArE,cAAA,GAAAiB,CAAA;EAE3G,OAAOuD,GAAG;AACX;AAEA,OAAM,SAAU2B,gCAAgCA,CAACC,OAAmC,EAAEC,cAAuB;EAAA;EAAArG,cAAA,GAAAsC,CAAA;EAC5G,MAAMgE,QAAQ;EAAA;EAAA,CAAAtG,cAAA,GAAAiB,CAAA,SAAGJ,OAAO,CAAC,KAAK,EAAE;IAC/BuC,KAAK,EAAE;MAAE2C,MAAM,EAAE,GAAG/E,eAAe,IAAI;MAAEgF,KAAK,EAAE,GAAG9E,cAAc,IAAIkF,OAAO,CAAC/B,MAAM,GAAG,CAAC,CAAC;IAAI;GAC5F,CAAC;EAEF;EAAA;EAAArE,cAAA,GAAAiB,CAAA;EACA,KAAK,IAAIsC,KAAK;EAAA;EAAA,CAAAvD,cAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEsC,KAAK,GAAG6C,OAAO,CAAC/B,MAAM,EAAEd,KAAK,EAAE,EAAE;IACpD,MAAMR,WAAW;IAAA;IAAA,CAAA/C,cAAA,GAAAiB,CAAA,SAAGsC,KAAK,KAAK8C,cAAc;IAAA;IAAA,CAAArG,cAAA,GAAAwC,CAAA,WAAG,CAAC;IAAA;IAAA,CAAAxC,cAAA,GAAAwC,CAAA,WAAG,CAAC;IACpD,MAAMQ,IAAI;IAAA;IAAA,CAAAhD,cAAA,GAAAiB,CAAA,SAAG4C,gBAAgB,CAAC3C,cAAc,IAAIqC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEvC,eAAe,EAAEoF,OAAO,CAAC7C,KAAK,CAAC,CAACU,KAAK,EAAElB,WAAW,CAAC;IAAC;IAAA/C,cAAA,GAAAiB,CAAA;IACnHqF,QAAQ,CAACC,IAAI,CAACjB,MAAM,CAACtC,IAAI,CAAC;EAC3B;EAAC;EAAAhD,cAAA,GAAAiB,CAAA;EAED,OAAOqF,QAAQ,CAACC,IAAI;AACrB;AAEA,OAAM,SAAUC,+BAA+BA,CAC9CC,YAA+B,EAC/BpE,QAAA;AAAA;AAAA,CAAArC,cAAA,GAAAwC,CAAA,WAAW,IAAIkE,GAAG,EAAuC,GACzDC,qBAA0C,EAC1CC,2BAAgD,EAChDC,yBAA8C,EAC9CC,kBAA4B,EAC5BC,kBAA4B,EAC5BC,SAAkB;EAAA;EAAAhH,cAAA,GAAAsC,CAAA;EAElB,IAAI2E,UAAU;EAAA;EAAA,CAAAjH,cAAA,GAAAiB,CAAA,SAAG,CAAC,CAAC;EACnB,MAAMiG,UAAU;EAAA;EAAA,CAAAlH,cAAA,GAAAiB,CAAA,SAA+B,EAAE;EAAC;EAAAjB,cAAA,GAAAiB,CAAA;EAElD,KAAK,IAAIsC,KAAK;EAAA;EAAA,CAAAvD,cAAA,GAAAiB,CAAA,SAAG,CAAC,GAAEsC,KAAK,GAAGkD,YAAY,CAACpC,MAAM,EAAEd,KAAK,EAAE,EAAE;IACzD,MAAMnB,WAAW;IAAA;IAAA,CAAApC,cAAA,GAAAiB,CAAA,SAAGwF,YAAY,CAAClD,KAAK,CAAC;IAEvC,MAAMkC,IAAI;IAAA;IAAA,CAAAzF,cAAA,GAAAiB,CAAA,SAAGmB,WAAW,CAACQ,EAAE,KAAK+D,qBAAqB,EAAEQ,QAAQ;IAAA;IAAA,CAAAnH,cAAA,GAAAwC,CAAA,WAAG,MAAM;IAAA;IAAA,CAAAxC,cAAA,GAAAwC,CAAA,WAAG,MAAM;IACjF,MAAM4E,+BAA+B;IAAA;IAAA,CAAApH,cAAA,GAAAiB,CAAA;IAAG;IAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAA0E,UAAU,CAACG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAEzC,eAAe;IAAA;IAAA,CAAA5E,cAAA,GAAAwC,CAAA,WAAI,EAAE;IAChF,MAAMmC,cAAc;IAAA;IAAA,CAAA3E,cAAA,GAAAiB,CAAA,SAAGmG,+BAA+B,CAACE,GAAG,CAAClD,CAAC,IAAI;MAAA;MAAApE,cAAA,GAAAsC,CAAA;MAAAtC,cAAA,GAAAiB,CAAA;MAAA,OAAAd,SAAS,CAACiE,CAAC,CAAC;IAAD,CAAC,CAAC;IAC7E,MAAMQ,eAAe;IAAA;IAAA,CAAA5E,cAAA,GAAAiB,CAAA,SAA+B,EAAE;IAEtD,IAAIsG,gBAAgB;IAAA;IAAA,CAAAvH,cAAA,GAAAiB,CAAA,SAAG,KAAK;IAE5B;IAAA;IAAAjB,cAAA,GAAAiB,CAAA;IACA,IAAImB,WAAW,CAACmD,SAAS,CAAClB,MAAM,GAAG,CAAC,EAAE;MAAA;MAAArE,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MACrC,KAAK,MAAM8D,IAAI,IAAIJ,cAAc,EAAE;QAAA;QAAA3E,cAAA,GAAAiB,CAAA;QAClC,IAAI8D,IAAI,CAACnC,EAAE,KAAKR,WAAW,CAACQ,EAAE,EAAE;UAAA;UAAA5C,cAAA,GAAAwC,CAAA;UAAAxC,cAAA,GAAAiB,CAAA;UAC/B,IAAI,CAACsG,gBAAgB,EAAE;YAAA;YAAAvH,cAAA,GAAAwC,CAAA;YAAAxC,cAAA,GAAAiB,CAAA;YACtB2D,eAAe,CAACQ,IAAI,CAAC;cACpBxC,EAAE,EAAER,WAAW,CAACmD,SAAS,CAAC,CAAC,CAAC;cAC5BtB,KAAK;cAAE;cAAA,CAAAjE,cAAA,GAAAwC,CAAA,WAAAL,uBAAuB,CAACC,WAAW,EAAEC,QAAQ,CAAC;cAAA;cAAA,CAAArC,cAAA,GAAAwC,CAAA,WAAIuC,IAAI,CAACd,KAAK;aACnE,CAAC;YAAC;YAAAjE,cAAA,GAAAiB,CAAA;YACHsG,gBAAgB,GAAG,IAAI;UACxB,CAAC;UAAA;UAAA;YAAAvH,cAAA,GAAAwC,CAAA;UAAA;UAAAxC,cAAA,GAAAiB,CAAA;UAED;QACD,CAAC;QAAA;QAAA;UAAAjB,cAAA,GAAAwC,CAAA;QAAA;QAAAxC,cAAA,GAAAiB,CAAA;QAED2D,eAAe,CAACQ,IAAI,CAACjF,SAAS,CAAC4E,IAAI,CAAC,CAAC;MACtC;IACD,CAAC;IAAA;IAAA;MAAA/E,cAAA,GAAAwC,CAAA;IAAA;IAED;IAAAxC,cAAA,GAAAiB,CAAA;IACA,KAAK,IAAImD,CAAC;IAAA;IAAA,CAAApE,cAAA,GAAAiB,CAAA,SAAGsG,gBAAgB;IAAA;IAAA,CAAAvH,cAAA,GAAAwC,CAAA,WAAG,CAAC;IAAA;IAAA,CAAAxC,cAAA,GAAAwC,CAAA,WAAG,CAAC,IAAE4B,CAAC,GAAGhC,WAAW,CAACmD,SAAS,CAAClB,MAAM,EAAED,CAAC,EAAE,EAAE;MAC7E;MACA,IAAI1B,eAAmC;MAAC;MAAA1C,cAAA,GAAAiB,CAAA;MAExC,IAAImD,CAAC,KAAK,CAAC,EAAE;QAAA;QAAApE,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACZyB,eAAe,GAAGP,uBAAuB,CAACC,WAAW,EAAEC,QAAQ,CAAC;MACjE,CAAC,MAAM;QAAA;QAAArC,cAAA,GAAAwC,CAAA;QACN,MAAMgF,iBAAiB;QAAA;QAAA,CAAAxH,cAAA,GAAAiB,CAAA,SAAGwF,YAAY,CACpCgB,IAAI,CAACC,CAAC,IAAI;UAAA;UAAA1H,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAAyG,CAAC,CAAC9E,EAAE,KAAKR,WAAW,CAACmD,SAAS,CAACnB,CAAC,CAAC;QAAD,CAAC,CAAC;QAAC;QAAApE,cAAA,GAAAiB,CAAA;QAC/CyB,eAAe,GAAG8E,iBAAiB;QAAA;QAAA,CAAAxH,cAAA,GAAAwC,CAAA,WAAGL,uBAAuB,CAACqF,iBAAiB,EAAEnF,QAAQ,CAAC;QAAA;QAAA,CAAArC,cAAA,GAAAwC,CAAA,WAAGK,SAAS;MACvG;MAAC;MAAA7C,cAAA,GAAAiB,CAAA;MAED,IAAI,CAACyB,eAAe,EAAE;QAAA;QAAA1C,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACrBgG,UAAU,GAAGrG,GAAG,CAACqG,UAAU,GAAG,CAAC,EAAE/E,aAAa,CAACmC,MAAM,CAAC;QAAC;QAAArE,cAAA,GAAAiB,CAAA;QACvDyB,eAAe,GAAGR,aAAa,CAAC+E,UAAU,CAAC;MAC5C,CAAC;MAAA;MAAA;QAAAjH,cAAA,GAAAwC,CAAA;MAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAED2D,eAAe,CAACQ,IAAI,CAAC;QACpBxC,EAAE,EAAER,WAAW,CAACmD,SAAS,CAACnB,CAAC,CAAC;QAC5BH,KAAK,EAAEvB;OACP,CAAC;IACH;IAEA;IACA,MAAMD,UAAU;IAAA;IAAA,CAAAzC,cAAA,GAAAiB,CAAA,SAAG;IAAC;IAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAJ,WAAW,CAACK,UAAU;IAAA;IAAA,CAAAzC,cAAA,GAAAwC,CAAA,WAAI,EAAE,GAC9C8E,GAAG,CAAC/E,GAAG,IAAG;MAAA;MAAAvC,cAAA,GAAAsC,CAAA;MACV,IAAI2B,KAAK;MAAA;MAAA,CAAAjE,cAAA,GAAAiB,CAAA,SAAGoB,QAAQ,CAACM,GAAG,CAACJ,GAAG,CAACK,EAAE,CAAC;MAAC;MAAA5C,cAAA,GAAAiB,CAAA;MACjC;MAAI;MAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAH,QAAQ,CAACsF,GAAG,CAACpF,GAAG,CAACK,EAAE,CAAC;MAAA;MAAA,CAAA5C,cAAA,GAAAwC,CAAA,WAAIyB,KAAK,KAAKpB,SAAS,GAAE;QAAA;QAAA7C,cAAA,GAAAwC,CAAA;QAChD;QACA,MAAMqC,UAAU;QAAA;QAAA,CAAA7E,cAAA,GAAAiB,CAAA,SAAG0D,cAAc,CAACG,SAAS,CAACC,IAAI,IAAI;UAAA;UAAA/E,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAA8D,IAAI,CAACnC,EAAE,KAAKR,WAAW,CAACQ,EAAE;QAAF,CAAE,CAAC;QAE/E;QACA,MAAMoC,WAAW;QAAA;QAAA,CAAAhF,cAAA,GAAAiB,CAAA,SAAG4D,UAAU,KAAK,CAAC,CAAC;QAAA;QAAA,CAAA7E,cAAA,GAAAwC,CAAA,WAAGqC,UAAU;QAAA;QAAA,CAAA7E,cAAA,GAAAwC,CAAA,WAAGmC,cAAc,CAACN,MAAM;QAE1E;QAAA;QAAArE,cAAA,GAAAiB,CAAA;QACAgD,KAAK,GAAGe,WAAW,GAAGJ,eAAe,CAACP,MAAM;QAAA;QAAA,CAAArE,cAAA,GAAAwC,CAAA,WAAGoC,eAAe,CAACI,WAAW,CAAC,CAACf,KAAK;QAAA;QAAA,CAAAjE,cAAA,GAAAwC,CAAA,WAChFwC,WAAW,GAAGL,cAAc,CAACN,MAAM;QAAA;QAAA,CAAArE,cAAA,GAAAwC,CAAA,WAAGmC,cAAc,CAACK,WAAW,CAAC,CAACf,KAAK;QAAA;QAAA,CAAAjE,cAAA,GAAAwC,CAAA,WAAGlB,mBAAmB;MAC/F,CAAC;MAAA;MAAA;QAAAtB,cAAA,GAAAwC,CAAA;MAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAED,OAAO;QAAE,GAAGsB,GAAG;QAAE0B;MAAK,CAAE;IACzB,CAAC,CAAC;IAEH;IAAA;IAAAjE,cAAA,GAAAiB,CAAA;IACAwB,UAAU,CAACmF,IAAI,CAAC,CAACC,IAAI,EAAEC,IAAI,KAC1B;MAAA;MAAA9H,cAAA,GAAAsC,CAAA;MAAAtC,cAAA,GAAAiB,CAAA;MAAA,OAAA8G,sBAAsB,CAACF,IAAI,EAAEC,IAAI,EAAEnB,qBAAqB,EAAEC,2BAA2B,EAAEC,yBAAyB,CAAC;IAAD,CAAC,CAAC;IAAC;IAAA7G,cAAA,GAAAiB,CAAA;IAEpHiG,UAAU,CAAC9B,IAAI,CAAC;MACfhD,WAAW,EAAE;QACZ,GAAGA,WAAW;QACdK;OACA;MACDgD,IAAI;MACJd,cAAc;MACdC;KACmC,CAAC;EACtC;EAEA;EAAA;EAAA5E,cAAA,GAAAiB,CAAA;EACA;EAAI;EAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAmE,qBAAqB,EAAEQ,QAAQ,KAAKP,2BAA2B,EAAEO,QAAQ;EAAA;EAAA,CAAAnH,cAAA,GAAAwC,CAAA,WAAIwE,SAAS,GAAE;IAAA;IAAAhH,cAAA,GAAAwC,CAAA;IAAAxC,cAAA,GAAAiB,CAAA;IAC3F;IACA;IAAI;IAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAsE,kBAAkB;IAAA;IAAA,CAAA9G,cAAA,GAAAwC,CAAA,WAAIoE,2BAA2B;IAAA;IAAA,CAAA5G,cAAA,GAAAwC,CAAA,WAAIoE,2BAA2B,CAACO,QAAQ,KAAKH,SAAS,GAAE;MAAA;MAAAhH,cAAA,GAAAwC,CAAA;MAC5G;MACA,MAAMwF,sBAAsB;MAAA;MAAA,CAAAhI,cAAA,GAAAiB,CAAA,SAAGF,WAAW,CAACmG,UAAU,EAAEe,EAAE,IAAI;QAAA;QAAAjI,cAAA,GAAAsC,CAAA;QAAAtC,cAAA,GAAAiB,CAAA;QAAA,OAAAgH,EAAE,CAACrD,eAAe,CAACsD,IAAI,CAACnD,IAAI,IAAI;UAAA;UAAA/E,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAA8D,IAAI,CAACnC,EAAE,KAAKoE,SAAS;QAAT,CAAS,CAAC;MAAD,CAAC,CAAC;MACpH,MAAMmB,qBAAqB;MAAA;MAAA,CAAAnI,cAAA,GAAAiB,CAAA,SAAGiG,UAAU,CAACpC,SAAS,CAACmD,EAAE,IAAI;QAAA;QAAAjI,cAAA,GAAAsC,CAAA;QAAAtC,cAAA,GAAAiB,CAAA;QAAA,OAAAgH,EAAE,CAAC7F,WAAW,CAACQ,EAAE,KAAKoE,SAAS;MAAT,CAAS,CAAC;MAAC;MAAAhH,cAAA,GAAAiB,CAAA;MAE1F;MAAI;MAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAwF,sBAAsB,KAAK,CAAC,CAAC;MAAA;MAAA,CAAAhI,cAAA,GAAAwC,CAAA,WAAI2F,qBAAqB,KAAK,CAAC,CAAC,GAAE;QAAA;QAAAnI,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QAClE;QACA;QACAiG,UAAU,CAACc,sBAAsB,CAAC,GAAG;UACpC,GAAGd,UAAU,CAACc,sBAAsB,CAAC;UACrCrD,cAAc,EAAEuC,UAAU,CAACc,sBAAsB,CAAC,CAACrD,cAAc,CAC/D2C,GAAG,CAACvC,IAAI,IAAG;YAAA;YAAA/E,cAAA,GAAAsC,CAAA;YAAAtC,cAAA,GAAAiB,CAAA;YACX,OAAO,2BAAAjB,cAAA,GAAAwC,CAAA,WAAAuC,IAAI,CAACnC,EAAE,KAAKoE,SAAS;YAAA;YAAA,CAAAhH,cAAA,GAAAwC,CAAA,WAAIuC,IAAI,CAACd,KAAK,KAAK1C,yBAAyB;YAAA;YAAA,CAAAvB,cAAA,GAAAwC,CAAA,WACrE;cAAE,GAAGuC,IAAI;cAAEnC,EAAE,EAAElC;YAAwB,CAAE;YAAA;YAAA,CAAAV,cAAA,GAAAwC,CAAA,WACzCuC,IAAI;UACR,CAAC,CAAC;UACHH,eAAe,EAAEsC,UAAU,CAACc,sBAAsB,CAAC,CAACpD,eAAe,CACjE0C,GAAG,CAACvC,IAAI,IAAG;YAAA;YAAA/E,cAAA,GAAAsC,CAAA;YAAAtC,cAAA,GAAAiB,CAAA;YACX,OAAO,2BAAAjB,cAAA,GAAAwC,CAAA,WAAAuC,IAAI,CAACnC,EAAE,KAAKoE,SAAS;YAAA;YAAA,CAAAhH,cAAA,GAAAwC,CAAA,WAAIuC,IAAI,CAACd,KAAK,KAAK1C,yBAAyB;YAAA;YAAA,CAAAvB,cAAA,GAAAwC,CAAA,WACrE;cAAE,GAAGuC,IAAI;cAAEnC,EAAE,EAAElC;YAAwB,CAAE;YAAA;YAAA,CAAAV,cAAA,GAAAwC,CAAA,WACzCuC,IAAI;UACR,CAAC;SACF;QAED;QACA,MAAMJ,cAAc;QAAA;QAAA,CAAA3E,cAAA,GAAAiB,CAAA,SAAGiG,UAAU,CAACc,sBAAsB,CAAC,CAACpD,eAAe,CAAC0C,GAAG,CAAClD,CAAC,IAAI;UAAA;UAAApE,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAAd,SAAS,CAACiE,CAAC,CAAC;QAAD,CAAC,CAAC;QAChG,MAAMQ,eAAe;QAAA;QAAA,CAAA5E,cAAA,GAAAiB,CAAA,SAAGiG,UAAU,CAACiB,qBAAqB,CAAC,CAACxD,cAAc,CAAC2C,GAAG,CAAClD,CAAC,IAAI;UAAA;UAAApE,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAAd,SAAS,CAACiE,CAAC,CAAC;QAAD,CAAC,CAAC;QAC/F,MAAMgE,eAAe;QAAA;QAAA,CAAApI,cAAA,GAAAiB,CAAA;QAAG;QAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAA0E,UAAU,CAAC,CAAC,CAAC,CAAC9E,WAAW,CAACiG,SAAS,EAAEhE,MAAM;QAAA;QAAA,CAAArE,cAAA,GAAAwC,CAAA,WAAI,CAAC;QAExE,MAAM8F,0BAA0B;QAAA;QAAA,CAAAtI,cAAA,GAAAiB,CAAA,SAAG;UAClC2B,EAAE,EAAElC,wBAAwB;UAC5B2H,SAAS,EAAE,GAAG,CAACE,MAAM,CAACH,eAAe,CAAC;UACtC7C,SAAS,EAAE,CAACyB,SAAS,CAAC;UACtBwB,MAAM,EAAE5B,2BAA2B,EAAE6B,IAAI;UACzCC,OAAO,EAAExI,QAAQ,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;UACxDyI,OAAO,EAAE;SACiB;QAE3B;QAAA;QAAA3I,cAAA,GAAAiB,CAAA;QACAiG,UAAU,CAAC0B,MAAM,CAACT,qBAAqB,EAAE,CAAC,EAAE;UAC3C/F,WAAW,EAAEkG,0BAA0B;UACvC7C,IAAI,EAAE,kBAAkB;UACxBd,cAAc;UACdC;SACA,CAAC;MACH,CAAC;MAAA;MAAA;QAAA5E,cAAA,GAAAwC,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAxC,cAAA,GAAAwC,CAAA;IAAA;IAED;IAAAxC,cAAA,GAAAiB,CAAA;IACA;IAAI;IAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAuE,kBAAkB;IAAA;IAAA,CAAA/G,cAAA,GAAAwC,CAAA,WAAImE,qBAAqB,EAAEQ,QAAQ;IAAA;IAAA,CAAAnH,cAAA,GAAAwC,CAAA,WAAImE,qBAAqB,CAACQ,QAAQ,KAAKH,SAAS,GAAE;MAAA;MAAAhH,cAAA,GAAAwC,CAAA;MAC1G;MACA,IAAIwF,sBAAsB;MAAA;MAAA,CAAAhI,cAAA,GAAAiB,CAAA,SAAGF,WAAW,CAACmG,UAAU,EAAEe,EAAE,IAAI;QAAA;QAAAjI,cAAA,GAAAsC,CAAA;QAAAtC,cAAA,GAAAiB,CAAA;QAAA,OAAAgH,EAAE,CAACrD,eAAe,CAACsD,IAAI,CAACnD,IAAI,IAAI;UAAA;UAAA/E,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UAAA,OAAA8D,IAAI,CAACnC,EAAE,KAAK+D,qBAAqB,CAACQ,QAAQ;QAAR,CAAQ,CAAC;MAAD,CAAC,CAAC;MACvI,MAAMgB,qBAAqB;MAAA;MAAA,CAAAnI,cAAA,GAAAiB,CAAA,SAAGiG,UAAU,CAACpC,SAAS,CAACmD,EAAE,IAAI;QAAA;QAAAjI,cAAA,GAAAsC,CAAA;QAAAtC,cAAA,GAAAiB,CAAA;QAAA,OAAAgH,EAAE,CAAC7F,WAAW,CAACQ,EAAE,KAAK+D,qBAAqB,CAACQ,QAAQ;MAAR,CAAQ,CAAC;MAAC;MAAAnH,cAAA,GAAAiB,CAAA;MAE/G,IAAIkH,qBAAqB,KAAK,CAAC,CAAC,EAAE;QAAA;QAAAnI,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACjC;QAAI;QAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAAwF,sBAAsB,KAAK,CAAC,CAAC;QAAA;QAAA,CAAAhI,cAAA,GAAAwC,CAAA,WAAI2F,qBAAqB,GAAG,CAAC,GAAE;UAAA;UAAAnI,cAAA,GAAAwC,CAAA;UAAAxC,cAAA,GAAAiB,CAAA;UAC/D+G,sBAAsB,GAAGG,qBAAqB,GAAG,CAAC;QACnD,CAAC;QAAA;QAAA;UAAAnI,cAAA,GAAAwC,CAAA;QAAA;QAED;QAAAxC,cAAA,GAAAiB,CAAA;QACAiG,UAAU,CAACiB,qBAAqB,CAAC,CAACxD,cAAc,CAACS,IAAI,CAAC;UACrDxC,EAAE,EAAE+D,qBAAqB,CAACQ,QAAQ;UAClClD,KAAK,EAAE3C;SACP,CAAC;QAEF,MAAMqD,cAAc;QAAA;QAAA,CAAA3E,cAAA,GAAAiB,CAAA,SAAG+G,sBAAsB,KAAK,CAAC,CAAC;QAAA;QAAA,CAAAhI,cAAA,GAAAwC,CAAA,WACjD0E,UAAU,CAACc,sBAAsB,CAAC,CAACpD,eAAe,CAClD0C,GAAG,CAACvC,IAAI,IAAG;UAAA;UAAA/E,cAAA,GAAAsC,CAAA;UAAAtC,cAAA,GAAAiB,CAAA;UACX,OAAO,2BAAAjB,cAAA,GAAAwC,CAAA,WAAAsE,kBAAkB;UAAA;UAAA,CAAA9G,cAAA,GAAAwC,CAAA,WAAIuC,IAAI,CAACnC,EAAE,KAAKoE,SAAS;UAAA;UAAA,CAAAhH,cAAA,GAAAwC,CAAA,WAAIuC,IAAI,CAACd,KAAK,KAAK1C,yBAAyB;UAAA;UAAA,CAAAvB,cAAA,GAAAwC,CAAA,WAC3F;YAAE,GAAGuC,IAAI;YAAEnC,EAAE,EAAElC;UAAwB,CAAE;UAAA;UAAA,CAAAV,cAAA,GAAAwC,CAAA,WACzCuC,IAAI;QACR,CAAC,CAAC;QAAA;QAAA,CAAA/E,cAAA,GAAAwC,CAAA,WACD,EAAE;QACL,MAAMoC,eAAe;QAAA;QAAA,CAAA5E,cAAA,GAAAiB,CAAA,SAAGiG,UAAU,CAACiB,qBAAqB,CAAC,CAACxD,cAAc,CAACkE,KAAK,CAAC,CAAC,CAAC;QACjF,MAAMT,eAAe;QAAA;QAAA,CAAApI,cAAA,GAAAiB,CAAA;QAAG;QAAA,CAAAjB,cAAA,GAAAwC,CAAA,WAAA0E,UAAU,CAAC,CAAC,CAAC,CAAC9E,WAAW,CAACiG,SAAS,EAAEhE,MAAM;QAAA;QAAA,CAAArE,cAAA,GAAAwC,CAAA,WAAI,CAAC;QAExE,MAAMsG,0BAA0B;QAAA;QAAA,CAAA9I,cAAA,GAAAiB,CAAA,SAAG;UAClC2B,EAAE,EAAEjC,wBAAwB;UAC5B0H,SAAS,EAAE,GAAG,CAACE,MAAM,CAACH,eAAe,CAAC;UACtC7C,SAAS,EAAE,CAACyB,SAAS,CAAC;UACtBwB,MAAM,EAAE7B,qBAAqB,EAAE8B,IAAI;UACnCC,OAAO,EAAExI,QAAQ,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;UACxDyI,OAAO,EAAE;SACiB;QAE3B;QAAA;QAAA3I,cAAA,GAAAiB,CAAA;QACAiG,UAAU,CAAC0B,MAAM,CAACT,qBAAqB,EAAE,CAAC,EAAE;UAC3C/F,WAAW,EAAE0G,0BAA0B;UACvCrD,IAAI,EAAE,kBAAkB;UACxBd,cAAc;UACdC;SACA,CAAC;MACH,CAAC;MAAA;MAAA;QAAA5E,cAAA,GAAAwC,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAxC,cAAA,GAAAwC,CAAA;IAAA;EACF,CAAC;EAAA;EAAA;IAAAxC,cAAA,GAAAwC,CAAA;EAAA;EAAAxC,cAAA,GAAAiB,CAAA;EAED,OAAOiG,UAAU;AAClB;AAEA,OAAM,SAAU6B,mBAAmBA,CAACxE,oBAA8C;EAAA;EAAAvE,cAAA,GAAAsC,CAAA;EACjF,MAAMF,WAAW;EAAA;EAAA,CAAApC,cAAA,GAAAiB,CAAA,SAAGsD,oBAAoB,CAACnC,WAAW;EACpD,MAAMuC,cAAc;EAAA;EAAA,CAAA3E,cAAA,GAAAiB,CAAA,SAAGsD,oBAAoB,CAACI,cAAc;EAE1D;EACA,MAAME,UAAU;EAAA;EAAA,CAAA7E,cAAA,GAAAiB,CAAA,SAAG0D,cAAc,CAACG,SAAS,CAACC,IAAI,IAAI;IAAA;IAAA/E,cAAA,GAAAsC,CAAA;IAAAtC,cAAA,GAAAiB,CAAA;IAAA,OAAA8D,IAAI,CAACnC,EAAE,KAAKR,WAAW,CAACQ,EAAE;EAAF,CAAE,CAAC;EAE/E;EAAA;EAAA5C,cAAA,GAAAiB,CAAA;EACA,OAAO4D,UAAU,KAAK,CAAC,CAAC;EAAA;EAAA,CAAA7E,cAAA,GAAAwC,CAAA,WAAGqC,UAAU;EAAA;EAAA,CAAA7E,cAAA,GAAAwC,CAAA,WAAGmC,cAAc,CAACN,MAAM;AAC9D;AAEA,OAAM,SAAU0D,sBAAsBA,CACrCF,IAAwB,EACxBC,IAAwB,EACxBnB,qBAA0C,EAC1CC,2BAAgD,EAChDC,yBAA8C;EAAA;EAAA7G,cAAA,GAAAsC,CAAA;EAAAtC,cAAA,GAAAiB,CAAA;EAE9C,MAAM+H,sBAAsB,GAAIzG,GAAuB,IAAI;IAAA;IAAAvC,cAAA,GAAAsC,CAAA;IAAAtC,cAAA,GAAAiB,CAAA;IAC1D,IAAIsB,GAAG,CAACK,EAAE,KAAK+D,qBAAqB,EAAE/D,EAAE,EAAE;MAAA;MAAA5C,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MACzC,OAAO,CAAC;IACT,CAAC,MAAM;MAAA;MAAAjB,cAAA,GAAAwC,CAAA;MAAAxC,cAAA,GAAAiB,CAAA;MAAA,IAAIsB,GAAG,CAACK,EAAE,KAAKgE,2BAA2B,EAAEhE,EAAE,EAAE;QAAA;QAAA5C,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QACtD,OAAO,CAAC;MACT,CAAC,MAAM;QAAA;QAAAjB,cAAA,GAAAwC,CAAA;QAAAxC,cAAA,GAAAiB,CAAA;QAAA,IAAIsB,GAAG,CAACK,EAAE,KAAKiE,yBAAyB,EAAEjE,EAAE,EAAE;UAAA;UAAA5C,cAAA,GAAAwC,CAAA;UAAAxC,cAAA,GAAAiB,CAAA;UACpD,OAAO,CAAC;QACT,CAAC,MAAM;UAAA;UAAAjB,cAAA,GAAAwC,CAAA;UAAAxC,cAAA,GAAAiB,CAAA;UAAA,IAAIsB,GAAG,CAAC0B,KAAK,KAAKpB,SAAS,EAAE;YAAA;YAAA7C,cAAA,GAAAwC,CAAA;YAAAxC,cAAA,GAAAiB,CAAA;YACnC,OAAO,CAAC;UACT,CAAC;UAAA;UAAA;YAAAjB,cAAA,GAAAwC,CAAA;UAAA;QAAD;MAAA;IAAA;IAAC;IAAAxC,cAAA,GAAAiB,CAAA;IAED,OAAO,EAAE;EACV,CAAC;EAED;EACA,MAAMgI,SAAS;EAAA;EAAA,CAAAjJ,cAAA,GAAAiB,CAAA,SAAG+H,sBAAsB,CAACnB,IAAI,CAAC;EAC9C,MAAMqB,SAAS;EAAA;EAAA,CAAAlJ,cAAA,GAAAiB,CAAA,SAAG+H,sBAAsB,CAAClB,IAAI,CAAC;EAAC;EAAA9H,cAAA,GAAAiB,CAAA;EAE/C,OAAOgI,SAAS,GAAGC,SAAS;AAC7B","ignoreList":[]}