{"version":3,"names":["cov_g1j52o6zz","actualCoverage","Promises","RunOnceScheduler","runWhenGlobalIdle","Emitter","Event","PauseableEmitter","Disposable","dispose","MutableDisposable","mark","isUndefinedOrNull","InMemoryStorageDatabase","Storage","StorageHint","createDecorator","isUserDataProfile","IS_NEW_KEY","s","TARGET_KEY","IStorageService","WillSaveStateReason","f","b","loadKeyTargets","storage","keysRaw","get","JSON","parse","error","Object","create","AbstractStorageService","DEFAULT_FLUSH_INTERVAL","_onDidChangeValue","_register","_onDidChangeTarget","onDidChangeTarget","event","_onWillSaveState","onWillSaveState","initializationPromise","flushWhenIdleScheduler","runFlushWhenIdle","constructor","options","flushInterval","doFlushWhenIdle","onDidChangeValue","scope","key","disposable","filter","e","undefined","value","shouldFlushWhenIdle","flush","schedule","stopFlushWhenIdle","initialize","doInitialize","emitDidChangeValue","external","_applicationKeyTargets","_profileKeyTargets","_workspaceKeyTargets","fire","target","getKeyTargets","emitWillSaveState","reason","fallbackValue","getStorage","getBoolean","getNumber","getObject","storeAll","entries","withPausedEmitters","entry","store","remove","updateKeyTarget","set","delete","fn","pause","resume","keys","keyTargets","keyTarget","push","stringify","workspaceKeyTargets","profileKeyTargets","applicationKeyTargets","isNew","NONE","applicationStorage","profileStorage","workspaceStorage","settled","whenFlushed","Promise","resolve","SHUTDOWN","log","applicationItems","items","Map","profileItems","workspaceItems","logStorage","getLogDetails","optimize","switch","to","preserveData","switchToProfile","switchToWorkspace","canSwitchProfile","from","id","isProfileUsingDefaultStorage","switchData","oldStorage","newStorage","handledkeys","Set","oldValue","add","newValue","has","profile","isDefault","useDefaultFlags","globalState","InMemoryStorageService","hint","STORAGE_IN_MEMORY","onDidChangeStorage","hasScope","application","workspace","applicationPath","profilePath","workspacePath","safeParse","applicationItemsParsed","forEach","profileItemsParsed","workspaceItemsParsed","console","group","applicationValues","table","groupEnd","profileValues","workspaceValues"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/storage/common/storage.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Promises, RunOnceScheduler, runWhenGlobalIdle } from '../../../base/common/async.js';\nimport { Emitter, Event, PauseableEmitter } from '../../../base/common/event.js';\nimport { Disposable, DisposableStore, dispose, MutableDisposable } from '../../../base/common/lifecycle.js';\nimport { mark } from '../../../base/common/performance.js';\nimport { isUndefinedOrNull } from '../../../base/common/types.js';\nimport { InMemoryStorageDatabase, IStorage, IStorageChangeEvent, Storage, StorageHint, StorageValue } from '../../../base/parts/storage/common/storage.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { isUserDataProfile, IUserDataProfile } from '../../userDataProfile/common/userDataProfile.js';\nimport { IAnyWorkspaceIdentifier } from '../../workspace/common/workspace.js';\n\nexport const IS_NEW_KEY = '__$__isNewStorageMarker';\nexport const TARGET_KEY = '__$__targetStorageMarker';\n\nexport const IStorageService = createDecorator<IStorageService>('storageService');\n\nexport enum WillSaveStateReason {\n\n\t/**\n\t * No specific reason to save state.\n\t */\n\tNONE,\n\n\t/**\n\t * A hint that the workbench is about to shutdown.\n\t */\n\tSHUTDOWN\n}\n\nexport interface IWillSaveStateEvent {\n\treadonly reason: WillSaveStateReason;\n}\n\nexport interface IStorageEntry {\n\treadonly key: string;\n\treadonly value: StorageValue;\n\treadonly scope: StorageScope;\n\treadonly target: StorageTarget;\n}\n\nexport interface IWorkspaceStorageValueChangeEvent extends IStorageValueChangeEvent {\n\treadonly scope: StorageScope.WORKSPACE;\n}\n\nexport interface IProfileStorageValueChangeEvent extends IStorageValueChangeEvent {\n\treadonly scope: StorageScope.PROFILE;\n}\n\nexport interface IApplicationStorageValueChangeEvent extends IStorageValueChangeEvent {\n\treadonly scope: StorageScope.APPLICATION;\n}\n\nexport interface IStorageService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Emitted whenever data is updated or deleted on the given\n\t * scope and optional key.\n\t *\n\t * @param scope the `StorageScope` to listen to changes\n\t * @param key the optional key to filter for or all keys of\n\t * the scope if `undefined`\n\t */\n\tonDidChangeValue(scope: StorageScope.WORKSPACE, key: string | undefined, disposable: DisposableStore): Event<IWorkspaceStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope.PROFILE, key: string | undefined, disposable: DisposableStore): Event<IProfileStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope.APPLICATION, key: string | undefined, disposable: DisposableStore): Event<IApplicationStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope, key: string | undefined, disposable: DisposableStore): Event<IStorageValueChangeEvent>;\n\n\t/**\n\t * Emitted whenever target of a storage entry changes.\n\t */\n\treadonly onDidChangeTarget: Event<IStorageTargetChangeEvent>;\n\n\t/**\n\t * Emitted when the storage is about to persist. This is the right time\n\t * to persist data to ensure it is stored before the application shuts\n\t * down.\n\t *\n\t * The will save state event allows to optionally ask for the reason of\n\t * saving the state, e.g. to find out if the state is saved due to a\n\t * shutdown.\n\t *\n\t * Note: this event may be fired many times, not only on shutdown to prevent\n\t * loss of state in situations where the shutdown is not sufficient to\n\t * persist the data properly.\n\t */\n\treadonly onWillSaveState: Event<IWillSaveStateEvent>;\n\n\t/**\n\t * Retrieve an element stored with the given key from storage. Use\n\t * the provided `defaultValue` if the element is `null` or `undefined`.\n\t *\n\t * @param scope allows to define the scope of the storage operation\n\t * to either the current workspace only, all workspaces or all profiles.\n\t */\n\tget(key: string, scope: StorageScope, fallbackValue: string): string;\n\tget(key: string, scope: StorageScope, fallbackValue?: string): string | undefined;\n\n\t/**\n\t * Retrieve an element stored with the given key from storage. Use\n\t * the provided `defaultValue` if the element is `null` or `undefined`.\n\t * The element will be converted to a `boolean`.\n\t *\n\t * @param scope allows to define the scope of the storage operation\n\t * to either the current workspace only, all workspaces or all profiles.\n\t */\n\tgetBoolean(key: string, scope: StorageScope, fallbackValue: boolean): boolean;\n\tgetBoolean(key: string, scope: StorageScope, fallbackValue?: boolean): boolean | undefined;\n\n\t/**\n\t * Retrieve an element stored with the given key from storage. Use\n\t * the provided `defaultValue` if the element is `null` or `undefined`.\n\t * The element will be converted to a `number` using `parseInt` with a\n\t * base of `10`.\n\t *\n\t * @param scope allows to define the scope of the storage operation\n\t * to either the current workspace only, all workspaces or all profiles.\n\t */\n\tgetNumber(key: string, scope: StorageScope, fallbackValue: number): number;\n\tgetNumber(key: string, scope: StorageScope, fallbackValue?: number): number | undefined;\n\n\t/**\n\t * Retrieve an element stored with the given key from storage. Use\n\t * the provided `defaultValue` if the element is `null` or `undefined`.\n\t * The element will be converted to a `object` using `JSON.parse`.\n\t *\n\t * @param scope allows to define the scope of the storage operation\n\t * to either the current workspace only, all workspaces or all profiles.\n\t */\n\tgetObject<T extends object>(key: string, scope: StorageScope, fallbackValue: T): T;\n\tgetObject<T extends object>(key: string, scope: StorageScope, fallbackValue?: T): T | undefined;\n\n\t/**\n\t * Store a value under the given key to storage. The value will be\n\t * converted to a `string`. Storing either `undefined` or `null` will\n\t * remove the entry under the key.\n\t *\n\t * @param scope allows to define the scope of the storage operation\n\t * to either the current workspace only, all workspaces or all profiles.\n\t *\n\t * @param target allows to define the target of the storage operation\n\t * to either the current machine or user.\n\t */\n\tstore(key: string, value: StorageValue, scope: StorageScope, target: StorageTarget): void;\n\n\t/**\n\t * Allows to store multiple values in a bulk operation. Events will only\n\t * be emitted when all values have been stored.\n\t *\n\t * @param external a hint to indicate the source of the operation is external,\n\t * such as settings sync or profile changes.\n\t */\n\tstoreAll(entries: Array<IStorageEntry>, external: boolean): void;\n\n\t/**\n\t * Delete an element stored under the provided key from storage.\n\t *\n\t * The scope argument allows to define the scope of the storage\n\t * operation to either the current workspace only, all workspaces\n\t * or all profiles.\n\t */\n\tremove(key: string, scope: StorageScope): void;\n\n\t/**\n\t * Returns all the keys used in the storage for the provided `scope`\n\t * and `target`.\n\t *\n\t * Note: this will NOT return all keys stored in the storage layer.\n\t * Some keys may not have an associated `StorageTarget` and thus\n\t * will be excluded from the results.\n\t *\n\t * @param scope allows to define the scope for the keys\n\t * to either the current workspace only, all workspaces or all profiles.\n\t *\n\t * @param target allows to define the target for the keys\n\t * to either the current machine or user.\n\t */\n\tkeys(scope: StorageScope, target: StorageTarget): string[];\n\n\t/**\n\t * Log the contents of the storage to the console.\n\t */\n\tlog(): void;\n\n\t/**\n\t * Returns true if the storage service handles the provided scope.\n\t */\n\thasScope(scope: IAnyWorkspaceIdentifier | IUserDataProfile): boolean;\n\n\t/**\n\t * Switch storage to another workspace or profile. Optionally preserve the\n\t * current data to the new storage.\n\t */\n\tswitch(to: IAnyWorkspaceIdentifier | IUserDataProfile, preserveData: boolean): Promise<void>;\n\n\t/**\n\t * Whether the storage for the given scope was created during this session or\n\t * existed before.\n\t */\n\tisNew(scope: StorageScope): boolean;\n\n\t/**\n\t * Attempts to reduce the DB size via optimization commands if supported.\n\t */\n\toptimize(scope: StorageScope): Promise<void>;\n\n\t/**\n\t * Allows to flush state, e.g. in cases where a shutdown is\n\t * imminent. This will send out the `onWillSaveState` to ask\n\t * everyone for latest state.\n\t *\n\t * @returns a `Promise` that can be awaited on when all updates\n\t * to the underlying storage have been flushed.\n\t */\n\tflush(reason?: WillSaveStateReason): Promise<void>;\n}\n\nexport const enum StorageScope {\n\n\t/**\n\t * The stored data will be scoped to all workspaces across all profiles.\n\t */\n\tAPPLICATION = -1,\n\n\t/**\n\t * The stored data will be scoped to all workspaces of the same profile.\n\t */\n\tPROFILE = 0,\n\n\t/**\n\t * The stored data will be scoped to the current workspace.\n\t */\n\tWORKSPACE = 1\n}\n\nexport const enum StorageTarget {\n\n\t/**\n\t * The stored data is user specific and applies across machines.\n\t */\n\tUSER,\n\n\t/**\n\t * The stored data is machine specific.\n\t */\n\tMACHINE\n}\n\nexport interface IStorageValueChangeEvent {\n\n\t/**\n\t * The scope for the storage entry that changed\n\t * or was removed.\n\t */\n\treadonly scope: StorageScope;\n\n\t/**\n\t * The `key` of the storage entry that was changed\n\t * or was removed.\n\t */\n\treadonly key: string;\n\n\t/**\n\t * The `target` can be `undefined` if a key is being\n\t * removed.\n\t */\n\treadonly target: StorageTarget | undefined;\n\n\t/**\n\t * A hint how the storage change event was triggered. If\n\t * `true`, the storage change was triggered by an external\n\t * source, such as:\n\t * - another process (for example another window)\n\t * - operations such as settings sync or profiles change\n\t */\n\treadonly external?: boolean;\n}\n\nexport interface IStorageTargetChangeEvent {\n\n\t/**\n\t * The scope for the target that changed. Listeners\n\t * should use `keys(scope, target)` to get an updated\n\t * list of keys for the given `scope` and `target`.\n\t */\n\treadonly scope: StorageScope;\n}\n\ninterface IKeyTargets {\n\t[key: string]: StorageTarget;\n}\n\nexport interface IStorageServiceOptions {\n\treadonly flushInterval: number;\n}\n\nexport function loadKeyTargets(storage: IStorage): IKeyTargets {\n\tconst keysRaw = storage.get(TARGET_KEY);\n\tif (keysRaw) {\n\t\ttry {\n\t\t\treturn JSON.parse(keysRaw);\n\t\t} catch (error) {\n\t\t\t// Fail gracefully\n\t\t}\n\t}\n\n\treturn Object.create(null);\n}\n\nexport abstract class AbstractStorageService extends Disposable implements IStorageService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static DEFAULT_FLUSH_INTERVAL = 60 * 1000; // every minute\n\n\tprivate readonly _onDidChangeValue = this._register(new PauseableEmitter<IStorageValueChangeEvent>());\n\n\tprivate readonly _onDidChangeTarget = this._register(new PauseableEmitter<IStorageTargetChangeEvent>());\n\treadonly onDidChangeTarget = this._onDidChangeTarget.event;\n\n\tprivate readonly _onWillSaveState = this._register(new Emitter<IWillSaveStateEvent>());\n\treadonly onWillSaveState = this._onWillSaveState.event;\n\n\tprivate initializationPromise: Promise<void> | undefined;\n\n\tprivate readonly flushWhenIdleScheduler: RunOnceScheduler;\n\tprivate readonly runFlushWhenIdle = this._register(new MutableDisposable());\n\n\tconstructor(options: IStorageServiceOptions = { flushInterval: AbstractStorageService.DEFAULT_FLUSH_INTERVAL }) {\n\t\tsuper();\n\n\t\tthis.flushWhenIdleScheduler = this._register(new RunOnceScheduler(() => this.doFlushWhenIdle(), options.flushInterval));\n\t}\n\n\tonDidChangeValue(scope: StorageScope.WORKSPACE, key: string | undefined, disposable: DisposableStore): Event<IWorkspaceStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope.PROFILE, key: string | undefined, disposable: DisposableStore): Event<IProfileStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope.APPLICATION, key: string | undefined, disposable: DisposableStore): Event<IApplicationStorageValueChangeEvent>;\n\tonDidChangeValue(scope: StorageScope, key: string | undefined, disposable: DisposableStore): Event<IStorageValueChangeEvent> {\n\t\treturn Event.filter(this._onDidChangeValue.event, e => e.scope === scope && (key === undefined || e.key === key), disposable);\n\t}\n\n\tprivate doFlushWhenIdle(): void {\n\t\tthis.runFlushWhenIdle.value = runWhenGlobalIdle(() => {\n\t\t\tif (this.shouldFlushWhenIdle()) {\n\t\t\t\tthis.flush();\n\t\t\t}\n\n\t\t\t// repeat\n\t\t\tthis.flushWhenIdleScheduler.schedule();\n\t\t});\n\t}\n\n\tprotected shouldFlushWhenIdle(): boolean {\n\t\treturn true;\n\t}\n\n\tprotected stopFlushWhenIdle(): void {\n\t\tdispose([this.runFlushWhenIdle, this.flushWhenIdleScheduler]);\n\t}\n\n\tinitialize(): Promise<void> {\n\t\tif (!this.initializationPromise) {\n\t\t\tthis.initializationPromise = (async () => {\n\n\t\t\t\t// Init all storage locations\n\t\t\t\tmark('code/willInitStorage');\n\t\t\t\ttry {\n\t\t\t\t\tawait this.doInitialize(); // Ask subclasses to initialize storage\n\t\t\t\t} finally {\n\t\t\t\t\tmark('code/didInitStorage');\n\t\t\t\t}\n\n\t\t\t\t// On some OS we do not get enough time to persist state on shutdown (e.g. when\n\t\t\t\t// Windows restarts after applying updates). In other cases, MintMind might crash,\n\t\t\t\t// so we periodically save state to reduce the chance of loosing any state.\n\t\t\t\t// In the browser we do not have support for long running unload sequences. As such,\n\t\t\t\t// we cannot ask for saving state in that moment, because that would result in a\n\t\t\t\t// long running operation.\n\t\t\t\t// Instead, periodically ask customers to save save. The library will be clever enough\n\t\t\t\t// to only save state that has actually changed.\n\t\t\t\tthis.flushWhenIdleScheduler.schedule();\n\t\t\t})();\n\t\t}\n\n\t\treturn this.initializationPromise;\n\t}\n\n\tprotected emitDidChangeValue(scope: StorageScope, event: IStorageChangeEvent): void {\n\t\tconst { key, external } = event;\n\n\t\t// Specially handle `TARGET_KEY`\n\t\tif (key === TARGET_KEY) {\n\n\t\t\t// Clear our cached version which is now out of date\n\t\t\tswitch (scope) {\n\t\t\t\tcase StorageScope.APPLICATION:\n\t\t\t\t\tthis._applicationKeyTargets = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase StorageScope.PROFILE:\n\t\t\t\t\tthis._profileKeyTargets = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\tcase StorageScope.WORKSPACE:\n\t\t\t\t\tthis._workspaceKeyTargets = undefined;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Emit as `didChangeTarget` event\n\t\t\tthis._onDidChangeTarget.fire({ scope });\n\t\t}\n\n\t\t// Emit any other key to outside\n\t\telse {\n\t\t\tthis._onDidChangeValue.fire({ scope, key, target: this.getKeyTargets(scope)[key], external });\n\t\t}\n\t}\n\n\tprotected emitWillSaveState(reason: WillSaveStateReason): void {\n\t\tthis._onWillSaveState.fire({ reason });\n\t}\n\n\tget(key: string, scope: StorageScope, fallbackValue: string): string;\n\tget(key: string, scope: StorageScope): string | undefined;\n\tget(key: string, scope: StorageScope, fallbackValue?: string): string | undefined {\n\t\treturn this.getStorage(scope)?.get(key, fallbackValue);\n\t}\n\n\tgetBoolean(key: string, scope: StorageScope, fallbackValue: boolean): boolean;\n\tgetBoolean(key: string, scope: StorageScope): boolean | undefined;\n\tgetBoolean(key: string, scope: StorageScope, fallbackValue?: boolean): boolean | undefined {\n\t\treturn this.getStorage(scope)?.getBoolean(key, fallbackValue);\n\t}\n\n\tgetNumber(key: string, scope: StorageScope, fallbackValue: number): number;\n\tgetNumber(key: string, scope: StorageScope): number | undefined;\n\tgetNumber(key: string, scope: StorageScope, fallbackValue?: number): number | undefined {\n\t\treturn this.getStorage(scope)?.getNumber(key, fallbackValue);\n\t}\n\n\tgetObject(key: string, scope: StorageScope, fallbackValue: object): object;\n\tgetObject(key: string, scope: StorageScope): object | undefined;\n\tgetObject(key: string, scope: StorageScope, fallbackValue?: object): object | undefined {\n\t\treturn this.getStorage(scope)?.getObject(key, fallbackValue);\n\t}\n\n\tstoreAll(entries: Array<IStorageEntry>, external: boolean): void {\n\t\tthis.withPausedEmitters(() => {\n\t\t\tfor (const entry of entries) {\n\t\t\t\tthis.store(entry.key, entry.value, entry.scope, entry.target, external);\n\t\t\t}\n\t\t});\n\t}\n\n\tstore(key: string, value: StorageValue, scope: StorageScope, target: StorageTarget, external = false): void {\n\n\t\t// We remove the key for undefined/null values\n\t\tif (isUndefinedOrNull(value)) {\n\t\t\tthis.remove(key, scope, external);\n\t\t\treturn;\n\t\t}\n\n\t\t// Update our datastructures but send events only after\n\t\tthis.withPausedEmitters(() => {\n\n\t\t\t// Update key-target map\n\t\t\tthis.updateKeyTarget(key, scope, target);\n\n\t\t\t// Store actual value\n\t\t\tthis.getStorage(scope)?.set(key, value, external);\n\t\t});\n\t}\n\n\tremove(key: string, scope: StorageScope, external = false): void {\n\n\t\t// Update our datastructures but send events only after\n\t\tthis.withPausedEmitters(() => {\n\n\t\t\t// Update key-target map\n\t\t\tthis.updateKeyTarget(key, scope, undefined);\n\n\t\t\t// Remove actual key\n\t\t\tthis.getStorage(scope)?.delete(key, external);\n\t\t});\n\t}\n\n\tprivate withPausedEmitters(fn: Function): void {\n\n\t\t// Pause emitters\n\t\tthis._onDidChangeValue.pause();\n\t\tthis._onDidChangeTarget.pause();\n\n\t\ttry {\n\t\t\tfn();\n\t\t} finally {\n\n\t\t\t// Resume emitters\n\t\t\tthis._onDidChangeValue.resume();\n\t\t\tthis._onDidChangeTarget.resume();\n\t\t}\n\t}\n\n\tkeys(scope: StorageScope, target: StorageTarget): string[] {\n\t\tconst keys: string[] = [];\n\n\t\tconst keyTargets = this.getKeyTargets(scope);\n\t\tfor (const key of Object.keys(keyTargets)) {\n\t\t\tconst keyTarget = keyTargets[key];\n\t\t\tif (keyTarget === target) {\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\n\t\treturn keys;\n\t}\n\n\tprivate updateKeyTarget(key: string, scope: StorageScope, target: StorageTarget | undefined, external = false): void {\n\n\t\t// Add\n\t\tconst keyTargets = this.getKeyTargets(scope);\n\t\tif (typeof target === 'number') {\n\t\t\tif (keyTargets[key] !== target) {\n\t\t\t\tkeyTargets[key] = target;\n\t\t\t\tthis.getStorage(scope)?.set(TARGET_KEY, JSON.stringify(keyTargets), external);\n\t\t\t}\n\t\t}\n\n\t\t// Remove\n\t\telse {\n\t\t\tif (typeof keyTargets[key] === 'number') {\n\t\t\t\tdelete keyTargets[key];\n\t\t\t\tthis.getStorage(scope)?.set(TARGET_KEY, JSON.stringify(keyTargets), external);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _workspaceKeyTargets: IKeyTargets | undefined = undefined;\n\tprivate get workspaceKeyTargets(): IKeyTargets {\n\t\tif (!this._workspaceKeyTargets) {\n\t\t\tthis._workspaceKeyTargets = this.loadKeyTargets(StorageScope.WORKSPACE);\n\t\t}\n\n\t\treturn this._workspaceKeyTargets;\n\t}\n\n\tprivate _profileKeyTargets: IKeyTargets | undefined = undefined;\n\tprivate get profileKeyTargets(): IKeyTargets {\n\t\tif (!this._profileKeyTargets) {\n\t\t\tthis._profileKeyTargets = this.loadKeyTargets(StorageScope.PROFILE);\n\t\t}\n\n\t\treturn this._profileKeyTargets;\n\t}\n\n\tprivate _applicationKeyTargets: IKeyTargets | undefined = undefined;\n\tprivate get applicationKeyTargets(): IKeyTargets {\n\t\tif (!this._applicationKeyTargets) {\n\t\t\tthis._applicationKeyTargets = this.loadKeyTargets(StorageScope.APPLICATION);\n\t\t}\n\n\t\treturn this._applicationKeyTargets;\n\t}\n\n\tprivate getKeyTargets(scope: StorageScope): IKeyTargets {\n\t\tswitch (scope) {\n\t\t\tcase StorageScope.APPLICATION:\n\t\t\t\treturn this.applicationKeyTargets;\n\t\t\tcase StorageScope.PROFILE:\n\t\t\t\treturn this.profileKeyTargets;\n\t\t\tdefault:\n\t\t\t\treturn this.workspaceKeyTargets;\n\t\t}\n\t}\n\n\tprivate loadKeyTargets(scope: StorageScope): { [key: string]: StorageTarget } {\n\t\tconst storage = this.getStorage(scope);\n\n\t\treturn storage ? loadKeyTargets(storage) : Object.create(null);\n\t}\n\n\tisNew(scope: StorageScope): boolean {\n\t\treturn this.getBoolean(IS_NEW_KEY, scope) === true;\n\t}\n\n\tasync flush(reason = WillSaveStateReason.NONE): Promise<void> {\n\n\t\t// Signal event to collect changes\n\t\tthis._onWillSaveState.fire({ reason });\n\n\t\tconst applicationStorage = this.getStorage(StorageScope.APPLICATION);\n\t\tconst profileStorage = this.getStorage(StorageScope.PROFILE);\n\t\tconst workspaceStorage = this.getStorage(StorageScope.WORKSPACE);\n\n\t\tswitch (reason) {\n\n\t\t\t// Unspecific reason: just wait when data is flushed\n\t\t\tcase WillSaveStateReason.NONE:\n\t\t\t\tawait Promises.settled([\n\t\t\t\t\tapplicationStorage?.whenFlushed() ?? Promise.resolve(),\n\t\t\t\t\tprofileStorage?.whenFlushed() ?? Promise.resolve(),\n\t\t\t\t\tworkspaceStorage?.whenFlushed() ?? Promise.resolve()\n\t\t\t\t]);\n\t\t\t\tbreak;\n\n\t\t\t// Shutdown: we want to flush as soon as possible\n\t\t\t// and not hit any delays that might be there\n\t\t\tcase WillSaveStateReason.SHUTDOWN:\n\t\t\t\tawait Promises.settled([\n\t\t\t\t\tapplicationStorage?.flush(0) ?? Promise.resolve(),\n\t\t\t\t\tprofileStorage?.flush(0) ?? Promise.resolve(),\n\t\t\t\t\tworkspaceStorage?.flush(0) ?? Promise.resolve()\n\t\t\t\t]);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tasync log(): Promise<void> {\n\t\tconst applicationItems = this.getStorage(StorageScope.APPLICATION)?.items ?? new Map<string, string>();\n\t\tconst profileItems = this.getStorage(StorageScope.PROFILE)?.items ?? new Map<string, string>();\n\t\tconst workspaceItems = this.getStorage(StorageScope.WORKSPACE)?.items ?? new Map<string, string>();\n\n\t\treturn logStorage(\n\t\t\tapplicationItems,\n\t\t\tprofileItems,\n\t\t\tworkspaceItems,\n\t\t\tthis.getLogDetails(StorageScope.APPLICATION) ?? '',\n\t\t\tthis.getLogDetails(StorageScope.PROFILE) ?? '',\n\t\t\tthis.getLogDetails(StorageScope.WORKSPACE) ?? ''\n\t\t);\n\t}\n\n\tasync optimize(scope: StorageScope): Promise<void> {\n\n\t\t// Await pending data to be flushed to the DB\n\t\t// before attempting to optimize the DB\n\t\tawait this.flush();\n\n\t\treturn this.getStorage(scope)?.optimize();\n\t}\n\n\tasync switch(to: IAnyWorkspaceIdentifier | IUserDataProfile, preserveData: boolean): Promise<void> {\n\n\t\t// Signal as event so that clients can store data before we switch\n\t\tthis.emitWillSaveState(WillSaveStateReason.NONE);\n\n\t\tif (isUserDataProfile(to)) {\n\t\t\treturn this.switchToProfile(to, preserveData);\n\t\t}\n\n\t\treturn this.switchToWorkspace(to, preserveData);\n\t}\n\n\tprotected canSwitchProfile(from: IUserDataProfile, to: IUserDataProfile): boolean {\n\t\tif (from.id === to.id) {\n\t\t\treturn false; // both profiles are same\n\t\t}\n\n\t\tif (isProfileUsingDefaultStorage(to) && isProfileUsingDefaultStorage(from)) {\n\t\t\treturn false; // both profiles are using default\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprotected switchData(oldStorage: Map<string, string>, newStorage: IStorage, scope: StorageScope): void {\n\t\tthis.withPausedEmitters(() => {\n\t\t\t// Signal storage keys that have changed\n\t\t\tconst handledkeys = new Set<string>();\n\t\t\tfor (const [key, oldValue] of oldStorage) {\n\t\t\t\thandledkeys.add(key);\n\n\t\t\t\tconst newValue = newStorage.get(key);\n\t\t\t\tif (newValue !== oldValue) {\n\t\t\t\t\tthis.emitDidChangeValue(scope, { key, external: true });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const [key] of newStorage.items) {\n\t\t\t\tif (!handledkeys.has(key)) {\n\t\t\t\t\tthis.emitDidChangeValue(scope, { key, external: true });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// --- abstract\n\n\tabstract hasScope(scope: IAnyWorkspaceIdentifier | IUserDataProfile): boolean;\n\n\tprotected abstract doInitialize(): Promise<void>;\n\n\tprotected abstract getStorage(scope: StorageScope): IStorage | undefined;\n\n\tprotected abstract getLogDetails(scope: StorageScope): string | undefined;\n\n\tprotected abstract switchToProfile(toProfile: IUserDataProfile, preserveData: boolean): Promise<void>;\n\tprotected abstract switchToWorkspace(toWorkspace: IAnyWorkspaceIdentifier | IUserDataProfile, preserveData: boolean): Promise<void>;\n}\n\nexport function isProfileUsingDefaultStorage(profile: IUserDataProfile): boolean {\n\treturn profile.isDefault || !!profile.useDefaultFlags?.globalState;\n}\n\nexport class InMemoryStorageService extends AbstractStorageService {\n\n\tprivate readonly applicationStorage = this._register(new Storage(new InMemoryStorageDatabase(), { hint: StorageHint.STORAGE_IN_MEMORY }));\n\tprivate readonly profileStorage = this._register(new Storage(new InMemoryStorageDatabase(), { hint: StorageHint.STORAGE_IN_MEMORY }));\n\tprivate readonly workspaceStorage = this._register(new Storage(new InMemoryStorageDatabase(), { hint: StorageHint.STORAGE_IN_MEMORY }));\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._register(this.workspaceStorage.onDidChangeStorage(e => this.emitDidChangeValue(StorageScope.WORKSPACE, e)));\n\t\tthis._register(this.profileStorage.onDidChangeStorage(e => this.emitDidChangeValue(StorageScope.PROFILE, e)));\n\t\tthis._register(this.applicationStorage.onDidChangeStorage(e => this.emitDidChangeValue(StorageScope.APPLICATION, e)));\n\t}\n\n\tprotected getStorage(scope: StorageScope): IStorage {\n\t\tswitch (scope) {\n\t\t\tcase StorageScope.APPLICATION:\n\t\t\t\treturn this.applicationStorage;\n\t\t\tcase StorageScope.PROFILE:\n\t\t\t\treturn this.profileStorage;\n\t\t\tdefault:\n\t\t\t\treturn this.workspaceStorage;\n\t\t}\n\t}\n\n\tprotected getLogDetails(scope: StorageScope): string | undefined {\n\t\tswitch (scope) {\n\t\t\tcase StorageScope.APPLICATION:\n\t\t\t\treturn 'inMemory (application)';\n\t\t\tcase StorageScope.PROFILE:\n\t\t\t\treturn 'inMemory (profile)';\n\t\t\tdefault:\n\t\t\t\treturn 'inMemory (workspace)';\n\t\t}\n\t}\n\n\tprotected async doInitialize(): Promise<void> { }\n\n\tprotected async switchToProfile(): Promise<void> {\n\t\t// no-op when in-memory\n\t}\n\n\tprotected async switchToWorkspace(): Promise<void> {\n\t\t// no-op when in-memory\n\t}\n\n\tprotected override shouldFlushWhenIdle(): boolean {\n\t\treturn false;\n\t}\n\n\thasScope(scope: IAnyWorkspaceIdentifier | IUserDataProfile): boolean {\n\t\treturn false;\n\t}\n}\n\nexport async function logStorage(application: Map<string, string>, profile: Map<string, string>, workspace: Map<string, string>, applicationPath: string, profilePath: string, workspacePath: string): Promise<void> {\n\tconst safeParse = (value: string) => {\n\t\ttry {\n\t\t\treturn JSON.parse(value);\n\t\t} catch (error) {\n\t\t\treturn value;\n\t\t}\n\t};\n\n\tconst applicationItems = new Map<string, string>();\n\tconst applicationItemsParsed = new Map<string, string>();\n\tapplication.forEach((value, key) => {\n\t\tapplicationItems.set(key, value);\n\t\tapplicationItemsParsed.set(key, safeParse(value));\n\t});\n\n\tconst profileItems = new Map<string, string>();\n\tconst profileItemsParsed = new Map<string, string>();\n\tprofile.forEach((value, key) => {\n\t\tprofileItems.set(key, value);\n\t\tprofileItemsParsed.set(key, safeParse(value));\n\t});\n\n\tconst workspaceItems = new Map<string, string>();\n\tconst workspaceItemsParsed = new Map<string, string>();\n\tworkspace.forEach((value, key) => {\n\t\tworkspaceItems.set(key, value);\n\t\tworkspaceItemsParsed.set(key, safeParse(value));\n\t});\n\n\tif (applicationPath !== profilePath) {\n\t\tconsole.group(`Storage: Application (path: ${applicationPath})`);\n\t} else {\n\t\tconsole.group(`Storage: Application & Profile (path: ${applicationPath}, default profile)`);\n\t}\n\tconst applicationValues: { key: string; value: string }[] = [];\n\tapplicationItems.forEach((value, key) => {\n\t\tapplicationValues.push({ key, value });\n\t});\n\tconsole.table(applicationValues);\n\tconsole.groupEnd();\n\n\tconsole.log(applicationItemsParsed);\n\n\tif (applicationPath !== profilePath) {\n\t\tconsole.group(`Storage: Profile (path: ${profilePath}, profile specific)`);\n\t\tconst profileValues: { key: string; value: string }[] = [];\n\t\tprofileItems.forEach((value, key) => {\n\t\t\tprofileValues.push({ key, value });\n\t\t});\n\t\tconsole.table(profileValues);\n\t\tconsole.groupEnd();\n\n\t\tconsole.log(profileItemsParsed);\n\t}\n\n\tconsole.group(`Storage: Workspace (path: ${workspacePath})`);\n\tconst workspaceValues: { key: string; value: string }[] = [];\n\tworkspaceItems.forEach((value, key) => {\n\t\tworkspaceValues.push({ key, value });\n\t});\n\tconsole.table(workspaceValues);\n\tconsole.groupEnd();\n\n\tconsole.log(workspaceItemsParsed);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}