{"version":3,"names":["cov_2utpnlf4x","actualCoverage","createFastDomNode","onUnexpectedError","Disposable","localize2","Categories","Action2","registerAction2","IsDevelopmentContext","IEditorService","getNotebookEditorFromEditorPane","s","invalidFunc","f","Error","NotebookViewZones","listView","coordinator","_zones","domNode","constructor","document","createElement","setClassName","setPosition","setAttribute","setWidth","containerDomNode","appendChild","changeViewZones","callback","zonesHaveChanged","changeAccessor","addZone","zone","_addZone","removeZone","id","_removeZone","layoutZone","_layoutZone","safeInvoke1Arg","getViewZoneLayoutInfo","viewZoneId","zoneWidget","b","top","getWhitespacePosition","whitespaceId","height","heightInPx","onCellsChanged","e","splices","slice","reverse","forEach","splice","start","deleted","newCells","fromIndex","toIndex","cellBeforeWhitespaceIndex","afterModelPosition","_updateWhitespace","insertLength","length","offset","onHiddenRangesChange","viewPosition","convertModelIndexToViewIndex","isInHiddenArea","_isInHiddenRanges","changeOneWhitespace","layout","insertWhitespace","myZone","style","width","setDisplay","removeWhitespace","removeChild","setTop","setHeight","afterIndex","modelIndexIsVisible","dispose","func","arg1","ToggleNotebookViewZoneDeveloperAction","viewZoneIds","title","category","Developer","precondition","f1","run","accessor","editorService","get","editor","activeEditorPane","cells","getCellsInRange","i","innerText","backgroundColor","push"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/viewParts/notebookViewZones.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FastDomNode, createFastDomNode } from '../../../../../base/browser/fastDomNode.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { Categories } from '../../../../../platform/action/common/actionCommonCategories.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IsDevelopmentContext } from '../../../../../platform/contextkey/common/contextkeys.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { getNotebookEditorFromEditorPane, INotebookViewCellsUpdateEvent, INotebookViewZone, INotebookViewZoneChangeAccessor } from '../notebookBrowser.js';\nimport { NotebookCellListView } from '../view/notebookCellListView.js';\nimport { ICoordinatesConverter } from '../view/notebookRenderingCommon.js';\nimport { CellViewModel } from '../viewModel/notebookViewModelImpl.js';\n\nconst invalidFunc = () => { throw new Error(`Invalid notebook view zone change accessor`); };\n\ninterface IZoneWidget {\n\twhitespaceId: string;\n\tisInHiddenArea: boolean;\n\tzone: INotebookViewZone;\n\tdomNode: FastDomNode<HTMLElement>;\n}\n\nexport class NotebookViewZones extends Disposable {\n\tprivate _zones: { [key: string]: IZoneWidget };\n\tpublic domNode: FastDomNode<HTMLElement>;\n\n\tconstructor(private readonly listView: NotebookCellListView<CellViewModel>, private readonly coordinator: ICoordinatesConverter) {\n\t\tsuper();\n\t\tthis.domNode = createFastDomNode(document.createElement('div'));\n\t\tthis.domNode.setClassName('view-zones');\n\t\tthis.domNode.setPosition('absolute');\n\t\tthis.domNode.setAttribute('role', 'presentation');\n\t\tthis.domNode.setAttribute('aria-hidden', 'true');\n\t\tthis.domNode.setWidth('100%');\n\t\tthis._zones = {};\n\n\t\tthis.listView.containerDomNode.appendChild(this.domNode.domNode);\n\t}\n\n\tchangeViewZones(callback: (changeAccessor: INotebookViewZoneChangeAccessor) => void): boolean {\n\t\tlet zonesHaveChanged = false;\n\t\tconst changeAccessor: INotebookViewZoneChangeAccessor = {\n\t\t\taddZone: (zone: INotebookViewZone): string => {\n\t\t\t\tzonesHaveChanged = true;\n\t\t\t\treturn this._addZone(zone);\n\t\t\t},\n\t\t\tremoveZone: (id: string): void => {\n\t\t\t\tzonesHaveChanged = true;\n\t\t\t\t// TODO: validate if zones have changed layout\n\t\t\t\tthis._removeZone(id);\n\t\t\t},\n\t\t\tlayoutZone: (id: string): void => {\n\t\t\t\tzonesHaveChanged = true;\n\t\t\t\t// TODO: validate if zones have changed layout\n\t\t\t\tthis._layoutZone(id);\n\t\t\t}\n\t\t};\n\n\t\tsafeInvoke1Arg(callback, changeAccessor);\n\n\t\t// Invalidate changeAccessor\n\t\tchangeAccessor.addZone = invalidFunc;\n\t\tchangeAccessor.removeZone = invalidFunc;\n\t\tchangeAccessor.layoutZone = invalidFunc;\n\n\t\treturn zonesHaveChanged;\n\t}\n\n\tgetViewZoneLayoutInfo(viewZoneId: string): { height: number; top: number } | null {\n\t\tconst zoneWidget = this._zones[viewZoneId];\n\t\tif (!zoneWidget) {\n\t\t\treturn null;\n\t\t}\n\t\tconst top = this.listView.getWhitespacePosition(zoneWidget.whitespaceId);\n\t\tconst height = zoneWidget.zone.heightInPx;\n\t\treturn { height: height, top: top };\n\t}\n\n\tonCellsChanged(e: INotebookViewCellsUpdateEvent): void {\n\t\tconst splices = e.splices.slice().reverse();\n\t\tsplices.forEach(splice => {\n\t\t\tconst [start, deleted, newCells] = splice;\n\t\t\tconst fromIndex = start;\n\t\t\tconst toIndex = start + deleted;\n\n\t\t\t// 1, 2, 0\n\t\t\t// delete cell index 1 and 2\n\t\t\t// from index 1, to index 3 (exclusive): [1, 3)\n\t\t\t// if we have whitespace afterModelPosition 3, which is after cell index 2\n\n\t\t\tfor (const id in this._zones) {\n\t\t\t\tconst zone = this._zones[id].zone;\n\n\t\t\t\tconst cellBeforeWhitespaceIndex = zone.afterModelPosition - 1;\n\n\t\t\t\tif (cellBeforeWhitespaceIndex >= fromIndex && cellBeforeWhitespaceIndex < toIndex) {\n\t\t\t\t\t// The cell this whitespace was after has been deleted\n\t\t\t\t\t//  => move whitespace to before first deleted cell\n\t\t\t\t\tzone.afterModelPosition = fromIndex;\n\t\t\t\t\tthis._updateWhitespace(this._zones[id]);\n\t\t\t\t} else if (cellBeforeWhitespaceIndex >= toIndex) {\n\t\t\t\t\t// adjust afterModelPosition for all other cells\n\t\t\t\t\tconst insertLength = newCells.length;\n\t\t\t\t\tconst offset = insertLength - deleted;\n\t\t\t\t\tzone.afterModelPosition += offset;\n\t\t\t\t\tthis._updateWhitespace(this._zones[id]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tonHiddenRangesChange() {\n\t\tfor (const id in this._zones) {\n\t\t\tthis._updateWhitespace(this._zones[id]);\n\t\t}\n\t}\n\n\tprivate _updateWhitespace(zone: IZoneWidget) {\n\t\tconst whitespaceId = zone.whitespaceId;\n\t\tconst viewPosition = this.coordinator.convertModelIndexToViewIndex(zone.zone.afterModelPosition);\n\t\tconst isInHiddenArea = this._isInHiddenRanges(zone.zone);\n\t\tzone.isInHiddenArea = isInHiddenArea;\n\t\tthis.listView.changeOneWhitespace(whitespaceId, viewPosition, isInHiddenArea ? 0 : zone.zone.heightInPx);\n\t}\n\n\tlayout() {\n\t\tfor (const id in this._zones) {\n\t\t\tthis._layoutZone(id);\n\t\t}\n\t}\n\n\tprivate _addZone(zone: INotebookViewZone): string {\n\t\tconst viewPosition = this.coordinator.convertModelIndexToViewIndex(zone.afterModelPosition);\n\t\tconst whitespaceId = this.listView.insertWhitespace(viewPosition, zone.heightInPx);\n\t\tconst isInHiddenArea = this._isInHiddenRanges(zone);\n\t\tconst myZone: IZoneWidget = {\n\t\t\twhitespaceId: whitespaceId,\n\t\t\tzone: zone,\n\t\t\tdomNode: createFastDomNode(zone.domNode),\n\t\t\tisInHiddenArea: isInHiddenArea\n\t\t};\n\n\t\tthis._zones[whitespaceId] = myZone;\n\t\tmyZone.domNode.setPosition('absolute');\n\t\tmyZone.domNode.domNode.style.width = '100%';\n\t\tmyZone.domNode.setDisplay('none');\n\t\tmyZone.domNode.setAttribute('notebook-view-zone', whitespaceId);\n\t\tthis.domNode.appendChild(myZone.domNode);\n\t\treturn whitespaceId;\n\t}\n\n\tprivate _removeZone(id: string): void {\n\t\tthis.listView.removeWhitespace(id);\n\t\tconst zoneWidget = this._zones[id];\n\t\tif (zoneWidget) {\n\t\t\t// safely remove the dom node from its parent\n\t\t\ttry {\n\t\t\t\tthis.domNode.removeChild(zoneWidget.domNode);\n\t\t\t} catch {\n\t\t\t\t// ignore the error\n\t\t\t}\n\t\t}\n\n\t\tdelete this._zones[id];\n\t}\n\n\tprivate _layoutZone(id: string): void {\n\t\tconst zoneWidget = this._zones[id];\n\t\tif (!zoneWidget) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._updateWhitespace(this._zones[id]);\n\n\t\tconst isInHiddenArea = this._isInHiddenRanges(zoneWidget.zone);\n\n\t\tif (isInHiddenArea) {\n\t\t\tzoneWidget.domNode.setDisplay('none');\n\t\t} else {\n\t\t\tconst top = this.listView.getWhitespacePosition(zoneWidget.whitespaceId);\n\t\t\tzoneWidget.domNode.setTop(top);\n\t\t\tzoneWidget.domNode.setDisplay('block');\n\t\t\tzoneWidget.domNode.setHeight(zoneWidget.zone.heightInPx);\n\t\t}\n\t}\n\n\tprivate _isInHiddenRanges(zone: INotebookViewZone) {\n\t\t// The view zone is between two cells (zone.afterModelPosition - 1, zone.afterModelPosition)\n\t\tconst afterIndex = zone.afterModelPosition;\n\n\t\t// In notebook, the first cell (markdown cell) in a folding range is always visible, so we need to check the cell after the notebook view zone\n\t\treturn !this.coordinator.modelIndexIsVisible(afterIndex);\n\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis._zones = {};\n\t}\n}\n\nfunction safeInvoke1Arg(func: Function, arg1: any): void {\n\ttry {\n\t\tfunc(arg1);\n\t} catch (e) {\n\t\tonUnexpectedError(e);\n\t}\n}\n\nclass ToggleNotebookViewZoneDeveloperAction extends Action2 {\n\tstatic viewZoneIds: string[] = [];\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.developer.addViewZones',\n\t\t\ttitle: localize2('workbench.notebook.developer.addViewZones', \"Toggle Notebook View Zones\"),\n\t\t\tcategory: Categories.Developer,\n\t\t\tprecondition: IsDevelopmentContext,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (ToggleNotebookViewZoneDeveloperAction.viewZoneIds.length > 0) {\n\t\t\t// remove all view zones\n\t\t\teditor.changeViewZones(accessor => {\n\t\t\t\t// remove all view zones in reverse order, to follow how we handle this in the prod code\n\t\t\t\tToggleNotebookViewZoneDeveloperAction.viewZoneIds.reverse().forEach(id => {\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t});\n\t\t\t\tToggleNotebookViewZoneDeveloperAction.viewZoneIds = [];\n\t\t\t});\n\t\t} else {\n\t\t\teditor.changeViewZones(accessor => {\n\t\t\t\tconst cells = editor.getCellsInRange();\n\t\t\t\tif (cells.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst viewZoneIds: string[] = [];\n\t\t\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\t\t\tconst domNode = document.createElement('div');\n\t\t\t\t\tdomNode.innerText = `View Zone ${i}`;\n\t\t\t\t\tdomNode.style.backgroundColor = 'rgba(0, 255, 0, 0.5)';\n\t\t\t\t\tconst viewZoneId = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: i,\n\t\t\t\t\t\theightInPx: 200,\n\t\t\t\t\t\tdomNode: domNode,\n\t\t\t\t\t});\n\t\t\t\t\tviewZoneIds.push(viewZoneId);\n\t\t\t\t}\n\t\t\t\tToggleNotebookViewZoneDeveloperAction.viewZoneIds = viewZoneIds;\n\t\t\t});\n\t\t}\n\t}\n}\n\nregisterAction2(ToggleNotebookViewZoneDeveloperAction);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}