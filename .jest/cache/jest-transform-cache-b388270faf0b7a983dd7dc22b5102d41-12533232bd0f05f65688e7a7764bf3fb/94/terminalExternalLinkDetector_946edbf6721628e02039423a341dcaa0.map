{"version":3,"names":["cov_2dbtbojnq9","actualCoverage","convertLinkRangeToBuffer","getXtermLineContent","TerminalExternalLinkDetector","id","xterm","_provideLinks","maxLinkLength","s","constructor","f","detect","lines","startLine","endLine","text","buffer","active","cols","b","length","externalLinks","result","map","link","bufferRange","startColumn","startIndex","startLineNumber","endColumn","endLineNumber","matchingText","substring","l","label","type","activate"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/links/browser/terminalExternalLinkDetector.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ITerminalLinkDetector, ITerminalSimpleLink, OmitFirstArg } from './links.js';\nimport { convertLinkRangeToBuffer, getXtermLineContent } from './terminalLinkHelpers.js';\nimport { ITerminalExternalLinkProvider } from '../../../terminal/browser/terminal.js';\nimport type { IBufferLine, Terminal } from '@xterm/xterm';\n\nexport class TerminalExternalLinkDetector implements ITerminalLinkDetector {\n\treadonly maxLinkLength = 2000;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\treadonly xterm: Terminal,\n\t\tprivate readonly _provideLinks: OmitFirstArg<ITerminalExternalLinkProvider['provideLinks']>\n\t) {\n\t}\n\n\tasync detect(lines: IBufferLine[], startLine: number, endLine: number): Promise<ITerminalSimpleLink[]> {\n\t\t// Get the text representation of the wrapped line\n\t\tconst text = getXtermLineContent(this.xterm.buffer.active, startLine, endLine, this.xterm.cols);\n\t\tif (text === '' || text.length > this.maxLinkLength) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst externalLinks = await this._provideLinks(text);\n\t\tif (!externalLinks) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst result = externalLinks.map(link => {\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, this.xterm.cols, {\n\t\t\t\tstartColumn: link.startIndex + 1,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: link.startIndex + link.length + 1,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, startLine);\n\t\t\tconst matchingText = text.substring(link.startIndex, link.startIndex + link.length) || '';\n\n\t\t\tconst l: ITerminalSimpleLink = {\n\t\t\t\ttext: matchingText,\n\t\t\t\tlabel: link.label,\n\t\t\t\tbufferRange,\n\t\t\t\ttype: { id: this.id },\n\t\t\t\tactivate: link.activate\n\t\t\t};\n\t\t\treturn l;\n\t\t});\n\n\t\treturn result;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}