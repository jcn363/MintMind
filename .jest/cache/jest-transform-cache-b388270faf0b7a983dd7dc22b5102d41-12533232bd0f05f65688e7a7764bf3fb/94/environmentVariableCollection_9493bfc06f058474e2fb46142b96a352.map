{"version":3,"names":["cov_14wzcszvbu","actualCoverage","isWindows","EnvironmentVariableMutatorType","mutatorTypeToLabelMap","s","Map","Append","Prepend","Replace","PYTHON_ACTIVATION_VARS_PATTERN","PYTHON_ENV_EXTENSION_ID","MergedEnvironmentVariableCollection","collections","map","descriptionMap","constructor","f","forEach","collection","extensionIdentifier","populateDescriptionMap","it","entries","next","done","mutator","value","key","blockPythonActivationVar","b","entry","get","set","length","type","extensionMutator","scope","variable","options","unshift","applyToProcessEnvironment","env","variableResolver","lowerToActualVariableNames","Object","keys","e","toLowerCase","mutators","getVariableMap","actualVariable","applyAtProcessCreation","applyAtShellIntegration","_encodeColons","replaceAll","test","diff","other","added","changed","removed","otherMutators","currentMutators","result","getMissingMutatorsFromArray","getChangedMutatorsFromArray","size","undefined","values","filteredMutators","filter","m","filterScope","getDescriptionMap","description","push","strictFilter","workspaceFolder","index","current","otherMutatorExtensions","Set","add","has","otherMutator"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/terminal/common/environmentVariableCollection.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IProcessEnvironment, isWindows } from '../../../base/common/platform.js';\nimport { EnvironmentVariableMutatorType, EnvironmentVariableScope, IEnvironmentVariableCollection, IExtensionOwnedEnvironmentDescriptionMutator, IExtensionOwnedEnvironmentVariableMutator, IMergedEnvironmentVariableCollection, IMergedEnvironmentVariableCollectionDiff } from './environmentVariable.js';\n\ntype VariableResolver = (str: string) => Promise<string>;\n\nconst mutatorTypeToLabelMap: Map<EnvironmentVariableMutatorType, string> = new Map([\n\t[EnvironmentVariableMutatorType.Append, 'APPEND'],\n\t[EnvironmentVariableMutatorType.Prepend, 'PREPEND'],\n\t[EnvironmentVariableMutatorType.Replace, 'REPLACE']\n]);\nconst PYTHON_ACTIVATION_VARS_PATTERN = /^VSCODE_PYTHON_(PWSH|ZSH|BASH|FISH)_ACTIVATE/;\nconst PYTHON_ENV_EXTENSION_ID = 'ms-python.vscode-python-envs';\n\nexport class MergedEnvironmentVariableCollection implements IMergedEnvironmentVariableCollection {\n\tprivate readonly map: Map<string, IExtensionOwnedEnvironmentVariableMutator[]> = new Map();\n\tprivate readonly descriptionMap: Map<string, IExtensionOwnedEnvironmentDescriptionMutator[]> = new Map();\n\n\tconstructor(\n\t\treadonly collections: ReadonlyMap<string, IEnvironmentVariableCollection>,\n\t) {\n\t\tcollections.forEach((collection, extensionIdentifier) => {\n\t\t\tthis.populateDescriptionMap(collection, extensionIdentifier);\n\t\t\tconst it = collection.map.entries();\n\t\t\tlet next = it.next();\n\t\t\twhile (!next.done) {\n\t\t\t\tconst mutator = next.value[1];\n\t\t\t\tconst key = next.value[0];\n\n\t\t\t\tif (this.blockPythonActivationVar(key, extensionIdentifier)) {\n\t\t\t\t\tnext = it.next();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet entry = this.map.get(key);\n\t\t\t\tif (!entry) {\n\t\t\t\t\tentry = [];\n\t\t\t\t\tthis.map.set(key, entry);\n\t\t\t\t}\n\n\t\t\t\t// If the first item in the entry is replace ignore any other entries as they would\n\t\t\t\t// just get replaced by this one.\n\t\t\t\tif (entry.length > 0 && entry[0].type === EnvironmentVariableMutatorType.Replace) {\n\t\t\t\t\tnext = it.next();\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst extensionMutator = {\n\t\t\t\t\textensionIdentifier,\n\t\t\t\t\tvalue: mutator.value,\n\t\t\t\t\ttype: mutator.type,\n\t\t\t\t\tscope: mutator.scope,\n\t\t\t\t\tvariable: mutator.variable,\n\t\t\t\t\toptions: mutator.options\n\t\t\t\t};\n\t\t\t\tif (!extensionMutator.scope) {\n\t\t\t\t\tdelete extensionMutator.scope; // Convenient for tests\n\t\t\t\t}\n\t\t\t\t// Mutators get applied in the reverse order than they are created\n\t\t\t\tentry.unshift(extensionMutator);\n\n\t\t\t\tnext = it.next();\n\t\t\t}\n\t\t});\n\t}\n\n\tasync applyToProcessEnvironment(env: IProcessEnvironment, scope: EnvironmentVariableScope | undefined, variableResolver?: VariableResolver): Promise<void> {\n\t\tlet lowerToActualVariableNames: { [lowerKey: string]: string | undefined } | undefined;\n\t\tif (isWindows) {\n\t\t\tlowerToActualVariableNames = {};\n\t\t\tObject.keys(env).forEach(e => lowerToActualVariableNames![e.toLowerCase()] = e);\n\t\t}\n\t\tfor (const [variable, mutators] of this.getVariableMap(scope)) {\n\t\t\tconst actualVariable = isWindows ? lowerToActualVariableNames![variable.toLowerCase()] || variable : variable;\n\t\t\tfor (const mutator of mutators) {\n\t\t\t\tconst value = variableResolver ? await variableResolver(mutator.value) : mutator.value;\n\n\t\t\t\tif (this.blockPythonActivationVar(mutator.variable, mutator.extensionIdentifier)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Default: true\n\t\t\t\tif (mutator.options?.applyAtProcessCreation ?? true) {\n\t\t\t\t\tswitch (mutator.type) {\n\t\t\t\t\t\tcase EnvironmentVariableMutatorType.Append:\n\t\t\t\t\t\t\tenv[actualVariable] = (env[actualVariable] || '') + value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase EnvironmentVariableMutatorType.Prepend:\n\t\t\t\t\t\t\tenv[actualVariable] = value + (env[actualVariable] || '');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase EnvironmentVariableMutatorType.Replace:\n\t\t\t\t\t\t\tenv[actualVariable] = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Default: false\n\t\t\t\tif (mutator.options?.applyAtShellIntegration ?? false) {\n\t\t\t\t\tconst key = `VSCODE_ENV_${mutatorTypeToLabelMap.get(mutator.type)!}`;\n\t\t\t\t\tenv[key] = (env[key] ? env[key] + ':' : '') + variable + '=' + this._encodeColons(value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _encodeColons(value: string): string {\n\t\treturn value.replaceAll(':', '\\\\x3a');\n\t}\n\n\tprivate blockPythonActivationVar(variable: string, extensionIdentifier: string): boolean {\n\t\t// Only Python env extension can modify Python activate env var.\n\t\tif (PYTHON_ACTIVATION_VARS_PATTERN.test(variable) && PYTHON_ENV_EXTENSION_ID !== extensionIdentifier) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tdiff(other: IMergedEnvironmentVariableCollection, scope: EnvironmentVariableScope | undefined): IMergedEnvironmentVariableCollectionDiff | undefined {\n\t\tconst added: Map<string, IExtensionOwnedEnvironmentVariableMutator[]> = new Map();\n\t\tconst changed: Map<string, IExtensionOwnedEnvironmentVariableMutator[]> = new Map();\n\t\tconst removed: Map<string, IExtensionOwnedEnvironmentVariableMutator[]> = new Map();\n\n\t\t// Find added\n\t\tother.getVariableMap(scope).forEach((otherMutators, variable) => {\n\t\t\tconst currentMutators = this.getVariableMap(scope).get(variable);\n\t\t\tconst result = getMissingMutatorsFromArray(otherMutators, currentMutators);\n\t\t\tif (result) {\n\t\t\t\tadded.set(variable, result);\n\t\t\t}\n\t\t});\n\n\t\t// Find removed\n\t\tthis.getVariableMap(scope).forEach((currentMutators, variable) => {\n\t\t\tconst otherMutators = other.getVariableMap(scope).get(variable);\n\t\t\tconst result = getMissingMutatorsFromArray(currentMutators, otherMutators);\n\t\t\tif (result) {\n\t\t\t\tremoved.set(variable, result);\n\t\t\t}\n\t\t});\n\n\t\t// Find changed\n\t\tthis.getVariableMap(scope).forEach((currentMutators, variable) => {\n\t\t\tconst otherMutators = other.getVariableMap(scope).get(variable);\n\t\t\tconst result = getChangedMutatorsFromArray(currentMutators, otherMutators);\n\t\t\tif (result) {\n\t\t\t\tchanged.set(variable, result);\n\t\t\t}\n\t\t});\n\n\t\tif (added.size === 0 && changed.size === 0 && removed.size === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn { added, changed, removed };\n\t}\n\n\tgetVariableMap(scope: EnvironmentVariableScope | undefined): Map<string, IExtensionOwnedEnvironmentVariableMutator[]> {\n\t\tconst result = new Map<string, IExtensionOwnedEnvironmentVariableMutator[]>();\n\t\tfor (const mutators of this.map.values()) {\n\t\t\tconst filteredMutators = mutators.filter(m => filterScope(m, scope));\n\t\t\tif (filteredMutators.length > 0) {\n\t\t\t\t// All of these mutators are for the same variable because they are in the same scope, hence choose anyone to form a key.\n\t\t\t\tresult.set(filteredMutators[0].variable, filteredMutators);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tgetDescriptionMap(scope: EnvironmentVariableScope | undefined): Map<string, string | undefined> {\n\t\tconst result = new Map<string, string | undefined>();\n\t\tfor (const mutators of this.descriptionMap.values()) {\n\t\t\tconst filteredMutators = mutators.filter(m => filterScope(m, scope, true));\n\t\t\tfor (const mutator of filteredMutators) {\n\t\t\t\tresult.set(mutator.extensionIdentifier, mutator.description);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate populateDescriptionMap(collection: IEnvironmentVariableCollection, extensionIdentifier: string): void {\n\t\tif (!collection.descriptionMap) {\n\t\t\treturn;\n\t\t}\n\t\tconst it = collection.descriptionMap.entries();\n\t\tlet next = it.next();\n\t\twhile (!next.done) {\n\t\t\tconst mutator = next.value[1];\n\t\t\tconst key = next.value[0];\n\t\t\tlet entry = this.descriptionMap.get(key);\n\t\t\tif (!entry) {\n\t\t\t\tentry = [];\n\t\t\t\tthis.descriptionMap.set(key, entry);\n\t\t\t}\n\t\t\tconst extensionMutator = {\n\t\t\t\textensionIdentifier,\n\t\t\t\tscope: mutator.scope,\n\t\t\t\tdescription: mutator.description\n\t\t\t};\n\t\t\tif (!extensionMutator.scope) {\n\t\t\t\tdelete extensionMutator.scope; // Convenient for tests\n\t\t\t}\n\t\t\tentry.push(extensionMutator);\n\n\t\t\tnext = it.next();\n\t\t}\n\n\t}\n}\n\n/**\n * Returns whether a mutator matches with the scope provided.\n * @param mutator Mutator to filter\n * @param scope Scope to be used for querying\n * @param strictFilter If true, mutators with global scope is not returned when querying for workspace scope.\n * i.e whether mutator scope should always exactly match with query scope.\n */\nfunction filterScope(\n\tmutator: IExtensionOwnedEnvironmentVariableMutator | IExtensionOwnedEnvironmentDescriptionMutator,\n\tscope: EnvironmentVariableScope | undefined,\n\tstrictFilter = false\n): boolean {\n\tif (!mutator.scope) {\n\t\tif (strictFilter) {\n\t\t\treturn scope === mutator.scope;\n\t\t}\n\t\treturn true;\n\t}\n\t// If a mutator is scoped to a workspace folder, only apply it if the workspace\n\t// folder matches.\n\tif (mutator.scope.workspaceFolder && scope?.workspaceFolder && mutator.scope.workspaceFolder.index === scope.workspaceFolder.index) {\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction getMissingMutatorsFromArray(\n\tcurrent: IExtensionOwnedEnvironmentVariableMutator[],\n\tother: IExtensionOwnedEnvironmentVariableMutator[] | undefined\n): IExtensionOwnedEnvironmentVariableMutator[] | undefined {\n\t// If it doesn't exist, all are removed\n\tif (!other) {\n\t\treturn current;\n\t}\n\n\t// Create a map to help\n\tconst otherMutatorExtensions = new Set<string>();\n\tother.forEach(m => otherMutatorExtensions.add(m.extensionIdentifier));\n\n\t// Find entries removed from other\n\tconst result: IExtensionOwnedEnvironmentVariableMutator[] = [];\n\tcurrent.forEach(mutator => {\n\t\tif (!otherMutatorExtensions.has(mutator.extensionIdentifier)) {\n\t\t\tresult.push(mutator);\n\t\t}\n\t});\n\n\treturn result.length === 0 ? undefined : result;\n}\n\nfunction getChangedMutatorsFromArray(\n\tcurrent: IExtensionOwnedEnvironmentVariableMutator[],\n\tother: IExtensionOwnedEnvironmentVariableMutator[] | undefined\n): IExtensionOwnedEnvironmentVariableMutator[] | undefined {\n\t// If it doesn't exist, none are changed (they are removed)\n\tif (!other) {\n\t\treturn undefined;\n\t}\n\n\t// Create a map to help\n\tconst otherMutatorExtensions = new Map<string, IExtensionOwnedEnvironmentVariableMutator>();\n\tother.forEach(m => otherMutatorExtensions.set(m.extensionIdentifier, m));\n\n\t// Find entries that exist in both but are not equal\n\tconst result: IExtensionOwnedEnvironmentVariableMutator[] = [];\n\tcurrent.forEach(mutator => {\n\t\tconst otherMutator = otherMutatorExtensions.get(mutator.extensionIdentifier);\n\t\tif (otherMutator && (mutator.type !== otherMutator.type || mutator.value !== otherMutator.value || mutator.scope?.workspaceFolder?.index !== otherMutator.scope?.workspaceFolder?.index)) {\n\t\t\t// Return the new result, not the old one\n\t\t\tresult.push(otherMutator);\n\t\t}\n\t});\n\n\treturn result.length === 0 ? undefined : result;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}