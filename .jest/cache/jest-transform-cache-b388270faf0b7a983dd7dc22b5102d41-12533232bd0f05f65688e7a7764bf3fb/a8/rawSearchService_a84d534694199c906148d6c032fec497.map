{"version":3,"names":["cov_z04kon1wa","actualCoverage","arrays","createCancelablePromise","canceled","Emitter","compareItemsByFuzzyScore","prepareQuery","revive","basename","dirname","join","sep","StopWatch","URI","ByteSize","DEFAULT_MAX_SEARCH_RESULTS","isFilePatternMatch","Engine","FileSearchEngine","TextSearchEngineAdapter","SearchService","processType","getNumThreads","BATCH_SIZE","s","caches","Object","create","constructor","b","f","fileSearch","config","promise","query","reviveQuery","emitter","onDidAddFirstListener","token","numThreads","doFileSearchWithEngine","p","fire","then","c","err","type","error","message","stack","onDidRemoveLastListener","cancel","event","textSearch","rawQuery","ripgrepTextSearch","progressCallback","maxFileSize","getPlatformFileLimits","engine","search","GB","doFileSearch","EngineClass","batchSize","threads","resultCount","fileProgressCallback","progress","Array","isArray","length","map","m","rawMatchToSearchItem","relativePath","sortByScore","sortedSearch","trySortedSearchFromCache","walkerConfig","maxResults","assign","doSortedSearch","Promise","e","result","rawMatches","serializedMatches","rawMatch","sendProgress","doSearch","complete","limitHit","stats","detailStats","fromCache","sortingTime","undefined","messages","match","path","base","allResultsPromise","results","innerProgressCallback","cache","cacheKey","getOrCreateCache","cacheRow","resolved","resultsToSearchCache","filePattern","preventCancellation","scorerCache","sortSW","sortResults","sortedResults","elapsed","existing","Cache","cached","getResultsFromCache","cacheStats","compare","matchA","matchB","FileMatchItemAccessor","topAsync","progressCb","i","slice","searchValue","cacheLookupSW","hasPathSep","indexOf","cachedRow","previousSearch","startsWith","row","cacheLookupTime","cacheFilterSW","listener","onCancellationRequested","dispose","cachedEntries","isCancellationRequested","normalizedSearchValueLowercase","normalizedLowercase","entry","push","cacheWasResolved","cacheFilterTime","cacheEntryCount","batch","JSON","stringify","clearCache","resolve","Symbol","toStringTag","toString","reject","catch","finally","onFinally","getItemLabel","getItemDescription","getItemPath","folderQueries","reviveFolderQuery","extraFileResources","components","rawFolderQuery"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/search/node/rawSearchService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancelablePromise, createCancelablePromise } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { canceled } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { compareItemsByFuzzyScore, FuzzyScorerCache, IItemAccessor, prepareQuery } from '../../../../base/common/fuzzyScorer.js';\nimport { revive } from '../../../../base/common/marshalling.js';\nimport { basename, dirname, join, sep } from '../../../../base/common/path.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { ByteSize } from '../../../../platform/files/common/files.js';\nimport { DEFAULT_MAX_SEARCH_RESULTS, ICachedSearchStats, IFileQuery, IFileSearchProgressItem, IFileSearchStats, IFolderQuery, IProgressMessage, IRawFileMatch, IRawFileQuery, IRawQuery, IRawSearchService, IRawTextQuery, ISearchEngine, ISearchEngineSuccess, ISerializedFileMatch, ISerializedSearchComplete, ISerializedSearchProgressItem, ISerializedSearchSuccess, isFilePatternMatch, ITextQuery } from '../common/search.js';\nimport { Engine as FileSearchEngine } from './fileSearch.js';\nimport { TextSearchEngineAdapter } from './textSearchAdapter.js';\n\nexport type IProgressCallback = (p: ISerializedSearchProgressItem) => void;\ntype IFileProgressCallback = (p: IFileSearchProgressItem) => void;\n\nexport class SearchService implements IRawSearchService {\n\n\tprivate static readonly BATCH_SIZE = 512;\n\n\tprivate caches: { [cacheKey: string]: Cache } = Object.create(null);\n\n\tconstructor(private readonly processType: IFileSearchStats['type'] = 'searchProcess', private readonly getNumThreads?: () => Promise<number | undefined>) { }\n\n\tfileSearch(config: IRawFileQuery): Event<ISerializedSearchProgressItem | ISerializedSearchComplete> {\n\t\tlet promise: CancelablePromise<ISerializedSearchSuccess>;\n\n\t\tconst query = reviveQuery(config);\n\t\tconst emitter = new Emitter<ISerializedSearchProgressItem | ISerializedSearchComplete>({\n\t\t\tonDidAddFirstListener: () => {\n\t\t\t\tpromise = createCancelablePromise(async token => {\n\t\t\t\t\tconst numThreads = await this.getNumThreads?.();\n\t\t\t\t\treturn this.doFileSearchWithEngine(FileSearchEngine, query, p => emitter.fire(p), token, SearchService.BATCH_SIZE, numThreads);\n\t\t\t\t});\n\n\t\t\t\tpromise.then(\n\t\t\t\t\tc => emitter.fire(c),\n\t\t\t\t\terr => emitter.fire({ type: 'error', error: { message: err.message, stack: err.stack } }));\n\t\t\t},\n\t\t\tonDidRemoveLastListener: () => {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\t\t});\n\n\t\treturn emitter.event;\n\t}\n\n\ttextSearch(rawQuery: IRawTextQuery): Event<ISerializedSearchProgressItem | ISerializedSearchComplete> {\n\t\tlet promise: CancelablePromise<ISerializedSearchComplete>;\n\n\t\tconst query = reviveQuery(rawQuery);\n\t\tconst emitter = new Emitter<ISerializedSearchProgressItem | ISerializedSearchComplete>({\n\t\t\tonDidAddFirstListener: () => {\n\t\t\t\tpromise = createCancelablePromise(token => {\n\t\t\t\t\treturn this.ripgrepTextSearch(query, p => emitter.fire(p), token);\n\t\t\t\t});\n\n\t\t\t\tpromise.then(\n\t\t\t\t\tc => emitter.fire(c),\n\t\t\t\t\terr => emitter.fire({ type: 'error', error: { message: err.message, stack: err.stack } }));\n\t\t\t},\n\t\t\tonDidRemoveLastListener: () => {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\t\t});\n\n\t\treturn emitter.event;\n\t}\n\n\tprivate async ripgrepTextSearch(config: ITextQuery, progressCallback: IProgressCallback, token: CancellationToken): Promise<ISerializedSearchSuccess> {\n\t\tconfig.maxFileSize = this.getPlatformFileLimits().maxFileSize;\n\t\tconst numThreads = await this.getNumThreads?.();\n\t\tconst engine = new TextSearchEngineAdapter(config, numThreads);\n\n\t\treturn engine.search(token, progressCallback, progressCallback);\n\t}\n\n\tprivate getPlatformFileLimits(): { readonly maxFileSize: number } {\n\t\treturn {\n\t\t\tmaxFileSize: 16 * ByteSize.GB\n\t\t};\n\t}\n\n\tdoFileSearch(config: IFileQuery, numThreads: number | undefined, progressCallback: IProgressCallback, token?: CancellationToken): Promise<ISerializedSearchSuccess> {\n\t\treturn this.doFileSearchWithEngine(FileSearchEngine, config, progressCallback, token, SearchService.BATCH_SIZE, numThreads);\n\t}\n\n\tdoFileSearchWithEngine(EngineClass: { new(config: IFileQuery, numThreads?: number | undefined): ISearchEngine<IRawFileMatch> }, config: IFileQuery, progressCallback: IProgressCallback, token?: CancellationToken, batchSize = SearchService.BATCH_SIZE, threads?: number): Promise<ISerializedSearchSuccess> {\n\t\tlet resultCount = 0;\n\t\tconst fileProgressCallback: IFileProgressCallback = progress => {\n\t\t\tif (Array.isArray(progress)) {\n\t\t\t\tresultCount += progress.length;\n\t\t\t\tprogressCallback(progress.map(m => this.rawMatchToSearchItem(m)));\n\t\t\t} else if ((<IRawFileMatch>progress).relativePath) {\n\t\t\t\tresultCount++;\n\t\t\t\tprogressCallback(this.rawMatchToSearchItem(<IRawFileMatch>progress));\n\t\t\t} else {\n\t\t\t\tprogressCallback(<IProgressMessage>progress);\n\t\t\t}\n\t\t};\n\n\t\tif (config.sortByScore) {\n\t\t\tlet sortedSearch = this.trySortedSearchFromCache(config, fileProgressCallback, token);\n\t\t\tif (!sortedSearch) {\n\t\t\t\tconst walkerConfig = config.maxResults ? Object.assign({}, config, { maxResults: null }) : config;\n\t\t\t\tconst engine = new EngineClass(walkerConfig, threads);\n\t\t\t\tsortedSearch = this.doSortedSearch(engine, config, progressCallback, fileProgressCallback, token);\n\t\t\t}\n\n\t\t\treturn new Promise<ISerializedSearchSuccess>((c, e) => {\n\t\t\t\tsortedSearch.then(([result, rawMatches]) => {\n\t\t\t\t\tconst serializedMatches = rawMatches.map(rawMatch => this.rawMatchToSearchItem(rawMatch));\n\t\t\t\t\tthis.sendProgress(serializedMatches, progressCallback, batchSize);\n\t\t\t\t\tc(result);\n\t\t\t\t}, e);\n\t\t\t});\n\t\t}\n\n\t\tconst engine = new EngineClass(config, threads);\n\n\t\treturn this.doSearch(engine, fileProgressCallback, batchSize, token).then(complete => {\n\t\t\treturn {\n\t\t\t\tlimitHit: complete.limitHit,\n\t\t\t\ttype: 'success',\n\t\t\t\tstats: {\n\t\t\t\t\tdetailStats: complete.stats,\n\t\t\t\t\ttype: this.processType,\n\t\t\t\t\tfromCache: false,\n\t\t\t\t\tresultCount,\n\t\t\t\t\tsortingTime: undefined\n\t\t\t\t},\n\t\t\t\tmessages: []\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate rawMatchToSearchItem(match: IRawFileMatch): ISerializedFileMatch {\n\t\treturn { path: match.base ? join(match.base, match.relativePath) : match.relativePath };\n\t}\n\n\tprivate doSortedSearch(engine: ISearchEngine<IRawFileMatch>, config: IFileQuery, progressCallback: IProgressCallback, fileProgressCallback: IFileProgressCallback, token?: CancellationToken): Promise<[ISerializedSearchSuccess, IRawFileMatch[]]> {\n\t\tconst emitter = new Emitter<IFileSearchProgressItem>();\n\n\t\tlet allResultsPromise = createCancelablePromise(token => {\n\t\t\tlet results: IRawFileMatch[] = [];\n\n\t\t\tconst innerProgressCallback: IFileProgressCallback = progress => {\n\t\t\t\tif (Array.isArray(progress)) {\n\t\t\t\t\tresults = progress;\n\t\t\t\t} else {\n\t\t\t\t\tfileProgressCallback(progress);\n\t\t\t\t\temitter.fire(progress);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn this.doSearch(engine, innerProgressCallback, -1, token)\n\t\t\t\t.then<[ISearchEngineSuccess, IRawFileMatch[]]>(result => {\n\t\t\t\t\treturn [result, results];\n\t\t\t\t});\n\t\t});\n\n\t\tlet cache: Cache;\n\t\tif (config.cacheKey) {\n\t\t\tcache = this.getOrCreateCache(config.cacheKey);\n\t\t\tconst cacheRow: ICacheRow = {\n\t\t\t\tpromise: allResultsPromise,\n\t\t\t\tevent: emitter.event,\n\t\t\t\tresolved: false\n\t\t\t};\n\t\t\tcache.resultsToSearchCache[config.filePattern || ''] = cacheRow;\n\t\t\tallResultsPromise.then(() => {\n\t\t\t\tcacheRow.resolved = true;\n\t\t\t}, err => {\n\t\t\t\tdelete cache.resultsToSearchCache[config.filePattern || ''];\n\t\t\t});\n\n\t\t\tallResultsPromise = this.preventCancellation(allResultsPromise);\n\t\t}\n\n\t\treturn allResultsPromise.then(([result, results]) => {\n\t\t\tconst scorerCache: FuzzyScorerCache = cache ? cache.scorerCache : Object.create(null);\n\t\t\tconst sortSW = (typeof config.maxResults !== 'number' || config.maxResults > 0) && StopWatch.create(false);\n\t\t\treturn this.sortResults(config, results, scorerCache, token)\n\t\t\t\t.then<[ISerializedSearchSuccess, IRawFileMatch[]]>(sortedResults => {\n\t\t\t\t\t// sortingTime: -1 indicates a \"sorted\" search that was not sorted, i.e. populating the cache when quickaccess is opened.\n\t\t\t\t\t// Contrasting with findFiles which is not sorted and will have sortingTime: undefined\n\t\t\t\t\tconst sortingTime = sortSW ? sortSW.elapsed() : -1;\n\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\tdetailStats: result.stats,\n\t\t\t\t\t\t\tsortingTime,\n\t\t\t\t\t\t\tfromCache: false,\n\t\t\t\t\t\t\ttype: this.processType,\n\t\t\t\t\t\t\tresultCount: sortedResults.length\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmessages: result.messages,\n\t\t\t\t\t\tlimitHit: result.limitHit || typeof config.maxResults === 'number' && results.length > config.maxResults\n\t\t\t\t\t}, sortedResults];\n\t\t\t\t});\n\t\t});\n\t}\n\n\tprivate getOrCreateCache(cacheKey: string): Cache {\n\t\tconst existing = this.caches[cacheKey];\n\t\tif (existing) {\n\t\t\treturn existing;\n\t\t}\n\t\treturn this.caches[cacheKey] = new Cache();\n\t}\n\n\tprivate trySortedSearchFromCache(config: IFileQuery, progressCallback: IFileProgressCallback, token?: CancellationToken): Promise<[ISerializedSearchSuccess, IRawFileMatch[]]> | undefined {\n\t\tconst cache = config.cacheKey && this.caches[config.cacheKey];\n\t\tif (!cache) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst cached = this.getResultsFromCache(cache, config.filePattern || '', progressCallback, token);\n\t\tif (cached) {\n\t\t\treturn cached.then(([result, results, cacheStats]) => {\n\t\t\t\tconst sortSW = StopWatch.create(false);\n\t\t\t\treturn this.sortResults(config, results, cache.scorerCache, token)\n\t\t\t\t\t.then<[ISerializedSearchSuccess, IRawFileMatch[]]>(sortedResults => {\n\t\t\t\t\t\tconst sortingTime = sortSW.elapsed();\n\t\t\t\t\t\tconst stats: IFileSearchStats = {\n\t\t\t\t\t\t\tfromCache: true,\n\t\t\t\t\t\t\tdetailStats: cacheStats,\n\t\t\t\t\t\t\ttype: this.processType,\n\t\t\t\t\t\t\tresultCount: results.length,\n\t\t\t\t\t\t\tsortingTime\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\tlimitHit: result.limitHit || typeof config.maxResults === 'number' && results.length > config.maxResults,\n\t\t\t\t\t\t\t\tstats,\n\t\t\t\t\t\t\t\tmessages: [],\n\t\t\t\t\t\t\t} satisfies ISerializedSearchSuccess,\n\t\t\t\t\t\t\tsortedResults\n\t\t\t\t\t\t];\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate sortResults(config: IFileQuery, results: IRawFileMatch[], scorerCache: FuzzyScorerCache, token?: CancellationToken): Promise<IRawFileMatch[]> {\n\t\t// we use the same compare function that is used later when showing the results using fuzzy scoring\n\t\t// this is very important because we are also limiting the number of results by config.maxResults\n\t\t// and as such we want the top items to be included in this result set if the number of items\n\t\t// exceeds config.maxResults.\n\t\tconst query = prepareQuery(config.filePattern || '');\n\t\tconst compare = (matchA: IRawFileMatch, matchB: IRawFileMatch) => compareItemsByFuzzyScore(matchA, matchB, query, true, FileMatchItemAccessor, scorerCache);\n\n\t\tconst maxResults = typeof config.maxResults === 'number' ? config.maxResults : DEFAULT_MAX_SEARCH_RESULTS;\n\t\treturn arrays.topAsync(results, compare, maxResults, 10000, token);\n\t}\n\n\tprivate sendProgress(results: ISerializedFileMatch[], progressCb: IProgressCallback, batchSize: number) {\n\t\tif (batchSize && batchSize > 0) {\n\t\t\tfor (let i = 0; i < results.length; i += batchSize) {\n\t\t\t\tprogressCb(results.slice(i, i + batchSize));\n\t\t\t}\n\t\t} else {\n\t\t\tprogressCb(results);\n\t\t}\n\t}\n\n\tprivate getResultsFromCache(cache: Cache, searchValue: string, progressCallback: IFileProgressCallback, token?: CancellationToken): Promise<[ISearchEngineSuccess, IRawFileMatch[], ICachedSearchStats]> | null {\n\t\tconst cacheLookupSW = StopWatch.create(false);\n\n\t\t// Find cache entries by prefix of search value\n\t\tconst hasPathSep = searchValue.indexOf(sep) >= 0;\n\t\tlet cachedRow: ICacheRow | undefined;\n\t\tfor (const previousSearch in cache.resultsToSearchCache) {\n\t\t\t// If we narrow down, we might be able to reuse the cached results\n\t\t\tif (searchValue.startsWith(previousSearch)) {\n\t\t\t\tif (hasPathSep && previousSearch.indexOf(sep) < 0 && previousSearch !== '') {\n\t\t\t\t\tcontinue; // since a path character widens the search for potential more matches, require it in previous search too\n\t\t\t\t}\n\n\t\t\t\tconst row = cache.resultsToSearchCache[previousSearch];\n\t\t\t\tcachedRow = {\n\t\t\t\t\tpromise: this.preventCancellation(row.promise),\n\t\t\t\t\tevent: row.event,\n\t\t\t\t\tresolved: row.resolved\n\t\t\t\t};\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!cachedRow) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst cacheLookupTime = cacheLookupSW.elapsed();\n\t\tconst cacheFilterSW = StopWatch.create(false);\n\n\t\tconst listener = cachedRow.event(progressCallback);\n\t\tif (token) {\n\t\t\ttoken.onCancellationRequested(() => {\n\t\t\t\tlistener.dispose();\n\t\t\t});\n\t\t}\n\n\t\treturn cachedRow.promise.then<[ISearchEngineSuccess, IRawFileMatch[], ICachedSearchStats]>(([complete, cachedEntries]) => {\n\t\t\tif (token && token.isCancellationRequested) {\n\t\t\t\tthrow canceled();\n\t\t\t}\n\n\t\t\t// Pattern match on results\n\t\t\tconst results: IRawFileMatch[] = [];\n\t\t\tconst normalizedSearchValueLowercase = prepareQuery(searchValue).normalizedLowercase;\n\t\t\tfor (const entry of cachedEntries) {\n\n\t\t\t\t// Check if this entry is a match for the search value\n\t\t\t\tif (!isFilePatternMatch(entry, normalizedSearchValueLowercase)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tresults.push(entry);\n\t\t\t}\n\n\t\t\treturn [complete, results, {\n\t\t\t\tcacheWasResolved: cachedRow.resolved,\n\t\t\t\tcacheLookupTime,\n\t\t\t\tcacheFilterTime: cacheFilterSW.elapsed(),\n\t\t\t\tcacheEntryCount: cachedEntries.length\n\t\t\t}];\n\t\t});\n\t}\n\n\n\n\tprivate doSearch(engine: ISearchEngine<IRawFileMatch>, progressCallback: IFileProgressCallback, batchSize: number, token?: CancellationToken): Promise<ISearchEngineSuccess> {\n\t\treturn new Promise<ISearchEngineSuccess>((c, e) => {\n\t\t\tlet batch: IRawFileMatch[] = [];\n\t\t\ttoken?.onCancellationRequested(() => engine.cancel());\n\n\t\t\tengine.search((match) => {\n\t\t\t\tif (match) {\n\t\t\t\t\tif (batchSize) {\n\t\t\t\t\t\tbatch.push(match);\n\t\t\t\t\t\tif (batchSize > 0 && batch.length >= batchSize) {\n\t\t\t\t\t\t\tprogressCallback(batch);\n\t\t\t\t\t\t\tbatch = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprogressCallback(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, (progress) => {\n\t\t\t\tprogressCallback(progress);\n\t\t\t}, (error, complete) => {\n\t\t\t\tif (batch.length) {\n\t\t\t\t\tprogressCallback(batch);\n\t\t\t\t}\n\n\t\t\t\tif (error) {\n\t\t\t\t\tprogressCallback({ message: 'Search finished. Error: ' + error.message });\n\t\t\t\t\te(error);\n\t\t\t\t} else {\n\t\t\t\t\tprogressCallback({ message: 'Search finished. Stats: ' + JSON.stringify(complete.stats) });\n\t\t\t\t\tc(complete);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tclearCache(cacheKey: string): Promise<void> {\n\t\tdelete this.caches[cacheKey];\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\t/**\n\t * Return a CancelablePromise which is not actually cancelable\n\t * TODO@rob - Is this really needed?\n\t */\n\tprivate preventCancellation<C>(promise: CancelablePromise<C>): CancelablePromise<C> {\n\t\treturn new class implements CancelablePromise<C> {\n\t\t\tget [Symbol.toStringTag]() { return this.toString(); }\n\t\t\tcancel() {\n\t\t\t\t// Do nothing\n\t\t\t}\n\t\t\tthen<TResult1 = C, TResult2 = never>(resolve?: ((value: C) => TResult1 | Promise<TResult1>) | undefined | null, reject?: ((reason: any) => TResult2 | Promise<TResult2>) | undefined | null): Promise<TResult1 | TResult2> {\n\t\t\t\treturn promise.then(resolve, reject);\n\t\t\t}\n\t\t\tcatch(reject?: any) {\n\t\t\t\treturn this.then(undefined, reject);\n\t\t\t}\n\t\t\tfinally(onFinally: any) {\n\t\t\t\treturn promise.finally(onFinally);\n\t\t\t}\n\t\t};\n\t}\n}\n\ninterface ICacheRow {\n\t// TODO@roblou - never actually canceled\n\tpromise: CancelablePromise<[ISearchEngineSuccess, IRawFileMatch[]]>;\n\tresolved: boolean;\n\treadonly event: Event<IFileSearchProgressItem>;\n}\n\nclass Cache {\n\n\tresultsToSearchCache: { [searchValue: string]: ICacheRow } = Object.create(null);\n\n\tscorerCache: FuzzyScorerCache = Object.create(null);\n}\n\nconst FileMatchItemAccessor = new class implements IItemAccessor<IRawFileMatch> {\n\n\tgetItemLabel(match: IRawFileMatch): string {\n\t\treturn basename(match.relativePath); // e.g. myFile.txt\n\t}\n\n\tgetItemDescription(match: IRawFileMatch): string {\n\t\treturn dirname(match.relativePath); // e.g. some/path/to/file\n\t}\n\n\tgetItemPath(match: IRawFileMatch): string {\n\t\treturn match.relativePath; // e.g. some/path/to/file/myFile.txt\n\t}\n};\n\nfunction reviveQuery<U extends IRawQuery>(rawQuery: U): U extends IRawTextQuery ? ITextQuery : IFileQuery {\n\treturn {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t...<any>rawQuery, // TODO\n\t\t...{\n\t\t\tfolderQueries: rawQuery.folderQueries && rawQuery.folderQueries.map(reviveFolderQuery),\n\t\t\textraFileResources: rawQuery.extraFileResources && rawQuery.extraFileResources.map(components => URI.revive(components))\n\t\t}\n\t};\n}\n\nfunction reviveFolderQuery(rawFolderQuery: IFolderQuery<UriComponents>): IFolderQuery<URI> {\n\treturn revive(rawFolderQuery);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}