{"version":3,"names":["cov_c2awvhqvh","actualCoverage","AsyncIterableProducer","CancellationToken","onUnexpectedExternalError","registerModelAndPositionCommand","ILanguageFeaturesService","HoverProviderResult","provider","hover","ordinal","constructor","f","s","executeProvider","model","position","token","result","Promise","resolve","provideHover","catch","b","isValid","undefined","getHoverProviderResultsAsAsyncIterable","registry","recursive","providers","ordered","promises","map","index","fromPromisesResolveOrder","coalesce","getHoversPromise","out","item","push","accessor","languageFeaturesService","get","hoverProvider","None","hasRange","range","hasHtmlContent","contents","length"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/hover/browser/getHover.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AsyncIterableProducer } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { ITextModel } from '../../../common/model.js';\nimport { Hover, HoverProvider } from '../../../common/languages.js';\nimport { LanguageFeatureRegistry } from '../../../common/languageFeatureRegistry.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\n\nexport class HoverProviderResult {\n\tconstructor(\n\t\tpublic readonly provider: HoverProvider,\n\t\tpublic readonly hover: Hover,\n\t\tpublic readonly ordinal: number\n\t) { }\n}\n\n/**\n * Does not throw or return a rejected promise (returns undefined instead).\n */\nasync function executeProvider(provider: HoverProvider, ordinal: number, model: ITextModel, position: Position, token: CancellationToken): Promise<HoverProviderResult | undefined> {\n\tconst result = await Promise\n\t\t.resolve(provider.provideHover(model, position, token))\n\t\t.catch(onUnexpectedExternalError);\n\tif (!result || !isValid(result)) {\n\t\treturn undefined;\n\t}\n\treturn new HoverProviderResult(provider, result, ordinal);\n}\n\nexport function getHoverProviderResultsAsAsyncIterable(registry: LanguageFeatureRegistry<HoverProvider>, model: ITextModel, position: Position, token: CancellationToken, recursive = false): AsyncIterable<HoverProviderResult> {\n\tconst providers = registry.ordered(model, recursive);\n\tconst promises = providers.map((provider, index) => executeProvider(provider, index, model, position, token));\n\treturn AsyncIterableProducer.fromPromisesResolveOrder(promises).coalesce();\n}\n\nexport async function getHoversPromise(registry: LanguageFeatureRegistry<HoverProvider>, model: ITextModel, position: Position, token: CancellationToken, recursive = false): Promise<Hover[]> {\n\tconst out: Hover[] = [];\n\tfor await (const item of getHoverProviderResultsAsAsyncIterable(registry, model, position, token, recursive)) {\n\t\tout.push(item.hover);\n\t}\n\treturn out;\n}\n\nregisterModelAndPositionCommand('_executeHoverProvider', (accessor, model, position): Promise<Hover[]> => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\treturn getHoversPromise(languageFeaturesService.hoverProvider, model, position, CancellationToken.None);\n});\n\nregisterModelAndPositionCommand('_executeHoverProvider_recursive', (accessor, model, position): Promise<Hover[]> => {\n\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\treturn getHoversPromise(languageFeaturesService.hoverProvider, model, position, CancellationToken.None, true);\n});\n\nfunction isValid(result: Hover) {\n\tconst hasRange = (typeof result.range !== 'undefined');\n\tconst hasHtmlContent = typeof result.contents !== 'undefined' && result.contents && result.contents.length > 0;\n\treturn hasRange && hasHtmlContent;\n}\n"],"mappings":"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","ignoreList":[]}