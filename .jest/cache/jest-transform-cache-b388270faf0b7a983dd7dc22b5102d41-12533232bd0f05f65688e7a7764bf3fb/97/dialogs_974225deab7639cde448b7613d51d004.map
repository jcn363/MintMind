{"version":3,"names":["cov_1lmo1mng10","actualCoverage","DeferredPromise","Emitter","Disposable","DialogsModel","dialogs","s","_onWillShowDialog","_register","onWillShowDialog","event","_onDidShowDialog","onDidShowDialog","show","dialog","f","promise","item","args","close","result","splice","Error","b","error","complete","fire","push","p"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/common/dialogs.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DeferredPromise } from '../../base/common/async.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { IDialogArgs, IDialogResult } from '../../platform/dialogs/common/dialogs.js';\n\nexport interface IDialogViewItem {\n\treadonly args: IDialogArgs;\n\n\tclose(result?: IDialogResult | Error): void;\n}\n\nexport interface IDialogHandle {\n\treadonly item: IDialogViewItem;\n\treadonly result: Promise<IDialogResult | undefined>;\n}\n\nexport interface IDialogsModel {\n\n\treadonly onWillShowDialog: Event<void>;\n\treadonly onDidShowDialog: Event<void>;\n\n\treadonly dialogs: IDialogViewItem[];\n\n\tshow(dialog: IDialogArgs): IDialogHandle;\n}\n\nexport class DialogsModel extends Disposable implements IDialogsModel {\n\n\treadonly dialogs: IDialogViewItem[] = [];\n\n\tprivate readonly _onWillShowDialog = this._register(new Emitter<void>());\n\treadonly onWillShowDialog = this._onWillShowDialog.event;\n\n\tprivate readonly _onDidShowDialog = this._register(new Emitter<void>());\n\treadonly onDidShowDialog = this._onDidShowDialog.event;\n\n\tshow(dialog: IDialogArgs): IDialogHandle {\n\t\tconst promise = new DeferredPromise<IDialogResult | undefined>();\n\n\t\tconst item: IDialogViewItem = {\n\t\t\targs: dialog,\n\t\t\tclose: result => {\n\t\t\t\tthis.dialogs.splice(0, 1);\n\t\t\t\tif (result instanceof Error) {\n\t\t\t\t\tpromise.error(result);\n\t\t\t\t} else {\n\t\t\t\t\tpromise.complete(result);\n\t\t\t\t}\n\t\t\t\tthis._onDidShowDialog.fire();\n\t\t\t}\n\t\t};\n\n\t\tthis.dialogs.push(item);\n\t\tthis._onWillShowDialog.fire();\n\n\t\treturn {\n\t\t\titem,\n\t\t\tresult: promise.p\n\t\t};\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4CE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA5CF;;;;AAKA,SAASE,eAAe,QAAQ,4BAA4B;AAC5D,SAAgBC,OAAO,QAAQ,4BAA4B;AAC3D,SAASC,UAAU,QAAQ,gCAAgC;AAwB3D,OAAM,MAAOC,YAAa,SAAQD,UAAU;EAElCE,OAAO;EAAA;EAAA,CAAAN,cAAA,GAAAO,CAAA,OAAsB,EAAE;EAEvBC,iBAAiB;EAAA;EAAA,CAAAR,cAAA,GAAAO,CAAA,OAAG,IAAI,CAACE,SAAS,CAAC,IAAIN,OAAO,EAAQ,CAAC;EAC/DO,gBAAgB;EAAA;EAAA,CAAAV,cAAA,GAAAO,CAAA,OAAG,IAAI,CAACC,iBAAiB,CAACG,KAAK;EAEvCC,gBAAgB;EAAA;EAAA,CAAAZ,cAAA,GAAAO,CAAA,OAAG,IAAI,CAACE,SAAS,CAAC,IAAIN,OAAO,EAAQ,CAAC;EAC9DU,eAAe;EAAA;EAAA,CAAAb,cAAA,GAAAO,CAAA,OAAG,IAAI,CAACK,gBAAgB,CAACD,KAAK;EAEtDG,IAAIA,CAACC,MAAmB;IAAA;IAAAf,cAAA,GAAAgB,CAAA;IACvB,MAAMC,OAAO;IAAA;IAAA,CAAAjB,cAAA,GAAAO,CAAA,OAAG,IAAIL,eAAe,EAA6B;IAEhE,MAAMgB,IAAI;IAAA;IAAA,CAAAlB,cAAA,GAAAO,CAAA,OAAoB;MAC7BY,IAAI,EAAEJ,MAAM;MACZK,KAAK,EAAEC,MAAM,IAAG;QAAA;QAAArB,cAAA,GAAAgB,CAAA;QAAAhB,cAAA,GAAAO,CAAA;QACf,IAAI,CAACD,OAAO,CAACgB,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QAAC;QAAAtB,cAAA,GAAAO,CAAA;QAC1B,IAAIc,MAAM,YAAYE,KAAK,EAAE;UAAA;UAAAvB,cAAA,GAAAwB,CAAA;UAAAxB,cAAA,GAAAO,CAAA;UAC5BU,OAAO,CAACQ,KAAK,CAACJ,MAAM,CAAC;QACtB,CAAC,MAAM;UAAA;UAAArB,cAAA,GAAAwB,CAAA;UAAAxB,cAAA,GAAAO,CAAA;UACNU,OAAO,CAACS,QAAQ,CAACL,MAAM,CAAC;QACzB;QAAC;QAAArB,cAAA,GAAAO,CAAA;QACD,IAAI,CAACK,gBAAgB,CAACe,IAAI,EAAE;MAC7B;KACA;IAAC;IAAA3B,cAAA,GAAAO,CAAA;IAEF,IAAI,CAACD,OAAO,CAACsB,IAAI,CAACV,IAAI,CAAC;IAAC;IAAAlB,cAAA,GAAAO,CAAA;IACxB,IAAI,CAACC,iBAAiB,CAACmB,IAAI,EAAE;IAAC;IAAA3B,cAAA,GAAAO,CAAA;IAE9B,OAAO;MACNW,IAAI;MACJG,MAAM,EAAEJ,OAAO,CAACY;KAChB;EACF","ignoreList":[]}