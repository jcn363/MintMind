{"version":3,"names":["cov_13d03i7a04","actualCoverage","mainWindow","ErrorNoTelemetry","toDisposable","BaseErrorTelemetry","ErrorTelemetry","installErrorListeners","f","oldOnError","that","s","onerror","b","message","filename","line","column","error","_onUncaughtError","apply","_disposables","add","msg","file","err","data","callstack","isErrorNoTelemetry","name","stack","uncaught_error_name","uncaught_error_msg","Array","isArray","join","_enqueue"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/telemetry/browser/errorTelemetry.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { ErrorNoTelemetry } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport BaseErrorTelemetry, { ErrorEvent } from '../common/errorTelemetry.js';\n\nexport default class ErrorTelemetry extends BaseErrorTelemetry {\n\tprotected override installErrorListeners(): void {\n\t\tlet oldOnError: OnErrorEventHandler;\n\t\tconst that = this;\n\t\tif (typeof mainWindow.onerror === 'function') {\n\t\t\toldOnError = mainWindow.onerror;\n\t\t}\n\t\tmainWindow.onerror = function (message: Event | string, filename?: string, line?: number, column?: number, error?: Error) {\n\t\t\tthat._onUncaughtError(message as string, filename as string, line as number, column, error);\n\t\t\toldOnError?.apply(this, [message, filename, line, column, error]);\n\t\t};\n\t\tthis._disposables.add(toDisposable(() => {\n\t\t\tif (oldOnError) {\n\t\t\t\tmainWindow.onerror = oldOnError;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onUncaughtError(msg: string, file: string, line: number, column?: number, err?: any): void {\n\t\tconst data: ErrorEvent = {\n\t\t\tcallstack: msg,\n\t\t\tmsg,\n\t\t\tfile,\n\t\t\tline,\n\t\t\tcolumn\n\t\t};\n\n\t\tif (err) {\n\t\t\t// If it's the no telemetry error it doesn't get logged\n\t\t\tif (ErrorNoTelemetry.isErrorNoTelemetry(err)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { name, message, stack } = err;\n\t\t\tdata.uncaught_error_name = name;\n\t\t\tif (message) {\n\t\t\t\tdata.uncaught_error_msg = message;\n\t\t\t}\n\t\t\tif (stack) {\n\t\t\t\tdata.callstack = Array.isArray(err.stack)\n\t\t\t\t\t? err.stack = err.stack.join('\\n')\n\t\t\t\t\t: err.stack;\n\t\t\t}\n\t\t}\n\n\t\tthis._enqueue(data);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}