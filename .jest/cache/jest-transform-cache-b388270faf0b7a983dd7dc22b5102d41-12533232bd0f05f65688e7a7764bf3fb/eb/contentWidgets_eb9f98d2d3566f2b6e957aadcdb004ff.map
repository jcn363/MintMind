{"version":3,"names":["cov_1rgb6w4dwf","actualCoverage","dom","createFastDomNode","PartFingerprints","ViewPart","ViewContentWidgets","_viewDomNode","_widgets","domNode","overflowingContentWidgetsDomNode","constructor","context","viewDomNode","f","s","document","createElement","write","setClassName","setPosition","setTop","dispose","onConfigurationChanged","e","keys","Object","widgetId","onDecorationsChanged","onFlushed","onLineMappingChanged","_updateAnchorsViewPositions","onLinesChanged","onLinesDeleted","onLinesInserted","onScrollChanged","onZonesChanged","updateAnchorViewPosition","addWidget","_widget","myWidget","Widget","_context","id","allowEditorOverflow","b","appendChild","setShouldRender","setWidgetPosition","widget","primaryAnchor","secondaryAnchor","preference","affinity","getId","removeWidget","hasOwnProperty","remove","removeAttribute","shouldSuppressMouseDownOnWidget","suppressMouseDown","onBeforeRender","viewportData","prepareRender","ctx","render","_actual","_fixedOverflowWidgets","_contentWidth","_contentLeft","_primaryAnchor","PositionPair","_secondaryAnchor","_affinity","_preference","_cachedDomNodeOffsetWidth","_cachedDomNodeOffsetHeight","_maxWidth","_isVisible","_renderData","actual","options","configuration","layoutInfo","get","allowOverflow","getDomNode","contentWidth","contentLeft","_getMaxWidth","setDisplay","setVisibility","setAttribute","setMaxWidth","hasChanged","_setPosition","modelPosition","getValidPositionPair","viewModel","position","validModelPosition","model","validatePosition","coordinatesConverter","modelPositionIsVisible","viewPosition","convertModelPositionToViewPosition","undefined","elDocument","ownerDocument","elWindow","defaultView","innerWidth","documentElement","offsetWidth","body","length","_layoutBoxInViewport","anchor","width","height","aboveLineTop","top","heightAvailableAboveLine","underLineTop","heightAvailableUnderLine","viewportHeight","aboveTop","fitsAbove","belowTop","fitsBelow","left","scrollLeft","viewportWidth","_layoutHorizontalSegmentInPage","windowSize","domNodePosition","LEFT_PADDING","RIGHT_PADDING","MIN_LIMIT","Math","max","MAX_LIMIT","min","absoluteLeft","scrollX","delta","_layoutBoxInPage","getDomNodePagePosition","absoluteAboveTop","scrollY","absoluteBelowTop","getClientArea","absoluteAboveLeft","TOP_PADDING","BOTTOM_PADDING","_prepareRenderWidgetAtExactPositionOverflowing","topLeft","Coordinate","_getAnchorsCoordinates","primary","getCoordinates","secondaryViewPosition","lineNumber","secondary","horizontalPosition","visibleRangeForPosition","column","getVerticalOffsetForLineNumber","scrollTop","lineHeight","getLineHeightForLineNumber","AnchorCoordinate","_reduceAnchorCoordinates","fontInfo","typicalFullwidthCharacterWidth","_prepareRenderWidget","kind","preserveFocus","contains","activeElement","preferredDimensions","beforeRender","safeInvoke","clientRect","getBoundingClientRect","round","placement","pass","pref","coordinate","startLineNumber","endLineNumber","afterRender","setLeft","bigNumbersDelta","_coordinateBrand","_anchorCoordinateBrand","fn","thisArg","args","call"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/viewParts/contentWidgets/contentWidgets.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { FastDomNode, createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { ContentWidgetPositionPreference, IContentWidget, IContentWidgetRenderedCoordinate } from '../../editorBrowser.js';\nimport { PartFingerprint, PartFingerprints, ViewPart } from '../../view/viewPart.js';\nimport { RenderingContext, RestrictedRenderingContext } from '../../view/renderingContext.js';\nimport { ViewContext } from '../../../common/viewModel/viewContext.js';\nimport * as viewEvents from '../../../common/viewEvents.js';\nimport { ViewportData } from '../../../common/viewLayout/viewLinesViewportData.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { IDimension } from '../../../common/core/2d/dimension.js';\nimport { PositionAffinity } from '../../../common/model.js';\nimport { IPosition, Position } from '../../../common/core/position.js';\nimport { IViewModel } from '../../../common/viewModel.js';\n\n/**\n * This view part is responsible for rendering the content widgets, which are\n * used for rendering elements that are associated to an editor position,\n * such as suggestions or the parameter hints.\n */\nexport class ViewContentWidgets extends ViewPart {\n\n\tprivate readonly _viewDomNode: FastDomNode<HTMLElement>;\n\tprivate _widgets: { [key: string]: Widget };\n\n\tpublic domNode: FastDomNode<HTMLElement>;\n\tpublic overflowingContentWidgetsDomNode: FastDomNode<HTMLElement>;\n\n\tconstructor(context: ViewContext, viewDomNode: FastDomNode<HTMLElement>) {\n\t\tsuper(context);\n\t\tthis._viewDomNode = viewDomNode;\n\t\tthis._widgets = {};\n\n\t\tthis.domNode = createFastDomNode(document.createElement('div'));\n\t\tPartFingerprints.write(this.domNode, PartFingerprint.ContentWidgets);\n\t\tthis.domNode.setClassName('contentWidgets');\n\t\tthis.domNode.setPosition('absolute');\n\t\tthis.domNode.setTop(0);\n\n\t\tthis.overflowingContentWidgetsDomNode = createFastDomNode(document.createElement('div'));\n\t\tPartFingerprints.write(this.overflowingContentWidgetsDomNode, PartFingerprint.OverflowingContentWidgets);\n\t\tthis.overflowingContentWidgetsDomNode.setClassName('overflowingContentWidgets');\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t\tthis._widgets = {};\n\t}\n\n\t// --- begin event handlers\n\n\tpublic override onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\tconst keys = Object.keys(this._widgets);\n\t\tfor (const widgetId of keys) {\n\t\t\tthis._widgets[widgetId].onConfigurationChanged(e);\n\t\t}\n\t\treturn true;\n\t}\n\tpublic override onDecorationsChanged(e: viewEvents.ViewDecorationsChangedEvent): boolean {\n\t\t// true for inline decorations that can end up relayouting text\n\t\treturn true;\n\t}\n\tpublic override onFlushed(e: viewEvents.ViewFlushedEvent): boolean {\n\t\treturn true;\n\t}\n\tpublic override onLineMappingChanged(e: viewEvents.ViewLineMappingChangedEvent): boolean {\n\t\tthis._updateAnchorsViewPositions();\n\t\treturn true;\n\t}\n\tpublic override onLinesChanged(e: viewEvents.ViewLinesChangedEvent): boolean {\n\t\tthis._updateAnchorsViewPositions();\n\t\treturn true;\n\t}\n\tpublic override onLinesDeleted(e: viewEvents.ViewLinesDeletedEvent): boolean {\n\t\tthis._updateAnchorsViewPositions();\n\t\treturn true;\n\t}\n\tpublic override onLinesInserted(e: viewEvents.ViewLinesInsertedEvent): boolean {\n\t\tthis._updateAnchorsViewPositions();\n\t\treturn true;\n\t}\n\tpublic override onScrollChanged(e: viewEvents.ViewScrollChangedEvent): boolean {\n\t\treturn true;\n\t}\n\tpublic override onZonesChanged(e: viewEvents.ViewZonesChangedEvent): boolean {\n\t\treturn true;\n\t}\n\n\t// ---- end view event handlers\n\n\tprivate _updateAnchorsViewPositions(): void {\n\t\tconst keys = Object.keys(this._widgets);\n\t\tfor (const widgetId of keys) {\n\t\t\tthis._widgets[widgetId].updateAnchorViewPosition();\n\t\t}\n\t}\n\n\tpublic addWidget(_widget: IContentWidget): void {\n\t\tconst myWidget = new Widget(this._context, this._viewDomNode, _widget);\n\t\tthis._widgets[myWidget.id] = myWidget;\n\n\t\tif (myWidget.allowEditorOverflow) {\n\t\t\tthis.overflowingContentWidgetsDomNode.appendChild(myWidget.domNode);\n\t\t} else {\n\t\t\tthis.domNode.appendChild(myWidget.domNode);\n\t\t}\n\n\t\tthis.setShouldRender();\n\t}\n\n\tpublic setWidgetPosition(widget: IContentWidget, primaryAnchor: IPosition | null, secondaryAnchor: IPosition | null, preference: ContentWidgetPositionPreference[] | null, affinity: PositionAffinity | null): void {\n\t\tconst myWidget = this._widgets[widget.getId()];\n\t\tmyWidget.setPosition(primaryAnchor, secondaryAnchor, preference, affinity);\n\n\t\tthis.setShouldRender();\n\t}\n\n\tpublic removeWidget(widget: IContentWidget): void {\n\t\tconst widgetId = widget.getId();\n\t\tif (this._widgets.hasOwnProperty(widgetId)) {\n\t\t\tconst myWidget = this._widgets[widgetId];\n\t\t\tdelete this._widgets[widgetId];\n\n\t\t\tconst domNode = myWidget.domNode.domNode;\n\t\t\tdomNode.remove();\n\t\t\tdomNode.removeAttribute('monaco-visible-content-widget');\n\n\t\t\tthis.setShouldRender();\n\t\t}\n\t}\n\n\tpublic shouldSuppressMouseDownOnWidget(widgetId: string): boolean {\n\t\tif (this._widgets.hasOwnProperty(widgetId)) {\n\t\t\treturn this._widgets[widgetId].suppressMouseDown;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic onBeforeRender(viewportData: ViewportData): void {\n\t\tconst keys = Object.keys(this._widgets);\n\t\tfor (const widgetId of keys) {\n\t\t\tthis._widgets[widgetId].onBeforeRender(viewportData);\n\t\t}\n\t}\n\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\tconst keys = Object.keys(this._widgets);\n\t\tfor (const widgetId of keys) {\n\t\t\tthis._widgets[widgetId].prepareRender(ctx);\n\t\t}\n\t}\n\n\tpublic render(ctx: RestrictedRenderingContext): void {\n\t\tconst keys = Object.keys(this._widgets);\n\t\tfor (const widgetId of keys) {\n\t\t\tthis._widgets[widgetId].render(ctx);\n\t\t}\n\t}\n}\n\ninterface IBoxLayoutResult {\n\tfitsAbove: boolean;\n\taboveTop: number;\n\n\tfitsBelow: boolean;\n\tbelowTop: number;\n\n\tleft: number;\n}\n\ninterface IOffViewportRenderData {\n\tkind: 'offViewport';\n\tpreserveFocus: boolean;\n}\n\ninterface IInViewportRenderData {\n\tkind: 'inViewport';\n\tcoordinate: Coordinate;\n\tposition: ContentWidgetPositionPreference;\n}\n\ntype IRenderData = IInViewportRenderData | IOffViewportRenderData;\n\nclass Widget {\n\tprivate readonly _context: ViewContext;\n\tprivate readonly _viewDomNode: FastDomNode<HTMLElement>;\n\tprivate readonly _actual: IContentWidget;\n\n\tpublic readonly domNode: FastDomNode<HTMLElement>;\n\tpublic readonly id: string;\n\tpublic readonly allowEditorOverflow: boolean;\n\tpublic readonly suppressMouseDown: boolean;\n\n\tprivate readonly _fixedOverflowWidgets: boolean;\n\tprivate _contentWidth: number;\n\tprivate _contentLeft: number;\n\n\tprivate _primaryAnchor: PositionPair = new PositionPair(null, null);\n\tprivate _secondaryAnchor: PositionPair = new PositionPair(null, null);\n\tprivate _affinity: PositionAffinity | null;\n\tprivate _preference: ContentWidgetPositionPreference[] | null;\n\tprivate _cachedDomNodeOffsetWidth: number;\n\tprivate _cachedDomNodeOffsetHeight: number;\n\tprivate _maxWidth: number;\n\tprivate _isVisible: boolean;\n\n\tprivate _renderData: IRenderData | null;\n\n\tconstructor(context: ViewContext, viewDomNode: FastDomNode<HTMLElement>, actual: IContentWidget) {\n\t\tthis._context = context;\n\t\tthis._viewDomNode = viewDomNode;\n\t\tthis._actual = actual;\n\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\tconst allowOverflow = options.get(EditorOption.allowOverflow);\n\n\t\tthis.domNode = createFastDomNode(this._actual.getDomNode());\n\t\tthis.id = this._actual.getId();\n\t\tthis.allowEditorOverflow = (this._actual.allowEditorOverflow || false) && allowOverflow;\n\t\tthis.suppressMouseDown = this._actual.suppressMouseDown || false;\n\n\t\tthis._fixedOverflowWidgets = options.get(EditorOption.fixedOverflowWidgets);\n\t\tthis._contentWidth = layoutInfo.contentWidth;\n\t\tthis._contentLeft = layoutInfo.contentLeft;\n\n\t\tthis._affinity = null;\n\t\tthis._preference = [];\n\t\tthis._cachedDomNodeOffsetWidth = -1;\n\t\tthis._cachedDomNodeOffsetHeight = -1;\n\t\tthis._maxWidth = this._getMaxWidth();\n\t\tthis._isVisible = false;\n\t\tthis._renderData = null;\n\n\t\tthis.domNode.setPosition((this._fixedOverflowWidgets && this.allowEditorOverflow) ? 'fixed' : 'absolute');\n\t\tthis.domNode.setDisplay('none');\n\t\tthis.domNode.setVisibility('hidden');\n\t\tthis.domNode.setAttribute('widgetId', this.id);\n\t\tthis.domNode.setMaxWidth(this._maxWidth);\n\t}\n\n\tpublic onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): void {\n\t\tconst options = this._context.configuration.options;\n\t\tif (e.hasChanged(EditorOption.layoutInfo)) {\n\t\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\t\tthis._contentLeft = layoutInfo.contentLeft;\n\t\t\tthis._contentWidth = layoutInfo.contentWidth;\n\t\t\tthis._maxWidth = this._getMaxWidth();\n\t\t}\n\t}\n\n\tpublic updateAnchorViewPosition(): void {\n\t\tthis._setPosition(this._affinity, this._primaryAnchor.modelPosition, this._secondaryAnchor.modelPosition);\n\t}\n\n\tprivate _setPosition(affinity: PositionAffinity | null, primaryAnchor: IPosition | null, secondaryAnchor: IPosition | null): void {\n\t\tthis._affinity = affinity;\n\t\tthis._primaryAnchor = getValidPositionPair(primaryAnchor, this._context.viewModel, this._affinity);\n\t\tthis._secondaryAnchor = getValidPositionPair(secondaryAnchor, this._context.viewModel, this._affinity);\n\n\t\tfunction getValidPositionPair(position: IPosition | null, viewModel: IViewModel, affinity: PositionAffinity | null): PositionPair {\n\t\t\tif (!position) {\n\t\t\t\treturn new PositionPair(null, null);\n\t\t\t}\n\t\t\t// Do not trust that widgets give a valid position\n\t\t\tconst validModelPosition = viewModel.model.validatePosition(position);\n\t\t\tif (viewModel.coordinatesConverter.modelPositionIsVisible(validModelPosition)) {\n\t\t\t\tconst viewPosition = viewModel.coordinatesConverter.convertModelPositionToViewPosition(validModelPosition, affinity ?? undefined);\n\t\t\t\treturn new PositionPair(position, viewPosition);\n\t\t\t}\n\t\t\treturn new PositionPair(position, null);\n\t\t}\n\t}\n\n\tprivate _getMaxWidth(): number {\n\t\tconst elDocument = this.domNode.domNode.ownerDocument;\n\t\tconst elWindow = elDocument.defaultView;\n\t\treturn (\n\t\t\tthis.allowEditorOverflow\n\t\t\t\t? elWindow?.innerWidth || elDocument.documentElement.offsetWidth || elDocument.body.offsetWidth\n\t\t\t\t: this._contentWidth\n\t\t);\n\t}\n\n\tpublic setPosition(primaryAnchor: IPosition | null, secondaryAnchor: IPosition | null, preference: ContentWidgetPositionPreference[] | null, affinity: PositionAffinity | null): void {\n\t\tthis._setPosition(affinity, primaryAnchor, secondaryAnchor);\n\t\tthis._preference = preference;\n\t\tif (this._primaryAnchor.viewPosition && this._preference && this._preference.length > 0) {\n\t\t\t// this content widget would like to be visible if possible\n\t\t\t// we change it from `display:none` to `display:block` even if it\n\t\t\t// might be outside the viewport such that we can measure its size\n\t\t\t// in `prepareRender`\n\t\t\tthis.domNode.setDisplay('block');\n\t\t} else {\n\t\t\tthis.domNode.setDisplay('none');\n\t\t}\n\t\tthis._cachedDomNodeOffsetWidth = -1;\n\t\tthis._cachedDomNodeOffsetHeight = -1;\n\t}\n\n\tprivate _layoutBoxInViewport(anchor: AnchorCoordinate, width: number, height: number, ctx: RenderingContext): IBoxLayoutResult {\n\t\t// Our visible box is split horizontally by the current line => 2 boxes\n\n\t\t// a) the box above the line\n\t\tconst aboveLineTop = anchor.top;\n\t\tconst heightAvailableAboveLine = aboveLineTop;\n\n\t\t// b) the box under the line\n\t\tconst underLineTop = anchor.top + anchor.height;\n\t\tconst heightAvailableUnderLine = ctx.viewportHeight - underLineTop;\n\n\t\tconst aboveTop = aboveLineTop - height;\n\t\tconst fitsAbove = (heightAvailableAboveLine >= height);\n\t\tconst belowTop = underLineTop;\n\t\tconst fitsBelow = (heightAvailableUnderLine >= height);\n\n\t\t// And its left\n\t\tlet left = anchor.left;\n\t\tif (left + width > ctx.scrollLeft + ctx.viewportWidth) {\n\t\t\tleft = ctx.scrollLeft + ctx.viewportWidth - width;\n\t\t}\n\t\tif (left < ctx.scrollLeft) {\n\t\t\tleft = ctx.scrollLeft;\n\t\t}\n\n\t\treturn { fitsAbove, aboveTop, fitsBelow, belowTop, left };\n\t}\n\n\tprivate _layoutHorizontalSegmentInPage(windowSize: dom.Dimension, domNodePosition: dom.IDomNodePagePosition, left: number, width: number): [number, number] {\n\t\t// Leave some clearance to the left/right\n\t\tconst LEFT_PADDING = 15;\n\t\tconst RIGHT_PADDING = 15;\n\n\t\t// Initially, the limits are defined as the dom node limits\n\t\tconst MIN_LIMIT = Math.max(LEFT_PADDING, domNodePosition.left - width);\n\t\tconst MAX_LIMIT = Math.min(domNodePosition.left + domNodePosition.width + width, windowSize.width - RIGHT_PADDING);\n\n\t\tconst elDocument = this._viewDomNode.domNode.ownerDocument;\n\t\tconst elWindow = elDocument.defaultView;\n\t\tlet absoluteLeft = domNodePosition.left + left - (elWindow?.scrollX ?? 0);\n\n\t\tif (absoluteLeft + width > MAX_LIMIT) {\n\t\t\tconst delta = absoluteLeft - (MAX_LIMIT - width);\n\t\t\tabsoluteLeft -= delta;\n\t\t\tleft -= delta;\n\t\t}\n\n\t\tif (absoluteLeft < MIN_LIMIT) {\n\t\t\tconst delta = absoluteLeft - MIN_LIMIT;\n\t\t\tabsoluteLeft -= delta;\n\t\t\tleft -= delta;\n\t\t}\n\n\t\treturn [left, absoluteLeft];\n\t}\n\n\tprivate _layoutBoxInPage(anchor: AnchorCoordinate, width: number, height: number, ctx: RenderingContext): IBoxLayoutResult | null {\n\t\tconst aboveTop = anchor.top - height;\n\t\tconst belowTop = anchor.top + anchor.height;\n\n\t\tconst domNodePosition = dom.getDomNodePagePosition(this._viewDomNode.domNode);\n\t\tconst elDocument = this._viewDomNode.domNode.ownerDocument;\n\t\tconst elWindow = elDocument.defaultView;\n\t\tconst absoluteAboveTop = domNodePosition.top + aboveTop - (elWindow?.scrollY ?? 0);\n\t\tconst absoluteBelowTop = domNodePosition.top + belowTop - (elWindow?.scrollY ?? 0);\n\n\t\tconst windowSize = dom.getClientArea(elDocument.body);\n\t\tconst [left, absoluteAboveLeft] = this._layoutHorizontalSegmentInPage(windowSize, domNodePosition, anchor.left - ctx.scrollLeft + this._contentLeft, width);\n\n\t\t// Leave some clearance to the top/bottom\n\t\tconst TOP_PADDING = 22;\n\t\tconst BOTTOM_PADDING = 22;\n\n\t\tconst fitsAbove = (absoluteAboveTop >= TOP_PADDING);\n\t\tconst fitsBelow = (absoluteBelowTop + height <= windowSize.height - BOTTOM_PADDING);\n\n\t\tif (this._fixedOverflowWidgets) {\n\t\t\treturn {\n\t\t\t\tfitsAbove,\n\t\t\t\taboveTop: Math.max(absoluteAboveTop, TOP_PADDING),\n\t\t\t\tfitsBelow,\n\t\t\t\tbelowTop: absoluteBelowTop,\n\t\t\t\tleft: absoluteAboveLeft\n\t\t\t};\n\t\t}\n\n\t\treturn { fitsAbove, aboveTop, fitsBelow, belowTop, left };\n\t}\n\n\tprivate _prepareRenderWidgetAtExactPositionOverflowing(topLeft: Coordinate): Coordinate {\n\t\treturn new Coordinate(topLeft.top, topLeft.left + this._contentLeft);\n\t}\n\n\t/**\n\t * Compute the coordinates above and below the primary and secondary anchors.\n\t * The content widget *must* touch the primary anchor.\n\t * The content widget should touch if possible the secondary anchor.\n\t */\n\tprivate _getAnchorsCoordinates(ctx: RenderingContext): { primary: AnchorCoordinate | null; secondary: AnchorCoordinate | null } {\n\t\tconst primary = getCoordinates(this._primaryAnchor.viewPosition, this._affinity);\n\t\tconst secondaryViewPosition = (this._secondaryAnchor.viewPosition?.lineNumber === this._primaryAnchor.viewPosition?.lineNumber ? this._secondaryAnchor.viewPosition : null);\n\t\tconst secondary = getCoordinates(secondaryViewPosition, this._affinity);\n\t\treturn { primary, secondary };\n\n\t\tfunction getCoordinates(position: Position | null, affinity: PositionAffinity | null): AnchorCoordinate | null {\n\t\t\tif (!position) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst horizontalPosition = ctx.visibleRangeForPosition(position);\n\t\t\tif (!horizontalPosition) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Left-align widgets that should appear :before content\n\t\t\tconst left = (position.column === 1 && affinity === PositionAffinity.LeftOfInjectedText ? 0 : horizontalPosition.left);\n\t\t\tconst top = ctx.getVerticalOffsetForLineNumber(position.lineNumber) - ctx.scrollTop;\n\t\t\tconst lineHeight = ctx.getLineHeightForLineNumber(position.lineNumber);\n\t\t\treturn new AnchorCoordinate(top, left, lineHeight);\n\t\t}\n\t}\n\n\tprivate _reduceAnchorCoordinates(primary: AnchorCoordinate, secondary: AnchorCoordinate | null, width: number): AnchorCoordinate {\n\t\tif (!secondary) {\n\t\t\treturn primary;\n\t\t}\n\n\t\tconst fontInfo = this._context.configuration.options.get(EditorOption.fontInfo);\n\n\t\tlet left = secondary.left;\n\t\tif (left < primary.left) {\n\t\t\tleft = Math.max(left, primary.left - width + fontInfo.typicalFullwidthCharacterWidth);\n\t\t} else {\n\t\t\tleft = Math.min(left, primary.left + width - fontInfo.typicalFullwidthCharacterWidth);\n\t\t}\n\t\treturn new AnchorCoordinate(primary.top, left, primary.height);\n\t}\n\n\tprivate _prepareRenderWidget(ctx: RenderingContext): IRenderData | null {\n\t\tif (!this._preference || this._preference.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { primary, secondary } = this._getAnchorsCoordinates(ctx);\n\t\tif (!primary) {\n\t\t\treturn {\n\t\t\t\tkind: 'offViewport',\n\t\t\t\tpreserveFocus: this.domNode.domNode.contains(this.domNode.domNode.ownerDocument.activeElement)\n\t\t\t};\n\t\t\t// return null;\n\t\t}\n\n\t\tif (this._cachedDomNodeOffsetWidth === -1 || this._cachedDomNodeOffsetHeight === -1) {\n\n\t\t\tlet preferredDimensions: IDimension | null = null;\n\t\t\tif (typeof this._actual.beforeRender === 'function') {\n\t\t\t\tpreferredDimensions = safeInvoke(this._actual.beforeRender, this._actual);\n\t\t\t}\n\t\t\tif (preferredDimensions) {\n\t\t\t\tthis._cachedDomNodeOffsetWidth = preferredDimensions.width;\n\t\t\t\tthis._cachedDomNodeOffsetHeight = preferredDimensions.height;\n\t\t\t} else {\n\t\t\t\tconst domNode = this.domNode.domNode;\n\t\t\t\tconst clientRect = domNode.getBoundingClientRect();\n\t\t\t\tthis._cachedDomNodeOffsetWidth = Math.round(clientRect.width);\n\t\t\t\tthis._cachedDomNodeOffsetHeight = Math.round(clientRect.height);\n\t\t\t}\n\t\t}\n\n\t\tconst anchor = this._reduceAnchorCoordinates(primary, secondary, this._cachedDomNodeOffsetWidth);\n\n\t\tlet placement: IBoxLayoutResult | null;\n\t\tif (this.allowEditorOverflow) {\n\t\t\tplacement = this._layoutBoxInPage(anchor, this._cachedDomNodeOffsetWidth, this._cachedDomNodeOffsetHeight, ctx);\n\t\t} else {\n\t\t\tplacement = this._layoutBoxInViewport(anchor, this._cachedDomNodeOffsetWidth, this._cachedDomNodeOffsetHeight, ctx);\n\t\t}\n\n\t\t// Do two passes, first for perfect fit, second picks first option\n\t\tfor (let pass = 1; pass <= 2; pass++) {\n\t\t\tfor (const pref of this._preference) {\n\t\t\t\t// placement\n\t\t\t\tif (pref === ContentWidgetPositionPreference.ABOVE) {\n\t\t\t\t\tif (!placement) {\n\t\t\t\t\t\t// Widget outside of viewport\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tif (pass === 2 || placement.fitsAbove) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tkind: 'inViewport',\n\t\t\t\t\t\t\tcoordinate: new Coordinate(placement.aboveTop, placement.left),\n\t\t\t\t\t\t\tposition: ContentWidgetPositionPreference.ABOVE\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else if (pref === ContentWidgetPositionPreference.BELOW) {\n\t\t\t\t\tif (!placement) {\n\t\t\t\t\t\t// Widget outside of viewport\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tif (pass === 2 || placement.fitsBelow) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tkind: 'inViewport',\n\t\t\t\t\t\t\tcoordinate: new Coordinate(placement.belowTop, placement.left),\n\t\t\t\t\t\t\tposition: ContentWidgetPositionPreference.BELOW\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (this.allowEditorOverflow) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tkind: 'inViewport',\n\t\t\t\t\t\t\tcoordinate: this._prepareRenderWidgetAtExactPositionOverflowing(new Coordinate(anchor.top, anchor.left)),\n\t\t\t\t\t\t\tposition: ContentWidgetPositionPreference.EXACT\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tkind: 'inViewport',\n\t\t\t\t\t\t\tcoordinate: new Coordinate(anchor.top, anchor.left),\n\t\t\t\t\t\t\tposition: ContentWidgetPositionPreference.EXACT\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * On this first pass, we ensure that the content widget (if it is in the viewport) has the max width set correctly.\n\t */\n\tpublic onBeforeRender(viewportData: ViewportData): void {\n\t\tif (!this._primaryAnchor.viewPosition || !this._preference) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._primaryAnchor.viewPosition.lineNumber < viewportData.startLineNumber || this._primaryAnchor.viewPosition.lineNumber > viewportData.endLineNumber) {\n\t\t\t// Outside of viewport\n\t\t\treturn;\n\t\t}\n\n\t\tthis.domNode.setMaxWidth(this._maxWidth);\n\t}\n\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\tthis._renderData = this._prepareRenderWidget(ctx);\n\t}\n\n\tpublic render(ctx: RestrictedRenderingContext): void {\n\t\tif (!this._renderData || this._renderData.kind === 'offViewport') {\n\t\t\t// This widget should be invisible\n\t\t\tif (this._isVisible) {\n\t\t\t\tthis.domNode.removeAttribute('monaco-visible-content-widget');\n\t\t\t\tthis._isVisible = false;\n\n\t\t\t\tif (this._renderData?.kind === 'offViewport' && this._renderData.preserveFocus) {\n\t\t\t\t\t// widget wants to be shown, but it is outside of the viewport and it\n\t\t\t\t\t// has focus which we need to preserve\n\t\t\t\t\tthis.domNode.setTop(-1000);\n\t\t\t\t} else {\n\t\t\t\t\tthis.domNode.setVisibility('hidden');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof this._actual.afterRender === 'function') {\n\t\t\t\tsafeInvoke(this._actual.afterRender, this._actual, null, null);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// This widget should be visible\n\t\tif (this.allowEditorOverflow) {\n\t\t\tthis.domNode.setTop(this._renderData.coordinate.top);\n\t\t\tthis.domNode.setLeft(this._renderData.coordinate.left);\n\t\t} else {\n\t\t\tthis.domNode.setTop(this._renderData.coordinate.top + ctx.scrollTop - ctx.bigNumbersDelta);\n\t\t\tthis.domNode.setLeft(this._renderData.coordinate.left);\n\t\t}\n\n\t\tif (!this._isVisible) {\n\t\t\tthis.domNode.setVisibility('inherit');\n\t\t\tthis.domNode.setAttribute('monaco-visible-content-widget', 'true');\n\t\t\tthis._isVisible = true;\n\t\t}\n\n\t\tif (typeof this._actual.afterRender === 'function') {\n\t\t\tsafeInvoke(this._actual.afterRender, this._actual, this._renderData.position, this._renderData.coordinate);\n\t\t}\n\t}\n}\n\nclass PositionPair {\n\tconstructor(\n\t\tpublic readonly modelPosition: IPosition | null,\n\t\tpublic readonly viewPosition: Position | null\n\t) { }\n}\n\nclass Coordinate implements IContentWidgetRenderedCoordinate {\n\t_coordinateBrand: void = undefined;\n\n\tconstructor(\n\t\tpublic readonly top: number,\n\t\tpublic readonly left: number\n\t) { }\n}\n\nclass AnchorCoordinate {\n\t_anchorCoordinateBrand: void = undefined;\n\n\tconstructor(\n\t\tpublic readonly top: number,\n\t\tpublic readonly left: number,\n\t\tpublic readonly height: number\n\t) { }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction safeInvoke<T extends (...args: any[]) => any>(fn: T, thisArg: ThisParameterType<T>, ...args: Parameters<T>): ReturnType<T> | null {\n\ttry {\n\t\treturn fn.call(thisArg, ...args);\n\t} catch {\n\t\t// ignore\n\t\treturn null;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6B0C;IAAAA,cAAA,YAAA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","ignoreList":[]}