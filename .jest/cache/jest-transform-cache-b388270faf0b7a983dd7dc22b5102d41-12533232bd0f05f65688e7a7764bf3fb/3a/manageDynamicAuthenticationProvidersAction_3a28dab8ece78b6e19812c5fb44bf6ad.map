{"version":3,"names":["cov_l42qdvo8l","actualCoverage","localize","localize2","Action2","IQuickInputService","IDynamicAuthenticationProviderStorageService","IAuthenticationService","IDialogService","RemoveDynamicAuthenticationProvidersAction","ID","s","constructor","f","id","title","category","f1","run","accessor","quickInputService","get","dynamicAuthStorageService","authenticationService","dialogService","interactedProviders","getInteractedProviders","length","b","info","items","map","provider","label","description","clientId","selected","pick","placeHolder","canPickMany","providerNames","item","join","message","result","confirm","detail","primaryButton","type","confirmed","providerId","isAuthenticationProviderRegistered","unregisterAuthenticationProvider","removeDynamicProvider"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/authentication/browser/actions/manageDynamicAuthenticationProvidersAction.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2 } from '../../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IQuickInputService, IQuickPickItem } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IDynamicAuthenticationProviderStorageService, DynamicAuthenticationProviderInfo } from '../../../../services/authentication/common/dynamicAuthenticationProviderStorage.js';\nimport { IAuthenticationService } from '../../../../services/authentication/common/authentication.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\n\ninterface IDynamicProviderQuickPickItem extends IQuickPickItem {\n\tprovider: DynamicAuthenticationProviderInfo;\n}\n\nexport class RemoveDynamicAuthenticationProvidersAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.removeDynamicAuthenticationProviders';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: RemoveDynamicAuthenticationProvidersAction.ID,\n\t\t\ttitle: localize2('removeDynamicAuthProviders', 'Remove Dynamic Authentication Providers'),\n\t\t\tcategory: localize2('authenticationCategory', 'Authentication'),\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst dynamicAuthStorageService = accessor.get(IDynamicAuthenticationProviderStorageService);\n\t\tconst authenticationService = accessor.get(IAuthenticationService);\n\t\tconst dialogService = accessor.get(IDialogService);\n\n\t\tconst interactedProviders = dynamicAuthStorageService.getInteractedProviders();\n\n\t\tif (interactedProviders.length === 0) {\n\t\t\tawait dialogService.info(\n\t\t\t\tlocalize('noDynamicProviders', 'No dynamic authentication providers'),\n\t\t\t\tlocalize('noDynamicProvidersDetail', 'No dynamic authentication providers have been used yet.')\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst items: IDynamicProviderQuickPickItem[] = interactedProviders.map(provider => ({\n\t\t\tlabel: provider.label,\n\t\t\tdescription: localize('clientId', 'Client ID: {0}', provider.clientId),\n\t\t\tprovider\n\t\t}));\n\n\t\tconst selected = await quickInputService.pick(items, {\n\t\t\tplaceHolder: localize('selectProviderToRemove', 'Select a dynamic authentication provider to remove'),\n\t\t\tcanPickMany: true\n\t\t});\n\n\t\tif (!selected || selected.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Confirm deletion\n\t\tconst providerNames = selected.map(item => item.provider.label).join(', ');\n\t\tconst message = selected.length === 1\n\t\t\t? localize('confirmDeleteSingleProvider', 'Are you sure you want to remove the dynamic authentication provider \"{0}\"?', providerNames)\n\t\t\t: localize('confirmDeleteMultipleProviders', 'Are you sure you want to remove {0} dynamic authentication providers: {1}?', selected.length, providerNames);\n\n\t\tconst result = await dialogService.confirm({\n\t\t\tmessage,\n\t\t\tdetail: localize('confirmDeleteDetail', 'This will remove all stored authentication data for the selected provider(s). You will need to re-authenticate if you use these providers again.'),\n\t\t\tprimaryButton: localize('remove', 'Remove'),\n\t\t\ttype: 'warning'\n\t\t});\n\n\t\tif (!result.confirmed) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove the selected providers\n\t\tfor (const item of selected) {\n\t\t\tconst providerId = item.provider.providerId;\n\n\t\t\t// Unregister from authentication service if still registered\n\t\t\tif (authenticationService.isAuthenticationProviderRegistered(providerId)) {\n\t\t\t\tauthenticationService.unregisterAuthenticationProvider(providerId);\n\t\t\t}\n\n\t\t\t// Remove from dynamic storage service\n\t\t\tawait dynamicAuthStorageService.removeDynamicProvider(providerId);\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwBG;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAxBH;;;;AAKA,SAASE,QAAQ,EAAEC,SAAS,QAAQ,uBAAuB;AAC3D,SAASC,OAAO,QAAQ,mDAAmD;AAE3E,SAASC,kBAAkB,QAAwB,yDAAyD;AAC5G,SAASC,4CAA4C,QAA2C,oFAAoF;AACpL,SAASC,sBAAsB,QAAQ,8DAA8D;AACrG,SAASC,cAAc,QAAQ,mDAAmD;AAMlF,OAAM,MAAOC,0CAA2C,SAAQL,OAAO;EAEtE,OAAgBM,EAAE;EAAA;EAAA,CAAAV,aAAA,GAAAW,CAAA,OAAG,uDAAuD;EAE5EC,YAAA;IAAA;IAAAZ,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAW,CAAA;IACC,KAAK,CAAC;MACLG,EAAE,EAAEL,0CAA0C,CAACC,EAAE;MACjDK,KAAK,EAAEZ,SAAS,CAAC,4BAA4B,EAAE,yCAAyC,CAAC;MACzFa,QAAQ,EAAEb,SAAS,CAAC,wBAAwB,EAAE,gBAAgB,CAAC;MAC/Dc,EAAE,EAAE;KACJ,CAAC;EACH;EAEA,MAAMC,GAAGA,CAACC,QAA0B;IAAA;IAAAnB,aAAA,GAAAa,CAAA;IACnC,MAAMO,iBAAiB;IAAA;IAAA,CAAApB,aAAA,GAAAW,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAAChB,kBAAkB,CAAC;IAC1D,MAAMiB,yBAAyB;IAAA;IAAA,CAAAtB,aAAA,GAAAW,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAACf,4CAA4C,CAAC;IAC5F,MAAMiB,qBAAqB;IAAA;IAAA,CAAAvB,aAAA,GAAAW,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAACd,sBAAsB,CAAC;IAClE,MAAMiB,aAAa;IAAA;IAAA,CAAAxB,aAAA,GAAAW,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAACb,cAAc,CAAC;IAElD,MAAMiB,mBAAmB;IAAA;IAAA,CAAAzB,aAAA,GAAAW,CAAA,OAAGW,yBAAyB,CAACI,sBAAsB,EAAE;IAAC;IAAA1B,aAAA,GAAAW,CAAA;IAE/E,IAAIc,mBAAmB,CAACE,MAAM,KAAK,CAAC,EAAE;MAAA;MAAA3B,aAAA,GAAA4B,CAAA;MAAA5B,aAAA,GAAAW,CAAA;MACrC,MAAMa,aAAa,CAACK,IAAI,CACvB3B,QAAQ,CAAC,oBAAoB,EAAE,qCAAqC,CAAC,EACrEA,QAAQ,CAAC,0BAA0B,EAAE,yDAAyD,CAAC,CAC/F;MAAC;MAAAF,aAAA,GAAAW,CAAA;MACF;IACD,CAAC;IAAA;IAAA;MAAAX,aAAA,GAAA4B,CAAA;IAAA;IAED,MAAME,KAAK;IAAA;IAAA,CAAA9B,aAAA,GAAAW,CAAA,QAAoCc,mBAAmB,CAACM,GAAG,CAACC,QAAQ,IAAK;MAAA;MAAAhC,aAAA,GAAAa,CAAA;MAAAb,aAAA,GAAAW,CAAA;MAAA;QACnFsB,KAAK,EAAED,QAAQ,CAACC,KAAK;QACrBC,WAAW,EAAEhC,QAAQ,CAAC,UAAU,EAAE,gBAAgB,EAAE8B,QAAQ,CAACG,QAAQ,CAAC;QACtEH;OACA;KAAC,CAAC;IAEH,MAAMI,QAAQ;IAAA;IAAA,CAAApC,aAAA,GAAAW,CAAA,QAAG,MAAMS,iBAAiB,CAACiB,IAAI,CAACP,KAAK,EAAE;MACpDQ,WAAW,EAAEpC,QAAQ,CAAC,wBAAwB,EAAE,oDAAoD,CAAC;MACrGqC,WAAW,EAAE;KACb,CAAC;IAAC;IAAAvC,aAAA,GAAAW,CAAA;IAEH;IAAI;IAAA,CAAAX,aAAA,GAAA4B,CAAA,WAACQ,QAAQ;IAAA;IAAA,CAAApC,aAAA,GAAA4B,CAAA,UAAIQ,QAAQ,CAACT,MAAM,KAAK,CAAC,GAAE;MAAA;MAAA3B,aAAA,GAAA4B,CAAA;MAAA5B,aAAA,GAAAW,CAAA;MACvC;IACD,CAAC;IAAA;IAAA;MAAAX,aAAA,GAAA4B,CAAA;IAAA;IAED;IACA,MAAMY,aAAa;IAAA;IAAA,CAAAxC,aAAA,GAAAW,CAAA,QAAGyB,QAAQ,CAACL,GAAG,CAACU,IAAI,IAAI;MAAA;MAAAzC,aAAA,GAAAa,CAAA;MAAAb,aAAA,GAAAW,CAAA;MAAA,OAAA8B,IAAI,CAACT,QAAQ,CAACC,KAAK;IAAL,CAAK,CAAC,CAACS,IAAI,CAAC,IAAI,CAAC;IAC1E,MAAMC,OAAO;IAAA;IAAA,CAAA3C,aAAA,GAAAW,CAAA,QAAGyB,QAAQ,CAACT,MAAM,KAAK,CAAC;IAAA;IAAA,CAAA3B,aAAA,GAAA4B,CAAA,UAClC1B,QAAQ,CAAC,6BAA6B,EAAE,4EAA4E,EAAEsC,aAAa,CAAC;IAAA;IAAA,CAAAxC,aAAA,GAAA4B,CAAA,UACpI1B,QAAQ,CAAC,gCAAgC,EAAE,4EAA4E,EAAEkC,QAAQ,CAACT,MAAM,EAAEa,aAAa,CAAC;IAE3J,MAAMI,MAAM;IAAA;IAAA,CAAA5C,aAAA,GAAAW,CAAA,QAAG,MAAMa,aAAa,CAACqB,OAAO,CAAC;MAC1CF,OAAO;MACPG,MAAM,EAAE5C,QAAQ,CAAC,qBAAqB,EAAE,kJAAkJ,CAAC;MAC3L6C,aAAa,EAAE7C,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC;MAC3C8C,IAAI,EAAE;KACN,CAAC;IAAC;IAAAhD,aAAA,GAAAW,CAAA;IAEH,IAAI,CAACiC,MAAM,CAACK,SAAS,EAAE;MAAA;MAAAjD,aAAA,GAAA4B,CAAA;MAAA5B,aAAA,GAAAW,CAAA;MACtB;IACD,CAAC;IAAA;IAAA;MAAAX,aAAA,GAAA4B,CAAA;IAAA;IAED;IAAA5B,aAAA,GAAAW,CAAA;IACA,KAAK,MAAM8B,IAAI,IAAIL,QAAQ,EAAE;MAC5B,MAAMc,UAAU;MAAA;MAAA,CAAAlD,aAAA,GAAAW,CAAA,QAAG8B,IAAI,CAACT,QAAQ,CAACkB,UAAU;MAE3C;MAAA;MAAAlD,aAAA,GAAAW,CAAA;MACA,IAAIY,qBAAqB,CAAC4B,kCAAkC,CAACD,UAAU,CAAC,EAAE;QAAA;QAAAlD,aAAA,GAAA4B,CAAA;QAAA5B,aAAA,GAAAW,CAAA;QACzEY,qBAAqB,CAAC6B,gCAAgC,CAACF,UAAU,CAAC;MACnE,CAAC;MAAA;MAAA;QAAAlD,aAAA,GAAA4B,CAAA;MAAA;MAED;MAAA5B,aAAA,GAAAW,CAAA;MACA,MAAMW,yBAAyB,CAAC+B,qBAAqB,CAACH,UAAU,CAAC;IAClE;EACD","ignoreList":[]}