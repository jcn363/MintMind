{"version":3,"names":["cov_5vjvj6gv5","actualCoverage","sum","Disposable","TypingInterval","_textModel","_typingSessions","s","_currentSession","_lastChangeTime","_cachedTypingIntervalResult","_cacheInvalidated","MAX_SESSION_GAP_MS","MIN_SESSION_DURATION_MS","SESSION_HISTORY_LIMIT","TYPING_SPEED_WINDOW_MS","MIN_CHARS_FOR_RELIABLE_SPEED","getTypingInterval","f","b","_calculateTypingInterval","constructor","_register","onDidChangeContent","e","_updateTypingSpeed","change","now","Date","_isUserTyping","_finalizeCurrentSession","startTime","endTime","characterCount","_getActualCharacterCount","totalChars","c","changes","Math","max","text","length","rangeLength","detailedReasons","reason","_isUserTypingReason","metadata","isUndoing","isRedoing","source","kind","sessionDuration","push","shift","tempSession","allSessions","_calculateSpeedFromSessions","sessions","averageInterval","sortedSessions","sort","a","cutoffTime","recentSessions","filter","session","olderSessions","splice","map","i","totalTime","keystrokeIntervals","avgMsBetweenKeystrokes","round","reset","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/typingSpeed.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { sum } from '../../../../../base/common/arrays.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { IModelContentChangedEvent } from '../../../../common/textModelEvents.js';\n\ninterface TypingSession {\n\tstartTime: number;\n\tendTime: number;\n\tcharacterCount: number; // Effective character count for typing interval calculation\n}\n\ninterface TypingIntervalResult {\n\taverageInterval: number; // Average milliseconds between keystrokes\n\tcharacterCount: number; // Number of characters involved in the computation\n}\n\n/**\n * Tracks typing speed as average milliseconds between keystrokes.\n * Higher values indicate slower typing.\n */\nexport class TypingInterval extends Disposable {\n\n\tprivate readonly _typingSessions: TypingSession[] = [];\n\tprivate _currentSession: TypingSession | null = null;\n\tprivate _lastChangeTime = 0;\n\tprivate _cachedTypingIntervalResult: TypingIntervalResult | null = null;\n\tprivate _cacheInvalidated = true;\n\n\t// Configuration constants\n\tprivate static readonly MAX_SESSION_GAP_MS = 3_000; // 3 seconds max gap between keystrokes in a session\n\tprivate static readonly MIN_SESSION_DURATION_MS = 1_000; // Minimum session duration to consider\n\tprivate static readonly SESSION_HISTORY_LIMIT = 50; // Keep last 50 sessions for calculation\n\tprivate static readonly TYPING_SPEED_WINDOW_MS = 300_000; // 5 minutes window for speed calculation\n\tprivate static readonly MIN_CHARS_FOR_RELIABLE_SPEED = 20; // Minimum characters needed for reliable speed calculation\n\n\t/**\n\t * Gets the current typing interval as average milliseconds between keystrokes\n\t * and the number of characters involved in the computation.\n\t * Higher interval values indicate slower typing.\n\t * Returns { interval: 0, characterCount: 0 } if no typing data is available.\n\t */\n\tpublic getTypingInterval(): TypingIntervalResult {\n\t\tif (this._cacheInvalidated || this._cachedTypingIntervalResult === null) {\n\t\t\tthis._cachedTypingIntervalResult = this._calculateTypingInterval();\n\t\t\tthis._cacheInvalidated = false;\n\t\t}\n\t\treturn this._cachedTypingIntervalResult;\n\t}\n\n\tconstructor(private readonly _textModel: ITextModel) {\n\t\tsuper();\n\n\t\tthis._register(this._textModel.onDidChangeContent(e => this._updateTypingSpeed(e)));\n\t}\n\n\tprivate _updateTypingSpeed(change: IModelContentChangedEvent): void {\n\t\tconst now = Date.now();\n\n\t\tif (!this._isUserTyping(change)) {\n\t\t\tthis._finalizeCurrentSession();\n\t\t\treturn;\n\t\t}\n\n\t\t// If too much time has passed since last change, start a new session\n\t\tif (this._currentSession && (now - this._lastChangeTime) > TypingInterval.MAX_SESSION_GAP_MS) {\n\t\t\tthis._finalizeCurrentSession();\n\t\t}\n\n\t\t// Start new session if none exists\n\t\tif (!this._currentSession) {\n\t\t\tthis._currentSession = {\n\t\t\t\tstartTime: now,\n\t\t\t\tendTime: now,\n\t\t\t\tcharacterCount: 0\n\t\t\t};\n\t\t}\n\n\t\t// Update current session\n\t\tthis._currentSession.endTime = now;\n\t\tthis._currentSession.characterCount += this._getActualCharacterCount(change);\n\n\t\tthis._lastChangeTime = now;\n\t\tthis._cacheInvalidated = true;\n\t}\n\n\tprivate _getActualCharacterCount(change: IModelContentChangedEvent): number {\n\t\tlet totalChars = 0;\n\t\tfor (const c of change.changes) {\n\t\t\t// Count characters added or removed (use the larger of the two)\n\t\t\ttotalChars += Math.max(c.text.length, c.rangeLength);\n\t\t}\n\t\treturn totalChars;\n\t}\n\n\tprivate _isUserTyping(change: IModelContentChangedEvent): boolean {\n\t\t// If no detailed reasons, assume user typing\n\t\tif (!change.detailedReasons || change.detailedReasons.length === 0) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check if any of the reasons indicate actual user typing\n\t\tfor (const reason of change.detailedReasons) {\n\t\t\tif (this._isUserTypingReason(reason)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate _isUserTypingReason(reason: any): boolean {\n\t\t// Handle undo/redo - not considered user typing\n\t\tif (reason.metadata.isUndoing || reason.metadata.isRedoing) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Handle different source types\n\t\tswitch (reason.metadata.source) {\n\t\t\tcase 'cursor': {\n\t\t\t\t// Direct user input via cursor\n\t\t\t\tconst kind = reason.metadata.kind;\n\t\t\t\treturn kind === 'type' || kind === 'compositionType' || kind === 'compositionEnd';\n\t\t\t}\n\n\t\t\tdefault:\n\t\t\t\t// All other sources (paste, suggestions, code actions, etc.) are not user typing\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate _finalizeCurrentSession(): void {\n\t\tif (!this._currentSession) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst sessionDuration = this._currentSession.endTime - this._currentSession.startTime;\n\n\t\t// Only keep sessions that meet minimum duration and have actual content\n\t\tif (sessionDuration >= TypingInterval.MIN_SESSION_DURATION_MS && this._currentSession.characterCount > 0) {\n\t\t\tthis._typingSessions.push(this._currentSession);\n\n\t\t\t// Limit session history\n\t\t\tif (this._typingSessions.length > TypingInterval.SESSION_HISTORY_LIMIT) {\n\t\t\t\tthis._typingSessions.shift();\n\t\t\t}\n\t\t}\n\n\t\tthis._currentSession = null;\n\t}\n\n\tprivate _calculateTypingInterval(): TypingIntervalResult {\n\t\t// Finalize current session for calculation\n\t\tif (this._currentSession) {\n\t\t\tconst tempSession = { ...this._currentSession };\n\t\t\tconst sessionDuration = tempSession.endTime - tempSession.startTime;\n\t\t\tif (sessionDuration >= TypingInterval.MIN_SESSION_DURATION_MS && tempSession.characterCount > 0) {\n\t\t\t\tconst allSessions = [...this._typingSessions, tempSession];\n\t\t\t\treturn this._calculateSpeedFromSessions(allSessions);\n\t\t\t}\n\t\t}\n\n\t\treturn this._calculateSpeedFromSessions(this._typingSessions);\n\t}\n\n\tprivate _calculateSpeedFromSessions(sessions: TypingSession[]): TypingIntervalResult {\n\t\tif (sessions.length === 0) {\n\t\t\treturn { averageInterval: 0, characterCount: 0 };\n\t\t}\n\n\t\t// Sort sessions by recency (most recent first) to ensure we get the most recent sessions\n\t\tconst sortedSessions = [...sessions].sort((a, b) => b.endTime - a.endTime);\n\n\t\t// First, try the standard window\n\t\tconst cutoffTime = Date.now() - TypingInterval.TYPING_SPEED_WINDOW_MS;\n\t\tconst recentSessions = sortedSessions.filter(session => session.endTime > cutoffTime);\n\t\tconst olderSessions = sortedSessions.splice(recentSessions.length);\n\n\t\tlet totalChars = sum(recentSessions.map(session => session.characterCount));\n\n\t\t// If we don't have enough characters in the standard window, expand to include older sessions\n\t\tfor (let i = 0; i < olderSessions.length && totalChars < TypingInterval.MIN_CHARS_FOR_RELIABLE_SPEED; i++) {\n\t\t\trecentSessions.push(olderSessions[i]);\n\t\t\ttotalChars += olderSessions[i].characterCount;\n\t\t}\n\n\t\tconst totalTime = sum(recentSessions.map(session => session.endTime - session.startTime));\n\t\tif (totalTime === 0 || totalChars <= 1) {\n\t\t\treturn { averageInterval: 0, characterCount: totalChars };\n\t\t}\n\n\t\t// Calculate average milliseconds between keystrokes\n\t\tconst keystrokeIntervals = Math.max(1, totalChars - 1);\n\t\tconst avgMsBetweenKeystrokes = totalTime / keystrokeIntervals;\n\n\t\treturn {\n\t\t\taverageInterval: Math.round(avgMsBetweenKeystrokes),\n\t\t\tcharacterCount: totalChars\n\t\t};\n\t}\n\n\t/**\n\t * Reset all typing speed data\n\t */\n\tpublic reset(): void {\n\t\tthis._typingSessions.length = 0;\n\t\tthis._currentSession = null;\n\t\tthis._lastChangeTime = 0;\n\t\tthis._cachedTypingIntervalResult = null;\n\t\tthis._cacheInvalidated = true;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._finalizeCurrentSession();\n\t\tsuper.dispose();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}