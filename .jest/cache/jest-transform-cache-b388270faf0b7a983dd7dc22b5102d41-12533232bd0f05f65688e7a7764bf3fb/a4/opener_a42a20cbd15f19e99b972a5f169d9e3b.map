{"version":3,"names":["cov_2oqes0bqjw","actualCoverage","createDecorator","IOpenerService","s","withSelection","uri","selection","f","with","fragment","startLineNumber","startColumn","endLineNumber","b","endColumn","extractSelection","undefined","match","exec","parseInt"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/opener/common/opener.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IEditorOptions, ITextEditorSelection } from '../../editor/common/editor.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\n\nexport const IOpenerService = createDecorator<IOpenerService>('openerService');\n\nexport type OpenInternalOptions = {\n\n\t/**\n\t * Signals that the intent is to open an editor to the side\n\t * of the currently active editor.\n\t */\n\treadonly openToSide?: boolean;\n\n\t/**\n\t * Extra editor options to apply in case an editor is used to open.\n\t */\n\treadonly editorOptions?: IEditorOptions;\n\n\t/**\n\t * Signals that the editor to open was triggered through a user\n\t * action, such as keyboard or mouse usage.\n\t */\n\treadonly fromUserGesture?: boolean;\n\n\t/**\n\t * Allow command links to be handled.\n\t *\n\t * If this is an array, then only the commands included in the array can be run.\n\t */\n\treadonly allowCommands?: boolean | readonly string[];\n};\n\nexport type OpenExternalOptions = {\n\treadonly openExternal?: boolean;\n\treadonly allowTunneling?: boolean;\n\treadonly allowContributedOpeners?: boolean | string;\n\treadonly fromWorkspace?: boolean;\n\treadonly skipValidation?: boolean;\n};\n\nexport type OpenOptions = OpenInternalOptions & OpenExternalOptions;\n\nexport type ResolveExternalUriOptions = { readonly allowTunneling?: boolean };\n\nexport interface IResolvedExternalUri extends IDisposable {\n\tresolved: URI;\n}\n\nexport interface IOpener {\n\topen(resource: URI | string, options?: OpenInternalOptions | OpenExternalOptions): Promise<boolean>;\n}\n\nexport interface IExternalOpener {\n\topenExternal(href: string, ctx: { sourceUri: URI; preferredOpenerId?: string }, token: CancellationToken): Promise<boolean>;\n\tdispose?(): void;\n}\n\nexport interface IValidator {\n\tshouldOpen(resource: URI | string, openOptions?: OpenOptions): Promise<boolean>;\n}\n\nexport interface IExternalUriResolver {\n\tresolveExternalUri(resource: URI, options?: OpenOptions): Promise<{ resolved: URI; dispose(): void } | undefined>;\n}\n\nexport interface IOpenerService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Register a participant that can handle the open() call.\n\t */\n\tregisterOpener(opener: IOpener): IDisposable;\n\n\t/**\n\t * Register a participant that can validate if the URI resource be opened.\n\t * Validators are run before openers.\n\t */\n\tregisterValidator(validator: IValidator): IDisposable;\n\n\t/**\n\t * Register a participant that can resolve an external URI resource to be opened.\n\t */\n\tregisterExternalUriResolver(resolver: IExternalUriResolver): IDisposable;\n\n\t/**\n\t * Sets the handler for opening externally. If not provided,\n\t * a default handler will be used.\n\t */\n\tsetDefaultExternalOpener(opener: IExternalOpener): void;\n\n\t/**\n\t * Registers a new opener external resources openers.\n\t */\n\tregisterExternalOpener(opener: IExternalOpener): IDisposable;\n\n\t/**\n\t * Opens a resource, like a webaddress, a document uri, or executes command.\n\t *\n\t * @param resource A resource\n\t * @return A promise that resolves when the opening is done.\n\t */\n\topen(resource: URI | string, options?: OpenInternalOptions | OpenExternalOptions): Promise<boolean>;\n\n\t/**\n\t * Resolve a resource to its external form.\n\t * @throws whenever resolvers couldn't resolve this resource externally.\n\t */\n\tresolveExternalUri(resource: URI, options?: ResolveExternalUriOptions): Promise<IResolvedExternalUri>;\n}\n\n/**\n * Encodes selection into the `URI`.\n *\n * IMPORTANT: you MUST use `extractSelection` to separate the selection\n * again from the original `URI` before passing the `URI` into any\n * component that is not aware of selections.\n */\nexport function withSelection(uri: URI, selection: ITextEditorSelection): URI {\n\treturn uri.with({ fragment: `${selection.startLineNumber},${selection.startColumn}${selection.endLineNumber ? `-${selection.endLineNumber}${selection.endColumn ? `,${selection.endColumn}` : ''}` : ''}` });\n}\n\n/**\n * file:///some/file.js#73\n * file:///some/file.js#L73\n * file:///some/file.js#73,84\n * file:///some/file.js#L73,84\n * file:///some/file.js#73-83\n * file:///some/file.js#L73-L83\n * file:///some/file.js#73,84-83,52\n * file:///some/file.js#L73,84-L83,52\n */\nexport function extractSelection(uri: URI): { selection: ITextEditorSelection | undefined; uri: URI } {\n\tlet selection: ITextEditorSelection | undefined = undefined;\n\tconst match = /^L?(\\d+)(?:,(\\d+))?(-L?(\\d+)(?:,(\\d+))?)?/.exec(uri.fragment);\n\tif (match) {\n\t\tselection = {\n\t\t\tstartLineNumber: parseInt(match[1]),\n\t\t\tstartColumn: match[2] ? parseInt(match[2]) : 1,\n\t\t\tendLineNumber: match[4] ? parseInt(match[4]) : undefined,\n\t\t\tendColumn: match[4] ? (match[5] ? parseInt(match[5]) : 1) : undefined\n\t\t};\n\t\turi = uri.with({ fragment: '' });\n\t}\n\treturn { selection, uri };\n}\n"],"mappings":"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","ignoreList":[]}