{"version":3,"names":["cov_q1ho7vyjm","actualCoverage","Disposable","dispose","toDisposable","TerminalCapabilityStore","CommandDetectionCapability","CwdDetectionCapability","PartialCommandDetectionCapability","Emitter","BufferMarkCapability","URI","sanitizeCwd","removeAnsiEscapeCodesFromPrompt","ShellEnvDetectionCapability","PromptTypeDetectionCapability","ShellIntegrationAddon","_nonce","_disableTelemetry","_onDidExecuteText","_telemetryService","_logService","_terminal","capabilities","s","_register","_hasUpdatedTelemetry","_activationTimeout","_commonProtocolDisposables","_seenSequences","Set","seenSequences","f","_status","status","_onDidChangeStatus","onDidChangeStatus","event","_onDidChangeSeenSequences","onDidChangeSeenSequences","constructor","_clearActivationTimeout","_disposeCommonProtocol","length","activate","xterm","add","parser","registerOscHandler","data","_handleVSCodeSequence","_doHandleITermSequence","push","_handleFinalTermSequence","_doHandleSetCwd","_doHandleSetWindowsFriendlyCwd","_ensureCapabilitiesOrAddFailureTelemetry","getMarkerId","terminal","vscodeMarkerId","_createOrGetBufferMarkDetection","getMark","setNextCommandId","command","commandId","b","_createOrGetCommandDetection","_markSequenceSeen","sequence","has","fire","didHandle","_doHandleFinalTermSequence","args","split","handlePromptStart","handleCommandStart","ignoreCommandLine","handleCommandExecuted","exitCode","parseInt","undefined","handleCommandFinished","_doHandleVSCodeSequence","publicLog2","setTimeout","get","warn","clearTimeout","argsIndex","indexOf","substring","arg0","arg1","commandLine","deserializeVSCodeOscMessage","setCommandLine","handleContinuationStart","handleContinuationEnd","env","JSON","parse","_createOrGetShellEnvDetection","setEnvironment","e","startEnvironmentSingleVar","arg2","deleteEnvironmentSingleVar","setEnvironmentSingleVar","endEnvironmentSingleVar","handleRightPromptStart","handleRightPromptEnd","deserialized","key","value","parseKeyValueAssignment","_updateContinuationPrompt","_updateCwd","setIsWindowsPty","setHasRichCommandDetection","sanitizedValue","replace","_updatePromptTerminator","_createOrGetPromptTypeDetection","setPromptType","setIsCommandStorageDisabled","addMark","parseMarkSequence","setContinuationPrompt","prompt","lastPromptLine","lastIndexOf","lastPromptLineTrimmed","trim","promptTerminator","setPromptTerminator","_createOrGetCwdDetection","updateCwd","commandDetection","setCwd","match","uri","path","serialize","isWindowsPty","hasRichCommandDetection","commands","promptInputModel","result","deserialize","serialized","Error","cwd","cwdDetection","bufferMarkDetection","shellEnvDetection","promptTypeDetection","message","replaceAll","_match","op","hex","String","fromCharCode","serializeVSCodeOscMessage","char","charCode","charCodeAt","toString","padStart","separatorIndex","id","hidden","property","startsWith"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/terminal/common/xterm/shellIntegrationAddon.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IShellIntegration, ShellIntegrationStatus } from '../terminal.js';\nimport { Disposable, dispose, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { TerminalCapabilityStore } from '../capabilities/terminalCapabilityStore.js';\nimport { CommandDetectionCapability } from '../capabilities/commandDetectionCapability.js';\nimport { CwdDetectionCapability } from '../capabilities/cwdDetectionCapability.js';\nimport { IBufferMarkCapability, ICommandDetectionCapability, ICwdDetectionCapability, IPromptTypeDetectionCapability, ISerializedCommandDetectionCapability, IShellEnvDetectionCapability, TerminalCapability } from '../capabilities/capabilities.js';\nimport { PartialCommandDetectionCapability } from '../capabilities/partialCommandDetectionCapability.js';\nimport { ILogService } from '../../../log/common/log.js';\nimport { ITelemetryService } from '../../../telemetry/common/telemetry.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { BufferMarkCapability } from '../capabilities/bufferMarkCapability.js';\nimport type { ITerminalAddon, Terminal } from '@xterm/headless';\nimport { URI } from '../../../../base/common/uri.js';\nimport { sanitizeCwd } from '../terminalEnvironment.js';\nimport { removeAnsiEscapeCodesFromPrompt } from '../../../../base/common/strings.js';\nimport { ShellEnvDetectionCapability } from '../capabilities/shellEnvDetectionCapability.js';\nimport { PromptTypeDetectionCapability } from '../capabilities/promptTypeDetectionCapability.js';\n\n\n/**\n * Shell integration is a feature that enhances the terminal's understanding of what's happening\n * in the shell by injecting special sequences into the shell's prompt using the \"Set Text\n * Parameters\" sequence (`OSC Ps ; Pt ST`).\n *\n * Definitions:\n * - OSC: `\\x1b]`\n * - Ps:  A single (usually optional) numeric parameter, composed of one or more digits.\n * - Pt:  A text parameter composed of printable characters.\n * - ST: `\\x7`\n *\n * This is inspired by a feature of the same name in the FinalTerm, iTerm2 and kitty terminals.\n */\n\n/**\n * The identifier for the first numeric parameter (`Ps`) for OSC commands used by shell integration.\n */\nexport const enum ShellIntegrationOscPs {\n\t/**\n\t * Sequences pioneered by FinalTerm.\n\t */\n\tFinalTerm = 133,\n\t/**\n\t * Sequences pioneered by VS Code. The number is derived from the least significant digit of\n\t * \"VSC\" when encoded in hex (\"VSC\" = 0x56, 0x53, 0x43).\n\t */\n\tVSCode = 633,\n\t/**\n\t * Sequences pioneered by iTerm.\n\t */\n\tITerm = 1337,\n\tSetCwd = 7,\n\tSetWindowsFriendlyCwd = 9\n}\n\n/**\n * Sequences pioneered by FinalTerm.\n */\nconst enum FinalTermOscPt {\n\t/**\n\t * The start of the prompt, this is expected to always appear at the start of a line.\n\t *\n\t * Format: `OSC 133 ; A ST`\n\t */\n\tPromptStart = 'A',\n\n\t/**\n\t * The start of a command, ie. where the user inputs their command.\n\t *\n\t * Format: `OSC 133 ; B ST`\n\t */\n\tCommandStart = 'B',\n\n\t/**\n\t * Sent just before the command output begins.\n\t *\n\t * Format: `OSC 133 ; C ST`\n\t */\n\tCommandExecuted = 'C',\n\n\t/**\n\t * Sent just after a command has finished. The exit code is optional, when not specified it\n\t * means no command was run (ie. enter on empty prompt or ctrl+c).\n\t *\n\t * Format: `OSC 133 ; D [; <ExitCode>] ST`\n\t */\n\tCommandFinished = 'D',\n}\n\n/**\n * VS Code-specific shell integration sequences. Some of these are based on more common alternatives\n * like those pioneered in {@link FinalTermOscPt FinalTerm}. The decision to move to entirely custom\n * sequences was to try to improve reliability and prevent the possibility of applications confusing\n * the terminal. If multiple shell integration scripts run, VS Code will prioritize the VS\n * Code-specific ones.\n *\n * It's recommended that authors of shell integration scripts use the common sequences (`133`)\n * when building general purpose scripts and the VS Code-specific (`633`) when targeting only VS\n * Code or when there are no other alternatives (eg. {@link CommandLine `633 ; E`}). These sequences\n * support mix-and-matching.\n */\nconst enum VSCodeOscPt {\n\t/**\n\t * The start of the prompt, this is expected to always appear at the start of a line.\n\t *\n\t * Format: `OSC 633 ; A ST`\n\t *\n\t * Based on {@link FinalTermOscPt.PromptStart}.\n\t */\n\tPromptStart = 'A',\n\n\t/**\n\t * The start of a command, ie. where the user inputs their command.\n\t *\n\t * Format: `OSC 633 ; B ST`\n\t *\n\t * Based on  {@link FinalTermOscPt.CommandStart}.\n\t */\n\tCommandStart = 'B',\n\n\t/**\n\t * Sent just before the command output begins.\n\t *\n\t * Format: `OSC 633 ; C ST`\n\t *\n\t * Based on {@link FinalTermOscPt.CommandExecuted}.\n\t */\n\tCommandExecuted = 'C',\n\n\t/**\n\t * Sent just after a command has finished. This should generally be used on the new line\n\t * following the end of a command's output, just before {@link PromptStart}. The exit code is\n\t * optional, when not specified it means no command was run (ie. enter on empty prompt or\n\t * ctrl+c).\n\t *\n\t * Format: `OSC 633 ; D [; <ExitCode>] ST`\n\t *\n\t * Based on {@link FinalTermOscPt.CommandFinished}.\n\t */\n\tCommandFinished = 'D',\n\n\t/**\n\t * Explicitly set the command line. This helps workaround performance and reliability problems\n\t * with parsing out the command, such as conpty not guaranteeing the position of the sequence or\n\t * the shell not guaranteeing that the entire command is even visible. Ideally this is called\n\t * immediately before {@link CommandExecuted}, immediately before {@link CommandFinished} will\n\t * also work but that means terminal will only know the accurate command line when the command is\n\t * finished.\n\t *\n\t * The command line can escape ascii characters using the `\\xAB` format, where AB are the\n\t * hexadecimal representation of the character code (case insensitive), and escape the `\\`\n\t * character using `\\\\`. It's required to escape semi-colon (`0x3b`) and characters 0x20 and\n\t * below, this is particularly important for new line and semi-colon.\n\t *\n\t * Some examples:\n\t *\n\t * ```\n\t * \"\\\"  -> \"\\\\\"\n\t * \"\\n\" -> \"\\x0a\"\n\t * \";\"  -> \"\\x3b\"\n\t * ```\n\t *\n\t * An optional nonce can be provided which is may be required by the terminal in order enable\n\t * some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * Format: `OSC 633 ; E [; <CommandLine> [; <Nonce>]] ST`\n\t */\n\tCommandLine = 'E',\n\n\t/**\n\t * Similar to prompt start but for line continuations.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tContinuationStart = 'F',\n\n\t/**\n\t * Similar to command start but for line continuations.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tContinuationEnd = 'G',\n\n\t/**\n\t * The start of the right prompt.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tRightPromptStart = 'H',\n\n\t/**\n\t * The end of the right prompt.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tRightPromptEnd = 'I',\n\n\t/**\n\t * Set the value of an arbitrary property, only known properties will be handled by VS Code.\n\t *\n\t * Format: `OSC 633 ; P ; <Property>=<Value> ST`\n\t *\n\t * Known properties:\n\t *\n\t * - `Cwd` - Reports the current working directory to the terminal.\n\t * - `IsWindows` - Reports whether the shell is using a Windows backend like winpty or conpty.\n\t *   This may be used to enable additional heuristics as the positioning of the shell\n\t *   integration sequences are not guaranteed to be correct. Valid values: `True`, `False`.\n\t * - `ContinuationPrompt` - Reports the continuation prompt that is printed at the start of\n\t *   multi-line inputs.\n\t * - `HasRichCommandDetection` - Reports whether the shell has rich command line detection,\n\t *   meaning that sequences A, B, C, D and E are exactly where they're meant to be. In\n\t *   particular, {@link CommandLine} must happen immediately before {@link CommandExecuted} so\n\t *   VS Code knows the command line when the execution begins.\n\t *\n\t * WARNING: Any other properties may be changed and are not guaranteed to work in the future.\n\t */\n\tProperty = 'P',\n\n\t/**\n\t * Sets a mark/point-of-interest in the buffer.\n\t *\n\t * Format: `OSC 633 ; SetMark [; Id=<string>] [; Hidden]`\n\t *\n\t * `Id` - The identifier of the mark that can be used to reference it\n\t * `Hidden` - When set, the mark will be available to reference internally but will not visible\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tSetMark = 'SetMark',\n\n\t/**\n\t * Sends the shell's complete environment in JSON format.\n\t *\n\t * Format: `OSC 633 ; EnvJson ; <Environment> ; <Nonce>`\n\t *\n\t * - `Environment` - A stringified JSON object containing the shell's complete environment. The\n\t *    variables and values use the same encoding rules as the {@link CommandLine} sequence.\n\t * - `Nonce` - An _mandatory_ nonce can be provided which may be required by the terminal in order\n\t *   to enable some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tEnvJson = 'EnvJson',\n\n\t/**\n\t * Delete a single environment variable from cached environment.\n\t *\n\t * Format: `OSC 633 ; EnvSingleDelete ; <EnvironmentKey> ; <EnvironmentValue> [; <Nonce>]`\n\t *\n\t * - `Nonce` - An optional nonce can be provided which may be required by the terminal in order\n\t *   to enable some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tEnvSingleDelete = 'EnvSingleDelete',\n\n\t/**\n\t * The start of the collecting user's environment variables individually.\n\t *\n\t * Format: `OSC 633 ; EnvSingleStart ; <Clear> [; <Nonce>]`\n\t *\n\t * - `Clear` - An _mandatory_ flag indicating any cached environment variables will be cleared.\n\t * - `Nonce` - An optional nonce can be provided which may be required by the terminal in order\n\t *   to enable some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tEnvSingleStart = 'EnvSingleStart',\n\n\t/**\n\t * Sets an entry of single environment variable to transactional pending map of environment variables.\n\t *\n\t * Format: `OSC 633 ; EnvSingleEntry ; <EnvironmentKey> ; <EnvironmentValue> [; <Nonce>]`\n\t *\n\t * - `Nonce` - An optional nonce can be provided which may be required by the terminal in order\n\t *   to enable some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tEnvSingleEntry = 'EnvSingleEntry',\n\n\t/**\n\t * The end of the collecting user's environment variables individually.\n\t * Clears any pending environment variables and fires an event that contains user's environment.\n\t *\n\t * Format: `OSC 633 ; EnvSingleEnd [; <Nonce>]`\n\t *\n\t * - `Nonce` - An optional nonce can be provided which may be required by the terminal in order\n\t *   to enable some features. This helps ensure no malicious command injection has occurred.\n\t *\n\t * WARNING: This sequence is unfinalized, DO NOT use this in your shell integration script.\n\t */\n\tEnvSingleEnd = 'EnvSingleEnd'\n}\n\n/**\n * ITerm sequences\n */\nconst enum ITermOscPt {\n\t/**\n\t * Sets a mark/point-of-interest in the buffer.\n\t *\n\t * Format: `OSC 1337 ; SetMark`\n\t */\n\tSetMark = 'SetMark',\n\n\t/**\n\t * Reports current working directory (CWD).\n\t *\n\t * Format: `OSC 1337 ; CurrentDir=<Cwd> ST`\n\t */\n\tCurrentDir = 'CurrentDir'\n}\n\n/**\n * The shell integration addon extends xterm by reading shell integration sequences and creating\n * capabilities and passing along relevant sequences to the capabilities. This is meant to\n * encapsulate all handling/parsing of sequences so the capabilities don't need to.\n */\nexport class ShellIntegrationAddon extends Disposable implements IShellIntegration, ITerminalAddon {\n\tprivate _terminal?: Terminal;\n\treadonly capabilities = this._register(new TerminalCapabilityStore());\n\tprivate _hasUpdatedTelemetry: boolean = false;\n\tprivate _activationTimeout: Timeout | undefined;\n\tprivate _commonProtocolDisposables: IDisposable[] = [];\n\n\tprivate _seenSequences: Set<string> = new Set();\n\tget seenSequences(): ReadonlySet<string> { return this._seenSequences; }\n\n\tprivate _status: ShellIntegrationStatus = ShellIntegrationStatus.Off;\n\tget status(): ShellIntegrationStatus { return this._status; }\n\n\tprivate readonly _onDidChangeStatus = new Emitter<ShellIntegrationStatus>();\n\treadonly onDidChangeStatus = this._onDidChangeStatus.event;\n\tprivate readonly _onDidChangeSeenSequences = new Emitter<ReadonlySet<string>>();\n\treadonly onDidChangeSeenSequences = this._onDidChangeSeenSequences.event;\n\n\tconstructor(\n\t\tprivate _nonce: string,\n\t\tprivate readonly _disableTelemetry: boolean | undefined,\n\t\tprivate _onDidExecuteText: Event<void> | undefined,\n\t\tprivate readonly _telemetryService: ITelemetryService | undefined,\n\t\tprivate readonly _logService: ILogService\n\t) {\n\t\tsuper();\n\t\tthis._register(toDisposable(() => {\n\t\t\tthis._clearActivationTimeout();\n\t\t\tthis._disposeCommonProtocol();\n\t\t}));\n\t}\n\n\tprivate _disposeCommonProtocol(): void {\n\t\tdispose(this._commonProtocolDisposables);\n\t\tthis._commonProtocolDisposables.length = 0;\n\t}\n\n\tactivate(xterm: Terminal) {\n\t\tthis._terminal = xterm;\n\t\tthis.capabilities.add(TerminalCapability.PartialCommandDetection, this._register(new PartialCommandDetectionCapability(this._terminal, this._onDidExecuteText)));\n\t\tthis._register(xterm.parser.registerOscHandler(ShellIntegrationOscPs.VSCode, data => this._handleVSCodeSequence(data)));\n\t\tthis._register(xterm.parser.registerOscHandler(ShellIntegrationOscPs.ITerm, data => this._doHandleITermSequence(data)));\n\t\tthis._commonProtocolDisposables.push(\n\t\t\txterm.parser.registerOscHandler(ShellIntegrationOscPs.FinalTerm, data => this._handleFinalTermSequence(data))\n\t\t);\n\t\tthis._register(xterm.parser.registerOscHandler(ShellIntegrationOscPs.SetCwd, data => this._doHandleSetCwd(data)));\n\t\tthis._register(xterm.parser.registerOscHandler(ShellIntegrationOscPs.SetWindowsFriendlyCwd, data => this._doHandleSetWindowsFriendlyCwd(data)));\n\t\tthis._ensureCapabilitiesOrAddFailureTelemetry();\n\t}\n\n\tgetMarkerId(terminal: Terminal, vscodeMarkerId: string) {\n\t\tthis._createOrGetBufferMarkDetection(terminal).getMark(vscodeMarkerId);\n\t}\n\n\tsetNextCommandId(command: string, commandId: string): void {\n\t\tif (this._terminal) {\n\t\t\tthis._createOrGetCommandDetection(this._terminal).setNextCommandId(command, commandId);\n\t\t}\n\t}\n\n\tprivate _markSequenceSeen(sequence: string) {\n\t\tif (!this._seenSequences.has(sequence)) {\n\t\t\tthis._seenSequences.add(sequence);\n\t\t\tthis._onDidChangeSeenSequences.fire(this._seenSequences);\n\t\t}\n\t}\n\n\tprivate _handleFinalTermSequence(data: string): boolean {\n\t\tconst didHandle = this._doHandleFinalTermSequence(data);\n\t\tif (this._status === ShellIntegrationStatus.Off) {\n\t\t\tthis._status = ShellIntegrationStatus.FinalTerm;\n\t\t\tthis._onDidChangeStatus.fire(this._status);\n\t\t}\n\t\treturn didHandle;\n\t}\n\n\tprivate _doHandleFinalTermSequence(data: string): boolean {\n\t\tif (!this._terminal) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Pass the sequence along to the capability\n\t\t// It was considered to disable the common protocol in order to not confuse the VS Code\n\t\t// shell integration if both happen for some reason. This doesn't work for powerlevel10k\n\t\t// when instant prompt is enabled though. If this does end up being a problem we could pass\n\t\t// a type flag through the capability calls\n\t\tconst [command, ...args] = data.split(';');\n\t\tthis._markSequenceSeen(command);\n\t\tswitch (command) {\n\t\t\tcase FinalTermOscPt.PromptStart:\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handlePromptStart();\n\t\t\t\treturn true;\n\t\t\tcase FinalTermOscPt.CommandStart:\n\t\t\t\t// Ignore the command line for these sequences as it's unreliable for example in powerlevel10k\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandStart({ ignoreCommandLine: true });\n\t\t\t\treturn true;\n\t\t\tcase FinalTermOscPt.CommandExecuted:\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandExecuted();\n\t\t\t\treturn true;\n\t\t\tcase FinalTermOscPt.CommandFinished: {\n\t\t\t\tconst exitCode = args.length === 1 ? parseInt(args[0]) : undefined;\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandFinished(exitCode);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate _handleVSCodeSequence(data: string): boolean {\n\t\tconst didHandle = this._doHandleVSCodeSequence(data);\n\t\tif (!this._hasUpdatedTelemetry && didHandle) {\n\t\t\tthis._telemetryService?.publicLog2<{}, { owner: 'meganrogge'; comment: 'Indicates shell integration was activated' }>('terminal/shellIntegrationActivationSucceeded');\n\t\t\tthis._hasUpdatedTelemetry = true;\n\t\t\tthis._clearActivationTimeout();\n\t\t}\n\t\tif (this._status !== ShellIntegrationStatus.VSCode) {\n\t\t\tthis._status = ShellIntegrationStatus.VSCode;\n\t\t\tthis._onDidChangeStatus.fire(this._status);\n\t\t}\n\t\treturn didHandle;\n\t}\n\n\tprivate async _ensureCapabilitiesOrAddFailureTelemetry(): Promise<void> {\n\t\tif (!this._telemetryService || this._disableTelemetry) {\n\t\t\treturn;\n\t\t}\n\t\tthis._activationTimeout = setTimeout(() => {\n\t\t\tif (!this.capabilities.get(TerminalCapability.CommandDetection) && !this.capabilities.get(TerminalCapability.CwdDetection)) {\n\t\t\t\tthis._telemetryService?.publicLog2<{}, { owner: 'meganrogge'; comment: 'Indicates shell integration activation timeout' }>('terminal/shellIntegrationActivationTimeout');\n\t\t\t\tthis._logService.warn('Shell integration failed to add capabilities within 10 seconds');\n\t\t\t}\n\t\t\tthis._hasUpdatedTelemetry = true;\n\t\t}, 10000);\n\t}\n\n\tprivate _clearActivationTimeout(): void {\n\t\tif (this._activationTimeout !== undefined) {\n\t\t\tclearTimeout(this._activationTimeout);\n\t\t\tthis._activationTimeout = undefined;\n\t\t}\n\t}\n\n\tprivate _doHandleVSCodeSequence(data: string): boolean {\n\t\tif (!this._terminal) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Pass the sequence along to the capability\n\t\tconst argsIndex = data.indexOf(';');\n\t\tconst command = argsIndex === -1 ? data : data.substring(0, argsIndex);\n\t\tthis._markSequenceSeen(command);\n\t\t// Cast to strict checked index access\n\t\tconst args: (string | undefined)[] = argsIndex === -1 ? [] : data.substring(argsIndex + 1).split(';');\n\t\tswitch (command) {\n\t\t\tcase VSCodeOscPt.PromptStart:\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handlePromptStart();\n\t\t\t\treturn true;\n\t\t\tcase VSCodeOscPt.CommandStart:\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandStart();\n\t\t\t\treturn true;\n\t\t\tcase VSCodeOscPt.CommandExecuted:\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandExecuted();\n\t\t\t\treturn true;\n\t\t\tcase VSCodeOscPt.CommandFinished: {\n\t\t\t\tconst arg0 = args[0];\n\t\t\t\tconst exitCode = arg0 !== undefined ? parseInt(arg0) : undefined;\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleCommandFinished(exitCode);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.CommandLine: {\n\t\t\t\tconst arg0 = args[0];\n\t\t\t\tconst arg1 = args[1];\n\t\t\t\tlet commandLine: string;\n\t\t\t\tif (arg0 !== undefined) {\n\t\t\t\t\tcommandLine = deserializeVSCodeOscMessage(arg0);\n\t\t\t\t} else {\n\t\t\t\t\tcommandLine = '';\n\t\t\t\t}\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).setCommandLine(commandLine, arg1 === this._nonce);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.ContinuationStart: {\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleContinuationStart();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.ContinuationEnd: {\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleContinuationEnd();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.EnvJson: {\n\t\t\t\tconst arg0 = args[0];\n\t\t\t\tconst arg1 = args[1];\n\t\t\t\tif (arg0 !== undefined) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst env = JSON.parse(deserializeVSCodeOscMessage(arg0));\n\t\t\t\t\t\tthis._createOrGetShellEnvDetection().setEnvironment(env, arg1 === this._nonce);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthis._logService.warn('Failed to parse environment from shell integration sequence', arg0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.EnvSingleStart: {\n\t\t\t\tthis._createOrGetShellEnvDetection().startEnvironmentSingleVar(args[0] === '1', args[1] === this._nonce);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.EnvSingleDelete: {\n\t\t\t\tconst arg0 = args[0];\n\n\t\t\t\tconst arg1 = args[1];\n\t\t\t\tconst arg2 = args[2];\n\t\t\t\tif (arg0 !== undefined && arg1 !== undefined) {\n\t\t\t\t\tconst env = deserializeVSCodeOscMessage(arg1);\n\t\t\t\t\tthis._createOrGetShellEnvDetection().deleteEnvironmentSingleVar(arg0, env, arg2 === this._nonce);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.EnvSingleEntry: {\n\t\t\t\tconst arg0 = args[0];\n\t\t\t\tconst arg1 = args[1];\n\t\t\t\tconst arg2 = args[2];\n\t\t\t\tif (arg0 !== undefined && arg1 !== undefined) {\n\t\t\t\t\tconst env = deserializeVSCodeOscMessage(arg1);\n\t\t\t\t\tthis._createOrGetShellEnvDetection().setEnvironmentSingleVar(arg0, env, arg2 === this._nonce);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.EnvSingleEnd: {\n\t\t\t\tthis._createOrGetShellEnvDetection().endEnvironmentSingleVar(args[0] === this._nonce);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.RightPromptStart: {\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleRightPromptStart();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.RightPromptEnd: {\n\t\t\t\tthis._createOrGetCommandDetection(this._terminal).handleRightPromptEnd();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcase VSCodeOscPt.Property: {\n\t\t\t\tconst arg0 = args[0];\n\t\t\t\tconst deserialized = arg0 !== undefined ? deserializeVSCodeOscMessage(arg0) : '';\n\t\t\t\tconst { key, value } = parseKeyValueAssignment(deserialized);\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase 'ContinuationPrompt': {\n\t\t\t\t\t\tthis._updateContinuationPrompt(removeAnsiEscapeCodesFromPrompt(value));\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'Cwd': {\n\t\t\t\t\t\tthis._updateCwd(value);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'IsWindows': {\n\t\t\t\t\t\tthis._createOrGetCommandDetection(this._terminal).setIsWindowsPty(value === 'True' ? true : false);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'HasRichCommandDetection': {\n\t\t\t\t\t\tthis._createOrGetCommandDetection(this._terminal).setHasRichCommandDetection(value === 'True' ? true : false);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'Prompt': {\n\t\t\t\t\t\t// Remove escape sequences from the user's prompt\n\t\t\t\t\t\tconst sanitizedValue = value.replace(/\\x1b\\[[0-9;]*m/g, '');\n\t\t\t\t\t\tthis._updatePromptTerminator(sanitizedValue);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'PromptType': {\n\t\t\t\t\t\tthis._createOrGetPromptTypeDetection().setPromptType(value);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'Task': {\n\t\t\t\t\t\tthis._createOrGetBufferMarkDetection(this._terminal);\n\t\t\t\t\t\tthis.capabilities.get(TerminalCapability.CommandDetection)?.setIsCommandStorageDisabled();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase VSCodeOscPt.SetMark: {\n\t\t\t\tthis._createOrGetBufferMarkDetection(this._terminal).addMark(parseMarkSequence(args));\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Unrecognized sequence\n\t\treturn false;\n\t}\n\n\tprivate _updateContinuationPrompt(value: string) {\n\t\tif (!this._terminal) {\n\t\t\treturn;\n\t\t}\n\t\tthis._createOrGetCommandDetection(this._terminal).setContinuationPrompt(value);\n\t}\n\n\tprivate _updatePromptTerminator(prompt: string) {\n\t\tif (!this._terminal) {\n\t\t\treturn;\n\t\t}\n\t\tconst lastPromptLine = prompt.substring(prompt.lastIndexOf('\\n') + 1);\n\t\tconst lastPromptLineTrimmed = lastPromptLine.trim();\n\t\tconst promptTerminator = (\n\t\t\tlastPromptLineTrimmed.length === 1\n\t\t\t\t// The prompt line contains a single character, treat the full line as the\n\t\t\t\t// terminator for example \"\\u2b9e \"\n\t\t\t\t? lastPromptLine\n\t\t\t\t: lastPromptLine.substring(lastPromptLine.lastIndexOf(' '))\n\t\t);\n\t\tif (promptTerminator) {\n\t\t\tthis._createOrGetCommandDetection(this._terminal).setPromptTerminator(promptTerminator, lastPromptLine);\n\t\t}\n\t}\n\n\tprivate _updateCwd(value: string) {\n\t\tvalue = sanitizeCwd(value);\n\t\tthis._createOrGetCwdDetection().updateCwd(value);\n\t\tconst commandDetection = this.capabilities.get(TerminalCapability.CommandDetection);\n\t\tcommandDetection?.setCwd(value);\n\t}\n\n\tprivate _doHandleITermSequence(data: string): boolean {\n\t\tif (!this._terminal) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst [command] = data.split(';');\n\t\tthis._markSequenceSeen(`${ShellIntegrationOscPs.ITerm};${command}`);\n\t\tswitch (command) {\n\t\t\tcase ITermOscPt.SetMark: {\n\t\t\t\tthis._createOrGetBufferMarkDetection(this._terminal).addMark();\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\t// Checking for known `<key>=<value>` pairs.\n\t\t\t\t// Note that unlike `VSCodeOscPt.Property`, iTerm2 does not interpret backslash or hex-escape sequences.\n\t\t\t\t// See: https://github.com/gnachman/iTerm2/blob/bb0882332cec5196e4de4a4225978d746e935279/sources/VT100Terminal.m#L2089-L2105\n\t\t\t\tconst { key, value } = parseKeyValueAssignment(command);\n\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\t// No '=' was found, so it's not a property assignment.\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase ITermOscPt.CurrentDir:\n\t\t\t\t\t\t// Encountered: `OSC 1337 ; CurrentDir=<Cwd> ST`\n\t\t\t\t\t\tthis._updateCwd(value);\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Unrecognized sequence\n\t\treturn false;\n\t}\n\n\tprivate _doHandleSetWindowsFriendlyCwd(data: string): boolean {\n\t\tif (!this._terminal) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst [command, ...args] = data.split(';');\n\t\tthis._markSequenceSeen(`${ShellIntegrationOscPs.SetWindowsFriendlyCwd};${command}`);\n\t\tswitch (command) {\n\t\t\tcase '9':\n\t\t\t\t// Encountered `OSC 9 ; 9 ; <cwd> ST`\n\t\t\t\tif (args.length) {\n\t\t\t\t\tthis._updateCwd(args[0]);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t}\n\n\t\t// Unrecognized sequence\n\t\treturn false;\n\t}\n\n\t/**\n\t * Handles the sequence: `OSC 7 ; scheme://cwd ST`\n\t */\n\tprivate _doHandleSetCwd(data: string): boolean {\n\t\tif (!this._terminal) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst [command] = data.split(';');\n\t\tthis._markSequenceSeen(`${ShellIntegrationOscPs.SetCwd};${command}`);\n\n\t\tif (command.match(/^file:\\/\\/.*\\//)) {\n\t\t\tconst uri = URI.parse(command);\n\t\t\tif (uri.path && uri.path.length > 0) {\n\t\t\t\tthis._updateCwd(uri.path);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Unrecognized sequence\n\t\treturn false;\n\t}\n\n\tserialize(): ISerializedCommandDetectionCapability {\n\t\tif (!this._terminal || !this.capabilities.has(TerminalCapability.CommandDetection)) {\n\t\t\treturn {\n\t\t\t\tisWindowsPty: false,\n\t\t\t\thasRichCommandDetection: false,\n\t\t\t\tcommands: [],\n\t\t\t\tpromptInputModel: undefined,\n\t\t\t};\n\t\t}\n\t\tconst result = this._createOrGetCommandDetection(this._terminal).serialize();\n\t\treturn result;\n\t}\n\n\tdeserialize(serialized: ISerializedCommandDetectionCapability): void {\n\t\tif (!this._terminal) {\n\t\t\tthrow new Error('Cannot restore commands before addon is activated');\n\t\t}\n\t\tconst commandDetection = this._createOrGetCommandDetection(this._terminal);\n\t\tcommandDetection.deserialize(serialized);\n\t\tif (commandDetection.cwd) {\n\t\t\t// Cwd gets set when the command is deserialized, so we need to update it here\n\t\t\tthis._updateCwd(commandDetection.cwd);\n\t\t}\n\t}\n\n\tprotected _createOrGetCwdDetection(): ICwdDetectionCapability {\n\t\tlet cwdDetection = this.capabilities.get(TerminalCapability.CwdDetection);\n\t\tif (!cwdDetection) {\n\t\t\tcwdDetection = this._register(new CwdDetectionCapability());\n\t\t\tthis.capabilities.add(TerminalCapability.CwdDetection, cwdDetection);\n\t\t}\n\t\treturn cwdDetection;\n\t}\n\n\tprotected _createOrGetCommandDetection(terminal: Terminal): ICommandDetectionCapability {\n\t\tlet commandDetection = this.capabilities.get(TerminalCapability.CommandDetection);\n\t\tif (!commandDetection) {\n\t\t\tcommandDetection = this._register(new CommandDetectionCapability(terminal, this._logService));\n\t\t\tthis.capabilities.add(TerminalCapability.CommandDetection, commandDetection);\n\t\t}\n\t\treturn commandDetection;\n\t}\n\n\tprotected _createOrGetBufferMarkDetection(terminal: Terminal): IBufferMarkCapability {\n\t\tlet bufferMarkDetection = this.capabilities.get(TerminalCapability.BufferMarkDetection);\n\t\tif (!bufferMarkDetection) {\n\t\t\tbufferMarkDetection = this._register(new BufferMarkCapability(terminal));\n\t\t\tthis.capabilities.add(TerminalCapability.BufferMarkDetection, bufferMarkDetection);\n\t\t}\n\t\treturn bufferMarkDetection;\n\t}\n\n\tprotected _createOrGetShellEnvDetection(): IShellEnvDetectionCapability {\n\t\tlet shellEnvDetection = this.capabilities.get(TerminalCapability.ShellEnvDetection);\n\t\tif (!shellEnvDetection) {\n\t\t\tshellEnvDetection = this._register(new ShellEnvDetectionCapability());\n\t\t\tthis.capabilities.add(TerminalCapability.ShellEnvDetection, shellEnvDetection);\n\t\t}\n\t\treturn shellEnvDetection;\n\t}\n\n\tprotected _createOrGetPromptTypeDetection(): IPromptTypeDetectionCapability {\n\t\tlet promptTypeDetection = this.capabilities.get(TerminalCapability.PromptTypeDetection);\n\t\tif (!promptTypeDetection) {\n\t\t\tpromptTypeDetection = this._register(new PromptTypeDetectionCapability());\n\t\t\tthis.capabilities.add(TerminalCapability.PromptTypeDetection, promptTypeDetection);\n\t\t}\n\t\treturn promptTypeDetection;\n\t}\n}\n\nexport function deserializeVSCodeOscMessage(message: string): string {\n\treturn message.replaceAll(\n\t\t// Backslash ('\\') followed by an escape operator: either another '\\', or 'x' and two hex chars.\n\t\t/\\\\(\\\\|x([0-9a-f]{2}))/gi,\n\t\t// If it's a hex value, parse it to a character.\n\t\t// Otherwise the operator is '\\', which we return literally, now unescaped.\n\t\t(_match: string, op: string, hex?: string) => hex ? String.fromCharCode(parseInt(hex, 16)) : op);\n}\n\nexport function serializeVSCodeOscMessage(message: string): string {\n\treturn message.replace(\n\t\t// Match backslash ('\\'), semicolon (';'), or characters 0x20 and below\n\t\t/[\\\\;\\x00-\\x20]/g,\n\t\t(char: string) => {\n\t\t\t// Escape backslash as '\\\\'\n\t\t\tif (char === '\\\\') {\n\t\t\t\treturn '\\\\\\\\';\n\t\t\t}\n\t\t\t// Escape other characters as '\\xAB' where AB is the hex representation\n\t\t\tconst charCode = char.charCodeAt(0);\n\t\t\treturn `\\\\x${charCode.toString(16).padStart(2, '0')}`;\n\t\t}\n\t);\n}\n\nexport function parseKeyValueAssignment(message: string): { key: string; value: string | undefined } {\n\tconst separatorIndex = message.indexOf('=');\n\tif (separatorIndex === -1) {\n\t\treturn { key: message, value: undefined }; // No '=' was found.\n\t}\n\treturn {\n\t\tkey: message.substring(0, separatorIndex),\n\t\tvalue: message.substring(1 + separatorIndex)\n\t};\n}\n\n\nexport function parseMarkSequence(sequence: (string | undefined)[]): { id?: string; hidden?: boolean } {\n\tlet id = undefined;\n\tlet hidden = false;\n\tfor (const property of sequence) {\n\t\t// Sanity check, this shouldn't happen in practice\n\t\tif (property === undefined) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (property === 'Hidden') {\n\t\t\thidden = true;\n\t\t}\n\t\tif (property.startsWith('Id=')) {\n\t\t\tid = property.substring(3);\n\t\t}\n\t}\n\treturn { id, hidden };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}