{"version":3,"names":["cov_2fh01ow75w","actualCoverage","addDisposableListener","h","EventType","renderIcon","Codicon","Disposable","toDisposable","autorunWithStore","derived","LineRange","LineRangeSet","Range","LineRangeMapping","GlyphMarginLane","localize","emptyArr","s","RevertButtonsFeature","_editors","_diffModel","_options","_widget","constructor","f","_register","reader","store","shouldRenderOldRevertArrows","read","b","model","diff","movedTextToCompare","glyphWidgetsModified","selectedDiffs","_selectedDiffs","selectedDiffsSet","Set","map","d","mapping","length","selections","modifiedSelections","btn","add","RevertButton","positionLineNumber","flatMap","rangeMappings","modified","addGlyphMarginWidget","push","m","mappings","has","lineRangeMapping","isEmpty","innerChanges","startLineNumber","w","removeGlyphMarginWidget","every","selectedLineNumbers","fromRangeInclusive","selectedMappings","filter","intersects","result","c","some","areIntersecting","modifiedRange","r","_lineNumber","_diffs","_revertSelection","counter","_id","getId","_domNode","title","arrowRight","root","MOUSE_DOWN","e","button","stopPropagation","preventDefault","MOUSE_UP","CLICK","revert","revertRangeMappings","getDomNode","getPosition","lane","Right","range","startColumn","endColumn","endLineNumber","zIndex"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/widget/diffEditor/features/revertButtonsFeature.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, h, EventType } from '../../../../../base/browser/dom.js';\nimport { renderIcon } from '../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { Disposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IObservable, autorunWithStore, derived } from '../../../../../base/common/observable.js';\nimport { IGlyphMarginWidget, IGlyphMarginWidgetPosition } from '../../../editorBrowser.js';\nimport { DiffEditorEditors } from '../components/diffEditorEditors.js';\nimport { DiffEditorOptions } from '../diffEditorOptions.js';\nimport { DiffEditorViewModel } from '../diffEditorViewModel.js';\nimport { DiffEditorWidget } from '../diffEditorWidget.js';\nimport { LineRange, LineRangeSet } from '../../../../common/core/ranges/lineRange.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { LineRangeMapping, RangeMapping } from '../../../../common/diff/rangeMapping.js';\nimport { GlyphMarginLane } from '../../../../common/model.js';\nimport { localize } from '../../../../../nls.js';\n\nconst emptyArr: never[] = [];\n\nexport class RevertButtonsFeature extends Disposable {\n\tconstructor(\n\t\tprivate readonly _editors: DiffEditorEditors,\n\t\tprivate readonly _diffModel: IObservable<DiffEditorViewModel | undefined>,\n\t\tprivate readonly _options: DiffEditorOptions,\n\t\tprivate readonly _widget: DiffEditorWidget\n\t) {\n\t\tsuper();\n\n\t\tthis._register(autorunWithStore((reader, store) => {\n\t\t\tif (!this._options.shouldRenderOldRevertArrows.read(reader)) { return; }\n\t\t\tconst model = this._diffModel.read(reader);\n\t\t\tconst diff = model?.diff.read(reader);\n\t\t\tif (!model || !diff) { return; }\n\t\t\tif (model.movedTextToCompare.read(reader)) { return; }\n\n\t\t\tconst glyphWidgetsModified: IGlyphMarginWidget[] = [];\n\n\t\t\tconst selectedDiffs = this._selectedDiffs.read(reader);\n\t\t\tconst selectedDiffsSet = new Set(selectedDiffs.map(d => d.mapping));\n\n\t\t\tif (selectedDiffs.length > 0) {\n\t\t\t\t// The button to revert the selection\n\t\t\t\tconst selections = this._editors.modifiedSelections.read(reader);\n\n\t\t\t\tconst btn = store.add(new RevertButton(\n\t\t\t\t\tselections[selections.length - 1].positionLineNumber,\n\t\t\t\t\tthis._widget,\n\t\t\t\t\tselectedDiffs.flatMap(d => d.rangeMappings),\n\t\t\t\t\ttrue\n\t\t\t\t));\n\t\t\t\tthis._editors.modified.addGlyphMarginWidget(btn);\n\t\t\t\tglyphWidgetsModified.push(btn);\n\t\t\t}\n\n\t\t\tfor (const m of diff.mappings) {\n\t\t\t\tif (selectedDiffsSet.has(m)) { continue; }\n\t\t\t\tif (!m.lineRangeMapping.modified.isEmpty && m.lineRangeMapping.innerChanges) {\n\t\t\t\t\tconst btn = store.add(new RevertButton(\n\t\t\t\t\t\tm.lineRangeMapping.modified.startLineNumber,\n\t\t\t\t\t\tthis._widget,\n\t\t\t\t\t\tm.lineRangeMapping,\n\t\t\t\t\t\tfalse\n\t\t\t\t\t));\n\t\t\t\t\tthis._editors.modified.addGlyphMarginWidget(btn);\n\t\t\t\t\tglyphWidgetsModified.push(btn);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstore.add(toDisposable(() => {\n\t\t\t\tfor (const w of glyphWidgetsModified) {\n\t\t\t\t\tthis._editors.modified.removeGlyphMarginWidget(w);\n\t\t\t\t}\n\t\t\t}));\n\t\t}));\n\t}\n\n\tprivate readonly _selectedDiffs = derived(this, (reader) => {\n\t\t/** @description selectedDiffs */\n\t\tconst model = this._diffModel.read(reader);\n\t\tconst diff = model?.diff.read(reader);\n\t\t// Return `emptyArr` because it is a constant. [] is always a new array and would trigger a change.\n\t\tif (!diff) { return emptyArr; }\n\n\t\tconst selections = this._editors.modifiedSelections.read(reader);\n\t\tif (selections.every(s => s.isEmpty())) { return emptyArr; }\n\n\t\tconst selectedLineNumbers = new LineRangeSet(selections.map(s => LineRange.fromRangeInclusive(s)));\n\n\t\tconst selectedMappings = diff.mappings.filter(m =>\n\t\t\tm.lineRangeMapping.innerChanges && selectedLineNumbers.intersects(m.lineRangeMapping.modified)\n\t\t);\n\t\tconst result = selectedMappings.map(mapping => ({\n\t\t\tmapping,\n\t\t\trangeMappings: mapping.lineRangeMapping.innerChanges!.filter(\n\t\t\t\tc => selections.some(s => Range.areIntersecting(c.modifiedRange, s))\n\t\t\t)\n\t\t}));\n\t\tif (result.length === 0 || result.every(r => r.rangeMappings.length === 0)) { return emptyArr; }\n\t\treturn result;\n\t});\n}\n\nexport class RevertButton extends Disposable implements IGlyphMarginWidget {\n\tpublic static counter = 0;\n\n\tprivate readonly _id: string;\n\n\tgetId(): string { return this._id; }\n\n\tprivate readonly _domNode;\n\n\tconstructor(\n\t\tprivate readonly _lineNumber: number,\n\t\tprivate readonly _widget: DiffEditorWidget,\n\t\tprivate readonly _diffs: RangeMapping[] | LineRangeMapping,\n\t\tprivate readonly _revertSelection: boolean,\n\t) {\n\t\tsuper();\n\t\tthis._id = `revertButton${RevertButton.counter++}`;\n\t\tthis._domNode = h('div.revertButton', {\n\t\t\ttitle: this._revertSelection\n\t\t\t\t? localize('revertSelectedChanges', 'Revert Selected Changes')\n\t\t\t\t: localize('revertChange', 'Revert Change')\n\t\t},\n\t\t\t[renderIcon(Codicon.arrowRight)]\n\t\t).root;\n\n\n\t\tthis._register(addDisposableListener(this._domNode, EventType.MOUSE_DOWN, e => {\n\t\t\t// don't prevent context menu from showing up\n\t\t\tif (e.button !== 2) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this._domNode, EventType.MOUSE_UP, e => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this._domNode, EventType.CLICK, (e) => {\n\t\t\tif (this._diffs instanceof LineRangeMapping) {\n\t\t\t\tthis._widget.revert(this._diffs);\n\t\t\t} else {\n\t\t\t\tthis._widget.revertRangeMappings(this._diffs);\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}));\n\t}\n\n\t/**\n\t * Get the dom node of the glyph widget.\n\t */\n\tgetDomNode(): HTMLElement {\n\t\treturn this._domNode;\n\t}\n\n\t/**\n\t * Get the placement of the glyph widget.\n\t */\n\tgetPosition(): IGlyphMarginWidgetPosition {\n\t\treturn {\n\t\t\tlane: GlyphMarginLane.Right,\n\t\t\trange: {\n\t\t\t\tstartColumn: 1,\n\t\t\t\tstartLineNumber: this._lineNumber,\n\t\t\t\tendColumn: 1,\n\t\t\t\tendLineNumber: this._lineNumber,\n\t\t\t},\n\t\t\tzIndex: 10001,\n\t\t};\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}