{"version":3,"names":["cov_2affhi83hi","actualCoverage","derived","localize","observableCodeEditor","TextEdit","StringText","InlineEditTabAction","InlineEditWithChanges","InlineEditModel","_model","inlineEdit","tabAction","action","displayName","extensionCommands","isInDiffEditor","displayLocation","showCollapsed","constructor","f","s","inlineCompletion","b","source","provider","inlineSuggestions","commands","hint","accept","jump","handleInlineEditShown","viewKind","viewData","handleInlineSuggestionShown","InlineEditHost","onDidAccept","inAcceptFlow","GhostTextIndicator","lineRange","model","editor","editorObs","reader","isFocused","read","showInlineEditMenu","Accept","Inactive","getSingleTextEdit","primaryPosition","get","allPositions"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/inlineEditsModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../../../../base/common/event.js';\nimport { derived, IObservable } from '../../../../../../base/common/observable.js';\nimport { localize } from '../../../../../../nls.js';\nimport { ICodeEditor } from '../../../../../browser/editorBrowser.js';\nimport { observableCodeEditor } from '../../../../../browser/observableCodeEditor.js';\nimport { LineRange } from '../../../../../common/core/ranges/lineRange.js';\nimport { TextEdit } from '../../../../../common/core/edits/textEdit.js';\nimport { StringText } from '../../../../../common/core/text/abstractText.js';\nimport { Command, InlineCompletionCommand } from '../../../../../common/languages.js';\nimport { InlineCompletionsModel } from '../../model/inlineCompletionsModel.js';\nimport { InlineCompletionItem, InlineSuggestHint } from '../../model/inlineSuggestionItem.js';\nimport { IInlineEditHost, IInlineEditModel, InlineCompletionViewData, InlineCompletionViewKind, InlineEditTabAction } from './inlineEditsViewInterface.js';\nimport { InlineEditWithChanges } from './inlineEditWithChanges.js';\n\nexport class InlineEditModel implements IInlineEditModel {\n\n\treadonly action: Command | undefined;\n\treadonly displayName: string;\n\treadonly extensionCommands: InlineCompletionCommand[];\n\treadonly isInDiffEditor: boolean;\n\n\treadonly displayLocation: InlineSuggestHint | undefined;\n\treadonly showCollapsed: IObservable<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _model: InlineCompletionsModel,\n\t\treadonly inlineEdit: InlineEditWithChanges,\n\t\treadonly tabAction: IObservable<InlineEditTabAction>,\n\t) {\n\t\tthis.action = this.inlineEdit.inlineCompletion.action;\n\t\tthis.displayName = this.inlineEdit.inlineCompletion.source.provider.displayName ?? localize('inlineEdit', \"Inline Edit\");\n\t\tthis.extensionCommands = this.inlineEdit.inlineCompletion.source.inlineSuggestions.commands ?? [];\n\t\tthis.isInDiffEditor = this._model.isInDiffEditor;\n\n\t\tthis.displayLocation = this.inlineEdit.inlineCompletion.hint;\n\t\tthis.showCollapsed = this._model.showCollapsed;\n\t}\n\n\taccept() {\n\t\tthis._model.accept();\n\t}\n\n\tjump() {\n\t\tthis._model.jump();\n\t}\n\n\thandleInlineEditShown(viewKind: InlineCompletionViewKind, viewData: InlineCompletionViewData) {\n\t\tthis._model.handleInlineSuggestionShown(this.inlineEdit.inlineCompletion, viewKind, viewData);\n\t}\n}\n\nexport class InlineEditHost implements IInlineEditHost {\n\treadonly onDidAccept: Event<void>;\n\treadonly inAcceptFlow: IObservable<boolean>;\n\n\tconstructor(\n\t\tprivate readonly _model: InlineCompletionsModel,\n\t) {\n\t\tthis.onDidAccept = this._model.onDidAccept;\n\t\tthis.inAcceptFlow = this._model.inAcceptFlow;\n\t}\n}\n\nexport class GhostTextIndicator {\n\n\treadonly model: InlineEditModel;\n\n\tconstructor(\n\t\teditor: ICodeEditor,\n\t\tmodel: InlineCompletionsModel,\n\t\treadonly lineRange: LineRange,\n\t\tinlineCompletion: InlineCompletionItem,\n\t) {\n\t\tconst editorObs = observableCodeEditor(editor);\n\t\tconst tabAction = derived<InlineEditTabAction>(this, reader => {\n\t\t\tif (editorObs.isFocused.read(reader)) {\n\t\t\t\tif (inlineCompletion.showInlineEditMenu) {\n\t\t\t\t\treturn InlineEditTabAction.Accept;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn InlineEditTabAction.Inactive;\n\t\t});\n\n\t\tthis.model = new InlineEditModel(\n\t\t\tmodel,\n\t\t\tnew InlineEditWithChanges(\n\t\t\t\tnew StringText(''),\n\t\t\t\tnew TextEdit([inlineCompletion.getSingleTextEdit()]),\n\t\t\t\tmodel.primaryPosition.get(),\n\t\t\t\tmodel.allPositions.get(),\n\t\t\t\tinlineCompletion.source.inlineSuggestions.commands ?? [],\n\t\t\t\tinlineCompletion\n\t\t\t),\n\t\t\ttabAction,\n\t\t);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}