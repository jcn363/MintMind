{"version":3,"names":["cov_urqgp5e5z","actualCoverage","Disposable","ResourcePool","_itemFactory","pool","s","_inUse","Set","inUse","f","constructor","get","length","b","item","pop","add","_register","release","delete","push"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatCollections.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable, Disposable } from '../../../../../base/common/lifecycle.js';\n\nexport class ResourcePool<T extends IDisposable> extends Disposable {\n\tprivate readonly pool: T[] = [];\n\n\tprivate _inUse = new Set<T>;\n\tpublic get inUse(): ReadonlySet<T> {\n\t\treturn this._inUse;\n\t}\n\n\tconstructor(\n\t\tprivate readonly _itemFactory: () => T,\n\t) {\n\t\tsuper();\n\t}\n\n\tget(): T {\n\t\tif (this.pool.length > 0) {\n\t\t\tconst item = this.pool.pop()!;\n\t\t\tthis._inUse.add(item);\n\t\t\treturn item;\n\t\t}\n\n\t\tconst item = this._register(this._itemFactory());\n\t\tthis._inUse.add(item);\n\t\treturn item;\n\t}\n\n\trelease(item: T): void {\n\t\tthis._inUse.delete(item);\n\t\tthis.pool.push(item);\n\t}\n}\n\nexport interface IDisposableReference<T> extends IDisposable {\n\tobject: T;\n\tisStale: () => boolean;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmBE;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAnBF;;;;AAKA,SAAsBE,UAAU,QAAQ,yCAAyC;AAEjF,OAAM,MAAOC,YAAoC,SAAQD,UAAU;EAShDE,YAAA;EARDC,IAAI;EAAA;EAAA,CAAAL,aAAA,GAAAM,CAAA,OAAQ,EAAE;EAEvBC,MAAM;EAAA;EAAA,CAAAP,aAAA,GAAAM,CAAA,OAAG,IAAIE,GAAM,CAAN,CAAM;EAC3B,IAAWC,KAAKA,CAAA;IAAA;IAAAT,aAAA,GAAAU,CAAA;IAAAV,aAAA,GAAAM,CAAA;IACf,OAAO,IAAI,CAACC,MAAM;EACnB;EAEAI,YACkBP,YAAqB;IAAA;IAAAJ,aAAA,GAAAU,CAAA;IAAAV,aAAA,GAAAM,CAAA;IAEtC,KAAK,EAAE;IAAC;IAAAN,aAAA,GAAAM,CAAA;IAFS,KAAAF,YAAY,GAAZA,YAAY;EAG9B;EAEAQ,GAAGA,CAAA;IAAA;IAAAZ,aAAA,GAAAU,CAAA;IAAAV,aAAA,GAAAM,CAAA;IACF,IAAI,IAAI,CAACD,IAAI,CAACQ,MAAM,GAAG,CAAC,EAAE;MAAA;MAAAb,aAAA,GAAAc,CAAA;MACzB,MAAMC,IAAI;MAAA;MAAA,CAAAf,aAAA,GAAAM,CAAA,OAAG,IAAI,CAACD,IAAI,CAACW,GAAG,EAAG;MAAC;MAAAhB,aAAA,GAAAM,CAAA;MAC9B,IAAI,CAACC,MAAM,CAACU,GAAG,CAACF,IAAI,CAAC;MAAC;MAAAf,aAAA,GAAAM,CAAA;MACtB,OAAOS,IAAI;IACZ,CAAC;IAAA;IAAA;MAAAf,aAAA,GAAAc,CAAA;IAAA;IAED,MAAMC,IAAI;IAAA;IAAA,CAAAf,aAAA,GAAAM,CAAA,OAAG,IAAI,CAACY,SAAS,CAAC,IAAI,CAACd,YAAY,EAAE,CAAC;IAAC;IAAAJ,aAAA,GAAAM,CAAA;IACjD,IAAI,CAACC,MAAM,CAACU,GAAG,CAACF,IAAI,CAAC;IAAC;IAAAf,aAAA,GAAAM,CAAA;IACtB,OAAOS,IAAI;EACZ;EAEAI,OAAOA,CAACJ,IAAO;IAAA;IAAAf,aAAA,GAAAU,CAAA;IAAAV,aAAA,GAAAM,CAAA;IACd,IAAI,CAACC,MAAM,CAACa,MAAM,CAACL,IAAI,CAAC;IAAC;IAAAf,aAAA,GAAAM,CAAA;IACzB,IAAI,CAACD,IAAI,CAACgB,IAAI,CAACN,IAAI,CAAC;EACrB","ignoreList":[]}