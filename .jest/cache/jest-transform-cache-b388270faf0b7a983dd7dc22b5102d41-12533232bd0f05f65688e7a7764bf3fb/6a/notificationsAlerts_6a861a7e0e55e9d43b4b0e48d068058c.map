{"version":3,"names":["cov_24ff4cic5a","actualCoverage","alert","localize","Disposable","toErrorMessage","NotificationPriority","Severity","Event","NotificationsAlerts","model","constructor","f","s","notification","notifications","triggerAriaAlert","registerListeners","_register","onDidChangeNotification","e","kind","b","item","severity","Error","message","original","console","error","linkedText","toString","priority","SILENT","listener","onDidChangeContent","doTriggerAriaAlert","once","onDidClose","dispose","alertText","Warning"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/browser/parts/notifications/notificationsAlerts.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { localize } from '../../../../nls.js';\nimport { INotificationViewItem, INotificationsModel, NotificationChangeType, INotificationChangeEvent, NotificationViewItemContentChangeKind } from '../../../common/notifications.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { toErrorMessage } from '../../../../base/common/errorMessage.js';\nimport { NotificationPriority, Severity } from '../../../../platform/notification/common/notification.js';\nimport { Event } from '../../../../base/common/event.js';\n\nexport class NotificationsAlerts extends Disposable {\n\n\tconstructor(private readonly model: INotificationsModel) {\n\t\tsuper();\n\n\t\t// Alert initial notifications if any\n\t\tfor (const notification of model.notifications) {\n\t\t\tthis.triggerAriaAlert(notification);\n\t\t}\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.model.onDidChangeNotification(e => this.onDidChangeNotification(e)));\n\t}\n\n\tprivate onDidChangeNotification(e: INotificationChangeEvent): void {\n\t\tif (e.kind === NotificationChangeType.ADD) {\n\n\t\t\t// ARIA alert for screen readers\n\t\t\tthis.triggerAriaAlert(e.item);\n\n\t\t\t// Always log errors to console with full details\n\t\t\tif (e.item.severity === Severity.Error) {\n\t\t\t\tif (e.item.message.original instanceof Error) {\n\t\t\t\t\tconsole.error(e.item.message.original);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(toErrorMessage(e.item.message.linkedText.toString(), true));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate triggerAriaAlert(notification: INotificationViewItem): void {\n\t\tif (notification.priority === NotificationPriority.SILENT) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Trigger the alert again whenever the message changes\n\t\tconst listener = notification.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.MESSAGE) {\n\t\t\t\tthis.doTriggerAriaAlert(notification);\n\t\t\t}\n\t\t});\n\n\t\tEvent.once(notification.onDidClose)(() => listener.dispose());\n\n\t\tthis.doTriggerAriaAlert(notification);\n\t}\n\n\tprivate doTriggerAriaAlert(notification: INotificationViewItem): void {\n\t\tlet alertText: string;\n\t\tif (notification.severity === Severity.Error) {\n\t\t\talertText = localize('alertErrorMessage', \"Error: {0}\", notification.message.linkedText.toString());\n\t\t} else if (notification.severity === Severity.Warning) {\n\t\t\talertText = localize('alertWarningMessage', \"Warning: {0}\", notification.message.linkedText.toString());\n\t\t} else {\n\t\t\talertText = localize('alertInfoMessage', \"Info: {0}\", notification.message.linkedText.toString());\n\t\t}\n\n\t\talert(alertText);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}