{"version":3,"names":["cov_4xyw5t6fs","actualCoverage","isEqual","URI","getCodeEditor","SnippetController2","localize","localize2","Action2","MenuId","registerAction2","ICommandService","IFileService","IInstantiationService","ILogService","INotificationService","NeverShowAgainScope","Severity","IOpenerService","getLanguageIdForPromptsType","PromptsType","IUserDataSyncEnablementService","IEditorService","CONFIGURE_SYNC_COMMAND_ID","ChatContextKeys","CHAT_CATEGORY","askForPromptFileName","askForPromptSourceFolder","IChatModeService","AbstractNewPromptFileAction","type","constructor","id","title","f","s","f1","precondition","enabled","category","keybinding","weight","menu","CommandPalette","when","run","accessor","logService","get","openerService","commandService","notificationService","userDataSyncEnablementService","editorService","fileService","instaService","chatModeService","selectedFolder","invokeFunction","b","fileName","uri","createFolder","promptUri","joinPath","createFile","open","editor","activeTextEditorControl","hasModel","getModel","apply","range","getFullModelRange","template","getDefaultContentSnippet","storage","isConfigured","isResourceEnablementConfigured","isSettingsSyncEnabled","isEnabled","prompt","Info","label","executeCommand","catch","error","parse","neverShowAgain","scope","PROFILE","promptType","agents","getModes","agentNames","builtin","map","agent","name","join","custom","length","instructions","Error","NEW_PROMPT_COMMAND_ID","NEW_INSTRUCTIONS_COMMAND_ID","NEW_AGENT_COMMAND_ID","NewPromptFileAction","NewInstructionsFileAction","NewAgentFileAction","NewUntitledPromptFileAction","languageId","input","openEditor","resource","undefined","options","pinned","registerNewPromptFileActions"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/promptSyntax/newPromptFileActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isEqual } from '../../../../../base/common/resources.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { getCodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\nimport { INotificationService, NeverShowAgainScope, Severity } from '../../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { getLanguageIdForPromptsType, PromptsType } from '../../common/promptSyntax/promptTypes.js';\nimport { IUserDataSyncEnablementService, SyncResource } from '../../../../../platform/userDataSync/common/userDataSync.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { CONFIGURE_SYNC_COMMAND_ID } from '../../../../services/userDataSync/common/userDataSync.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { CHAT_CATEGORY } from '../actions/chatActions.js';\nimport { askForPromptFileName } from './pickers/askForPromptName.js';\nimport { askForPromptSourceFolder } from './pickers/askForPromptSourceFolder.js';\nimport { IChatModeService } from '../../common/chatModes.js';\n\n\nclass AbstractNewPromptFileAction extends Action2 {\n\n\tconstructor(id: string, title: string, private readonly type: PromptsType) {\n\t\tsuper({\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tf1: false,\n\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: ChatContextKeys.enabled\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic override async run(accessor: ServicesAccessor) {\n\t\tconst logService = accessor.get(ILogService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst userDataSyncEnablementService = accessor.get(IUserDataSyncEnablementService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst chatModeService = accessor.get(IChatModeService);\n\n\t\tconst selectedFolder = await instaService.invokeFunction(askForPromptSourceFolder, this.type);\n\t\tif (!selectedFolder) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst fileName = await instaService.invokeFunction(askForPromptFileName, this.type, selectedFolder.uri);\n\t\tif (!fileName) {\n\t\t\treturn;\n\t\t}\n\n\t\t// create the prompt file\n\n\t\tawait fileService.createFolder(selectedFolder.uri);\n\n\t\tconst promptUri = URI.joinPath(selectedFolder.uri, fileName);\n\t\tawait fileService.createFile(promptUri);\n\n\t\tawait openerService.open(promptUri);\n\n\t\tconst editor = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (editor && editor.hasModel() && isEqual(editor.getModel().uri, promptUri)) {\n\t\t\tSnippetController2.get(editor)?.apply([{\n\t\t\t\trange: editor.getModel().getFullModelRange(),\n\t\t\t\ttemplate: getDefaultContentSnippet(this.type, chatModeService),\n\t\t\t}]);\n\t\t}\n\n\t\tif (selectedFolder.storage !== 'user') {\n\t\t\treturn;\n\t\t}\n\n\t\t// due to PII concerns, synchronization of the 'user' reusable prompts\n\t\t// is disabled by default, but we want to make that fact clear to the user\n\t\t// hence after a 'user' prompt is create, we check if the synchronization\n\t\t// was explicitly configured before, and if it wasn't, we show a suggestion\n\t\t// to enable the synchronization logic in the Settings Sync configuration\n\n\t\tconst isConfigured = userDataSyncEnablementService\n\t\t\t.isResourceEnablementConfigured(SyncResource.Prompts);\n\t\tconst isSettingsSyncEnabled = userDataSyncEnablementService.isEnabled();\n\n\t\t// if prompts synchronization has already been configured before or\n\t\t// if settings sync service is currently disabled, nothing to do\n\t\tif ((isConfigured === true) || (isSettingsSyncEnabled === false)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// show suggestion to enable synchronization of the user prompts and instructions to the user\n\t\tnotificationService.prompt(\n\t\t\tSeverity.Info,\n\t\t\tlocalize(\n\t\t\t\t'workbench.command.prompts.create.user.enable-sync-notification',\n\t\t\t\t\"Do you want to backup and sync your user prompt, instruction and custom agent files with Setting Sync?'\",\n\t\t\t),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('enable.capitalized', \"Enable\"),\n\t\t\t\t\trun: () => {\n\t\t\t\t\t\tcommandService.executeCommand(CONFIGURE_SYNC_COMMAND_ID)\n\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\tlogService.error(`Failed to run '${CONFIGURE_SYNC_COMMAND_ID}' command: ${error}.`);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('learnMore.capitalized', \"Learn More\"),\n\t\t\t\t\trun: () => {\n\t\t\t\t\t\topenerService.open(URI.parse('https://aka.ms/vscode-settings-sync-help'));\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\t{\n\t\t\t\tneverShowAgain: {\n\t\t\t\t\tid: 'workbench.command.prompts.create.user.enable-sync-notification',\n\t\t\t\t\tscope: NeverShowAgainScope.PROFILE,\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n}\n\nfunction getDefaultContentSnippet(promptType: PromptsType, chatModeService: IChatModeService): string {\n\tconst agents = chatModeService.getModes();\n\tconst agentNames = agents.builtin.map(agent => agent.name.get()).join(',') + (agents.custom.length ? (',' + agents.custom.map(agent => agent.name.get()).join(',')) : '');\n\tswitch (promptType) {\n\t\tcase PromptsType.prompt:\n\t\t\treturn [\n\t\t\t\t`---`,\n\t\t\t\t`agent: \\${1|${agentNames}|}`,\n\t\t\t\t`---`,\n\t\t\t\t`\\${2:Define the task to achieve, including specific requirements, constraints, and success criteria.}`,\n\t\t\t].join('\\n');\n\t\tcase PromptsType.instructions:\n\t\t\treturn [\n\t\t\t\t`---`,\n\t\t\t\t`applyTo: '\\${1|**,**/*.ts|}'`,\n\t\t\t\t`---`,\n\t\t\t\t`\\${2:Provide project context and coding guidelines that AI should follow when generating code, answering questions, or reviewing changes.}`,\n\t\t\t].join('\\n');\n\t\tcase PromptsType.agent:\n\t\t\treturn [\n\t\t\t\t`---`,\n\t\t\t\t`description: '\\${1:Describe what this custom agent does and when to use it.}'`,\n\t\t\t\t`tools: []`,\n\t\t\t\t`---`,\n\t\t\t\t`\\${2:Define what this custom agent accomplishes for the user, when to use it, and the edges it won't cross. Specify its ideal inputs/outputs, the tools it may call, and how it reports progress or asks for help.}`,\n\t\t\t].join('\\n');\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown prompt type: ${promptType}`);\n\t}\n}\n\n\nexport const NEW_PROMPT_COMMAND_ID = 'workbench.command.new.prompt';\nexport const NEW_INSTRUCTIONS_COMMAND_ID = 'workbench.command.new.instructions';\nexport const NEW_AGENT_COMMAND_ID = 'workbench.command.new.agent';\n\nclass NewPromptFileAction extends AbstractNewPromptFileAction {\n\tconstructor() {\n\t\tsuper(NEW_PROMPT_COMMAND_ID, localize('commands.new.prompt.local.title', \"New Prompt File...\"), PromptsType.prompt);\n\t}\n}\n\nclass NewInstructionsFileAction extends AbstractNewPromptFileAction {\n\tconstructor() {\n\t\tsuper(NEW_INSTRUCTIONS_COMMAND_ID, localize('commands.new.instructions.local.title', \"New Instructions File...\"), PromptsType.instructions);\n\t}\n}\n\nclass NewAgentFileAction extends AbstractNewPromptFileAction {\n\tconstructor() {\n\t\tsuper(NEW_AGENT_COMMAND_ID, localize('commands.new.agent.local.title', \"New Custom Agent...\"), PromptsType.agent);\n\t}\n}\n\nclass NewUntitledPromptFileAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.command.new.untitled.prompt',\n\t\t\ttitle: localize2('commands.new.untitled.prompt.title', \"New Untitled Prompt File\"),\n\t\t\tf1: true,\n\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic override async run(accessor: ServicesAccessor) {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst chatModeService = accessor.get(IChatModeService);\n\n\t\tconst languageId = getLanguageIdForPromptsType(PromptsType.prompt);\n\n\t\tconst input = await editorService.openEditor({\n\t\t\tresource: undefined,\n\t\t\tlanguageId,\n\t\t\toptions: {\n\t\t\t\tpinned: true\n\t\t\t}\n\t\t});\n\t\tconst type = PromptsType.prompt;\n\n\t\tconst editor = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (editor && editor.hasModel()) {\n\t\t\tSnippetController2.get(editor)?.apply([{\n\t\t\t\trange: editor.getModel().getFullModelRange(),\n\t\t\t\ttemplate: getDefaultContentSnippet(type, chatModeService),\n\t\t\t}]);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nexport function registerNewPromptFileActions(): void {\n\tregisterAction2(NewPromptFileAction);\n\tregisterAction2(NewInstructionsFileAction);\n\tregisterAction2(NewAgentFileAction);\n\tregisterAction2(NewUntitledPromptFileAction);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}