{"version":3,"names":["cov_nvu9oxvar","actualCoverage","CancellationToken","Color","RGBA","getColorPresentations","ColorPickerModel","Range","createColorHover","editorModel","colorInfo","provider","f","originalText","s","getValueInRange","range","red","green","blue","alpha","color","rgba","Math","round","colorPresentations","None","model","b","guessColorPresentation","lift","updateEditorModel","editor","textEdits","edit","presentation","textEdit","text","label","forceMoveMarkers","push","additionalTextEdits","replaceRange","trackedRange","getModel","_setTrackedRange","executeEdits","pushUndoStop","_getTrackedRange","updateColorPresentations","colorPickerModel","colorHover","r","g","a"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/colorPicker/browser/colorPickerParticipantUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IActiveCodeEditor } from '../../../browser/editorBrowser.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { DocumentColorProvider, IColorInformation } from '../../../common/languages.js';\nimport { ITextModel, TrackedRangeStickiness } from '../../../common/model.js';\nimport { getColorPresentations } from './color.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { Range } from '../../../common/core/range.js';\n\nexport const enum ColorPickerWidgetType {\n\tHover = 'hover',\n\tStandalone = 'standalone'\n}\n\nexport interface BaseColor {\n\treadonly range: Range;\n\treadonly model: ColorPickerModel;\n\treadonly provider: DocumentColorProvider;\n}\n\nexport async function createColorHover(editorModel: ITextModel, colorInfo: IColorInformation, provider: DocumentColorProvider): Promise<BaseColor> {\n\tconst originalText = editorModel.getValueInRange(colorInfo.range);\n\tconst { red, green, blue, alpha } = colorInfo.color;\n\tconst rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n\tconst color = new Color(rgba);\n\n\tconst colorPresentations = await getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n\tconst model = new ColorPickerModel(color, [], 0);\n\tmodel.colorPresentations = colorPresentations || [];\n\tmodel.guessColorPresentation(color, originalText);\n\n\treturn {\n\t\trange: Range.lift(colorInfo.range),\n\t\tmodel,\n\t\tprovider\n\t};\n}\n\nexport function updateEditorModel(editor: IActiveCodeEditor, range: Range, model: ColorPickerModel): Range {\n\tconst textEdits: ISingleEditOperation[] = [];\n\tconst edit = model.presentation.textEdit ?? { range, text: model.presentation.label, forceMoveMarkers: false };\n\ttextEdits.push(edit);\n\n\tif (model.presentation.additionalTextEdits) {\n\t\ttextEdits.push(...model.presentation.additionalTextEdits);\n\t}\n\tconst replaceRange = Range.lift(edit.range);\n\tconst trackedRange = editor.getModel()._setTrackedRange(null, replaceRange, TrackedRangeStickiness.GrowsOnlyWhenTypingAfter);\n\teditor.executeEdits('colorpicker', textEdits);\n\teditor.pushUndoStop();\n\treturn editor.getModel()._getTrackedRange(trackedRange) ?? replaceRange;\n}\n\nexport async function updateColorPresentations(editorModel: ITextModel, colorPickerModel: ColorPickerModel, color: Color, range: Range, colorHover: BaseColor): Promise<void> {\n\tconst colorPresentations = await getColorPresentations(editorModel, {\n\t\trange: range,\n\t\tcolor: {\n\t\t\tred: color.rgba.r / 255,\n\t\t\tgreen: color.rgba.g / 255,\n\t\t\tblue: color.rgba.b / 255,\n\t\t\talpha: color.rgba.a\n\t\t}\n\t}, colorHover.provider, CancellationToken.None);\n\tcolorPickerModel.colorPresentations = colorPresentations || [];\n}\n"],"mappings":"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","ignoreList":[]}