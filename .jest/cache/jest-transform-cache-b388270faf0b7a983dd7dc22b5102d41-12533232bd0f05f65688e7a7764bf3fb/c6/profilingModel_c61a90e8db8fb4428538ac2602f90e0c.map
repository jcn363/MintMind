{"version":3,"names":["cov_24eqpypcpc","actualCoverage","s","computeAggregateTime","index","nodes","f","row","aggregateTime","b","total","selfTime","child","children","ensureSourceLocations","profile","locationIdCounter","locationsByRef","Map","getLocationIdFor","callFrame","ref","functionName","url","scriptId","lineNumber","columnNumber","join","existing","get","id","set","location","node","locationId","positionTicks","map","tick","startLocationId","line","endLocationId","values","sort","a","l","locations","buildModel","timeDeltas","samples","duration","endTime","startTime","sourceLocations","src","ticks","idMap","mapId","nodeId","undefined","size","Array","length","i","parent","lastNodeTime","d","push","BottomUpNode","root","childrenSize","constructor","addNode","processNode","aggregate","model","initialNode"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/profiling/common/profilingModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { IV8Profile, IV8ProfileNode } from './profiling.js';\n\n// #region\n// https://github.com/microsoft/vscode-js-profile-visualizer/blob/6e7401128ee860be113a916f80fcfe20ac99418e/packages/vscode-js-profile-core/src/cpu/model.ts#L4\n\nexport interface IProfileModel {\n\tnodes: ReadonlyArray<IComputedNode>;\n\tlocations: ReadonlyArray<ILocation>;\n\tsamples: ReadonlyArray<number>;\n\ttimeDeltas: ReadonlyArray<number>;\n\trootPath?: string;\n\tduration: number;\n}\n\nexport interface IComputedNode {\n\tid: number;\n\tselfTime: number;\n\taggregateTime: number;\n\tchildren: number[];\n\tparent?: number;\n\tlocationId: number;\n}\n\nexport interface ISourceLocation {\n\tlineNumber: number;\n\tcolumnNumber: number;\n\t//   source: Dap.Source;\n\trelativePath?: string;\n}\n\nexport interface CdpCallFrame {\n\tfunctionName: string;\n\tscriptId: string;\n\turl: string;\n\tlineNumber: number;\n\tcolumnNumber: number;\n}\n\nexport interface CdpPositionTickInfo {\n\tline: number;\n\tticks: number;\n}\n\nexport interface INode {\n\tid: number;\n\t//   category: Category;\n\tcallFrame: CdpCallFrame;\n\tsrc?: ISourceLocation;\n}\n\nexport interface ILocation extends INode {\n\tselfTime: number;\n\taggregateTime: number;\n\tticks: number;\n}\n\nexport interface IAnnotationLocation {\n\tcallFrame: CdpCallFrame;\n\tlocations: ISourceLocation[];\n}\n\nexport interface IProfileNode extends IV8ProfileNode {\n\tlocationId?: number;\n\tpositionTicks?: (CdpPositionTickInfo & {\n\t\tstartLocationId?: number;\n\t\tendLocationId?: number;\n\t})[];\n}\n\nexport interface ICpuProfileRaw extends IV8Profile {\n\t//   $vscode?: IJsDebugAnnotations;\n\tnodes: IProfileNode[];\n}\n\n\n/**\n * Recursive function that computes and caches the aggregate time for the\n * children of the computed now.\n */\nconst computeAggregateTime = (index: number, nodes: IComputedNode[]): number => {\n\tconst row = nodes[index];\n\tif (row.aggregateTime) {\n\t\treturn row.aggregateTime;\n\t}\n\n\tlet total = row.selfTime;\n\tfor (const child of row.children) {\n\t\ttotal += computeAggregateTime(child, nodes);\n\t}\n\n\treturn (row.aggregateTime = total);\n};\n\nconst ensureSourceLocations = (profile: ICpuProfileRaw): ReadonlyArray<IAnnotationLocation> => {\n\n\tlet locationIdCounter = 0;\n\tconst locationsByRef = new Map<string, { id: number; callFrame: CdpCallFrame; location: ISourceLocation }>();\n\n\tconst getLocationIdFor = (callFrame: CdpCallFrame) => {\n\t\tconst ref = [\n\t\t\tcallFrame.functionName,\n\t\t\tcallFrame.url,\n\t\t\tcallFrame.scriptId,\n\t\t\tcallFrame.lineNumber,\n\t\t\tcallFrame.columnNumber,\n\t\t].join(':');\n\n\t\tconst existing = locationsByRef.get(ref);\n\t\tif (existing) {\n\t\t\treturn existing.id;\n\t\t}\n\t\tconst id = locationIdCounter++;\n\t\tlocationsByRef.set(ref, {\n\t\t\tid,\n\t\t\tcallFrame,\n\t\t\tlocation: {\n\t\t\t\tlineNumber: callFrame.lineNumber + 1,\n\t\t\t\tcolumnNumber: callFrame.columnNumber + 1,\n\t\t\t\t// source: {\n\t\t\t\t// \tname: maybeFileUrlToPath(callFrame.url),\n\t\t\t\t// \tpath: maybeFileUrlToPath(callFrame.url),\n\t\t\t\t// \tsourceReference: 0,\n\t\t\t\t// },\n\t\t\t},\n\t\t});\n\n\t\treturn id;\n\t};\n\n\tfor (const node of profile.nodes) {\n\t\tnode.locationId = getLocationIdFor(node.callFrame);\n\t\tnode.positionTicks = node.positionTicks?.map(tick => ({\n\t\t\t...tick,\n\t\t\t// weirdly, line numbers here are 1-based, not 0-based. The position tick\n\t\t\t// only gives line-level granularity, so 'mark' the entire range of source\n\t\t\t// code the tick refers to\n\t\t\tstartLocationId: getLocationIdFor({\n\t\t\t\t...node.callFrame,\n\t\t\t\tlineNumber: tick.line - 1,\n\t\t\t\tcolumnNumber: 0,\n\t\t\t}),\n\t\t\tendLocationId: getLocationIdFor({\n\t\t\t\t...node.callFrame,\n\t\t\t\tlineNumber: tick.line,\n\t\t\t\tcolumnNumber: 0,\n\t\t\t}),\n\t\t}));\n\t}\n\n\treturn [...locationsByRef.values()]\n\t\t.sort((a, b) => a.id - b.id)\n\t\t.map(l => ({ locations: [l.location], callFrame: l.callFrame }));\n};\n\n/**\n * Computes the model for the given profile.\n */\nexport const buildModel = (profile: ICpuProfileRaw): IProfileModel => {\n\tif (!profile.timeDeltas || !profile.samples) {\n\t\treturn {\n\t\t\tnodes: [],\n\t\t\tlocations: [],\n\t\t\tsamples: profile.samples || [],\n\t\t\ttimeDeltas: profile.timeDeltas || [],\n\t\t\t// rootPath: profile.$vscode?.rootPath,\n\t\t\tduration: profile.endTime - profile.startTime,\n\t\t};\n\t}\n\n\tconst { samples, timeDeltas } = profile;\n\tconst sourceLocations = ensureSourceLocations(profile);\n\tconst locations: ILocation[] = sourceLocations.map((l, id) => {\n\t\tconst src = l.locations[0]; //getBestLocation(profile, l.locations);\n\n\t\treturn {\n\t\t\tid,\n\t\t\tselfTime: 0,\n\t\t\taggregateTime: 0,\n\t\t\tticks: 0,\n\t\t\t// category: categorize(l.callFrame, src),\n\t\t\tcallFrame: l.callFrame,\n\t\t\tsrc,\n\t\t};\n\t});\n\n\tconst idMap = new Map<number /* id in profile */, number /* incrementing ID */>();\n\tconst mapId = (nodeId: number) => {\n\t\tlet id = idMap.get(nodeId);\n\t\tif (id === undefined) {\n\t\t\tid = idMap.size;\n\t\t\tidMap.set(nodeId, id);\n\t\t}\n\n\t\treturn id;\n\t};\n\n\t// 1. Created a sorted list of nodes. It seems that the profile always has\n\t// incrementing IDs, although they are just not initially sorted.\n\tconst nodes = new Array<IComputedNode>(profile.nodes.length);\n\tfor (let i = 0; i < profile.nodes.length; i++) {\n\t\tconst node = profile.nodes[i];\n\n\t\t// make them 0-based:\n\t\tconst id = mapId(node.id);\n\t\tnodes[id] = {\n\t\t\tid,\n\t\t\tselfTime: 0,\n\t\t\taggregateTime: 0,\n\t\t\tlocationId: node.locationId as number,\n\t\t\tchildren: node.children?.map(mapId) || [],\n\t\t};\n\n\t\tfor (const child of node.positionTicks || []) {\n\t\t\tif (child.startLocationId) {\n\t\t\t\tlocations[child.startLocationId].ticks += child.ticks;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (const node of nodes) {\n\t\tfor (const child of node.children) {\n\t\t\tnodes[child].parent = node.id;\n\t\t}\n\t}\n\n\t// 2. The profile samples are the 'bottom-most' node, the currently running\n\t// code. Sum of these in the self time.\n\tconst duration = profile.endTime - profile.startTime;\n\tlet lastNodeTime = duration - timeDeltas[0];\n\tfor (let i = 0; i < timeDeltas.length - 1; i++) {\n\t\tconst d = timeDeltas[i + 1];\n\t\tnodes[mapId(samples[i])].selfTime += d;\n\t\tlastNodeTime -= d;\n\t}\n\n\t// Add in an extra time delta for the last sample. `timeDeltas[0]` is the\n\t// time before the first sample, and the time of the last sample is only\n\t// derived (approximately) by the missing time in the sum of deltas. Save\n\t// some work by calculating it here.\n\tif (nodes.length) {\n\t\tnodes[mapId(samples[timeDeltas.length - 1])].selfTime += lastNodeTime;\n\t\ttimeDeltas.push(lastNodeTime);\n\t}\n\n\t// 3. Add the aggregate times for all node children and locations\n\tfor (let i = 0; i < nodes.length; i++) {\n\t\tconst node = nodes[i];\n\t\tconst location = locations[node.locationId];\n\t\tlocation.aggregateTime += computeAggregateTime(i, nodes);\n\t\tlocation.selfTime += node.selfTime;\n\t}\n\n\treturn {\n\t\tnodes,\n\t\tlocations,\n\t\tsamples: samples.map(mapId),\n\t\ttimeDeltas,\n\t\t// rootPath: profile.$vscode?.rootPath,\n\t\tduration,\n\t};\n};\n\nexport class BottomUpNode {\n\tpublic static root() {\n\t\treturn new BottomUpNode({\n\t\t\tid: -1,\n\t\t\tselfTime: 0,\n\t\t\taggregateTime: 0,\n\t\t\tticks: 0,\n\t\t\tcallFrame: {\n\t\t\t\tfunctionName: '(root)',\n\t\t\t\tlineNumber: -1,\n\t\t\t\tcolumnNumber: -1,\n\t\t\t\tscriptId: '0',\n\t\t\t\turl: '',\n\t\t\t},\n\t\t});\n\t}\n\n\tpublic children: { [id: number]: BottomUpNode } = {};\n\tpublic aggregateTime = 0;\n\tpublic selfTime = 0;\n\tpublic ticks = 0;\n\tpublic childrenSize = 0;\n\n\tpublic get id() {\n\t\treturn this.location.id;\n\t}\n\n\tpublic get callFrame() {\n\t\treturn this.location.callFrame;\n\t}\n\n\tpublic get src() {\n\t\treturn this.location.src;\n\t}\n\n\tconstructor(public readonly location: ILocation, public readonly parent?: BottomUpNode) { }\n\n\tpublic addNode(node: IComputedNode) {\n\t\tthis.selfTime += node.selfTime;\n\t\tthis.aggregateTime += node.aggregateTime;\n\t}\n\n}\n\nexport const processNode = (aggregate: BottomUpNode, node: IComputedNode, model: IProfileModel, initialNode = node) => {\n\tlet child = aggregate.children[node.locationId];\n\tif (!child) {\n\t\tchild = new BottomUpNode(model.locations[node.locationId], aggregate);\n\t\taggregate.childrenSize++;\n\t\taggregate.children[node.locationId] = child;\n\t}\n\n\tchild.addNode(initialNode);\n\n\tif (node.parent) {\n\t\tprocessNode(child, model.nodes[node.parent], model, initialNode);\n\t}\n};\n\n//#endregion\n\n\nexport interface BottomUpSample {\n\tselfTime: number;\n\ttotalTime: number;\n\tlocation: string;\n\tabsLocation: string;\n\turl: string;\n\tcaller: { percentage: number; absLocation: string; location: string }[];\n\tpercentage: number;\n\tisSpecial: boolean;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4FE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;AA5FF;;;;AAgFA;;;;AAIA,MAAMC,oBAAoB,GAAGA,CAACC,KAAa,EAAEC,KAAsB,KAAY;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAC9E,MAAMC,GAAG;EAAA;EAAA,CAAAP,cAAA,GAAAE,CAAA,OAAGG,KAAK,CAACD,KAAK,CAAC;EAAC;EAAAJ,cAAA,GAAAE,CAAA;EACzB,IAAIK,GAAG,CAACC,aAAa,EAAE;IAAA;IAAAR,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAE,CAAA;IACtB,OAAOK,GAAG,CAACC,aAAa;EACzB,CAAC;EAAA;EAAA;IAAAR,cAAA,GAAAS,CAAA;EAAA;EAED,IAAIC,KAAK;EAAA;EAAA,CAAAV,cAAA,GAAAE,CAAA,OAAGK,GAAG,CAACI,QAAQ;EAAC;EAAAX,cAAA,GAAAE,CAAA;EACzB,KAAK,MAAMU,KAAK,IAAIL,GAAG,CAACM,QAAQ,EAAE;IAAA;IAAAb,cAAA,GAAAE,CAAA;IACjCQ,KAAK,IAAIP,oBAAoB,CAACS,KAAK,EAAEP,KAAK,CAAC;EAC5C;EAAC;EAAAL,cAAA,GAAAE,CAAA;EAED,OAAQK,GAAG,CAACC,aAAa,GAAGE,KAAK;AAClC,CAAC;AAAC;AAAAV,cAAA,GAAAE,CAAA;AAEF,MAAMY,qBAAqB,GAAIC,OAAuB,IAAwC;EAAA;EAAAf,cAAA,GAAAM,CAAA;EAE7F,IAAIU,iBAAiB;EAAA;EAAA,CAAAhB,cAAA,GAAAE,CAAA,OAAG,CAAC;EACzB,MAAMe,cAAc;EAAA;EAAA,CAAAjB,cAAA,GAAAE,CAAA,QAAG,IAAIgB,GAAG,EAA8E;EAAC;EAAAlB,cAAA,GAAAE,CAAA;EAE7G,MAAMiB,gBAAgB,GAAIC,SAAuB,IAAI;IAAA;IAAApB,cAAA,GAAAM,CAAA;IACpD,MAAMe,GAAG;IAAA;IAAA,CAAArB,cAAA,GAAAE,CAAA,QAAG,CACXkB,SAAS,CAACE,YAAY,EACtBF,SAAS,CAACG,GAAG,EACbH,SAAS,CAACI,QAAQ,EAClBJ,SAAS,CAACK,UAAU,EACpBL,SAAS,CAACM,YAAY,CACtB,CAACC,IAAI,CAAC,GAAG,CAAC;IAEX,MAAMC,QAAQ;IAAA;IAAA,CAAA5B,cAAA,GAAAE,CAAA,QAAGe,cAAc,CAACY,GAAG,CAACR,GAAG,CAAC;IAAC;IAAArB,cAAA,GAAAE,CAAA;IACzC,IAAI0B,QAAQ,EAAE;MAAA;MAAA5B,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAE,CAAA;MACb,OAAO0B,QAAQ,CAACE,EAAE;IACnB,CAAC;IAAA;IAAA;MAAA9B,cAAA,GAAAS,CAAA;IAAA;IACD,MAAMqB,EAAE;IAAA;IAAA,CAAA9B,cAAA,GAAAE,CAAA,QAAGc,iBAAiB,EAAE;IAAC;IAAAhB,cAAA,GAAAE,CAAA;IAC/Be,cAAc,CAACc,GAAG,CAACV,GAAG,EAAE;MACvBS,EAAE;MACFV,SAAS;MACTY,QAAQ,EAAE;QACTP,UAAU,EAAEL,SAAS,CAACK,UAAU,GAAG,CAAC;QACpCC,YAAY,EAAEN,SAAS,CAACM,YAAY,GAAG;QACvC;QACA;QACA;QACA;QACA;;KAED,CAAC;IAAC;IAAA1B,cAAA,GAAAE,CAAA;IAEH,OAAO4B,EAAE;EACV,CAAC;EAAC;EAAA9B,cAAA,GAAAE,CAAA;EAEF,KAAK,MAAM+B,IAAI,IAAIlB,OAAO,CAACV,KAAK,EAAE;IAAA;IAAAL,cAAA,GAAAE,CAAA;IACjC+B,IAAI,CAACC,UAAU,GAAGf,gBAAgB,CAACc,IAAI,CAACb,SAAS,CAAC;IAAC;IAAApB,cAAA,GAAAE,CAAA;IACnD+B,IAAI,CAACE,aAAa,GAAGF,IAAI,CAACE,aAAa,EAAEC,GAAG,CAACC,IAAI,IAAK;MAAA;MAAArC,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAE,CAAA;MAAA;QACrD,GAAGmC,IAAI;QACP;QACA;QACA;QACAC,eAAe,EAAEnB,gBAAgB,CAAC;UACjC,GAAGc,IAAI,CAACb,SAAS;UACjBK,UAAU,EAAEY,IAAI,CAACE,IAAI,GAAG,CAAC;UACzBb,YAAY,EAAE;SACd,CAAC;QACFc,aAAa,EAAErB,gBAAgB,CAAC;UAC/B,GAAGc,IAAI,CAACb,SAAS;UACjBK,UAAU,EAAEY,IAAI,CAACE,IAAI;UACrBb,YAAY,EAAE;SACd;OACD;KAAC,CAAC;EACJ;EAAC;EAAA1B,cAAA,GAAAE,CAAA;EAED,OAAO,CAAC,GAAGe,cAAc,CAACwB,MAAM,EAAE,CAAC,CACjCC,IAAI,CAAC,CAACC,CAAC,EAAElC,CAAC,KAAK;IAAA;IAAAT,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IAAA,OAAAyC,CAAC,CAACb,EAAE,GAAGrB,CAAC,CAACqB,EAAE;EAAF,CAAE,CAAC,CAC3BM,GAAG,CAACQ,CAAC,IAAK;IAAA;IAAA5C,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IAAA;MAAE2C,SAAS,EAAE,CAACD,CAAC,CAACZ,QAAQ,CAAC;MAAEZ,SAAS,EAAEwB,CAAC,CAACxB;IAAS,CAAE;EAAF,CAAG,CAAC;AAClE,CAAC;AAED;;;AAAA;AAAApB,cAAA,GAAAE,CAAA;AAGA,OAAO,MAAM4C,UAAU,GAAI/B,OAAuB,IAAmB;EAAA;EAAAf,cAAA,GAAAM,CAAA;EAAAN,cAAA,GAAAE,CAAA;EACpE;EAAI;EAAA,CAAAF,cAAA,GAAAS,CAAA,WAACM,OAAO,CAACgC,UAAU;EAAA;EAAA,CAAA/C,cAAA,GAAAS,CAAA,UAAI,CAACM,OAAO,CAACiC,OAAO,GAAE;IAAA;IAAAhD,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAE,CAAA;IAC5C,OAAO;MACNG,KAAK,EAAE,EAAE;MACTwC,SAAS,EAAE,EAAE;MACbG,OAAO;MAAE;MAAA,CAAAhD,cAAA,GAAAS,CAAA,UAAAM,OAAO,CAACiC,OAAO;MAAA;MAAA,CAAAhD,cAAA,GAAAS,CAAA,UAAI,EAAE;MAC9BsC,UAAU;MAAE;MAAA,CAAA/C,cAAA,GAAAS,CAAA,UAAAM,OAAO,CAACgC,UAAU;MAAA;MAAA,CAAA/C,cAAA,GAAAS,CAAA,UAAI,EAAE;MACpC;MACAwC,QAAQ,EAAElC,OAAO,CAACmC,OAAO,GAAGnC,OAAO,CAACoC;KACpC;EACF,CAAC;EAAA;EAAA;IAAAnD,cAAA,GAAAS,CAAA;EAAA;EAED,MAAM;IAAEuC,OAAO;IAAED;EAAU,CAAE;EAAA;EAAA,CAAA/C,cAAA,GAAAE,CAAA,QAAGa,OAAO;EACvC,MAAMqC,eAAe;EAAA;EAAA,CAAApD,cAAA,GAAAE,CAAA,QAAGY,qBAAqB,CAACC,OAAO,CAAC;EACtD,MAAM8B,SAAS;EAAA;EAAA,CAAA7C,cAAA,GAAAE,CAAA,QAAgBkD,eAAe,CAAChB,GAAG,CAAC,CAACQ,CAAC,EAAEd,EAAE,KAAI;IAAA;IAAA9B,cAAA,GAAAM,CAAA;IAC5D,MAAM+C,GAAG;IAAA;IAAA,CAAArD,cAAA,GAAAE,CAAA,QAAG0C,CAAC,CAACC,SAAS,CAAC,CAAC,CAAC,EAAC,CAAC;IAAA;IAAA7C,cAAA,GAAAE,CAAA;IAE5B,OAAO;MACN4B,EAAE;MACFnB,QAAQ,EAAE,CAAC;MACXH,aAAa,EAAE,CAAC;MAChB8C,KAAK,EAAE,CAAC;MACR;MACAlC,SAAS,EAAEwB,CAAC,CAACxB,SAAS;MACtBiC;KACA;EACF,CAAC,CAAC;EAEF,MAAME,KAAK;EAAA;EAAA,CAAAvD,cAAA,GAAAE,CAAA,QAAG,IAAIgB,GAAG,EAA4D;EAAC;EAAAlB,cAAA,GAAAE,CAAA;EAClF,MAAMsD,KAAK,GAAIC,MAAc,IAAI;IAAA;IAAAzD,cAAA,GAAAM,CAAA;IAChC,IAAIwB,EAAE;IAAA;IAAA,CAAA9B,cAAA,GAAAE,CAAA,QAAGqD,KAAK,CAAC1B,GAAG,CAAC4B,MAAM,CAAC;IAAC;IAAAzD,cAAA,GAAAE,CAAA;IAC3B,IAAI4B,EAAE,KAAK4B,SAAS,EAAE;MAAA;MAAA1D,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAE,CAAA;MACrB4B,EAAE,GAAGyB,KAAK,CAACI,IAAI;MAAC;MAAA3D,cAAA,GAAAE,CAAA;MAChBqD,KAAK,CAACxB,GAAG,CAAC0B,MAAM,EAAE3B,EAAE,CAAC;IACtB,CAAC;IAAA;IAAA;MAAA9B,cAAA,GAAAS,CAAA;IAAA;IAAAT,cAAA,GAAAE,CAAA;IAED,OAAO4B,EAAE;EACV,CAAC;EAED;EACA;EACA,MAAMzB,KAAK;EAAA;EAAA,CAAAL,cAAA,GAAAE,CAAA,QAAG,IAAI0D,KAAK,CAAgB7C,OAAO,CAACV,KAAK,CAACwD,MAAM,CAAC;EAAC;EAAA7D,cAAA,GAAAE,CAAA;EAC7D,KAAK,IAAI4D,CAAC;EAAA;EAAA,CAAA9D,cAAA,GAAAE,CAAA,QAAG,CAAC,GAAE4D,CAAC,GAAG/C,OAAO,CAACV,KAAK,CAACwD,MAAM,EAAEC,CAAC,EAAE,EAAE;IAC9C,MAAM7B,IAAI;IAAA;IAAA,CAAAjC,cAAA,GAAAE,CAAA,QAAGa,OAAO,CAACV,KAAK,CAACyD,CAAC,CAAC;IAE7B;IACA,MAAMhC,EAAE;IAAA;IAAA,CAAA9B,cAAA,GAAAE,CAAA,QAAGsD,KAAK,CAACvB,IAAI,CAACH,EAAE,CAAC;IAAC;IAAA9B,cAAA,GAAAE,CAAA;IAC1BG,KAAK,CAACyB,EAAE,CAAC,GAAG;MACXA,EAAE;MACFnB,QAAQ,EAAE,CAAC;MACXH,aAAa,EAAE,CAAC;MAChB0B,UAAU,EAAED,IAAI,CAACC,UAAoB;MACrCrB,QAAQ;MAAE;MAAA,CAAAb,cAAA,GAAAS,CAAA,UAAAwB,IAAI,CAACpB,QAAQ,EAAEuB,GAAG,CAACoB,KAAK,CAAC;MAAA;MAAA,CAAAxD,cAAA,GAAAS,CAAA,UAAI,EAAE;KACzC;IAAC;IAAAT,cAAA,GAAAE,CAAA;IAEF,KAAK,MAAMU,KAAK;IAAI;IAAA,CAAAZ,cAAA,GAAAS,CAAA,UAAAwB,IAAI,CAACE,aAAa;IAAA;IAAA,CAAAnC,cAAA,GAAAS,CAAA,UAAI,EAAE,GAAE;MAAA;MAAAT,cAAA,GAAAE,CAAA;MAC7C,IAAIU,KAAK,CAAC0B,eAAe,EAAE;QAAA;QAAAtC,cAAA,GAAAS,CAAA;QAAAT,cAAA,GAAAE,CAAA;QAC1B2C,SAAS,CAACjC,KAAK,CAAC0B,eAAe,CAAC,CAACgB,KAAK,IAAI1C,KAAK,CAAC0C,KAAK;MACtD,CAAC;MAAA;MAAA;QAAAtD,cAAA,GAAAS,CAAA;MAAA;IACF;EACD;EAAC;EAAAT,cAAA,GAAAE,CAAA;EAED,KAAK,MAAM+B,IAAI,IAAI5B,KAAK,EAAE;IAAA;IAAAL,cAAA,GAAAE,CAAA;IACzB,KAAK,MAAMU,KAAK,IAAIqB,IAAI,CAACpB,QAAQ,EAAE;MAAA;MAAAb,cAAA,GAAAE,CAAA;MAClCG,KAAK,CAACO,KAAK,CAAC,CAACmD,MAAM,GAAG9B,IAAI,CAACH,EAAE;IAC9B;EACD;EAEA;EACA;EACA,MAAMmB,QAAQ;EAAA;EAAA,CAAAjD,cAAA,GAAAE,CAAA,QAAGa,OAAO,CAACmC,OAAO,GAAGnC,OAAO,CAACoC,SAAS;EACpD,IAAIa,YAAY;EAAA;EAAA,CAAAhE,cAAA,GAAAE,CAAA,QAAG+C,QAAQ,GAAGF,UAAU,CAAC,CAAC,CAAC;EAAC;EAAA/C,cAAA,GAAAE,CAAA;EAC5C,KAAK,IAAI4D,CAAC;EAAA;EAAA,CAAA9D,cAAA,GAAAE,CAAA,QAAG,CAAC,GAAE4D,CAAC,GAAGf,UAAU,CAACc,MAAM,GAAG,CAAC,EAAEC,CAAC,EAAE,EAAE;IAC/C,MAAMG,CAAC;IAAA;IAAA,CAAAjE,cAAA,GAAAE,CAAA,QAAG6C,UAAU,CAACe,CAAC,GAAG,CAAC,CAAC;IAAC;IAAA9D,cAAA,GAAAE,CAAA;IAC5BG,KAAK,CAACmD,KAAK,CAACR,OAAO,CAACc,CAAC,CAAC,CAAC,CAAC,CAACnD,QAAQ,IAAIsD,CAAC;IAAC;IAAAjE,cAAA,GAAAE,CAAA;IACvC8D,YAAY,IAAIC,CAAC;EAClB;EAEA;EACA;EACA;EACA;EAAA;EAAAjE,cAAA,GAAAE,CAAA;EACA,IAAIG,KAAK,CAACwD,MAAM,EAAE;IAAA;IAAA7D,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAE,CAAA;IACjBG,KAAK,CAACmD,KAAK,CAACR,OAAO,CAACD,UAAU,CAACc,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAClD,QAAQ,IAAIqD,YAAY;IAAC;IAAAhE,cAAA,GAAAE,CAAA;IACtE6C,UAAU,CAACmB,IAAI,CAACF,YAAY,CAAC;EAC9B,CAAC;EAAA;EAAA;IAAAhE,cAAA,GAAAS,CAAA;EAAA;EAED;EAAAT,cAAA,GAAAE,CAAA;EACA,KAAK,IAAI4D,CAAC;EAAA;EAAA,CAAA9D,cAAA,GAAAE,CAAA,QAAG,CAAC,GAAE4D,CAAC,GAAGzD,KAAK,CAACwD,MAAM,EAAEC,CAAC,EAAE,EAAE;IACtC,MAAM7B,IAAI;IAAA;IAAA,CAAAjC,cAAA,GAAAE,CAAA,QAAGG,KAAK,CAACyD,CAAC,CAAC;IACrB,MAAM9B,QAAQ;IAAA;IAAA,CAAAhC,cAAA,GAAAE,CAAA,QAAG2C,SAAS,CAACZ,IAAI,CAACC,UAAU,CAAC;IAAC;IAAAlC,cAAA,GAAAE,CAAA;IAC5C8B,QAAQ,CAACxB,aAAa,IAAIL,oBAAoB,CAAC2D,CAAC,EAAEzD,KAAK,CAAC;IAAC;IAAAL,cAAA,GAAAE,CAAA;IACzD8B,QAAQ,CAACrB,QAAQ,IAAIsB,IAAI,CAACtB,QAAQ;EACnC;EAAC;EAAAX,cAAA,GAAAE,CAAA;EAED,OAAO;IACNG,KAAK;IACLwC,SAAS;IACTG,OAAO,EAAEA,OAAO,CAACZ,GAAG,CAACoB,KAAK,CAAC;IAC3BT,UAAU;IACV;IACAE;GACA;AACF,CAAC;AAED,OAAM,MAAOkB,YAAY;EAmCInC,QAAA;EAAqC+B,MAAA;EAlC1D,OAAOK,IAAIA,CAAA;IAAA;IAAApE,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACjB,OAAO,IAAIiE,YAAY,CAAC;MACvBrC,EAAE,EAAE,CAAC,CAAC;MACNnB,QAAQ,EAAE,CAAC;MACXH,aAAa,EAAE,CAAC;MAChB8C,KAAK,EAAE,CAAC;MACRlC,SAAS,EAAE;QACVE,YAAY,EAAE,QAAQ;QACtBG,UAAU,EAAE,CAAC,CAAC;QACdC,YAAY,EAAE,CAAC,CAAC;QAChBF,QAAQ,EAAE,GAAG;QACbD,GAAG,EAAE;;KAEN,CAAC;EACH;EAEOV,QAAQ;EAAA;EAAA,CAAAb,cAAA,GAAAE,CAAA,QAAmC,EAAE;EAC7CM,aAAa;EAAA;EAAA,CAAAR,cAAA,GAAAE,CAAA,QAAG,CAAC;EACjBS,QAAQ;EAAA;EAAA,CAAAX,cAAA,GAAAE,CAAA,QAAG,CAAC;EACZoD,KAAK;EAAA;EAAA,CAAAtD,cAAA,GAAAE,CAAA,QAAG,CAAC;EACTmE,YAAY;EAAA;EAAA,CAAArE,cAAA,GAAAE,CAAA,QAAG,CAAC;EAEvB,IAAW4B,EAAEA,CAAA;IAAA;IAAA9B,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACZ,OAAO,IAAI,CAAC8B,QAAQ,CAACF,EAAE;EACxB;EAEA,IAAWV,SAASA,CAAA;IAAA;IAAApB,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACnB,OAAO,IAAI,CAAC8B,QAAQ,CAACZ,SAAS;EAC/B;EAEA,IAAWiC,GAAGA,CAAA;IAAA;IAAArD,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACb,OAAO,IAAI,CAAC8B,QAAQ,CAACqB,GAAG;EACzB;EAEAiB,YAA4BtC,QAAmB,EAAkB+B,MAAqB;IAAA;IAAA/D,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IAA1D,KAAA8B,QAAQ,GAARA,QAAQ;IAAW;IAAAhC,cAAA,GAAAE,CAAA;IAAkB,KAAA6D,MAAM,GAANA,MAAM;EAAmB;EAEnFQ,OAAOA,CAACtC,IAAmB;IAAA;IAAAjC,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACjC,IAAI,CAACS,QAAQ,IAAIsB,IAAI,CAACtB,QAAQ;IAAC;IAAAX,cAAA,GAAAE,CAAA;IAC/B,IAAI,CAACM,aAAa,IAAIyB,IAAI,CAACzB,aAAa;EACzC;;AAEA;AAAAR,cAAA,GAAAE,CAAA;AAED,OAAO,MAAMsE,WAAW,GAAGA,CAACC,SAAuB,EAAExC,IAAmB,EAAEyC,KAAoB,EAAEC,WAAW;AAAA;AAAA,CAAA3E,cAAA,GAAAS,CAAA,WAAGwB,IAAI,MAAI;EAAA;EAAAjC,cAAA,GAAAM,CAAA;EACrH,IAAIM,KAAK;EAAA;EAAA,CAAAZ,cAAA,GAAAE,CAAA,QAAGuE,SAAS,CAAC5D,QAAQ,CAACoB,IAAI,CAACC,UAAU,CAAC;EAAC;EAAAlC,cAAA,GAAAE,CAAA;EAChD,IAAI,CAACU,KAAK,EAAE;IAAA;IAAAZ,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAE,CAAA;IACXU,KAAK,GAAG,IAAIuD,YAAY,CAACO,KAAK,CAAC7B,SAAS,CAACZ,IAAI,CAACC,UAAU,CAAC,EAAEuC,SAAS,CAAC;IAAC;IAAAzE,cAAA,GAAAE,CAAA;IACtEuE,SAAS,CAACJ,YAAY,EAAE;IAAC;IAAArE,cAAA,GAAAE,CAAA;IACzBuE,SAAS,CAAC5D,QAAQ,CAACoB,IAAI,CAACC,UAAU,CAAC,GAAGtB,KAAK;EAC5C,CAAC;EAAA;EAAA;IAAAZ,cAAA,GAAAS,CAAA;EAAA;EAAAT,cAAA,GAAAE,CAAA;EAEDU,KAAK,CAAC2D,OAAO,CAACI,WAAW,CAAC;EAAC;EAAA3E,cAAA,GAAAE,CAAA;EAE3B,IAAI+B,IAAI,CAAC8B,MAAM,EAAE;IAAA;IAAA/D,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAE,CAAA;IAChBsE,WAAW,CAAC5D,KAAK,EAAE8D,KAAK,CAACrE,KAAK,CAAC4B,IAAI,CAAC8B,MAAM,CAAC,EAAEW,KAAK,EAAEC,WAAW,CAAC;EACjE,CAAC;EAAA;EAAA;IAAA3E,cAAA,GAAAS,CAAA;EAAA;AACF,CAAC","ignoreList":[]}