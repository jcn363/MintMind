{"version":3,"names":["cov_2fs25z9kxj","actualCoverage","Event","compare","LanguageFeatureRegistry","registerSingleton","createDecorator","ILanguageStatusService","s","LanguageStatusServiceImpl","_provider","onDidChange","map","undefined","addStatus","status","f","register","selector","getLanguageStatus","model","ordered","sort","a","b","res","severity","source","id"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/languageStatus/common/languageStatusService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { compare } from '../../../../base/common/strings.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { Command } from '../../../../editor/common/languages.js';\nimport { LanguageFeatureRegistry } from '../../../../editor/common/languageFeatureRegistry.js';\nimport { LanguageSelector } from '../../../../editor/common/languageSelector.js';\nimport { IAccessibilityInformation } from '../../../../platform/accessibility/common/accessibility.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\n\nexport interface ILanguageStatus {\n\treadonly id: string;\n\treadonly name: string;\n\treadonly selector: LanguageSelector;\n\treadonly severity: Severity;\n\treadonly label: string | { value: string; shortValue: string };\n\treadonly detail: string;\n\treadonly busy: boolean;\n\treadonly source: string;\n\treadonly command: Command | undefined;\n\treadonly accessibilityInfo: IAccessibilityInformation | undefined;\n}\n\nexport interface ILanguageStatusProvider {\n\tprovideLanguageStatus(langId: string, token: CancellationToken): Promise<ILanguageStatus | undefined>;\n}\n\nexport const ILanguageStatusService = createDecorator<ILanguageStatusService>('ILanguageStatusService');\n\nexport interface ILanguageStatusService {\n\n\t_serviceBrand: undefined;\n\n\treadonly onDidChange: Event<void>;\n\n\taddStatus(status: ILanguageStatus): IDisposable;\n\n\tgetLanguageStatus(model: ITextModel): ILanguageStatus[];\n}\n\n\nclass LanguageStatusServiceImpl implements ILanguageStatusService {\n\n\tdeclare _serviceBrand: undefined;\n\n\tprivate readonly _provider = new LanguageFeatureRegistry<ILanguageStatus>();\n\n\treadonly onDidChange = Event.map(this._provider.onDidChange, () => undefined);\n\n\taddStatus(status: ILanguageStatus): IDisposable {\n\t\treturn this._provider.register(status.selector, status);\n\t}\n\n\tgetLanguageStatus(model: ITextModel): ILanguageStatus[] {\n\t\treturn this._provider.ordered(model).sort((a, b) => {\n\t\t\tlet res = b.severity - a.severity;\n\t\t\tif (res === 0) {\n\t\t\t\tres = compare(a.source, b.source);\n\t\t\t}\n\t\t\tif (res === 0) {\n\t\t\t\tres = compare(a.id, b.id);\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\t}\n}\n\nregisterSingleton(ILanguageStatusService, LanguageStatusServiceImpl, InstantiationType.Delayed);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2DE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA3DF;;;;AAMA,SAASE,KAAK,QAAQ,kCAAkC;AAGxD,SAASC,OAAO,QAAQ,oCAAoC;AAG5D,SAASC,uBAAuB,QAAQ,sDAAsD;AAG9F,SAA4BC,iBAAiB,QAAQ,yDAAyD;AAC9G,SAASC,eAAe,QAAQ,4DAA4D;AAmB5F,OAAO,MAAMC,sBAAsB;AAAA;AAAA,CAAAP,cAAA,GAAAQ,CAAA,OAAGF,eAAe,CAAyB,wBAAwB,CAAC;AAcvG,MAAMG,yBAAyB;EAIbC,SAAS;EAAA;EAAA,CAAAV,cAAA,GAAAQ,CAAA,OAAG,IAAIJ,uBAAuB,EAAmB;EAElEO,WAAW;EAAA;EAAA,CAAAX,cAAA,GAAAQ,CAAA,OAAGN,KAAK,CAACU,GAAG,CAAC,IAAI,CAACF,SAAS,CAACC,WAAW,EAAE,MAAME;IAAAA;IAAAA,uBAAA;IAAAA,uBAAA;IAAAA,MAAA,CAAAA,SAAS;EAAT,CAAS,CAAC;EAE7EC,SAASA,CAACC,MAAuB;IAAA;IAAAf,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAQ,CAAA;IAChC,OAAO,IAAI,CAACE,SAAS,CAACO,QAAQ,CAACF,MAAM,CAACG,QAAQ,EAAEH,MAAM,CAAC;EACxD;EAEAI,iBAAiBA,CAACC,KAAiB;IAAA;IAAApB,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAQ,CAAA;IAClC,OAAO,IAAI,CAACE,SAAS,CAACW,OAAO,CAACD,KAAK,CAAC,CAACE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;MAAA;MAAAxB,cAAA,GAAAgB,CAAA;MAClD,IAAIS,GAAG;MAAA;MAAA,CAAAzB,cAAA,GAAAQ,CAAA,OAAGgB,CAAC,CAACE,QAAQ,GAAGH,CAAC,CAACG,QAAQ;MAAC;MAAA1B,cAAA,GAAAQ,CAAA;MAClC,IAAIiB,GAAG,KAAK,CAAC,EAAE;QAAA;QAAAzB,cAAA,GAAAwB,CAAA;QAAAxB,cAAA,GAAAQ,CAAA;QACdiB,GAAG,GAAGtB,OAAO,CAACoB,CAAC,CAACI,MAAM,EAAEH,CAAC,CAACG,MAAM,CAAC;MAClC,CAAC;MAAA;MAAA;QAAA3B,cAAA,GAAAwB,CAAA;MAAA;MAAAxB,cAAA,GAAAQ,CAAA;MACD,IAAIiB,GAAG,KAAK,CAAC,EAAE;QAAA;QAAAzB,cAAA,GAAAwB,CAAA;QAAAxB,cAAA,GAAAQ,CAAA;QACdiB,GAAG,GAAGtB,OAAO,CAACoB,CAAC,CAACK,EAAE,EAAEJ,CAAC,CAACI,EAAE,CAAC;MAC1B,CAAC;MAAA;MAAA;QAAA5B,cAAA,GAAAwB,CAAA;MAAA;MAAAxB,cAAA,GAAAQ,CAAA;MACD,OAAOiB,GAAG;IACX,CAAC,CAAC;EACH;;AACA;AAAAzB,cAAA,GAAAQ,CAAA;AAEDH,iBAAiB,CAACE,sBAAsB,EAAEE,yBAAyB,oCAA4B","ignoreList":[]}