{"version":3,"names":["cov_xl81tfhul","actualCoverage","arrays","Position","Range","IndentGuide","IndentGuideHorizontalLine","ModelDecorationOptions","LineInjectedText","viewEvents","createModelLineProjection","ConstantTimePrefixSumComputer","ViewLineData","IdentityCoordinatesConverter","ViewModelLinesFromProjectedModel","_editorId","model","_validModelVersionId","_domLineBreaksComputerFactory","_monospaceLineBreaksComputerFactory","fontInfo","tabSize","wrappingColumn","wrappingIndent","wordBreak","wrappingStrategy","wrapOnEscapedLineFeeds","modelLineProjections","projectedModelLineLineCounts","hiddenAreasDecorationIds","constructor","editorId","domLineBreaksComputerFactory","monospaceLineBreaksComputerFactory","f","s","_constructLines","dispose","deltaDecorations","createCoordinatesConverter","CoordinatesConverter","resetHiddenAreas","previousLineBreaks","b","linesContent","getLinesContent","injectedTextDecorations","getInjectedTextDecorations","lineCount","length","lineBreaksComputer","createLineBreaksComputer","injectedTextQueue","ArrayQueue","fromDecorations","i","lineInjectedText","takeWhile","t","lineNumber","addRequest","linesBreaks","finalize","values","hiddenAreas","map","areaId","getDecorationRange","sort","compareRangesUsingStarts","hiddenAreaStart","hiddenAreaEnd","hiddenAreaIdx","nextLineNumberToUpdateHiddenArea","startLineNumber","endLineNumber","isInHiddenArea","line","getViewLineCount","getVersionId","getHiddenAreas","decId","setHiddenAreas","_ranges","validatedRanges","r","validateRange","newRanges","normalizeLineRanges","oldRanges","hasDifference","equalsRange","newDecorations","range","options","EMPTY","hasVisibleLine","lineChanged","isVisible","setVisible","newOutputLineCount","setValue","modelPositionIsVisible","modelLineNumber","_modelColumn","getModelLineViewLineCount","setTabSize","newTabSize","setWrappingSettings","equalFontInfo","equals","equalWrappingStrategy","equalWrappingColumn","equalWrappingIndent","equalWordBreak","onlyWrappingColumnChanged","len","getProjectionData","lineBreaksComputerFactory","onModelFlushed","onModelLinesDeleted","versionId","fromLineNumber","toLineNumber","outputFromLineNumber","getPrefixSum","outputToLineNumber","splice","removeValues","ViewLinesDeletedEvent","onModelLinesInserted","_toLineNumber","lineBreaks","totalOutputLineCount","insertLines","insertPrefixSumValues","push","outputLineCount","slice","concat","insertValues","ViewLinesInsertedEvent","onModelLineChanged","lineBreakData","lineIndex","oldOutputLineCount","lineMappingChanged","changeFrom","changeTo","insertFrom","insertTo","deleteFrom","deleteTo","viewLinesChangedEvent","ViewLinesChangedEvent","viewLinesInsertedEvent","viewLinesDeletedEvent","acceptVersionId","getTotalSum","_toValidViewLineNumber","viewLineNumber","viewLineCount","getActiveIndentGuide","minLineNumber","maxLineNumber","modelPosition","convertViewPositionToModelPosition","getViewLineMinColumn","modelMinPosition","modelMaxPosition","result","guides","viewStartPosition","convertModelPositionToViewPosition","viewEndPosition","getLineMaxColumn","indent","getViewLineInfo","getIndexOf","index","remainder","ViewLineInfo","getMinColumnOfViewLine","viewLineInfo","modelLineWrappedLineIdx","getMaxColumnOfViewLine","getViewLineMaxColumn","getModelStartPositionOfViewLine","minViewColumn","column","getModelColumnOfViewPosition","getModelEndPositionOfViewLine","maxViewColumn","getViewLineInfosGroupedByModelRanges","viewStartLineNumber","viewEndLineNumber","startViewLine","endViewLine","Array","lastVisibleModelPos","viewLines","curModelLine","startOffset","endOffset","lastVisibleModelPos2","modelRange","fromPositions","ViewLineInfoGroupedByModelRange","getViewLinesBracketGuides","activeViewPosition","modelActivePosition","resultPerViewLine","group","modelRangeStartLineNumber","bracketGuidesPerModelLine","getLinesBracketGuides","bracketGuides","g","forWrappedLinesAfterColumn","p","getViewPositionOfModelPosition","undefined","forWrappedLinesBeforeOrAtColumn","horizontalLine","viewPosition","endColumn","visibleColumn","className","top","filter","getViewLinesIndentGuides","modelStart","modelEnd","resultRepeatCount","resultRepeatOption","modelStartLineIndex","modelEndLineIndex","reqStart","modelLineIndex","viewLineStartIndex","getViewLineNumberOfModelPosition","viewLineEndIndex","count","option","getLinesIndentGuides","viewIndents","currIndex","value","Math","min","blockAtIndex","j","getViewLineContent","info","getViewLineLength","getViewLineData","getViewLinesData","needed","start","startModelLineIndex","startRemainder","getLineCount","fromViewLineIndex","remainingViewLineCount","lastLine","validateViewPosition","viewColumn","expectedModelPosition","minColumn","maxColumn","computedModelColumn","computedModelPosition","validatePosition","validateViewRange","viewRange","expectedModelRange","validViewStart","startColumn","getStartPosition","validViewEnd","getEndPosition","inputColumn","convertViewRangeToModelRange","end","_modelLineNumber","affinity","allowZeroLineNumber","belowHiddenRanges","validPosition","inputLineNumber","lineIndexChanged","deltaLineNumber","convertModelRangeToViewRange","isEmpty","modelColumn","getDecorationsInRange","ownerId","filterOutValidation","filterFontDecorations","onlyMinimapDecorations","onlyMarginDecorations","maxLineColumn","a","res","id","finalResult","finalResultLen","prevDecId","dec","getInjectedTextAt","position","normalizePosition","getLineIndentColumn","ranges","sortedRanges","currentRangeStart","currentRangeEnd","isWrappedLineContinuation","_lines","lines","allowZero","ViewModelLinesFromModelAsIs","_newTabSize","_fontInfo","_wrappingStrategy","_wrappingColumn","_wrappingIndent","lineText","injectedText","previousLineBreakData","_versionId","_minLineNumber","_maxLineNumber","activePosition","fill","getLineContent","getLineLength","getLineMinColumn","lineTokens","tokenization","getLineTokens","lineContent","inflate","max","idx"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/viewModel/viewModelLines.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from '../../../base/common/arrays.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { WrappingIndent } from '../config/editorOptions.js';\nimport { FontInfo } from '../config/fontInfo.js';\nimport { IPosition, Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { IModelDecoration, IModelDeltaDecoration, ITextModel, PositionAffinity } from '../model.js';\nimport { IActiveIndentGuideInfo, BracketGuideOptions, IndentGuide, IndentGuideHorizontalLine } from '../textModelGuides.js';\nimport { ModelDecorationOptions } from '../model/textModel.js';\nimport { LineInjectedText } from '../textModelEvents.js';\nimport * as viewEvents from '../viewEvents.js';\nimport { createModelLineProjection, IModelLineProjection } from './modelLineProjection.js';\nimport { ILineBreaksComputer, ModelLineProjectionData, InjectedText, ILineBreaksComputerFactory } from '../modelLineProjectionData.js';\nimport { ConstantTimePrefixSumComputer } from '../model/prefixSumComputer.js';\nimport { ViewLineData } from '../viewModel.js';\nimport { ICoordinatesConverter, IdentityCoordinatesConverter } from '../coordinatesConverter.js';\n\nexport interface IViewModelLines extends IDisposable {\n\tcreateCoordinatesConverter(): ICoordinatesConverter;\n\n\tsetWrappingSettings(fontInfo: FontInfo, wrappingStrategy: 'simple' | 'advanced', wrappingColumn: number, wrappingIndent: WrappingIndent, wordBreak: 'normal' | 'keepAll'): boolean;\n\tsetTabSize(newTabSize: number): boolean;\n\tgetHiddenAreas(): Range[];\n\tsetHiddenAreas(_ranges: readonly Range[]): boolean;\n\n\tcreateLineBreaksComputer(): ILineBreaksComputer;\n\tonModelFlushed(): void;\n\tonModelLinesDeleted(versionId: number | null, fromLineNumber: number, toLineNumber: number): viewEvents.ViewLinesDeletedEvent | null;\n\tonModelLinesInserted(versionId: number | null, fromLineNumber: number, toLineNumber: number, lineBreaks: (ModelLineProjectionData | null)[]): viewEvents.ViewLinesInsertedEvent | null;\n\tonModelLineChanged(versionId: number | null, lineNumber: number, lineBreakData: ModelLineProjectionData | null): [boolean, viewEvents.ViewLinesChangedEvent | null, viewEvents.ViewLinesInsertedEvent | null, viewEvents.ViewLinesDeletedEvent | null];\n\tacceptVersionId(versionId: number): void;\n\n\tgetViewLineCount(): number;\n\tgetActiveIndentGuide(viewLineNumber: number, minLineNumber: number, maxLineNumber: number): IActiveIndentGuideInfo;\n\tgetViewLinesIndentGuides(viewStartLineNumber: number, viewEndLineNumber: number): number[];\n\tgetViewLinesBracketGuides(startLineNumber: number, endLineNumber: number, activePosition: IPosition | null, options: BracketGuideOptions): IndentGuide[][];\n\tgetViewLineContent(viewLineNumber: number): string;\n\tgetViewLineLength(viewLineNumber: number): number;\n\tgetViewLineMinColumn(viewLineNumber: number): number;\n\tgetViewLineMaxColumn(viewLineNumber: number): number;\n\tgetViewLineData(viewLineNumber: number): ViewLineData;\n\tgetViewLinesData(viewStartLineNumber: number, viewEndLineNumber: number, needed: boolean[]): Array<ViewLineData | null>;\n\n\tgetDecorationsInRange(range: Range, ownerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, onlyMinimapDecorations: boolean, onlyMarginDecorations: boolean): IModelDecoration[];\n\n\tgetInjectedTextAt(viewPosition: Position): InjectedText | null;\n\n\tnormalizePosition(position: Position, affinity: PositionAffinity): Position;\n\t/**\n\t * Gets the column at which indentation stops at a given line.\n\t * @internal\n\t*/\n\tgetLineIndentColumn(lineNumber: number): number;\n}\n\nexport class ViewModelLinesFromProjectedModel implements IViewModelLines {\n\tprivate readonly _editorId: number;\n\tprivate readonly model: ITextModel;\n\tprivate _validModelVersionId: number;\n\n\tprivate readonly _domLineBreaksComputerFactory: ILineBreaksComputerFactory;\n\tprivate readonly _monospaceLineBreaksComputerFactory: ILineBreaksComputerFactory;\n\n\tprivate fontInfo: FontInfo;\n\tprivate tabSize: number;\n\tprivate wrappingColumn: number;\n\tprivate wrappingIndent: WrappingIndent;\n\tprivate wordBreak: 'normal' | 'keepAll';\n\tprivate wrappingStrategy: 'simple' | 'advanced';\n\tprivate wrapOnEscapedLineFeeds: boolean;\n\n\tprivate modelLineProjections!: IModelLineProjection[];\n\n\t/**\n\t * Reflects the sum of the line counts of all projected model lines.\n\t*/\n\tprivate projectedModelLineLineCounts!: ConstantTimePrefixSumComputer;\n\n\tprivate hiddenAreasDecorationIds!: string[];\n\n\tconstructor(\n\t\teditorId: number,\n\t\tmodel: ITextModel,\n\t\tdomLineBreaksComputerFactory: ILineBreaksComputerFactory,\n\t\tmonospaceLineBreaksComputerFactory: ILineBreaksComputerFactory,\n\t\tfontInfo: FontInfo,\n\t\ttabSize: number,\n\t\twrappingStrategy: 'simple' | 'advanced',\n\t\twrappingColumn: number,\n\t\twrappingIndent: WrappingIndent,\n\t\twordBreak: 'normal' | 'keepAll',\n\t\twrapOnEscapedLineFeeds: boolean\n\t) {\n\t\tthis._editorId = editorId;\n\t\tthis.model = model;\n\t\tthis._validModelVersionId = -1;\n\t\tthis._domLineBreaksComputerFactory = domLineBreaksComputerFactory;\n\t\tthis._monospaceLineBreaksComputerFactory = monospaceLineBreaksComputerFactory;\n\t\tthis.fontInfo = fontInfo;\n\t\tthis.tabSize = tabSize;\n\t\tthis.wrappingStrategy = wrappingStrategy;\n\t\tthis.wrappingColumn = wrappingColumn;\n\t\tthis.wrappingIndent = wrappingIndent;\n\t\tthis.wordBreak = wordBreak;\n\t\tthis.wrapOnEscapedLineFeeds = wrapOnEscapedLineFeeds;\n\n\t\tthis._constructLines(/*resetHiddenAreas*/true, null);\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.hiddenAreasDecorationIds = this.model.deltaDecorations(this.hiddenAreasDecorationIds, []);\n\t}\n\n\tpublic createCoordinatesConverter(): ICoordinatesConverter {\n\t\treturn new CoordinatesConverter(this);\n\t}\n\n\tprivate _constructLines(resetHiddenAreas: boolean, previousLineBreaks: ((ModelLineProjectionData | null)[]) | null): void {\n\t\tthis.modelLineProjections = [];\n\n\t\tif (resetHiddenAreas) {\n\t\t\tthis.hiddenAreasDecorationIds = this.model.deltaDecorations(this.hiddenAreasDecorationIds, []);\n\t\t}\n\n\t\tconst linesContent = this.model.getLinesContent();\n\t\tconst injectedTextDecorations = this.model.getInjectedTextDecorations(this._editorId);\n\t\tconst lineCount = linesContent.length;\n\t\tconst lineBreaksComputer = this.createLineBreaksComputer();\n\n\t\tconst injectedTextQueue = new arrays.ArrayQueue(LineInjectedText.fromDecorations(injectedTextDecorations));\n\t\tfor (let i = 0; i < lineCount; i++) {\n\t\t\tconst lineInjectedText = injectedTextQueue.takeWhile(t => t.lineNumber === i + 1);\n\t\t\tlineBreaksComputer.addRequest(linesContent[i], lineInjectedText, previousLineBreaks ? previousLineBreaks[i] : null);\n\t\t}\n\t\tconst linesBreaks = lineBreaksComputer.finalize();\n\n\t\tconst values: number[] = [];\n\n\t\tconst hiddenAreas = this.hiddenAreasDecorationIds.map((areaId) => this.model.getDecorationRange(areaId)!).sort(Range.compareRangesUsingStarts);\n\t\tlet hiddenAreaStart = 1, hiddenAreaEnd = 0;\n\t\tlet hiddenAreaIdx = -1;\n\t\tlet nextLineNumberToUpdateHiddenArea = (hiddenAreaIdx + 1 < hiddenAreas.length) ? hiddenAreaEnd + 1 : lineCount + 2;\n\n\t\tfor (let i = 0; i < lineCount; i++) {\n\t\t\tconst lineNumber = i + 1;\n\n\t\t\tif (lineNumber === nextLineNumberToUpdateHiddenArea) {\n\t\t\t\thiddenAreaIdx++;\n\t\t\t\thiddenAreaStart = hiddenAreas[hiddenAreaIdx].startLineNumber;\n\t\t\t\thiddenAreaEnd = hiddenAreas[hiddenAreaIdx].endLineNumber;\n\t\t\t\tnextLineNumberToUpdateHiddenArea = (hiddenAreaIdx + 1 < hiddenAreas.length) ? hiddenAreaEnd + 1 : lineCount + 2;\n\t\t\t}\n\n\t\t\tconst isInHiddenArea = (lineNumber >= hiddenAreaStart && lineNumber <= hiddenAreaEnd);\n\t\t\tconst line = createModelLineProjection(linesBreaks[i], !isInHiddenArea);\n\t\t\tvalues[i] = line.getViewLineCount();\n\t\t\tthis.modelLineProjections[i] = line;\n\t\t}\n\n\t\tthis._validModelVersionId = this.model.getVersionId();\n\n\t\tthis.projectedModelLineLineCounts = new ConstantTimePrefixSumComputer(values);\n\t}\n\n\tpublic getHiddenAreas(): Range[] {\n\t\treturn this.hiddenAreasDecorationIds.map(\n\t\t\t(decId) => this.model.getDecorationRange(decId)!\n\t\t);\n\t}\n\n\tpublic setHiddenAreas(_ranges: Range[]): boolean {\n\t\tconst validatedRanges = _ranges.map(r => this.model.validateRange(r));\n\t\tconst newRanges = normalizeLineRanges(validatedRanges);\n\n\t\t// TODO@Martin: Please stop calling this method on each model change!\n\n\t\t// This checks if there really was a change\n\t\tconst oldRanges = this.hiddenAreasDecorationIds.map((areaId) => this.model.getDecorationRange(areaId)!).sort(Range.compareRangesUsingStarts);\n\t\tif (newRanges.length === oldRanges.length) {\n\t\t\tlet hasDifference = false;\n\t\t\tfor (let i = 0; i < newRanges.length; i++) {\n\t\t\t\tif (!newRanges[i].equalsRange(oldRanges[i])) {\n\t\t\t\t\thasDifference = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!hasDifference) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tconst newDecorations = newRanges.map<IModelDeltaDecoration>(\n\t\t\t(r) =>\n\t\t\t({\n\t\t\t\trange: r,\n\t\t\t\toptions: ModelDecorationOptions.EMPTY,\n\t\t\t})\n\t\t);\n\n\t\tthis.hiddenAreasDecorationIds = this.model.deltaDecorations(this.hiddenAreasDecorationIds, newDecorations);\n\n\t\tconst hiddenAreas = newRanges;\n\t\tlet hiddenAreaStart = 1, hiddenAreaEnd = 0;\n\t\tlet hiddenAreaIdx = -1;\n\t\tlet nextLineNumberToUpdateHiddenArea = (hiddenAreaIdx + 1 < hiddenAreas.length) ? hiddenAreaEnd + 1 : this.modelLineProjections.length + 2;\n\n\t\tlet hasVisibleLine = false;\n\t\tfor (let i = 0; i < this.modelLineProjections.length; i++) {\n\t\t\tconst lineNumber = i + 1;\n\n\t\t\tif (lineNumber === nextLineNumberToUpdateHiddenArea) {\n\t\t\t\thiddenAreaIdx++;\n\t\t\t\thiddenAreaStart = hiddenAreas[hiddenAreaIdx].startLineNumber;\n\t\t\t\thiddenAreaEnd = hiddenAreas[hiddenAreaIdx].endLineNumber;\n\t\t\t\tnextLineNumberToUpdateHiddenArea = (hiddenAreaIdx + 1 < hiddenAreas.length) ? hiddenAreaEnd + 1 : this.modelLineProjections.length + 2;\n\t\t\t}\n\n\t\t\tlet lineChanged = false;\n\t\t\tif (lineNumber >= hiddenAreaStart && lineNumber <= hiddenAreaEnd) {\n\t\t\t\t// Line should be hidden\n\t\t\t\tif (this.modelLineProjections[i].isVisible()) {\n\t\t\t\t\tthis.modelLineProjections[i] = this.modelLineProjections[i].setVisible(false);\n\t\t\t\t\tlineChanged = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thasVisibleLine = true;\n\t\t\t\t// Line should be visible\n\t\t\t\tif (!this.modelLineProjections[i].isVisible()) {\n\t\t\t\t\tthis.modelLineProjections[i] = this.modelLineProjections[i].setVisible(true);\n\t\t\t\t\tlineChanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (lineChanged) {\n\t\t\t\tconst newOutputLineCount = this.modelLineProjections[i].getViewLineCount();\n\t\t\t\tthis.projectedModelLineLineCounts.setValue(i, newOutputLineCount);\n\t\t\t}\n\t\t}\n\n\t\tif (!hasVisibleLine) {\n\t\t\t// Cannot have everything be hidden => reveal everything!\n\t\t\tthis.setHiddenAreas([]);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic modelPositionIsVisible(modelLineNumber: number, _modelColumn: number): boolean {\n\t\tif (modelLineNumber < 1 || modelLineNumber > this.modelLineProjections.length) {\n\t\t\t// invalid arguments\n\t\t\treturn false;\n\t\t}\n\t\treturn this.modelLineProjections[modelLineNumber - 1].isVisible();\n\t}\n\n\tpublic getModelLineViewLineCount(modelLineNumber: number): number {\n\t\tif (modelLineNumber < 1 || modelLineNumber > this.modelLineProjections.length) {\n\t\t\t// invalid arguments\n\t\t\treturn 1;\n\t\t}\n\t\treturn this.modelLineProjections[modelLineNumber - 1].getViewLineCount();\n\t}\n\n\tpublic setTabSize(newTabSize: number): boolean {\n\t\tif (this.tabSize === newTabSize) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.tabSize = newTabSize;\n\n\t\tthis._constructLines(/*resetHiddenAreas*/false, null);\n\n\t\treturn true;\n\t}\n\n\tpublic setWrappingSettings(fontInfo: FontInfo, wrappingStrategy: 'simple' | 'advanced', wrappingColumn: number, wrappingIndent: WrappingIndent, wordBreak: 'normal' | 'keepAll'): boolean {\n\t\tconst equalFontInfo = this.fontInfo.equals(fontInfo);\n\t\tconst equalWrappingStrategy = (this.wrappingStrategy === wrappingStrategy);\n\t\tconst equalWrappingColumn = (this.wrappingColumn === wrappingColumn);\n\t\tconst equalWrappingIndent = (this.wrappingIndent === wrappingIndent);\n\t\tconst equalWordBreak = (this.wordBreak === wordBreak);\n\t\tif (equalFontInfo && equalWrappingStrategy && equalWrappingColumn && equalWrappingIndent && equalWordBreak) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst onlyWrappingColumnChanged = (equalFontInfo && equalWrappingStrategy && !equalWrappingColumn && equalWrappingIndent && equalWordBreak);\n\n\t\tthis.fontInfo = fontInfo;\n\t\tthis.wrappingStrategy = wrappingStrategy;\n\t\tthis.wrappingColumn = wrappingColumn;\n\t\tthis.wrappingIndent = wrappingIndent;\n\t\tthis.wordBreak = wordBreak;\n\n\t\tlet previousLineBreaks: ((ModelLineProjectionData | null)[]) | null = null;\n\t\tif (onlyWrappingColumnChanged) {\n\t\t\tpreviousLineBreaks = [];\n\t\t\tfor (let i = 0, len = this.modelLineProjections.length; i < len; i++) {\n\t\t\t\tpreviousLineBreaks[i] = this.modelLineProjections[i].getProjectionData();\n\t\t\t}\n\t\t}\n\n\t\tthis._constructLines(/*resetHiddenAreas*/false, previousLineBreaks);\n\n\t\treturn true;\n\t}\n\n\tpublic createLineBreaksComputer(): ILineBreaksComputer {\n\t\tconst lineBreaksComputerFactory = (\n\t\t\tthis.wrappingStrategy === 'advanced'\n\t\t\t\t? this._domLineBreaksComputerFactory\n\t\t\t\t: this._monospaceLineBreaksComputerFactory\n\t\t);\n\t\treturn lineBreaksComputerFactory.createLineBreaksComputer(this.fontInfo, this.tabSize, this.wrappingColumn, this.wrappingIndent, this.wordBreak, this.wrapOnEscapedLineFeeds);\n\t}\n\n\tpublic onModelFlushed(): void {\n\t\tthis._constructLines(/*resetHiddenAreas*/true, null);\n\t}\n\n\tpublic onModelLinesDeleted(versionId: number | null, fromLineNumber: number, toLineNumber: number): viewEvents.ViewLinesDeletedEvent | null {\n\t\tif (!versionId || versionId <= this._validModelVersionId) {\n\t\t\t// Here we check for versionId in case the lines were reconstructed in the meantime.\n\t\t\t// We don't want to apply stale change events on top of a newer read model state.\n\t\t\treturn null;\n\t\t}\n\n\t\tconst outputFromLineNumber = (fromLineNumber === 1 ? 1 : this.projectedModelLineLineCounts.getPrefixSum(fromLineNumber - 1) + 1);\n\t\tconst outputToLineNumber = this.projectedModelLineLineCounts.getPrefixSum(toLineNumber);\n\n\t\tthis.modelLineProjections.splice(fromLineNumber - 1, toLineNumber - fromLineNumber + 1);\n\t\tthis.projectedModelLineLineCounts.removeValues(fromLineNumber - 1, toLineNumber - fromLineNumber + 1);\n\n\t\treturn new viewEvents.ViewLinesDeletedEvent(outputFromLineNumber, outputToLineNumber);\n\t}\n\n\tpublic onModelLinesInserted(versionId: number | null, fromLineNumber: number, _toLineNumber: number, lineBreaks: (ModelLineProjectionData | null)[]): viewEvents.ViewLinesInsertedEvent | null {\n\t\tif (!versionId || versionId <= this._validModelVersionId) {\n\t\t\t// Here we check for versionId in case the lines were reconstructed in the meantime.\n\t\t\t// We don't want to apply stale change events on top of a newer read model state.\n\t\t\treturn null;\n\t\t}\n\n\t\t// cannot use this.getHiddenAreas() because those decorations have already seen the effect of this model change\n\t\tconst isInHiddenArea = (fromLineNumber > 2 && !this.modelLineProjections[fromLineNumber - 2].isVisible());\n\n\t\tconst outputFromLineNumber = (fromLineNumber === 1 ? 1 : this.projectedModelLineLineCounts.getPrefixSum(fromLineNumber - 1) + 1);\n\n\t\tlet totalOutputLineCount = 0;\n\t\tconst insertLines: IModelLineProjection[] = [];\n\t\tconst insertPrefixSumValues: number[] = [];\n\n\t\tfor (let i = 0, len = lineBreaks.length; i < len; i++) {\n\t\t\tconst line = createModelLineProjection(lineBreaks[i], !isInHiddenArea);\n\t\t\tinsertLines.push(line);\n\n\t\t\tconst outputLineCount = line.getViewLineCount();\n\t\t\ttotalOutputLineCount += outputLineCount;\n\t\t\tinsertPrefixSumValues[i] = outputLineCount;\n\t\t}\n\n\t\t// TODO@Alex: use arrays.arrayInsert\n\t\tthis.modelLineProjections =\n\t\t\tthis.modelLineProjections.slice(0, fromLineNumber - 1)\n\t\t\t\t.concat(insertLines)\n\t\t\t\t.concat(this.modelLineProjections.slice(fromLineNumber - 1));\n\n\t\tthis.projectedModelLineLineCounts.insertValues(fromLineNumber - 1, insertPrefixSumValues);\n\n\t\treturn new viewEvents.ViewLinesInsertedEvent(outputFromLineNumber, outputFromLineNumber + totalOutputLineCount - 1);\n\t}\n\n\tpublic onModelLineChanged(versionId: number | null, lineNumber: number, lineBreakData: ModelLineProjectionData | null): [boolean, viewEvents.ViewLinesChangedEvent | null, viewEvents.ViewLinesInsertedEvent | null, viewEvents.ViewLinesDeletedEvent | null] {\n\t\tif (versionId !== null && versionId <= this._validModelVersionId) {\n\t\t\t// Here we check for versionId in case the lines were reconstructed in the meantime.\n\t\t\t// We don't want to apply stale change events on top of a newer read model state.\n\t\t\treturn [false, null, null, null];\n\t\t}\n\n\t\tconst lineIndex = lineNumber - 1;\n\n\t\tconst oldOutputLineCount = this.modelLineProjections[lineIndex].getViewLineCount();\n\t\tconst isVisible = this.modelLineProjections[lineIndex].isVisible();\n\t\tconst line = createModelLineProjection(lineBreakData, isVisible);\n\t\tthis.modelLineProjections[lineIndex] = line;\n\t\tconst newOutputLineCount = this.modelLineProjections[lineIndex].getViewLineCount();\n\n\t\tlet lineMappingChanged = false;\n\t\tlet changeFrom = 0;\n\t\tlet changeTo = -1;\n\t\tlet insertFrom = 0;\n\t\tlet insertTo = -1;\n\t\tlet deleteFrom = 0;\n\t\tlet deleteTo = -1;\n\n\t\tif (oldOutputLineCount > newOutputLineCount) {\n\t\t\tchangeFrom = this.projectedModelLineLineCounts.getPrefixSum(lineNumber - 1) + 1;\n\t\t\tchangeTo = changeFrom + newOutputLineCount - 1;\n\t\t\tdeleteFrom = changeTo + 1;\n\t\t\tdeleteTo = deleteFrom + (oldOutputLineCount - newOutputLineCount) - 1;\n\t\t\tlineMappingChanged = true;\n\t\t} else if (oldOutputLineCount < newOutputLineCount) {\n\t\t\tchangeFrom = this.projectedModelLineLineCounts.getPrefixSum(lineNumber - 1) + 1;\n\t\t\tchangeTo = changeFrom + oldOutputLineCount - 1;\n\t\t\tinsertFrom = changeTo + 1;\n\t\t\tinsertTo = insertFrom + (newOutputLineCount - oldOutputLineCount) - 1;\n\t\t\tlineMappingChanged = true;\n\t\t} else {\n\t\t\tchangeFrom = this.projectedModelLineLineCounts.getPrefixSum(lineNumber - 1) + 1;\n\t\t\tchangeTo = changeFrom + newOutputLineCount - 1;\n\t\t}\n\n\t\tthis.projectedModelLineLineCounts.setValue(lineIndex, newOutputLineCount);\n\n\t\tconst viewLinesChangedEvent = (changeFrom <= changeTo ? new viewEvents.ViewLinesChangedEvent(changeFrom, changeTo - changeFrom + 1) : null);\n\t\tconst viewLinesInsertedEvent = (insertFrom <= insertTo ? new viewEvents.ViewLinesInsertedEvent(insertFrom, insertTo) : null);\n\t\tconst viewLinesDeletedEvent = (deleteFrom <= deleteTo ? new viewEvents.ViewLinesDeletedEvent(deleteFrom, deleteTo) : null);\n\n\t\treturn [lineMappingChanged, viewLinesChangedEvent, viewLinesInsertedEvent, viewLinesDeletedEvent];\n\t}\n\n\tpublic acceptVersionId(versionId: number): void {\n\t\tthis._validModelVersionId = versionId;\n\t\tif (this.modelLineProjections.length === 1 && !this.modelLineProjections[0].isVisible()) {\n\t\t\t// At least one line must be visible => reset hidden areas\n\t\t\tthis.setHiddenAreas([]);\n\t\t}\n\t}\n\n\tpublic getViewLineCount(): number {\n\t\treturn this.projectedModelLineLineCounts.getTotalSum();\n\t}\n\n\tprivate _toValidViewLineNumber(viewLineNumber: number): number {\n\t\tif (viewLineNumber < 1) {\n\t\t\treturn 1;\n\t\t}\n\t\tconst viewLineCount = this.getViewLineCount();\n\t\tif (viewLineNumber > viewLineCount) {\n\t\t\treturn viewLineCount;\n\t\t}\n\t\treturn viewLineNumber | 0;\n\t}\n\n\tpublic getActiveIndentGuide(viewLineNumber: number, minLineNumber: number, maxLineNumber: number): IActiveIndentGuideInfo {\n\t\tviewLineNumber = this._toValidViewLineNumber(viewLineNumber);\n\t\tminLineNumber = this._toValidViewLineNumber(minLineNumber);\n\t\tmaxLineNumber = this._toValidViewLineNumber(maxLineNumber);\n\n\t\tconst modelPosition = this.convertViewPositionToModelPosition(viewLineNumber, this.getViewLineMinColumn(viewLineNumber));\n\t\tconst modelMinPosition = this.convertViewPositionToModelPosition(minLineNumber, this.getViewLineMinColumn(minLineNumber));\n\t\tconst modelMaxPosition = this.convertViewPositionToModelPosition(maxLineNumber, this.getViewLineMinColumn(maxLineNumber));\n\t\tconst result = this.model.guides.getActiveIndentGuide(modelPosition.lineNumber, modelMinPosition.lineNumber, modelMaxPosition.lineNumber);\n\n\t\tconst viewStartPosition = this.convertModelPositionToViewPosition(result.startLineNumber, 1);\n\t\tconst viewEndPosition = this.convertModelPositionToViewPosition(result.endLineNumber, this.model.getLineMaxColumn(result.endLineNumber));\n\t\treturn {\n\t\t\tstartLineNumber: viewStartPosition.lineNumber,\n\t\t\tendLineNumber: viewEndPosition.lineNumber,\n\t\t\tindent: result.indent\n\t\t};\n\t}\n\n\t// #region ViewLineInfo\n\n\tprivate getViewLineInfo(viewLineNumber: number): ViewLineInfo {\n\t\tviewLineNumber = this._toValidViewLineNumber(viewLineNumber);\n\t\tconst r = this.projectedModelLineLineCounts.getIndexOf(viewLineNumber - 1);\n\t\tconst lineIndex = r.index;\n\t\tconst remainder = r.remainder;\n\t\treturn new ViewLineInfo(lineIndex + 1, remainder);\n\t}\n\n\tprivate getMinColumnOfViewLine(viewLineInfo: ViewLineInfo): number {\n\t\treturn this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewLineMinColumn(\n\t\t\tthis.model,\n\t\t\tviewLineInfo.modelLineNumber,\n\t\t\tviewLineInfo.modelLineWrappedLineIdx\n\t\t);\n\t}\n\n\tprivate getMaxColumnOfViewLine(viewLineInfo: ViewLineInfo): number {\n\t\treturn this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewLineMaxColumn(\n\t\t\tthis.model,\n\t\t\tviewLineInfo.modelLineNumber,\n\t\t\tviewLineInfo.modelLineWrappedLineIdx\n\t\t);\n\t}\n\n\tprivate getModelStartPositionOfViewLine(viewLineInfo: ViewLineInfo): Position {\n\t\tconst line = this.modelLineProjections[viewLineInfo.modelLineNumber - 1];\n\t\tconst minViewColumn = line.getViewLineMinColumn(\n\t\t\tthis.model,\n\t\t\tviewLineInfo.modelLineNumber,\n\t\t\tviewLineInfo.modelLineWrappedLineIdx\n\t\t);\n\t\tconst column = line.getModelColumnOfViewPosition(\n\t\t\tviewLineInfo.modelLineWrappedLineIdx,\n\t\t\tminViewColumn\n\t\t);\n\t\treturn new Position(viewLineInfo.modelLineNumber, column);\n\t}\n\n\tprivate getModelEndPositionOfViewLine(viewLineInfo: ViewLineInfo): Position {\n\t\tconst line = this.modelLineProjections[viewLineInfo.modelLineNumber - 1];\n\t\tconst maxViewColumn = line.getViewLineMaxColumn(\n\t\t\tthis.model,\n\t\t\tviewLineInfo.modelLineNumber,\n\t\t\tviewLineInfo.modelLineWrappedLineIdx\n\t\t);\n\t\tconst column = line.getModelColumnOfViewPosition(\n\t\t\tviewLineInfo.modelLineWrappedLineIdx,\n\t\t\tmaxViewColumn\n\t\t);\n\t\treturn new Position(viewLineInfo.modelLineNumber, column);\n\t}\n\n\tprivate getViewLineInfosGroupedByModelRanges(viewStartLineNumber: number, viewEndLineNumber: number): ViewLineInfoGroupedByModelRange[] {\n\t\tconst startViewLine = this.getViewLineInfo(viewStartLineNumber);\n\t\tconst endViewLine = this.getViewLineInfo(viewEndLineNumber);\n\n\t\tconst result = new Array<ViewLineInfoGroupedByModelRange>();\n\t\tlet lastVisibleModelPos: Position | null = this.getModelStartPositionOfViewLine(startViewLine);\n\t\tlet viewLines = new Array<ViewLineInfo>();\n\n\t\tfor (let curModelLine = startViewLine.modelLineNumber; curModelLine <= endViewLine.modelLineNumber; curModelLine++) {\n\t\t\tconst line = this.modelLineProjections[curModelLine - 1];\n\n\t\t\tif (line.isVisible()) {\n\t\t\t\tconst startOffset =\n\t\t\t\t\tcurModelLine === startViewLine.modelLineNumber\n\t\t\t\t\t\t? startViewLine.modelLineWrappedLineIdx\n\t\t\t\t\t\t: 0;\n\n\t\t\t\tconst endOffset =\n\t\t\t\t\tcurModelLine === endViewLine.modelLineNumber\n\t\t\t\t\t\t? endViewLine.modelLineWrappedLineIdx + 1\n\t\t\t\t\t\t: line.getViewLineCount();\n\n\t\t\t\tfor (let i = startOffset; i < endOffset; i++) {\n\t\t\t\t\tviewLines.push(new ViewLineInfo(curModelLine, i));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.isVisible() && lastVisibleModelPos) {\n\t\t\t\tconst lastVisibleModelPos2 = new Position(curModelLine - 1, this.model.getLineMaxColumn(curModelLine - 1) + 1);\n\n\t\t\t\tconst modelRange = Range.fromPositions(lastVisibleModelPos, lastVisibleModelPos2);\n\t\t\t\tresult.push(new ViewLineInfoGroupedByModelRange(modelRange, viewLines));\n\t\t\t\tviewLines = [];\n\n\t\t\t\tlastVisibleModelPos = null;\n\t\t\t} else if (line.isVisible() && !lastVisibleModelPos) {\n\t\t\t\tlastVisibleModelPos = new Position(curModelLine, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (lastVisibleModelPos) {\n\t\t\tconst modelRange = Range.fromPositions(lastVisibleModelPos, this.getModelEndPositionOfViewLine(endViewLine));\n\t\t\tresult.push(new ViewLineInfoGroupedByModelRange(modelRange, viewLines));\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t// #endregion\n\n\tpublic getViewLinesBracketGuides(viewStartLineNumber: number, viewEndLineNumber: number, activeViewPosition: IPosition | null, options: BracketGuideOptions): IndentGuide[][] {\n\t\tconst modelActivePosition = activeViewPosition ? this.convertViewPositionToModelPosition(activeViewPosition.lineNumber, activeViewPosition.column) : null;\n\t\tconst resultPerViewLine: IndentGuide[][] = [];\n\n\t\tfor (const group of this.getViewLineInfosGroupedByModelRanges(viewStartLineNumber, viewEndLineNumber)) {\n\t\t\tconst modelRangeStartLineNumber = group.modelRange.startLineNumber;\n\n\t\t\tconst bracketGuidesPerModelLine = this.model.guides.getLinesBracketGuides(\n\t\t\t\tmodelRangeStartLineNumber,\n\t\t\t\tgroup.modelRange.endLineNumber,\n\t\t\t\tmodelActivePosition,\n\t\t\t\toptions\n\t\t\t);\n\n\t\t\tfor (const viewLineInfo of group.viewLines) {\n\n\t\t\t\tconst bracketGuides = bracketGuidesPerModelLine[viewLineInfo.modelLineNumber - modelRangeStartLineNumber];\n\n\t\t\t\t// visibleColumns stay as they are (this is a bug and needs to be fixed, but it is not a regression)\n\t\t\t\t// model-columns must be converted to view-model columns.\n\t\t\t\tconst result = bracketGuides.map(g => {\n\t\t\t\t\tif (g.forWrappedLinesAfterColumn !== -1) {\n\t\t\t\t\t\tconst p = this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewPositionOfModelPosition(0, g.forWrappedLinesAfterColumn);\n\t\t\t\t\t\tif (p.lineNumber >= viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (g.forWrappedLinesBeforeOrAtColumn !== -1) {\n\t\t\t\t\t\tconst p = this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewPositionOfModelPosition(0, g.forWrappedLinesBeforeOrAtColumn);\n\t\t\t\t\t\tif (p.lineNumber < viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!g.horizontalLine) {\n\t\t\t\t\t\treturn g;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet column = -1;\n\t\t\t\t\tif (g.column !== -1) {\n\t\t\t\t\t\tconst p = this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewPositionOfModelPosition(0, g.column);\n\t\t\t\t\t\tif (p.lineNumber === viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\t\tcolumn = p.column;\n\t\t\t\t\t\t} else if (p.lineNumber < viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\t\tcolumn = this.getMinColumnOfViewLine(viewLineInfo);\n\t\t\t\t\t\t} else if (p.lineNumber > viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst viewPosition = this.convertModelPositionToViewPosition(viewLineInfo.modelLineNumber, g.horizontalLine.endColumn);\n\t\t\t\t\tconst p = this.modelLineProjections[viewLineInfo.modelLineNumber - 1].getViewPositionOfModelPosition(0, g.horizontalLine.endColumn);\n\t\t\t\t\tif (p.lineNumber === viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\treturn new IndentGuide(g.visibleColumn, column, g.className,\n\t\t\t\t\t\t\tnew IndentGuideHorizontalLine(g.horizontalLine.top,\n\t\t\t\t\t\t\t\tviewPosition.column),\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (p.lineNumber < viewLineInfo.modelLineWrappedLineIdx) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (g.visibleColumn !== -1) {\n\t\t\t\t\t\t\t// Don't repeat horizontal lines that use visibleColumn for unrelated lines.\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn new IndentGuide(g.visibleColumn, column, g.className,\n\t\t\t\t\t\t\tnew IndentGuideHorizontalLine(g.horizontalLine.top,\n\t\t\t\t\t\t\t\tthis.getMaxColumnOfViewLine(viewLineInfo)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t\t-1,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresultPerViewLine.push(result.filter((r): r is IndentGuide => !!r));\n\n\t\t\t}\n\t\t}\n\n\t\treturn resultPerViewLine;\n\t}\n\n\tpublic getViewLinesIndentGuides(viewStartLineNumber: number, viewEndLineNumber: number): number[] {\n\t\t// TODO: Use the same code as in `getViewLinesBracketGuides`.\n\t\t// Future TODO: Merge with `getViewLinesBracketGuides`.\n\t\t// However, this requires more refactoring of indent guides.\n\t\tviewStartLineNumber = this._toValidViewLineNumber(viewStartLineNumber);\n\t\tviewEndLineNumber = this._toValidViewLineNumber(viewEndLineNumber);\n\n\t\tconst modelStart = this.convertViewPositionToModelPosition(viewStartLineNumber, this.getViewLineMinColumn(viewStartLineNumber));\n\t\tconst modelEnd = this.convertViewPositionToModelPosition(viewEndLineNumber, this.getViewLineMaxColumn(viewEndLineNumber));\n\n\t\tlet result: number[] = [];\n\t\tconst resultRepeatCount: number[] = [];\n\t\tconst resultRepeatOption: IndentGuideRepeatOption[] = [];\n\t\tconst modelStartLineIndex = modelStart.lineNumber - 1;\n\t\tconst modelEndLineIndex = modelEnd.lineNumber - 1;\n\n\t\tlet reqStart: Position | null = null;\n\t\tfor (let modelLineIndex = modelStartLineIndex; modelLineIndex <= modelEndLineIndex; modelLineIndex++) {\n\t\t\tconst line = this.modelLineProjections[modelLineIndex];\n\t\t\tif (line.isVisible()) {\n\t\t\t\tconst viewLineStartIndex = line.getViewLineNumberOfModelPosition(0, modelLineIndex === modelStartLineIndex ? modelStart.column : 1);\n\t\t\t\tconst viewLineEndIndex = line.getViewLineNumberOfModelPosition(0, this.model.getLineMaxColumn(modelLineIndex + 1));\n\t\t\t\tconst count = viewLineEndIndex - viewLineStartIndex + 1;\n\t\t\t\tlet option = IndentGuideRepeatOption.BlockNone;\n\t\t\t\tif (count > 1 && line.getViewLineMinColumn(this.model, modelLineIndex + 1, viewLineEndIndex) === 1) {\n\t\t\t\t\t// wrapped lines should block indent guides\n\t\t\t\t\toption = (viewLineStartIndex === 0 ? IndentGuideRepeatOption.BlockSubsequent : IndentGuideRepeatOption.BlockAll);\n\t\t\t\t}\n\t\t\t\tresultRepeatCount.push(count);\n\t\t\t\tresultRepeatOption.push(option);\n\t\t\t\t// merge into previous request\n\t\t\t\tif (reqStart === null) {\n\t\t\t\t\treqStart = new Position(modelLineIndex + 1, 0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// hit invisible line => flush request\n\t\t\t\tif (reqStart !== null) {\n\t\t\t\t\tresult = result.concat(this.model.guides.getLinesIndentGuides(reqStart.lineNumber, modelLineIndex));\n\t\t\t\t\treqStart = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (reqStart !== null) {\n\t\t\tresult = result.concat(this.model.guides.getLinesIndentGuides(reqStart.lineNumber, modelEnd.lineNumber));\n\t\t\treqStart = null;\n\t\t}\n\n\t\tconst viewLineCount = viewEndLineNumber - viewStartLineNumber + 1;\n\t\tconst viewIndents = new Array<number>(viewLineCount);\n\t\tlet currIndex = 0;\n\t\tfor (let i = 0, len = result.length; i < len; i++) {\n\t\t\tlet value = result[i];\n\t\t\tconst count = Math.min(viewLineCount - currIndex, resultRepeatCount[i]);\n\t\t\tconst option = resultRepeatOption[i];\n\t\t\tlet blockAtIndex: number;\n\t\t\tif (option === IndentGuideRepeatOption.BlockAll) {\n\t\t\t\tblockAtIndex = 0;\n\t\t\t} else if (option === IndentGuideRepeatOption.BlockSubsequent) {\n\t\t\t\tblockAtIndex = 1;\n\t\t\t} else {\n\t\t\t\tblockAtIndex = count;\n\t\t\t}\n\t\t\tfor (let j = 0; j < count; j++) {\n\t\t\t\tif (j === blockAtIndex) {\n\t\t\t\t\tvalue = 0;\n\t\t\t\t}\n\t\t\t\tviewIndents[currIndex++] = value;\n\t\t\t}\n\t\t}\n\t\treturn viewIndents;\n\t}\n\n\tpublic getViewLineContent(viewLineNumber: number): string {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getViewLineContent(this.model, info.modelLineNumber, info.modelLineWrappedLineIdx);\n\t}\n\n\tpublic getViewLineLength(viewLineNumber: number): number {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getViewLineLength(this.model, info.modelLineNumber, info.modelLineWrappedLineIdx);\n\t}\n\n\tpublic getViewLineMinColumn(viewLineNumber: number): number {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getViewLineMinColumn(this.model, info.modelLineNumber, info.modelLineWrappedLineIdx);\n\t}\n\n\tpublic getViewLineMaxColumn(viewLineNumber: number): number {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getViewLineMaxColumn(this.model, info.modelLineNumber, info.modelLineWrappedLineIdx);\n\t}\n\n\tpublic getViewLineData(viewLineNumber: number): ViewLineData {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getViewLineData(this.model, info.modelLineNumber, info.modelLineWrappedLineIdx);\n\t}\n\n\tpublic getViewLinesData(viewStartLineNumber: number, viewEndLineNumber: number, needed: boolean[]): ViewLineData[] {\n\n\t\tviewStartLineNumber = this._toValidViewLineNumber(viewStartLineNumber);\n\t\tviewEndLineNumber = this._toValidViewLineNumber(viewEndLineNumber);\n\n\t\tconst start = this.projectedModelLineLineCounts.getIndexOf(viewStartLineNumber - 1);\n\t\tlet viewLineNumber = viewStartLineNumber;\n\t\tconst startModelLineIndex = start.index;\n\t\tconst startRemainder = start.remainder;\n\n\t\tconst result: ViewLineData[] = [];\n\t\tfor (let modelLineIndex = startModelLineIndex, len = this.model.getLineCount(); modelLineIndex < len; modelLineIndex++) {\n\t\t\tconst line = this.modelLineProjections[modelLineIndex];\n\t\t\tif (!line.isVisible()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst fromViewLineIndex = (modelLineIndex === startModelLineIndex ? startRemainder : 0);\n\t\t\tlet remainingViewLineCount = line.getViewLineCount() - fromViewLineIndex;\n\n\t\t\tlet lastLine = false;\n\t\t\tif (viewLineNumber + remainingViewLineCount > viewEndLineNumber) {\n\t\t\t\tlastLine = true;\n\t\t\t\tremainingViewLineCount = viewEndLineNumber - viewLineNumber + 1;\n\t\t\t}\n\n\t\t\tline.getViewLinesData(this.model, modelLineIndex + 1, fromViewLineIndex, remainingViewLineCount, viewLineNumber - viewStartLineNumber, needed, result);\n\n\t\t\tviewLineNumber += remainingViewLineCount;\n\n\t\t\tif (lastLine) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic validateViewPosition(viewLineNumber: number, viewColumn: number, expectedModelPosition: Position): Position {\n\t\tviewLineNumber = this._toValidViewLineNumber(viewLineNumber);\n\n\t\tconst r = this.projectedModelLineLineCounts.getIndexOf(viewLineNumber - 1);\n\t\tconst lineIndex = r.index;\n\t\tconst remainder = r.remainder;\n\n\t\tconst line = this.modelLineProjections[lineIndex];\n\n\t\tconst minColumn = line.getViewLineMinColumn(this.model, lineIndex + 1, remainder);\n\t\tconst maxColumn = line.getViewLineMaxColumn(this.model, lineIndex + 1, remainder);\n\t\tif (viewColumn < minColumn) {\n\t\t\tviewColumn = minColumn;\n\t\t}\n\t\tif (viewColumn > maxColumn) {\n\t\t\tviewColumn = maxColumn;\n\t\t}\n\n\t\tconst computedModelColumn = line.getModelColumnOfViewPosition(remainder, viewColumn);\n\t\tconst computedModelPosition = this.model.validatePosition(new Position(lineIndex + 1, computedModelColumn));\n\n\t\tif (computedModelPosition.equals(expectedModelPosition)) {\n\t\t\treturn new Position(viewLineNumber, viewColumn);\n\t\t}\n\n\t\treturn this.convertModelPositionToViewPosition(expectedModelPosition.lineNumber, expectedModelPosition.column);\n\t}\n\n\tpublic validateViewRange(viewRange: Range, expectedModelRange: Range): Range {\n\t\tconst validViewStart = this.validateViewPosition(viewRange.startLineNumber, viewRange.startColumn, expectedModelRange.getStartPosition());\n\t\tconst validViewEnd = this.validateViewPosition(viewRange.endLineNumber, viewRange.endColumn, expectedModelRange.getEndPosition());\n\t\treturn new Range(validViewStart.lineNumber, validViewStart.column, validViewEnd.lineNumber, validViewEnd.column);\n\t}\n\n\tpublic convertViewPositionToModelPosition(viewLineNumber: number, viewColumn: number): Position {\n\t\tconst info = this.getViewLineInfo(viewLineNumber);\n\n\t\tconst inputColumn = this.modelLineProjections[info.modelLineNumber - 1].getModelColumnOfViewPosition(info.modelLineWrappedLineIdx, viewColumn);\n\t\t// console.log('out -> in ' + viewLineNumber + ',' + viewColumn + ' ===> ' + (lineIndex+1) + ',' + inputColumn);\n\t\treturn this.model.validatePosition(new Position(info.modelLineNumber, inputColumn));\n\t}\n\n\tpublic convertViewRangeToModelRange(viewRange: Range): Range {\n\t\tconst start = this.convertViewPositionToModelPosition(viewRange.startLineNumber, viewRange.startColumn);\n\t\tconst end = this.convertViewPositionToModelPosition(viewRange.endLineNumber, viewRange.endColumn);\n\t\treturn new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n\t}\n\n\tpublic convertModelPositionToViewPosition(_modelLineNumber: number, _modelColumn: number, affinity: PositionAffinity = PositionAffinity.None, allowZeroLineNumber: boolean = false, belowHiddenRanges: boolean = false): Position {\n\n\t\tconst validPosition = this.model.validatePosition(new Position(_modelLineNumber, _modelColumn));\n\t\tconst inputLineNumber = validPosition.lineNumber;\n\t\tconst inputColumn = validPosition.column;\n\n\t\tlet lineIndex = inputLineNumber - 1, lineIndexChanged = false;\n\t\tif (belowHiddenRanges) {\n\t\t\twhile (lineIndex < this.modelLineProjections.length && !this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\t\tlineIndex++;\n\t\t\t\tlineIndexChanged = true;\n\t\t\t}\n\t\t} else {\n\t\t\twhile (lineIndex > 0 && !this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\t\tlineIndex--;\n\t\t\t\tlineIndexChanged = true;\n\t\t\t}\n\t\t}\n\t\tif (lineIndex === 0 && !this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\t// Could not reach a real line\n\t\t\t// console.log('in -> out ' + inputLineNumber + ',' + inputColumn + ' ===> ' + 1 + ',' + 1);\n\t\t\t// TODO@alexdima@hediet this isn't soo pretty\n\t\t\treturn new Position(allowZeroLineNumber ? 0 : 1, 1);\n\t\t}\n\t\tconst deltaLineNumber = 1 + this.projectedModelLineLineCounts.getPrefixSum(lineIndex);\n\n\t\tlet r: Position;\n\t\tif (lineIndexChanged) {\n\t\t\tif (belowHiddenRanges) {\n\t\t\t\tr = this.modelLineProjections[lineIndex].getViewPositionOfModelPosition(deltaLineNumber, 1, affinity);\n\t\t\t} else {\n\t\t\t\tr = this.modelLineProjections[lineIndex].getViewPositionOfModelPosition(deltaLineNumber, this.model.getLineMaxColumn(lineIndex + 1), affinity);\n\t\t\t}\n\t\t} else {\n\t\t\tr = this.modelLineProjections[inputLineNumber - 1].getViewPositionOfModelPosition(deltaLineNumber, inputColumn, affinity);\n\t\t}\n\n\t\t// console.log('in -> out ' + inputLineNumber + ',' + inputColumn + ' ===> ' + r.lineNumber + ',' + r);\n\t\treturn r;\n\t}\n\n\t/**\n\t * @param affinity The affinity in case of an empty range. Has no effect for non-empty ranges.\n\t*/\n\tpublic convertModelRangeToViewRange(modelRange: Range, affinity: PositionAffinity = PositionAffinity.Left): Range {\n\t\tif (modelRange.isEmpty()) {\n\t\t\tconst start = this.convertModelPositionToViewPosition(modelRange.startLineNumber, modelRange.startColumn, affinity);\n\t\t\treturn Range.fromPositions(start);\n\t\t} else {\n\t\t\tconst start = this.convertModelPositionToViewPosition(modelRange.startLineNumber, modelRange.startColumn, PositionAffinity.Right);\n\t\t\tconst end = this.convertModelPositionToViewPosition(modelRange.endLineNumber, modelRange.endColumn, PositionAffinity.Left);\n\t\t\treturn new Range(start.lineNumber, start.column, end.lineNumber, end.column);\n\t\t}\n\t}\n\n\tpublic getViewLineNumberOfModelPosition(modelLineNumber: number, modelColumn: number): number {\n\t\tlet lineIndex = modelLineNumber - 1;\n\t\tif (this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\t// this model line is visible\n\t\t\tconst deltaLineNumber = 1 + this.projectedModelLineLineCounts.getPrefixSum(lineIndex);\n\t\t\treturn this.modelLineProjections[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber, modelColumn);\n\t\t}\n\n\t\t// this model line is not visible\n\t\twhile (lineIndex > 0 && !this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\tlineIndex--;\n\t\t}\n\t\tif (lineIndex === 0 && !this.modelLineProjections[lineIndex].isVisible()) {\n\t\t\t// Could not reach a real line\n\t\t\treturn 1;\n\t\t}\n\t\tconst deltaLineNumber = 1 + this.projectedModelLineLineCounts.getPrefixSum(lineIndex);\n\t\treturn this.modelLineProjections[lineIndex].getViewLineNumberOfModelPosition(deltaLineNumber, this.model.getLineMaxColumn(lineIndex + 1));\n\t}\n\n\tpublic getDecorationsInRange(range: Range, ownerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, onlyMinimapDecorations: boolean, onlyMarginDecorations: boolean): IModelDecoration[] {\n\t\tconst modelStart = this.convertViewPositionToModelPosition(range.startLineNumber, range.startColumn);\n\t\tconst modelEnd = this.convertViewPositionToModelPosition(range.endLineNumber, range.endColumn);\n\n\t\tif (modelEnd.lineNumber - modelStart.lineNumber <= range.endLineNumber - range.startLineNumber) {\n\t\t\t// most likely there are no hidden lines => fast path\n\t\t\t// fetch decorations from column 1 to cover the case of wrapped lines that have whole line decorations at column 1\n\t\t\treturn this.model.getDecorationsInRange(new Range(modelStart.lineNumber, 1, modelEnd.lineNumber, modelEnd.column), ownerId, filterOutValidation, filterFontDecorations, onlyMinimapDecorations, onlyMarginDecorations);\n\t\t}\n\n\t\tlet result: IModelDecoration[] = [];\n\t\tconst modelStartLineIndex = modelStart.lineNumber - 1;\n\t\tconst modelEndLineIndex = modelEnd.lineNumber - 1;\n\n\t\tlet reqStart: Position | null = null;\n\t\tfor (let modelLineIndex = modelStartLineIndex; modelLineIndex <= modelEndLineIndex; modelLineIndex++) {\n\t\t\tconst line = this.modelLineProjections[modelLineIndex];\n\t\t\tif (line.isVisible()) {\n\t\t\t\t// merge into previous request\n\t\t\t\tif (reqStart === null) {\n\t\t\t\t\treqStart = new Position(modelLineIndex + 1, modelLineIndex === modelStartLineIndex ? modelStart.column : 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// hit invisible line => flush request\n\t\t\t\tif (reqStart !== null) {\n\t\t\t\t\tconst maxLineColumn = this.model.getLineMaxColumn(modelLineIndex);\n\t\t\t\t\tresult = result.concat(this.model.getDecorationsInRange(new Range(reqStart.lineNumber, reqStart.column, modelLineIndex, maxLineColumn), ownerId, filterOutValidation, filterFontDecorations, onlyMinimapDecorations));\n\t\t\t\t\treqStart = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (reqStart !== null) {\n\t\t\tresult = result.concat(this.model.getDecorationsInRange(new Range(reqStart.lineNumber, reqStart.column, modelEnd.lineNumber, modelEnd.column), ownerId, filterOutValidation, filterFontDecorations, onlyMinimapDecorations));\n\t\t\treqStart = null;\n\t\t}\n\n\t\tresult.sort((a, b) => {\n\t\t\tconst res = Range.compareRangesUsingStarts(a.range, b.range);\n\t\t\tif (res === 0) {\n\t\t\t\tif (a.id < b.id) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\tif (a.id > b.id) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\n\t\t// Eliminate duplicate decorations that might have intersected our visible ranges multiple times\n\t\tconst finalResult: IModelDecoration[] = [];\n\t\tlet finalResultLen = 0;\n\t\tlet prevDecId: string | null = null;\n\t\tfor (const dec of result) {\n\t\t\tconst decId = dec.id;\n\t\t\tif (prevDecId === decId) {\n\t\t\t\t// skip\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tprevDecId = decId;\n\t\t\tfinalResult[finalResultLen++] = dec;\n\t\t}\n\n\t\treturn finalResult;\n\t}\n\n\tpublic getInjectedTextAt(position: Position): InjectedText | null {\n\t\tconst info = this.getViewLineInfo(position.lineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].getInjectedTextAt(info.modelLineWrappedLineIdx, position.column);\n\t}\n\n\tnormalizePosition(position: Position, affinity: PositionAffinity): Position {\n\t\tconst info = this.getViewLineInfo(position.lineNumber);\n\t\treturn this.modelLineProjections[info.modelLineNumber - 1].normalizePosition(info.modelLineWrappedLineIdx, position, affinity);\n\t}\n\n\tpublic getLineIndentColumn(lineNumber: number): number {\n\t\tconst info = this.getViewLineInfo(lineNumber);\n\t\tif (info.modelLineWrappedLineIdx === 0) {\n\t\t\treturn this.model.getLineIndentColumn(info.modelLineNumber);\n\t\t}\n\n\t\t// wrapped lines have no indentation.\n\t\t// We deliberately don't handle the case that indentation is wrapped\n\t\t// to avoid two view lines reporting indentation for the very same model line.\n\t\treturn 0;\n\t}\n}\n\n/**\n * Overlapping unsorted ranges:\n * [   )      [ )       [  )\n *    [    )      [       )\n * ->\n * Non overlapping sorted ranges:\n * [       )  [ ) [        )\n *\n * Note: This function only considers line information! Columns are ignored.\n*/\nfunction normalizeLineRanges(ranges: Range[]): Range[] {\n\tif (ranges.length === 0) {\n\t\treturn [];\n\t}\n\n\tconst sortedRanges = ranges.slice();\n\tsortedRanges.sort(Range.compareRangesUsingStarts);\n\n\tconst result: Range[] = [];\n\tlet currentRangeStart = sortedRanges[0].startLineNumber;\n\tlet currentRangeEnd = sortedRanges[0].endLineNumber;\n\n\tfor (let i = 1, len = sortedRanges.length; i < len; i++) {\n\t\tconst range = sortedRanges[i];\n\n\t\tif (range.startLineNumber > currentRangeEnd + 1) {\n\t\t\tresult.push(new Range(currentRangeStart, 1, currentRangeEnd, 1));\n\t\t\tcurrentRangeStart = range.startLineNumber;\n\t\t\tcurrentRangeEnd = range.endLineNumber;\n\t\t} else if (range.endLineNumber > currentRangeEnd) {\n\t\t\tcurrentRangeEnd = range.endLineNumber;\n\t\t}\n\t}\n\tresult.push(new Range(currentRangeStart, 1, currentRangeEnd, 1));\n\treturn result;\n}\n\n/**\n * Represents a view line. Can be used to efficiently query more information about it.\n */\nclass ViewLineInfo {\n\tpublic get isWrappedLineContinuation(): boolean {\n\t\treturn this.modelLineWrappedLineIdx > 0;\n\t}\n\n\tconstructor(\n\t\tpublic readonly modelLineNumber: number,\n\t\tpublic readonly modelLineWrappedLineIdx: number,\n\t) { }\n}\n\n/**\n * A list of view lines that have a contiguous span in the model.\n*/\nclass ViewLineInfoGroupedByModelRange {\n\tconstructor(public readonly modelRange: Range, public readonly viewLines: ViewLineInfo[]) {\n\t}\n}\n\nclass CoordinatesConverter implements ICoordinatesConverter {\n\tprivate readonly _lines: ViewModelLinesFromProjectedModel;\n\n\tconstructor(lines: ViewModelLinesFromProjectedModel) {\n\t\tthis._lines = lines;\n\t}\n\n\t// View -> Model conversion and related methods\n\n\tpublic convertViewPositionToModelPosition(viewPosition: Position): Position {\n\t\treturn this._lines.convertViewPositionToModelPosition(viewPosition.lineNumber, viewPosition.column);\n\t}\n\n\tpublic convertViewRangeToModelRange(viewRange: Range): Range {\n\t\treturn this._lines.convertViewRangeToModelRange(viewRange);\n\t}\n\n\tpublic validateViewPosition(viewPosition: Position, expectedModelPosition: Position): Position {\n\t\treturn this._lines.validateViewPosition(viewPosition.lineNumber, viewPosition.column, expectedModelPosition);\n\t}\n\n\tpublic validateViewRange(viewRange: Range, expectedModelRange: Range): Range {\n\t\treturn this._lines.validateViewRange(viewRange, expectedModelRange);\n\t}\n\n\t// Model -> View conversion and related methods\n\n\tpublic convertModelPositionToViewPosition(modelPosition: Position, affinity?: PositionAffinity, allowZero?: boolean, belowHiddenRanges?: boolean): Position {\n\t\treturn this._lines.convertModelPositionToViewPosition(modelPosition.lineNumber, modelPosition.column, affinity, allowZero, belowHiddenRanges);\n\t}\n\n\tpublic convertModelRangeToViewRange(modelRange: Range, affinity?: PositionAffinity): Range {\n\t\treturn this._lines.convertModelRangeToViewRange(modelRange, affinity);\n\t}\n\n\tpublic modelPositionIsVisible(modelPosition: Position): boolean {\n\t\treturn this._lines.modelPositionIsVisible(modelPosition.lineNumber, modelPosition.column);\n\t}\n\n\tpublic getModelLineViewLineCount(modelLineNumber: number): number {\n\t\treturn this._lines.getModelLineViewLineCount(modelLineNumber);\n\t}\n\n\tpublic getViewLineNumberOfModelPosition(modelLineNumber: number, modelColumn: number): number {\n\t\treturn this._lines.getViewLineNumberOfModelPosition(modelLineNumber, modelColumn);\n\t}\n}\n\nconst enum IndentGuideRepeatOption {\n\tBlockNone = 0,\n\tBlockSubsequent = 1,\n\tBlockAll = 2\n}\n\nexport class ViewModelLinesFromModelAsIs implements IViewModelLines {\n\tpublic readonly model: ITextModel;\n\n\tconstructor(model: ITextModel) {\n\t\tthis.model = model;\n\t}\n\n\tpublic dispose(): void {\n\t}\n\n\tpublic createCoordinatesConverter(): ICoordinatesConverter {\n\t\treturn new IdentityCoordinatesConverter(this.model);\n\t}\n\n\tpublic getHiddenAreas(): Range[] {\n\t\treturn [];\n\t}\n\n\tpublic setHiddenAreas(_ranges: Range[]): boolean {\n\t\treturn false;\n\t}\n\n\tpublic setTabSize(_newTabSize: number): boolean {\n\t\treturn false;\n\t}\n\n\tpublic setWrappingSettings(_fontInfo: FontInfo, _wrappingStrategy: 'simple' | 'advanced', _wrappingColumn: number, _wrappingIndent: WrappingIndent): boolean {\n\t\treturn false;\n\t}\n\n\tpublic createLineBreaksComputer(): ILineBreaksComputer {\n\t\tconst result: null[] = [];\n\t\treturn {\n\t\t\taddRequest: (lineText: string, injectedText: LineInjectedText[] | null, previousLineBreakData: ModelLineProjectionData | null) => {\n\t\t\t\tresult.push(null);\n\t\t\t},\n\t\t\tfinalize: () => {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t}\n\n\tpublic onModelFlushed(): void {\n\t}\n\n\tpublic onModelLinesDeleted(_versionId: number | null, fromLineNumber: number, toLineNumber: number): viewEvents.ViewLinesDeletedEvent | null {\n\t\treturn new viewEvents.ViewLinesDeletedEvent(fromLineNumber, toLineNumber);\n\t}\n\n\tpublic onModelLinesInserted(_versionId: number | null, fromLineNumber: number, toLineNumber: number, lineBreaks: (ModelLineProjectionData | null)[]): viewEvents.ViewLinesInsertedEvent | null {\n\t\treturn new viewEvents.ViewLinesInsertedEvent(fromLineNumber, toLineNumber);\n\t}\n\n\tpublic onModelLineChanged(_versionId: number | null, lineNumber: number, lineBreakData: ModelLineProjectionData | null): [boolean, viewEvents.ViewLinesChangedEvent | null, viewEvents.ViewLinesInsertedEvent | null, viewEvents.ViewLinesDeletedEvent | null] {\n\t\treturn [false, new viewEvents.ViewLinesChangedEvent(lineNumber, 1), null, null];\n\t}\n\n\tpublic acceptVersionId(_versionId: number): void {\n\t}\n\n\tpublic getViewLineCount(): number {\n\t\treturn this.model.getLineCount();\n\t}\n\n\tpublic getActiveIndentGuide(viewLineNumber: number, _minLineNumber: number, _maxLineNumber: number): IActiveIndentGuideInfo {\n\t\treturn {\n\t\t\tstartLineNumber: viewLineNumber,\n\t\t\tendLineNumber: viewLineNumber,\n\t\t\tindent: 0\n\t\t};\n\t}\n\n\tpublic getViewLinesBracketGuides(startLineNumber: number, endLineNumber: number, activePosition: IPosition | null): IndentGuide[][] {\n\t\treturn new Array(endLineNumber - startLineNumber + 1).fill([]);\n\t}\n\n\tpublic getViewLinesIndentGuides(viewStartLineNumber: number, viewEndLineNumber: number): number[] {\n\t\tconst viewLineCount = viewEndLineNumber - viewStartLineNumber + 1;\n\t\tconst result = new Array<number>(viewLineCount);\n\t\tfor (let i = 0; i < viewLineCount; i++) {\n\t\t\tresult[i] = 0;\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getViewLineContent(viewLineNumber: number): string {\n\t\treturn this.model.getLineContent(viewLineNumber);\n\t}\n\n\tpublic getViewLineLength(viewLineNumber: number): number {\n\t\treturn this.model.getLineLength(viewLineNumber);\n\t}\n\n\tpublic getViewLineMinColumn(viewLineNumber: number): number {\n\t\treturn this.model.getLineMinColumn(viewLineNumber);\n\t}\n\n\tpublic getViewLineMaxColumn(viewLineNumber: number): number {\n\t\treturn this.model.getLineMaxColumn(viewLineNumber);\n\t}\n\n\tpublic getViewLineData(viewLineNumber: number): ViewLineData {\n\t\tconst lineTokens = this.model.tokenization.getLineTokens(viewLineNumber);\n\t\tconst lineContent = lineTokens.getLineContent();\n\t\treturn new ViewLineData(\n\t\t\tlineContent,\n\t\t\tfalse,\n\t\t\t1,\n\t\t\tlineContent.length + 1,\n\t\t\t0,\n\t\t\tlineTokens.inflate(),\n\t\t\tnull\n\t\t);\n\t}\n\n\tpublic getViewLinesData(viewStartLineNumber: number, viewEndLineNumber: number, needed: boolean[]): Array<ViewLineData | null> {\n\t\tconst lineCount = this.model.getLineCount();\n\t\tviewStartLineNumber = Math.min(Math.max(1, viewStartLineNumber), lineCount);\n\t\tviewEndLineNumber = Math.min(Math.max(1, viewEndLineNumber), lineCount);\n\n\t\tconst result: Array<ViewLineData | null> = [];\n\t\tfor (let lineNumber = viewStartLineNumber; lineNumber <= viewEndLineNumber; lineNumber++) {\n\t\t\tconst idx = lineNumber - viewStartLineNumber;\n\t\t\tresult[idx] = needed[idx] ? this.getViewLineData(lineNumber) : null;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getDecorationsInRange(range: Range, ownerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, onlyMinimapDecorations: boolean, onlyMarginDecorations: boolean): IModelDecoration[] {\n\t\treturn this.model.getDecorationsInRange(range, ownerId, filterOutValidation, filterFontDecorations, onlyMinimapDecorations, onlyMarginDecorations);\n\t}\n\n\tnormalizePosition(position: Position, affinity: PositionAffinity): Position {\n\t\treturn this.model.normalizePosition(position, affinity);\n\t}\n\n\tpublic getLineIndentColumn(lineNumber: number): number {\n\t\treturn this.model.getLineIndentColumn(lineNumber);\n\t}\n\n\tpublic getInjectedTextAt(position: Position): InjectedText | null {\n\t\t// Identity lines collection does not support injected text.\n\t\treturn null;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}