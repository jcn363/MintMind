{"version":3,"names":["assertNever","Position","InjectedTextCursorStops","ModelLineProjectionData","injectionOffsets","injectionOptions","breakOffsets","breakOffsetsVisibleColumn","wrappedTextIndentLength","constructor","cov_1381zujzrh","f","s","getOutputLineCount","length","getMinOutputOffset","outputLineIndex","b","getLineLength","startOffset","endOffset","lineLength","getMaxOutputOffset","translateToInputOffset","outputOffset","Math","max","offsetInInputWithInjection","offsetInInput","i","content","translateToOutputPosition","inputOffset","affinity","inputOffsetInInputWithInjection","offsetInInputWithInjectionsToOutputPosition","offsetInInputWithInjections","low","high","mid","midStart","midStop","OutputPosition","normalizeOutputPosition","outputPositionToOffsetInInputWithInjections","normalizedOffsetInUnwrappedLine","normalizeOffsetInInputWithInjectionsAroundInjections","maxOutputLineIndex","result","injectedText","getInjectedTextAtOffset","hasRightCursorStop","injectedTextIndex","cursorStops","hasLeftCursorStop","index","getInjectedText","offset","options","totalInjectedTextLengthBefore","injectedTextStartOffsetInInputWithInjections","injectedTextEndOffsetInInputWithInjections","undefined","cursorStop","Right","Both","Left","InjectedText","toString","toPosition","baseLineNumber"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/modelLineProjectionData.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { assertNever } from '../../base/common/assert.js';\nimport { WrappingIndent } from './config/editorOptions.js';\nimport { FontInfo } from './config/fontInfo.js';\nimport { Position } from './core/position.js';\nimport { InjectedTextCursorStops, InjectedTextOptions, PositionAffinity } from './model.js';\nimport { LineInjectedText } from './textModelEvents.js';\n\n/**\n * *input*:\n * ```\n * xxxxxxxxxxxxxxxxxxxxxxxxxxx\n * ```\n *\n * -> Applying injections `[i...i]`, *inputWithInjections*:\n * ```\n * xxxxxx[iiiiiiiiii]xxxxxxxxxxxxxxxxx[ii]xxxx\n * ```\n *\n * -> breaking at offsets `|` in `xxxxxx[iiiiiii|iii]xxxxxxxxxxx|xxxxxx[ii]xxxx|`:\n * ```\n * xxxxxx[iiiiiii\n * iii]xxxxxxxxxxx\n * xxxxxx[ii]xxxx\n * ```\n *\n * -> applying wrappedTextIndentLength, *output*:\n * ```\n * xxxxxx[iiiiiii\n *    iii]xxxxxxxxxxx\n *    xxxxxx[ii]xxxx\n * ```\n */\nexport class ModelLineProjectionData {\n\tconstructor(\n\t\tpublic injectionOffsets: number[] | null,\n\t\t/**\n\t\t * `injectionOptions.length` must equal `injectionOffsets.length`\n\t\t */\n\t\tpublic injectionOptions: InjectedTextOptions[] | null,\n\t\t/**\n\t\t * Refers to offsets after applying injections to the source.\n\t\t * The last break offset indicates the length of the source after applying injections.\n\t\t */\n\t\tpublic breakOffsets: number[],\n\t\t/**\n\t\t * Refers to offsets after applying injections\n\t\t */\n\t\tpublic breakOffsetsVisibleColumn: number[],\n\t\tpublic wrappedTextIndentLength: number\n\t) {\n\t}\n\n\tpublic getOutputLineCount(): number {\n\t\treturn this.breakOffsets.length;\n\t}\n\n\tpublic getMinOutputOffset(outputLineIndex: number): number {\n\t\tif (outputLineIndex > 0) {\n\t\t\treturn this.wrappedTextIndentLength;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tpublic getLineLength(outputLineIndex: number): number {\n\t\t// These offsets refer to model text with injected text.\n\t\tconst startOffset = outputLineIndex > 0 ? this.breakOffsets[outputLineIndex - 1] : 0;\n\t\tconst endOffset = this.breakOffsets[outputLineIndex];\n\n\t\tlet lineLength = endOffset - startOffset;\n\t\tif (outputLineIndex > 0) {\n\t\t\tlineLength += this.wrappedTextIndentLength;\n\t\t}\n\t\treturn lineLength;\n\t}\n\n\tpublic getMaxOutputOffset(outputLineIndex: number): number {\n\t\treturn this.getLineLength(outputLineIndex);\n\t}\n\n\tpublic translateToInputOffset(outputLineIndex: number, outputOffset: number): number {\n\t\tif (outputLineIndex > 0) {\n\t\t\toutputOffset = Math.max(0, outputOffset - this.wrappedTextIndentLength);\n\t\t}\n\n\t\tconst offsetInInputWithInjection = outputLineIndex === 0 ? outputOffset : this.breakOffsets[outputLineIndex - 1] + outputOffset;\n\t\tlet offsetInInput = offsetInInputWithInjection;\n\n\t\tif (this.injectionOffsets !== null) {\n\t\t\tfor (let i = 0; i < this.injectionOffsets.length; i++) {\n\t\t\t\tif (offsetInInput > this.injectionOffsets[i]) {\n\t\t\t\t\tif (offsetInInput < this.injectionOffsets[i] + this.injectionOptions![i].content.length) {\n\t\t\t\t\t\t// `inputOffset` is within injected text\n\t\t\t\t\t\toffsetInInput = this.injectionOffsets[i];\n\t\t\t\t\t} else {\n\t\t\t\t\t\toffsetInInput -= this.injectionOptions![i].content.length;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offsetInInput;\n\t}\n\n\tpublic translateToOutputPosition(inputOffset: number, affinity: PositionAffinity = PositionAffinity.None): OutputPosition {\n\t\tlet inputOffsetInInputWithInjection = inputOffset;\n\t\tif (this.injectionOffsets !== null) {\n\t\t\tfor (let i = 0; i < this.injectionOffsets.length; i++) {\n\t\t\t\tif (inputOffset < this.injectionOffsets[i]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (affinity !== PositionAffinity.Right && inputOffset === this.injectionOffsets[i]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tinputOffsetInInputWithInjection += this.injectionOptions![i].content.length;\n\t\t\t}\n\t\t}\n\n\t\treturn this.offsetInInputWithInjectionsToOutputPosition(inputOffsetInInputWithInjection, affinity);\n\t}\n\n\tprivate offsetInInputWithInjectionsToOutputPosition(offsetInInputWithInjections: number, affinity: PositionAffinity = PositionAffinity.None): OutputPosition {\n\t\tlet low = 0;\n\t\tlet high = this.breakOffsets.length - 1;\n\t\tlet mid = 0;\n\t\tlet midStart = 0;\n\n\t\twhile (low <= high) {\n\t\t\tmid = low + ((high - low) / 2) | 0;\n\n\t\t\tconst midStop = this.breakOffsets[mid];\n\t\t\tmidStart = mid > 0 ? this.breakOffsets[mid - 1] : 0;\n\n\t\t\tif (affinity === PositionAffinity.Left) {\n\t\t\t\tif (offsetInInputWithInjections <= midStart) {\n\t\t\t\t\thigh = mid - 1;\n\t\t\t\t} else if (offsetInInputWithInjections > midStop) {\n\t\t\t\t\tlow = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (offsetInInputWithInjections < midStart) {\n\t\t\t\t\thigh = mid - 1;\n\t\t\t\t} else if (offsetInInputWithInjections >= midStop) {\n\t\t\t\t\tlow = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet outputOffset = offsetInInputWithInjections - midStart;\n\t\tif (mid > 0) {\n\t\t\toutputOffset += this.wrappedTextIndentLength;\n\t\t}\n\n\t\treturn new OutputPosition(mid, outputOffset);\n\t}\n\n\tpublic normalizeOutputPosition(outputLineIndex: number, outputOffset: number, affinity: PositionAffinity): OutputPosition {\n\t\tif (this.injectionOffsets !== null) {\n\t\t\tconst offsetInInputWithInjections = this.outputPositionToOffsetInInputWithInjections(outputLineIndex, outputOffset);\n\t\t\tconst normalizedOffsetInUnwrappedLine = this.normalizeOffsetInInputWithInjectionsAroundInjections(offsetInInputWithInjections, affinity);\n\t\t\tif (normalizedOffsetInUnwrappedLine !== offsetInInputWithInjections) {\n\t\t\t\t// injected text caused a change\n\t\t\t\treturn this.offsetInInputWithInjectionsToOutputPosition(normalizedOffsetInUnwrappedLine, affinity);\n\t\t\t}\n\t\t}\n\n\t\tif (affinity === PositionAffinity.Left) {\n\t\t\tif (outputLineIndex > 0 && outputOffset === this.getMinOutputOffset(outputLineIndex)) {\n\t\t\t\treturn new OutputPosition(outputLineIndex - 1, this.getMaxOutputOffset(outputLineIndex - 1));\n\t\t\t}\n\t\t}\n\t\telse if (affinity === PositionAffinity.Right) {\n\t\t\tconst maxOutputLineIndex = this.getOutputLineCount() - 1;\n\t\t\tif (outputLineIndex < maxOutputLineIndex && outputOffset === this.getMaxOutputOffset(outputLineIndex)) {\n\t\t\t\treturn new OutputPosition(outputLineIndex + 1, this.getMinOutputOffset(outputLineIndex + 1));\n\t\t\t}\n\t\t}\n\n\t\treturn new OutputPosition(outputLineIndex, outputOffset);\n\t}\n\n\tprivate outputPositionToOffsetInInputWithInjections(outputLineIndex: number, outputOffset: number): number {\n\t\tif (outputLineIndex > 0) {\n\t\t\toutputOffset = Math.max(0, outputOffset - this.wrappedTextIndentLength);\n\t\t}\n\t\tconst result = (outputLineIndex > 0 ? this.breakOffsets[outputLineIndex - 1] : 0) + outputOffset;\n\t\treturn result;\n\t}\n\n\tprivate normalizeOffsetInInputWithInjectionsAroundInjections(offsetInInputWithInjections: number, affinity: PositionAffinity): number {\n\t\tconst injectedText = this.getInjectedTextAtOffset(offsetInInputWithInjections);\n\t\tif (!injectedText) {\n\t\t\treturn offsetInInputWithInjections;\n\t\t}\n\n\t\tif (affinity === PositionAffinity.None) {\n\t\t\tif (offsetInInputWithInjections === injectedText.offsetInInputWithInjections + injectedText.length\n\t\t\t\t&& hasRightCursorStop(this.injectionOptions![injectedText.injectedTextIndex].cursorStops)) {\n\t\t\t\treturn injectedText.offsetInInputWithInjections + injectedText.length;\n\t\t\t} else {\n\t\t\t\tlet result = injectedText.offsetInInputWithInjections;\n\t\t\t\tif (hasLeftCursorStop(this.injectionOptions![injectedText.injectedTextIndex].cursorStops)) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tlet index = injectedText.injectedTextIndex - 1;\n\t\t\t\twhile (index >= 0 && this.injectionOffsets![index] === this.injectionOffsets![injectedText.injectedTextIndex]) {\n\t\t\t\t\tif (hasRightCursorStop(this.injectionOptions![index].cursorStops)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tresult -= this.injectionOptions![index].content.length;\n\t\t\t\t\tif (hasLeftCursorStop(this.injectionOptions![index].cursorStops)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t} else if (affinity === PositionAffinity.Right || affinity === PositionAffinity.RightOfInjectedText) {\n\t\t\tlet result = injectedText.offsetInInputWithInjections + injectedText.length;\n\t\t\tlet index = injectedText.injectedTextIndex;\n\t\t\t// traverse all injected text that touch each other\n\t\t\twhile (index + 1 < this.injectionOffsets!.length && this.injectionOffsets![index + 1] === this.injectionOffsets![index]) {\n\t\t\t\tresult += this.injectionOptions![index + 1].content.length;\n\t\t\t\tindex++;\n\t\t\t}\n\t\t\treturn result;\n\t\t} else if (affinity === PositionAffinity.Left || affinity === PositionAffinity.LeftOfInjectedText) {\n\t\t\t// affinity is left\n\t\t\tlet result = injectedText.offsetInInputWithInjections;\n\t\t\tlet index = injectedText.injectedTextIndex;\n\t\t\t// traverse all injected text that touch each other\n\t\t\twhile (index - 1 >= 0 && this.injectionOffsets![index - 1] === this.injectionOffsets![index]) {\n\t\t\t\tresult -= this.injectionOptions![index - 1].content.length;\n\t\t\t\tindex--;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tassertNever(affinity);\n\t}\n\n\tpublic getInjectedText(outputLineIndex: number, outputOffset: number): InjectedText | null {\n\t\tconst offset = this.outputPositionToOffsetInInputWithInjections(outputLineIndex, outputOffset);\n\t\tconst injectedText = this.getInjectedTextAtOffset(offset);\n\t\tif (!injectedText) {\n\t\t\treturn null;\n\t\t}\n\t\treturn {\n\t\t\toptions: this.injectionOptions![injectedText.injectedTextIndex]\n\t\t};\n\t}\n\n\tprivate getInjectedTextAtOffset(offsetInInputWithInjections: number): { injectedTextIndex: number; offsetInInputWithInjections: number; length: number } | undefined {\n\t\tconst injectionOffsets = this.injectionOffsets;\n\t\tconst injectionOptions = this.injectionOptions;\n\n\t\tif (injectionOffsets !== null) {\n\t\t\tlet totalInjectedTextLengthBefore = 0;\n\t\t\tfor (let i = 0; i < injectionOffsets.length; i++) {\n\t\t\t\tconst length = injectionOptions![i].content.length;\n\t\t\t\tconst injectedTextStartOffsetInInputWithInjections = injectionOffsets[i] + totalInjectedTextLengthBefore;\n\t\t\t\tconst injectedTextEndOffsetInInputWithInjections = injectionOffsets[i] + totalInjectedTextLengthBefore + length;\n\n\t\t\t\tif (injectedTextStartOffsetInInputWithInjections > offsetInInputWithInjections) {\n\t\t\t\t\t// Injected text starts later.\n\t\t\t\t\tbreak; // All later injected texts have an even larger offset.\n\t\t\t\t}\n\n\t\t\t\tif (offsetInInputWithInjections <= injectedTextEndOffsetInInputWithInjections) {\n\t\t\t\t\t// Injected text ends after or with the given position (but also starts with or before it).\n\t\t\t\t\treturn {\n\t\t\t\t\t\tinjectedTextIndex: i,\n\t\t\t\t\t\toffsetInInputWithInjections: injectedTextStartOffsetInInputWithInjections,\n\t\t\t\t\t\tlength\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\ttotalInjectedTextLengthBefore += length;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n}\n\nfunction hasRightCursorStop(cursorStop: InjectedTextCursorStops | null | undefined): boolean {\n\tif (cursorStop === null || cursorStop === undefined) { return true; }\n\treturn cursorStop === InjectedTextCursorStops.Right || cursorStop === InjectedTextCursorStops.Both;\n}\nfunction hasLeftCursorStop(cursorStop: InjectedTextCursorStops | null | undefined): boolean {\n\tif (cursorStop === null || cursorStop === undefined) { return true; }\n\treturn cursorStop === InjectedTextCursorStops.Left || cursorStop === InjectedTextCursorStops.Both;\n}\n\nexport class InjectedText {\n\tconstructor(public readonly options: InjectedTextOptions) { }\n}\n\nexport class OutputPosition {\n\toutputLineIndex: number;\n\toutputOffset: number;\n\n\tconstructor(outputLineIndex: number, outputOffset: number) {\n\t\tthis.outputLineIndex = outputLineIndex;\n\t\tthis.outputOffset = outputOffset;\n\t}\n\n\ttoString(): string {\n\t\treturn `${this.outputLineIndex}:${this.outputOffset}`;\n\t}\n\n\ttoPosition(baseLineNumber: number): Position {\n\t\treturn new Position(baseLineNumber + this.outputLineIndex, this.outputOffset + 1);\n\t}\n}\n\nexport interface ILineBreaksComputerFactory {\n\tcreateLineBreaksComputer(fontInfo: FontInfo, tabSize: number, wrappingColumn: number, wrappingIndent: WrappingIndent, wordBreak: 'normal' | 'keepAll', wrapOnEscapedLineFeeds: boolean): ILineBreaksComputer;\n}\n\nexport interface ILineBreaksComputer {\n\t/**\n\t * Pass in `previousLineBreakData` if the only difference is in breaking columns!!!\n\t */\n\taddRequest(lineText: string, injectedText: LineInjectedText[] | null, previousLineBreakData: ModelLineProjectionData | null): void;\n\tfinalize(): (ModelLineProjectionData | null)[];\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}