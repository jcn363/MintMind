{"version":3,"names":["cov_2b0vhvcim0","actualCoverage","onUnexpectedExternalError","Emitter","Disposable","toDisposable","NotebookCellStatusBarService","_serviceBrand","_onDidChangeProviders","s","_register","onDidChangeProviders","event","_onDidChangeItems","onDidChangeItems","_providers","registerCellStatusBarItemProvider","provider","f","push","changeListener","onDidChangeStatusBarItems","b","fire","dispose","idx","findIndex","p","splice","getStatusBarItemsForCell","docUri","cellIndex","viewType","token","providers","filter","Promise","all","map","provideCellStatusBarItems","items","e"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/services/notebookCellStatusBarServiceImpl.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { INotebookCellStatusBarService } from '../../common/notebookCellStatusBarService.js';\nimport { INotebookCellStatusBarItemList, INotebookCellStatusBarItemProvider } from '../../common/notebookCommon.js';\n\nexport class NotebookCellStatusBarService extends Disposable implements INotebookCellStatusBarService {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeProviders = this._register(new Emitter<void>());\n\treadonly onDidChangeProviders: Event<void> = this._onDidChangeProviders.event;\n\n\tprivate readonly _onDidChangeItems = this._register(new Emitter<void>());\n\treadonly onDidChangeItems: Event<void> = this._onDidChangeItems.event;\n\n\tprivate readonly _providers: INotebookCellStatusBarItemProvider[] = [];\n\n\tregisterCellStatusBarItemProvider(provider: INotebookCellStatusBarItemProvider): IDisposable {\n\t\tthis._providers.push(provider);\n\t\tlet changeListener: IDisposable | undefined;\n\t\tif (provider.onDidChangeStatusBarItems) {\n\t\t\tchangeListener = provider.onDidChangeStatusBarItems(() => this._onDidChangeItems.fire());\n\t\t}\n\n\t\tthis._onDidChangeProviders.fire();\n\n\t\treturn toDisposable(() => {\n\t\t\tchangeListener?.dispose();\n\t\t\tconst idx = this._providers.findIndex(p => p === provider);\n\t\t\tthis._providers.splice(idx, 1);\n\t\t});\n\t}\n\n\tasync getStatusBarItemsForCell(docUri: URI, cellIndex: number, viewType: string, token: CancellationToken): Promise<INotebookCellStatusBarItemList[]> {\n\t\tconst providers = this._providers.filter(p => p.viewType === viewType || p.viewType === '*');\n\t\treturn await Promise.all(providers.map(async p => {\n\t\t\ttry {\n\t\t\t\treturn await p.provideCellStatusBarItems(docUri, cellIndex, token) ?? { items: [] };\n\t\t\t} catch (e) {\n\t\t\t\tonUnexpectedExternalError(e);\n\t\t\t\treturn { items: [] };\n\t\t\t}\n\t\t}));\n\t}\n}\n"],"mappings":"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","ignoreList":[]}