{"version":3,"names":["cov_qjmuirxbm","actualCoverage","bufferToStream","VSBuffer","Emitter","Disposable","Schemas","joinPath","URI","generateUuid","IConfigurationService","ConfigurationService","IEnvironmentService","GlobalExtensionEnablementService","IExtensionGalleryService","IExtensionManagementService","IGlobalExtensionEnablementService","IFileService","FileService","InMemoryFileSystemProvider","TestInstantiationService","ILogService","NullLogService","product","IProductService","IRequestService","InMemoryStorageService","IStorageService","ITelemetryService","NullTelemetryService","IUriIdentityService","UriIdentityService","ExtensionStorageService","IExtensionStorageService","IgnoredExtensionsManagementService","IIgnoredExtensionsManagementService","ALL_SYNC_RESOURCES","getDefaultIgnoredSettings","IUserDataSyncLocalStoreService","IUserDataSyncLogService","IUserDataSyncEnablementService","IUserDataSyncService","IUserDataSyncStoreManagementService","IUserDataSyncStoreService","IUserDataSyncUtilService","registerConfiguration","USER_DATA_SYNC_SCHEME","IUserDataSyncAccountService","UserDataSyncAccountService","UserDataSyncLocalStoreService","IUserDataSyncMachinesService","UserDataSyncMachinesService","UserDataSyncEnablementService","UserDataSyncService","UserDataSyncStoreManagementService","UserDataSyncStoreService","InMemoryUserDataProfilesService","IUserDataProfilesService","NullPolicyService","IUserDataProfileStorageService","TestUserDataProfileStorageService","UserDataSyncClient","testServer","instantiationService","constructor","b","UserDataSyncTestServer","f","s","_register","setUp","empty","logService","stub","userRoamingDataHome","file","with","scheme","inMemory","userDataSyncHome","environmentService","cacheHome","argvResource","sync","_serviceBrand","undefined","url","stableUrl","insidersUrl","canSwitch","authenticationProviders","scopes","fileService","registerProvider","uriIdentityService","createInstance","userDataProfilesService","storageService","TestStorageService","defaultProfile","configurationService","settingsResource","initialize","userDataSyncAccountService","updateAccount","authenticationProviderId","token","TestUserDataSyncUtilService","getInstalled","onDidInstallExtensions","event","onDidUninstallExtension","isEnabled","getCompatibleExtension","writeFile","fromString","JSON","stringify","keybindingsResource","snippetsHome","promptsHome","tasksResource","reloadConfiguration","get","setResourceEnablement","createSyncTask","run","read","resource","collection","readResource","getLatestRef","manifest","_getResourceManifest","latest","getSynchronizer","source","getOrCreateActiveProfileSynchronizer","enabled","find","ALL_SERVER_RESOURCES","rateLimit","retryAfter","session","collections","Map","data","_requests","requests","_requestsWithAllHeaders","requestsWithAllHeaders","_responses","responses","reset","manifestRef","collectionCounter","Number","MAX_SAFE_INTEGER","resolveProxy","lookupAuthorization","authInfo","lookupKerberosAuthorization","loadCertificates","request","options","length","toResponse","headers","push","type","requestContext","doRequest","status","res","statusCode","versionUrl","relativePath","indexOf","substring","segments","split","getManifest","getResourceData","writeData","deleteResourceData","clear","createCollection","Object","create","forEach","value","key","ref","collectionId","collectionData","etag","resourceKey","content","parseInt","set","delete","stream","resolveDefaultCoreIgnoredSettings","resolveUserBindings","userbindings","keys","keybinding","resolveFormattingOptions","eol","insertSpaces","tabSize","profileStorageProfile","hasScope","profile","id"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/userDataSync/test/common/userDataSyncClient.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { bufferToStream, VSBuffer } from '../../../../base/common/buffer.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IStringDictionary } from '../../../../base/common/collections.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { FormattingOptions } from '../../../../base/common/jsonFormatter.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { IHeaders, IRequestContext, IRequestOptions } from '../../../../base/parts/request/common/request.js';\nimport { IConfigurationService } from '../../../configuration/common/configuration.js';\nimport { ConfigurationService } from '../../../configuration/common/configurationService.js';\nimport { IEnvironmentService } from '../../../environment/common/environment.js';\nimport { GlobalExtensionEnablementService } from '../../../extensionManagement/common/extensionEnablementService.js';\nimport { DidUninstallExtensionEvent, IExtensionGalleryService, IExtensionManagementService, IGlobalExtensionEnablementService, InstallExtensionResult } from '../../../extensionManagement/common/extensionManagement.js';\nimport { IFileService } from '../../../files/common/files.js';\nimport { FileService } from '../../../files/common/fileService.js';\nimport { InMemoryFileSystemProvider } from '../../../files/common/inMemoryFilesystemProvider.js';\nimport { TestInstantiationService } from '../../../instantiation/test/common/instantiationServiceMock.js';\nimport { ILogService, NullLogService } from '../../../log/common/log.js';\nimport product from '../../../product/common/product.js';\nimport { IProductService } from '../../../product/common/productService.js';\nimport { AuthInfo, Credentials, IRequestService } from '../../../request/common/request.js';\nimport { InMemoryStorageService, IStorageService } from '../../../storage/common/storage.js';\nimport { ITelemetryService } from '../../../telemetry/common/telemetry.js';\nimport { NullTelemetryService } from '../../../telemetry/common/telemetryUtils.js';\nimport { IUriIdentityService } from '../../../uriIdentity/common/uriIdentity.js';\nimport { UriIdentityService } from '../../../uriIdentity/common/uriIdentityService.js';\nimport { ExtensionStorageService, IExtensionStorageService } from '../../../extensionManagement/common/extensionStorage.js';\nimport { IgnoredExtensionsManagementService, IIgnoredExtensionsManagementService } from '../../common/ignoredExtensions.js';\nimport { ALL_SYNC_RESOURCES, getDefaultIgnoredSettings, IUserData, IUserDataSyncLocalStoreService, IUserDataSyncLogService, IUserDataSyncEnablementService, IUserDataSyncService, IUserDataSyncStoreManagementService, IUserDataSyncStoreService, IUserDataSyncUtilService, registerConfiguration, ServerResource, SyncResource, IUserDataSynchroniser, IUserDataResourceManifest, IUserDataCollectionManifest, USER_DATA_SYNC_SCHEME, IUserDataManifest } from '../../common/userDataSync.js';\nimport { IUserDataSyncAccountService, UserDataSyncAccountService } from '../../common/userDataSyncAccount.js';\nimport { UserDataSyncLocalStoreService } from '../../common/userDataSyncLocalStoreService.js';\nimport { IUserDataSyncMachinesService, UserDataSyncMachinesService } from '../../common/userDataSyncMachines.js';\nimport { UserDataSyncEnablementService } from '../../common/userDataSyncEnablementService.js';\nimport { UserDataSyncService } from '../../common/userDataSyncService.js';\nimport { UserDataSyncStoreManagementService, UserDataSyncStoreService } from '../../common/userDataSyncStoreService.js';\nimport { InMemoryUserDataProfilesService, IUserDataProfile, IUserDataProfilesService } from '../../../userDataProfile/common/userDataProfile.js';\nimport { NullPolicyService } from '../../../policy/common/policy.js';\nimport { IUserDataProfileStorageService } from '../../../userDataProfile/common/userDataProfileStorageService.js';\nimport { TestUserDataProfileStorageService } from '../../../userDataProfile/test/common/userDataProfileStorageService.test.js';\n\nexport class UserDataSyncClient extends Disposable {\n\n\treadonly instantiationService: TestInstantiationService;\n\n\tconstructor(readonly testServer: UserDataSyncTestServer = new UserDataSyncTestServer()) {\n\t\tsuper();\n\t\tthis.instantiationService = this._register(new TestInstantiationService());\n\t}\n\n\tasync setUp(empty: boolean = false): Promise<void> {\n\t\tthis._register(registerConfiguration());\n\n\t\tconst logService = this.instantiationService.stub(ILogService, new NullLogService());\n\n\t\tconst userRoamingDataHome = URI.file('userdata').with({ scheme: Schemas.inMemory });\n\t\tconst userDataSyncHome = joinPath(userRoamingDataHome, '.sync');\n\t\tconst environmentService = this.instantiationService.stub(IEnvironmentService, {\n\t\t\tuserDataSyncHome,\n\t\t\tuserRoamingDataHome,\n\t\t\tcacheHome: joinPath(userRoamingDataHome, 'cache'),\n\t\t\targvResource: joinPath(userRoamingDataHome, 'argv.json'),\n\t\t\tsync: 'on',\n\t\t});\n\n\t\tthis.instantiationService.stub(IProductService, {\n\t\t\t_serviceBrand: undefined, ...product, ...{\n\t\t\t\t'configurationSync.store': {\n\t\t\t\t\turl: this.testServer.url,\n\t\t\t\t\tstableUrl: this.testServer.url,\n\t\t\t\t\tinsidersUrl: this.testServer.url,\n\t\t\t\t\tcanSwitch: false,\n\t\t\t\t\tauthenticationProviders: { 'test': { scopes: [] } }\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst fileService = this._register(new FileService(logService));\n\t\tthis._register(fileService.registerProvider(Schemas.inMemory, this._register(new InMemoryFileSystemProvider())));\n\t\tthis._register(fileService.registerProvider(USER_DATA_SYNC_SCHEME, this._register(new InMemoryFileSystemProvider())));\n\t\tthis.instantiationService.stub(IFileService, fileService);\n\n\t\tconst uriIdentityService = this._register(this.instantiationService.createInstance(UriIdentityService));\n\t\tthis.instantiationService.stub(IUriIdentityService, uriIdentityService);\n\n\t\tconst userDataProfilesService = this._register(new InMemoryUserDataProfilesService(environmentService, fileService, uriIdentityService, logService));\n\t\tthis.instantiationService.stub(IUserDataProfilesService, userDataProfilesService);\n\n\t\tconst storageService = this._register(new TestStorageService(userDataProfilesService.defaultProfile));\n\t\tthis.instantiationService.stub(IStorageService, this._register(storageService));\n\t\tthis.instantiationService.stub(IUserDataProfileStorageService, this._register(new TestUserDataProfileStorageService(false, storageService)));\n\n\t\tconst configurationService = this._register(new ConfigurationService(userDataProfilesService.defaultProfile.settingsResource, fileService, new NullPolicyService(), logService));\n\t\tawait configurationService.initialize();\n\t\tthis.instantiationService.stub(IConfigurationService, configurationService);\n\n\t\tthis.instantiationService.stub(IRequestService, this.testServer);\n\n\t\tthis.instantiationService.stub(IUserDataSyncLogService, logService);\n\t\tthis.instantiationService.stub(ITelemetryService, NullTelemetryService);\n\t\tthis.instantiationService.stub(IUserDataSyncStoreManagementService, this._register(this.instantiationService.createInstance(UserDataSyncStoreManagementService)));\n\t\tthis.instantiationService.stub(IUserDataSyncStoreService, this._register(this.instantiationService.createInstance(UserDataSyncStoreService)));\n\n\t\tconst userDataSyncAccountService: IUserDataSyncAccountService = this._register(this.instantiationService.createInstance(UserDataSyncAccountService));\n\t\tawait userDataSyncAccountService.updateAccount({ authenticationProviderId: 'authenticationProviderId', token: 'token' });\n\t\tthis.instantiationService.stub(IUserDataSyncAccountService, userDataSyncAccountService);\n\n\t\tthis.instantiationService.stub(IUserDataSyncMachinesService, this._register(this.instantiationService.createInstance(UserDataSyncMachinesService)));\n\t\tthis.instantiationService.stub(IUserDataSyncLocalStoreService, this._register(this.instantiationService.createInstance(UserDataSyncLocalStoreService)));\n\t\tthis.instantiationService.stub(IUserDataSyncUtilService, new TestUserDataSyncUtilService());\n\t\tthis.instantiationService.stub(IUserDataSyncEnablementService, this._register(this.instantiationService.createInstance(UserDataSyncEnablementService)));\n\n\t\tthis.instantiationService.stub(IExtensionManagementService, {\n\t\t\tasync getInstalled() { return []; },\n\t\t\tonDidInstallExtensions: new Emitter<readonly InstallExtensionResult[]>().event,\n\t\t\tonDidUninstallExtension: new Emitter<DidUninstallExtensionEvent>().event,\n\t\t});\n\t\tthis.instantiationService.stub(IGlobalExtensionEnablementService, this._register(this.instantiationService.createInstance(GlobalExtensionEnablementService)));\n\t\tthis.instantiationService.stub(IExtensionStorageService, this._register(this.instantiationService.createInstance(ExtensionStorageService)));\n\t\tthis.instantiationService.stub(IIgnoredExtensionsManagementService, this.instantiationService.createInstance(IgnoredExtensionsManagementService));\n\t\tthis.instantiationService.stub(IExtensionGalleryService, {\n\t\t\tisEnabled() { return true; },\n\t\t\tasync getCompatibleExtension() { return null; }\n\t\t});\n\n\t\tthis.instantiationService.stub(IUserDataSyncService, this._register(this.instantiationService.createInstance(UserDataSyncService)));\n\n\t\tif (!empty) {\n\t\t\tawait fileService.writeFile(userDataProfilesService.defaultProfile.settingsResource, VSBuffer.fromString(JSON.stringify({})));\n\t\t\tawait fileService.writeFile(userDataProfilesService.defaultProfile.keybindingsResource, VSBuffer.fromString(JSON.stringify([])));\n\t\t\tawait fileService.writeFile(joinPath(userDataProfilesService.defaultProfile.snippetsHome, 'c.json'), VSBuffer.fromString(`{}`));\n\t\t\tawait fileService.writeFile(joinPath(userDataProfilesService.defaultProfile.promptsHome, 'c.prompt.md'), VSBuffer.fromString(' '));\n\t\t\tawait fileService.writeFile(userDataProfilesService.defaultProfile.tasksResource, VSBuffer.fromString(`{}`));\n\t\t\tawait fileService.writeFile(environmentService.argvResource, VSBuffer.fromString(JSON.stringify({ 'locale': 'en' })));\n\t\t}\n\t\tawait configurationService.reloadConfiguration();\n\n\t\t// `prompts` resource is disabled by default, so enable it for tests\n\t\tthis.instantiationService\n\t\t\t.get(IUserDataSyncEnablementService)\n\t\t\t.setResourceEnablement(SyncResource.Prompts, true);\n\t}\n\n\tasync sync(): Promise<void> {\n\t\tawait (await this.instantiationService.get(IUserDataSyncService).createSyncTask(null)).run();\n\t}\n\n\tread(resource: SyncResource, collection?: string): Promise<IUserData> {\n\t\treturn this.instantiationService.get(IUserDataSyncStoreService).readResource(resource, null, collection);\n\t}\n\n\tasync getLatestRef(resource: SyncResource): Promise<string | null> {\n\t\tconst manifest = await this._getResourceManifest();\n\t\treturn manifest?.[resource] ?? null;\n\t}\n\n\tasync _getResourceManifest(): Promise<IUserDataResourceManifest | null> {\n\t\tconst manifest = await this.instantiationService.get(IUserDataSyncStoreService).manifest(null);\n\t\treturn manifest?.latest ?? null;\n\t}\n\n\tgetSynchronizer(source: SyncResource): IUserDataSynchroniser {\n\t\treturn (this.instantiationService.get(IUserDataSyncService) as UserDataSyncService).getOrCreateActiveProfileSynchronizer(this.instantiationService.get(IUserDataProfilesService).defaultProfile, undefined).enabled.find(s => s.resource === source)!;\n\t}\n\n}\n\nconst ALL_SERVER_RESOURCES: ServerResource[] = [...ALL_SYNC_RESOURCES, 'machines'];\n\nexport class UserDataSyncTestServer implements IRequestService {\n\n\t_serviceBrand: undefined;\n\n\treadonly url: string = 'http://host:3000';\n\tprivate session: string | null = null;\n\tprivate readonly collections = new Map<string, Map<ServerResource, IUserData>>();\n\tprivate readonly data = new Map<ServerResource, IUserData>();\n\n\tprivate _requests: { url: string; type: string; headers?: IHeaders }[] = [];\n\tget requests(): { url: string; type: string; headers?: IHeaders }[] { return this._requests; }\n\n\tprivate _requestsWithAllHeaders: { url: string; type: string; headers?: IHeaders }[] = [];\n\tget requestsWithAllHeaders(): { url: string; type: string; headers?: IHeaders }[] { return this._requestsWithAllHeaders; }\n\n\tprivate _responses: { status: number }[] = [];\n\tget responses(): { status: number }[] { return this._responses; }\n\treset(): void { this._requests = []; this._responses = []; this._requestsWithAllHeaders = []; }\n\n\tprivate manifestRef = 0;\n\tprivate collectionCounter = 0;\n\n\tconstructor(private readonly rateLimit = Number.MAX_SAFE_INTEGER, private readonly retryAfter?: number) { }\n\n\tasync resolveProxy(url: string): Promise<string | undefined> { return url; }\n\tasync lookupAuthorization(authInfo: AuthInfo): Promise<Credentials | undefined> { return undefined; }\n\tasync lookupKerberosAuthorization(url: string): Promise<string | undefined> { return undefined; }\n\tasync loadCertificates(): Promise<string[]> { return []; }\n\n\tasync request(options: IRequestOptions, token: CancellationToken): Promise<IRequestContext> {\n\t\tif (this._requests.length === this.rateLimit) {\n\t\t\treturn this.toResponse(429, this.retryAfter ? { 'retry-after': `${this.retryAfter}` } : undefined);\n\t\t}\n\t\tconst headers: IHeaders = {};\n\t\tif (options.headers) {\n\t\t\tif (options.headers['If-None-Match']) {\n\t\t\t\theaders['If-None-Match'] = options.headers['If-None-Match'];\n\t\t\t}\n\t\t\tif (options.headers['If-Match']) {\n\t\t\t\theaders['If-Match'] = options.headers['If-Match'];\n\t\t\t}\n\t\t}\n\t\tthis._requests.push({ url: options.url!, type: options.type!, headers });\n\t\tthis._requestsWithAllHeaders.push({ url: options.url!, type: options.type!, headers: options.headers });\n\t\tconst requestContext = await this.doRequest(options);\n\t\tthis._responses.push({ status: requestContext.res.statusCode! });\n\t\treturn requestContext;\n\t}\n\n\tprivate async doRequest(options: IRequestOptions): Promise<IRequestContext> {\n\t\tconst versionUrl = `${this.url}/v1/`;\n\t\tconst relativePath = options.url!.indexOf(versionUrl) === 0 ? options.url!.substring(versionUrl.length) : undefined;\n\t\tconst segments = relativePath ? relativePath.split('/') : [];\n\t\tif (options.type === 'GET' && segments.length === 1 && segments[0] === 'manifest') {\n\t\t\treturn this.getManifest(options.headers);\n\t\t}\n\t\tif (options.type === 'GET' && segments.length === 3 && segments[0] === 'resource') {\n\t\t\treturn this.getResourceData(undefined, segments[1], segments[2] === 'latest' ? undefined : segments[2], options.headers);\n\t\t}\n\t\tif (options.type === 'POST' && segments.length === 2 && segments[0] === 'resource') {\n\t\t\treturn this.writeData(undefined, segments[1], options.data, options.headers);\n\t\t}\n\t\t// resources in collection\n\t\tif (options.type === 'GET' && segments.length === 5 && segments[0] === 'collection' && segments[2] === 'resource') {\n\t\t\treturn this.getResourceData(segments[1], segments[3], segments[4] === 'latest' ? undefined : segments[4], options.headers);\n\t\t}\n\t\tif (options.type === 'POST' && segments.length === 4 && segments[0] === 'collection' && segments[2] === 'resource') {\n\t\t\treturn this.writeData(segments[1], segments[3], options.data, options.headers);\n\t\t}\n\t\tif (options.type === 'DELETE' && segments.length === 2 && segments[0] === 'resource') {\n\t\t\treturn this.deleteResourceData(undefined, segments[1]);\n\t\t}\n\t\tif (options.type === 'DELETE' && segments.length === 1 && segments[0] === 'resource') {\n\t\t\treturn this.clear(options.headers);\n\t\t}\n\t\tif (options.type === 'DELETE' && segments[0] === 'collection') {\n\t\t\treturn this.toResponse(204);\n\t\t}\n\t\tif (options.type === 'POST' && segments.length === 1 && segments[0] === 'collection') {\n\t\t\treturn this.createCollection();\n\t\t}\n\t\treturn this.toResponse(501);\n\t}\n\n\tprivate async getManifest(headers?: IHeaders): Promise<IRequestContext> {\n\t\tif (this.session) {\n\t\t\tconst latest: Record<ServerResource, string> = Object.create({});\n\t\t\tthis.data.forEach((value, key) => latest[key] = value.ref);\n\t\t\tlet collections: IUserDataCollectionManifest | undefined = undefined;\n\t\t\tif (this.collectionCounter) {\n\t\t\t\tcollections = {};\n\t\t\t\tfor (let collectionId = 1; collectionId <= this.collectionCounter; collectionId++) {\n\t\t\t\t\tconst collectionData = this.collections.get(`${collectionId}`);\n\t\t\t\t\tif (collectionData) {\n\t\t\t\t\t\tconst latest: Record<ServerResource, string> = Object.create({});\n\t\t\t\t\t\tcollectionData.forEach((value, key) => latest[key] = value.ref);\n\t\t\t\t\t\tcollections[`${collectionId}`] = { latest };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst manifest: IUserDataManifest = { session: this.session, latest, collections, ref: '1' };\n\t\t\treturn this.toResponse(200, { 'Content-Type': 'application/json', etag: `${this.manifestRef++}` }, JSON.stringify(manifest));\n\t\t}\n\t\treturn this.toResponse(204, { etag: `${this.manifestRef++}` });\n\t}\n\n\tprivate async getResourceData(collection: string | undefined, resource: string, ref?: string, headers: IHeaders = {}): Promise<IRequestContext> {\n\t\tconst collectionData = collection ? this.collections.get(collection) : this.data;\n\t\tif (!collectionData) {\n\t\t\treturn this.toResponse(501);\n\t\t}\n\n\t\tconst resourceKey = ALL_SERVER_RESOURCES.find(key => key === resource);\n\t\tif (resourceKey) {\n\t\t\tconst data = collectionData.get(resourceKey);\n\t\t\tif (ref && data?.ref !== ref) {\n\t\t\t\treturn this.toResponse(404);\n\t\t\t}\n\t\t\tif (!data) {\n\t\t\t\treturn this.toResponse(204, { etag: '0' });\n\t\t\t}\n\t\t\tif (headers['If-None-Match'] === data.ref) {\n\t\t\t\treturn this.toResponse(304);\n\t\t\t}\n\t\t\treturn this.toResponse(200, { etag: data.ref }, data.content || '');\n\t\t}\n\t\treturn this.toResponse(204);\n\t}\n\n\tprivate async writeData(collection: string | undefined, resource: string, content: string = '', headers: IHeaders = {}): Promise<IRequestContext> {\n\t\tif (!this.session) {\n\t\t\tthis.session = generateUuid();\n\t\t}\n\t\tconst collectionData = collection ? this.collections.get(collection) : this.data;\n\t\tif (!collectionData) {\n\t\t\treturn this.toResponse(501);\n\t\t}\n\t\tconst resourceKey = ALL_SERVER_RESOURCES.find(key => key === resource);\n\t\tif (resourceKey) {\n\t\t\tconst data = collectionData.get(resourceKey);\n\t\t\tif (headers['If-Match'] !== undefined && headers['If-Match'] !== (data ? data.ref : '0')) {\n\t\t\t\treturn this.toResponse(412);\n\t\t\t}\n\t\t\tconst ref = `${parseInt(data?.ref || '0') + 1}`;\n\t\t\tcollectionData.set(resourceKey, { ref, content });\n\t\t\treturn this.toResponse(200, { etag: ref });\n\t\t}\n\t\treturn this.toResponse(204);\n\t}\n\n\tprivate async deleteResourceData(collection: string | undefined, resource: string, headers: IHeaders = {}): Promise<IRequestContext> {\n\t\tconst collectionData = collection ? this.collections.get(collection) : this.data;\n\t\tif (!collectionData) {\n\t\t\treturn this.toResponse(501);\n\t\t}\n\n\t\tconst resourceKey = ALL_SERVER_RESOURCES.find(key => key === resource);\n\t\tif (resourceKey) {\n\t\t\tcollectionData.delete(resourceKey);\n\t\t\treturn this.toResponse(200);\n\t\t}\n\n\t\treturn this.toResponse(404);\n\t}\n\n\tprivate async createCollection(): Promise<IRequestContext> {\n\t\tconst collectionId = `${++this.collectionCounter}`;\n\t\tthis.collections.set(collectionId, new Map());\n\t\treturn this.toResponse(200, {}, collectionId);\n\t}\n\n\tasync clear(headers?: IHeaders): Promise<IRequestContext> {\n\t\tthis.collections.clear();\n\t\tthis.data.clear();\n\t\tthis.session = null;\n\t\tthis.collectionCounter = 0;\n\t\treturn this.toResponse(204);\n\t}\n\n\tprivate toResponse(statusCode: number, headers?: IHeaders, data?: string): IRequestContext {\n\t\treturn {\n\t\t\tres: {\n\t\t\t\theaders: headers || {},\n\t\t\t\tstatusCode\n\t\t\t},\n\t\t\tstream: bufferToStream(VSBuffer.fromString(data || ''))\n\t\t};\n\t}\n}\n\nexport class TestUserDataSyncUtilService implements IUserDataSyncUtilService {\n\n\t_serviceBrand: undefined;\n\n\tasync resolveDefaultCoreIgnoredSettings(): Promise<string[]> {\n\t\treturn getDefaultIgnoredSettings();\n\t}\n\n\tasync resolveUserBindings(userbindings: string[]): Promise<IStringDictionary<string>> {\n\t\tconst keys: IStringDictionary<string> = {};\n\t\tfor (const keybinding of userbindings) {\n\t\t\tkeys[keybinding] = keybinding;\n\t\t}\n\t\treturn keys;\n\t}\n\n\tasync resolveFormattingOptions(file?: URI): Promise<FormattingOptions> {\n\t\treturn { eol: '\\n', insertSpaces: false, tabSize: 4 };\n\t}\n\n}\n\nclass TestStorageService extends InMemoryStorageService {\n\tconstructor(private readonly profileStorageProfile: IUserDataProfile) {\n\t\tsuper();\n\t}\n\toverride hasScope(profile: IUserDataProfile): boolean {\n\t\treturn this.profileStorageProfile.id === profile.id;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}