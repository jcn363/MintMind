{"version":3,"names":["cov_26dv5z407v","actualCoverage","Lazy","FileAccess","URI","context","s","sanitizeName","name","f","replace","normalizeCrlf","str","SnapshotContext","test","nextIndex","snapshotsDir","namePrefix","usedNames","Set","constructor","b","Error","file","src","joinPath","asFileUri","parts","split","fullTitle","slice","assert","value","options","originalStack","stack","nameOrIndex","fileName","extension","add","fpath","fsPath","actual","formatValue","expected","__readFileInTests","console","info","__mkdirPInTests","__writeFileInTests","err","snapshotPath","concat","join","removeOldSnapshots","contents","__readDirInTests","toDelete","filter","startsWith","has","length","Promise","all","map","__unlinkInTests","debugDescriptionSymbol","Symbol","for","level","seen","String","JSON","stringify","RegExp","includes","oi","repeat","ci","Array","isArray","children","v","multiline","some","c","entries","prefix","Map","Object","lines","k","setup","currentTest","teardown","state","rawValue","undefined","assertSnapshot"],"sources":["/home/user/Desktop/MintMind/src/vs/base/test/common/snapshot.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Lazy } from '../../common/lazy.js';\nimport { FileAccess } from '../../common/network.js';\nimport { URI } from '../../common/uri.js';\n\ndeclare const __readFileInTests: (path: string) => Promise<string>;\ndeclare const __writeFileInTests: (path: string, contents: string) => Promise<void>;\ndeclare const __readDirInTests: (path: string) => Promise<string[]>;\ndeclare const __unlinkInTests: (path: string) => Promise<void>;\ndeclare const __mkdirPInTests: (path: string) => Promise<void>;\n\n// setup on import so assertSnapshot has the current context without explicit passing\nlet context: Lazy<SnapshotContext> | undefined;\nconst sanitizeName = (name: string) => name.replace(/[^a-z0-9_-]/gi, '_');\nconst normalizeCrlf = (str: string) => str.replace(/\\r\\n/g, '\\n');\n\nexport interface ISnapshotOptions {\n\t/** Name for snapshot file, rather than an incremented number */\n\tname?: string;\n\t/** Extension name of the snapshot file, defaults to `.snap` */\n\textension?: string;\n}\n\n/**\n * This is exported only for tests against the snapshotting itself! Use\n * {@link assertSnapshot} as a consumer!\n */\nexport class SnapshotContext {\n\tprivate nextIndex = 0;\n\tprotected snapshotsDir: URI;\n\tprivate readonly namePrefix: string;\n\tprivate readonly usedNames = new Set();\n\n\tconstructor(private readonly test: Mocha.Test | undefined) {\n\t\tif (!test) {\n\t\t\tthrow new Error('assertSnapshot can only be used in a test');\n\t\t}\n\n\t\tif (!test.file) {\n\t\t\tthrow new Error('currentTest.file is not set, please open an issue with the test you\\'re trying to run');\n\t\t}\n\n\t\tconst src = URI.joinPath(FileAccess.asFileUri(''), '../src');\n\t\tconst parts = test.file.split(/[/\\\\]/g);\n\n\t\tthis.namePrefix = sanitizeName(test.fullTitle()) + '.';\n\t\tthis.snapshotsDir = URI.joinPath(src, ...[...parts.slice(0, -1), '__snapshots__']);\n\t}\n\n\tpublic async assert(value: unknown, options?: ISnapshotOptions) {\n\t\tconst originalStack = new Error().stack!; // save to make the stack nicer on failure\n\t\tconst nameOrIndex = (options?.name ? sanitizeName(options.name) : this.nextIndex++);\n\t\tconst fileName = this.namePrefix + nameOrIndex + '.' + (options?.extension || 'snap');\n\t\tthis.usedNames.add(fileName);\n\n\t\tconst fpath = URI.joinPath(this.snapshotsDir, fileName).fsPath;\n\t\tconst actual = formatValue(value);\n\t\tlet expected: string;\n\t\ttry {\n\t\t\texpected = await __readFileInTests(fpath);\n\t\t} catch {\n\t\t\tconsole.info(`Creating new snapshot in: ${fpath}`);\n\t\t\tawait __mkdirPInTests(this.snapshotsDir.fsPath);\n\t\t\tawait __writeFileInTests(fpath, actual);\n\t\t\treturn;\n\t\t}\n\n\t\tif (normalizeCrlf(expected) !== normalizeCrlf(actual)) {\n\t\t\tawait __writeFileInTests(fpath + '.actual', actual);\n\t\t\tconst err: any = new Error(`Snapshot #${nameOrIndex} does not match expected output`);\n\t\t\terr.expected = expected;\n\t\t\terr.actual = actual;\n\t\t\terr.snapshotPath = fpath;\n\t\t\terr.stack = (err.stack as string)\n\t\t\t\t.split('\\n')\n\t\t\t\t// remove all frames from the async stack and keep the original caller's frame\n\t\t\t\t.slice(0, 1)\n\t\t\t\t.concat(originalStack.split('\\n').slice(3))\n\t\t\t\t.join('\\n');\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\tpublic async removeOldSnapshots() {\n\t\tconst contents = await __readDirInTests(this.snapshotsDir.fsPath);\n\t\tconst toDelete = contents.filter(f => f.startsWith(this.namePrefix) && !this.usedNames.has(f));\n\t\tif (toDelete.length) {\n\t\t\tconsole.info(`Deleting ${toDelete.length} old snapshots for ${this.test?.fullTitle()}`);\n\t\t}\n\n\t\tawait Promise.all(toDelete.map(f => __unlinkInTests(URI.joinPath(this.snapshotsDir, f).fsPath)));\n\t}\n}\n\nconst debugDescriptionSymbol = Symbol.for('debug.description');\n\nfunction formatValue(value: unknown, level = 0, seen: unknown[] = []): string {\n\tswitch (typeof value) {\n\t\tcase 'bigint':\n\t\tcase 'boolean':\n\t\tcase 'number':\n\t\tcase 'symbol':\n\t\tcase 'undefined':\n\t\t\treturn String(value);\n\t\tcase 'string':\n\t\t\treturn level === 0 ? value : JSON.stringify(value);\n\t\tcase 'function':\n\t\t\treturn `[Function ${value.name}]`;\n\t\tcase 'object': {\n\t\t\tif (value === null) {\n\t\t\t\treturn 'null';\n\t\t\t}\n\t\t\tif (value instanceof RegExp) {\n\t\t\t\treturn String(value);\n\t\t\t}\n\t\t\tif (seen.includes(value)) {\n\t\t\t\treturn '[Circular]';\n\t\t\t}\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tif (debugDescriptionSymbol in value && typeof (value as any)[debugDescriptionSymbol] === 'function') {\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\treturn (value as any)[debugDescriptionSymbol]();\n\t\t\t}\n\t\t\tconst oi = '  '.repeat(level);\n\t\t\tconst ci = '  '.repeat(level + 1);\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\tconst children = value.map(v => formatValue(v, level + 1, [...seen, value]));\n\t\t\t\tconst multiline = children.some(c => c.includes('\\n')) || children.join(', ').length > 80;\n\t\t\t\treturn multiline ? `[\\n${ci}${children.join(`,\\n${ci}`)}\\n${oi}]` : `[ ${children.join(', ')} ]`;\n\t\t\t}\n\n\t\t\tlet entries;\n\t\t\tlet prefix = '';\n\t\t\tif (value instanceof Map) {\n\t\t\t\tprefix = 'Map ';\n\t\t\t\tentries = [...value.entries()];\n\t\t\t} else if (value instanceof Set) {\n\t\t\t\tprefix = 'Set ';\n\t\t\t\tentries = [...value.entries()];\n\t\t\t} else {\n\t\t\t\tentries = Object.entries(value);\n\t\t\t}\n\n\t\t\tconst lines = entries.map(([k, v]) => `${k}: ${formatValue(v, level + 1, [...seen, value])}`);\n\t\t\treturn prefix + (lines.length > 1\n\t\t\t\t? `{\\n${ci}${lines.join(`,\\n${ci}`)}\\n${oi}}`\n\t\t\t\t: `{ ${lines.join(',\\n')} }`);\n\t\t}\n\t\tdefault:\n\t\t\tthrow new Error(`Unknown type ${value}`);\n\t}\n}\n\nsetup(function () {\n\tconst currentTest = this.currentTest;\n\tcontext = new Lazy(() => new SnapshotContext(currentTest));\n});\nteardown(async function () {\n\tif (this.currentTest?.state === 'passed') {\n\t\tawait context?.rawValue?.removeOldSnapshots();\n\t}\n\tcontext = undefined;\n});\n\n/**\n * Implements a snapshot testing utility. ⚠️ This is async! ⚠️\n *\n * The first time a snapshot test is run, it'll record the value it's called\n * with as the expected value. Subsequent runs will fail if the value differs,\n * but the snapshot can be regenerated by hand or using the Selfhost Test\n * Provider Extension which'll offer to update it.\n *\n * The snapshot will be associated with the currently running test and stored\n * in a `__snapshots__` directory next to the test file, which is expected to\n * be the first `.test.js` file in the callstack.\n */\nexport function assertSnapshot(value: unknown, options?: ISnapshotOptions): Promise<void> {\n\tif (!context) {\n\t\tthrow new Error('assertSnapshot can only be used in a test');\n\t}\n\n\treturn context.value.assert(value, options);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+BM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA/BN;;;;AAKA,SAASE,IAAI,QAAQ,sBAAsB;AAC3C,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,GAAG,QAAQ,qBAAqB;AAQzC;AACA,IAAIC,OAA0C;AAAC;AAAAL,cAAA,GAAAM,CAAA;AAC/C,MAAMC,YAAY,GAAIC,IAAY,IAAK;EAAA;EAAAR,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAM,CAAA;EAAA,OAAAE,IAAI,CAACE,OAAO,CAAC,eAAe,EAAE,GAAG,CAAC;AAAD,CAAC;AAAC;AAAAV,cAAA,GAAAM,CAAA;AAC1E,MAAMK,aAAa,GAAIC,GAAW,IAAK;EAAA;EAAAZ,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAM,CAAA;EAAA,OAAAM,GAAG,CAACF,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC;AAAD,CAAC;AASjE;;;;AAIA,OAAM,MAAOG,eAAe;EAMEC,IAAA;EALrBC,SAAS;EAAA;EAAA,CAAAf,cAAA,GAAAM,CAAA,OAAG,CAAC;EACXU,YAAY;EACLC,UAAU;EACVC,SAAS;EAAA;EAAA,CAAAlB,cAAA,GAAAM,CAAA,OAAG,IAAIa,GAAG,EAAE;EAEtCC,YAA6BN,IAA4B;IAAA;IAAAd,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAM,CAAA;IAA5B,KAAAQ,IAAI,GAAJA,IAAI;IAAwB;IAAAd,cAAA,GAAAM,CAAA;IACxD,IAAI,CAACQ,IAAI,EAAE;MAAA;MAAAd,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACV,MAAM,IAAIgB,KAAK,CAAC,2CAA2C,CAAC;IAC7D,CAAC;IAAA;IAAA;MAAAtB,cAAA,GAAAqB,CAAA;IAAA;IAAArB,cAAA,GAAAM,CAAA;IAED,IAAI,CAACQ,IAAI,CAACS,IAAI,EAAE;MAAA;MAAAvB,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACf,MAAM,IAAIgB,KAAK,CAAC,uFAAuF,CAAC;IACzG,CAAC;IAAA;IAAA;MAAAtB,cAAA,GAAAqB,CAAA;IAAA;IAED,MAAMG,GAAG;IAAA;IAAA,CAAAxB,cAAA,GAAAM,CAAA,QAAGF,GAAG,CAACqB,QAAQ,CAACtB,UAAU,CAACuB,SAAS,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC;IAC5D,MAAMC,KAAK;IAAA;IAAA,CAAA3B,cAAA,GAAAM,CAAA,QAAGQ,IAAI,CAACS,IAAI,CAACK,KAAK,CAAC,QAAQ,CAAC;IAAC;IAAA5B,cAAA,GAAAM,CAAA;IAExC,IAAI,CAACW,UAAU,GAAGV,YAAY,CAACO,IAAI,CAACe,SAAS,EAAE,CAAC,GAAG,GAAG;IAAC;IAAA7B,cAAA,GAAAM,CAAA;IACvD,IAAI,CAACU,YAAY,GAAGZ,GAAG,CAACqB,QAAQ,CAACD,GAAG,EAAE,GAAG,CAAC,GAAGG,KAAK,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;EACnF;EAEO,MAAMC,MAAMA,CAACC,KAAc,EAAEC,OAA0B;IAAA;IAAAjC,cAAA,GAAAS,CAAA;IAC7D,MAAMyB,aAAa;IAAA;IAAA,CAAAlC,cAAA,GAAAM,CAAA,QAAG,IAAIgB,KAAK,EAAE,CAACa,KAAM,EAAC,CAAC;IAC1C,MAAMC,WAAW;IAAA;IAAA,CAAApC,cAAA,GAAAM,CAAA,QAAI2B,OAAO,EAAEzB,IAAI;IAAA;IAAA,CAAAR,cAAA,GAAAqB,CAAA,UAAGd,YAAY,CAAC0B,OAAO,CAACzB,IAAI,CAAC;IAAA;IAAA,CAAAR,cAAA,GAAAqB,CAAA,UAAG,IAAI,CAACN,SAAS,EAAE,EAAC;IACnF,MAAMsB,QAAQ;IAAA;IAAA,CAAArC,cAAA,GAAAM,CAAA,QAAG,IAAI,CAACW,UAAU,GAAGmB,WAAW,GAAG,GAAG;IAAI;IAAA,CAAApC,cAAA,GAAAqB,CAAA,UAAAY,OAAO,EAAEK,SAAS;IAAA;IAAA,CAAAtC,cAAA,GAAAqB,CAAA,UAAI,MAAM,EAAC;IAAC;IAAArB,cAAA,GAAAM,CAAA;IACtF,IAAI,CAACY,SAAS,CAACqB,GAAG,CAACF,QAAQ,CAAC;IAE5B,MAAMG,KAAK;IAAA;IAAA,CAAAxC,cAAA,GAAAM,CAAA,QAAGF,GAAG,CAACqB,QAAQ,CAAC,IAAI,CAACT,YAAY,EAAEqB,QAAQ,CAAC,CAACI,MAAM;IAC9D,MAAMC,MAAM;IAAA;IAAA,CAAA1C,cAAA,GAAAM,CAAA,QAAGqC,WAAW,CAACX,KAAK,CAAC;IACjC,IAAIY,QAAgB;IAAC;IAAA5C,cAAA,GAAAM,CAAA;IACrB,IAAI;MAAA;MAAAN,cAAA,GAAAM,CAAA;MACHsC,QAAQ,GAAG,MAAMC,iBAAiB,CAACL,KAAK,CAAC;IAC1C,CAAC,CAAC,MAAM;MAAA;MAAAxC,cAAA,GAAAM,CAAA;MACPwC,OAAO,CAACC,IAAI,CAAC,6BAA6BP,KAAK,EAAE,CAAC;MAAC;MAAAxC,cAAA,GAAAM,CAAA;MACnD,MAAM0C,eAAe,CAAC,IAAI,CAAChC,YAAY,CAACyB,MAAM,CAAC;MAAC;MAAAzC,cAAA,GAAAM,CAAA;MAChD,MAAM2C,kBAAkB,CAACT,KAAK,EAAEE,MAAM,CAAC;MAAC;MAAA1C,cAAA,GAAAM,CAAA;MACxC;IACD;IAAC;IAAAN,cAAA,GAAAM,CAAA;IAED,IAAIK,aAAa,CAACiC,QAAQ,CAAC,KAAKjC,aAAa,CAAC+B,MAAM,CAAC,EAAE;MAAA;MAAA1C,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACtD,MAAM2C,kBAAkB,CAACT,KAAK,GAAG,SAAS,EAAEE,MAAM,CAAC;MACnD,MAAMQ,GAAG;MAAA;MAAA,CAAAlD,cAAA,GAAAM,CAAA,QAAQ,IAAIgB,KAAK,CAAC,aAAac,WAAW,iCAAiC,CAAC;MAAC;MAAApC,cAAA,GAAAM,CAAA;MACtF4C,GAAG,CAACN,QAAQ,GAAGA,QAAQ;MAAC;MAAA5C,cAAA,GAAAM,CAAA;MACxB4C,GAAG,CAACR,MAAM,GAAGA,MAAM;MAAC;MAAA1C,cAAA,GAAAM,CAAA;MACpB4C,GAAG,CAACC,YAAY,GAAGX,KAAK;MAAC;MAAAxC,cAAA,GAAAM,CAAA;MACzB4C,GAAG,CAACf,KAAK,GAAIe,GAAG,CAACf,KAAgB,CAC/BP,KAAK,CAAC,IAAI;MACX;MAAA,CACCE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXsB,MAAM,CAAClB,aAAa,CAACN,KAAK,CAAC,IAAI,CAAC,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1CuB,IAAI,CAAC,IAAI,CAAC;MAAC;MAAArD,cAAA,GAAAM,CAAA;MACb,MAAM4C,GAAG;IACV,CAAC;IAAA;IAAA;MAAAlD,cAAA,GAAAqB,CAAA;IAAA;EACF;EAEO,MAAMiC,kBAAkBA,CAAA;IAAA;IAAAtD,cAAA,GAAAS,CAAA;IAC9B,MAAM8C,QAAQ;IAAA;IAAA,CAAAvD,cAAA,GAAAM,CAAA,QAAG,MAAMkD,gBAAgB,CAAC,IAAI,CAACxC,YAAY,CAACyB,MAAM,CAAC;IACjE,MAAMgB,QAAQ;IAAA;IAAA,CAAAzD,cAAA,GAAAM,CAAA,QAAGiD,QAAQ,CAACG,MAAM,CAACjD,CAAC,IAAI;MAAA;MAAAT,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAM,CAAA;MAAA,kCAAAN,cAAA,GAAAqB,CAAA,UAAAZ,CAAC,CAACkD,UAAU,CAAC,IAAI,CAAC1C,UAAU,CAAC;MAAA;MAAA,CAAAjB,cAAA,GAAAqB,CAAA,UAAI,CAAC,IAAI,CAACH,SAAS,CAAC0C,GAAG,CAACnD,CAAC,CAAC;IAAD,CAAC,CAAC;IAAC;IAAAT,cAAA,GAAAM,CAAA;IAC/F,IAAImD,QAAQ,CAACI,MAAM,EAAE;MAAA;MAAA7D,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACpBwC,OAAO,CAACC,IAAI,CAAC,YAAYU,QAAQ,CAACI,MAAM,sBAAsB,IAAI,CAAC/C,IAAI,EAAEe,SAAS,EAAE,EAAE,CAAC;IACxF,CAAC;IAAA;IAAA;MAAA7B,cAAA,GAAAqB,CAAA;IAAA;IAAArB,cAAA,GAAAM,CAAA;IAED,MAAMwD,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACO,GAAG,CAACvD,CAAC,IAAI;MAAA;MAAAT,cAAA,GAAAS,CAAA;MAAAT,cAAA,GAAAM,CAAA;MAAA,OAAA2D,eAAe,CAAC7D,GAAG,CAACqB,QAAQ,CAAC,IAAI,CAACT,YAAY,EAAEP,CAAC,CAAC,CAACgC,MAAM,CAAC;IAAD,CAAC,CAAC,CAAC;EACjG;;AAGD,MAAMyB,sBAAsB;AAAA;AAAA,CAAAlE,cAAA,GAAAM,CAAA,QAAG6D,MAAM,CAACC,GAAG,CAAC,mBAAmB,CAAC;AAE9D,SAASzB,WAAWA,CAACX,KAAc,EAAEqC,KAAK;AAAA;AAAA,CAAArE,cAAA,GAAAqB,CAAA,UAAG,CAAC,GAAEiD,IAAA;AAAA;AAAA,CAAAtE,cAAA,GAAAqB,CAAA,UAAkB,EAAE;EAAA;EAAArB,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAM,CAAA;EACnE,QAAQ,OAAO0B,KAAK;IACnB,KAAK,QAAQ;MAAA;MAAAhC,cAAA,GAAAqB,CAAA;IACb,KAAK,SAAS;MAAA;MAAArB,cAAA,GAAAqB,CAAA;IACd,KAAK,QAAQ;MAAA;MAAArB,cAAA,GAAAqB,CAAA;IACb,KAAK,QAAQ;MAAA;MAAArB,cAAA,GAAAqB,CAAA;IACb,KAAK,WAAW;MAAA;MAAArB,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACf,OAAOiE,MAAM,CAACvC,KAAK,CAAC;IACrB,KAAK,QAAQ;MAAA;MAAAhC,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACZ,OAAO+D,KAAK,KAAK,CAAC;MAAA;MAAA,CAAArE,cAAA,GAAAqB,CAAA,WAAGW,KAAK;MAAA;MAAA,CAAAhC,cAAA,GAAAqB,CAAA,WAAGmD,IAAI,CAACC,SAAS,CAACzC,KAAK,CAAC;IACnD,KAAK,UAAU;MAAA;MAAAhC,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACd,OAAO,aAAa0B,KAAK,CAACxB,IAAI,GAAG;IAClC,KAAK,QAAQ;MAAA;MAAAR,cAAA,GAAAqB,CAAA;MAAE;QAAA;QAAArB,cAAA,GAAAM,CAAA;QACd,IAAI0B,KAAK,KAAK,IAAI,EAAE;UAAA;UAAAhC,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UACnB,OAAO,MAAM;QACd,CAAC;QAAA;QAAA;UAAAN,cAAA,GAAAqB,CAAA;QAAA;QAAArB,cAAA,GAAAM,CAAA;QACD,IAAI0B,KAAK,YAAY0C,MAAM,EAAE;UAAA;UAAA1E,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UAC5B,OAAOiE,MAAM,CAACvC,KAAK,CAAC;QACrB,CAAC;QAAA;QAAA;UAAAhC,cAAA,GAAAqB,CAAA;QAAA;QAAArB,cAAA,GAAAM,CAAA;QACD,IAAIgE,IAAI,CAACK,QAAQ,CAAC3C,KAAK,CAAC,EAAE;UAAA;UAAAhC,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UACzB,OAAO,YAAY;QACpB,CAAC;QAAA;QAAA;UAAAN,cAAA,GAAAqB,CAAA;QAAA;QACD;QAAArB,cAAA,GAAAM,CAAA;QACA;QAAI;QAAA,CAAAN,cAAA,GAAAqB,CAAA,WAAA6C,sBAAsB,IAAIlC,KAAK;QAAA;QAAA,CAAAhC,cAAA,GAAAqB,CAAA,WAAI,OAAQW,KAAa,CAACkC,sBAAsB,CAAC,KAAK,UAAU,GAAE;UAAA;UAAAlE,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UACpG;UACA,OAAQ0B,KAAa,CAACkC,sBAAsB,CAAC,EAAE;QAChD,CAAC;QAAA;QAAA;UAAAlE,cAAA,GAAAqB,CAAA;QAAA;QACD,MAAMuD,EAAE;QAAA;QAAA,CAAA5E,cAAA,GAAAM,CAAA,QAAG,IAAI,CAACuE,MAAM,CAACR,KAAK,CAAC;QAC7B,MAAMS,EAAE;QAAA;QAAA,CAAA9E,cAAA,GAAAM,CAAA,QAAG,IAAI,CAACuE,MAAM,CAACR,KAAK,GAAG,CAAC,CAAC;QAAC;QAAArE,cAAA,GAAAM,CAAA;QAClC,IAAIyE,KAAK,CAACC,OAAO,CAAChD,KAAK,CAAC,EAAE;UAAA;UAAAhC,cAAA,GAAAqB,CAAA;UACzB,MAAM4D,QAAQ;UAAA;UAAA,CAAAjF,cAAA,GAAAM,CAAA,QAAG0B,KAAK,CAACgC,GAAG,CAACkB,CAAC,IAAI;YAAA;YAAAlF,cAAA,GAAAS,CAAA;YAAAT,cAAA,GAAAM,CAAA;YAAA,OAAAqC,WAAW,CAACuC,CAAC,EAAEb,KAAK,GAAG,CAAC,EAAE,CAAC,GAAGC,IAAI,EAAEtC,KAAK,CAAC,CAAC;UAAD,CAAC,CAAC;UAC5E,MAAMmD,SAAS;UAAA;UAAA,CAAAnF,cAAA,GAAAM,CAAA;UAAG;UAAA,CAAAN,cAAA,GAAAqB,CAAA,WAAA4D,QAAQ,CAACG,IAAI,CAACC,CAAC,IAAI;YAAA;YAAArF,cAAA,GAAAS,CAAA;YAAAT,cAAA,GAAAM,CAAA;YAAA,OAAA+E,CAAC,CAACV,QAAQ,CAAC,IAAI,CAAC;UAAD,CAAC,CAAC;UAAA;UAAA,CAAA3E,cAAA,GAAAqB,CAAA,WAAI4D,QAAQ,CAAC5B,IAAI,CAAC,IAAI,CAAC,CAACQ,MAAM,GAAG,EAAE;UAAC;UAAA7D,cAAA,GAAAM,CAAA;UAC1F,OAAO6E,SAAS;UAAA;UAAA,CAAAnF,cAAA,GAAAqB,CAAA,WAAG,MAAMyD,EAAE,GAAGG,QAAQ,CAAC5B,IAAI,CAAC,MAAMyB,EAAE,EAAE,CAAC,KAAKF,EAAE,GAAG;UAAA;UAAA,CAAA5E,cAAA,GAAAqB,CAAA,WAAG,KAAK4D,QAAQ,CAAC5B,IAAI,CAAC,IAAI,CAAC,IAAI;QACjG,CAAC;QAAA;QAAA;UAAArD,cAAA,GAAAqB,CAAA;QAAA;QAED,IAAIiE,OAAO;QACX,IAAIC,MAAM;QAAA;QAAA,CAAAvF,cAAA,GAAAM,CAAA,QAAG,EAAE;QAAC;QAAAN,cAAA,GAAAM,CAAA;QAChB,IAAI0B,KAAK,YAAYwD,GAAG,EAAE;UAAA;UAAAxF,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UACzBiF,MAAM,GAAG,MAAM;UAAC;UAAAvF,cAAA,GAAAM,CAAA;UAChBgF,OAAO,GAAG,CAAC,GAAGtD,KAAK,CAACsD,OAAO,EAAE,CAAC;QAC/B,CAAC,MAAM;UAAA;UAAAtF,cAAA,GAAAqB,CAAA;UAAArB,cAAA,GAAAM,CAAA;UAAA,IAAI0B,KAAK,YAAYb,GAAG,EAAE;YAAA;YAAAnB,cAAA,GAAAqB,CAAA;YAAArB,cAAA,GAAAM,CAAA;YAChCiF,MAAM,GAAG,MAAM;YAAC;YAAAvF,cAAA,GAAAM,CAAA;YAChBgF,OAAO,GAAG,CAAC,GAAGtD,KAAK,CAACsD,OAAO,EAAE,CAAC;UAC/B,CAAC,MAAM;YAAA;YAAAtF,cAAA,GAAAqB,CAAA;YAAArB,cAAA,GAAAM,CAAA;YACNgF,OAAO,GAAGG,MAAM,CAACH,OAAO,CAACtD,KAAK,CAAC;UAChC;QAAA;QAEA,MAAM0D,KAAK;QAAA;QAAA,CAAA1F,cAAA,GAAAM,CAAA,QAAGgF,OAAO,CAACtB,GAAG,CAAC,CAAC,CAAC2B,CAAC,EAAET,CAAC,CAAC,KAAK;UAAA;UAAAlF,cAAA,GAAAS,CAAA;UAAAT,cAAA,GAAAM,CAAA;UAAA,UAAGqF,CAAC,KAAKhD,WAAW,CAACuC,CAAC,EAAEb,KAAK,GAAG,CAAC,EAAE,CAAC,GAAGC,IAAI,EAAEtC,KAAK,CAAC,CAAC,EAAE;QAAF,CAAE,CAAC;QAAC;QAAAhC,cAAA,GAAAM,CAAA;QAC9F,OAAOiF,MAAM,IAAIG,KAAK,CAAC7B,MAAM,GAAG,CAAC;QAAA;QAAA,CAAA7D,cAAA,GAAAqB,CAAA,WAC9B,MAAMyD,EAAE,GAAGY,KAAK,CAACrC,IAAI,CAAC,MAAMyB,EAAE,EAAE,CAAC,KAAKF,EAAE,GAAG;QAAA;QAAA,CAAA5E,cAAA,GAAAqB,CAAA,WAC3C,KAAKqE,KAAK,CAACrC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAC;MAC/B;IACA;MAAA;MAAArD,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACC,MAAM,IAAIgB,KAAK,CAAC,gBAAgBU,KAAK,EAAE,CAAC;EAC1C;AACD;AAAC;AAAAhC,cAAA,GAAAM,CAAA;AAEDsF,KAAK,CAAC;EAAA;EAAA5F,cAAA,GAAAS,CAAA;EACL,MAAMoF,WAAW;EAAA;EAAA,CAAA7F,cAAA,GAAAM,CAAA,QAAG,IAAI,CAACuF,WAAW;EAAC;EAAA7F,cAAA,GAAAM,CAAA;EACrCD,OAAO,GAAG,IAAIH,IAAI,CAAC,MAAM;IAAA;IAAAF,cAAA,GAAAS,CAAA;IAAAT,cAAA,GAAAM,CAAA;IAAA,WAAIO,eAAe,CAACgF,WAAW,CAAC;EAAD,CAAC,CAAC;AAC3D,CAAC,CAAC;AAAC;AAAA7F,cAAA,GAAAM,CAAA;AACHwF,QAAQ,CAAC,kBAAK;EAAA;EAAA9F,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAM,CAAA;EACb,IAAI,IAAI,CAACuF,WAAW,EAAEE,KAAK,KAAK,QAAQ,EAAE;IAAA;IAAA/F,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAM,CAAA;IACzC,MAAMD,OAAO,EAAE2F,QAAQ,EAAE1C,kBAAkB,EAAE;EAC9C,CAAC;EAAA;EAAA;IAAAtD,cAAA,GAAAqB,CAAA;EAAA;EAAArB,cAAA,GAAAM,CAAA;EACDD,OAAO,GAAG4F,SAAS;AACpB,CAAC,CAAC;AAEF;;;;;;;;;;;;AAYA,OAAM,SAAUC,cAAcA,CAAClE,KAAc,EAAEC,OAA0B;EAAA;EAAAjC,cAAA,GAAAS,CAAA;EAAAT,cAAA,GAAAM,CAAA;EACxE,IAAI,CAACD,OAAO,EAAE;IAAA;IAAAL,cAAA,GAAAqB,CAAA;IAAArB,cAAA,GAAAM,CAAA;IACb,MAAM,IAAIgB,KAAK,CAAC,2CAA2C,CAAC;EAC7D,CAAC;EAAA;EAAA;IAAAtB,cAAA,GAAAqB,CAAA;EAAA;EAAArB,cAAA,GAAAM,CAAA;EAED,OAAOD,OAAO,CAAC2B,KAAK,CAACD,MAAM,CAACC,KAAK,EAAEC,OAAO,CAAC;AAC5C","ignoreList":[]}