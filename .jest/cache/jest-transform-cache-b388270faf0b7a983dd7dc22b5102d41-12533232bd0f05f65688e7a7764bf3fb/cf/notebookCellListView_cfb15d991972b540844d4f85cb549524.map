{"version":3,"names":["cov_1ek1q6ey7v","actualCoverage","ListView","ConstantTimePrefixSumComputer","NotebookCellsLayout","_items","s","_whitespace","_prefixSumComputer","_size","_paddingTop","paddingTop","f","count","length","size","constructor","topPadding","b","getWhitespaces","restoreWhitespace","items","reduce","total","item","ws","splice","index","deleteCount","inserts","removeValues","newSizes","i","insertIndex","existingWhitespaces","filter","afterPosition","push","acc","insertValues","setValue","insertWhitespace","id","priority","Math","max","map","sort","a","itemSize","accSize","changeOneWhitespace","whitespaceIndex","findIndex","whitespace","oldAfterPosition","oldSize","delta","removeWhitespace","remainingWhitespaces","getWhitespacePosition","find","Error","whitespaces","whitespaceBeforeFirstItem","previousItemPosition","getPrefixSum","previousItemSize","indexAt","position","offset","getIndexOf","trunc","indexAfter","min","positionAt","NotebookCellListView","_lastWhitespaceId","_renderingStack","inRenderingTransaction","notebookRangeMap","rangeMap","render","previousRenderRange","renderTop","renderHeight","renderLeft","scrollWidth","updateItemsInDOM","_rerender","inSmoothScrolling","createRangeMap","existingMap","layout","scrollTop","getRenderRange","lastRenderTop","lastRenderHeight","elementPosition","elementTop","aboveScrollTop","newScrolltop","undefined","eventuallyUpdateScrollDimensions","newAfterPosition","newSize","currentPosition"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/view/notebookCellListView.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IRange } from '../../../../../base/common/range.js';\nimport { ListView } from '../../../../../base/browser/ui/list/listView.js';\nimport { IItem, IRangeMap } from '../../../../../base/browser/ui/list/rangeMap.js';\nimport { ConstantTimePrefixSumComputer } from '../../../../../editor/common/model/prefixSumComputer.js';\n\nexport interface IWhitespace {\n\tid: string;\n\t/**\n\t * To insert whitespace before the first item, use afterPosition 0.\n\t * In other cases, afterPosition is 1-based.\n\t */\n\tafterPosition: number;\n\tsize: number;\n\tpriority: number;\n}\nexport class NotebookCellsLayout implements IRangeMap {\n\tprivate _items: IItem[] = [];\n\tprivate _whitespace: IWhitespace[] = [];\n\tprotected _prefixSumComputer: ConstantTimePrefixSumComputer = new ConstantTimePrefixSumComputer([]);\n\tprivate _size = 0;\n\tprivate _paddingTop = 0;\n\n\tget paddingTop() {\n\t\treturn this._paddingTop;\n\t}\n\n\tset paddingTop(paddingTop: number) {\n\t\tthis._size = this._size + paddingTop - this._paddingTop;\n\t\tthis._paddingTop = paddingTop;\n\t}\n\n\tget count(): number {\n\t\treturn this._items.length;\n\t}\n\n\t/**\n\t * Returns the sum of the sizes of all items in the range map.\n\t */\n\tget size(): number {\n\t\treturn this._size;\n\t}\n\n\tconstructor(topPadding?: number) {\n\t\tthis._paddingTop = topPadding ?? 0;\n\t\tthis._size = this._paddingTop;\n\t}\n\n\tgetWhitespaces(): IWhitespace[] {\n\t\treturn this._whitespace;\n\t}\n\n\trestoreWhitespace(items: IWhitespace[]) {\n\t\tthis._whitespace = items;\n\t\tthis._size = this._paddingTop + this._items.reduce((total, item) => total + item.size, 0) + this._whitespace.reduce((total, ws) => total + ws.size, 0);\n\t}\n\n\t/**\n\t */\n\tsplice(index: number, deleteCount: number, items?: IItem[] | undefined): void {\n\t\tconst inserts = items ?? [];\n\t\t// Perform the splice operation on the items array.\n\t\tthis._items.splice(index, deleteCount, ...inserts);\n\n\t\tthis._size = this._paddingTop + this._items.reduce((total, item) => total + item.size, 0) + this._whitespace.reduce((total, ws) => total + ws.size, 0);\n\t\tthis._prefixSumComputer.removeValues(index, deleteCount);\n\n\t\t// inserts should also include whitespaces\n\t\tconst newSizes = [];\n\t\tfor (let i = 0; i < inserts.length; i++) {\n\t\t\tconst insertIndex = i + index;\n\t\t\tconst existingWhitespaces = this._whitespace.filter(ws => ws.afterPosition === insertIndex + 1);\n\n\n\t\t\tif (existingWhitespaces.length > 0) {\n\t\t\t\tnewSizes.push(inserts[i].size + existingWhitespaces.reduce((acc, ws) => acc + ws.size, 0));\n\t\t\t} else {\n\t\t\t\tnewSizes.push(inserts[i].size);\n\t\t\t}\n\t\t}\n\t\tthis._prefixSumComputer.insertValues(index, newSizes);\n\n\t\t// Now that the items array has been updated, and the whitespaces are updated elsewhere, if an item is removed/inserted, the accumlated size of the items are all updated.\n\t\t// Loop through all items from the index where the splice started, to the end\n\t\tfor (let i = index; i < this._items.length; i++) {\n\t\t\tconst existingWhitespaces = this._whitespace.filter(ws => ws.afterPosition === i + 1);\n\t\t\tif (existingWhitespaces.length > 0) {\n\t\t\t\tthis._prefixSumComputer.setValue(i, this._items[i].size + existingWhitespaces.reduce((acc, ws) => acc + ws.size, 0));\n\t\t\t} else {\n\t\t\t\tthis._prefixSumComputer.setValue(i, this._items[i].size);\n\t\t\t}\n\t\t}\n\t}\n\n\tinsertWhitespace(id: string, afterPosition: number, size: number): void {\n\t\tlet priority = 0;\n\t\tconst existingWhitespaces = this._whitespace.filter(ws => ws.afterPosition === afterPosition);\n\t\tif (existingWhitespaces.length > 0) {\n\t\t\tpriority = Math.max(...existingWhitespaces.map(ws => ws.priority)) + 1;\n\t\t}\n\n\t\tthis._whitespace.push({ id, afterPosition: afterPosition, size, priority });\n\t\tthis._size += size; // Update the total size to include the whitespace\n\t\tthis._whitespace.sort((a, b) => {\n\t\t\tif (a.afterPosition === b.afterPosition) {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t}\n\t\t\treturn a.afterPosition - b.afterPosition;\n\t\t});\n\n\t\t// find item size of index\n\t\tif (afterPosition > 0) {\n\t\t\tconst index = afterPosition - 1;\n\t\t\tconst itemSize = this._items[index].size;\n\t\t\tconst accSize = itemSize + size;\n\t\t\tthis._prefixSumComputer.setValue(index, accSize);\n\t\t}\n\t}\n\n\tchangeOneWhitespace(id: string, afterPosition: number, size: number): void {\n\t\tconst whitespaceIndex = this._whitespace.findIndex(ws => ws.id === id);\n\t\tif (whitespaceIndex !== -1) {\n\t\t\tconst whitespace = this._whitespace[whitespaceIndex];\n\t\t\tconst oldAfterPosition = whitespace.afterPosition;\n\t\t\twhitespace.afterPosition = afterPosition;\n\t\t\tconst oldSize = whitespace.size;\n\t\t\tconst delta = size - oldSize;\n\t\t\twhitespace.size = size;\n\t\t\tthis._size += delta;\n\n\t\t\tif (oldAfterPosition > 0 && oldAfterPosition <= this._items.length) {\n\t\t\t\tconst index = oldAfterPosition - 1;\n\t\t\t\tconst itemSize = this._items[index].size;\n\t\t\t\tconst accSize = itemSize;\n\t\t\t\tthis._prefixSumComputer.setValue(index, accSize);\n\t\t\t}\n\n\t\t\tif (afterPosition > 0 && afterPosition <= this._items.length) {\n\t\t\t\tconst index = afterPosition - 1;\n\t\t\t\tconst itemSize = this._items[index].size;\n\t\t\t\tconst accSize = itemSize + size;\n\t\t\t\tthis._prefixSumComputer.setValue(index, accSize);\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveWhitespace(id: string): void {\n\t\tconst whitespaceIndex = this._whitespace.findIndex(ws => ws.id === id);\n\t\tif (whitespaceIndex !== -1) {\n\t\t\tconst whitespace = this._whitespace[whitespaceIndex];\n\t\t\tthis._whitespace.splice(whitespaceIndex, 1);\n\t\t\tthis._size -= whitespace.size; // Reduce the total size by the size of the removed whitespace\n\n\t\t\tif (whitespace.afterPosition > 0) {\n\t\t\t\tconst index = whitespace.afterPosition - 1;\n\t\t\t\tconst itemSize = this._items[index].size;\n\t\t\t\tconst remainingWhitespaces = this._whitespace.filter(ws => ws.afterPosition === whitespace.afterPosition);\n\t\t\t\tconst accSize = itemSize + remainingWhitespaces.reduce((acc, ws) => acc + ws.size, 0);\n\t\t\t\tthis._prefixSumComputer.setValue(index, accSize);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * find position of whitespace\n\t * @param id: id of the whitespace\n\t * @returns: position in the list view\n\t */\n\tgetWhitespacePosition(id: string): number {\n\t\tconst whitespace = this._whitespace.find(ws => ws.id === id);\n\t\tif (!whitespace) {\n\t\t\tthrow new Error('Whitespace not found');\n\t\t}\n\n\t\tconst afterPosition = whitespace.afterPosition;\n\t\tif (afterPosition === 0) {\n\t\t\t// find all whitespaces at the same position but with higher priority (smaller number)\n\t\t\tconst whitespaces = this._whitespace.filter(ws => ws.afterPosition === afterPosition && ws.priority < whitespace.priority);\n\t\t\treturn whitespaces.reduce((acc, ws) => acc + ws.size, 0) + this.paddingTop;\n\t\t}\n\n\t\tconst whitespaceBeforeFirstItem = this._whitespace.filter(ws => ws.afterPosition === 0).reduce((acc, ws) => acc + ws.size, 0);\n\n\t\t// previous item index\n\t\tconst index = afterPosition - 1;\n\t\tconst previousItemPosition = this._prefixSumComputer.getPrefixSum(index);\n\t\tconst previousItemSize = this._items[index].size;\n\t\treturn previousItemPosition + previousItemSize + whitespaceBeforeFirstItem + this.paddingTop;\n\t}\n\n\tindexAt(position: number): number {\n\t\tif (position < 0) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tconst whitespaceBeforeFirstItem = this._whitespace.filter(ws => ws.afterPosition === 0).reduce((acc, ws) => acc + ws.size, 0);\n\n\t\tconst offset = position - (this._paddingTop + whitespaceBeforeFirstItem);\n\t\tif (offset <= 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (offset >= (this._size - this._paddingTop - whitespaceBeforeFirstItem)) {\n\t\t\treturn this.count;\n\t\t}\n\n\t\treturn this._prefixSumComputer.getIndexOf(Math.trunc(offset)).index;\n\t}\n\n\tindexAfter(position: number): number {\n\t\tconst index = this.indexAt(position);\n\t\treturn Math.min(index + 1, this._items.length);\n\t}\n\n\tpositionAt(index: number): number {\n\t\tif (index < 0) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (this.count === 0) {\n\t\t\treturn -1;\n\t\t}\n\n\t\t// index is zero based, if index+1 > this.count, then it points to the fictitious element after the last element of this array.\n\t\tif (index >= this.count) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tconst whitespaceBeforeFirstItem = this._whitespace.filter(ws => ws.afterPosition === 0).reduce((acc, ws) => acc + ws.size, 0);\n\t\treturn this._prefixSumComputer.getPrefixSum(index/** count */) + this._paddingTop + whitespaceBeforeFirstItem;\n\t}\n}\n\nexport class NotebookCellListView<T> extends ListView<T> {\n\tprivate _lastWhitespaceId: number = 0;\n\tprivate _renderingStack = 0;\n\n\tget inRenderingTransaction(): boolean {\n\t\treturn this._renderingStack > 0;\n\t}\n\n\tget notebookRangeMap(): NotebookCellsLayout {\n\t\treturn this.rangeMap as NotebookCellsLayout;\n\t}\n\n\tprotected override render(previousRenderRange: IRange, renderTop: number, renderHeight: number, renderLeft: number | undefined, scrollWidth: number | undefined, updateItemsInDOM?: boolean): void {\n\t\tthis._renderingStack++;\n\t\tsuper.render(previousRenderRange, renderTop, renderHeight, renderLeft, scrollWidth, updateItemsInDOM);\n\t\tthis._renderingStack--;\n\t}\n\n\tprotected override _rerender(renderTop: number, renderHeight: number, inSmoothScrolling?: boolean | undefined): void {\n\t\tthis._renderingStack++;\n\t\tsuper._rerender(renderTop, renderHeight, inSmoothScrolling);\n\t\tthis._renderingStack--;\n\t}\n\n\tprotected override createRangeMap(paddingTop: number): IRangeMap {\n\t\tconst existingMap = this.rangeMap as NotebookCellsLayout | undefined;\n\t\tif (existingMap) {\n\t\t\tconst layout = new NotebookCellsLayout(paddingTop);\n\t\t\tlayout.restoreWhitespace(existingMap.getWhitespaces());\n\t\t\treturn layout;\n\t\t} else {\n\t\t\treturn new NotebookCellsLayout(paddingTop);\n\t\t}\n\n\t}\n\n\tinsertWhitespace(afterPosition: number, size: number): string {\n\t\tconst scrollTop = this.scrollTop;\n\t\tconst id = `${++this._lastWhitespaceId}`;\n\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst elementPosition = this.elementTop(afterPosition);\n\t\tconst aboveScrollTop = scrollTop > elementPosition;\n\t\tthis.notebookRangeMap.insertWhitespace(id, afterPosition, size);\n\n\t\tconst newScrolltop = aboveScrollTop ? scrollTop + size : scrollTop;\n\t\tthis.render(previousRenderRange, newScrolltop, this.lastRenderHeight, undefined, undefined, false);\n\t\tthis._rerender(newScrolltop, this.renderHeight, false);\n\t\tthis.eventuallyUpdateScrollDimensions();\n\n\t\treturn id;\n\t}\n\n\tchangeOneWhitespace(id: string, newAfterPosition: number, newSize: number) {\n\t\tconst scrollTop = this.scrollTop;\n\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\t\tconst currentPosition = this.notebookRangeMap.getWhitespacePosition(id);\n\n\t\tif (currentPosition > scrollTop) {\n\t\t\tthis.notebookRangeMap.changeOneWhitespace(id, newAfterPosition, newSize);\n\t\t\tthis.render(previousRenderRange, scrollTop, this.lastRenderHeight, undefined, undefined, false);\n\t\t\tthis._rerender(scrollTop, this.renderHeight, false);\n\t\t\tthis.eventuallyUpdateScrollDimensions();\n\t\t} else {\n\t\t\tthis.notebookRangeMap.changeOneWhitespace(id, newAfterPosition, newSize);\n\t\t\tthis.eventuallyUpdateScrollDimensions();\n\t\t}\n\t}\n\n\tremoveWhitespace(id: string): void {\n\t\tconst scrollTop = this.scrollTop;\n\t\tconst previousRenderRange = this.getRenderRange(this.lastRenderTop, this.lastRenderHeight);\n\n\t\tthis.notebookRangeMap.removeWhitespace(id);\n\t\tthis.render(previousRenderRange, scrollTop, this.lastRenderHeight, undefined, undefined, false);\n\t\tthis._rerender(scrollTop, this.renderHeight, false);\n\t\tthis.eventuallyUpdateScrollDimensions();\n\t}\n\n\tgetWhitespacePosition(id: string): number {\n\t\treturn this.notebookRangeMap.getWhitespacePosition(id);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}