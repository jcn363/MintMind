{"version":3,"names":["getActiveWindow","BugIndicatingError","NKeyMap","ensureNonNullable","TextureAtlasSlabAllocator","_canvas","_textureIndex","_ctx","_slabs","cov_libi56dta","s","_activeSlabsByDims","_unusedRects","_openRegionsByHeight","Map","_openRegionsByWidth","_allocatedGlyphs","Set","_slabW","_slabH","_slabsPerRow","_slabsPerColumn","_nextIndex","constructor","options","f","getContext","willReadFrequently","Math","min","b","slabW","max","floor","devicePixelRatio","width","slabH","height","allocate","rasterizedGlyph","glyphWidth","boundingBox","right","left","glyphHeight","bottom","top","size","undefined","sizeCandidate","desiredSlabSize","w","h","slab","get","glyphsPerSlab","entryW","entryH","count","dx","dy","openRegions","length","i","r","x","y","push","pop","splice","unusedW","unusedH","addEntryToMapArray","set","glyphsPerRow","drawImage","source","glyph","pageIndex","glyphIndex","originOffsetX","originOffset","originOffsetY","fontBoundingBoxAscent","fontBoundingBoxDescent","add","getUsagePreview","canvas","OffscreenCanvas","ctx","fillStyle","fillRect","slabEntryPixels","usedPixels","slabEdgePixels","restrictedPixels","entriesPerRow","entriesPerCol","thisSlabPixels","g","unusedRegions","Array","from","values","flat","concat","globalAlpha","convertToBlob","getStats","wastedPixels","totalPixels","edgeUsedPixels","efficiency","toFixed","join","map","key","entry","list"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/atlas/textureAtlasSlabAllocator.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveWindow } from '../../../../base/browser/dom.js';\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { NKeyMap } from '../../../../base/common/map.js';\nimport { ensureNonNullable } from '../gpuUtils.js';\nimport type { IRasterizedGlyph } from '../raster/raster.js';\nimport { UsagePreviewColors, type ITextureAtlasAllocator, type ITextureAtlasPageGlyph } from './atlas.js';\n\nexport interface TextureAtlasSlabAllocatorOptions {\n\tslabW?: number;\n\tslabH?: number;\n}\n\n/**\n * The slab allocator is a more complex allocator that places glyphs in square slabs of a fixed\n * size. Slabs are defined by a small range of glyphs sizes they can house, this places like-sized\n * glyphs in the same slab which reduces wasted space.\n *\n * Slabs also may contain \"unused\" regions on the left and bottom depending on the size of the\n * glyphs they include. This space is used to place very thin or short glyphs, which would otherwise\n * waste a lot of space in their own slab.\n */\nexport class TextureAtlasSlabAllocator implements ITextureAtlasAllocator {\n\n\tprivate readonly _ctx: OffscreenCanvasRenderingContext2D;\n\n\tprivate readonly _slabs: ITextureAtlasSlab[] = [];\n\tprivate readonly _activeSlabsByDims: NKeyMap<ITextureAtlasSlab, [number, number]> = new NKeyMap();\n\n\tprivate readonly _unusedRects: ITextureAtlasSlabUnusedRect[] = [];\n\n\tprivate readonly _openRegionsByHeight: Map<number, ITextureAtlasSlabUnusedRect[]> = new Map();\n\tprivate readonly _openRegionsByWidth: Map<number, ITextureAtlasSlabUnusedRect[]> = new Map();\n\n\t/** A set of all glyphs allocated, this is only tracked to enable debug related functionality */\n\tprivate readonly _allocatedGlyphs: Set<Readonly<ITextureAtlasPageGlyph>> = new Set();\n\n\tprivate _slabW: number;\n\tprivate _slabH: number;\n\tprivate _slabsPerRow: number;\n\tprivate _slabsPerColumn: number;\n\tprivate _nextIndex = 0;\n\n\tconstructor(\n\t\tprivate readonly _canvas: OffscreenCanvas,\n\t\tprivate readonly _textureIndex: number,\n\t\toptions?: TextureAtlasSlabAllocatorOptions\n\t) {\n\t\tthis._ctx = ensureNonNullable(this._canvas.getContext('2d', {\n\t\t\twillReadFrequently: true\n\t\t}));\n\n\t\tthis._slabW = Math.min(\n\t\t\toptions?.slabW ?? (64 << Math.max(Math.floor(getActiveWindow().devicePixelRatio) - 1, 0)),\n\t\t\tthis._canvas.width\n\t\t);\n\t\tthis._slabH = Math.min(\n\t\t\toptions?.slabH ?? this._slabW,\n\t\t\tthis._canvas.height\n\t\t);\n\t\tthis._slabsPerRow = Math.floor(this._canvas.width / this._slabW);\n\t\tthis._slabsPerColumn = Math.floor(this._canvas.height / this._slabH);\n\t}\n\n\tpublic allocate(rasterizedGlyph: IRasterizedGlyph): ITextureAtlasPageGlyph | undefined {\n\t\t// Find ideal slab, creating it if there is none suitable\n\t\tconst glyphWidth = rasterizedGlyph.boundingBox.right - rasterizedGlyph.boundingBox.left + 1;\n\t\tconst glyphHeight = rasterizedGlyph.boundingBox.bottom - rasterizedGlyph.boundingBox.top + 1;\n\n\t\t// The glyph does not fit into the atlas page, glyphs should never be this large in practice\n\t\tif (glyphWidth > this._canvas.width || glyphHeight > this._canvas.height) {\n\t\t\tthrow new BugIndicatingError('Glyph is too large for the atlas page');\n\t\t}\n\n\t\t// The glyph does not fit into a slab\n\t\tif (glyphWidth > this._slabW || glyphHeight > this._slabH) {\n\t\t\t// Only if this is the allocator's first glyph, resize the slab size to fit the glyph.\n\t\t\tif (this._allocatedGlyphs.size > 0) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\t// Find the largest power of 2 devisor that the glyph fits into, this ensure there is no\n\t\t\t// wasted space outside the allocated slabs.\n\t\t\tlet sizeCandidate = this._canvas.width;\n\t\t\twhile (glyphWidth < sizeCandidate / 2 && glyphHeight < sizeCandidate / 2) {\n\t\t\t\tsizeCandidate /= 2;\n\t\t\t}\n\t\t\tthis._slabW = sizeCandidate;\n\t\t\tthis._slabH = sizeCandidate;\n\t\t\tthis._slabsPerRow = Math.floor(this._canvas.width / this._slabW);\n\t\t\tthis._slabsPerColumn = Math.floor(this._canvas.height / this._slabH);\n\t\t}\n\n\t\t// const dpr = getActiveWindow().devicePixelRatio;\n\n\t\t// TODO: Include font size as well as DPR in nearestXPixels calculation\n\n\t\t// Round slab glyph dimensions to the nearest x pixels, where x scaled with device pixel ratio\n\t\t// const nearestXPixels = Math.max(1, Math.floor(dpr / 0.5));\n\t\t// const nearestXPixels = Math.max(1, Math.floor(dpr));\n\t\tconst desiredSlabSize = {\n\t\t\t// Nearest square number\n\t\t\t// TODO: This can probably be optimized\n\t\t\t// w: 1 << Math.ceil(Math.sqrt(glyphWidth)),\n\t\t\t// h: 1 << Math.ceil(Math.sqrt(glyphHeight)),\n\n\t\t\t// Nearest x px\n\t\t\t// w: Math.ceil(glyphWidth / nearestXPixels) * nearestXPixels,\n\t\t\t// h: Math.ceil(glyphHeight / nearestXPixels) * nearestXPixels,\n\n\t\t\t// Round odd numbers up\n\t\t\t// w: glyphWidth % 0 === 1 ? glyphWidth + 1 : glyphWidth,\n\t\t\t// h: glyphHeight % 0 === 1 ? glyphHeight + 1 : glyphHeight,\n\n\t\t\t// Exact number only\n\t\t\tw: glyphWidth,\n\t\t\th: glyphHeight,\n\t\t};\n\n\t\t// Get any existing slab\n\t\tlet slab = this._activeSlabsByDims.get(desiredSlabSize.w, desiredSlabSize.h);\n\n\t\t// Check if the slab is full\n\t\tif (slab) {\n\t\t\tconst glyphsPerSlab = Math.floor(this._slabW / slab.entryW) * Math.floor(this._slabH / slab.entryH);\n\t\t\tif (slab.count >= glyphsPerSlab) {\n\t\t\t\tslab = undefined;\n\t\t\t}\n\t\t}\n\n\t\tlet dx: number | undefined;\n\t\tlet dy: number | undefined;\n\n\t\t// Search for suitable space in unused rectangles\n\t\tif (!slab) {\n\t\t\t// Only check availability for the smallest side\n\t\t\tif (glyphWidth < glyphHeight) {\n\t\t\t\tconst openRegions = this._openRegionsByWidth.get(glyphWidth);\n\t\t\t\tif (openRegions?.length) {\n\t\t\t\t\t// TODO: Don't search everything?\n\t\t\t\t\t// Search from the end so we can typically pop it off the stack\n\t\t\t\t\tfor (let i = openRegions.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst r = openRegions[i];\n\t\t\t\t\t\tif (r.w >= glyphWidth && r.h >= glyphHeight) {\n\t\t\t\t\t\t\tdx = r.x;\n\t\t\t\t\t\t\tdy = r.y;\n\t\t\t\t\t\t\tif (glyphWidth < r.w) {\n\t\t\t\t\t\t\t\tthis._unusedRects.push({\n\t\t\t\t\t\t\t\t\tx: r.x + glyphWidth,\n\t\t\t\t\t\t\t\t\ty: r.y,\n\t\t\t\t\t\t\t\t\tw: r.w - glyphWidth,\n\t\t\t\t\t\t\t\t\th: glyphHeight\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr.y += glyphHeight;\n\t\t\t\t\t\t\tr.h -= glyphHeight;\n\t\t\t\t\t\t\tif (r.h === 0) {\n\t\t\t\t\t\t\t\tif (i === openRegions.length - 1) {\n\t\t\t\t\t\t\t\t\topenRegions.pop();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis._unusedRects.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst openRegions = this._openRegionsByHeight.get(glyphHeight);\n\t\t\t\tif (openRegions?.length) {\n\t\t\t\t\t// TODO: Don't search everything?\n\t\t\t\t\t// Search from the end so we can typically pop it off the stack\n\t\t\t\t\tfor (let i = openRegions.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tconst r = openRegions[i];\n\t\t\t\t\t\tif (r.w >= glyphWidth && r.h >= glyphHeight) {\n\t\t\t\t\t\t\tdx = r.x;\n\t\t\t\t\t\t\tdy = r.y;\n\t\t\t\t\t\t\tif (glyphHeight < r.h) {\n\t\t\t\t\t\t\t\tthis._unusedRects.push({\n\t\t\t\t\t\t\t\t\tx: r.x,\n\t\t\t\t\t\t\t\t\ty: r.y + glyphHeight,\n\t\t\t\t\t\t\t\t\tw: glyphWidth,\n\t\t\t\t\t\t\t\t\th: r.h - glyphHeight\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tr.x += glyphWidth;\n\t\t\t\t\t\t\tr.w -= glyphWidth;\n\t\t\t\t\t\t\tif (r.h === 0) {\n\t\t\t\t\t\t\t\tif (i === openRegions.length - 1) {\n\t\t\t\t\t\t\t\t\topenRegions.pop();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis._unusedRects.splice(i, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create a new slab\n\t\tif (dx === undefined || dy === undefined) {\n\t\t\tif (!slab) {\n\t\t\t\tif (this._slabs.length >= this._slabsPerRow * this._slabsPerColumn) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tslab = {\n\t\t\t\t\tx: Math.floor(this._slabs.length % this._slabsPerRow) * this._slabW,\n\t\t\t\t\ty: Math.floor(this._slabs.length / this._slabsPerRow) * this._slabH,\n\t\t\t\t\tentryW: desiredSlabSize.w,\n\t\t\t\t\tentryH: desiredSlabSize.h,\n\t\t\t\t\tcount: 0\n\t\t\t\t};\n\t\t\t\t// Track unused regions to use for small glyphs\n\t\t\t\t// +-------------+----+\n\t\t\t\t// |             |    |\n\t\t\t\t// |             |    | <- Unused W region\n\t\t\t\t// |             |    |\n\t\t\t\t// |-------------+----+\n\t\t\t\t// |                  | <- Unused H region\n\t\t\t\t// +------------------+\n\t\t\t\tconst unusedW = this._slabW % slab.entryW;\n\t\t\t\tconst unusedH = this._slabH % slab.entryH;\n\t\t\t\tif (unusedW) {\n\t\t\t\t\taddEntryToMapArray(this._openRegionsByWidth, unusedW, {\n\t\t\t\t\t\tx: slab.x + this._slabW - unusedW,\n\t\t\t\t\t\tw: unusedW,\n\t\t\t\t\t\ty: slab.y,\n\t\t\t\t\t\th: this._slabH - (unusedH ?? 0)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (unusedH) {\n\t\t\t\t\taddEntryToMapArray(this._openRegionsByHeight, unusedH, {\n\t\t\t\t\t\tx: slab.x,\n\t\t\t\t\t\tw: this._slabW,\n\t\t\t\t\t\ty: slab.y + this._slabH - unusedH,\n\t\t\t\t\t\th: unusedH\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._slabs.push(slab);\n\t\t\t\tthis._activeSlabsByDims.set(slab, desiredSlabSize.w, desiredSlabSize.h);\n\t\t\t}\n\n\t\t\tconst glyphsPerRow = Math.floor(this._slabW / slab.entryW);\n\t\t\tdx = slab.x + Math.floor(slab.count % glyphsPerRow) * slab.entryW;\n\t\t\tdy = slab.y + Math.floor(slab.count / glyphsPerRow) * slab.entryH;\n\n\t\t\t// Shift current row\n\t\t\tslab.count++;\n\t\t}\n\n\t\t// Draw glyph\n\t\tthis._ctx.drawImage(\n\t\t\trasterizedGlyph.source,\n\t\t\t// source\n\t\t\trasterizedGlyph.boundingBox.left,\n\t\t\trasterizedGlyph.boundingBox.top,\n\t\t\tglyphWidth,\n\t\t\tglyphHeight,\n\t\t\t// destination\n\t\t\tdx,\n\t\t\tdy,\n\t\t\tglyphWidth,\n\t\t\tglyphHeight\n\t\t);\n\n\t\t// Create glyph object\n\t\tconst glyph: ITextureAtlasPageGlyph = {\n\t\t\tpageIndex: this._textureIndex,\n\t\t\tglyphIndex: this._nextIndex++,\n\t\t\tx: dx,\n\t\t\ty: dy,\n\t\t\tw: glyphWidth,\n\t\t\th: glyphHeight,\n\t\t\toriginOffsetX: rasterizedGlyph.originOffset.x,\n\t\t\toriginOffsetY: rasterizedGlyph.originOffset.y,\n\t\t\tfontBoundingBoxAscent: rasterizedGlyph.fontBoundingBoxAscent,\n\t\t\tfontBoundingBoxDescent: rasterizedGlyph.fontBoundingBoxDescent,\n\t\t};\n\n\t\t// Set the glyph\n\t\tthis._allocatedGlyphs.add(glyph);\n\n\t\treturn glyph;\n\t}\n\n\tpublic getUsagePreview(): Promise<Blob> {\n\t\tconst w = this._canvas.width;\n\t\tconst h = this._canvas.height;\n\t\tconst canvas = new OffscreenCanvas(w, h);\n\t\tconst ctx = ensureNonNullable(canvas.getContext('2d'));\n\n\t\tctx.fillStyle = UsagePreviewColors.Unused;\n\t\tctx.fillRect(0, 0, w, h);\n\n\t\tlet slabEntryPixels = 0;\n\t\tlet usedPixels = 0;\n\t\tlet slabEdgePixels = 0;\n\t\tlet restrictedPixels = 0;\n\t\tconst slabW = 64 << (Math.floor(getActiveWindow().devicePixelRatio) - 1);\n\t\tconst slabH = slabW;\n\n\t\t// Draw wasted underneath glyphs first\n\t\tfor (const slab of this._slabs) {\n\t\t\tlet x = 0;\n\t\t\tlet y = 0;\n\t\t\tfor (let i = 0; i < slab.count; i++) {\n\t\t\t\tif (x + slab.entryW > slabW) {\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty += slab.entryH;\n\t\t\t\t}\n\t\t\t\tctx.fillStyle = UsagePreviewColors.Wasted;\n\t\t\t\tctx.fillRect(slab.x + x, slab.y + y, slab.entryW, slab.entryH);\n\n\t\t\t\tslabEntryPixels += slab.entryW * slab.entryH;\n\t\t\t\tx += slab.entryW;\n\t\t\t}\n\t\t\tconst entriesPerRow = Math.floor(slabW / slab.entryW);\n\t\t\tconst entriesPerCol = Math.floor(slabH / slab.entryH);\n\t\t\tconst thisSlabPixels = slab.entryW * entriesPerRow * slab.entryH * entriesPerCol;\n\t\t\tslabEdgePixels += (slabW * slabH) - thisSlabPixels;\n\t\t}\n\n\t\t// Draw glyphs\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\tusedPixels += g.w * g.h;\n\t\t\tctx.fillStyle = UsagePreviewColors.Used;\n\t\t\tctx.fillRect(g.x, g.y, g.w, g.h);\n\t\t}\n\n\t\t// Draw unused space on side\n\t\tconst unusedRegions = Array.from(this._openRegionsByWidth.values()).flat().concat(Array.from(this._openRegionsByHeight.values()).flat());\n\t\tfor (const r of unusedRegions) {\n\t\t\tctx.fillStyle = UsagePreviewColors.Restricted;\n\t\t\tctx.fillRect(r.x, r.y, r.w, r.h);\n\t\t\trestrictedPixels += r.w * r.h;\n\t\t}\n\n\n\t\t// Overlay actual glyphs on top\n\t\tctx.globalAlpha = 0.5;\n\t\tctx.drawImage(this._canvas, 0, 0);\n\t\tctx.globalAlpha = 1;\n\n\t\treturn canvas.convertToBlob();\n\t}\n\n\tpublic getStats(): string {\n\t\tconst w = this._canvas.width;\n\t\tconst h = this._canvas.height;\n\n\t\tlet slabEntryPixels = 0;\n\t\tlet usedPixels = 0;\n\t\tlet slabEdgePixels = 0;\n\t\tlet wastedPixels = 0;\n\t\tlet restrictedPixels = 0;\n\t\tconst totalPixels = w * h;\n\t\tconst slabW = 64 << (Math.floor(getActiveWindow().devicePixelRatio) - 1);\n\t\tconst slabH = slabW;\n\n\t\t// Draw wasted underneath glyphs first\n\t\tfor (const slab of this._slabs) {\n\t\t\tlet x = 0;\n\t\t\tlet y = 0;\n\t\t\tfor (let i = 0; i < slab.count; i++) {\n\t\t\t\tif (x + slab.entryW > slabW) {\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty += slab.entryH;\n\t\t\t\t}\n\t\t\t\tslabEntryPixels += slab.entryW * slab.entryH;\n\t\t\t\tx += slab.entryW;\n\t\t\t}\n\t\t\tconst entriesPerRow = Math.floor(slabW / slab.entryW);\n\t\t\tconst entriesPerCol = Math.floor(slabH / slab.entryH);\n\t\t\tconst thisSlabPixels = slab.entryW * entriesPerRow * slab.entryH * entriesPerCol;\n\t\t\tslabEdgePixels += (slabW * slabH) - thisSlabPixels;\n\t\t}\n\n\t\t// Draw glyphs\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\tusedPixels += g.w * g.h;\n\t\t}\n\n\t\t// Draw unused space on side\n\t\tconst unusedRegions = Array.from(this._openRegionsByWidth.values()).flat().concat(Array.from(this._openRegionsByHeight.values()).flat());\n\t\tfor (const r of unusedRegions) {\n\t\t\trestrictedPixels += r.w * r.h;\n\t\t}\n\n\t\tconst edgeUsedPixels = slabEdgePixels - restrictedPixels;\n\t\twastedPixels = slabEntryPixels - (usedPixels - edgeUsedPixels);\n\n\t\t// usedPixels += slabEdgePixels - restrictedPixels;\n\t\tconst efficiency = usedPixels / (usedPixels + wastedPixels + restrictedPixels);\n\n\t\treturn [\n\t\t\t`page[${this._textureIndex}]:`,\n\t\t\t`     Total: ${totalPixels}px (${w}x${h})`,\n\t\t\t`      Used: ${usedPixels}px (${((usedPixels / totalPixels) * 100).toFixed(2)}%)`,\n\t\t\t`    Wasted: ${wastedPixels}px (${((wastedPixels / totalPixels) * 100).toFixed(2)}%)`,\n\t\t\t`Restricted: ${restrictedPixels}px (${((restrictedPixels / totalPixels) * 100).toFixed(2)}%) (hard to allocate)`,\n\t\t\t`Efficiency: ${efficiency === 1 ? '100' : (efficiency * 100).toFixed(2)}%`,\n\t\t\t`     Slabs: ${this._slabs.length} of ${Math.floor(this._canvas.width / slabW) * Math.floor(this._canvas.height / slabH)}`\n\t\t].join('\\n');\n\t}\n}\n\ninterface ITextureAtlasSlab {\n\tx: number;\n\ty: number;\n\tentryH: number;\n\tentryW: number;\n\tcount: number;\n}\n\ninterface ITextureAtlasSlabUnusedRect {\n\tx: number;\n\ty: number;\n\tw: number;\n\th: number;\n}\n\nfunction addEntryToMapArray<K, V>(map: Map<K, V[]>, key: K, entry: V) {\n\tlet list = map.get(key);\n\tif (!list) {\n\t\tlist = [];\n\t\tmap.set(key, list);\n\t}\n\tlist.push(entry);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}