{"version":3,"names":["cov_q2tqha59g","actualCoverage","timeout","Disposable","DisposableStore","CoreEditingCommands","CoreNavigationCommands","withAsyncTestCodeEditor","autorun","derived","runWithFakedTimers","IAccessibilitySignalService","ServiceCollection","ILanguageFeaturesService","LanguageFeaturesService","InlineCompletionsController","Range","TextEdit","BugIndicatingError","PositionOffsetTransformer","MockInlineCompletionsProvider","enableForwardStability","returnValue","s","delayMs","callHistory","Array","calledTwiceIn50Ms","constructor","b","f","setReturnValue","value","setReturnValues","values","getAndClearCallHistory","history","assertNotCalledTwiceWithin50ms","Error","lastTimeMs","undefined","provideInlineCompletions","model","position","context","token","currentTimeMs","Date","getTime","push","toString","triggerKind","text","getValue","result","v","x","range","getFullModelRange","items","disposeInlineCompletions","handleItemDidShow","MockSearchReplaceCompletionsProvider","_map","Map","add","search","replace","set","idx","indexOf","fromPositions","getPositionAt","length","insertText","isInlineEdit","InlineEditContext","editor","prettyViewStates","edit","reader","state","read","edits","_register","e","view","getAndClearViewStates","arr","GhostTextContext","_currentPrettyViewState","currentPrettyViewState","ghostText","primaryGhostText","render","keyboardType","trigger","cursorUp","runCommand","CursorUp","cursorRight","CursorRight","cursorLeft","CursorLeft","cursorDown","CursorDown","cursorLineEnd","CursorLineEnd","leftDelete","DeleteLeft","withAsyncTestCodeEditorAndInlineCompletionsModel","options","callback","useFakeTimers","fakeClock","disposableStore","provider","languageFeaturesService","serviceCollection","playSignal","isSoundEnabled","signal","d","inlineCompletionsProvider","register","pattern","editorViewModel","instantiationService","controller","createInstance","testOnlyDisableUi","get","store","dispose","AnnotatedString","markers","src","annotations","findMarkers","textWithoutMarkers","results","getMarkerOffset","markerIdx","sort","a","pos","i","foundMarker","marker","startsWith","mark","AnnotatedText","_transformer","getMarkerPosition","getPosition"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/test/browser/utils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { timeout } from '../../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { CoreEditingCommands, CoreNavigationCommands } from '../../../../browser/coreCommands.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { InlineCompletion, InlineCompletionContext, InlineCompletions, InlineCompletionsProvider } from '../../../../common/languages.js';\nimport { ITestCodeEditor, TestCodeEditorInstantiationOptions, withAsyncTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\nimport { InlineCompletionsModel } from '../../browser/model/inlineCompletionsModel.js';\nimport { autorun, derived } from '../../../../../base/common/observable.js';\nimport { runWithFakedTimers } from '../../../../../base/test/common/timeTravelScheduler.js';\nimport { IAccessibilitySignalService } from '../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { ServiceCollection } from '../../../../../platform/instantiation/common/serviceCollection.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { LanguageFeaturesService } from '../../../../common/services/languageFeaturesService.js';\nimport { ViewModel } from '../../../../common/viewModel/viewModelImpl.js';\nimport { InlineCompletionsController } from '../../browser/controller/inlineCompletionsController.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { TextEdit } from '../../../../common/core/edits/textEdit.js';\nimport { BugIndicatingError } from '../../../../../base/common/errors.js';\nimport { PositionOffsetTransformer } from '../../../../common/core/text/positionToOffset.js';\n\nexport class MockInlineCompletionsProvider implements InlineCompletionsProvider {\n\tprivate returnValue: InlineCompletion[] = [];\n\tprivate delayMs: number = 0;\n\n\tprivate callHistory = new Array<unknown>();\n\tprivate calledTwiceIn50Ms = false;\n\n\tconstructor(\n\t\tpublic readonly enableForwardStability = false,\n\t) { }\n\n\tpublic setReturnValue(value: InlineCompletion | undefined, delayMs: number = 0): void {\n\t\tthis.returnValue = value ? [value] : [];\n\t\tthis.delayMs = delayMs;\n\t}\n\n\tpublic setReturnValues(values: InlineCompletion[], delayMs: number = 0): void {\n\t\tthis.returnValue = values;\n\t\tthis.delayMs = delayMs;\n\t}\n\n\tpublic getAndClearCallHistory() {\n\t\tconst history = [...this.callHistory];\n\t\tthis.callHistory = [];\n\t\treturn history;\n\t}\n\n\tpublic assertNotCalledTwiceWithin50ms() {\n\t\tif (this.calledTwiceIn50Ms) {\n\t\t\tthrow new Error('provideInlineCompletions has been called at least twice within 50ms. This should not happen.');\n\t\t}\n\t}\n\n\tprivate lastTimeMs: number | undefined = undefined;\n\n\tasync provideInlineCompletions(model: ITextModel, position: Position, context: InlineCompletionContext, token: CancellationToken): Promise<InlineCompletions> {\n\t\tconst currentTimeMs = new Date().getTime();\n\t\tif (this.lastTimeMs && currentTimeMs - this.lastTimeMs < 50) {\n\t\t\tthis.calledTwiceIn50Ms = true;\n\t\t}\n\t\tthis.lastTimeMs = currentTimeMs;\n\n\t\tthis.callHistory.push({\n\t\t\tposition: position.toString(),\n\t\t\ttriggerKind: context.triggerKind,\n\t\t\ttext: model.getValue()\n\t\t});\n\t\tconst result = new Array<InlineCompletion>();\n\t\tfor (const v of this.returnValue) {\n\t\t\tconst x = { ...v };\n\t\t\tif (!x.range) {\n\t\t\t\tx.range = model.getFullModelRange();\n\t\t\t}\n\t\t\tresult.push(x);\n\t\t}\n\n\t\tif (this.delayMs > 0) {\n\t\t\tawait timeout(this.delayMs);\n\t\t}\n\n\t\treturn { items: result, enableForwardStability: this.enableForwardStability };\n\t}\n\tdisposeInlineCompletions() { }\n\thandleItemDidShow() { }\n}\n\nexport class MockSearchReplaceCompletionsProvider implements InlineCompletionsProvider {\n\tprivate _map = new Map<string, string>();\n\n\tpublic add(search: string, replace: string): void {\n\t\tthis._map.set(search, replace);\n\t}\n\n\tasync provideInlineCompletions(model: ITextModel, position: Position, context: InlineCompletionContext, token: CancellationToken): Promise<InlineCompletions> {\n\t\tconst text = model.getValue();\n\t\tfor (const [search, replace] of this._map) {\n\t\t\tconst idx = text.indexOf(search);\n\t\t\t// replace idx...idx+text.length with replace\n\t\t\tif (idx !== -1) {\n\t\t\t\tconst range = Range.fromPositions(model.getPositionAt(idx), model.getPositionAt(idx + search.length));\n\t\t\t\treturn {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ range, insertText: replace, isInlineEdit: true }\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn { items: [] };\n\t}\n\tdisposeInlineCompletions() { }\n\thandleItemDidShow() { }\n}\n\nexport class InlineEditContext extends Disposable {\n\tpublic readonly prettyViewStates = new Array<string | undefined>();\n\n\tconstructor(model: InlineCompletionsModel, private readonly editor: ITestCodeEditor) {\n\t\tsuper();\n\n\t\tconst edit = derived(reader => {\n\t\t\tconst state = model.state.read(reader);\n\t\t\treturn state ? new TextEdit(state.edits) : undefined;\n\t\t});\n\n\t\tthis._register(autorun(reader => {\n\t\t\t/** @description update */\n\t\t\tconst e = edit.read(reader);\n\t\t\tlet view: string | undefined;\n\n\t\t\tif (e) {\n\t\t\t\tview = e.toString(this.editor.getValue());\n\t\t\t} else {\n\t\t\t\tview = undefined;\n\t\t\t}\n\n\t\t\tthis.prettyViewStates.push(view);\n\t\t}));\n\t}\n\n\tpublic getAndClearViewStates(): (string | undefined)[] {\n\t\tconst arr = [...this.prettyViewStates];\n\t\tthis.prettyViewStates.length = 0;\n\t\treturn arr;\n\t}\n}\n\nexport class GhostTextContext extends Disposable {\n\tpublic readonly prettyViewStates = new Array<string | undefined>();\n\tprivate _currentPrettyViewState: string | undefined;\n\tpublic get currentPrettyViewState() {\n\t\treturn this._currentPrettyViewState;\n\t}\n\n\tconstructor(model: InlineCompletionsModel, private readonly editor: ITestCodeEditor) {\n\t\tsuper();\n\n\t\tthis._register(autorun(reader => {\n\t\t\t/** @description update */\n\t\t\tconst ghostText = model.primaryGhostText.read(reader);\n\t\t\tlet view: string | undefined;\n\t\t\tif (ghostText) {\n\t\t\t\tview = ghostText.render(this.editor.getValue(), true);\n\t\t\t} else {\n\t\t\t\tview = this.editor.getValue();\n\t\t\t}\n\n\t\t\tif (this._currentPrettyViewState !== view) {\n\t\t\t\tthis.prettyViewStates.push(view);\n\t\t\t}\n\t\t\tthis._currentPrettyViewState = view;\n\t\t}));\n\t}\n\n\tpublic getAndClearViewStates(): (string | undefined)[] {\n\t\tconst arr = [...this.prettyViewStates];\n\t\tthis.prettyViewStates.length = 0;\n\t\treturn arr;\n\t}\n\n\tpublic keyboardType(text: string): void {\n\t\tthis.editor.trigger('keyboard', 'type', { text });\n\t}\n\n\tpublic cursorUp(): void {\n\t\tthis.editor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t}\n\n\tpublic cursorRight(): void {\n\t\tthis.editor.runCommand(CoreNavigationCommands.CursorRight, null);\n\t}\n\n\tpublic cursorLeft(): void {\n\t\tthis.editor.runCommand(CoreNavigationCommands.CursorLeft, null);\n\t}\n\n\tpublic cursorDown(): void {\n\t\tthis.editor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t}\n\n\tpublic cursorLineEnd(): void {\n\t\tthis.editor.runCommand(CoreNavigationCommands.CursorLineEnd, null);\n\t}\n\n\tpublic leftDelete(): void {\n\t\tthis.editor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t}\n}\n\nexport interface IWithAsyncTestCodeEditorAndInlineCompletionsModel {\n\teditor: ITestCodeEditor;\n\teditorViewModel: ViewModel;\n\tmodel: InlineCompletionsModel;\n\tcontext: GhostTextContext;\n\tstore: DisposableStore;\n}\n\nexport async function withAsyncTestCodeEditorAndInlineCompletionsModel<T>(\n\ttext: string,\n\toptions: TestCodeEditorInstantiationOptions & { provider?: InlineCompletionsProvider; fakeClock?: boolean },\n\tcallback: (args: IWithAsyncTestCodeEditorAndInlineCompletionsModel) => Promise<T>): Promise<T> {\n\treturn await runWithFakedTimers({\n\t\tuseFakeTimers: options.fakeClock,\n\t}, async () => {\n\t\tconst disposableStore = new DisposableStore();\n\n\t\ttry {\n\t\t\tif (options.provider) {\n\t\t\t\tconst languageFeaturesService = new LanguageFeaturesService();\n\t\t\t\tif (!options.serviceCollection) {\n\t\t\t\t\toptions.serviceCollection = new ServiceCollection();\n\t\t\t\t}\n\t\t\t\toptions.serviceCollection.set(ILanguageFeaturesService, languageFeaturesService);\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\toptions.serviceCollection.set(IAccessibilitySignalService, {\n\t\t\t\t\tplaySignal: async () => { },\n\t\t\t\t\tisSoundEnabled(signal: unknown) { return false; },\n\t\t\t\t} as any);\n\t\t\t\tconst d = languageFeaturesService.inlineCompletionsProvider.register({ pattern: '**' }, options.provider);\n\t\t\t\tdisposableStore.add(d);\n\t\t\t}\n\n\t\t\tlet result: T;\n\t\t\tawait withAsyncTestCodeEditor(text, options, async (editor, editorViewModel, instantiationService) => {\n\t\t\t\tconst controller = instantiationService.createInstance(InlineCompletionsController, editor);\n\t\t\t\tcontroller.testOnlyDisableUi();\n\t\t\t\tconst model = controller.model.get()!;\n\t\t\t\tconst context = new GhostTextContext(model, editor);\n\t\t\t\ttry {\n\t\t\t\t\tresult = await callback({ editor, editorViewModel, model, context, store: disposableStore });\n\t\t\t\t} finally {\n\t\t\t\t\tcontext.dispose();\n\t\t\t\t\tmodel.dispose();\n\t\t\t\t\tcontroller.dispose();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (options.provider instanceof MockInlineCompletionsProvider) {\n\t\t\t\toptions.provider.assertNotCalledTwiceWithin50ms();\n\t\t\t}\n\n\t\t\treturn result!;\n\t\t} finally {\n\t\t\tdisposableStore.dispose();\n\t\t}\n\t});\n}\n\nexport class AnnotatedString {\n\tpublic readonly value: string;\n\tpublic readonly markers: { mark: string; idx: number }[];\n\n\tconstructor(src: string, annotations: string[] = ['â†“']) {\n\t\tconst markers = findMarkers(src, annotations);\n\t\tthis.value = markers.textWithoutMarkers;\n\t\tthis.markers = markers.results;\n\t}\n\n\tgetMarkerOffset(markerIdx = 0): number {\n\t\tif (markerIdx >= this.markers.length) {\n\t\t\tthrow new BugIndicatingError(`Marker index ${markerIdx} out of bounds`);\n\t\t}\n\t\treturn this.markers[markerIdx].idx;\n\t}\n}\n\nfunction findMarkers(text: string, markers: string[]): {\n\tresults: { mark: string; idx: number }[];\n\ttextWithoutMarkers: string;\n} {\n\tconst results: { mark: string; idx: number }[] = [];\n\tlet textWithoutMarkers = '';\n\n\tmarkers.sort((a, b) => b.length - a.length);\n\n\tlet pos = 0;\n\tfor (let i = 0; i < text.length;) {\n\t\tlet foundMarker = false;\n\t\tfor (const marker of markers) {\n\t\t\tif (text.startsWith(marker, i)) {\n\t\t\t\tresults.push({ mark: marker, idx: pos });\n\t\t\t\ti += marker.length;\n\t\t\t\tfoundMarker = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!foundMarker) {\n\t\t\ttextWithoutMarkers += text[i];\n\t\t\tpos++;\n\t\t\ti++;\n\t\t}\n\t}\n\n\treturn { results, textWithoutMarkers };\n}\n\nexport class AnnotatedText extends AnnotatedString {\n\tprivate readonly _transformer = new PositionOffsetTransformer(this.value);\n\n\tgetMarkerPosition(markerIdx = 0): Position {\n\t\treturn this._transformer.getPosition(this.getMarkerOffset(markerIdx));\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}