{"version":3,"names":["cov_1r07c1uziz","actualCoverage","binarySearch","createDecorator","TestDecorations","value","s","push","f","searchIndex","a","b","line","splice","lines","length","startIndex","startLine","i","v","slice","ITestingDecorationsService"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/common/testingDecorations.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction } from '../../../../base/common/actions.js';\nimport { binarySearch } from '../../../../base/common/arrays.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { IModelDeltaDecoration } from '../../../../editor/common/model.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ITestMessage } from './testTypes.js';\n\nexport interface ITestingDecorationsService {\n\t_serviceBrand: undefined;\n\n\t/**\n\t * Fires when something happened to change decorations in an editor.\n\t * Interested consumers should call {@link syncDecorations} to update them.\n\t */\n\treadonly onDidChange: Event<void>;\n\n\t/**\n\t * Signals the code underlying a test message has changed, and it should\n\t * no longer be decorated in the source.\n\t */\n\tinvalidateResultMessage(message: ITestMessage): void;\n\n\t/**\n\t * Ensures decorations in the given document URI are up to date,\n\t * and returns them.\n\t */\n\tsyncDecorations(resource: URI): Iterable<ITestDecoration> & {\n\t\treadonly size: number;\n\t\tgetById(decorationId: string): ITestDecoration | undefined;\n\t};\n\n\t/**\n\t * Gets the range where a test ID is displayed, in the given URI.\n\t * Returns undefined if there's no such decoration.\n\t */\n\tgetDecoratedTestPosition(resource: URI, testId: string): Position | undefined;\n\n\t/**\n\t * Sets that alternative actions are displayed on the model.\n\t */\n\tupdateDecorationsAlternateAction(resource: URI, isAlt: boolean): void;\n}\n\nexport interface ITestDecoration {\n\t/**\n\t * ID of the decoration after being added to the editor, set after the\n\t * decoration is applied.\n\t */\n\treadonly id: string;\n\n\t/**\n\t * Original decoration line number.\n\t */\n\treadonly line: number;\n\n\t/**\n\t * Editor decoration instance.\n\t */\n\treadonly editorDecoration: IModelDeltaDecoration;\n\n\tgetContextMenuActions(): { object: IAction[]; dispose(): void };\n}\n\nexport class TestDecorations<T extends { id: string; line: number } = ITestDecoration> {\n\tpublic value: T[] = [];\n\t/**\n\t * Adds a new value to the decorations.\n\t */\n\tpublic push(value: T) {\n\t\tconst searchIndex = binarySearch(this.value, value, (a, b) => a.line - b.line);\n\t\tthis.value.splice(searchIndex < 0 ? ~searchIndex : searchIndex, 0, value);\n\t}\n\n\t/**\n\t * Gets decorations on each line.\n\t */\n\tpublic *lines(): Iterable<[number, T[]]> {\n\t\tif (!this.value.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet startIndex = 0;\n\t\tlet startLine = this.value[0].line;\n\t\tfor (let i = 1; i < this.value.length; i++) {\n\t\t\tconst v = this.value[i];\n\t\t\tif (v.line !== startLine) {\n\t\t\t\tyield [startLine, this.value.slice(startIndex, i)];\n\t\t\t\tstartLine = v.line;\n\t\t\t\tstartIndex = i;\n\t\t\t}\n\t\t}\n\n\t\tyield [startLine, this.value.slice(startIndex)];\n\t}\n}\n\nexport const ITestingDecorationsService = createDecorator<ITestingDecorationsService>('testingDecorationService');\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgFC;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAhFD;;;;AAMA,SAASE,YAAY,QAAQ,mCAAmC;AAKhE,SAASC,eAAe,QAAQ,4DAA4D;AA2D5F,OAAM,MAAOC,eAAe;EACpBC,KAAK;EAAA;EAAA,CAAAL,cAAA,GAAAM,CAAA,OAAQ,EAAE;EACtB;;;EAGOC,IAAIA,CAACF,KAAQ;IAAA;IAAAL,cAAA,GAAAQ,CAAA;IACnB,MAAMC,WAAW;IAAA;IAAA,CAAAT,cAAA,GAAAM,CAAA,OAAGJ,YAAY,CAAC,IAAI,CAACG,KAAK,EAAEA,KAAK,EAAE,CAACK,CAAC,EAAEC,CAAC,KAAK;MAAA;MAAAX,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAM,CAAA;MAAA,OAAAI,CAAC,CAACE,IAAI,GAAGD,CAAC,CAACC,IAAI;IAAJ,CAAI,CAAC;IAAC;IAAAZ,cAAA,GAAAM,CAAA;IAC/E,IAAI,CAACD,KAAK,CAACQ,MAAM,CAACJ,WAAW,GAAG,CAAC;IAAA;IAAA,CAAAT,cAAA,GAAAW,CAAA,UAAG,CAACF,WAAW;IAAA;IAAA,CAAAT,cAAA,GAAAW,CAAA,UAAGF,WAAW,GAAE,CAAC,EAAEJ,KAAK,CAAC;EAC1E;EAEA;;;EAGO,CAACS,KAAKA,CAAA;IAAA;IAAAd,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAM,CAAA;IACZ,IAAI,CAAC,IAAI,CAACD,KAAK,CAACU,MAAM,EAAE;MAAA;MAAAf,cAAA,GAAAW,CAAA;MAAAX,cAAA,GAAAM,CAAA;MACvB;IACD,CAAC;IAAA;IAAA;MAAAN,cAAA,GAAAW,CAAA;IAAA;IAED,IAAIK,UAAU;IAAA;IAAA,CAAAhB,cAAA,GAAAM,CAAA,OAAG,CAAC;IAClB,IAAIW,SAAS;IAAA;IAAA,CAAAjB,cAAA,GAAAM,CAAA,OAAG,IAAI,CAACD,KAAK,CAAC,CAAC,CAAC,CAACO,IAAI;IAAC;IAAAZ,cAAA,GAAAM,CAAA;IACnC,KAAK,IAAIY,CAAC;IAAA;IAAA,CAAAlB,cAAA,GAAAM,CAAA,OAAG,CAAC,GAAEY,CAAC,GAAG,IAAI,CAACb,KAAK,CAACU,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC3C,MAAMC,CAAC;MAAA;MAAA,CAAAnB,cAAA,GAAAM,CAAA,QAAG,IAAI,CAACD,KAAK,CAACa,CAAC,CAAC;MAAC;MAAAlB,cAAA,GAAAM,CAAA;MACxB,IAAIa,CAAC,CAACP,IAAI,KAAKK,SAAS,EAAE;QAAA;QAAAjB,cAAA,GAAAW,CAAA;QAAAX,cAAA,GAAAM,CAAA;QACzB,MAAM,CAACW,SAAS,EAAE,IAAI,CAACZ,KAAK,CAACe,KAAK,CAACJ,UAAU,EAAEE,CAAC,CAAC,CAAC;QAAC;QAAAlB,cAAA,GAAAM,CAAA;QACnDW,SAAS,GAAGE,CAAC,CAACP,IAAI;QAAC;QAAAZ,cAAA,GAAAM,CAAA;QACnBU,UAAU,GAAGE,CAAC;MACf,CAAC;MAAA;MAAA;QAAAlB,cAAA,GAAAW,CAAA;MAAA;IACF;IAAC;IAAAX,cAAA,GAAAM,CAAA;IAED,MAAM,CAACW,SAAS,EAAE,IAAI,CAACZ,KAAK,CAACe,KAAK,CAACJ,UAAU,CAAC,CAAC;EAChD;;AAGD,OAAO,MAAMK,0BAA0B;AAAA;AAAA,CAAArB,cAAA,GAAAM,CAAA,QAAGH,eAAe,CAA6B,0BAA0B,CAAC","ignoreList":[]}