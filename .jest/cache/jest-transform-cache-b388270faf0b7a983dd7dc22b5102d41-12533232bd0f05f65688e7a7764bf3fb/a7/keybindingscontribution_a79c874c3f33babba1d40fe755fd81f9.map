{"version":3,"names":["cov_143h1usgua","actualCoverage","nls","Action2","registerAction2","IKeybindingService","Categories","ICommandService","showWindowLogActionId","DisposableStore","toDisposable","ILayoutService","$","addDisposableListener","append","getDomNodePagePosition","getWindows","onDidRegisterWindow","createCSSRule","createStyleSheet","Emitter","ToggleKeybindingsLogAction","disposable","constructor","f","s","id","title","localize2","category","Developer","f1","run","accessor","logging","get","toggleLogging","b","commandService","executeCommand","dispose","undefined","layoutService","disposables","container","activeContainer","focusMarker","add","remove","stylesheet","onKeyDown","registerWindowListeners","window","e","fire","onDidChangeActiveContainer","appendChild","event","target","position","style","top","left","width","height","display","setTimeout"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/keybindings/browser/keybindings.contribution.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { showWindowLogActionId } from '../../../services/log/common/logConstants.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { $, addDisposableListener, append, getDomNodePagePosition, getWindows, onDidRegisterWindow } from '../../../../base/browser/dom.js';\nimport { createCSSRule, createStyleSheet } from '../../../../base/browser/domStylesheets.js';\nimport { Emitter } from '../../../../base/common/event.js';\n\nclass ToggleKeybindingsLogAction extends Action2 {\n\tstatic disposable: IDisposable | undefined;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.toggleKeybindingsLog',\n\t\t\ttitle: nls.localize2('toggleKeybindingsLog', \"Toggle Keyboard Shortcuts Troubleshooting\"),\n\t\t\tcategory: Categories.Developer,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst logging = accessor.get(IKeybindingService).toggleLogging();\n\t\tif (logging) {\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tcommandService.executeCommand(showWindowLogActionId);\n\t\t}\n\n\t\tif (ToggleKeybindingsLogAction.disposable) {\n\t\t\tToggleKeybindingsLogAction.disposable.dispose();\n\t\t\tToggleKeybindingsLogAction.disposable = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutService = accessor.get(ILayoutService);\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst container = layoutService.activeContainer;\n\t\tconst focusMarker = append(container, $('.focus-troubleshooting-marker'));\n\t\tdisposables.add(toDisposable(() => focusMarker.remove()));\n\n\t\t// Add CSS rule for focus marker\n\t\tconst stylesheet = createStyleSheet(undefined, undefined, disposables);\n\t\tcreateCSSRule('.focus-troubleshooting-marker', `\n\t\t\tposition: fixed;\n\t\t\tpointer-events: none;\n\t\t\tz-index: 100000;\n\t\t\tbackground-color: rgba(255, 0, 0, 0.2);\n\t\t\tborder: 2px solid rgba(255, 0, 0, 0.8);\n\t\t\tborder-radius: 2px;\n\t\t\tdisplay: none;\n\t\t`, stylesheet);\n\n\t\tconst onKeyDown = disposables.add(new Emitter<KeyboardEvent>());\n\n\t\tfunction registerWindowListeners(window: Window, disposables: DisposableStore): void {\n\t\t\tdisposables.add(addDisposableListener(window, 'keydown', e => onKeyDown.fire(e), true));\n\t\t}\n\n\t\tfor (const { window, disposables } of getWindows()) {\n\t\t\tregisterWindowListeners(window, disposables);\n\t\t}\n\n\t\tdisposables.add(onDidRegisterWindow(({ window, disposables }) => registerWindowListeners(window, disposables)));\n\n\t\tdisposables.add(layoutService.onDidChangeActiveContainer(() => {\n\t\t\tlayoutService.activeContainer.appendChild(focusMarker);\n\t\t}));\n\n\t\tdisposables.add(onKeyDown.event(e => {\n\t\t\tconst target = e.target as HTMLElement;\n\t\t\tif (target) {\n\t\t\t\tconst position = getDomNodePagePosition(target);\n\t\t\t\tfocusMarker.style.top = `${position.top}px`;\n\t\t\t\tfocusMarker.style.left = `${position.left}px`;\n\t\t\t\tfocusMarker.style.width = `${position.width}px`;\n\t\t\t\tfocusMarker.style.height = `${position.height}px`;\n\t\t\t\tfocusMarker.style.display = 'block';\n\n\t\t\t\t// Hide after timeout\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tfocusMarker.style.display = 'none';\n\t\t\t\t}, 800);\n\t\t\t}\n\t\t}));\n\n\t\tToggleKeybindingsLogAction.disposable = disposables;\n\t}\n}\n\nregisterAction2(ToggleKeybindingsLogAction);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkBM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAlBN;;;;AAKA,OAAO,KAAKE,GAAG,MAAM,oBAAoB;AACzC,SAASC,OAAO,EAAEC,eAAe,QAAQ,gDAAgD;AAEzF,SAASC,kBAAkB,QAAQ,sDAAsD;AACzF,SAASC,UAAU,QAAQ,8DAA8D;AACzF,SAASC,eAAe,QAAQ,kDAAkD;AAClF,SAASC,qBAAqB,QAAQ,8CAA8C;AACpF,SAASC,eAAe,EAAeC,YAAY,QAAQ,sCAAsC;AACjG,SAASC,cAAc,QAAQ,sDAAsD;AACrF,SAASC,CAAC,EAAEC,qBAAqB,EAAEC,MAAM,EAAEC,sBAAsB,EAAEC,UAAU,EAAEC,mBAAmB,QAAQ,iCAAiC;AAC3I,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,4CAA4C;AAC5F,SAASC,OAAO,QAAQ,kCAAkC;AAE1D,MAAMC,0BAA2B,SAAQlB,OAAO;EAC/C,OAAOmB,UAAU;EAEjBC,YAAA;IAAA;IAAAvB,cAAA,GAAAwB,CAAA;IAAAxB,cAAA,GAAAyB,CAAA;IACC,KAAK,CAAC;MACLC,EAAE,EAAE,uCAAuC;MAC3CC,KAAK,EAAEzB,GAAG,CAAC0B,SAAS,CAAC,sBAAsB,EAAE,2CAA2C,CAAC;MACzFC,QAAQ,EAAEvB,UAAU,CAACwB,SAAS;MAC9BC,EAAE,EAAE;KACJ,CAAC;EACH;EAEAC,GAAGA,CAACC,QAA0B;IAAA;IAAAjC,cAAA,GAAAwB,CAAA;IAC7B,MAAMU,OAAO;IAAA;IAAA,CAAAlC,cAAA,GAAAyB,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAAC9B,kBAAkB,CAAC,CAAC+B,aAAa,EAAE;IAAC;IAAApC,cAAA,GAAAyB,CAAA;IACjE,IAAIS,OAAO,EAAE;MAAA;MAAAlC,cAAA,GAAAqC,CAAA;MACZ,MAAMC,cAAc;MAAA;MAAA,CAAAtC,cAAA,GAAAyB,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAAC5B,eAAe,CAAC;MAAC;MAAAP,cAAA,GAAAyB,CAAA;MACrDa,cAAc,CAACC,cAAc,CAAC/B,qBAAqB,CAAC;IACrD,CAAC;IAAA;IAAA;MAAAR,cAAA,GAAAqC,CAAA;IAAA;IAAArC,cAAA,GAAAyB,CAAA;IAED,IAAIJ,0BAA0B,CAACC,UAAU,EAAE;MAAA;MAAAtB,cAAA,GAAAqC,CAAA;MAAArC,cAAA,GAAAyB,CAAA;MAC1CJ,0BAA0B,CAACC,UAAU,CAACkB,OAAO,EAAE;MAAC;MAAAxC,cAAA,GAAAyB,CAAA;MAChDJ,0BAA0B,CAACC,UAAU,GAAGmB,SAAS;MAAC;MAAAzC,cAAA,GAAAyB,CAAA;MAClD;IACD,CAAC;IAAA;IAAA;MAAAzB,cAAA,GAAAqC,CAAA;IAAA;IAED,MAAMK,aAAa;IAAA;IAAA,CAAA1C,cAAA,GAAAyB,CAAA,OAAGQ,QAAQ,CAACE,GAAG,CAACxB,cAAc,CAAC;IAClD,MAAMgC,WAAW;IAAA;IAAA,CAAA3C,cAAA,GAAAyB,CAAA,QAAG,IAAIhB,eAAe,EAAE;IAEzC,MAAMmC,SAAS;IAAA;IAAA,CAAA5C,cAAA,GAAAyB,CAAA,QAAGiB,aAAa,CAACG,eAAe;IAC/C,MAAMC,WAAW;IAAA;IAAA,CAAA9C,cAAA,GAAAyB,CAAA,QAAGX,MAAM,CAAC8B,SAAS,EAAEhC,CAAC,CAAC,+BAA+B,CAAC,CAAC;IAAC;IAAAZ,cAAA,GAAAyB,CAAA;IAC1EkB,WAAW,CAACI,GAAG,CAACrC,YAAY,CAAC,MAAM;MAAA;MAAAV,cAAA,GAAAwB,CAAA;MAAAxB,cAAA,GAAAyB,CAAA;MAAA,OAAAqB,WAAW,CAACE,MAAM,EAAE;IAAF,CAAE,CAAC,CAAC;IAEzD;IACA,MAAMC,UAAU;IAAA;IAAA,CAAAjD,cAAA,GAAAyB,CAAA,QAAGN,gBAAgB,CAACsB,SAAS,EAAEA,SAAS,EAAEE,WAAW,CAAC;IAAC;IAAA3C,cAAA,GAAAyB,CAAA;IACvEP,aAAa,CAAC,+BAA+B,EAAE;;;;;;;;GAQ9C,EAAE+B,UAAU,CAAC;IAEd,MAAMC,SAAS;IAAA;IAAA,CAAAlD,cAAA,GAAAyB,CAAA,QAAGkB,WAAW,CAACI,GAAG,CAAC,IAAI3B,OAAO,EAAiB,CAAC;IAE/D,SAAS+B,uBAAuBA,CAACC,MAAc,EAAET,WAA4B;MAAA;MAAA3C,cAAA,GAAAwB,CAAA;MAAAxB,cAAA,GAAAyB,CAAA;MAC5EkB,WAAW,CAACI,GAAG,CAAClC,qBAAqB,CAACuC,MAAM,EAAE,SAAS,EAAEC,CAAC,IAAI;QAAA;QAAArD,cAAA,GAAAwB,CAAA;QAAAxB,cAAA,GAAAyB,CAAA;QAAA,OAAAyB,SAAS,CAACI,IAAI,CAACD,CAAC,CAAC;MAAD,CAAC,EAAE,IAAI,CAAC,CAAC;IACxF;IAAC;IAAArD,cAAA,GAAAyB,CAAA;IAED,KAAK,MAAM;MAAE2B,MAAM;MAAET;IAAW,CAAE,IAAI3B,UAAU,EAAE,EAAE;MAAA;MAAAhB,cAAA,GAAAyB,CAAA;MACnD0B,uBAAuB,CAACC,MAAM,EAAET,WAAW,CAAC;IAC7C;IAAC;IAAA3C,cAAA,GAAAyB,CAAA;IAEDkB,WAAW,CAACI,GAAG,CAAC9B,mBAAmB,CAAC,CAAC;MAAEmC,MAAM;MAAET;IAAW,CAAE,KAAK;MAAA;MAAA3C,cAAA,GAAAwB,CAAA;MAAAxB,cAAA,GAAAyB,CAAA;MAAA,OAAA0B,uBAAuB,CAACC,MAAM,EAAET,WAAW,CAAC;IAAD,CAAC,CAAC,CAAC;IAAC;IAAA3C,cAAA,GAAAyB,CAAA;IAEhHkB,WAAW,CAACI,GAAG,CAACL,aAAa,CAACa,0BAA0B,CAAC,MAAK;MAAA;MAAAvD,cAAA,GAAAwB,CAAA;MAAAxB,cAAA,GAAAyB,CAAA;MAC7DiB,aAAa,CAACG,eAAe,CAACW,WAAW,CAACV,WAAW,CAAC;IACvD,CAAC,CAAC,CAAC;IAAC;IAAA9C,cAAA,GAAAyB,CAAA;IAEJkB,WAAW,CAACI,GAAG,CAACG,SAAS,CAACO,KAAK,CAACJ,CAAC,IAAG;MAAA;MAAArD,cAAA,GAAAwB,CAAA;MACnC,MAAMkC,MAAM;MAAA;MAAA,CAAA1D,cAAA,GAAAyB,CAAA,QAAG4B,CAAC,CAACK,MAAqB;MAAC;MAAA1D,cAAA,GAAAyB,CAAA;MACvC,IAAIiC,MAAM,EAAE;QAAA;QAAA1D,cAAA,GAAAqC,CAAA;QACX,MAAMsB,QAAQ;QAAA;QAAA,CAAA3D,cAAA,GAAAyB,CAAA,QAAGV,sBAAsB,CAAC2C,MAAM,CAAC;QAAC;QAAA1D,cAAA,GAAAyB,CAAA;QAChDqB,WAAW,CAACc,KAAK,CAACC,GAAG,GAAG,GAAGF,QAAQ,CAACE,GAAG,IAAI;QAAC;QAAA7D,cAAA,GAAAyB,CAAA;QAC5CqB,WAAW,CAACc,KAAK,CAACE,IAAI,GAAG,GAAGH,QAAQ,CAACG,IAAI,IAAI;QAAC;QAAA9D,cAAA,GAAAyB,CAAA;QAC9CqB,WAAW,CAACc,KAAK,CAACG,KAAK,GAAG,GAAGJ,QAAQ,CAACI,KAAK,IAAI;QAAC;QAAA/D,cAAA,GAAAyB,CAAA;QAChDqB,WAAW,CAACc,KAAK,CAACI,MAAM,GAAG,GAAGL,QAAQ,CAACK,MAAM,IAAI;QAAC;QAAAhE,cAAA,GAAAyB,CAAA;QAClDqB,WAAW,CAACc,KAAK,CAACK,OAAO,GAAG,OAAO;QAEnC;QAAA;QAAAjE,cAAA,GAAAyB,CAAA;QACAyC,UAAU,CAAC,MAAK;UAAA;UAAAlE,cAAA,GAAAwB,CAAA;UAAAxB,cAAA,GAAAyB,CAAA;UACfqB,WAAW,CAACc,KAAK,CAACK,OAAO,GAAG,MAAM;QACnC,CAAC,EAAE,GAAG,CAAC;MACR,CAAC;MAAA;MAAA;QAAAjE,cAAA,GAAAqC,CAAA;MAAA;IACF,CAAC,CAAC,CAAC;IAAC;IAAArC,cAAA,GAAAyB,CAAA;IAEJJ,0BAA0B,CAACC,UAAU,GAAGqB,WAAW;EACpD;;AACA;AAAA3C,cAAA,GAAAyB,CAAA;AAEDrB,eAAe,CAACiB,0BAA0B,CAAC","ignoreList":[]}