{"version":3,"names":["cov_2dpyqtc55l","actualCoverage","derived","setVisualization","data","visualization","f","s","debugLogRects","rects","elem","ManyRectVisualizer","debugLogRect","rect","name","HtmlRectVisualizer","_rects","_elem","constructor","visualize","d","key","v","push","dispose","forEach","_rect","_name","div","document","createElement","style","position","border","pointerEvents","zIndex","label","textContent","top","left","color","fontSize","backgroundColor","appendChild","updatePosition","elemRect","getBoundingClientRect","console","log","width","height","body","observer","ResizeObserver","observe","disconnect","remove","debugView","value","reader","b","vis","debugReadDisposable","_reader","store","add","undefined","read"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/view/inlineEdits/inlineEditsViews/debugVisualization.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../../../../base/common/lifecycle.js';\nimport { IReader, derived } from '../../../../../../../base/common/observable.js';\nimport { Rect } from '../../../../../../common/core/2d/rect.js';\n\nexport interface IVisualizationEffect {\n\tvisualize(): IDisposable;\n}\n\nexport function setVisualization(data: object, visualization: IVisualizationEffect): void {\n\t// eslint-disable-next-line local/code-no-any-casts\n\t(data as any)['$$visualization'] = visualization;\n}\n\nexport function debugLogRects(rects: Record<string, Rect>, elem: HTMLElement): object {\n\tsetVisualization(rects, new ManyRectVisualizer(rects, elem));\n\treturn rects;\n}\n\nexport function debugLogRect(rect: Rect, elem: HTMLElement, name: string): Rect {\n\tsetVisualization(rect, new HtmlRectVisualizer(rect, elem, name));\n\treturn rect;\n}\n\nclass ManyRectVisualizer implements IVisualizationEffect {\n\tconstructor(\n\t\tprivate readonly _rects: Record<string, Rect>,\n\t\tprivate readonly _elem: HTMLElement\n\t) { }\n\n\tvisualize(): IDisposable {\n\t\tconst d: IDisposable[] = [];\n\t\tfor (const key in this._rects) {\n\t\t\tconst v = new HtmlRectVisualizer(this._rects[key], this._elem, key);\n\t\t\td.push(v.visualize());\n\t\t}\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\td.forEach(d => d.dispose());\n\t\t\t}\n\t\t};\n\t}\n}\n\nclass HtmlRectVisualizer implements IVisualizationEffect {\n\tconstructor(\n\t\tprivate readonly _rect: Rect,\n\t\tprivate readonly _elem: HTMLElement,\n\t\tprivate readonly _name: string\n\t) { }\n\n\tvisualize(): IDisposable {\n\t\tconst div = document.createElement('div');\n\t\tdiv.style.position = 'fixed';\n\t\tdiv.style.border = '1px solid red';\n\t\tdiv.style.pointerEvents = 'none';\n\t\tdiv.style.zIndex = '100000';\n\n\t\tconst label = document.createElement('div');\n\t\tlabel.textContent = this._name;\n\t\tlabel.style.position = 'absolute';\n\t\tlabel.style.top = '-20px';\n\t\tlabel.style.left = '0';\n\t\tlabel.style.color = 'red';\n\t\tlabel.style.fontSize = '12px';\n\t\tlabel.style.backgroundColor = 'rgba(255, 255, 255, 0.7)';\n\t\tdiv.appendChild(label);\n\n\t\tconst updatePosition = () => {\n\t\t\tconst elemRect = this._elem.getBoundingClientRect();\n\t\t\tconsole.log(elemRect);\n\t\t\tdiv.style.left = (elemRect.left + this._rect.left) + 'px';\n\t\t\tdiv.style.top = (elemRect.top + this._rect.top) + 'px';\n\t\t\tdiv.style.width = this._rect.width + 'px';\n\t\t\tdiv.style.height = this._rect.height + 'px';\n\t\t};\n\n\t\t// This is for debugging only\n\t\t \n\t\tdocument.body.appendChild(div);\n\t\tupdatePosition();\n\n\t\tconst observer = new ResizeObserver(updatePosition);\n\t\tobserver.observe(this._elem);\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tobserver.disconnect();\n\t\t\t\tdiv.remove();\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport function debugView(value: unknown, reader: IReader): void {\n\tif (typeof value === 'object' && value && '$$visualization' in value) {\n\t\tconst vis = value['$$visualization'] as IVisualizationEffect;\n\t\tdebugReadDisposable(vis.visualize(), reader);\n\t}\n}\n\nfunction debugReadDisposable(d: IDisposable, reader: IReader): void {\n\tderived({ name: 'debugReadDisposable' }, (_reader) => {\n\t\t_reader.store.add(d);\n\t\treturn undefined;\n\t}).read(reader);\n}\n"],"mappings":"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","ignoreList":[]}