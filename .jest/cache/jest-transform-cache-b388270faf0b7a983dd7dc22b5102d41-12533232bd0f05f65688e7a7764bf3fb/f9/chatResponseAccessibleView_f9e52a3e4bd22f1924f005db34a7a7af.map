{"version":3,"names":["cov_1qbovw686z","actualCoverage","renderAsPlaintext","isMarkdownString","MarkdownString","stripIcons","Disposable","localize","migrateLegacyTerminalToolSpecificData","ChatContextKeys","IChatToolInvocation","isResponseVM","toolContentToA11yString","IChatWidgetService","ChatResponseAccessibleView","priority","s","name","type","when","inChatSession","getProvider","accessor","f","widgetService","get","widget","lastFocusedWidget","b","chatInputFocused","hasInputFocus","focusResponseItem","verifiedWidget","focusedItem","getFocus","ChatResponseAccessibleProvider","_widget","_wasOpenedFromInput","_focusedItem","constructor","item","id","verbositySettingKey","options","provideContent","_getContent","responseContent","response","toString","errorDetails","message","value","filter","kind","forEach","elicitation","title","includeCodeBlocksFences","toolInvocations","toolInvocation","state","confirmationMessages","input","toolSpecificData","terminalData","commandLine","userEdited","toolEdited","original","JSON","stringify","extensions","todoList","rawInput","toolId","contentForModel","resultDetails","isError","invocationMessage","pastConfirmations","pastConfirmation","isComplete","pastTenseMessage","onClose","reveal","focusInput","focus","provideNextContent","next","getSibling","providePreviousContent","previous"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatResponseAccessibleView.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { renderAsPlaintext } from '../../../../base/browser/markdownRenderer.js';\nimport { isMarkdownString, MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { stripIcons } from '../../../../base/common/iconLabels.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport { AccessibleViewProviderId, AccessibleViewType, IAccessibleViewContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { IAccessibleViewImplementation } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { migrateLegacyTerminalToolSpecificData } from '../common/chat.js';\nimport { ChatContextKeys } from '../common/chatContextKeys.js';\nimport { IChatToolInvocation } from '../common/chatService.js';\nimport { isResponseVM } from '../common/chatViewModel.js';\nimport { toolContentToA11yString } from '../common/languageModelToolsService.js';\nimport { ChatTreeItem, IChatWidget, IChatWidgetService } from './chat.js';\n\nexport class ChatResponseAccessibleView implements IAccessibleViewImplementation {\n\treadonly priority = 100;\n\treadonly name = 'panelChat';\n\treadonly type = AccessibleViewType.View;\n\treadonly when = ChatContextKeys.inChatSession;\n\tgetProvider(accessor: ServicesAccessor) {\n\t\tconst widgetService = accessor.get(IChatWidgetService);\n\t\tconst widget = widgetService.lastFocusedWidget;\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\tconst chatInputFocused = widget.hasInputFocus();\n\t\tif (chatInputFocused) {\n\t\t\twidget.focusResponseItem();\n\t\t}\n\n\t\tconst verifiedWidget: IChatWidget = widget;\n\t\tconst focusedItem = verifiedWidget.getFocus();\n\t\tif (!focusedItem) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn new ChatResponseAccessibleProvider(verifiedWidget, focusedItem, chatInputFocused);\n\t}\n}\n\nclass ChatResponseAccessibleProvider extends Disposable implements IAccessibleViewContentProvider {\n\tprivate _focusedItem: ChatTreeItem;\n\tconstructor(\n\t\tprivate readonly _widget: IChatWidget,\n\t\titem: ChatTreeItem,\n\t\tprivate readonly _wasOpenedFromInput: boolean\n\t) {\n\t\tsuper();\n\t\tthis._focusedItem = item;\n\t}\n\n\treadonly id = AccessibleViewProviderId.PanelChat;\n\treadonly verbositySettingKey = AccessibilityVerbositySettingId.Chat;\n\treadonly options = { type: AccessibleViewType.View };\n\n\tprovideContent(): string {\n\t\treturn this._getContent(this._focusedItem);\n\t}\n\n\tprivate _getContent(item: ChatTreeItem): string {\n\t\tlet responseContent = isResponseVM(item) ? item.response.toString() : '';\n\t\tif (!responseContent && 'errorDetails' in item && item.errorDetails) {\n\t\t\tresponseContent = item.errorDetails.message;\n\t\t}\n\t\tif (isResponseVM(item)) {\n\t\t\titem.response.value.filter(item => item.kind === 'elicitation').forEach(elicitation => {\n\t\t\t\tconst title = elicitation.title;\n\t\t\t\tif (typeof title === 'string') {\n\t\t\t\t\tresponseContent += `${title}\\n`;\n\t\t\t\t} else if (isMarkdownString(title)) {\n\t\t\t\t\tresponseContent += renderAsPlaintext(title, { includeCodeBlocksFences: true }) + '\\n';\n\t\t\t\t}\n\t\t\t\tconst message = elicitation.message;\n\t\t\t\tif (isMarkdownString(message)) {\n\t\t\t\t\tresponseContent += renderAsPlaintext(message, { includeCodeBlocksFences: true });\n\t\t\t\t} else {\n\t\t\t\t\tresponseContent += message;\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst toolInvocations = item.response.value.filter(item => item.kind === 'toolInvocation');\n\t\t\tfor (const toolInvocation of toolInvocations) {\n\t\t\t\tconst state = toolInvocation.state.get();\n\t\t\t\tif (toolInvocation.confirmationMessages?.title && state.type === IChatToolInvocation.StateKind.WaitingForConfirmation) {\n\t\t\t\t\tconst title = typeof toolInvocation.confirmationMessages.title === 'string' ? toolInvocation.confirmationMessages.title : toolInvocation.confirmationMessages.title.value;\n\t\t\t\t\tconst message = typeof toolInvocation.confirmationMessages.message === 'string' ? toolInvocation.confirmationMessages.message : stripIcons(renderAsPlaintext(toolInvocation.confirmationMessages.message!));\n\t\t\t\t\tlet input = '';\n\t\t\t\t\tif (toolInvocation.toolSpecificData) {\n\t\t\t\t\t\tif (toolInvocation.toolSpecificData?.kind === 'terminal') {\n\t\t\t\t\t\t\tconst terminalData = migrateLegacyTerminalToolSpecificData(toolInvocation.toolSpecificData);\n\t\t\t\t\t\t\tinput = terminalData.commandLine.userEdited ?? terminalData.commandLine.toolEdited ?? terminalData.commandLine.original;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinput = toolInvocation.toolSpecificData?.kind === 'extensions'\n\t\t\t\t\t\t\t\t? JSON.stringify(toolInvocation.toolSpecificData.extensions)\n\t\t\t\t\t\t\t\t: toolInvocation.toolSpecificData?.kind === 'todoList'\n\t\t\t\t\t\t\t\t\t? JSON.stringify(toolInvocation.toolSpecificData.todoList)\n\t\t\t\t\t\t\t\t\t: toolInvocation.toolSpecificData?.kind === 'pullRequest'\n\t\t\t\t\t\t\t\t\t\t? JSON.stringify(toolInvocation.toolSpecificData)\n\t\t\t\t\t\t\t\t\t\t: JSON.stringify(toolInvocation.toolSpecificData.rawInput);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresponseContent += `${title}`;\n\t\t\t\t\tif (input) {\n\t\t\t\t\t\tresponseContent += `: ${input}`;\n\t\t\t\t\t}\n\t\t\t\t\tresponseContent += `\\n${message}\\n`;\n\t\t\t\t} else if (state.type === IChatToolInvocation.StateKind.WaitingForPostApproval) {\n\t\t\t\t\tresponseContent += localize('toolPostApprovalA11yView', \"Approve results of {0}? Result: \", toolInvocation.toolId) + toolContentToA11yString(state.contentForModel) + '\\n';\n\t\t\t\t} else {\n\t\t\t\t\tconst resultDetails = IChatToolInvocation.resultDetails(toolInvocation);\n\t\t\t\t\tif (resultDetails && 'input' in resultDetails) {\n\t\t\t\t\t\tresponseContent += '\\n' + (resultDetails.isError ? 'Errored ' : 'Completed ');\n\t\t\t\t\t\tresponseContent += `${`${typeof toolInvocation.invocationMessage === 'string' ? toolInvocation.invocationMessage : stripIcons(renderAsPlaintext(toolInvocation.invocationMessage))} with input: ${resultDetails.input}`}\\n`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pastConfirmations = item.response.value.filter(item => item.kind === 'toolInvocationSerialized');\n\t\t\tfor (const pastConfirmation of pastConfirmations) {\n\t\t\t\tif (pastConfirmation.isComplete && pastConfirmation.resultDetails && 'input' in pastConfirmation.resultDetails) {\n\t\t\t\t\tif (pastConfirmation.pastTenseMessage) {\n\t\t\t\t\t\tresponseContent += `\\n${`${typeof pastConfirmation.pastTenseMessage === 'string' ? pastConfirmation.pastTenseMessage : stripIcons(renderAsPlaintext(pastConfirmation.pastTenseMessage))} with input: ${pastConfirmation.resultDetails.input}`}\\n`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn renderAsPlaintext(new MarkdownString(responseContent), { includeCodeBlocksFences: true });\n\t}\n\n\tonClose(): void {\n\t\tthis._widget.reveal(this._focusedItem);\n\t\tif (this._wasOpenedFromInput) {\n\t\t\tthis._widget.focusInput();\n\t\t} else {\n\t\t\tthis._widget.focus(this._focusedItem);\n\t\t}\n\t}\n\n\tprovideNextContent(): string | undefined {\n\t\tconst next = this._widget.getSibling(this._focusedItem, 'next');\n\t\tif (next) {\n\t\t\tthis._focusedItem = next;\n\t\t\treturn this._getContent(next);\n\t\t}\n\t\treturn;\n\t}\n\n\tprovidePreviousContent(): string | undefined {\n\t\tconst previous = this._widget.getSibling(this._focusedItem, 'previous');\n\t\tif (previous) {\n\t\t\tthis._focusedItem = previous;\n\t\t\treturn this._getContent(previous);\n\t\t}\n\t\treturn;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AArBN;;;;AAKA,SAASE,iBAAiB,QAAQ,8CAA8C;AAChF,SAASC,gBAAgB,EAAEC,cAAc,QAAQ,wCAAwC;AACzF,SAASC,UAAU,QAAQ,uCAAuC;AAClE,SAASC,UAAU,QAAQ,sCAAsC;AACjE,SAASC,QAAQ,QAAQ,oBAAoB;AAK7C,SAASC,qCAAqC,QAAQ,mBAAmB;AACzE,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,YAAY,QAAQ,4BAA4B;AACzD,SAASC,uBAAuB,QAAQ,wCAAwC;AAChF,SAAoCC,kBAAkB,QAAQ,WAAW;AAEzE,OAAM,MAAOC,0BAA0B;EAC7BC,QAAQ;EAAA;EAAA,CAAAf,cAAA,GAAAgB,CAAA,OAAG,GAAG;EACdC,IAAI;EAAA;EAAA,CAAAjB,cAAA,GAAAgB,CAAA,OAAG,WAAW;EAClBE,IAAI;EAAA;EAAA,CAAAlB,cAAA,GAAAgB,CAAA;EACJG,IAAI;EAAA;EAAA,CAAAnB,cAAA,GAAAgB,CAAA,OAAGP,eAAe,CAACW,aAAa;EAC7CC,WAAWA,CAACC,QAA0B;IAAA;IAAAtB,cAAA,GAAAuB,CAAA;IACrC,MAAMC,aAAa;IAAA;IAAA,CAAAxB,cAAA,GAAAgB,CAAA,OAAGM,QAAQ,CAACG,GAAG,CAACZ,kBAAkB,CAAC;IACtD,MAAMa,MAAM;IAAA;IAAA,CAAA1B,cAAA,GAAAgB,CAAA,OAAGQ,aAAa,CAACG,iBAAiB;IAAC;IAAA3B,cAAA,GAAAgB,CAAA;IAC/C,IAAI,CAACU,MAAM,EAAE;MAAA;MAAA1B,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACZ;IACD,CAAC;IAAA;IAAA;MAAAhB,cAAA,GAAA4B,CAAA;IAAA;IACD,MAAMC,gBAAgB;IAAA;IAAA,CAAA7B,cAAA,GAAAgB,CAAA,OAAGU,MAAM,CAACI,aAAa,EAAE;IAAC;IAAA9B,cAAA,GAAAgB,CAAA;IAChD,IAAIa,gBAAgB,EAAE;MAAA;MAAA7B,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACrBU,MAAM,CAACK,iBAAiB,EAAE;IAC3B,CAAC;IAAA;IAAA;MAAA/B,cAAA,GAAA4B,CAAA;IAAA;IAED,MAAMI,cAAc;IAAA;IAAA,CAAAhC,cAAA,GAAAgB,CAAA,QAAgBU,MAAM;IAC1C,MAAMO,WAAW;IAAA;IAAA,CAAAjC,cAAA,GAAAgB,CAAA,QAAGgB,cAAc,CAACE,QAAQ,EAAE;IAAC;IAAAlC,cAAA,GAAAgB,CAAA;IAC9C,IAAI,CAACiB,WAAW,EAAE;MAAA;MAAAjC,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACjB;IACD,CAAC;IAAA;IAAA;MAAAhB,cAAA,GAAA4B,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;IAED,OAAO,IAAImB,8BAA8B,CAACH,cAAc,EAAEC,WAAW,EAAEJ,gBAAgB,CAAC;EACzF;;AAGD,MAAMM,8BAA+B,SAAQ7B,UAAU;EAGpC8B,OAAA;EAEAC,mBAAA;EAJVC,YAAY;EACpBC,YACkBH,OAAoB,EACrCI,IAAkB,EACDH,mBAA4B;IAAA;IAAArC,cAAA,GAAAuB,CAAA;IAAAvB,cAAA,GAAAgB,CAAA;IAE7C,KAAK,EAAE;IAAC;IAAAhB,cAAA,GAAAgB,CAAA;IAJS,KAAAoB,OAAO,GAAPA,OAAO;IAAa;IAAApC,cAAA,GAAAgB,CAAA;IAEpB,KAAAqB,mBAAmB,GAAnBA,mBAAmB;IAAS;IAAArC,cAAA,GAAAgB,CAAA;IAG7C,IAAI,CAACsB,YAAY,GAAGE,IAAI;EACzB;EAESC,EAAE;EAAA;EAAA,CAAAzC,cAAA,GAAAgB,CAAA;EACF0B,mBAAmB;EAAA;EAAA,CAAA1C,cAAA,GAAAgB,CAAA;EACnB2B,OAAO;EAAA;EAAA,CAAA3C,cAAA,GAAAgB,CAAA,QAAG;IAAEE,IAAI;EAAyB,CAAE;EAEpD0B,cAAcA,CAAA;IAAA;IAAA5C,cAAA,GAAAuB,CAAA;IAAAvB,cAAA,GAAAgB,CAAA;IACb,OAAO,IAAI,CAAC6B,WAAW,CAAC,IAAI,CAACP,YAAY,CAAC;EAC3C;EAEQO,WAAWA,CAACL,IAAkB;IAAA;IAAAxC,cAAA,GAAAuB,CAAA;IACrC,IAAIuB,eAAe;IAAA;IAAA,CAAA9C,cAAA,GAAAgB,CAAA,QAAGL,YAAY,CAAC6B,IAAI,CAAC;IAAA;IAAA,CAAAxC,cAAA,GAAA4B,CAAA,UAAGY,IAAI,CAACO,QAAQ,CAACC,QAAQ,EAAE;IAAA;IAAA,CAAAhD,cAAA,GAAA4B,CAAA,UAAG,EAAE;IAAC;IAAA5B,cAAA,GAAAgB,CAAA;IACzE;IAAI;IAAA,CAAAhB,cAAA,GAAA4B,CAAA,WAACkB,eAAe;IAAA;IAAA,CAAA9C,cAAA,GAAA4B,CAAA,UAAI,cAAc,IAAIY,IAAI;IAAA;IAAA,CAAAxC,cAAA,GAAA4B,CAAA,UAAIY,IAAI,CAACS,YAAY,GAAE;MAAA;MAAAjD,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACpE8B,eAAe,GAAGN,IAAI,CAACS,YAAY,CAACC,OAAO;IAC5C,CAAC;IAAA;IAAA;MAAAlD,cAAA,GAAA4B,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;IACD,IAAIL,YAAY,CAAC6B,IAAI,CAAC,EAAE;MAAA;MAAAxC,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACvBwB,IAAI,CAACO,QAAQ,CAACI,KAAK,CAACC,MAAM,CAACZ,IAAI,IAAI;QAAA;QAAAxC,cAAA,GAAAuB,CAAA;QAAAvB,cAAA,GAAAgB,CAAA;QAAA,OAAAwB,IAAI,CAACa,IAAI,KAAK,aAAa;MAAb,CAAa,CAAC,CAACC,OAAO,CAACC,WAAW,IAAG;QAAA;QAAAvD,cAAA,GAAAuB,CAAA;QACrF,MAAMiC,KAAK;QAAA;QAAA,CAAAxD,cAAA,GAAAgB,CAAA,QAAGuC,WAAW,CAACC,KAAK;QAAC;QAAAxD,cAAA,GAAAgB,CAAA;QAChC,IAAI,OAAOwC,KAAK,KAAK,QAAQ,EAAE;UAAA;UAAAxD,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UAC9B8B,eAAe,IAAI,GAAGU,KAAK,IAAI;QAChC,CAAC,MAAM;UAAA;UAAAxD,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UAAA,IAAIb,gBAAgB,CAACqD,KAAK,CAAC,EAAE;YAAA;YAAAxD,cAAA,GAAA4B,CAAA;YAAA5B,cAAA,GAAAgB,CAAA;YACnC8B,eAAe,IAAI5C,iBAAiB,CAACsD,KAAK,EAAE;cAAEC,uBAAuB,EAAE;YAAI,CAAE,CAAC,GAAG,IAAI;UACtF,CAAC;UAAA;UAAA;YAAAzD,cAAA,GAAA4B,CAAA;UAAA;QAAD;QACA,MAAMsB,OAAO;QAAA;QAAA,CAAAlD,cAAA,GAAAgB,CAAA,QAAGuC,WAAW,CAACL,OAAO;QAAC;QAAAlD,cAAA,GAAAgB,CAAA;QACpC,IAAIb,gBAAgB,CAAC+C,OAAO,CAAC,EAAE;UAAA;UAAAlD,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UAC9B8B,eAAe,IAAI5C,iBAAiB,CAACgD,OAAO,EAAE;YAAEO,uBAAuB,EAAE;UAAI,CAAE,CAAC;QACjF,CAAC,MAAM;UAAA;UAAAzD,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UACN8B,eAAe,IAAII,OAAO;QAC3B;MACD,CAAC,CAAC;MACF,MAAMQ,eAAe;MAAA;MAAA,CAAA1D,cAAA,GAAAgB,CAAA,QAAGwB,IAAI,CAACO,QAAQ,CAACI,KAAK,CAACC,MAAM,CAACZ,IAAI,IAAI;QAAA;QAAAxC,cAAA,GAAAuB,CAAA;QAAAvB,cAAA,GAAAgB,CAAA;QAAA,OAAAwB,IAAI,CAACa,IAAI,KAAK,gBAAgB;MAAhB,CAAgB,CAAC;MAAC;MAAArD,cAAA,GAAAgB,CAAA;MAC3F,KAAK,MAAM2C,cAAc,IAAID,eAAe,EAAE;QAC7C,MAAME,KAAK;QAAA;QAAA,CAAA5D,cAAA,GAAAgB,CAAA,QAAG2C,cAAc,CAACC,KAAK,CAACnC,GAAG,EAAE;QAAC;QAAAzB,cAAA,GAAAgB,CAAA;QACzC;QAAI;QAAA,CAAAhB,cAAA,GAAA4B,CAAA,WAAA+B,cAAc,CAACE,oBAAoB,EAAEL,KAAK;QAAA;QAAA,CAAAxD,cAAA,GAAA4B,CAAA,WAAIgC,KAAK,CAAC1C,IAAI,oEAA2D;UAAA;UAAAlB,cAAA,GAAA4B,CAAA;UACtH,MAAM4B,KAAK;UAAA;UAAA,CAAAxD,cAAA,GAAAgB,CAAA,QAAG,OAAO2C,cAAc,CAACE,oBAAoB,CAACL,KAAK,KAAK,QAAQ;UAAA;UAAA,CAAAxD,cAAA,GAAA4B,CAAA,WAAG+B,cAAc,CAACE,oBAAoB,CAACL,KAAK;UAAA;UAAA,CAAAxD,cAAA,GAAA4B,CAAA,WAAG+B,cAAc,CAACE,oBAAoB,CAACL,KAAK,CAACL,KAAK;UACzK,MAAMD,OAAO;UAAA;UAAA,CAAAlD,cAAA,GAAAgB,CAAA,QAAG,OAAO2C,cAAc,CAACE,oBAAoB,CAACX,OAAO,KAAK,QAAQ;UAAA;UAAA,CAAAlD,cAAA,GAAA4B,CAAA,WAAG+B,cAAc,CAACE,oBAAoB,CAACX,OAAO;UAAA;UAAA,CAAAlD,cAAA,GAAA4B,CAAA,WAAGvB,UAAU,CAACH,iBAAiB,CAACyD,cAAc,CAACE,oBAAoB,CAACX,OAAQ,CAAC,CAAC;UAC3M,IAAIY,KAAK;UAAA;UAAA,CAAA9D,cAAA,GAAAgB,CAAA,QAAG,EAAE;UAAC;UAAAhB,cAAA,GAAAgB,CAAA;UACf,IAAI2C,cAAc,CAACI,gBAAgB,EAAE;YAAA;YAAA/D,cAAA,GAAA4B,CAAA;YAAA5B,cAAA,GAAAgB,CAAA;YACpC,IAAI2C,cAAc,CAACI,gBAAgB,EAAEV,IAAI,KAAK,UAAU,EAAE;cAAA;cAAArD,cAAA,GAAA4B,CAAA;cACzD,MAAMoC,YAAY;cAAA;cAAA,CAAAhE,cAAA,GAAAgB,CAAA,QAAGR,qCAAqC,CAACmD,cAAc,CAACI,gBAAgB,CAAC;cAAC;cAAA/D,cAAA,GAAAgB,CAAA;cAC5F8C,KAAK;cAAG;cAAA,CAAA9D,cAAA,GAAA4B,CAAA,WAAAoC,YAAY,CAACC,WAAW,CAACC,UAAU;cAAA;cAAA,CAAAlE,cAAA,GAAA4B,CAAA,WAAIoC,YAAY,CAACC,WAAW,CAACE,UAAU;cAAA;cAAA,CAAAnE,cAAA,GAAA4B,CAAA,WAAIoC,YAAY,CAACC,WAAW,CAACG,QAAQ;YACxH,CAAC,MAAM;cAAA;cAAApE,cAAA,GAAA4B,CAAA;cAAA5B,cAAA,GAAAgB,CAAA;cACN8C,KAAK,GAAGH,cAAc,CAACI,gBAAgB,EAAEV,IAAI,KAAK,YAAY;cAAA;cAAA,CAAArD,cAAA,GAAA4B,CAAA,WAC3DyC,IAAI,CAACC,SAAS,CAACX,cAAc,CAACI,gBAAgB,CAACQ,UAAU,CAAC;cAAA;cAAA,CAAAvE,cAAA,GAAA4B,CAAA,WAC1D+B,cAAc,CAACI,gBAAgB,EAAEV,IAAI,KAAK,UAAU;cAAA;cAAA,CAAArD,cAAA,GAAA4B,CAAA,WACnDyC,IAAI,CAACC,SAAS,CAACX,cAAc,CAACI,gBAAgB,CAACS,QAAQ,CAAC;cAAA;cAAA,CAAAxE,cAAA,GAAA4B,CAAA,WACxD+B,cAAc,CAACI,gBAAgB,EAAEV,IAAI,KAAK,aAAa;cAAA;cAAA,CAAArD,cAAA,GAAA4B,CAAA,WACtDyC,IAAI,CAACC,SAAS,CAACX,cAAc,CAACI,gBAAgB,CAAC;cAAA;cAAA,CAAA/D,cAAA,GAAA4B,CAAA,WAC/CyC,IAAI,CAACC,SAAS,CAACX,cAAc,CAACI,gBAAgB,CAACU,QAAQ,CAAC;YAC9D;UACD,CAAC;UAAA;UAAA;YAAAzE,cAAA,GAAA4B,CAAA;UAAA;UAAA5B,cAAA,GAAAgB,CAAA;UACD8B,eAAe,IAAI,GAAGU,KAAK,EAAE;UAAC;UAAAxD,cAAA,GAAAgB,CAAA;UAC9B,IAAI8C,KAAK,EAAE;YAAA;YAAA9D,cAAA,GAAA4B,CAAA;YAAA5B,cAAA,GAAAgB,CAAA;YACV8B,eAAe,IAAI,KAAKgB,KAAK,EAAE;UAChC,CAAC;UAAA;UAAA;YAAA9D,cAAA,GAAA4B,CAAA;UAAA;UAAA5B,cAAA,GAAAgB,CAAA;UACD8B,eAAe,IAAI,KAAKI,OAAO,IAAI;QACpC,CAAC,MAAM;UAAA;UAAAlD,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UAAA,IAAI4C,KAAK,CAAC1C,IAAI,mEAA2D;YAAA;YAAAlB,cAAA,GAAA4B,CAAA;YAAA5B,cAAA,GAAAgB,CAAA;YAC/E8B,eAAe,IAAIvC,QAAQ,CAAC,0BAA0B,EAAE,kCAAkC,EAAEoD,cAAc,CAACe,MAAM,CAAC,GAAG9D,uBAAuB,CAACgD,KAAK,CAACe,eAAe,CAAC,GAAG,IAAI;UAC3K,CAAC,MAAM;YAAA;YAAA3E,cAAA,GAAA4B,CAAA;YACN,MAAMgD,aAAa;YAAA;YAAA,CAAA5E,cAAA,GAAAgB,CAAA,QAAGN,mBAAmB,CAACkE,aAAa,CAACjB,cAAc,CAAC;YAAC;YAAA3D,cAAA,GAAAgB,CAAA;YACxE;YAAI;YAAA,CAAAhB,cAAA,GAAA4B,CAAA,WAAAgD,aAAa;YAAA;YAAA,CAAA5E,cAAA,GAAA4B,CAAA,WAAI,OAAO,IAAIgD,aAAa,GAAE;cAAA;cAAA5E,cAAA,GAAA4B,CAAA;cAAA5B,cAAA,GAAAgB,CAAA;cAC9C8B,eAAe,IAAI,IAAI,IAAI8B,aAAa,CAACC,OAAO;cAAA;cAAA,CAAA7E,cAAA,GAAA4B,CAAA,WAAG,UAAU;cAAA;cAAA,CAAA5B,cAAA,GAAA4B,CAAA,WAAG,YAAY,EAAC;cAAC;cAAA5B,cAAA,GAAAgB,CAAA;cAC9E8B,eAAe,IAAI,GAAG,GAAG,OAAOa,cAAc,CAACmB,iBAAiB,KAAK,QAAQ;cAAA;cAAA,CAAA9E,cAAA,GAAA4B,CAAA,WAAG+B,cAAc,CAACmB,iBAAiB;cAAA;cAAA,CAAA9E,cAAA,GAAA4B,CAAA,WAAGvB,UAAU,CAACH,iBAAiB,CAACyD,cAAc,CAACmB,iBAAiB,CAAC,CAAC,iBAAgBF,aAAa,CAACd,KAAK,EAAE,IAAI;YAC5N,CAAC;YAAA;YAAA;cAAA9D,cAAA,GAAA4B,CAAA;YAAA;UACF;QAAA;MACD;MAEA,MAAMmD,iBAAiB;MAAA;MAAA,CAAA/E,cAAA,GAAAgB,CAAA,QAAGwB,IAAI,CAACO,QAAQ,CAACI,KAAK,CAACC,MAAM,CAACZ,IAAI,IAAI;QAAA;QAAAxC,cAAA,GAAAuB,CAAA;QAAAvB,cAAA,GAAAgB,CAAA;QAAA,OAAAwB,IAAI,CAACa,IAAI,KAAK,0BAA0B;MAA1B,CAA0B,CAAC;MAAC;MAAArD,cAAA,GAAAgB,CAAA;MACvG,KAAK,MAAMgE,gBAAgB,IAAID,iBAAiB,EAAE;QAAA;QAAA/E,cAAA,GAAAgB,CAAA;QACjD;QAAI;QAAA,CAAAhB,cAAA,GAAA4B,CAAA,WAAAoD,gBAAgB,CAACC,UAAU;QAAA;QAAA,CAAAjF,cAAA,GAAA4B,CAAA,WAAIoD,gBAAgB,CAACJ,aAAa;QAAA;QAAA,CAAA5E,cAAA,GAAA4B,CAAA,WAAI,OAAO,IAAIoD,gBAAgB,CAACJ,aAAa,GAAE;UAAA;UAAA5E,cAAA,GAAA4B,CAAA;UAAA5B,cAAA,GAAAgB,CAAA;UAC/G,IAAIgE,gBAAgB,CAACE,gBAAgB,EAAE;YAAA;YAAAlF,cAAA,GAAA4B,CAAA;YAAA5B,cAAA,GAAAgB,CAAA;YACtC8B,eAAe,IAAI,KAAK,GAAG,OAAOkC,gBAAgB,CAACE,gBAAgB,KAAK,QAAQ;YAAA;YAAA,CAAAlF,cAAA,GAAA4B,CAAA,WAAGoD,gBAAgB,CAACE,gBAAgB;YAAA;YAAA,CAAAlF,cAAA,GAAA4B,CAAA,WAAGvB,UAAU,CAACH,iBAAiB,CAAC8E,gBAAgB,CAACE,gBAAgB,CAAC,CAAC,iBAAgBF,gBAAgB,CAACJ,aAAa,CAACd,KAAK,EAAE,IAAI;UAClP,CAAC;UAAA;UAAA;YAAA9D,cAAA,GAAA4B,CAAA;UAAA;QACF,CAAC;QAAA;QAAA;UAAA5B,cAAA,GAAA4B,CAAA;QAAA;MACF;IACD,CAAC;IAAA;IAAA;MAAA5B,cAAA,GAAA4B,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;IACD,OAAOd,iBAAiB,CAAC,IAAIE,cAAc,CAAC0C,eAAe,CAAC,EAAE;MAAEW,uBAAuB,EAAE;IAAI,CAAE,CAAC;EACjG;EAEA0B,OAAOA,CAAA;IAAA;IAAAnF,cAAA,GAAAuB,CAAA;IAAAvB,cAAA,GAAAgB,CAAA;IACN,IAAI,CAACoB,OAAO,CAACgD,MAAM,CAAC,IAAI,CAAC9C,YAAY,CAAC;IAAC;IAAAtC,cAAA,GAAAgB,CAAA;IACvC,IAAI,IAAI,CAACqB,mBAAmB,EAAE;MAAA;MAAArC,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MAC7B,IAAI,CAACoB,OAAO,CAACiD,UAAU,EAAE;IAC1B,CAAC,MAAM;MAAA;MAAArF,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACN,IAAI,CAACoB,OAAO,CAACkD,KAAK,CAAC,IAAI,CAAChD,YAAY,CAAC;IACtC;EACD;EAEAiD,kBAAkBA,CAAA;IAAA;IAAAvF,cAAA,GAAAuB,CAAA;IACjB,MAAMiE,IAAI;IAAA;IAAA,CAAAxF,cAAA,GAAAgB,CAAA,QAAG,IAAI,CAACoB,OAAO,CAACqD,UAAU,CAAC,IAAI,CAACnD,YAAY,EAAE,MAAM,CAAC;IAAC;IAAAtC,cAAA,GAAAgB,CAAA;IAChE,IAAIwE,IAAI,EAAE;MAAA;MAAAxF,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACT,IAAI,CAACsB,YAAY,GAAGkD,IAAI;MAAC;MAAAxF,cAAA,GAAAgB,CAAA;MACzB,OAAO,IAAI,CAAC6B,WAAW,CAAC2C,IAAI,CAAC;IAC9B,CAAC;IAAA;IAAA;MAAAxF,cAAA,GAAA4B,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;IACD;EACD;EAEA0E,sBAAsBA,CAAA;IAAA;IAAA1F,cAAA,GAAAuB,CAAA;IACrB,MAAMoE,QAAQ;IAAA;IAAA,CAAA3F,cAAA,GAAAgB,CAAA,QAAG,IAAI,CAACoB,OAAO,CAACqD,UAAU,CAAC,IAAI,CAACnD,YAAY,EAAE,UAAU,CAAC;IAAC;IAAAtC,cAAA,GAAAgB,CAAA;IACxE,IAAI2E,QAAQ,EAAE;MAAA;MAAA3F,cAAA,GAAA4B,CAAA;MAAA5B,cAAA,GAAAgB,CAAA;MACb,IAAI,CAACsB,YAAY,GAAGqD,QAAQ;MAAC;MAAA3F,cAAA,GAAAgB,CAAA;MAC7B,OAAO,IAAI,CAAC6B,WAAW,CAAC8C,QAAQ,CAAC;IAClC,CAAC;IAAA;IAAA;MAAA3F,cAAA,GAAA4B,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;IACD;EACD","ignoreList":[]}