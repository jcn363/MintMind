{"version":3,"names":["cov_18y0abnf3t","actualCoverage","createFastDomNode","Disposable","NotebookCellOverlays","listView","_lastOverlayId","s","domNode","_overlays","Object","create","constructor","f","document","createElement","setClassName","setPosition","setAttribute","setWidth","containerDomNode","appendChild","changeCellOverlays","callback","overlaysHaveChanged","changeAccessor","addOverlay","overlay","_addOverlay","removeOverlay","id","_removeOverlay","layoutOverlay","_layoutOverlay","onCellsChanged","e","layout","onHiddenRangesChange","overlayId","overlayWidget","b","removeChild","isInHiddenRanges","_isInHiddenRanges","setDisplay","index","indexOf","cell","top","elementTop","setTop","zone"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/viewParts/notebookCellOverlays.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createFastDomNode, FastDomNode } from '../../../../../base/browser/fastDomNode.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { INotebookCellOverlay, INotebookCellOverlayChangeAccessor, INotebookViewCellsUpdateEvent } from '../notebookBrowser.js';\nimport { NotebookCellListView } from '../view/notebookCellListView.js';\nimport { CellViewModel } from '../viewModel/notebookViewModelImpl.js';\n\ninterface INotebookCellOverlayWidget {\n\toverlayId: string;\n\toverlay: INotebookCellOverlay;\n\tdomNode: FastDomNode<HTMLElement>;\n}\n\nexport class NotebookCellOverlays extends Disposable {\n\tprivate _lastOverlayId = 0;\n\tpublic domNode: FastDomNode<HTMLElement>;\n\tprivate _overlays: { [key: string]: INotebookCellOverlayWidget } = Object.create(null);\n\n\tconstructor(\n\t\tprivate readonly listView: NotebookCellListView<CellViewModel>\n\t) {\n\t\tsuper();\n\t\tthis.domNode = createFastDomNode(document.createElement('div'));\n\t\tthis.domNode.setClassName('cell-overlays');\n\t\tthis.domNode.setPosition('absolute');\n\t\tthis.domNode.setAttribute('role', 'presentation');\n\t\tthis.domNode.setAttribute('aria-hidden', 'true');\n\t\tthis.domNode.setWidth('100%');\n\n\t\tthis.listView.containerDomNode.appendChild(this.domNode.domNode);\n\t}\n\n\tchangeCellOverlays(callback: (changeAccessor: INotebookCellOverlayChangeAccessor) => void): boolean {\n\t\tlet overlaysHaveChanged = false;\n\t\tconst changeAccessor: INotebookCellOverlayChangeAccessor = {\n\t\t\taddOverlay: (overlay: INotebookCellOverlay): string => {\n\t\t\t\toverlaysHaveChanged = true;\n\t\t\t\treturn this._addOverlay(overlay);\n\t\t\t},\n\t\t\tremoveOverlay: (id: string): void => {\n\t\t\t\toverlaysHaveChanged = true;\n\t\t\t\tthis._removeOverlay(id);\n\t\t\t},\n\t\t\tlayoutOverlay: (id: string): void => {\n\t\t\t\toverlaysHaveChanged = true;\n\t\t\t\tthis._layoutOverlay(id);\n\t\t\t}\n\t\t};\n\n\t\tcallback(changeAccessor);\n\n\t\treturn overlaysHaveChanged;\n\t}\n\n\tonCellsChanged(e: INotebookViewCellsUpdateEvent): void {\n\t\tthis.layout();\n\t}\n\n\tonHiddenRangesChange() {\n\t\tthis.layout();\n\t}\n\n\tlayout() {\n\t\tfor (const id in this._overlays) {\n\t\t\tthis._layoutOverlay(id);\n\t\t}\n\t}\n\n\tprivate _addOverlay(overlay: INotebookCellOverlay): string {\n\t\tconst overlayId = `${++this._lastOverlayId}`;\n\n\t\tconst overlayWidget = {\n\t\t\toverlayId,\n\t\t\toverlay,\n\t\t\tdomNode: createFastDomNode(overlay.domNode)\n\t\t};\n\n\t\tthis._overlays[overlayId] = overlayWidget;\n\t\toverlayWidget.domNode.setClassName('cell-overlay');\n\t\toverlayWidget.domNode.setPosition('absolute');\n\t\tthis.domNode.appendChild(overlayWidget.domNode);\n\n\t\treturn overlayId;\n\t}\n\n\tprivate _removeOverlay(id: string): void {\n\t\tconst overlay = this._overlays[id];\n\t\tif (overlay) {\n\t\t\t// overlay.overlay.dispose();\n\t\t\ttry {\n\t\t\t\tthis.domNode.removeChild(overlay.domNode);\n\t\t\t} catch {\n\t\t\t\t// no op\n\t\t\t}\n\n\t\t\tdelete this._overlays[id];\n\t\t}\n\t}\n\n\tprivate _layoutOverlay(id: string): void {\n\t\tconst overlay = this._overlays[id];\n\t\tif (!overlay) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isInHiddenRanges = this._isInHiddenRanges(overlay);\n\t\tif (isInHiddenRanges) {\n\t\t\toverlay.domNode.setDisplay('none');\n\t\t\treturn;\n\t\t}\n\n\t\toverlay.domNode.setDisplay('block');\n\t\tconst index = this.listView.indexOf(overlay.overlay.cell as CellViewModel);\n\t\tif (index === -1) {\n\t\t\t// should not happen\n\t\t\treturn;\n\t\t}\n\n\t\tconst top = this.listView.elementTop(index);\n\t\toverlay.domNode.setTop(top);\n\t}\n\n\tprivate _isInHiddenRanges(zone: INotebookCellOverlayWidget) {\n\t\tconst index = this.listView.indexOf(zone.overlay.cell as CellViewModel);\n\t\tif (index === -1) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n\n"],"mappings":"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","ignoreList":[]}