98fc127961e950692bdff3adb835d5f1
/* istanbul ignore next */
function cov_1egltwsr0e() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatCollapsibleContentPart.ts";
  var hash = "f26523a024a9feccd1b97170e65f7450ba82b443";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatCollapsibleContentPart.ts",
    statementMap: {
      "0": {
        start: {
          line: 16,
          column: 25
        },
        end: {
          line: 16,
          column: 54
        }
      },
      "1": {
        start: {
          line: 17,
          column: 24
        },
        end: {
          line: 17,
          column: 53
        }
      },
      "2": {
        start: {
          line: 19,
          column: 18
        },
        end: {
          line: 19,
          column: 46
        }
      },
      "3": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 16
        }
      },
      "4": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 27
        }
      },
      "5": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 31
        }
      },
      "6": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 95
        }
      },
      "7": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 38
        }
      },
      "8": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 29
        }
      },
      "9": {
        start: {
          line: 32,
          column: 32
        },
        end: {
          line: 32,
          column: 42
        }
      },
      "10": {
        start: {
          line: 33,
          column: 30
        },
        end: {
          line: 33,
          column: 70
        }
      },
      "11": {
        start: {
          line: 34,
          column: 31
        },
        end: {
          line: 43,
          column: 11
        }
      },
      "12": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 46
        }
      },
      "13": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 74
        }
      },
      "14": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 46,
          column: 47
        }
      },
      "15": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 50,
          column: 12
        }
      },
      "16": {
        start: {
          line: 48,
          column: 26
        },
        end: {
          line: 48,
          column: 48
        }
      },
      "17": {
        start: {
          line: 49,
          column: 12
        },
        end: {
          line: 49,
          column: 52
        }
      },
      "18": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 61,
          column: 12
        }
      },
      "19": {
        start: {
          line: 52,
          column: 26
        },
        end: {
          line: 52,
          column: 50
        }
      },
      "20": {
        start: {
          line: 53,
          column: 12
        },
        end: {
          line: 53,
          column: 85
        }
      },
      "21": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 54,
          column: 83
        }
      },
      "22": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 55,
          column: 155
        }
      },
      "23": {
        start: {
          line: 56,
          column: 12
        },
        end: {
          line: 60,
          column: 13
        }
      },
      "24": {
        start: {
          line: 57,
          column: 16
        },
        end: {
          line: 59,
          column: 19
        }
      },
      "25": {
        start: {
          line: 58,
          column: 20
        },
        end: {
          line: 58,
          column: 51
        }
      },
      "26": {
        start: {
          line: 62,
          column: 24
        },
        end: {
          line: 62,
          column: 42
        }
      },
      "27": {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 43
        }
      },
      "28": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 64,
          column: 29
        }
      },
      "29": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 67,
          column: 161
        }
      },
      "30": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 70,
          column: 35
        }
      },
      "31": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 73,
          column: 32
        }
      },
      "32": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 76,
          column: 38
        }
      },
      "33": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 79,
          column: 47
        }
      },
      "34": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 27
        }
      },
      "35": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 86,
          column: 9
        }
      },
      "36": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 84,
          column: 47
        }
      },
      "37": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 85,
          column: 89
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 32
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 21
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 27,
            column: 5
          }
        },
        loc: {
          start: {
            line: 27,
            column: 18
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 27
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 65,
            column: 5
          }
        },
        line: 31
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 47,
            column: 49
          },
          end: {
            line: 47,
            column: 50
          }
        },
        loc: {
          start: {
            line: 47,
            column: 55
          },
          end: {
            line: 50,
            column: 9
          }
        },
        line: 47
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 51,
            column: 31
          },
          end: {
            line: 51,
            column: 32
          }
        },
        loc: {
          start: {
            line: 51,
            column: 36
          },
          end: {
            line: 61,
            column: 9
          }
        },
        line: 51
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 57,
            column: 31
          },
          end: {
            line: 57,
            column: 32
          }
        },
        loc: {
          start: {
            line: 57,
            column: 37
          },
          end: {
            line: 59,
            column: 17
          }
        },
        line: 57
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 66,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        },
        loc: {
          start: {
            line: 66,
            column: 46
          },
          end: {
            line: 68,
            column: 5
          }
        },
        line: 66
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 69,
            column: 4
          },
          end: {
            line: 69,
            column: 5
          }
        },
        loc: {
          start: {
            line: 69,
            column: 30
          },
          end: {
            line: 71,
            column: 5
          }
        },
        line: 69
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        loc: {
          start: {
            line: 72,
            column: 19
          },
          end: {
            line: 74,
            column: 5
          }
        },
        line: 72
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 75,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        },
        loc: {
          start: {
            line: 75,
            column: 17
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 75
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 78,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        loc: {
          start: {
            line: 78,
            column: 23
          },
          end: {
            line: 80,
            column: 5
          }
        },
        line: 78
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 81,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        loc: {
          start: {
            line: 81,
            column: 20
          },
          end: {
            line: 87,
            column: 5
          }
        },
        line: 81
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 53,
            column: 34
          },
          end: {
            line: 53,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 53,
            column: 42
          },
          end: {
            line: 53,
            column: 61
          }
        }, {
          start: {
            line: 53,
            column: 64
          },
          end: {
            line: 53,
            column: 84
          }
        }],
        line: 53
      },
      "1": {
        loc: {
          start: {
            line: 55,
            column: 57
          },
          end: {
            line: 55,
            column: 134
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 55,
            column: 95
          },
          end: {
            line: 55,
            column: 110
          }
        }, {
          start: {
            line: 55,
            column: 113
          },
          end: {
            line: 55,
            column: 134
          }
        }],
        line: 55
      },
      "2": {
        loc: {
          start: {
            line: 56,
            column: 12
          },
          end: {
            line: 60,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 56,
            column: 12
          },
          end: {
            line: 60,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 56
      },
      "3": {
        loc: {
          start: {
            line: 67,
            column: 28
          },
          end: {
            line: 67,
            column: 160
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 67,
            column: 39
          },
          end: {
            line: 67,
            column: 97
          }
        }, {
          start: {
            line: 67,
            column: 100
          },
          end: {
            line: 67,
            column: 160
          }
        }],
        line: 67
      },
      "4": {
        loc: {
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 86,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 86,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatCollapsibleContentPart.ts",
      mappings: "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",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/chatContentParts/chatCollapsibleContentPart.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $ } from '../../../../../base/browser/dom.js';\nimport { ButtonWithIcon } from '../../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { IMarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { autorun, IObservable, observableValue } from '../../../../../base/common/observable.js';\nimport { localize } from '../../../../../nls.js';\nimport { IChatRendererContent } from '../../common/chatViewModel.js';\nimport { ChatTreeItem } from '../chat.js';\nimport { IChatContentPart, IChatContentPartRenderContext } from './chatContentParts.js';\n\n\nexport abstract class ChatCollapsibleContentPart extends Disposable implements IChatContentPart {\n\n\tprivate _domNode?: HTMLElement;\n\n\tprotected readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight = this._onDidChangeHeight.event;\n\n\tprotected readonly hasFollowingContent: boolean;\n\tprotected _isExpanded = observableValue<boolean>(this, false);\n\tprotected _collapseButton: ButtonWithIcon | undefined;\n\n\tconstructor(\n\t\tprivate title: IMarkdownString | string,\n\t\tprotected readonly context: IChatContentPartRenderContext,\n\t) {\n\t\tsuper();\n\t\tthis.hasFollowingContent = this.context.contentIndex + 1 < this.context.content.length;\n\t}\n\n\tget domNode(): HTMLElement {\n\t\tthis._domNode ??= this.init();\n\t\treturn this._domNode;\n\t}\n\n\tprotected init(): HTMLElement {\n\t\tconst referencesLabel = this.title;\n\n\n\t\tconst buttonElement = $('.chat-used-context-label', undefined);\n\n\t\tconst collapseButton = this._register(new ButtonWithIcon(buttonElement, {\n\t\t\tbuttonBackground: undefined,\n\t\t\tbuttonBorder: undefined,\n\t\t\tbuttonForeground: undefined,\n\t\t\tbuttonHoverBackground: undefined,\n\t\t\tbuttonSecondaryBackground: undefined,\n\t\t\tbuttonSecondaryForeground: undefined,\n\t\t\tbuttonSecondaryHoverBackground: undefined,\n\t\t\tbuttonSeparator: undefined\n\t\t}));\n\t\tthis._collapseButton = collapseButton;\n\t\tthis._domNode = $('.chat-used-context', undefined, buttonElement);\n\t\tcollapseButton.label = referencesLabel;\n\n\t\tthis._register(collapseButton.onDidClick(() => {\n\t\t\tconst value = this._isExpanded.get();\n\t\t\tthis._isExpanded.set(!value, undefined);\n\t\t}));\n\n\t\tthis._register(autorun(r => {\n\t\t\tconst value = this._isExpanded.read(r);\n\t\t\tcollapseButton.icon = value ? Codicon.chevronDown : Codicon.chevronRight;\n\t\t\tthis._domNode?.classList.toggle('chat-used-context-collapsed', !value);\n\t\t\tthis.updateAriaLabel(collapseButton.element, typeof referencesLabel === 'string' ? referencesLabel : referencesLabel.value, this.isExpanded());\n\n\t\t\tif (this._domNode?.isConnected) {\n\t\t\t\tqueueMicrotask(() => {\n\t\t\t\t\tthis._onDidChangeHeight.fire();\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tconst content = this.initContent();\n\t\tthis._domNode.appendChild(content);\n\t\treturn this._domNode;\n\t}\n\n\tprotected abstract initContent(): HTMLElement;\n\n\tabstract hasSameContent(other: IChatRendererContent, followingContent: IChatRendererContent[], element: ChatTreeItem): boolean;\n\n\tprivate updateAriaLabel(element: HTMLElement, label: string, expanded?: boolean): void {\n\t\telement.ariaLabel = expanded ? localize('usedReferencesExpanded', \"{0}, expanded\", label) : localize('usedReferencesCollapsed', \"{0}, collapsed\", label);\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n\n\tget expanded(): IObservable<boolean> {\n\t\treturn this._isExpanded;\n\t}\n\n\tprotected isExpanded(): boolean {\n\t\treturn this._isExpanded.get();\n\t}\n\n\tprotected setExpanded(value: boolean): void {\n\t\tthis._isExpanded.set(value, undefined);\n\t}\n\n\tprotected setTitle(title: string): void {\n\t\tthis.title = title;\n\t\tif (this._collapseButton) {\n\t\t\tthis._collapseButton.label = title;\n\t\t\tthis.updateAriaLabel(this._collapseButton.element, title, this.isExpanded());\n\t\t}\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "f26523a024a9feccd1b97170e65f7450ba82b443"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1egltwsr0e = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1egltwsr0e();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { $ } from '../../../../../base/browser/dom.js';
import { ButtonWithIcon } from '../../../../../base/browser/ui/button/button.js';
import { Codicon } from '../../../../../base/common/codicons.js';
import { Emitter } from '../../../../../base/common/event.js';
import { Disposable } from '../../../../../base/common/lifecycle.js';
import { autorun, observableValue } from '../../../../../base/common/observable.js';
import { localize } from '../../../../../nls.js';
export class ChatCollapsibleContentPart extends Disposable {
  title;
  context;
  _domNode;
  _onDidChangeHeight =
  /* istanbul ignore next */
  (cov_1egltwsr0e().s[0]++, this._register(new Emitter()));
  onDidChangeHeight =
  /* istanbul ignore next */
  (cov_1egltwsr0e().s[1]++, this._onDidChangeHeight.event);
  hasFollowingContent;
  _isExpanded =
  /* istanbul ignore next */
  (cov_1egltwsr0e().s[2]++, observableValue(this, false));
  _collapseButton;
  constructor(title, context) {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[0]++;
    cov_1egltwsr0e().s[3]++;
    super();
    /* istanbul ignore next */
    cov_1egltwsr0e().s[4]++;
    this.title = title;
    /* istanbul ignore next */
    cov_1egltwsr0e().s[5]++;
    this.context = context;
    /* istanbul ignore next */
    cov_1egltwsr0e().s[6]++;
    this.hasFollowingContent = this.context.contentIndex + 1 < this.context.content.length;
  }
  get domNode() {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[1]++;
    cov_1egltwsr0e().s[7]++;
    this._domNode ??= this.init();
    /* istanbul ignore next */
    cov_1egltwsr0e().s[8]++;
    return this._domNode;
  }
  init() {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[2]++;
    const referencesLabel =
    /* istanbul ignore next */
    (cov_1egltwsr0e().s[9]++, this.title);
    const buttonElement =
    /* istanbul ignore next */
    (cov_1egltwsr0e().s[10]++, $('.chat-used-context-label', undefined));
    const collapseButton =
    /* istanbul ignore next */
    (cov_1egltwsr0e().s[11]++, this._register(new ButtonWithIcon(buttonElement, {
      buttonBackground: undefined,
      buttonBorder: undefined,
      buttonForeground: undefined,
      buttonHoverBackground: undefined,
      buttonSecondaryBackground: undefined,
      buttonSecondaryForeground: undefined,
      buttonSecondaryHoverBackground: undefined,
      buttonSeparator: undefined
    })));
    /* istanbul ignore next */
    cov_1egltwsr0e().s[12]++;
    this._collapseButton = collapseButton;
    /* istanbul ignore next */
    cov_1egltwsr0e().s[13]++;
    this._domNode = $('.chat-used-context', undefined, buttonElement);
    /* istanbul ignore next */
    cov_1egltwsr0e().s[14]++;
    collapseButton.label = referencesLabel;
    /* istanbul ignore next */
    cov_1egltwsr0e().s[15]++;
    this._register(collapseButton.onDidClick(() => {
      /* istanbul ignore next */
      cov_1egltwsr0e().f[3]++;
      const value =
      /* istanbul ignore next */
      (cov_1egltwsr0e().s[16]++, this._isExpanded.get());
      /* istanbul ignore next */
      cov_1egltwsr0e().s[17]++;
      this._isExpanded.set(!value, undefined);
    }));
    /* istanbul ignore next */
    cov_1egltwsr0e().s[18]++;
    this._register(autorun(r => {
      /* istanbul ignore next */
      cov_1egltwsr0e().f[4]++;
      const value =
      /* istanbul ignore next */
      (cov_1egltwsr0e().s[19]++, this._isExpanded.read(r));
      /* istanbul ignore next */
      cov_1egltwsr0e().s[20]++;
      collapseButton.icon = value ?
      /* istanbul ignore next */
      (cov_1egltwsr0e().b[0][0]++, Codicon.chevronDown) :
      /* istanbul ignore next */
      (cov_1egltwsr0e().b[0][1]++, Codicon.chevronRight);
      /* istanbul ignore next */
      cov_1egltwsr0e().s[21]++;
      this._domNode?.classList.toggle('chat-used-context-collapsed', !value);
      /* istanbul ignore next */
      cov_1egltwsr0e().s[22]++;
      this.updateAriaLabel(collapseButton.element, typeof referencesLabel === 'string' ?
      /* istanbul ignore next */
      (cov_1egltwsr0e().b[1][0]++, referencesLabel) :
      /* istanbul ignore next */
      (cov_1egltwsr0e().b[1][1]++, referencesLabel.value), this.isExpanded());
      /* istanbul ignore next */
      cov_1egltwsr0e().s[23]++;
      if (this._domNode?.isConnected) {
        /* istanbul ignore next */
        cov_1egltwsr0e().b[2][0]++;
        cov_1egltwsr0e().s[24]++;
        queueMicrotask(() => {
          /* istanbul ignore next */
          cov_1egltwsr0e().f[5]++;
          cov_1egltwsr0e().s[25]++;
          this._onDidChangeHeight.fire();
        });
      } else
      /* istanbul ignore next */
      {
        cov_1egltwsr0e().b[2][1]++;
      }
    }));
    const content =
    /* istanbul ignore next */
    (cov_1egltwsr0e().s[26]++, this.initContent());
    /* istanbul ignore next */
    cov_1egltwsr0e().s[27]++;
    this._domNode.appendChild(content);
    /* istanbul ignore next */
    cov_1egltwsr0e().s[28]++;
    return this._domNode;
  }
  updateAriaLabel(element, label, expanded) {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[6]++;
    cov_1egltwsr0e().s[29]++;
    element.ariaLabel = expanded ?
    /* istanbul ignore next */
    (cov_1egltwsr0e().b[3][0]++, localize('usedReferencesExpanded', "{0}, expanded", label)) :
    /* istanbul ignore next */
    (cov_1egltwsr0e().b[3][1]++, localize('usedReferencesCollapsed', "{0}, collapsed", label));
  }
  addDisposable(disposable) {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[7]++;
    cov_1egltwsr0e().s[30]++;
    this._register(disposable);
  }
  get expanded() {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[8]++;
    cov_1egltwsr0e().s[31]++;
    return this._isExpanded;
  }
  isExpanded() {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[9]++;
    cov_1egltwsr0e().s[32]++;
    return this._isExpanded.get();
  }
  setExpanded(value) {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[10]++;
    cov_1egltwsr0e().s[33]++;
    this._isExpanded.set(value, undefined);
  }
  setTitle(title) {
    /* istanbul ignore next */
    cov_1egltwsr0e().f[11]++;
    cov_1egltwsr0e().s[34]++;
    this.title = title;
    /* istanbul ignore next */
    cov_1egltwsr0e().s[35]++;
    if (this._collapseButton) {
      /* istanbul ignore next */
      cov_1egltwsr0e().b[4][0]++;
      cov_1egltwsr0e().s[36]++;
      this._collapseButton.label = title;
      /* istanbul ignore next */
      cov_1egltwsr0e().s[37]++;
      this.updateAriaLabel(this._collapseButton.element, title, this.isExpanded());
    } else
    /* istanbul ignore next */
    {
      cov_1egltwsr0e().b[4][1]++;
    }
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWVnbHR3c3IwZSIsImFjdHVhbENvdmVyYWdlIiwiJCIsIkJ1dHRvbldpdGhJY29uIiwiQ29kaWNvbiIsIkVtaXR0ZXIiLCJEaXNwb3NhYmxlIiwiYXV0b3J1biIsIm9ic2VydmFibGVWYWx1ZSIsImxvY2FsaXplIiwiQ2hhdENvbGxhcHNpYmxlQ29udGVudFBhcnQiLCJ0aXRsZSIsImNvbnRleHQiLCJfZG9tTm9kZSIsIl9vbkRpZENoYW5nZUhlaWdodCIsInMiLCJfcmVnaXN0ZXIiLCJvbkRpZENoYW5nZUhlaWdodCIsImV2ZW50IiwiaGFzRm9sbG93aW5nQ29udGVudCIsIl9pc0V4cGFuZGVkIiwiX2NvbGxhcHNlQnV0dG9uIiwiY29uc3RydWN0b3IiLCJmIiwiY29udGVudEluZGV4IiwiY29udGVudCIsImxlbmd0aCIsImRvbU5vZGUiLCJpbml0IiwicmVmZXJlbmNlc0xhYmVsIiwiYnV0dG9uRWxlbWVudCIsInVuZGVmaW5lZCIsImNvbGxhcHNlQnV0dG9uIiwiYnV0dG9uQmFja2dyb3VuZCIsImJ1dHRvbkJvcmRlciIsImJ1dHRvbkZvcmVncm91bmQiLCJidXR0b25Ib3ZlckJhY2tncm91bmQiLCJidXR0b25TZWNvbmRhcnlCYWNrZ3JvdW5kIiwiYnV0dG9uU2Vjb25kYXJ5Rm9yZWdyb3VuZCIsImJ1dHRvblNlY29uZGFyeUhvdmVyQmFja2dyb3VuZCIsImJ1dHRvblNlcGFyYXRvciIsImxhYmVsIiwib25EaWRDbGljayIsInZhbHVlIiwiZ2V0Iiwic2V0IiwiciIsInJlYWQiLCJpY29uIiwiYiIsImNoZXZyb25Eb3duIiwiY2hldnJvblJpZ2h0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwidXBkYXRlQXJpYUxhYmVsIiwiZWxlbWVudCIsImlzRXhwYW5kZWQiLCJpc0Nvbm5lY3RlZCIsInF1ZXVlTWljcm90YXNrIiwiZmlyZSIsImluaXRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJleHBhbmRlZCIsImFyaWFMYWJlbCIsImFkZERpc3Bvc2FibGUiLCJkaXNwb3NhYmxlIiwic2V0RXhwYW5kZWQiLCJzZXRUaXRsZSJdLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvRGVza3RvcC9NaW50TWluZC9zcmMvdnMvd29ya2JlbmNoL2NvbnRyaWIvY2hhdC9icm93c2VyL2NoYXRDb250ZW50UGFydHMvY2hhdENvbGxhcHNpYmxlQ29udGVudFBhcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7ICQgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2Jyb3dzZXIvZG9tLmpzJztcbmltcG9ydCB7IEJ1dHRvbldpdGhJY29uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9icm93c2VyL3VpL2J1dHRvbi9idXR0b24uanMnO1xuaW1wb3J0IHsgQ29kaWNvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2NvZGljb25zLmpzJztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBJTWFya2Rvd25TdHJpbmcgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9odG1sQ29udGVudC5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlLCBJRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBhdXRvcnVuLCBJT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZVZhbHVlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vb2JzZXJ2YWJsZS5qcyc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL25scy5qcyc7XG5pbXBvcnQgeyBJQ2hhdFJlbmRlcmVyQ29udGVudCB9IGZyb20gJy4uLy4uL2NvbW1vbi9jaGF0Vmlld01vZGVsLmpzJztcbmltcG9ydCB7IENoYXRUcmVlSXRlbSB9IGZyb20gJy4uL2NoYXQuanMnO1xuaW1wb3J0IHsgSUNoYXRDb250ZW50UGFydCwgSUNoYXRDb250ZW50UGFydFJlbmRlckNvbnRleHQgfSBmcm9tICcuL2NoYXRDb250ZW50UGFydHMuanMnO1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDaGF0Q29sbGFwc2libGVDb250ZW50UGFydCBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJQ2hhdENvbnRlbnRQYXJ0IHtcblxuXHRwcml2YXRlIF9kb21Ob2RlPzogSFRNTEVsZW1lbnQ7XG5cblx0cHJvdGVjdGVkIHJlYWRvbmx5IF9vbkRpZENoYW5nZUhlaWdodCA9IHRoaXMuX3JlZ2lzdGVyKG5ldyBFbWl0dGVyPHZvaWQ+KCkpO1xuXHRwdWJsaWMgcmVhZG9ubHkgb25EaWRDaGFuZ2VIZWlnaHQgPSB0aGlzLl9vbkRpZENoYW5nZUhlaWdodC5ldmVudDtcblxuXHRwcm90ZWN0ZWQgcmVhZG9ubHkgaGFzRm9sbG93aW5nQ29udGVudDogYm9vbGVhbjtcblx0cHJvdGVjdGVkIF9pc0V4cGFuZGVkID0gb2JzZXJ2YWJsZVZhbHVlPGJvb2xlYW4+KHRoaXMsIGZhbHNlKTtcblx0cHJvdGVjdGVkIF9jb2xsYXBzZUJ1dHRvbjogQnV0dG9uV2l0aEljb24gfCB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSB0aXRsZTogSU1hcmtkb3duU3RyaW5nIHwgc3RyaW5nLFxuXHRcdHByb3RlY3RlZCByZWFkb25seSBjb250ZXh0OiBJQ2hhdENvbnRlbnRQYXJ0UmVuZGVyQ29udGV4dCxcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmhhc0ZvbGxvd2luZ0NvbnRlbnQgPSB0aGlzLmNvbnRleHQuY29udGVudEluZGV4ICsgMSA8IHRoaXMuY29udGV4dC5jb250ZW50Lmxlbmd0aDtcblx0fVxuXG5cdGdldCBkb21Ob2RlKCk6IEhUTUxFbGVtZW50IHtcblx0XHR0aGlzLl9kb21Ob2RlID8/PSB0aGlzLmluaXQoKTtcblx0XHRyZXR1cm4gdGhpcy5fZG9tTm9kZTtcblx0fVxuXG5cdHByb3RlY3RlZCBpbml0KCk6IEhUTUxFbGVtZW50IHtcblx0XHRjb25zdCByZWZlcmVuY2VzTGFiZWwgPSB0aGlzLnRpdGxlO1xuXG5cblx0XHRjb25zdCBidXR0b25FbGVtZW50ID0gJCgnLmNoYXQtdXNlZC1jb250ZXh0LWxhYmVsJywgdW5kZWZpbmVkKTtcblxuXHRcdGNvbnN0IGNvbGxhcHNlQnV0dG9uID0gdGhpcy5fcmVnaXN0ZXIobmV3IEJ1dHRvbldpdGhJY29uKGJ1dHRvbkVsZW1lbnQsIHtcblx0XHRcdGJ1dHRvbkJhY2tncm91bmQ6IHVuZGVmaW5lZCxcblx0XHRcdGJ1dHRvbkJvcmRlcjogdW5kZWZpbmVkLFxuXHRcdFx0YnV0dG9uRm9yZWdyb3VuZDogdW5kZWZpbmVkLFxuXHRcdFx0YnV0dG9uSG92ZXJCYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG5cdFx0XHRidXR0b25TZWNvbmRhcnlCYWNrZ3JvdW5kOiB1bmRlZmluZWQsXG5cdFx0XHRidXR0b25TZWNvbmRhcnlGb3JlZ3JvdW5kOiB1bmRlZmluZWQsXG5cdFx0XHRidXR0b25TZWNvbmRhcnlIb3ZlckJhY2tncm91bmQ6IHVuZGVmaW5lZCxcblx0XHRcdGJ1dHRvblNlcGFyYXRvcjogdW5kZWZpbmVkXG5cdFx0fSkpO1xuXHRcdHRoaXMuX2NvbGxhcHNlQnV0dG9uID0gY29sbGFwc2VCdXR0b247XG5cdFx0dGhpcy5fZG9tTm9kZSA9ICQoJy5jaGF0LXVzZWQtY29udGV4dCcsIHVuZGVmaW5lZCwgYnV0dG9uRWxlbWVudCk7XG5cdFx0Y29sbGFwc2VCdXR0b24ubGFiZWwgPSByZWZlcmVuY2VzTGFiZWw7XG5cblx0XHR0aGlzLl9yZWdpc3Rlcihjb2xsYXBzZUJ1dHRvbi5vbkRpZENsaWNrKCgpID0+IHtcblx0XHRcdGNvbnN0IHZhbHVlID0gdGhpcy5faXNFeHBhbmRlZC5nZXQoKTtcblx0XHRcdHRoaXMuX2lzRXhwYW5kZWQuc2V0KCF2YWx1ZSwgdW5kZWZpbmVkKTtcblx0XHR9KSk7XG5cblx0XHR0aGlzLl9yZWdpc3RlcihhdXRvcnVuKHIgPT4ge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSB0aGlzLl9pc0V4cGFuZGVkLnJlYWQocik7XG5cdFx0XHRjb2xsYXBzZUJ1dHRvbi5pY29uID0gdmFsdWUgPyBDb2RpY29uLmNoZXZyb25Eb3duIDogQ29kaWNvbi5jaGV2cm9uUmlnaHQ7XG5cdFx0XHR0aGlzLl9kb21Ob2RlPy5jbGFzc0xpc3QudG9nZ2xlKCdjaGF0LXVzZWQtY29udGV4dC1jb2xsYXBzZWQnLCAhdmFsdWUpO1xuXHRcdFx0dGhpcy51cGRhdGVBcmlhTGFiZWwoY29sbGFwc2VCdXR0b24uZWxlbWVudCwgdHlwZW9mIHJlZmVyZW5jZXNMYWJlbCA9PT0gJ3N0cmluZycgPyByZWZlcmVuY2VzTGFiZWwgOiByZWZlcmVuY2VzTGFiZWwudmFsdWUsIHRoaXMuaXNFeHBhbmRlZCgpKTtcblxuXHRcdFx0aWYgKHRoaXMuX2RvbU5vZGU/LmlzQ29ubmVjdGVkKSB7XG5cdFx0XHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdFx0XHR0aGlzLl9vbkRpZENoYW5nZUhlaWdodC5maXJlKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pKTtcblxuXHRcdGNvbnN0IGNvbnRlbnQgPSB0aGlzLmluaXRDb250ZW50KCk7XG5cdFx0dGhpcy5fZG9tTm9kZS5hcHBlbmRDaGlsZChjb250ZW50KTtcblx0XHRyZXR1cm4gdGhpcy5fZG9tTm9kZTtcblx0fVxuXG5cdHByb3RlY3RlZCBhYnN0cmFjdCBpbml0Q29udGVudCgpOiBIVE1MRWxlbWVudDtcblxuXHRhYnN0cmFjdCBoYXNTYW1lQ29udGVudChvdGhlcjogSUNoYXRSZW5kZXJlckNvbnRlbnQsIGZvbGxvd2luZ0NvbnRlbnQ6IElDaGF0UmVuZGVyZXJDb250ZW50W10sIGVsZW1lbnQ6IENoYXRUcmVlSXRlbSk6IGJvb2xlYW47XG5cblx0cHJpdmF0ZSB1cGRhdGVBcmlhTGFiZWwoZWxlbWVudDogSFRNTEVsZW1lbnQsIGxhYmVsOiBzdHJpbmcsIGV4cGFuZGVkPzogYm9vbGVhbik6IHZvaWQge1xuXHRcdGVsZW1lbnQuYXJpYUxhYmVsID0gZXhwYW5kZWQgPyBsb2NhbGl6ZSgndXNlZFJlZmVyZW5jZXNFeHBhbmRlZCcsIFwiezB9LCBleHBhbmRlZFwiLCBsYWJlbCkgOiBsb2NhbGl6ZSgndXNlZFJlZmVyZW5jZXNDb2xsYXBzZWQnLCBcInswfSwgY29sbGFwc2VkXCIsIGxhYmVsKTtcblx0fVxuXG5cdGFkZERpc3Bvc2FibGUoZGlzcG9zYWJsZTogSURpc3Bvc2FibGUpOiB2b2lkIHtcblx0XHR0aGlzLl9yZWdpc3RlcihkaXNwb3NhYmxlKTtcblx0fVxuXG5cdGdldCBleHBhbmRlZCgpOiBJT2JzZXJ2YWJsZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzRXhwYW5kZWQ7XG5cdH1cblxuXHRwcm90ZWN0ZWQgaXNFeHBhbmRlZCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5faXNFeHBhbmRlZC5nZXQoKTtcblx0fVxuXG5cdHByb3RlY3RlZCBzZXRFeHBhbmRlZCh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuXHRcdHRoaXMuX2lzRXhwYW5kZWQuc2V0KHZhbHVlLCB1bmRlZmluZWQpO1xuXHR9XG5cblx0cHJvdGVjdGVkIHNldFRpdGxlKHRpdGxlOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnRpdGxlID0gdGl0bGU7XG5cdFx0aWYgKHRoaXMuX2NvbGxhcHNlQnV0dG9uKSB7XG5cdFx0XHR0aGlzLl9jb2xsYXBzZUJ1dHRvbi5sYWJlbCA9IHRpdGxlO1xuXHRcdFx0dGhpcy51cGRhdGVBcmlhTGFiZWwodGhpcy5fY29sbGFwc2VCdXR0b24uZWxlbWVudCwgdGl0bGUsIHRoaXMuaXNFeHBhbmRlZCgpKTtcblx0XHR9XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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