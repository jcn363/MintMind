{"version":3,"names":["cov_1nidgluav8","actualCoverage","generateUuid","InspectProfilingService","_serviceBrand","_sessions","s","Map","startProfiling","options","f","prof","session","host","port","checkForPaused","id","set","stopProfiling","sessionId","get","b","Error","result","stop","delete","profile"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/profiling/node/profilingService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ProfilingSession } from 'v8-inspect-profiler';\nimport { generateUuid } from '../../../base/common/uuid.js';\nimport { IV8InspectProfilingService, IV8Profile } from '../common/profiling.js';\n\nexport class InspectProfilingService implements IV8InspectProfilingService {\n\n\t_serviceBrand: undefined;\n\n\tprivate readonly _sessions = new Map<string, ProfilingSession>();\n\n\tasync startProfiling(options: { host: string; port: number }): Promise<string> {\n\t\tconst prof = await import('v8-inspect-profiler');\n\t\tconst session = await prof.startProfiling({ host: options.host, port: options.port, checkForPaused: true });\n\t\tconst id = generateUuid();\n\t\tthis._sessions.set(id, session);\n\t\treturn id;\n\t}\n\n\tasync stopProfiling(sessionId: string): Promise<IV8Profile> {\n\t\tconst session = this._sessions.get(sessionId);\n\t\tif (!session) {\n\t\t\tthrow new Error(`UNKNOWN session '${sessionId}'`);\n\t\t}\n\t\tconst result = await session.stop();\n\t\tthis._sessions.delete(sessionId);\n\t\treturn result.profile;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuBO;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAvBP;;;;AAMA,SAASE,YAAY,QAAQ,8BAA8B;AAG3D,OAAM,MAAOC,uBAAuB;EAEnCC,aAAa;EAEIC,SAAS;EAAA;EAAA,CAAAL,cAAA,GAAAM,CAAA,OAAG,IAAIC,GAAG,EAA4B;EAEhE,MAAMC,cAAcA,CAACC,OAAuC;IAAA;IAAAT,cAAA,GAAAU,CAAA;IAC3D,MAAMC,IAAI;IAAA;IAAA,CAAAX,cAAA,GAAAM,CAAA,OAAG,MAAM,MAAM,CAAC,qBAAqB,CAAC;IAChD,MAAMM,OAAO;IAAA;IAAA,CAAAZ,cAAA,GAAAM,CAAA,OAAG,MAAMK,IAAI,CAACH,cAAc,CAAC;MAAEK,IAAI,EAAEJ,OAAO,CAACI,IAAI;MAAEC,IAAI,EAAEL,OAAO,CAACK,IAAI;MAAEC,cAAc,EAAE;IAAI,CAAE,CAAC;IAC3G,MAAMC,EAAE;IAAA;IAAA,CAAAhB,cAAA,GAAAM,CAAA,OAAGJ,YAAY,EAAE;IAAC;IAAAF,cAAA,GAAAM,CAAA;IAC1B,IAAI,CAACD,SAAS,CAACY,GAAG,CAACD,EAAE,EAAEJ,OAAO,CAAC;IAAC;IAAAZ,cAAA,GAAAM,CAAA;IAChC,OAAOU,EAAE;EACV;EAEA,MAAME,aAAaA,CAACC,SAAiB;IAAA;IAAAnB,cAAA,GAAAU,CAAA;IACpC,MAAME,OAAO;IAAA;IAAA,CAAAZ,cAAA,GAAAM,CAAA,OAAG,IAAI,CAACD,SAAS,CAACe,GAAG,CAACD,SAAS,CAAC;IAAC;IAAAnB,cAAA,GAAAM,CAAA;IAC9C,IAAI,CAACM,OAAO,EAAE;MAAA;MAAAZ,cAAA,GAAAqB,CAAA;MAAArB,cAAA,GAAAM,CAAA;MACb,MAAM,IAAIgB,KAAK,CAAC,oBAAoBH,SAAS,GAAG,CAAC;IAClD,CAAC;IAAA;IAAA;MAAAnB,cAAA,GAAAqB,CAAA;IAAA;IACD,MAAME,MAAM;IAAA;IAAA,CAAAvB,cAAA,GAAAM,CAAA,OAAG,MAAMM,OAAO,CAACY,IAAI,EAAE;IAAC;IAAAxB,cAAA,GAAAM,CAAA;IACpC,IAAI,CAACD,SAAS,CAACoB,MAAM,CAACN,SAAS,CAAC;IAAC;IAAAnB,cAAA,GAAAM,CAAA;IACjC,OAAOiB,MAAM,CAACG,OAAO;EACtB","ignoreList":[]}