{"version":3,"names":["cov_1jmz59vrnf","actualCoverage","EditorContextKeys","ILanguageService","SnippetController2","nls","IClipboardService","IInstantiationService","SnippetEditorAction","pickSnippet","ISnippetsService","Snippet","Args","snippet","name","langId","fromUser","arg","f","s","b","_empty","undefined","constructor","InsertSnippetAction","id","title","localize2","f1","precondition","writable","metadata","description","args","schema","runEditorCommand","accessor","editor","languageService","get","snippetService","hasModel","clipboardService","instaService","Promise","resolve","reject","lineNumber","column","getPosition","Math","random","languageId","isRegisteredLanguageId","getModel","tokenization","tokenizeIfCheap","getLanguageIdAtPosition","getLanguageName","getLanguageId","getSnippets","includeNoPrefixSnippets","then","snippets","find","invokeFunction","clipboardText","needsClipboard","readText","focus","insert","codeSnippet","updateUsageTimestamp"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/insertSnippet.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../../../editor/common/editorContextKeys.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport * as nls from '../../../../../nls.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { SnippetEditorAction } from './abstractSnippetsActions.js';\nimport { pickSnippet } from '../snippetPicker.js';\nimport { ISnippetsService } from '../snippets.js';\nimport { Snippet, SnippetSource } from '../snippetsFile.js';\n\nclass Args {\n\n\tstatic fromUser(arg: any): Args {\n\t\tif (!arg || typeof arg !== 'object') {\n\t\t\treturn Args._empty;\n\t\t}\n\t\tlet { snippet, name, langId } = arg;\n\t\tif (typeof snippet !== 'string') {\n\t\t\tsnippet = undefined;\n\t\t}\n\t\tif (typeof name !== 'string') {\n\t\t\tname = undefined;\n\t\t}\n\t\tif (typeof langId !== 'string') {\n\t\t\tlangId = undefined;\n\t\t}\n\t\treturn new Args(snippet, name, langId);\n\t}\n\n\tprivate static readonly _empty = new Args(undefined, undefined, undefined);\n\n\tprivate constructor(\n\t\tpublic readonly snippet: string | undefined,\n\t\tpublic readonly name: string | undefined,\n\t\tpublic readonly langId: string | undefined\n\t) { }\n}\n\nexport class InsertSnippetAction extends SnippetEditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.insertSnippet',\n\t\t\ttitle: nls.localize2('snippet.suggestions.label', \"Insert Snippet\"),\n\t\t\tf1: true,\n\t\t\tprecondition: EditorContextKeys.writable,\n\t\t\tmetadata: {\n\t\t\t\tdescription: `Insert Snippet`,\n\t\t\t\targs: [{\n\t\t\t\t\tname: 'args',\n\t\t\t\t\tschema: {\n\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t'snippet': {\n\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'langId': {\n\t\t\t\t\t\t\t\t'type': 'string',\n\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'name': {\n\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, arg: any) {\n\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst snippetService = accessor.get(ISnippetsService);\n\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tconst snippet = await new Promise<Snippet | undefined>((resolve, reject) => {\n\n\t\t\tconst { lineNumber, column } = editor.getPosition();\n\t\t\tconst { snippet, name, langId } = Args.fromUser(arg);\n\n\t\t\tif (snippet) {\n\t\t\t\treturn resolve(new Snippet(\n\t\t\t\t\tfalse,\n\t\t\t\t\t[],\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\tsnippet,\n\t\t\t\t\t'',\n\t\t\t\t\tSnippetSource.User,\n\t\t\t\t\t`random/${Math.random()}`\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tlet languageId: string;\n\t\t\tif (langId) {\n\t\t\t\tif (!languageService.isRegisteredLanguageId(langId)) {\n\t\t\t\t\treturn resolve(undefined);\n\t\t\t\t}\n\t\t\t\tlanguageId = langId;\n\t\t\t} else {\n\t\t\t\teditor.getModel().tokenization.tokenizeIfCheap(lineNumber);\n\t\t\t\tlanguageId = editor.getModel().getLanguageIdAtPosition(lineNumber, column);\n\n\t\t\t\t// validate the `languageId` to ensure this is a user\n\t\t\t\t// facing language with a name and the chance to have\n\t\t\t\t// snippets, else fall back to the outer language\n\t\t\t\tif (!languageService.getLanguageName(languageId)) {\n\t\t\t\t\tlanguageId = editor.getModel().getLanguageId();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (name) {\n\t\t\t\t// take selected snippet\n\t\t\t\tsnippetService.getSnippets(languageId, { includeNoPrefixSnippets: true })\n\t\t\t\t\t.then(snippets => snippets.find(snippet => snippet.name === name))\n\t\t\t\t\t.then(resolve, reject);\n\n\t\t\t} else {\n\t\t\t\t// let user pick a snippet\n\t\t\t\tresolve(instaService.invokeFunction(pickSnippet, languageId));\n\t\t\t}\n\t\t});\n\n\t\tif (!snippet) {\n\t\t\treturn;\n\t\t}\n\t\tlet clipboardText: string | undefined;\n\t\tif (snippet.needsClipboard) {\n\t\t\tclipboardText = await clipboardService.readText();\n\t\t}\n\t\teditor.focus();\n\t\tSnippetController2.get(editor)?.insert(snippet.codeSnippet, { clipboardText });\n\t\tsnippetService.updateUsageTimestamp(snippet);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAwCkB;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,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","ignoreList":[]}