{"version":3,"names":["cov_1rf5i5a3q5","actualCoverage","URI","testUrlMatchesGlob","isURLDomainTrusted","url","trustedDomains","f","s","parse","normalizeURL","map","isLocalhostAuthority","authority","b","i","length","caseInsensitiveAuthorities","parsed","includes","with","path","toLowerCase","toString","rLocalhost","r127","test"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/url/common/trustedDomains.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { URI } from '../../../../base/common/uri.js';\nimport { testUrlMatchesGlob } from './urlGlob.js';\n\n\n/**\n * Check whether a domain like https://www.microsoft.com matches\n * the list of trusted domains.\n *\n * - Schemes must match\n * - There's no subdomain matching. For example https://microsoft.com doesn't match https://www.microsoft.com\n * - Star matches all subdomains. For example https://*.microsoft.com matches https://www.microsoft.com and https://foo.bar.microsoft.com\n */\n\nexport function isURLDomainTrusted(url: URI, trustedDomains: string[]): boolean {\n\turl = URI.parse(normalizeURL(url));\n\ttrustedDomains = trustedDomains.map(normalizeURL);\n\n\tif (isLocalhostAuthority(url.authority)) {\n\t\treturn true;\n\t}\n\n\tfor (let i = 0; i < trustedDomains.length; i++) {\n\t\tif (trustedDomains[i] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (testUrlMatchesGlob(url, trustedDomains[i])) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n/**\n * Case-normalize some case-insensitive URLs, such as github.\n */\n\nexport function normalizeURL(url: string | URI): string {\n\tconst caseInsensitiveAuthorities = ['github.com'];\n\ttry {\n\t\tconst parsed = typeof url === 'string' ? URI.parse(url, true) : url;\n\t\tif (caseInsensitiveAuthorities.includes(parsed.authority)) {\n\t\t\treturn parsed.with({ path: parsed.path.toLowerCase() }).toString(true);\n\t\t} else {\n\t\t\treturn parsed.toString(true);\n\t\t}\n\t} catch { return url.toString(); }\n}\nconst rLocalhost = /^(.+\\.)?localhost(:\\d+)?$/i;\nconst r127 = /^127.0.0.1(:\\d+)?$/;\n\nexport function isLocalhostAuthority(authority: string) {\n\treturn rLocalhost.test(authority) || r127.test(authority);\n}\n\n"],"mappings":"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","ignoreList":[]}