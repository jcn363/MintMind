{"version":3,"names":["cov_1w7yj6b73l","actualCoverage","assert","instantiateTestCodeEditor","createCodeEditorServices","instantiateTextModel","DisposableStore","testCommand","lines","languageId","selection","commandFactory","expectedLines","expectedSelection","forceTokenization","prepare","f","disposables","s","instantiationService","b","invokeFunction","model","add","join","editor","viewModel","getViewModel","tokenization","getLineCount","setSelections","command","accessor","getSelection","executeCommand","deepStrictEqual","getLinesContent","actualSelection","toString","dispose","getEditOperation","operations","editOperationBuilder","addEditOperation","range","text","forceMoveMarkers","push","addTrackedEditOperation","trackSelection","getEditOperations"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/test/browser/testCommand.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { IRange } from '../../common/core/range.js';\nimport { Selection, ISelection } from '../../common/core/selection.js';\nimport { ICommand, IEditOperationBuilder } from '../../common/editorCommon.js';\nimport { ITextModel } from '../../common/model.js';\nimport { instantiateTestCodeEditor, createCodeEditorServices } from './testCodeEditor.js';\nimport { instantiateTextModel } from '../common/testTextModel.js';\nimport { ServicesAccessor } from '../../../platform/instantiation/common/instantiation.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { ISingleEditOperation } from '../../common/core/editOperation.js';\n\nexport function testCommand(\n\tlines: string[],\n\tlanguageId: string | null,\n\tselection: Selection,\n\tcommandFactory: (accessor: ServicesAccessor, selection: Selection) => ICommand,\n\texpectedLines: string[],\n\texpectedSelection: Selection,\n\tforceTokenization?: boolean,\n\tprepare?: (accessor: ServicesAccessor, disposables: DisposableStore) => void\n): void {\n\tconst disposables = new DisposableStore();\n\tconst instantiationService = createCodeEditorServices(disposables);\n\tif (prepare) {\n\t\tinstantiationService.invokeFunction(prepare, disposables);\n\t}\n\tconst model = disposables.add(instantiateTextModel(instantiationService, lines.join('\\n'), languageId));\n\tconst editor = disposables.add(instantiateTestCodeEditor(instantiationService, model));\n\tconst viewModel = editor.getViewModel()!;\n\n\tif (forceTokenization) {\n\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t}\n\n\tviewModel.setSelections('tests', [selection]);\n\n\tconst command = instantiationService.invokeFunction((accessor) => commandFactory(accessor, viewModel.getSelection()));\n\tviewModel.executeCommand(command, 'tests');\n\n\tassert.deepStrictEqual(model.getLinesContent(), expectedLines);\n\n\tconst actualSelection = viewModel.getSelection();\n\tassert.deepStrictEqual(actualSelection.toString(), expectedSelection.toString());\n\n\tdisposables.dispose();\n}\n\n/**\n * Extract edit operations if command `command` were to execute on model `model`\n */\nexport function getEditOperation(model: ITextModel, command: ICommand): ISingleEditOperation[] {\n\tconst operations: ISingleEditOperation[] = [];\n\tconst editOperationBuilder: IEditOperationBuilder = {\n\t\taddEditOperation: (range: IRange, text: string, forceMoveMarkers: boolean = false) => {\n\t\t\toperations.push({\n\t\t\t\trange: range,\n\t\t\t\ttext: text,\n\t\t\t\tforceMoveMarkers: forceMoveMarkers\n\t\t\t});\n\t\t},\n\n\t\taddTrackedEditOperation: (range: IRange, text: string, forceMoveMarkers: boolean = false) => {\n\t\t\toperations.push({\n\t\t\t\trange: range,\n\t\t\t\ttext: text,\n\t\t\t\tforceMoveMarkers: forceMoveMarkers\n\t\t\t});\n\t\t},\n\n\n\t\ttrackSelection: (selection: ISelection) => {\n\t\t\treturn '';\n\t\t}\n\t};\n\tcommand.getEditOperations(model, editOperationBuilder);\n\treturn operations;\n}\n"],"mappings":"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","ignoreList":[]}