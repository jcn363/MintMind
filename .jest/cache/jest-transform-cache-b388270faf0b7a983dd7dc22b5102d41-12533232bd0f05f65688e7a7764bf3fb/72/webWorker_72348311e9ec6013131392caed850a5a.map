{"version":3,"names":["cov_2o0dz3k40j","actualCoverage","onUnexpectedError","transformErrorForSerialization","Emitter","Disposable","isWeb","strings","DEFAULT_CHANNEL","s","INITIALIZE","webWorkerWarningLogged","logOnceWebWorkerWarning","err","f","b","console","warn","message","RequestMessage","vsWorker","req","channel","method","args","type","constructor","ReplyMessage","seq","res","SubscribeEventMessage","eventName","arg","EventMessage","event","UnsubscribeEventMessage","WebWorkerProtocol","_workerId","_lastSentReq","_pendingReplies","_pendingEmitters","_pendingEvents","_handler","handler","Object","create","Map","setWorkerId","workerId","sendMessage","String","Promise","resolve","reject","_send","listen","emitter","onWillAddFirstListener","set","onDidRemoveLastListener","delete","handleMessage","_handleMessage","createProxyToRemoteChannel","sendMessageBarrier","get","target","name","propertyIsDynamicEvent","propertyIsEvent","undefined","charCodeAt","myArgs","Proxy","msg","_handleReplyMessage","_handleRequestMessage","_handleSubscribeEventMessage","_handleEventMessage","_handleUnsubscribeEventMessage","replyMessage","reply","$isError","newErr","Error","stack","requestMessage","result","then","r","e","detail","disposable","handleEvent","has","fire","dispose","transfer","i","length","ArrayBuffer","push","WebWorkerClient","_worker","_onModuleLoaded","_protocol","proxy","_localChannels","_remoteChannels","worker","_register","onMessage","onError","postMessage","_handleEvent","getId","catch","_onError","channelName","fn","apply","call","setChannel","getChannel","inst","error","info","isUpperAsciiLetter","test","WebWorkerServer","requestHandler","requestHandlerFactory","onmessage","initialize"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/worker/webWorker.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../charCode.js';\nimport { onUnexpectedError, SerializedError, transformErrorForSerialization } from '../errors.js';\nimport { Emitter, Event } from '../event.js';\nimport { Disposable, IDisposable } from '../lifecycle.js';\nimport { isWeb } from '../platform.js';\nimport * as strings from '../strings.js';\n\nconst DEFAULT_CHANNEL = 'default';\nconst INITIALIZE = '$initialize';\n\nexport interface IWebWorker extends IDisposable {\n\tgetId(): number;\n\treadonly onMessage: Event<Message>;\n\treadonly onError: Event<unknown>;\n\tpostMessage(message: Message, transfer: ArrayBuffer[]): void;\n}\n\nlet webWorkerWarningLogged = false;\nexport function logOnceWebWorkerWarning(err: unknown): void {\n\tif (!isWeb) {\n\t\t// running tests\n\t\treturn;\n\t}\n\tif (!webWorkerWarningLogged) {\n\t\twebWorkerWarningLogged = true;\n\t\tconsole.warn('Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq');\n\t}\n\tconsole.warn((err as Error).message);\n}\n\nconst enum MessageType {\n\tRequest,\n\tReply,\n\tSubscribeEvent,\n\tEvent,\n\tUnsubscribeEvent\n}\nclass RequestMessage {\n\tpublic readonly type = MessageType.Request;\n\tconstructor(\n\t\tpublic readonly vsWorker: number,\n\t\tpublic readonly req: string,\n\t\tpublic readonly channel: string,\n\t\tpublic readonly method: string,\n\t\tpublic readonly args: unknown[]\n\t) { }\n}\nclass ReplyMessage {\n\tpublic readonly type = MessageType.Reply;\n\tconstructor(\n\t\tpublic readonly vsWorker: number,\n\t\tpublic readonly seq: string,\n\t\tpublic readonly res: unknown,\n\t\tpublic readonly err: unknown | SerializedError\n\t) { }\n}\nclass SubscribeEventMessage {\n\tpublic readonly type = MessageType.SubscribeEvent;\n\tconstructor(\n\t\tpublic readonly vsWorker: number,\n\t\tpublic readonly req: string,\n\t\tpublic readonly channel: string,\n\t\tpublic readonly eventName: string,\n\t\tpublic readonly arg: unknown\n\t) { }\n}\nclass EventMessage {\n\tpublic readonly type = MessageType.Event;\n\tconstructor(\n\t\tpublic readonly vsWorker: number,\n\t\tpublic readonly req: string,\n\t\tpublic readonly event: unknown\n\t) { }\n}\nclass UnsubscribeEventMessage {\n\tpublic readonly type = MessageType.UnsubscribeEvent;\n\tconstructor(\n\t\tpublic readonly vsWorker: number,\n\t\tpublic readonly req: string\n\t) { }\n}\nexport type Message = RequestMessage | ReplyMessage | SubscribeEventMessage | EventMessage | UnsubscribeEventMessage;\n\ninterface IMessageReply {\n\tresolve: (value?: unknown) => void;\n\treject: (error?: unknown) => void;\n}\n\ninterface IMessageHandler {\n\tsendMessage(msg: unknown, transfer?: ArrayBuffer[]): void;\n\thandleMessage(channel: string, method: string, args: unknown[]): Promise<unknown>;\n\thandleEvent(channel: string, eventName: string, arg: unknown): Event<unknown>;\n}\n\nclass WebWorkerProtocol {\n\n\tprivate _workerId: number;\n\tprivate _lastSentReq: number;\n\tprivate _pendingReplies: { [req: string]: IMessageReply };\n\tprivate _pendingEmitters: Map<string, Emitter<unknown>>;\n\tprivate _pendingEvents: Map<string, IDisposable>;\n\tprivate _handler: IMessageHandler;\n\n\tconstructor(handler: IMessageHandler) {\n\t\tthis._workerId = -1;\n\t\tthis._handler = handler;\n\t\tthis._lastSentReq = 0;\n\t\tthis._pendingReplies = Object.create(null);\n\t\tthis._pendingEmitters = new Map<string, Emitter<unknown>>();\n\t\tthis._pendingEvents = new Map<string, IDisposable>();\n\t}\n\n\tpublic setWorkerId(workerId: number): void {\n\t\tthis._workerId = workerId;\n\t}\n\n\tpublic async sendMessage(channel: string, method: string, args: unknown[]): Promise<unknown> {\n\t\tconst req = String(++this._lastSentReq);\n\t\treturn new Promise<unknown>((resolve, reject) => {\n\t\t\tthis._pendingReplies[req] = {\n\t\t\t\tresolve: resolve,\n\t\t\t\treject: reject\n\t\t\t};\n\t\t\tthis._send(new RequestMessage(this._workerId, req, channel, method, args));\n\t\t});\n\t}\n\n\tpublic listen(channel: string, eventName: string, arg: unknown): Event<unknown> {\n\t\tlet req: string | null = null;\n\t\tconst emitter = new Emitter<unknown>({\n\t\t\tonWillAddFirstListener: () => {\n\t\t\t\treq = String(++this._lastSentReq);\n\t\t\t\tthis._pendingEmitters.set(req, emitter);\n\t\t\t\tthis._send(new SubscribeEventMessage(this._workerId, req, channel, eventName, arg));\n\t\t\t},\n\t\t\tonDidRemoveLastListener: () => {\n\t\t\t\tthis._pendingEmitters.delete(req!);\n\t\t\t\tthis._send(new UnsubscribeEventMessage(this._workerId, req!));\n\t\t\t\treq = null;\n\t\t\t}\n\t\t});\n\t\treturn emitter.event;\n\t}\n\n\tpublic handleMessage(message: unknown): void {\n\t\tif (!message || !(message as Message).vsWorker) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._workerId !== -1 && (message as Message).vsWorker !== this._workerId) {\n\t\t\treturn;\n\t\t}\n\t\tthis._handleMessage(message as Message);\n\t}\n\n\tpublic createProxyToRemoteChannel<T extends object>(channel: string, sendMessageBarrier?: () => Promise<void>): T {\n\t\tconst handler = {\n\t\t\tget: (target: Record<PropertyKey, unknown>, name: PropertyKey) => {\n\t\t\t\tif (typeof name === 'string' && !target[name]) {\n\t\t\t\t\tif (propertyIsDynamicEvent(name)) { // onDynamic...\n\t\t\t\t\t\ttarget[name] = (arg: unknown): Event<unknown> => {\n\t\t\t\t\t\t\treturn this.listen(channel, name, arg);\n\t\t\t\t\t\t};\n\t\t\t\t\t} else if (propertyIsEvent(name)) { // on...\n\t\t\t\t\t\ttarget[name] = this.listen(channel, name, undefined);\n\t\t\t\t\t} else if (name.charCodeAt(0) === CharCode.DollarSign) { // $...\n\t\t\t\t\t\ttarget[name] = async (...myArgs: unknown[]) => {\n\t\t\t\t\t\t\tawait sendMessageBarrier?.();\n\t\t\t\t\t\t\treturn this.sendMessage(channel, name, myArgs);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn target[name];\n\t\t\t}\n\t\t};\n\t\treturn new Proxy(Object.create(null), handler);\n\t}\n\n\tprivate _handleMessage(msg: Message): void {\n\t\tswitch (msg.type) {\n\t\t\tcase MessageType.Reply:\n\t\t\t\treturn this._handleReplyMessage(msg);\n\t\t\tcase MessageType.Request:\n\t\t\t\treturn this._handleRequestMessage(msg);\n\t\t\tcase MessageType.SubscribeEvent:\n\t\t\t\treturn this._handleSubscribeEventMessage(msg);\n\t\t\tcase MessageType.Event:\n\t\t\t\treturn this._handleEventMessage(msg);\n\t\t\tcase MessageType.UnsubscribeEvent:\n\t\t\t\treturn this._handleUnsubscribeEventMessage(msg);\n\t\t}\n\t}\n\n\tprivate _handleReplyMessage(replyMessage: ReplyMessage): void {\n\t\tif (!this._pendingReplies[replyMessage.seq]) {\n\t\t\tconsole.warn('Got reply to unknown seq');\n\t\t\treturn;\n\t\t}\n\n\t\tconst reply = this._pendingReplies[replyMessage.seq];\n\t\tdelete this._pendingReplies[replyMessage.seq];\n\n\t\tif (replyMessage.err) {\n\t\t\tlet err = replyMessage.err;\n\t\t\tif ((replyMessage.err as SerializedError).$isError) {\n\t\t\t\tconst newErr = new Error();\n\t\t\t\tnewErr.name = (replyMessage.err as SerializedError).name;\n\t\t\t\tnewErr.message = (replyMessage.err as SerializedError).message;\n\t\t\t\tnewErr.stack = (replyMessage.err as SerializedError).stack;\n\t\t\t\terr = newErr;\n\t\t\t}\n\t\t\treply.reject(err);\n\t\t\treturn;\n\t\t}\n\n\t\treply.resolve(replyMessage.res);\n\t}\n\n\tprivate _handleRequestMessage(requestMessage: RequestMessage): void {\n\t\tconst req = requestMessage.req;\n\t\tconst result = this._handler.handleMessage(requestMessage.channel, requestMessage.method, requestMessage.args);\n\t\tresult.then((r) => {\n\t\t\tthis._send(new ReplyMessage(this._workerId, req, r, undefined));\n\t\t}, (e) => {\n\t\t\tif (e.detail instanceof Error) {\n\t\t\t\t// Loading errors have a detail property that points to the actual error\n\t\t\t\te.detail = transformErrorForSerialization(e.detail);\n\t\t\t}\n\t\t\tthis._send(new ReplyMessage(this._workerId, req, undefined, transformErrorForSerialization(e)));\n\t\t});\n\t}\n\n\tprivate _handleSubscribeEventMessage(msg: SubscribeEventMessage): void {\n\t\tconst req = msg.req;\n\t\tconst disposable = this._handler.handleEvent(msg.channel, msg.eventName, msg.arg)((event) => {\n\t\t\tthis._send(new EventMessage(this._workerId, req, event));\n\t\t});\n\t\tthis._pendingEvents.set(req, disposable);\n\t}\n\n\tprivate _handleEventMessage(msg: EventMessage): void {\n\t\tif (!this._pendingEmitters.has(msg.req)) {\n\t\t\tconsole.warn('Got event for unknown req');\n\t\t\treturn;\n\t\t}\n\t\tthis._pendingEmitters.get(msg.req)!.fire(msg.event);\n\t}\n\n\tprivate _handleUnsubscribeEventMessage(msg: UnsubscribeEventMessage): void {\n\t\tif (!this._pendingEvents.has(msg.req)) {\n\t\t\tconsole.warn('Got unsubscribe for unknown req');\n\t\t\treturn;\n\t\t}\n\t\tthis._pendingEvents.get(msg.req)!.dispose();\n\t\tthis._pendingEvents.delete(msg.req);\n\t}\n\n\tprivate _send(msg: Message): void {\n\t\tconst transfer: ArrayBuffer[] = [];\n\t\tif (msg.type === MessageType.Request) {\n\t\t\tfor (let i = 0; i < msg.args.length; i++) {\n\t\t\t\tconst arg = msg.args[i];\n\t\t\t\tif (arg instanceof ArrayBuffer) {\n\t\t\t\t\ttransfer.push(arg);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (msg.type === MessageType.Reply) {\n\t\t\tif (msg.res instanceof ArrayBuffer) {\n\t\t\t\ttransfer.push(msg.res);\n\t\t\t}\n\t\t}\n\t\tthis._handler.sendMessage(msg, transfer);\n\t}\n}\n\ntype ProxiedMethodName = (`$${string}` | `on${string}`);\n\nexport type Proxied<T> = { [K in keyof T]: T[K] extends (...args: infer A) => infer R\n\t? (\n\t\tK extends ProxiedMethodName\n\t\t? (...args: A) => Promise<Awaited<R>>\n\t\t: never\n\t)\n\t: never\n};\n\nexport interface IWebWorkerClient<TProxy> {\n\tproxy: Proxied<TProxy>;\n\tdispose(): void;\n\tsetChannel<T extends object>(channel: string, handler: T): void;\n\tgetChannel<T extends object>(channel: string): Proxied<T>;\n}\n\nexport interface IWebWorkerServer {\n\tsetChannel<T extends object>(channel: string, handler: T): void;\n\tgetChannel<T extends object>(channel: string): Proxied<T>;\n}\n\n/**\n * Main thread side\n */\nexport class WebWorkerClient<W extends object> extends Disposable implements IWebWorkerClient<W> {\n\n\tprivate readonly _worker: IWebWorker;\n\tprivate readonly _onModuleLoaded: Promise<void>;\n\tprivate readonly _protocol: WebWorkerProtocol;\n\tpublic readonly proxy: Proxied<W>;\n\tprivate readonly _localChannels: Map<string, object> = new Map();\n\tprivate readonly _remoteChannels: Map<string, object> = new Map();\n\n\tconstructor(\n\t\tworker: IWebWorker\n\t) {\n\t\tsuper();\n\n\t\tthis._worker = this._register(worker);\n\t\tthis._register(this._worker.onMessage((msg) => {\n\t\t\tthis._protocol.handleMessage(msg);\n\t\t}));\n\t\tthis._register(this._worker.onError((err) => {\n\t\t\tlogOnceWebWorkerWarning(err);\n\t\t\tonUnexpectedError(err);\n\t\t}));\n\n\t\tthis._protocol = new WebWorkerProtocol({\n\t\t\tsendMessage: (msg: Message, transfer: ArrayBuffer[]): void => {\n\t\t\t\tthis._worker.postMessage(msg, transfer);\n\t\t\t},\n\t\t\thandleMessage: (channel: string, method: string, args: unknown[]): Promise<unknown> => {\n\t\t\t\treturn this._handleMessage(channel, method, args);\n\t\t\t},\n\t\t\thandleEvent: (channel: string, eventName: string, arg: unknown): Event<unknown> => {\n\t\t\t\treturn this._handleEvent(channel, eventName, arg);\n\t\t\t}\n\t\t});\n\t\tthis._protocol.setWorkerId(this._worker.getId());\n\n\t\t// Send initialize message\n\t\tthis._onModuleLoaded = this._protocol.sendMessage(DEFAULT_CHANNEL, INITIALIZE, [\n\t\t\tthis._worker.getId(),\n\t\t]).then(() => { });\n\n\t\tthis.proxy = this._protocol.createProxyToRemoteChannel(DEFAULT_CHANNEL, async () => { await this._onModuleLoaded; });\n\t\tthis._onModuleLoaded.catch((e) => {\n\t\t\tthis._onError('Worker failed to load ', e);\n\t\t});\n\t}\n\n\tprivate _handleMessage(channelName: string, method: string, args: unknown[]): Promise<unknown> {\n\t\tconst channel: object | undefined = this._localChannels.get(channelName);\n\t\tif (!channel) {\n\t\t\treturn Promise.reject(new Error(`Missing channel ${channelName} on main thread`));\n\t\t}\n\n\t\tconst fn = (channel as Record<string, unknown>)[method];\n\t\tif (typeof fn !== 'function') {\n\t\t\treturn Promise.reject(new Error(`Missing method ${method} on main thread channel ${channelName}`));\n\t\t}\n\n\t\ttry {\n\t\t\treturn Promise.resolve(fn.apply(channel, args));\n\t\t} catch (e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n\n\tprivate _handleEvent(channelName: string, eventName: string, arg: unknown): Event<unknown> {\n\t\tconst channel: object | undefined = this._localChannels.get(channelName);\n\t\tif (!channel) {\n\t\t\tthrow new Error(`Missing channel ${channelName} on main thread`);\n\t\t}\n\t\tif (propertyIsDynamicEvent(eventName)) {\n\t\t\tconst fn = (channel as Record<string, unknown>)[eventName];\n\t\t\tif (typeof fn !== 'function') {\n\t\t\t\tthrow new Error(`Missing dynamic event ${eventName} on main thread channel ${channelName}.`);\n\t\t\t}\n\t\t\tconst event = fn.call(channel, arg);\n\t\t\tif (typeof event !== 'function') {\n\t\t\t\tthrow new Error(`Missing dynamic event ${eventName} on main thread channel ${channelName}.`);\n\t\t\t}\n\t\t\treturn event;\n\t\t}\n\t\tif (propertyIsEvent(eventName)) {\n\t\t\tconst event = (channel as Record<string, unknown>)[eventName];\n\t\t\tif (typeof event !== 'function') {\n\t\t\t\tthrow new Error(`Missing event ${eventName} on main thread channel ${channelName}.`);\n\t\t\t}\n\t\t\treturn event as Event<unknown>;\n\t\t}\n\t\tthrow new Error(`Malformed event name ${eventName}`);\n\t}\n\n\tpublic setChannel<T extends object>(channel: string, handler: T): void {\n\t\tthis._localChannels.set(channel, handler);\n\t}\n\n\tpublic getChannel<T extends object>(channel: string): Proxied<T> {\n\t\tif (!this._remoteChannels.has(channel)) {\n\t\t\tconst inst = this._protocol.createProxyToRemoteChannel(channel, async () => { await this._onModuleLoaded; });\n\t\t\tthis._remoteChannels.set(channel, inst);\n\t\t}\n\t\treturn this._remoteChannels.get(channel) as Proxied<T>;\n\t}\n\n\tprivate _onError(message: string, error?: unknown): void {\n\t\tconsole.error(message);\n\t\tconsole.info(error);\n\t}\n}\n\nfunction propertyIsEvent(name: string): boolean {\n\t// Assume a property is an event if it has a form of \"onSomething\"\n\treturn name[0] === 'o' && name[1] === 'n' && strings.isUpperAsciiLetter(name.charCodeAt(2));\n}\n\nfunction propertyIsDynamicEvent(name: string): boolean {\n\t// Assume a property is a dynamic event (a method that returns an event) if it has a form of \"onDynamicSomething\"\n\treturn /^onDynamic/.test(name) && strings.isUpperAsciiLetter(name.charCodeAt(9));\n}\n\nexport interface IWebWorkerServerRequestHandler {\n\t_requestHandlerBrand: void;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t[prop: string]: any;\n}\n\nexport interface IWebWorkerServerRequestHandlerFactory<T extends IWebWorkerServerRequestHandler> {\n\t(workerServer: IWebWorkerServer): T;\n}\n\n/**\n * Worker side\n */\nexport class WebWorkerServer<T extends IWebWorkerServerRequestHandler> implements IWebWorkerServer {\n\n\tpublic readonly requestHandler: T;\n\tprivate _protocol: WebWorkerProtocol;\n\tprivate readonly _localChannels: Map<string, object> = new Map();\n\tprivate readonly _remoteChannels: Map<string, object> = new Map();\n\n\tconstructor(postMessage: (msg: Message, transfer?: ArrayBuffer[]) => void, requestHandlerFactory: IWebWorkerServerRequestHandlerFactory<T>) {\n\t\tthis._protocol = new WebWorkerProtocol({\n\t\t\tsendMessage: (msg: Message, transfer: ArrayBuffer[]): void => {\n\t\t\t\tpostMessage(msg, transfer);\n\t\t\t},\n\t\t\thandleMessage: (channel: string, method: string, args: unknown[]): Promise<unknown> => this._handleMessage(channel, method, args),\n\t\t\thandleEvent: (channel: string, eventName: string, arg: unknown): Event<unknown> => this._handleEvent(channel, eventName, arg)\n\t\t});\n\t\tthis.requestHandler = requestHandlerFactory(this);\n\t}\n\n\tpublic onmessage(msg: unknown): void {\n\t\tthis._protocol.handleMessage(msg);\n\t}\n\n\tprivate _handleMessage(channel: string, method: string, args: unknown[]): Promise<unknown> {\n\t\tif (channel === DEFAULT_CHANNEL && method === INITIALIZE) {\n\t\t\treturn this.initialize(<number>args[0]);\n\t\t}\n\n\t\tconst requestHandler: object | null | undefined = (channel === DEFAULT_CHANNEL ? this.requestHandler : this._localChannels.get(channel));\n\t\tif (!requestHandler) {\n\t\t\treturn Promise.reject(new Error(`Missing channel ${channel} on worker thread`));\n\t\t}\n\n\t\tconst fn = (requestHandler as Record<string, unknown>)[method];\n\t\tif (typeof fn !== 'function') {\n\t\t\treturn Promise.reject(new Error(`Missing method ${method} on worker thread channel ${channel}`));\n\t\t}\n\n\t\ttry {\n\t\t\treturn Promise.resolve(fn.apply(requestHandler, args));\n\t\t} catch (e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n\n\tprivate _handleEvent(channel: string, eventName: string, arg: unknown): Event<unknown> {\n\t\tconst requestHandler: object | null | undefined = (channel === DEFAULT_CHANNEL ? this.requestHandler : this._localChannels.get(channel));\n\t\tif (!requestHandler) {\n\t\t\tthrow new Error(`Missing channel ${channel} on worker thread`);\n\t\t}\n\t\tif (propertyIsDynamicEvent(eventName)) {\n\t\t\tconst fn = (requestHandler as Record<string, unknown>)[eventName];\n\t\t\tif (typeof fn !== 'function') {\n\t\t\t\tthrow new Error(`Missing dynamic event ${eventName} on request handler.`);\n\t\t\t}\n\n\t\t\tconst event = fn.call(requestHandler, arg);\n\t\t\tif (typeof event !== 'function') {\n\t\t\t\tthrow new Error(`Missing dynamic event ${eventName} on request handler.`);\n\t\t\t}\n\t\t\treturn event;\n\t\t}\n\t\tif (propertyIsEvent(eventName)) {\n\t\t\tconst event = (requestHandler as Record<string, unknown>)[eventName];\n\t\t\tif (typeof event !== 'function') {\n\t\t\t\tthrow new Error(`Missing event ${eventName} on request handler.`);\n\t\t\t}\n\t\t\treturn event as Event<unknown>;\n\t\t}\n\t\tthrow new Error(`Malformed event name ${eventName}`);\n\t}\n\n\tpublic setChannel<T extends object>(channel: string, handler: T): void {\n\t\tthis._localChannels.set(channel, handler);\n\t}\n\n\tpublic getChannel<T extends object>(channel: string): Proxied<T> {\n\t\tif (!this._remoteChannels.has(channel)) {\n\t\t\tconst inst = this._protocol.createProxyToRemoteChannel(channel);\n\t\t\tthis._remoteChannels.set(channel, inst);\n\t\t}\n\t\treturn this._remoteChannels.get(channel) as Proxied<T>;\n\t}\n\n\tprivate async initialize(workerId: number): Promise<void> {\n\t\tthis._protocol.setWorkerId(workerId);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}