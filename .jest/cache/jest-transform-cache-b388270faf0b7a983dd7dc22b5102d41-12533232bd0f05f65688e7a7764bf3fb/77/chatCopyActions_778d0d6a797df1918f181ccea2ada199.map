{"version":3,"names":["cov_1utr0sko1s","actualCoverage","dom","localize2","Action2","MenuId","registerAction2","IClipboardService","CHAT_CATEGORY","stringifyItem","IChatWidgetService","ChatContextKeys","isChatTreeItem","isRequestVM","isResponseVM","katexContainerClassName","katexContainerLatexAttributeName","registerChatCopyActions","f","s","CopyAllAction","constructor","id","title","f1","category","menu","ChatContext","when","responseIsFiltered","negate","group","run","accessor","args","clipboardService","get","chatWidgetService","widget","lastFocusedWidget","b","viewModel","sessionAsText","getItems","filter","item","errorDetails","map","join","writeText","CopyItemAction","getFocus","nativeSelection","getActiveWindow","getSelection","selectedText","toString","length","isAncestor","getActiveElement","domNode","text","CopyKatexMathSourceAction","isKatexMathElement","selectedElement","activeElement","rangeCount","range","getRangeAt","commonAncestorContainer","nodeType","Node","TEXT_NODE","parentElement","querySelector","katexElement","isHTMLElement","closest","latexSource","getAttribute"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/browser/actions/chatCopyActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { CHAT_CATEGORY, stringifyItem } from './chatActions.js';\nimport { ChatTreeItem, IChatWidgetService } from '../chat.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { IChatRequestViewModel, IChatResponseViewModel, isChatTreeItem, isRequestVM, isResponseVM } from '../../common/chatViewModel.js';\nimport { katexContainerClassName, katexContainerLatexAttributeName } from '../../../markdown/common/markedKatexExtension.js';\n\nexport function registerChatCopyActions() {\n\tregisterAction2(class CopyAllAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.copyAll',\n\t\t\t\ttitle: localize2('interactive.copyAll.label', \"Copy All\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\twhen: ChatContextKeys.responseIsFiltered.negate(),\n\t\t\t\t\tgroup: 'copy',\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\t\tconst widget = chatWidgetService.lastFocusedWidget;\n\t\t\tif (widget) {\n\t\t\t\tconst viewModel = widget.viewModel;\n\t\t\t\tconst sessionAsText = viewModel?.getItems()\n\t\t\t\t\t.filter((item): item is (IChatRequestViewModel | IChatResponseViewModel) => isRequestVM(item) || (isResponseVM(item) && !item.errorDetails?.responseIsFiltered))\n\t\t\t\t\t.map(item => stringifyItem(item))\n\t\t\t\t\t.join('\\n\\n');\n\t\t\t\tif (sessionAsText) {\n\t\t\t\t\tclipboardService.writeText(sessionAsText);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterAction2(class CopyItemAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.copyItem',\n\t\t\t\ttitle: localize2('interactive.copyItem.label', \"Copy\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\twhen: ChatContextKeys.responseIsFiltered.negate(),\n\t\t\t\t\tgroup: 'copy',\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\t\tconst clipboardService = accessor.get(IClipboardService);\n\n\t\t\tconst widget = chatWidgetService.lastFocusedWidget;\n\t\t\tlet item = args[0] as ChatTreeItem | undefined;\n\t\t\tif (!isChatTreeItem(item)) {\n\t\t\t\titem = widget?.getFocus();\n\t\t\t\tif (!item) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If there is a text selection, and focus is inside the widget, copy the selected text.\n\t\t\t// Otherwise, context menu with no selection -> copy the full item\n\t\t\tconst nativeSelection = dom.getActiveWindow().getSelection();\n\t\t\tconst selectedText = nativeSelection?.toString();\n\t\t\tif (widget && selectedText && selectedText.length > 0 && dom.isAncestor(dom.getActiveElement(), widget.domNode)) {\n\t\t\t\tawait clipboardService.writeText(selectedText);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst text = stringifyItem(item, false);\n\t\t\tawait clipboardService.writeText(text);\n\t\t}\n\t});\n\n\tregisterAction2(class CopyKatexMathSourceAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.copyKatexMathSource',\n\t\t\t\ttitle: localize2('chat.copyKatexMathSource.label', \"Copy Math Source\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatContext,\n\t\t\t\t\tgroup: 'copy',\n\t\t\t\t\twhen: ChatContextKeys.isKatexMathElement,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\t\tconst clipboardService = accessor.get(IClipboardService);\n\n\t\t\tconst widget = chatWidgetService.lastFocusedWidget;\n\t\t\tlet item = args[0] as ChatTreeItem | undefined;\n\t\t\tif (!isChatTreeItem(item)) {\n\t\t\t\titem = widget?.getFocus();\n\t\t\t\tif (!item) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Try to find a KaTeX element from the selection or active element\n\t\t\tlet selectedElement: Node | null = null;\n\n\t\t\t// If there is a selection, and focus is inside the widget, extract the inner KaTeX element.\n\t\t\tconst activeElement = dom.getActiveElement();\n\t\t\tconst nativeSelection = dom.getActiveWindow().getSelection();\n\t\t\tif (widget && nativeSelection && nativeSelection.rangeCount > 0 && dom.isAncestor(activeElement, widget.domNode)) {\n\t\t\t\tconst range = nativeSelection.getRangeAt(0);\n\t\t\t\tselectedElement = range.commonAncestorContainer;\n\n\t\t\t\t// If it's a text node, get its parent element\n\t\t\t\tif (selectedElement.nodeType === Node.TEXT_NODE) {\n\t\t\t\t\tselectedElement = selectedElement.parentElement;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Otherwise, fallback to querying from the active element\n\t\t\tif (!selectedElement) {\n\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\tselectedElement = activeElement?.querySelector(`.${katexContainerClassName}`) ?? null;\n\t\t\t}\n\n\t\t\t// Extract the LaTeX source from the annotation element\n\t\t\tconst katexElement = dom.isHTMLElement(selectedElement) ? selectedElement.closest(`.${katexContainerClassName}`) : null;\n\t\t\tconst latexSource = katexElement?.getAttribute(katexContainerLatexAttributeName) || '';\n\t\t\tif (latexSource) {\n\t\t\t\tawait clipboardService.writeText(latexSource);\n\t\t\t}\n\t\t}\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}