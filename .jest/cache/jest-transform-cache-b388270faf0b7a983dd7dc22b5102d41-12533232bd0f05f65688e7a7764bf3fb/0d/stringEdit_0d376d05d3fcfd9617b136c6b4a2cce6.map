{"version":3,"names":["cov_262nrojns9","actualCoverage","commonPrefixLength","commonSuffixLength","OffsetRange","StringText","BaseEdit","BaseReplacement","BaseStringEdit","TReplacement","f","s","Error","composeOrUndefined","edits","length","b","undefined","result","i","compose","trySwap","e1","e2","e1Inv","inverseOnSlice","start","endEx","repeat","e1_","tryRebase","e2_","apply","base","resultText","pos","edit","replacements","push","substring","replaceRange","newText","endExclusive","join","getOriginalSlice","offset","e","StringReplacement","replace","ofStartAndLength","StringEdit","inverse","original","rebaseSkipConflicting","_tryRebase","noOverlap","newEdits","baseIdx","ourIdx","baseEdit","ourEdit","delta","intersectsOrTouches","toJson","map","isNeutralOn","text","every","removeCommonSuffixPrefix","originalText","isEmpty","normalizeEOL","eol","normalizeOnSource","source","ofLength","removeCommonSuffixAndPrefix","empty","toEdit","_createNew","normalize","applyOnText","docContents","value","mapData","AnnotatedStringEdit","AnnotatedStringReplacement","BaseStringReplacement","constructor","range","getNewLength","toString","JSON","stringify","str","oldText","prefixLen","suffixLen","Math","min","removeCommonSuffix","removeCommonPrefix","slice","deltaStart","deltaEnd","txt","len","create","single","replacement","insert","emptyAt","delete","fromJson","data","composeSequentialReplacements","curEditReplacements","r","last","at","isBefore","reverse","equals","other","tryJoinTouching","joinRightTouching","rangeInReplacement","applyEditsToRanges","sortedRanges","shift","intersecting","overlap","intersect","rangeAheadOfReplaceRange","unshift","VoidEditData","toStringEdit","filter","newReplacements","joined"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/core/edits/stringEdit.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { commonPrefixLength, commonSuffixLength } from '../../../../base/common/strings.js';\nimport { OffsetRange } from '../ranges/offsetRange.js';\nimport { StringText } from '../text/abstractText.js';\nimport { BaseEdit, BaseReplacement } from './edit.js';\n\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport abstract class BaseStringEdit<T extends BaseStringReplacement<T> = BaseStringReplacement<any>, TEdit extends BaseStringEdit<T, TEdit> = BaseStringEdit<any, any>> extends BaseEdit<T, TEdit> {\n\tget TReplacement(): T {\n\t\tthrow new Error('TReplacement is not defined for BaseStringEdit');\n\t}\n\n\tpublic static composeOrUndefined<T extends BaseStringEdit>(edits: readonly T[]): T | undefined {\n\t\tif (edits.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet result = edits[0];\n\t\tfor (let i = 1; i < edits.length; i++) {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\t\tresult = result.compose(edits[i]) as any;\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * r := trySwap(e1, e2);\n\t * e1.compose(e2) === r.e1.compose(r.e2)\n\t*/\n\tpublic static trySwap(e1: BaseStringEdit, e2: BaseStringEdit): { e1: StringEdit; e2: StringEdit } | undefined {\n\t\t// TODO make this more efficient\n\t\tconst e1Inv = e1.inverseOnSlice((start, endEx) => ' '.repeat(endEx - start));\n\n\t\tconst e1_ = e2.tryRebase(e1Inv);\n\t\tif (!e1_) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst e2_ = e1.tryRebase(e1_);\n\t\tif (!e2_) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn { e1: e1_, e2: e2_ };\n\t}\n\n\tpublic apply(base: string): string {\n\t\tconst resultText: string[] = [];\n\t\tlet pos = 0;\n\t\tfor (const edit of this.replacements) {\n\t\t\tresultText.push(base.substring(pos, edit.replaceRange.start));\n\t\t\tresultText.push(edit.newText);\n\t\t\tpos = edit.replaceRange.endExclusive;\n\t\t}\n\t\tresultText.push(base.substring(pos));\n\t\treturn resultText.join('');\n\t}\n\n\n\t/**\n\t * Creates an edit that reverts this edit.\n\t */\n\tpublic inverseOnSlice(getOriginalSlice: (start: number, endEx: number) => string): StringEdit {\n\t\tconst edits: StringReplacement[] = [];\n\t\tlet offset = 0;\n\t\tfor (const e of this.replacements) {\n\t\t\tedits.push(StringReplacement.replace(\n\t\t\t\tOffsetRange.ofStartAndLength(e.replaceRange.start + offset, e.newText.length),\n\t\t\t\tgetOriginalSlice(e.replaceRange.start, e.replaceRange.endExclusive)\n\t\t\t));\n\t\t\toffset += e.newText.length - e.replaceRange.length;\n\t\t}\n\t\treturn new StringEdit(edits);\n\t}\n\n\t/**\n\t * Creates an edit that reverts this edit.\n\t */\n\tpublic inverse(original: string): StringEdit {\n\t\treturn this.inverseOnSlice((start, endEx) => original.substring(start, endEx));\n\t}\n\n\tpublic rebaseSkipConflicting(base: StringEdit): StringEdit {\n\t\treturn this._tryRebase(base, false)!;\n\t}\n\n\tpublic tryRebase(base: StringEdit): StringEdit | undefined {\n\t\treturn this._tryRebase(base, true);\n\t}\n\n\tprivate _tryRebase(base: StringEdit, noOverlap: boolean): StringEdit | undefined {\n\t\tconst newEdits: StringReplacement[] = [];\n\n\t\tlet baseIdx = 0;\n\t\tlet ourIdx = 0;\n\t\tlet offset = 0;\n\n\t\twhile (ourIdx < this.replacements.length || baseIdx < base.replacements.length) {\n\t\t\t// take the edit that starts first\n\t\t\tconst baseEdit = base.replacements[baseIdx];\n\t\t\tconst ourEdit = this.replacements[ourIdx];\n\n\t\t\tif (!ourEdit) {\n\t\t\t\t// We processed all our edits\n\t\t\t\tbreak;\n\t\t\t} else if (!baseEdit) {\n\t\t\t\t// no more edits from base\n\t\t\t\tnewEdits.push(new StringReplacement(\n\t\t\t\t\tourEdit.replaceRange.delta(offset),\n\t\t\t\t\tourEdit.newText\n\t\t\t\t));\n\t\t\t\tourIdx++;\n\t\t\t} else if (ourEdit.replaceRange.intersectsOrTouches(baseEdit.replaceRange)) {\n\t\t\t\tourIdx++; // Don't take our edit, as it is conflicting -> skip\n\t\t\t\tif (noOverlap) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t} else if (ourEdit.replaceRange.start < baseEdit.replaceRange.start) {\n\t\t\t\t// Our edit starts first\n\t\t\t\tnewEdits.push(new StringReplacement(\n\t\t\t\t\tourEdit.replaceRange.delta(offset),\n\t\t\t\t\tourEdit.newText\n\t\t\t\t));\n\t\t\t\tourIdx++;\n\t\t\t} else {\n\t\t\t\tbaseIdx++;\n\t\t\t\toffset += baseEdit.newText.length - baseEdit.replaceRange.length;\n\t\t\t}\n\t\t}\n\n\t\treturn new StringEdit(newEdits);\n\t}\n\n\tpublic toJson(): ISerializedStringEdit {\n\t\treturn this.replacements.map(e => e.toJson());\n\t}\n\n\tpublic isNeutralOn(text: string): boolean {\n\t\treturn this.replacements.every(e => e.isNeutralOn(text));\n\t}\n\n\tpublic removeCommonSuffixPrefix(originalText: string): StringEdit {\n\t\tconst edits: StringReplacement[] = [];\n\t\tfor (const e of this.replacements) {\n\t\t\tconst edit = e.removeCommonSuffixPrefix(originalText);\n\t\t\tif (!edit.isEmpty) {\n\t\t\t\tedits.push(edit);\n\t\t\t}\n\t\t}\n\t\treturn new StringEdit(edits);\n\t}\n\n\tpublic normalizeEOL(eol: '\\r\\n' | '\\n'): StringEdit {\n\t\treturn new StringEdit(this.replacements.map(edit => edit.normalizeEOL(eol)));\n\t}\n\n\t/**\n\t * If `e1.apply(source) === e2.apply(source)`, then `e1.normalizeOnSource(source).equals(e2.normalizeOnSource(source))`.\n\t*/\n\tpublic normalizeOnSource(source: string): StringEdit {\n\t\tconst result = this.apply(source);\n\n\t\tconst edit = StringReplacement.replace(OffsetRange.ofLength(source.length), result);\n\t\tconst e = edit.removeCommonSuffixAndPrefix(source);\n\t\tif (e.isEmpty) {\n\t\t\treturn StringEdit.empty;\n\t\t}\n\t\treturn e.toEdit();\n\t}\n\n\tpublic removeCommonSuffixAndPrefix(source: string): TEdit {\n\t\treturn this._createNew(this.replacements.map(e => e.removeCommonSuffixAndPrefix(source))).normalize();\n\t}\n\n\tpublic applyOnText(docContents: StringText): StringText {\n\t\treturn new StringText(this.apply(docContents.value));\n\t}\n\n\tpublic mapData<TData extends IEditData<TData>>(f: (replacement: T) => TData): AnnotatedStringEdit<TData> {\n\t\treturn new AnnotatedStringEdit(\n\t\t\tthis.replacements.map(e => new AnnotatedStringReplacement(\n\t\t\t\te.replaceRange,\n\t\t\t\te.newText,\n\t\t\t\tf(e)\n\t\t\t))\n\t\t);\n\t}\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport abstract class BaseStringReplacement<T extends BaseStringReplacement<T> = BaseStringReplacement<any>> extends BaseReplacement<T> {\n\tconstructor(\n\t\trange: OffsetRange,\n\t\tpublic readonly newText: string\n\t) {\n\t\tsuper(range);\n\t}\n\n\tgetNewLength(): number { return this.newText.length; }\n\n\toverride toString(): string {\n\t\treturn `${this.replaceRange} -> ${JSON.stringify(this.newText)}`;\n\t}\n\n\treplace(str: string): string {\n\t\treturn str.substring(0, this.replaceRange.start) + this.newText + str.substring(this.replaceRange.endExclusive);\n\t}\n\n\t/**\n\t * Checks if the edit would produce no changes when applied to the given text.\n\t */\n\tisNeutralOn(text: string): boolean {\n\t\treturn this.newText === text.substring(this.replaceRange.start, this.replaceRange.endExclusive);\n\t}\n\n\tremoveCommonSuffixPrefix(originalText: string): StringReplacement {\n\t\tconst oldText = originalText.substring(this.replaceRange.start, this.replaceRange.endExclusive);\n\n\t\tconst prefixLen = commonPrefixLength(oldText, this.newText);\n\t\tconst suffixLen = Math.min(\n\t\t\toldText.length - prefixLen,\n\t\t\tthis.newText.length - prefixLen,\n\t\t\tcommonSuffixLength(oldText, this.newText)\n\t\t);\n\n\t\tconst replaceRange = new OffsetRange(\n\t\t\tthis.replaceRange.start + prefixLen,\n\t\t\tthis.replaceRange.endExclusive - suffixLen,\n\t\t);\n\t\tconst newText = this.newText.substring(prefixLen, this.newText.length - suffixLen);\n\n\t\treturn new StringReplacement(replaceRange, newText);\n\t}\n\n\tnormalizeEOL(eol: '\\r\\n' | '\\n'): StringReplacement {\n\t\tconst newText = this.newText.replace(/\\r\\n|\\n/g, eol);\n\t\treturn new StringReplacement(this.replaceRange, newText);\n\t}\n\n\tpublic removeCommonSuffixAndPrefix(source: string): T {\n\t\treturn this.removeCommonSuffix(source).removeCommonPrefix(source);\n\t}\n\n\tpublic removeCommonPrefix(source: string): T {\n\t\tconst oldText = this.replaceRange.substring(source);\n\n\t\tconst prefixLen = commonPrefixLength(oldText, this.newText);\n\t\tif (prefixLen === 0) {\n\t\t\treturn this as unknown as T;\n\t\t}\n\n\t\treturn this.slice(this.replaceRange.deltaStart(prefixLen), new OffsetRange(prefixLen, this.newText.length));\n\t}\n\n\tpublic removeCommonSuffix(source: string): T {\n\t\tconst oldText = this.replaceRange.substring(source);\n\n\t\tconst suffixLen = commonSuffixLength(oldText, this.newText);\n\t\tif (suffixLen === 0) {\n\t\t\treturn this as unknown as T;\n\t\t}\n\t\treturn this.slice(this.replaceRange.deltaEnd(-suffixLen), new OffsetRange(0, this.newText.length - suffixLen));\n\t}\n\n\tpublic toEdit(): StringEdit {\n\t\treturn new StringEdit([this]);\n\t}\n\n\tpublic toJson(): ISerializedStringReplacement {\n\t\treturn ({\n\t\t\ttxt: this.newText,\n\t\t\tpos: this.replaceRange.start,\n\t\t\tlen: this.replaceRange.length,\n\t\t});\n\t}\n}\n\n\n/**\n * Represents a set of replacements to a string.\n * All these replacements are applied at once.\n*/\nexport class StringEdit extends BaseStringEdit<StringReplacement, StringEdit> {\n\tpublic static readonly empty = new StringEdit([]);\n\n\tpublic static create(replacements: readonly StringReplacement[]): StringEdit {\n\t\treturn new StringEdit(replacements);\n\t}\n\n\tpublic static single(replacement: StringReplacement): StringEdit {\n\t\treturn new StringEdit([replacement]);\n\t}\n\n\tpublic static replace(range: OffsetRange, replacement: string): StringEdit {\n\t\treturn new StringEdit([new StringReplacement(range, replacement)]);\n\t}\n\n\tpublic static insert(offset: number, replacement: string): StringEdit {\n\t\treturn new StringEdit([new StringReplacement(OffsetRange.emptyAt(offset), replacement)]);\n\t}\n\n\tpublic static delete(range: OffsetRange): StringEdit {\n\t\treturn new StringEdit([new StringReplacement(range, '')]);\n\t}\n\n\tpublic static fromJson(data: ISerializedStringEdit): StringEdit {\n\t\treturn new StringEdit(data.map(StringReplacement.fromJson));\n\t}\n\n\tpublic static compose(edits: readonly StringEdit[]): StringEdit {\n\t\tif (edits.length === 0) {\n\t\t\treturn StringEdit.empty;\n\t\t}\n\t\tlet result = edits[0];\n\t\tfor (let i = 1; i < edits.length; i++) {\n\t\t\tresult = result.compose(edits[i]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * The replacements are applied in order!\n\t * Equals `StringEdit.compose(replacements.map(r => r.toEdit()))`, but is much more performant.\n\t*/\n\tpublic static composeSequentialReplacements(replacements: readonly StringReplacement[]): StringEdit {\n\t\tlet edit = StringEdit.empty;\n\t\tlet curEditReplacements: StringReplacement[] = []; // These are reverse sorted\n\n\t\tfor (const r of replacements) {\n\t\t\tconst last = curEditReplacements.at(-1);\n\t\t\tif (!last || r.replaceRange.isBefore(last.replaceRange)) {\n\t\t\t\t// Detect subsequences of reverse sorted replacements\n\t\t\t\tcurEditReplacements.push(r);\n\t\t\t} else {\n\t\t\t\t// Once the subsequence is broken, compose the current replacements and look for a new subsequence.\n\t\t\t\tedit = edit.compose(StringEdit.create(curEditReplacements.reverse()));\n\t\t\t\tcurEditReplacements = [r];\n\t\t\t}\n\t\t}\n\n\t\tedit = edit.compose(StringEdit.create(curEditReplacements.reverse()));\n\t\treturn edit;\n\t}\n\n\tconstructor(replacements: readonly StringReplacement[]) {\n\t\tsuper(replacements);\n\t}\n\n\tprotected override _createNew(replacements: readonly StringReplacement[]): StringEdit {\n\t\treturn new StringEdit(replacements);\n\t}\n}\n\n/**\n * Warning: Be careful when changing this type, as it is used for serialization!\n*/\nexport type ISerializedStringEdit = ISerializedStringReplacement[];\n\n/**\n * Warning: Be careful when changing this type, as it is used for serialization!\n*/\nexport interface ISerializedStringReplacement {\n\ttxt: string;\n\tpos: number;\n\tlen: number;\n}\n\nexport class StringReplacement extends BaseStringReplacement<StringReplacement> {\n\tpublic static insert(offset: number, text: string): StringReplacement {\n\t\treturn new StringReplacement(OffsetRange.emptyAt(offset), text);\n\t}\n\n\tpublic static replace(range: OffsetRange, text: string): StringReplacement {\n\t\treturn new StringReplacement(range, text);\n\t}\n\n\tpublic static delete(range: OffsetRange): StringReplacement {\n\t\treturn new StringReplacement(range, '');\n\t}\n\n\tpublic static fromJson(data: ISerializedStringReplacement): StringReplacement {\n\t\treturn new StringReplacement(OffsetRange.ofStartAndLength(data.pos, data.len), data.txt);\n\t}\n\n\toverride equals(other: StringReplacement): boolean {\n\t\treturn this.replaceRange.equals(other.replaceRange) && this.newText === other.newText;\n\t}\n\n\toverride tryJoinTouching(other: StringReplacement): StringReplacement | undefined {\n\t\treturn new StringReplacement(this.replaceRange.joinRightTouching(other.replaceRange), this.newText + other.newText);\n\t}\n\n\toverride slice(range: OffsetRange, rangeInReplacement?: OffsetRange): StringReplacement {\n\t\treturn new StringReplacement(range, rangeInReplacement ? rangeInReplacement.substring(this.newText) : this.newText);\n\t}\n}\n\nexport function applyEditsToRanges(sortedRanges: OffsetRange[], edit: StringEdit): OffsetRange[] {\n\tsortedRanges = sortedRanges.slice();\n\n\t// treat edits as deletion of the replace range and then as insertion that extends the first range\n\tconst result: OffsetRange[] = [];\n\n\tlet offset = 0;\n\n\tfor (const e of edit.replacements) {\n\t\twhile (true) {\n\t\t\t// ranges before the current edit\n\t\t\tconst r = sortedRanges[0];\n\t\t\tif (!r || r.endExclusive >= e.replaceRange.start) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tsortedRanges.shift();\n\t\t\tresult.push(r.delta(offset));\n\t\t}\n\n\t\tconst intersecting: OffsetRange[] = [];\n\t\twhile (true) {\n\t\t\tconst r = sortedRanges[0];\n\t\t\tif (!r || !r.intersectsOrTouches(e.replaceRange)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tsortedRanges.shift();\n\t\t\tintersecting.push(r);\n\t\t}\n\n\t\tfor (let i = intersecting.length - 1; i >= 0; i--) {\n\t\t\tlet r = intersecting[i];\n\n\t\t\tconst overlap = r.intersect(e.replaceRange)!.length;\n\t\t\tr = r.deltaEnd(-overlap + (i === 0 ? e.newText.length : 0));\n\n\t\t\tconst rangeAheadOfReplaceRange = r.start - e.replaceRange.start;\n\t\t\tif (rangeAheadOfReplaceRange > 0) {\n\t\t\t\tr = r.delta(-rangeAheadOfReplaceRange);\n\t\t\t}\n\n\t\t\tif (i !== 0) {\n\t\t\t\tr = r.delta(e.newText.length);\n\t\t\t}\n\n\t\t\t// We already took our offset into account.\n\t\t\t// Because we add r back to the queue (which then adds offset again),\n\t\t\t// we have to remove it here.\n\t\t\tr = r.delta(-(e.newText.length - e.replaceRange.length));\n\n\t\t\tsortedRanges.unshift(r);\n\t\t}\n\n\t\toffset += e.newText.length - e.replaceRange.length;\n\t}\n\n\twhile (true) {\n\t\tconst r = sortedRanges[0];\n\t\tif (!r) {\n\t\t\tbreak;\n\t\t}\n\t\tsortedRanges.shift();\n\t\tresult.push(r.delta(offset));\n\t}\n\n\treturn result;\n}\n\n/**\n * Represents data associated to a single edit, which survives certain edit operations.\n*/\nexport interface IEditData<T> {\n\tjoin(other: T): T | undefined;\n}\n\nexport class VoidEditData implements IEditData<VoidEditData> {\n\tjoin(other: VoidEditData): VoidEditData | undefined {\n\t\treturn this;\n\t}\n}\n\n/**\n * Represents a set of replacements to a string.\n * All these replacements are applied at once.\n*/\nexport class AnnotatedStringEdit<T extends IEditData<T>> extends BaseStringEdit<AnnotatedStringReplacement<T>, AnnotatedStringEdit<T>> {\n\tpublic static readonly empty = new AnnotatedStringEdit<never>([]);\n\n\tpublic static create<T extends IEditData<T>>(replacements: readonly AnnotatedStringReplacement<T>[]): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit(replacements);\n\t}\n\n\tpublic static single<T extends IEditData<T>>(replacement: AnnotatedStringReplacement<T>): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit([replacement]);\n\t}\n\n\tpublic static replace<T extends IEditData<T>>(range: OffsetRange, replacement: string, data: T): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit([new AnnotatedStringReplacement(range, replacement, data)]);\n\t}\n\n\tpublic static insert<T extends IEditData<T>>(offset: number, replacement: string, data: T): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit([new AnnotatedStringReplacement(OffsetRange.emptyAt(offset), replacement, data)]);\n\t}\n\n\tpublic static delete<T extends IEditData<T>>(range: OffsetRange, data: T): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit([new AnnotatedStringReplacement(range, '', data)]);\n\t}\n\n\tpublic static compose<T extends IEditData<T>>(edits: readonly AnnotatedStringEdit<T>[]): AnnotatedStringEdit<T> {\n\t\tif (edits.length === 0) {\n\t\t\treturn AnnotatedStringEdit.empty;\n\t\t}\n\t\tlet result = edits[0];\n\t\tfor (let i = 1; i < edits.length; i++) {\n\t\t\tresult = result.compose(edits[i]);\n\t\t}\n\t\treturn result;\n\t}\n\n\tconstructor(replacements: readonly AnnotatedStringReplacement<T>[]) {\n\t\tsuper(replacements);\n\t}\n\n\tprotected override _createNew(replacements: readonly AnnotatedStringReplacement<T>[]): AnnotatedStringEdit<T> {\n\t\treturn new AnnotatedStringEdit<T>(replacements);\n\t}\n\n\tpublic toStringEdit(filter?: (replacement: AnnotatedStringReplacement<T>) => boolean): StringEdit {\n\t\tconst newReplacements: StringReplacement[] = [];\n\t\tfor (const r of this.replacements) {\n\t\t\tif (!filter || filter(r)) {\n\t\t\t\tnewReplacements.push(new StringReplacement(r.replaceRange, r.newText));\n\t\t\t}\n\t\t}\n\t\treturn new StringEdit(newReplacements);\n\t}\n}\n\nexport class AnnotatedStringReplacement<T extends IEditData<T>> extends BaseStringReplacement<AnnotatedStringReplacement<T>> {\n\tpublic static insert<T extends IEditData<T>>(offset: number, text: string, data: T): AnnotatedStringReplacement<T> {\n\t\treturn new AnnotatedStringReplacement<T>(OffsetRange.emptyAt(offset), text, data);\n\t}\n\n\tpublic static replace<T extends IEditData<T>>(range: OffsetRange, text: string, data: T): AnnotatedStringReplacement<T> {\n\t\treturn new AnnotatedStringReplacement<T>(range, text, data);\n\t}\n\n\tpublic static delete<T extends IEditData<T>>(range: OffsetRange, data: T): AnnotatedStringReplacement<T> {\n\t\treturn new AnnotatedStringReplacement<T>(range, '', data);\n\t}\n\n\tconstructor(\n\t\trange: OffsetRange,\n\t\tnewText: string,\n\t\tpublic readonly data: T\n\t) {\n\t\tsuper(range, newText);\n\t}\n\n\toverride equals(other: AnnotatedStringReplacement<T>): boolean {\n\t\treturn this.replaceRange.equals(other.replaceRange) && this.newText === other.newText && this.data === other.data;\n\t}\n\n\ttryJoinTouching(other: AnnotatedStringReplacement<T>): AnnotatedStringReplacement<T> | undefined {\n\t\tconst joined = this.data.join(other.data);\n\t\tif (joined === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new AnnotatedStringReplacement(this.replaceRange.joinRightTouching(other.replaceRange), this.newText + other.newText, joined);\n\t}\n\n\tslice(range: OffsetRange, rangeInReplacement?: OffsetRange): AnnotatedStringReplacement<T> {\n\t\treturn new AnnotatedStringReplacement(range, rangeInReplacement ? rangeInReplacement.substring(this.newText) : this.newText, this.data);\n\t}\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}