{"version":3,"names":["cov_2jx7otzh81","actualCoverage","assert","splitLines","Position","Range","TextLength","PositionOffsetTransformer","AbstractText","endPositionExclusive","f","s","length","addToPosition","lineRange","toLineRange","getValue","getValueOfRange","toRange","getValueOfOffsetRange","range","getTransformer","getRange","getLineLength","lineNumber","Number","MAX_SAFE_INTEGER","_transformer","undefined","b","getLineAt","getLines","value","getLinesOfRange","mapToLineArray","equals","other","LineBasedText","_getLineContent","_lineCount","constructor","startLineNumber","endLineNumber","substring","startColumn","endColumn","result","i","lastLine","ArrayText","lines","StringText","_t","getOffsetRange","textLength"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/core/text/abstractText.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { assert } from '../../../../base/common/assert.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport { Position } from '../position.js';\nimport { Range } from '../range.js';\nimport { LineRange } from '../ranges/lineRange.js';\nimport { OffsetRange } from '../ranges/offsetRange.js';\nimport { TextLength } from '../text/textLength.js';\nimport { PositionOffsetTransformer } from './positionToOffsetImpl.js';\n\nexport abstract class AbstractText {\n\tabstract getValueOfRange(range: Range): string;\n\tabstract readonly length: TextLength;\n\n\tget endPositionExclusive(): Position {\n\t\treturn this.length.addToPosition(new Position(1, 1));\n\t}\n\n\tget lineRange(): LineRange {\n\t\treturn this.length.toLineRange();\n\t}\n\n\tgetValue(): string {\n\t\treturn this.getValueOfRange(this.length.toRange());\n\t}\n\n\tgetValueOfOffsetRange(range: OffsetRange): string {\n\t\treturn this.getValueOfRange(this.getTransformer().getRange(range));\n\t}\n\n\tgetLineLength(lineNumber: number): number {\n\t\treturn this.getValueOfRange(new Range(lineNumber, 1, lineNumber, Number.MAX_SAFE_INTEGER)).length;\n\t}\n\n\tprivate _transformer: PositionOffsetTransformer | undefined = undefined;\n\n\tgetTransformer(): PositionOffsetTransformer {\n\t\tif (!this._transformer) {\n\t\t\tthis._transformer = new PositionOffsetTransformer(this.getValue());\n\t\t}\n\t\treturn this._transformer;\n\t}\n\n\tgetLineAt(lineNumber: number): string {\n\t\treturn this.getValueOfRange(new Range(lineNumber, 1, lineNumber, Number.MAX_SAFE_INTEGER));\n\t}\n\n\tgetLines(): string[] {\n\t\tconst value = this.getValue();\n\t\treturn splitLines(value);\n\t}\n\n\tgetLinesOfRange(range: LineRange): string[] {\n\t\treturn range.mapToLineArray(lineNumber => this.getLineAt(lineNumber));\n\t}\n\n\tequals(other: AbstractText): boolean {\n\t\tif (this === other) {\n\t\t\treturn true;\n\t\t}\n\t\treturn this.getValue() === other.getValue();\n\t}\n}\n\nexport class LineBasedText extends AbstractText {\n\tconstructor(\n\t\tprivate readonly _getLineContent: (lineNumber: number) => string,\n\t\tprivate readonly _lineCount: number\n\t) {\n\t\tassert(_lineCount >= 1);\n\n\t\tsuper();\n\t}\n\n\toverride getValueOfRange(range: Range): string {\n\t\tif (range.startLineNumber === range.endLineNumber) {\n\t\t\treturn this._getLineContent(range.startLineNumber).substring(range.startColumn - 1, range.endColumn - 1);\n\t\t}\n\t\tlet result = this._getLineContent(range.startLineNumber).substring(range.startColumn - 1);\n\t\tfor (let i = range.startLineNumber + 1; i < range.endLineNumber; i++) {\n\t\t\tresult += '\\n' + this._getLineContent(i);\n\t\t}\n\t\tresult += '\\n' + this._getLineContent(range.endLineNumber).substring(0, range.endColumn - 1);\n\t\treturn result;\n\t}\n\n\toverride getLineLength(lineNumber: number): number {\n\t\treturn this._getLineContent(lineNumber).length;\n\t}\n\n\tget length(): TextLength {\n\t\tconst lastLine = this._getLineContent(this._lineCount);\n\t\treturn new TextLength(this._lineCount - 1, lastLine.length);\n\t}\n}\n\nexport class ArrayText extends LineBasedText {\n\tconstructor(lines: string[]) {\n\t\tsuper(\n\t\t\tlineNumber => lines[lineNumber - 1],\n\t\t\tlines.length\n\t\t);\n\t}\n}\n\nexport class StringText extends AbstractText {\n\tprivate readonly _t;\n\n\tconstructor(public readonly value: string) {\n\t\tsuper();\n\t\tthis._t = new PositionOffsetTransformer(this.value);\n\t}\n\n\tgetValueOfRange(range: Range): string {\n\t\treturn this._t.getOffsetRange(range).substring(this.value);\n\t}\n\n\tget length(): TextLength {\n\t\treturn this._t.textLength;\n\t}\n\n\t// Override the getTransformer method to return the cached transformer\n\toverride getTransformer() {\n\t\treturn this._t;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}