{"version":3,"names":["cov_iizkarpis","actualCoverage","browser","BrowserFeatures","hasModifierKeys","StandardKeyboardEvent","StandardMouseEvent","AbstractIdleValue","IntervalTimer","TimeoutTimer","_runWhenIdle","BugIndicatingError","onUnexpectedError","event","Disposable","DisposableStore","toDisposable","RemoteAuthorities","platform","URI","hash","ensureCodeWindow","mainWindow","isPointWithinTriangle","derived","derivedOpts","observableValue","registerWindow","getWindow","getDocument","getWindows","getWindowsCount","getWindowId","getWindowById","hasWindow","onDidRegisterWindow","onWillUnregisterWindow","onDidUnregisterWindow","s","f","windows","Map","mainWindowRegistration","window","disposables","set","vscodeWindowId","Emitter","windowId","fallbackToMain","b","get","undefined","has","None","registeredWindow","add","delete","fire","addDisposableListener","EventType","BEFORE_UNLOAD","values","size","targetWindow","e","candidateNode","ownerDocument","defaultView","candidateEvent","view","document","clearNode","node","firstChild","remove","DomListener","_handler","_node","_type","_options","constructor","type","handler","options","addEventListener","dispose","removeEventListener","useCaptureOrOptions","_wrapAsStandardMouseEvent","_wrapAsStandardKeyboardEvent","addStandardDisposableListener","useCapture","wrapHandler","addStandardDisposableGenericMouseDownListener","addDisposableGenericMouseDownListener","addStandardDisposableGenericMouseUpListener","addDisposableGenericMouseUpListener","isIOS","pointerEvents","POINTER_DOWN","MOUSE_DOWN","addDisposableGenericMouseMoveListener","POINTER_MOVE","MOUSE_MOVE","POINTER_UP","MOUSE_UP","runWhenWindowIdle","callback","timeout","WindowIdleValue","executor","runAtThisOrScheduleAtNextAnimationFrame","scheduleAtNextAnimationFrame","disposableWindowInterval","interval","iterations","iteration","timer","setInterval","disposable","clearInterval","WindowIntervalTimer","defaultTarget","cancelAndSet","runner","AnimationFrameQueueItem","_runner","priority","_canceled","execute","sort","a","NEXT_QUEUE","CURRENT_QUEUE","animFrameRequested","inAnimationFrameRunner","animationFrameRunner","targetWindowId","currentQueue","length","top","shift","item","nextQueue","push","requestAnimationFrame","measure","modify","MINIMUM_TIME_MS","DEFAULT_EVENT_MERGER","_lastEvent","currentEvent","TimeoutThrottledDomListener","eventMerger","minimumTimeMs","lastEvent","lastHandlerTime","_register","invokeHandler","Date","getTime","elapsedTime","cancel","setIfNotSet","addDisposableThrottledListener","getComputedStyle","el","getClientArea","element","defaultValue","fallbackElement","elWindow","elDocument","body","Dimension","clientWidth","clientHeight","visualViewport","width","height","innerWidth","innerHeight","documentElement","Error","SizeUtils","convertToPixels","value","parseFloat","getDimension","cssPropertyName","computedStyle","getPropertyValue","getBorderLeftWidth","getBorderRightWidth","getBorderTopWidth","getBorderBottomWidth","getPaddingLeft","getPaddingRight","getPaddingTop","getPaddingBottom","getMarginLeft","getMarginTop","getMarginRight","getMarginBottom","with","is","obj","lift","equals","getTopLeftOffset","offsetParent","offsetTop","left","offsetLeft","parentNode","scrollTop","c","isShadowRoot","direction","scrollLeft","style","position","right","bottom","getDomNodePagePosition","domNode","bb","getBoundingClientRect","scrollX","scrollY","isElementInBottomRightQuarter","container","clientArea","getDomNodeZoomLevel","testElement","zoom","elementZoomLevel","parentElement","getTotalWidth","margin","offsetWidth","getContentWidth","border","padding","getTotalScrollWidth","scrollWidth","getContentHeight","offsetHeight","getTotalHeight","getRelativeLeft","parent","elementPosition","parentPosition","getLargestChildWidth","children","childWidths","map","child","Math","max","maxWidth","isAncestor","testChild","testAncestor","Boolean","contains","parentFlowToDataKey","setParentFlowTo","fromChildElement","toParentElement","dataset","id","getParentFlowToElement","flowToParentId","getElementById","isAncestorUsingFlowTo","isHTMLElement","flowToParentElement","findParentWithClass","clazz","stopAtClazzOrNode","nodeType","ELEMENT_NODE","classList","hasParentWithClass","host","mode","isInShadowDOM","getShadowRoot","getActiveElement","result","getActiveDocument","activeElement","shadowRoot","isActiveElement","isAncestorOfActiveElement","ancestor","isActiveDocument","documents","Array","from","find","doc","hasFocus","getActiveWindow","sharedMutationObserver","mutationObservers","observe","target","mutationObserversPerTarget","optionsHash","mutationObserverPerOptions","onDidMutate","observer","MutationObserver","mutations","resolvedMutationObserverPerOptions","users","disconnect","createMetaElement","head","createHeadElement","createLinkElement","tagName","createElement","appendChild","HTMLElement","isHTMLAnchorElement","HTMLAnchorElement","isHTMLSpanElement","HTMLSpanElement","isHTMLTextAreaElement","HTMLTextAreaElement","isHTMLInputElement","HTMLInputElement","isHTMLButtonElement","HTMLButtonElement","isHTMLDivElement","HTMLDivElement","isSVGElement","SVGElement","isMouseEvent","MouseEvent","isKeyboardEvent","KeyboardEvent","isPointerEvent","PointerEvent","isDragEvent","DragEvent","CLICK","AUXCLICK","DBLCLICK","MOUSE_OVER","MOUSE_OUT","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_WHEEL","POINTER_LEAVE","CONTEXT_MENU","WHEEL","KEY_DOWN","KEY_PRESS","KEY_UP","LOAD","UNLOAD","PAGE_SHOW","PAGE_HIDE","PASTE","ABORT","ERROR","RESIZE","SCROLL","FULLSCREEN_CHANGE","WK_FULLSCREEN_CHANGE","SELECT","CHANGE","SUBMIT","RESET","FOCUS","FOCUS_IN","FOCUS_OUT","BLUR","INPUT","STORAGE","DRAG_START","DRAG","DRAG_ENTER","DRAG_LEAVE","DRAG_OVER","DROP","DRAG_END","ANIMATION_START","isWebKit","ANIMATION_END","ANIMATION_ITERATION","isEventLike","candidate","preventDefault","stopPropagation","EventHelper","stop","cancelBubble","saveParentsScrollTop","r","i","restoreParentsScrollTop","state","FocusTracker","_onDidFocus","onDidFocus","_onDidBlur","onDidBlur","_refreshStateHandler","hasFocusWithin","loosingFocus","onFocus","onBlur","setTimeout","currentNodeHasFocus","refreshState","trackFocus","after","sibling","append","prepend","insertBefore","reset","textContent","SELECTOR_REGEX","Namespace","_$","namespace","description","attrs","match","exec","HTML","createElementNS","className","replace","trim","Object","entries","forEach","name","test","setAttribute","$","SVG","join","nodes","separator","index","Node","cloneNode","createTextNode","setVisibility","visible","elements","show","hide","display","removeAttribute","findParentWithAttribute","attribute","hasAttribute","removeTabIndexAndUpdateFocus","parentFocusable","focus","finalHandler","fn","domContentLoaded","Promise","resolve","readyState","listener","computeScreenAwareSize","cssPx","screenPx","devicePixelRatio","floor","windowOpenNoOpener","url","open","popupWidth","popupHeight","windowOpenPopup","screenLeft","screenTop","windowOpenWithSuccess","noOpener","newTab","opener","location","href","animate","step","stepDisposable","setPreferredWebSchema","triggerDownload","dataOrUri","isUri","toString","blob","Blob","URL","createObjectURL","revokeObjectURL","activeWindow","anchor","download","click","triggerUpload","input","multiple","Event","once","fromDOMEventEmitter","files","sanitizeNotificationText","text","triggerNotification","message","permission","Notification","requestPermission","notification","detail","requireInteraction","sticky","onClick","close","DetectedFullscreenMode","detectFullscreen","fullscreenElement","webkitFullscreenElement","webkitIsFullScreen","DOCUMENT","guess","screen","BROWSER","isMacintosh","isLinux","outerHeight","outerWidth","ModifierKeyEmitter","_subscriptions","_keyStatus","instance","altKey","shiftKey","ctrlKey","metaKey","runAndSubscribe","registerListeners","defaultPrevented","keyCode","repeat","lastKeyPressed","lastKeyReleased","buttons","resetKeyStatus","keyStatus","isModifierPressed","doResetKeyStatus","getInstance","disposeInstance","getCookieValue","cookie","pop","DragAndDropObserver","callbacks","counter","dragStartTime","onDragStart","onDrag","timeStamp","onDragEnter","onDragOver","onDragLeave","onDragEnd","onDrop","H_REGEX","h","tag","args","attributes","isArray","groups","classNames","split","assign","root","key","cssKey","cssValue","setProperty","camelCaseToHyphenCase","tabIndex","svgElem","str","toLowerCase","copyAttributes","to","filter","includes","copyAttribute","getAttribute","trackAttributes","attributeFilter","mutation","attributeName","isEditableElement","editContext","SafeTriangle","originX","originY","points","Int16Array","t","x","y","p1","p2","n","nodeNs","elementNs","class","ref","obsRef","ObserverNodeWithElement","div","elem","svg","val","defineProperty","ObserverNode","_deriveds","_element","ns","_reader","store","hasObservable","reader","setClassName","getClassName","isObservable","owner","debugName","convertCssValue","read","startsWith","setOrRemoveAttribute","getChildren","flatMap","readEffect","d","replaceChildren","childrenIsObservable","keepUpdated","recomputeInitiallyAndOnChange","toDisposableLiveElement","LiveElement","cb","v","some","_disposable","_isHovered","isHovered","hovered","_e","_didMouseMoveDuringHover","didMouseMoveDuringHover","_hovering","String","reportChanges"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/dom.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as browser from './browser.js';\nimport { BrowserFeatures } from './canIUse.js';\nimport { hasModifierKeys, IKeyboardEvent, StandardKeyboardEvent } from './keyboardEvent.js';\nimport { IMouseEvent, StandardMouseEvent } from './mouseEvent.js';\nimport { AbstractIdleValue, IntervalTimer, TimeoutTimer, _runWhenIdle, IdleDeadline } from '../common/async.js';\nimport { BugIndicatingError, onUnexpectedError } from '../common/errors.js';\nimport * as event from '../common/event.js';\nimport { KeyCode } from '../common/keyCodes.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../common/lifecycle.js';\nimport { RemoteAuthorities } from '../common/network.js';\nimport * as platform from '../common/platform.js';\nimport { URI } from '../common/uri.js';\nimport { hash } from '../common/hash.js';\nimport { CodeWindow, ensureCodeWindow, mainWindow } from './window.js';\nimport { isPointWithinTriangle } from '../common/numbers.js';\nimport { IObservable, derived, derivedOpts, IReader, observableValue } from '../common/observable.js';\n\nexport interface IRegisteredCodeWindow {\n\treadonly window: CodeWindow;\n\treadonly disposables: DisposableStore;\n}\n\n//# region Multi-Window Support Utilities\n\nexport const {\n\tregisterWindow,\n\tgetWindow,\n\tgetDocument,\n\tgetWindows,\n\tgetWindowsCount,\n\tgetWindowId,\n\tgetWindowById,\n\thasWindow,\n\tonDidRegisterWindow,\n\tonWillUnregisterWindow,\n\tonDidUnregisterWindow\n} = (function () {\n\tconst windows = new Map<number, IRegisteredCodeWindow>();\n\n\tensureCodeWindow(mainWindow, 1);\n\tconst mainWindowRegistration = { window: mainWindow, disposables: new DisposableStore() };\n\twindows.set(mainWindow.vscodeWindowId, mainWindowRegistration);\n\n\tconst onDidRegisterWindow = new event.Emitter<IRegisteredCodeWindow>();\n\tconst onDidUnregisterWindow = new event.Emitter<CodeWindow>();\n\tconst onWillUnregisterWindow = new event.Emitter<CodeWindow>();\n\n\tfunction getWindowById(windowId: number): IRegisteredCodeWindow | undefined;\n\tfunction getWindowById(windowId: number | undefined, fallbackToMain: true): IRegisteredCodeWindow;\n\tfunction getWindowById(windowId: number | undefined, fallbackToMain?: boolean): IRegisteredCodeWindow | undefined {\n\t\tconst window = typeof windowId === 'number' ? windows.get(windowId) : undefined;\n\n\t\treturn window ?? (fallbackToMain ? mainWindowRegistration : undefined);\n\t}\n\n\treturn {\n\t\tonDidRegisterWindow: onDidRegisterWindow.event,\n\t\tonWillUnregisterWindow: onWillUnregisterWindow.event,\n\t\tonDidUnregisterWindow: onDidUnregisterWindow.event,\n\t\tregisterWindow(window: CodeWindow): IDisposable {\n\t\t\tif (windows.has(window.vscodeWindowId)) {\n\t\t\t\treturn Disposable.None;\n\t\t\t}\n\n\t\t\tconst disposables = new DisposableStore();\n\n\t\t\tconst registeredWindow = {\n\t\t\t\twindow,\n\t\t\t\tdisposables: disposables.add(new DisposableStore())\n\t\t\t};\n\t\t\twindows.set(window.vscodeWindowId, registeredWindow);\n\n\t\t\tdisposables.add(toDisposable(() => {\n\t\t\t\twindows.delete(window.vscodeWindowId);\n\t\t\t\tonDidUnregisterWindow.fire(window);\n\t\t\t}));\n\n\t\t\tdisposables.add(addDisposableListener(window, EventType.BEFORE_UNLOAD, () => {\n\t\t\t\tonWillUnregisterWindow.fire(window);\n\t\t\t}));\n\n\t\t\tonDidRegisterWindow.fire(registeredWindow);\n\n\t\t\treturn disposables;\n\t\t},\n\t\tgetWindows(): Iterable<IRegisteredCodeWindow> {\n\t\t\treturn windows.values();\n\t\t},\n\t\tgetWindowsCount(): number {\n\t\t\treturn windows.size;\n\t\t},\n\t\tgetWindowId(targetWindow: Window): number {\n\t\t\treturn (targetWindow as CodeWindow).vscodeWindowId;\n\t\t},\n\t\thasWindow(windowId: number): boolean {\n\t\t\treturn windows.has(windowId);\n\t\t},\n\t\tgetWindowById,\n\t\tgetWindow(e: Node | UIEvent | undefined | null): CodeWindow {\n\t\t\tconst candidateNode = e as Node | undefined | null;\n\t\t\tif (candidateNode?.ownerDocument?.defaultView) {\n\t\t\t\treturn candidateNode.ownerDocument.defaultView.window as CodeWindow;\n\t\t\t}\n\n\t\t\tconst candidateEvent = e as UIEvent | undefined | null;\n\t\t\tif (candidateEvent?.view) {\n\t\t\t\treturn candidateEvent.view.window as CodeWindow;\n\t\t\t}\n\n\t\t\treturn mainWindow;\n\t\t},\n\t\tgetDocument(e: Node | UIEvent | undefined | null): Document {\n\t\t\tconst candidateNode = e as Node | undefined | null;\n\t\t\treturn getWindow(candidateNode).document;\n\t\t}\n\t};\n})();\n\n//#endregion\n\nexport function clearNode(node: HTMLElement): void {\n\twhile (node.firstChild) {\n\t\tnode.firstChild.remove();\n\t}\n}\n\nclass DomListener implements IDisposable {\n\n\tprivate _handler: (e: any) => void;\n\tprivate _node: EventTarget;\n\tprivate readonly _type: string;\n\tprivate readonly _options: boolean | AddEventListenerOptions;\n\n\tconstructor(node: EventTarget, type: string, handler: (e: any) => void, options?: boolean | AddEventListenerOptions) {\n\t\tthis._node = node;\n\t\tthis._type = type;\n\t\tthis._handler = handler;\n\t\tthis._options = (options || false);\n\t\tthis._node.addEventListener(this._type, this._handler, this._options);\n\t}\n\n\tdispose(): void {\n\t\tif (!this._handler) {\n\t\t\t// Already disposed\n\t\t\treturn;\n\t\t}\n\n\t\tthis._node.removeEventListener(this._type, this._handler, this._options);\n\n\t\t// Prevent leakers from holding on to the dom or handler func\n\t\tthis._node = null!;\n\t\tthis._handler = null!;\n\t}\n}\n\nexport function addDisposableListener<K extends keyof GlobalEventHandlersEventMap>(node: EventTarget, type: K, handler: (event: GlobalEventHandlersEventMap[K]) => void, useCapture?: boolean): IDisposable;\nexport function addDisposableListener(node: EventTarget, type: string, handler: (event: any) => void, useCapture?: boolean): IDisposable;\nexport function addDisposableListener(node: EventTarget, type: string, handler: (event: any) => void, options: AddEventListenerOptions): IDisposable;\nexport function addDisposableListener(node: EventTarget, type: string, handler: (event: any) => void, useCaptureOrOptions?: boolean | AddEventListenerOptions): IDisposable {\n\treturn new DomListener(node, type, handler, useCaptureOrOptions);\n}\n\nexport interface IAddStandardDisposableListenerSignature {\n\t(node: HTMLElement | Element | Document, type: 'click', handler: (event: IMouseEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'mousedown', handler: (event: IMouseEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'keydown', handler: (event: IKeyboardEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'keypress', handler: (event: IKeyboardEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'keyup', handler: (event: IKeyboardEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'pointerdown', handler: (event: PointerEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'pointermove', handler: (event: PointerEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: 'pointerup', handler: (event: PointerEvent) => void, useCapture?: boolean): IDisposable;\n\t(node: HTMLElement | Element | Document, type: string, handler: (event: any) => void, useCapture?: boolean): IDisposable;\n}\nfunction _wrapAsStandardMouseEvent(targetWindow: Window, handler: (e: IMouseEvent) => void): (e: MouseEvent) => void {\n\treturn function (e: MouseEvent) {\n\t\treturn handler(new StandardMouseEvent(targetWindow, e));\n\t};\n}\nfunction _wrapAsStandardKeyboardEvent(handler: (e: IKeyboardEvent) => void): (e: KeyboardEvent) => void {\n\treturn function (e: KeyboardEvent) {\n\t\treturn handler(new StandardKeyboardEvent(e));\n\t};\n}\nexport const addStandardDisposableListener: IAddStandardDisposableListenerSignature = function addStandardDisposableListener(node: HTMLElement | Element | Document, type: string, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\tlet wrapHandler = handler;\n\n\tif (type === 'click' || type === 'mousedown' || type === 'contextmenu') {\n\t\twrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n\t} else if (type === 'keydown' || type === 'keypress' || type === 'keyup') {\n\t\twrapHandler = _wrapAsStandardKeyboardEvent(handler);\n\t}\n\n\treturn addDisposableListener(node, type, wrapHandler, useCapture);\n};\n\nexport const addStandardDisposableGenericMouseDownListener = function addStandardDisposableListener(node: HTMLElement, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\tconst wrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n\n\treturn addDisposableGenericMouseDownListener(node, wrapHandler, useCapture);\n};\n\nexport const addStandardDisposableGenericMouseUpListener = function addStandardDisposableListener(node: HTMLElement, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\tconst wrapHandler = _wrapAsStandardMouseEvent(getWindow(node), handler);\n\n\treturn addDisposableGenericMouseUpListener(node, wrapHandler, useCapture);\n};\nexport function addDisposableGenericMouseDownListener(node: EventTarget, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\treturn addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_DOWN : EventType.MOUSE_DOWN, handler, useCapture);\n}\n\nexport function addDisposableGenericMouseMoveListener(node: EventTarget, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\treturn addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_MOVE : EventType.MOUSE_MOVE, handler, useCapture);\n}\n\nexport function addDisposableGenericMouseUpListener(node: EventTarget, handler: (event: any) => void, useCapture?: boolean): IDisposable {\n\treturn addDisposableListener(node, platform.isIOS && BrowserFeatures.pointerEvents ? EventType.POINTER_UP : EventType.MOUSE_UP, handler, useCapture);\n}\n\n/**\n * Execute the callback the next time the browser is idle, returning an\n * {@link IDisposable} that will cancel the callback when disposed. This wraps\n * [requestIdleCallback] so it will fallback to [setTimeout] if the environment\n * doesn't support it.\n *\n * @param targetWindow The window for which to run the idle callback\n * @param callback The callback to run when idle, this includes an\n * [IdleDeadline] that provides the time alloted for the idle callback by the\n * browser. Not respecting this deadline will result in a degraded user\n * experience.\n * @param timeout A timeout at which point to queue no longer wait for an idle\n * callback but queue it on the regular event loop (like setTimeout). Typically\n * this should not be used.\n *\n * [IdleDeadline]: https://developer.mozilla.org/en-US/docs/Web/API/IdleDeadline\n * [requestIdleCallback]: https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback\n * [setTimeout]: https://developer.mozilla.org/en-US/docs/Web/API/Window/setTimeout\n */\nexport function runWhenWindowIdle(targetWindow: Window | typeof globalThis, callback: (idle: IdleDeadline) => void, timeout?: number): IDisposable {\n\treturn _runWhenIdle(targetWindow, callback, timeout);\n}\n\n/**\n * An implementation of the \"idle-until-urgent\"-strategy as introduced\n * here: https://philipwalton.com/articles/idle-until-urgent/\n */\nexport class WindowIdleValue<T> extends AbstractIdleValue<T> {\n\tconstructor(targetWindow: Window | typeof globalThis, executor: () => T) {\n\t\tsuper(targetWindow, executor);\n\t}\n}\n\n/**\n * Schedule a callback to be run at the next animation frame.\n * This allows multiple parties to register callbacks that should run at the next animation frame.\n * If currently in an animation frame, `runner` will be executed immediately.\n * @return token that can be used to cancel the scheduled runner (only if `runner` was not executed immediately).\n */\nexport let runAtThisOrScheduleAtNextAnimationFrame: (targetWindow: Window, runner: () => void, priority?: number) => IDisposable;\n/**\n * Schedule a callback to be run at the next animation frame.\n * This allows multiple parties to register callbacks that should run at the next animation frame.\n * If currently in an animation frame, `runner` will be executed at the next animation frame.\n * @return token that can be used to cancel the scheduled runner.\n */\nexport let scheduleAtNextAnimationFrame: (targetWindow: Window, runner: () => void, priority?: number) => IDisposable;\n\nexport function disposableWindowInterval(targetWindow: Window, handler: () => void | boolean /* stop interval */ | Promise<unknown>, interval: number, iterations?: number): IDisposable {\n\tlet iteration = 0;\n\tconst timer = targetWindow.setInterval(() => {\n\t\titeration++;\n\t\tif ((typeof iterations === 'number' && iteration >= iterations) || handler() === true) {\n\t\t\tdisposable.dispose();\n\t\t}\n\t}, interval);\n\tconst disposable = toDisposable(() => {\n\t\ttargetWindow.clearInterval(timer);\n\t});\n\treturn disposable;\n}\n\nexport class WindowIntervalTimer extends IntervalTimer {\n\n\tprivate readonly defaultTarget?: Window & typeof globalThis;\n\n\t/**\n\t *\n\t * @param node The optional node from which the target window is determined\n\t */\n\tconstructor(node?: Node) {\n\t\tsuper();\n\t\tthis.defaultTarget = node && getWindow(node);\n\t}\n\n\toverride cancelAndSet(runner: () => void, interval: number, targetWindow?: Window & typeof globalThis): void {\n\t\treturn super.cancelAndSet(runner, interval, targetWindow ?? this.defaultTarget);\n\t}\n}\n\nclass AnimationFrameQueueItem implements IDisposable {\n\n\tprivate _runner: () => void;\n\tpublic priority: number;\n\tprivate _canceled: boolean;\n\n\tconstructor(runner: () => void, priority: number = 0) {\n\t\tthis._runner = runner;\n\t\tthis.priority = priority;\n\t\tthis._canceled = false;\n\t}\n\n\tdispose(): void {\n\t\tthis._canceled = true;\n\t}\n\n\texecute(): void {\n\t\tif (this._canceled) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tthis._runner();\n\t\t} catch (e) {\n\t\t\tonUnexpectedError(e);\n\t\t}\n\t}\n\n\t// Sort by priority (largest to lowest)\n\tstatic sort(a: AnimationFrameQueueItem, b: AnimationFrameQueueItem): number {\n\t\treturn b.priority - a.priority;\n\t}\n}\n\n(function () {\n\t/**\n\t * The runners scheduled at the next animation frame\n\t */\n\tconst NEXT_QUEUE = new Map<number /* window ID */, AnimationFrameQueueItem[]>();\n\t/**\n\t * The runners scheduled at the current animation frame\n\t */\n\tconst CURRENT_QUEUE = new Map<number /* window ID */, AnimationFrameQueueItem[]>();\n\t/**\n\t * A flag to keep track if the native requestAnimationFrame was already called\n\t */\n\tconst animFrameRequested = new Map<number /* window ID */, boolean>();\n\t/**\n\t * A flag to indicate if currently handling a native requestAnimationFrame callback\n\t */\n\tconst inAnimationFrameRunner = new Map<number /* window ID */, boolean>();\n\n\tconst animationFrameRunner = (targetWindowId: number) => {\n\t\tanimFrameRequested.set(targetWindowId, false);\n\n\t\tconst currentQueue = NEXT_QUEUE.get(targetWindowId) ?? [];\n\t\tCURRENT_QUEUE.set(targetWindowId, currentQueue);\n\t\tNEXT_QUEUE.set(targetWindowId, []);\n\n\t\tinAnimationFrameRunner.set(targetWindowId, true);\n\t\twhile (currentQueue.length > 0) {\n\t\t\tcurrentQueue.sort(AnimationFrameQueueItem.sort);\n\t\t\tconst top = currentQueue.shift()!;\n\t\t\ttop.execute();\n\t\t}\n\t\tinAnimationFrameRunner.set(targetWindowId, false);\n\t};\n\n\tscheduleAtNextAnimationFrame = (targetWindow: Window, runner: () => void, priority: number = 0) => {\n\t\tconst targetWindowId = getWindowId(targetWindow);\n\t\tconst item = new AnimationFrameQueueItem(runner, priority);\n\n\t\tlet nextQueue = NEXT_QUEUE.get(targetWindowId);\n\t\tif (!nextQueue) {\n\t\t\tnextQueue = [];\n\t\t\tNEXT_QUEUE.set(targetWindowId, nextQueue);\n\t\t}\n\t\tnextQueue.push(item);\n\n\t\tif (!animFrameRequested.get(targetWindowId)) {\n\t\t\tanimFrameRequested.set(targetWindowId, true);\n\t\t\ttargetWindow.requestAnimationFrame(() => animationFrameRunner(targetWindowId));\n\t\t}\n\n\t\treturn item;\n\t};\n\n\trunAtThisOrScheduleAtNextAnimationFrame = (targetWindow: Window, runner: () => void, priority?: number) => {\n\t\tconst targetWindowId = getWindowId(targetWindow);\n\t\tif (inAnimationFrameRunner.get(targetWindowId)) {\n\t\t\tconst item = new AnimationFrameQueueItem(runner, priority);\n\t\t\tlet currentQueue = CURRENT_QUEUE.get(targetWindowId);\n\t\t\tif (!currentQueue) {\n\t\t\t\tcurrentQueue = [];\n\t\t\t\tCURRENT_QUEUE.set(targetWindowId, currentQueue);\n\t\t\t}\n\t\t\tcurrentQueue.push(item);\n\t\t\treturn item;\n\t\t} else {\n\t\t\treturn scheduleAtNextAnimationFrame(targetWindow, runner, priority);\n\t\t}\n\t};\n})();\n\nexport function measure(targetWindow: Window, callback: () => void): IDisposable {\n\treturn scheduleAtNextAnimationFrame(targetWindow, callback, 10000 /* must be early */);\n}\n\nexport function modify(targetWindow: Window, callback: () => void): IDisposable {\n\treturn scheduleAtNextAnimationFrame(targetWindow, callback, -10000 /* must be late */);\n}\n\n/**\n * Add a throttled listener. `handler` is fired at most every 8.33333ms or with the next animation frame (if browser supports it).\n */\nexport interface IEventMerger<R, E> {\n\t(lastEvent: R | null, currentEvent: E): R;\n}\n\nconst MINIMUM_TIME_MS = 8;\nfunction DEFAULT_EVENT_MERGER<T>(_lastEvent: unknown, currentEvent: T) {\n\treturn currentEvent;\n}\n\nclass TimeoutThrottledDomListener<R, E extends Event> extends Disposable {\n\n\tconstructor(node: Node, type: string, handler: (event: R) => void, eventMerger: IEventMerger<R, E> = DEFAULT_EVENT_MERGER as IEventMerger<R, E>, minimumTimeMs: number = MINIMUM_TIME_MS) {\n\t\tsuper();\n\n\t\tlet lastEvent: R | null = null;\n\t\tlet lastHandlerTime = 0;\n\t\tconst timeout = this._register(new TimeoutTimer());\n\n\t\tconst invokeHandler = () => {\n\t\t\tlastHandlerTime = (new Date()).getTime();\n\t\t\thandler(<R>lastEvent);\n\t\t\tlastEvent = null;\n\t\t};\n\n\t\tthis._register(addDisposableListener(node, type, (e) => {\n\n\t\t\tlastEvent = eventMerger(lastEvent, e);\n\t\t\tconst elapsedTime = (new Date()).getTime() - lastHandlerTime;\n\n\t\t\tif (elapsedTime >= minimumTimeMs) {\n\t\t\t\ttimeout.cancel();\n\t\t\t\tinvokeHandler();\n\t\t\t} else {\n\t\t\t\ttimeout.setIfNotSet(invokeHandler, minimumTimeMs - elapsedTime);\n\t\t\t}\n\t\t}));\n\t}\n}\n\nexport function addDisposableThrottledListener<R, E extends Event = Event>(node: any, type: string, handler: (event: R) => void, eventMerger?: IEventMerger<R, E>, minimumTimeMs?: number): IDisposable {\n\treturn new TimeoutThrottledDomListener<R, E>(node, type, handler, eventMerger, minimumTimeMs);\n}\n\nexport function getComputedStyle(el: HTMLElement): CSSStyleDeclaration {\n\treturn getWindow(el).getComputedStyle(el, null);\n}\n\nexport function getClientArea(element: HTMLElement, defaultValue?: Dimension, fallbackElement?: HTMLElement): Dimension {\n\tconst elWindow = getWindow(element);\n\tconst elDocument = elWindow.document;\n\n\t// Try with DOM clientWidth / clientHeight\n\tif (element !== elDocument.body) {\n\t\treturn new Dimension(element.clientWidth, element.clientHeight);\n\t}\n\n\t// If visual view port exits and it's on mobile, it should be used instead of window innerWidth / innerHeight, or document.body.clientWidth / document.body.clientHeight\n\tif (platform.isIOS && elWindow?.visualViewport) {\n\t\treturn new Dimension(elWindow.visualViewport.width, elWindow.visualViewport.height);\n\t}\n\n\t// Try innerWidth / innerHeight\n\tif (elWindow?.innerWidth && elWindow.innerHeight) {\n\t\treturn new Dimension(elWindow.innerWidth, elWindow.innerHeight);\n\t}\n\n\t// Try with document.body.clientWidth / document.body.clientHeight\n\tif (elDocument.body && elDocument.body.clientWidth && elDocument.body.clientHeight) {\n\t\treturn new Dimension(elDocument.body.clientWidth, elDocument.body.clientHeight);\n\t}\n\n\t// Try with document.documentElement.clientWidth / document.documentElement.clientHeight\n\tif (elDocument.documentElement && elDocument.documentElement.clientWidth && elDocument.documentElement.clientHeight) {\n\t\treturn new Dimension(elDocument.documentElement.clientWidth, elDocument.documentElement.clientHeight);\n\t}\n\n\tif (fallbackElement) {\n\t\treturn getClientArea(fallbackElement, defaultValue);\n\t}\n\n\tif (defaultValue) {\n\t\treturn defaultValue;\n\t}\n\n\tthrow new Error('Unable to figure out browser width and height');\n}\n\nclass SizeUtils {\n\t// Adapted from WinJS\n\t// Converts a CSS positioning string for the specified element to pixels.\n\tprivate static convertToPixels(element: HTMLElement, value: string): number {\n\t\treturn parseFloat(value) || 0;\n\t}\n\n\tprivate static getDimension(element: HTMLElement, cssPropertyName: string): number {\n\t\tconst computedStyle = getComputedStyle(element);\n\t\tconst value = computedStyle ? computedStyle.getPropertyValue(cssPropertyName) : '0';\n\t\treturn SizeUtils.convertToPixels(element, value);\n\t}\n\n\tstatic getBorderLeftWidth(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'border-left-width');\n\t}\n\tstatic getBorderRightWidth(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'border-right-width');\n\t}\n\tstatic getBorderTopWidth(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'border-top-width');\n\t}\n\tstatic getBorderBottomWidth(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'border-bottom-width');\n\t}\n\n\tstatic getPaddingLeft(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'padding-left');\n\t}\n\tstatic getPaddingRight(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'padding-right');\n\t}\n\tstatic getPaddingTop(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'padding-top');\n\t}\n\tstatic getPaddingBottom(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'padding-bottom');\n\t}\n\n\tstatic getMarginLeft(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'margin-left');\n\t}\n\tstatic getMarginTop(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'margin-top');\n\t}\n\tstatic getMarginRight(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'margin-right');\n\t}\n\tstatic getMarginBottom(element: HTMLElement): number {\n\t\treturn SizeUtils.getDimension(element, 'margin-bottom');\n\t}\n}\n\n// ----------------------------------------------------------------------------------------\n// Position & Dimension\n\nexport interface IDimension {\n\treadonly width: number;\n\treadonly height: number;\n}\n\nexport class Dimension implements IDimension {\n\n\tstatic readonly None = new Dimension(0, 0);\n\n\tconstructor(\n\t\treadonly width: number,\n\t\treadonly height: number,\n\t) { }\n\n\twith(width: number = this.width, height: number = this.height): Dimension {\n\t\tif (width !== this.width || height !== this.height) {\n\t\t\treturn new Dimension(width, height);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tstatic is(obj: unknown): obj is IDimension {\n\t\treturn typeof obj === 'object' && typeof (<IDimension>obj).height === 'number' && typeof (<IDimension>obj).width === 'number';\n\t}\n\n\tstatic lift(obj: IDimension): Dimension {\n\t\tif (obj instanceof Dimension) {\n\t\t\treturn obj;\n\t\t} else {\n\t\t\treturn new Dimension(obj.width, obj.height);\n\t\t}\n\t}\n\n\tstatic equals(a: Dimension | undefined, b: Dimension | undefined): boolean {\n\t\tif (a === b) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!a || !b) {\n\t\t\treturn false;\n\t\t}\n\t\treturn a.width === b.width && a.height === b.height;\n\t}\n}\n\nexport interface IDomPosition {\n\treadonly left: number;\n\treadonly top: number;\n}\n\nexport function getTopLeftOffset(element: HTMLElement): IDomPosition {\n\t// Adapted from WinJS.Utilities.getPosition\n\t// and added borders to the mix\n\n\tlet offsetParent = element.offsetParent;\n\tlet top = element.offsetTop;\n\tlet left = element.offsetLeft;\n\n\twhile (\n\t\t(element = <HTMLElement>element.parentNode) !== null\n\t\t&& element !== element.ownerDocument.body\n\t\t&& element !== element.ownerDocument.documentElement\n\t) {\n\t\ttop -= element.scrollTop;\n\t\tconst c = isShadowRoot(element) ? null : getComputedStyle(element);\n\t\tif (c) {\n\t\t\tleft -= c.direction !== 'rtl' ? element.scrollLeft : -element.scrollLeft;\n\t\t}\n\n\t\tif (element === offsetParent) {\n\t\t\tleft += SizeUtils.getBorderLeftWidth(element);\n\t\t\ttop += SizeUtils.getBorderTopWidth(element);\n\t\t\ttop += element.offsetTop;\n\t\t\tleft += element.offsetLeft;\n\t\t\toffsetParent = element.offsetParent;\n\t\t}\n\t}\n\n\treturn {\n\t\tleft: left,\n\t\ttop: top\n\t};\n}\n\nexport interface IDomNodePagePosition {\n\tleft: number;\n\ttop: number;\n\twidth: number;\n\theight: number;\n}\n\nexport function size(element: HTMLElement, width: number | null, height: number | null): void {\n\tif (typeof width === 'number') {\n\t\telement.style.width = `${width}px`;\n\t}\n\n\tif (typeof height === 'number') {\n\t\telement.style.height = `${height}px`;\n\t}\n}\n\nexport function position(element: HTMLElement, top: number, right?: number, bottom?: number, left?: number, position: string = 'absolute'): void {\n\tif (typeof top === 'number') {\n\t\telement.style.top = `${top}px`;\n\t}\n\n\tif (typeof right === 'number') {\n\t\telement.style.right = `${right}px`;\n\t}\n\n\tif (typeof bottom === 'number') {\n\t\telement.style.bottom = `${bottom}px`;\n\t}\n\n\tif (typeof left === 'number') {\n\t\telement.style.left = `${left}px`;\n\t}\n\n\telement.style.position = position;\n}\n\n/**\n * Returns the position of a dom node relative to the entire page.\n */\nexport function getDomNodePagePosition(domNode: HTMLElement): IDomNodePagePosition {\n\tconst bb = domNode.getBoundingClientRect();\n\tconst window = getWindow(domNode);\n\treturn {\n\t\tleft: bb.left + window.scrollX,\n\t\ttop: bb.top + window.scrollY,\n\t\twidth: bb.width,\n\t\theight: bb.height\n\t};\n}\n\n/**\n * Returns whether the element is in the bottom right quarter of the container.\n *\n * @param element the element to check for being in the bottom right quarter\n * @param container the container to check against\n * @returns true if the element is in the bottom right quarter of the container\n */\nexport function isElementInBottomRightQuarter(element: HTMLElement, container: HTMLElement): boolean {\n\tconst position = getDomNodePagePosition(element);\n\tconst clientArea = getClientArea(container);\n\n\treturn position.left > clientArea.width / 2 && position.top > clientArea.height / 2;\n}\n\n/**\n * Returns the effective zoom on a given element before window zoom level is applied\n */\nexport function getDomNodeZoomLevel(domNode: HTMLElement): number {\n\tlet testElement: HTMLElement | null = domNode;\n\tlet zoom = 1.0;\n\tdo {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst elementZoomLevel = (getComputedStyle(testElement) as any).zoom;\n\t\tif (elementZoomLevel !== null && elementZoomLevel !== undefined && elementZoomLevel !== '1') {\n\t\t\tzoom *= elementZoomLevel;\n\t\t}\n\n\t\ttestElement = testElement.parentElement;\n\t} while (testElement !== null && testElement !== testElement.ownerDocument.documentElement);\n\n\treturn zoom;\n}\n\n\n// Adapted from WinJS\n// Gets the width of the element, including margins.\nexport function getTotalWidth(element: HTMLElement): number {\n\tconst margin = SizeUtils.getMarginLeft(element) + SizeUtils.getMarginRight(element);\n\treturn element.offsetWidth + margin;\n}\n\nexport function getContentWidth(element: HTMLElement): number {\n\tconst border = SizeUtils.getBorderLeftWidth(element) + SizeUtils.getBorderRightWidth(element);\n\tconst padding = SizeUtils.getPaddingLeft(element) + SizeUtils.getPaddingRight(element);\n\treturn element.offsetWidth - border - padding;\n}\n\nexport function getTotalScrollWidth(element: HTMLElement): number {\n\tconst margin = SizeUtils.getMarginLeft(element) + SizeUtils.getMarginRight(element);\n\treturn element.scrollWidth + margin;\n}\n\n// Adapted from WinJS\n// Gets the height of the content of the specified element. The content height does not include borders or padding.\nexport function getContentHeight(element: HTMLElement): number {\n\tconst border = SizeUtils.getBorderTopWidth(element) + SizeUtils.getBorderBottomWidth(element);\n\tconst padding = SizeUtils.getPaddingTop(element) + SizeUtils.getPaddingBottom(element);\n\treturn element.offsetHeight - border - padding;\n}\n\n// Adapted from WinJS\n// Gets the height of the element, including its margins.\nexport function getTotalHeight(element: HTMLElement): number {\n\tconst margin = SizeUtils.getMarginTop(element) + SizeUtils.getMarginBottom(element);\n\treturn element.offsetHeight + margin;\n}\n\n// Gets the left coordinate of the specified element relative to the specified parent.\nfunction getRelativeLeft(element: HTMLElement, parent: HTMLElement): number {\n\tif (element === null) {\n\t\treturn 0;\n\t}\n\n\tconst elementPosition = getTopLeftOffset(element);\n\tconst parentPosition = getTopLeftOffset(parent);\n\treturn elementPosition.left - parentPosition.left;\n}\n\nexport function getLargestChildWidth(parent: HTMLElement, children: HTMLElement[]): number {\n\tconst childWidths = children.map((child) => {\n\t\treturn Math.max(getTotalScrollWidth(child), getTotalWidth(child)) + getRelativeLeft(child, parent) || 0;\n\t});\n\tconst maxWidth = Math.max(...childWidths);\n\treturn maxWidth;\n}\n\n// ----------------------------------------------------------------------------------------\n\nexport function isAncestor(testChild: Node | null, testAncestor: Node | null): boolean {\n\treturn Boolean(testAncestor?.contains(testChild));\n}\n\nconst parentFlowToDataKey = 'parentFlowToElementId';\n\n/**\n * Set an explicit parent to use for nodes that are not part of the\n * regular dom structure.\n */\nexport function setParentFlowTo(fromChildElement: HTMLElement, toParentElement: Element): void {\n\tfromChildElement.dataset[parentFlowToDataKey] = toParentElement.id;\n}\n\nfunction getParentFlowToElement(node: HTMLElement): HTMLElement | null {\n\tconst flowToParentId = node.dataset[parentFlowToDataKey];\n\tif (typeof flowToParentId === 'string') {\n\t\t \n\t\treturn node.ownerDocument.getElementById(flowToParentId);\n\t}\n\treturn null;\n}\n\n/**\n * Check if `testAncestor` is an ancestor of `testChild`, observing the explicit\n * parents set by `setParentFlowTo`.\n */\nexport function isAncestorUsingFlowTo(testChild: Node, testAncestor: Node): boolean {\n\tlet node: Node | null = testChild;\n\twhile (node) {\n\t\tif (node === testAncestor) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (isHTMLElement(node)) {\n\t\t\tconst flowToParentElement = getParentFlowToElement(node);\n\t\t\tif (flowToParentElement) {\n\t\t\t\tnode = flowToParentElement;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\n\treturn false;\n}\n\nexport function findParentWithClass(node: HTMLElement, clazz: string, stopAtClazzOrNode?: string | HTMLElement): HTMLElement | null {\n\twhile (node && node.nodeType === node.ELEMENT_NODE) {\n\t\tif (node.classList.contains(clazz)) {\n\t\t\treturn node;\n\t\t}\n\n\t\tif (stopAtClazzOrNode) {\n\t\t\tif (typeof stopAtClazzOrNode === 'string') {\n\t\t\t\tif (node.classList.contains(stopAtClazzOrNode)) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (node === stopAtClazzOrNode) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnode = <HTMLElement>node.parentNode;\n\t}\n\n\treturn null;\n}\n\nexport function hasParentWithClass(node: HTMLElement, clazz: string, stopAtClazzOrNode?: string | HTMLElement): boolean {\n\treturn !!findParentWithClass(node, clazz, stopAtClazzOrNode);\n}\n\nexport function isShadowRoot(node: Node): node is ShadowRoot {\n\treturn (\n\t\tnode && !!(<ShadowRoot>node).host && !!(<ShadowRoot>node).mode\n\t);\n}\n\nexport function isInShadowDOM(domNode: Node): boolean {\n\treturn !!getShadowRoot(domNode);\n}\n\nexport function getShadowRoot(domNode: Node): ShadowRoot | null {\n\twhile (domNode.parentNode) {\n\t\tif (domNode === domNode.ownerDocument?.body) {\n\t\t\t// reached the body\n\t\t\treturn null;\n\t\t}\n\t\tdomNode = domNode.parentNode;\n\t}\n\treturn isShadowRoot(domNode) ? domNode : null;\n}\n\n/**\n * Returns the active element across all child windows\n * based on document focus. Falls back to the main\n * window if no window has focus.\n */\nexport function getActiveElement(): Element | null {\n\tlet result = getActiveDocument().activeElement;\n\n\twhile (result?.shadowRoot) {\n\t\tresult = result.shadowRoot.activeElement;\n\t}\n\n\treturn result;\n}\n\n/**\n * Returns true if the focused window active element matches\n * the provided element. Falls back to the main window if no\n * window has focus.\n */\nexport function isActiveElement(element: Element): boolean {\n\treturn getActiveElement() === element;\n}\n\n/**\n * Returns true if the focused window active element is contained in\n * `ancestor`. Falls back to the main window if no window has focus.\n */\nexport function isAncestorOfActiveElement(ancestor: Element): boolean {\n\treturn isAncestor(getActiveElement(), ancestor);\n}\n\n/**\n * Returns whether the element is in the active `document`. The active\n * document has focus or will be the main windows document.\n */\nexport function isActiveDocument(element: Element): boolean {\n\treturn element.ownerDocument === getActiveDocument();\n}\n\n/**\n * Returns the active document across main and child windows.\n * Prefers the window with focus, otherwise falls back to\n * the main windows document.\n */\nexport function getActiveDocument(): Document {\n\tif (getWindowsCount() <= 1) {\n\t\treturn mainWindow.document;\n\t}\n\n\tconst documents = Array.from(getWindows()).map(({ window }) => window.document);\n\treturn documents.find(doc => doc.hasFocus()) ?? mainWindow.document;\n}\n\n/**\n * Returns the active window across main and child windows.\n * Prefers the window with focus, otherwise falls back to\n * the main window.\n */\nexport function getActiveWindow(): CodeWindow {\n\tconst document = getActiveDocument();\n\treturn (document.defaultView?.window ?? mainWindow) as CodeWindow;\n}\n\ninterface IMutationObserver {\n\tusers: number;\n\treadonly observer: MutationObserver;\n\treadonly onDidMutate: event.Event<MutationRecord[]>;\n}\n\nexport const sharedMutationObserver = new class {\n\n\treadonly mutationObservers = new Map<Node, Map<number, IMutationObserver>>();\n\n\tobserve(target: Node, disposables: DisposableStore, options?: MutationObserverInit): event.Event<MutationRecord[]> {\n\t\tlet mutationObserversPerTarget = this.mutationObservers.get(target);\n\t\tif (!mutationObserversPerTarget) {\n\t\t\tmutationObserversPerTarget = new Map<number, IMutationObserver>();\n\t\t\tthis.mutationObservers.set(target, mutationObserversPerTarget);\n\t\t}\n\n\t\tconst optionsHash = hash(options);\n\t\tlet mutationObserverPerOptions = mutationObserversPerTarget.get(optionsHash);\n\t\tif (!mutationObserverPerOptions) {\n\t\t\tconst onDidMutate = new event.Emitter<MutationRecord[]>();\n\t\t\tconst observer = new MutationObserver(mutations => onDidMutate.fire(mutations));\n\t\t\tobserver.observe(target, options);\n\n\t\t\tconst resolvedMutationObserverPerOptions = mutationObserverPerOptions = {\n\t\t\t\tusers: 1,\n\t\t\t\tobserver,\n\t\t\t\tonDidMutate: onDidMutate.event\n\t\t\t};\n\n\t\t\tdisposables.add(toDisposable(() => {\n\t\t\t\tresolvedMutationObserverPerOptions.users -= 1;\n\n\t\t\t\tif (resolvedMutationObserverPerOptions.users === 0) {\n\t\t\t\t\tonDidMutate.dispose();\n\t\t\t\t\tobserver.disconnect();\n\n\t\t\t\t\tmutationObserversPerTarget?.delete(optionsHash);\n\t\t\t\t\tif (mutationObserversPerTarget?.size === 0) {\n\t\t\t\t\t\tthis.mutationObservers.delete(target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tmutationObserversPerTarget.set(optionsHash, mutationObserverPerOptions);\n\t\t} else {\n\t\t\tmutationObserverPerOptions.users += 1;\n\t\t}\n\n\t\treturn mutationObserverPerOptions.onDidMutate;\n\t}\n};\n\nexport function createMetaElement(container: HTMLElement = mainWindow.document.head): HTMLMetaElement {\n\treturn createHeadElement('meta', container);\n}\n\nexport function createLinkElement(container: HTMLElement = mainWindow.document.head): HTMLLinkElement {\n\treturn createHeadElement('link', container);\n}\n\nfunction createHeadElement<K extends keyof HTMLElementTagNameMap>(tagName: K, container: HTMLElement = mainWindow.document.head): HTMLElementTagNameMap[K] {\n\tconst element = document.createElement(tagName);\n\tcontainer.appendChild(element);\n\treturn element;\n}\n\nexport function isHTMLElement(e: unknown): e is HTMLElement {\n\t \n\treturn e instanceof HTMLElement || e instanceof getWindow(e as Node).HTMLElement;\n}\n\nexport function isHTMLAnchorElement(e: unknown): e is HTMLAnchorElement {\n\t \n\treturn e instanceof HTMLAnchorElement || e instanceof getWindow(e as Node).HTMLAnchorElement;\n}\n\nexport function isHTMLSpanElement(e: unknown): e is HTMLSpanElement {\n\t \n\treturn e instanceof HTMLSpanElement || e instanceof getWindow(e as Node).HTMLSpanElement;\n}\n\nexport function isHTMLTextAreaElement(e: unknown): e is HTMLTextAreaElement {\n\t \n\treturn e instanceof HTMLTextAreaElement || e instanceof getWindow(e as Node).HTMLTextAreaElement;\n}\n\nexport function isHTMLInputElement(e: unknown): e is HTMLInputElement {\n\t \n\treturn e instanceof HTMLInputElement || e instanceof getWindow(e as Node).HTMLInputElement;\n}\n\nexport function isHTMLButtonElement(e: unknown): e is HTMLButtonElement {\n\t \n\treturn e instanceof HTMLButtonElement || e instanceof getWindow(e as Node).HTMLButtonElement;\n}\n\nexport function isHTMLDivElement(e: unknown): e is HTMLDivElement {\n\t \n\treturn e instanceof HTMLDivElement || e instanceof getWindow(e as Node).HTMLDivElement;\n}\n\nexport function isSVGElement(e: unknown): e is SVGElement {\n\t \n\treturn e instanceof SVGElement || e instanceof getWindow(e as Node).SVGElement;\n}\n\nexport function isMouseEvent(e: unknown): e is MouseEvent {\n\t// eslint-disable-next-line no-restricted-syntax\n\treturn e instanceof MouseEvent || e instanceof getWindow(e as UIEvent).MouseEvent;\n}\n\nexport function isKeyboardEvent(e: unknown): e is KeyboardEvent {\n\t \n\treturn e instanceof KeyboardEvent || e instanceof getWindow(e as UIEvent).KeyboardEvent;\n}\n\nexport function isPointerEvent(e: unknown): e is PointerEvent {\n\t \n\treturn e instanceof PointerEvent || e instanceof getWindow(e as UIEvent).PointerEvent;\n}\n\nexport function isDragEvent(e: unknown): e is DragEvent {\n\t \n\treturn e instanceof DragEvent || e instanceof getWindow(e as UIEvent).DragEvent;\n}\n\nexport const EventType = {\n\t// Mouse\n\tCLICK: 'click',\n\tAUXCLICK: 'auxclick',\n\tDBLCLICK: 'dblclick',\n\tMOUSE_UP: 'mouseup',\n\tMOUSE_DOWN: 'mousedown',\n\tMOUSE_OVER: 'mouseover',\n\tMOUSE_MOVE: 'mousemove',\n\tMOUSE_OUT: 'mouseout',\n\tMOUSE_ENTER: 'mouseenter',\n\tMOUSE_LEAVE: 'mouseleave',\n\tMOUSE_WHEEL: 'wheel',\n\tPOINTER_UP: 'pointerup',\n\tPOINTER_DOWN: 'pointerdown',\n\tPOINTER_MOVE: 'pointermove',\n\tPOINTER_LEAVE: 'pointerleave',\n\tCONTEXT_MENU: 'contextmenu',\n\tWHEEL: 'wheel',\n\t// Keyboard\n\tKEY_DOWN: 'keydown',\n\tKEY_PRESS: 'keypress',\n\tKEY_UP: 'keyup',\n\t// HTML Document\n\tLOAD: 'load',\n\tBEFORE_UNLOAD: 'beforeunload',\n\tUNLOAD: 'unload',\n\tPAGE_SHOW: 'pageshow',\n\tPAGE_HIDE: 'pagehide',\n\tPASTE: 'paste',\n\tABORT: 'abort',\n\tERROR: 'error',\n\tRESIZE: 'resize',\n\tSCROLL: 'scroll',\n\tFULLSCREEN_CHANGE: 'fullscreenchange',\n\tWK_FULLSCREEN_CHANGE: 'webkitfullscreenchange',\n\t// Form\n\tSELECT: 'select',\n\tCHANGE: 'change',\n\tSUBMIT: 'submit',\n\tRESET: 'reset',\n\tFOCUS: 'focus',\n\tFOCUS_IN: 'focusin',\n\tFOCUS_OUT: 'focusout',\n\tBLUR: 'blur',\n\tINPUT: 'input',\n\t// Local Storage\n\tSTORAGE: 'storage',\n\t// Drag\n\tDRAG_START: 'dragstart',\n\tDRAG: 'drag',\n\tDRAG_ENTER: 'dragenter',\n\tDRAG_LEAVE: 'dragleave',\n\tDRAG_OVER: 'dragover',\n\tDROP: 'drop',\n\tDRAG_END: 'dragend',\n\t// Animation\n\tANIMATION_START: browser.isWebKit ? 'webkitAnimationStart' : 'animationstart',\n\tANIMATION_END: browser.isWebKit ? 'webkitAnimationEnd' : 'animationend',\n\tANIMATION_ITERATION: browser.isWebKit ? 'webkitAnimationIteration' : 'animationiteration'\n} as const;\n\nexport interface EventLike {\n\tpreventDefault(): void;\n\tstopPropagation(): void;\n}\n\nexport function isEventLike(obj: unknown): obj is EventLike {\n\tconst candidate = obj as EventLike | undefined;\n\n\treturn !!(candidate && typeof candidate.preventDefault === 'function' && typeof candidate.stopPropagation === 'function');\n}\n\nexport const EventHelper = {\n\tstop: <T extends EventLike>(e: T, cancelBubble?: boolean): T => {\n\t\te.preventDefault();\n\t\tif (cancelBubble) {\n\t\t\te.stopPropagation();\n\t\t}\n\t\treturn e;\n\t}\n};\n\nexport interface IFocusTracker extends Disposable {\n\treadonly onDidFocus: event.Event<void>;\n\treadonly onDidBlur: event.Event<void>;\n\trefreshState(): void;\n}\n\nexport function saveParentsScrollTop(node: Element): number[] {\n\tconst r: number[] = [];\n\tfor (let i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\n\t\tr[i] = node.scrollTop;\n\t\tnode = <Element>node.parentNode;\n\t}\n\treturn r;\n}\n\nexport function restoreParentsScrollTop(node: Element, state: number[]): void {\n\tfor (let i = 0; node && node.nodeType === node.ELEMENT_NODE; i++) {\n\t\tif (node.scrollTop !== state[i]) {\n\t\t\tnode.scrollTop = state[i];\n\t\t}\n\t\tnode = <Element>node.parentNode;\n\t}\n}\n\nclass FocusTracker extends Disposable implements IFocusTracker {\n\n\tprivate readonly _onDidFocus = this._register(new event.Emitter<void>());\n\tget onDidFocus() { return this._onDidFocus.event; }\n\n\tprivate readonly _onDidBlur = this._register(new event.Emitter<void>());\n\tget onDidBlur() { return this._onDidBlur.event; }\n\n\tprivate _refreshStateHandler: () => void;\n\n\tprivate static hasFocusWithin(element: HTMLElement | Window): boolean {\n\t\tif (isHTMLElement(element)) {\n\t\t\tconst shadowRoot = getShadowRoot(element);\n\t\t\tconst activeElement = (shadowRoot ? shadowRoot.activeElement : element.ownerDocument.activeElement);\n\t\t\treturn isAncestor(activeElement, element);\n\t\t} else {\n\t\t\tconst window = element;\n\t\t\treturn isAncestor(window.document.activeElement, window.document);\n\t\t}\n\t}\n\n\tconstructor(element: HTMLElement | Window) {\n\t\tsuper();\n\t\tlet hasFocus = FocusTracker.hasFocusWithin(element);\n\t\tlet loosingFocus = false;\n\n\t\tconst onFocus = () => {\n\t\t\tloosingFocus = false;\n\t\t\tif (!hasFocus) {\n\t\t\t\thasFocus = true;\n\t\t\t\tthis._onDidFocus.fire();\n\t\t\t}\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tif (hasFocus) {\n\t\t\t\tloosingFocus = true;\n\t\t\t\t(isHTMLElement(element) ? getWindow(element) : element).setTimeout(() => {\n\t\t\t\t\tif (loosingFocus) {\n\t\t\t\t\t\tloosingFocus = false;\n\t\t\t\t\t\thasFocus = false;\n\t\t\t\t\t\tthis._onDidBlur.fire();\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t};\n\n\t\tthis._refreshStateHandler = () => {\n\t\t\tconst currentNodeHasFocus = FocusTracker.hasFocusWithin(<HTMLElement>element);\n\t\t\tif (currentNodeHasFocus !== hasFocus) {\n\t\t\t\tif (hasFocus) {\n\t\t\t\t\tonBlur();\n\t\t\t\t} else {\n\t\t\t\t\tonFocus();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis._register(addDisposableListener(element, EventType.FOCUS, onFocus, true));\n\t\tthis._register(addDisposableListener(element, EventType.BLUR, onBlur, true));\n\t\tif (isHTMLElement(element)) {\n\t\t\tthis._register(addDisposableListener(element, EventType.FOCUS_IN, () => this._refreshStateHandler()));\n\t\t\tthis._register(addDisposableListener(element, EventType.FOCUS_OUT, () => this._refreshStateHandler()));\n\t\t}\n\n\t}\n\n\trefreshState() {\n\t\tthis._refreshStateHandler();\n\t}\n}\n\n/**\n * Creates a new `IFocusTracker` instance that tracks focus changes on the given `element` and its descendants.\n *\n * @param element The `HTMLElement` or `Window` to track focus changes on.\n * @returns An `IFocusTracker` instance.\n */\nexport function trackFocus(element: HTMLElement | Window): IFocusTracker {\n\treturn new FocusTracker(element);\n}\n\nexport function after<T extends Node>(sibling: HTMLElement, child: T): T {\n\tsibling.after(child);\n\treturn child;\n}\n\nexport function append<T extends Node>(parent: HTMLElement, child: T): T;\nexport function append<T extends Node>(parent: HTMLElement, ...children: (T | string)[]): void;\nexport function append<T extends Node>(parent: HTMLElement, ...children: (T | string)[]): T | void {\n\tparent.append(...children);\n\tif (children.length === 1 && typeof children[0] !== 'string') {\n\t\treturn children[0];\n\t}\n}\n\nexport function prepend<T extends Node>(parent: HTMLElement, child: T): T {\n\tparent.insertBefore(child, parent.firstChild);\n\treturn child;\n}\n\n/**\n * Removes all children from `parent` and appends `children`\n */\nexport function reset(parent: HTMLElement, ...children: Array<Node | string>): void {\n\tparent.textContent = '';\n\tappend(parent, ...children);\n}\n\nconst SELECTOR_REGEX = /([\\w\\-]+)?(#([\\w\\-]+))?((\\.([\\w\\-]+))*)/;\n\nexport enum Namespace {\n\tHTML = 'http://www.w3.org/1999/xhtml',\n\tSVG = 'http://www.w3.org/2000/svg'\n}\n\nfunction _$<T extends Element>(namespace: Namespace, description: string, attrs?: { [key: string]: any }, ...children: Array<Node | string>): T {\n\tconst match = SELECTOR_REGEX.exec(description);\n\n\tif (!match) {\n\t\tthrow new Error('Bad use of emmet');\n\t}\n\n\tconst tagName = match[1] || 'div';\n\tlet result: T;\n\n\tif (namespace !== Namespace.HTML) {\n\t\tresult = document.createElementNS(namespace as string, tagName) as T;\n\t} else {\n\t\tresult = document.createElement(tagName) as unknown as T;\n\t}\n\n\tif (match[3]) {\n\t\tresult.id = match[3];\n\t}\n\tif (match[4]) {\n\t\tresult.className = match[4].replace(/\\./g, ' ').trim();\n\t}\n\n\tif (attrs) {\n\t\tObject.entries(attrs).forEach(([name, value]) => {\n\t\t\tif (typeof value === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/^on\\w+$/.test(name)) {\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t(<any>result)[name] = value;\n\t\t\t} else if (name === 'selected') {\n\t\t\t\tif (value) {\n\t\t\t\t\tresult.setAttribute(name, 'true');\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tresult.setAttribute(name, value);\n\t\t\t}\n\t\t});\n\t}\n\n\tresult.append(...children);\n\n\treturn result;\n}\n\nexport function $<T extends HTMLElement>(description: string, attrs?: { [key: string]: any }, ...children: Array<Node | string>): T {\n\treturn _$(Namespace.HTML, description, attrs, ...children);\n}\n\n$.SVG = function <T extends SVGElement>(description: string, attrs?: { [key: string]: any }, ...children: Array<Node | string>): T {\n\treturn _$(Namespace.SVG, description, attrs, ...children);\n};\n\nexport function join(nodes: Node[], separator: Node | string): Node[] {\n\tconst result: Node[] = [];\n\n\tnodes.forEach((node, index) => {\n\t\tif (index > 0) {\n\t\t\tif (separator instanceof Node) {\n\t\t\t\tresult.push(separator.cloneNode());\n\t\t\t} else {\n\t\t\t\tresult.push(document.createTextNode(separator));\n\t\t\t}\n\t\t}\n\n\t\tresult.push(node);\n\t});\n\n\treturn result;\n}\n\nexport function setVisibility(visible: boolean, ...elements: HTMLElement[]): void {\n\tif (visible) {\n\t\tshow(...elements);\n\t} else {\n\t\thide(...elements);\n\t}\n}\n\nexport function show(...elements: HTMLElement[]): void {\n\tfor (const element of elements) {\n\t\telement.style.display = '';\n\t\telement.removeAttribute('aria-hidden');\n\t}\n}\n\nexport function hide(...elements: HTMLElement[]): void {\n\tfor (const element of elements) {\n\t\telement.style.display = 'none';\n\t\telement.setAttribute('aria-hidden', 'true');\n\t}\n}\n\nfunction findParentWithAttribute(node: Node | null, attribute: string): HTMLElement | null {\n\twhile (node && node.nodeType === node.ELEMENT_NODE) {\n\t\tif (isHTMLElement(node) && node.hasAttribute(attribute)) {\n\t\t\treturn node;\n\t\t}\n\n\t\tnode = node.parentNode;\n\t}\n\n\treturn null;\n}\n\nexport function removeTabIndexAndUpdateFocus(node: HTMLElement): void {\n\tif (!node || !node.hasAttribute('tabIndex')) {\n\t\treturn;\n\t}\n\n\t// If we are the currently focused element and tabIndex is removed,\n\t// standard DOM behavior is to move focus to the <body> element. We\n\t// typically never want that, rather put focus to the closest element\n\t// in the hierarchy of the parent DOM nodes.\n\tif (node.ownerDocument.activeElement === node) {\n\t\tconst parentFocusable = findParentWithAttribute(node.parentElement, 'tabIndex');\n\t\tparentFocusable?.focus();\n\t}\n\n\tnode.removeAttribute('tabindex');\n}\n\nexport function finalHandler<T extends Event>(fn: (event: T) => unknown): (event: T) => unknown {\n\treturn e => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tfn(e);\n\t};\n}\n\nexport function domContentLoaded(targetWindow: Window): Promise<void> {\n\treturn new Promise<void>(resolve => {\n\t\tconst readyState = targetWindow.document.readyState;\n\t\tif (readyState === 'complete' || (targetWindow.document && targetWindow.document.body !== null)) {\n\t\t\tresolve(undefined);\n\t\t} else {\n\t\t\tconst listener = () => {\n\t\t\t\ttargetWindow.window.removeEventListener('DOMContentLoaded', listener, false);\n\t\t\t\tresolve();\n\t\t\t};\n\n\t\t\ttargetWindow.window.addEventListener('DOMContentLoaded', listener, false);\n\t\t}\n\t});\n}\n\n/**\n * Find a value usable for a dom node size such that the likelihood that it would be\n * displayed with constant screen pixels size is as high as possible.\n *\n * e.g. We would desire for the cursors to be 2px (CSS px) wide. Under a devicePixelRatio\n * of 1.25, the cursor will be 2.5 screen pixels wide. Depending on how the dom node aligns/\"snaps\"\n * with the screen pixels, it will sometimes be rendered with 2 screen pixels, and sometimes with 3 screen pixels.\n */\nexport function computeScreenAwareSize(window: Window, cssPx: number): number {\n\tconst screenPx = window.devicePixelRatio * cssPx;\n\treturn Math.max(1, Math.floor(screenPx)) / window.devicePixelRatio;\n}\n\n/**\n * Open safely a new window. This is the best way to do so, but you cannot tell\n * if the window was opened or if it was blocked by the browser's popup blocker.\n * If you want to tell if the browser blocked the new window, use {@link windowOpenWithSuccess}.\n *\n * See https://github.com/microsoft/monaco-editor/issues/601\n * To protect against malicious code in the linked site, particularly phishing attempts,\n * the window.opener should be set to null to prevent the linked site from having access\n * to change the location of the current page.\n * See https://mathiasbynens.github.io/rel-noopener/\n */\nexport function windowOpenNoOpener(url: string): void {\n\t// By using 'noopener' in the `windowFeatures` argument, the newly created window will\n\t// not be able to use `window.opener` to reach back to the current page.\n\t// See https://stackoverflow.com/a/46958731\n\t// See https://developer.mozilla.org/en-US/docs/Web/API/Window/open#noopener\n\t// However, this also doesn't allow us to realize if the browser blocked\n\t// the creation of the window.\n\tmainWindow.open(url, '_blank', 'noopener');\n}\n\n/**\n * Open a new window in a popup. This is the best way to do so, but you cannot tell\n * if the window was opened or if it was blocked by the browser's popup blocker.\n * If you want to tell if the browser blocked the new window, use {@link windowOpenWithSuccess}.\n *\n * Note: this does not set {@link window.opener} to null. This is to allow the opened popup to\n * be able to use {@link window.close} to close itself. Because of this, you should only use\n * this function on urls that you trust.\n *\n * In otherwords, you should almost always use {@link windowOpenNoOpener} instead of this function.\n */\nconst popupWidth = 780, popupHeight = 640;\nexport function windowOpenPopup(url: string): void {\n\tconst left = Math.floor(mainWindow.screenLeft + mainWindow.innerWidth / 2 - popupWidth / 2);\n\tconst top = Math.floor(mainWindow.screenTop + mainWindow.innerHeight / 2 - popupHeight / 2);\n\tmainWindow.open(\n\t\turl,\n\t\t'_blank',\n\t\t`width=${popupWidth},height=${popupHeight},top=${top},left=${left}`\n\t);\n}\n\n/**\n * Attempts to open a window and returns whether it succeeded. This technique is\n * not appropriate in certain contexts, like for example when the JS context is\n * executing inside a sandboxed iframe. If it is not necessary to know if the\n * browser blocked the new window, use {@link windowOpenNoOpener}.\n *\n * See https://github.com/microsoft/monaco-editor/issues/601\n * See https://github.com/microsoft/monaco-editor/issues/2474\n * See https://mathiasbynens.github.io/rel-noopener/\n *\n * @param url the url to open\n * @param noOpener whether or not to set the {@link window.opener} to null. You should leave the default\n * (true) unless you trust the url that is being opened.\n * @returns boolean indicating if the {@link window.open} call succeeded\n */\nexport function windowOpenWithSuccess(url: string, noOpener = true): boolean {\n\tconst newTab = mainWindow.open();\n\tif (newTab) {\n\t\tif (noOpener) {\n\t\t\t// see `windowOpenNoOpener` for details on why this is important\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t(newTab as any).opener = null;\n\t\t}\n\t\tnewTab.location.href = url;\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport function animate(targetWindow: Window, fn: () => void): IDisposable {\n\tconst step = () => {\n\t\tfn();\n\t\tstepDisposable = scheduleAtNextAnimationFrame(targetWindow, step);\n\t};\n\n\tlet stepDisposable = scheduleAtNextAnimationFrame(targetWindow, step);\n\treturn toDisposable(() => stepDisposable.dispose());\n}\n\nRemoteAuthorities.setPreferredWebSchema(/^https:/.test(mainWindow.location.href) ? 'https' : 'http');\n\nexport function triggerDownload(dataOrUri: Uint8Array | URI, name: string): void {\n\n\t// If the data is provided as Buffer, we create a\n\t// blob URL out of it to produce a valid link\n\tlet url: string;\n\tif (URI.isUri(dataOrUri)) {\n\t\turl = dataOrUri.toString(true);\n\t} else {\n\t\tconst blob = new Blob([dataOrUri as Uint8Array<ArrayBuffer>]);\n\t\turl = URL.createObjectURL(blob);\n\n\t\t// Ensure to free the data from DOM eventually\n\t\tsetTimeout(() => URL.revokeObjectURL(url));\n\t}\n\n\t// In order to download from the browser, the only way seems\n\t// to be creating a <a> element with download attribute that\n\t// points to the file to download.\n\t// See also https://developers.google.com/web/updates/2011/08/Downloading-resources-in-HTML5-a-download\n\tconst activeWindow = getActiveWindow();\n\tconst anchor = document.createElement('a');\n\tactiveWindow.document.body.appendChild(anchor);\n\tanchor.download = name;\n\tanchor.href = url;\n\tanchor.click();\n\n\t// Ensure to remove the element from DOM eventually\n\tsetTimeout(() => anchor.remove());\n}\n\nexport function triggerUpload(): Promise<FileList | undefined> {\n\treturn new Promise<FileList | undefined>(resolve => {\n\n\t\t// In order to upload to the browser, create a\n\t\t// input element of type `file` and click it\n\t\t// to gather the selected files\n\t\tconst activeWindow = getActiveWindow();\n\t\tconst input = document.createElement('input');\n\t\tactiveWindow.document.body.appendChild(input);\n\t\tinput.type = 'file';\n\t\tinput.multiple = true;\n\n\t\t// Resolve once the input event has fired once\n\t\tevent.Event.once(event.Event.fromDOMEventEmitter(input, 'input'))(() => {\n\t\t\tresolve(input.files ?? undefined);\n\t\t});\n\n\t\tinput.click();\n\n\t\t// Ensure to remove the element from DOM eventually\n\t\tsetTimeout(() => input.remove());\n\t});\n}\n\nexport interface INotification extends IDisposable {\n\treadonly onClick: event.Event<void>;\n}\n\nfunction sanitizeNotificationText(text: string): string {\n\treturn text.replace(/`/g, '\\''); // convert backticks to single quotes\n}\n\nexport async function triggerNotification(message: string, options?: { detail?: string; sticky?: boolean }): Promise<INotification | undefined> {\n\tconst permission = await Notification.requestPermission();\n\tif (permission !== 'granted') {\n\t\treturn;\n\t}\n\n\tconst disposables = new DisposableStore();\n\n\tconst notification = new Notification(sanitizeNotificationText(message), {\n\t\tbody: options?.detail ? sanitizeNotificationText(options.detail) : undefined,\n\t\trequireInteraction: options?.sticky,\n\t});\n\n\tconst onClick = new event.Emitter<void>();\n\tdisposables.add(addDisposableListener(notification, 'click', () => onClick.fire()));\n\tdisposables.add(addDisposableListener(notification, 'close', () => disposables.dispose()));\n\n\tdisposables.add(toDisposable(() => notification.close()));\n\n\treturn {\n\t\tonClick: onClick.event,\n\t\tdispose: () => disposables.dispose()\n\t};\n}\n\nexport enum DetectedFullscreenMode {\n\n\t/**\n\t * The document is fullscreen, e.g. because an element\n\t * in the document requested to be fullscreen.\n\t */\n\tDOCUMENT = 1,\n\n\t/**\n\t * The browser is fullscreen, e.g. because the user enabled\n\t * native window fullscreen for it.\n\t */\n\tBROWSER\n}\n\nexport interface IDetectedFullscreen {\n\n\t/**\n\t * Figure out if the document is fullscreen or the browser.\n\t */\n\tmode: DetectedFullscreenMode;\n\n\t/**\n\t * Whether we know for sure that we are in fullscreen mode or\n\t * it is a guess.\n\t */\n\tguess: boolean;\n}\n\nexport function detectFullscreen(targetWindow: Window): IDetectedFullscreen | null {\n\n\t// Browser fullscreen: use DOM APIs to detect\n\t// eslint-disable-next-line local/code-no-any-casts\n\tif (targetWindow.document.fullscreenElement || (<any>targetWindow.document).webkitFullscreenElement || (<any>targetWindow.document).webkitIsFullScreen) {\n\t\treturn { mode: DetectedFullscreenMode.DOCUMENT, guess: false };\n\t}\n\n\t// There is no standard way to figure out if the browser\n\t// is using native fullscreen. Via checking on screen\n\t// height and comparing that to window height, we can guess\n\t// it though.\n\n\tif (targetWindow.innerHeight === targetWindow.screen.height) {\n\t\t// if the height of the window matches the screen height, we can\n\t\t// safely assume that the browser is fullscreen because no browser\n\t\t// chrome is taking height away (e.g. like toolbars).\n\t\treturn { mode: DetectedFullscreenMode.BROWSER, guess: false };\n\t}\n\n\tif (platform.isMacintosh || platform.isLinux) {\n\t\t// macOS and Linux do not properly report `innerHeight`, only Windows does\n\t\tif (targetWindow.outerHeight === targetWindow.screen.height && targetWindow.outerWidth === targetWindow.screen.width) {\n\t\t\t// if the height of the browser matches the screen height, we can\n\t\t\t// only guess that we are in fullscreen. It is also possible that\n\t\t\t// the user has turned off taskbars in the OS and the browser is\n\t\t\t// simply able to span the entire size of the screen.\n\t\t\treturn { mode: DetectedFullscreenMode.BROWSER, guess: true };\n\t\t}\n\t}\n\n\t// Not in fullscreen\n\treturn null;\n}\n\ntype ModifierKey = 'alt' | 'ctrl' | 'shift' | 'meta';\n\nexport interface IModifierKeyStatus {\n\taltKey: boolean;\n\tshiftKey: boolean;\n\tctrlKey: boolean;\n\tmetaKey: boolean;\n\tlastKeyPressed?: ModifierKey;\n\tlastKeyReleased?: ModifierKey;\n\tevent?: KeyboardEvent;\n}\n\nexport class ModifierKeyEmitter extends event.Emitter<IModifierKeyStatus> {\n\n\tprivate readonly _subscriptions = new DisposableStore();\n\tprivate _keyStatus: IModifierKeyStatus;\n\tprivate static instance: ModifierKeyEmitter | undefined;\n\n\tprivate constructor() {\n\t\tsuper();\n\n\t\tthis._keyStatus = {\n\t\t\taltKey: false,\n\t\t\tshiftKey: false,\n\t\t\tctrlKey: false,\n\t\t\tmetaKey: false\n\t\t};\n\n\t\tthis._subscriptions.add(event.Event.runAndSubscribe(onDidRegisterWindow, ({ window, disposables }) => this.registerListeners(window, disposables), { window: mainWindow, disposables: this._subscriptions }));\n\t}\n\n\tprivate registerListeners(window: Window, disposables: DisposableStore): void {\n\t\tdisposables.add(addDisposableListener(window, 'keydown', e => {\n\t\t\tif (e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t// If Alt-key keydown event is repeated, ignore it #112347\n\t\t\t// Only known to be necessary for Alt-Key at the moment #115810\n\t\t\tif (event.keyCode === KeyCode.Alt && e.repeat) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.altKey && !this._keyStatus.altKey) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = 'alt';\n\t\t\t} else if (e.ctrlKey && !this._keyStatus.ctrlKey) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = 'ctrl';\n\t\t\t} else if (e.metaKey && !this._keyStatus.metaKey) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = 'meta';\n\t\t\t} else if (e.shiftKey && !this._keyStatus.shiftKey) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = 'shift';\n\t\t\t} else if (event.keyCode !== KeyCode.Alt) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = undefined;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._keyStatus.altKey = e.altKey;\n\t\t\tthis._keyStatus.ctrlKey = e.ctrlKey;\n\t\t\tthis._keyStatus.metaKey = e.metaKey;\n\t\t\tthis._keyStatus.shiftKey = e.shiftKey;\n\n\t\t\tif (this._keyStatus.lastKeyPressed) {\n\t\t\t\tthis._keyStatus.event = e;\n\t\t\t\tthis.fire(this._keyStatus);\n\t\t\t}\n\t\t}, true));\n\n\t\tdisposables.add(addDisposableListener(window, 'keyup', e => {\n\t\t\tif (e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!e.altKey && this._keyStatus.altKey) {\n\t\t\t\tthis._keyStatus.lastKeyReleased = 'alt';\n\t\t\t} else if (!e.ctrlKey && this._keyStatus.ctrlKey) {\n\t\t\t\tthis._keyStatus.lastKeyReleased = 'ctrl';\n\t\t\t} else if (!e.metaKey && this._keyStatus.metaKey) {\n\t\t\t\tthis._keyStatus.lastKeyReleased = 'meta';\n\t\t\t} else if (!e.shiftKey && this._keyStatus.shiftKey) {\n\t\t\t\tthis._keyStatus.lastKeyReleased = 'shift';\n\t\t\t} else {\n\t\t\t\tthis._keyStatus.lastKeyReleased = undefined;\n\t\t\t}\n\n\t\t\tif (this._keyStatus.lastKeyPressed !== this._keyStatus.lastKeyReleased) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = undefined;\n\t\t\t}\n\n\t\t\tthis._keyStatus.altKey = e.altKey;\n\t\t\tthis._keyStatus.ctrlKey = e.ctrlKey;\n\t\t\tthis._keyStatus.metaKey = e.metaKey;\n\t\t\tthis._keyStatus.shiftKey = e.shiftKey;\n\n\t\t\tif (this._keyStatus.lastKeyReleased) {\n\t\t\t\tthis._keyStatus.event = e;\n\t\t\t\tthis.fire(this._keyStatus);\n\t\t\t}\n\t\t}, true));\n\n\t\tdisposables.add(addDisposableListener(window.document.body, 'mousedown', () => {\n\t\t\tthis._keyStatus.lastKeyPressed = undefined;\n\t\t}, true));\n\n\t\tdisposables.add(addDisposableListener(window.document.body, 'mouseup', () => {\n\t\t\tthis._keyStatus.lastKeyPressed = undefined;\n\t\t}, true));\n\n\t\tdisposables.add(addDisposableListener(window.document.body, 'mousemove', e => {\n\t\t\tif (e.buttons) {\n\t\t\t\tthis._keyStatus.lastKeyPressed = undefined;\n\t\t\t}\n\t\t}, true));\n\n\t\tdisposables.add(addDisposableListener(window, 'blur', () => {\n\t\t\tthis.resetKeyStatus();\n\t\t}));\n\t}\n\n\tget keyStatus(): IModifierKeyStatus {\n\t\treturn this._keyStatus;\n\t}\n\n\tget isModifierPressed(): boolean {\n\t\treturn hasModifierKeys(this._keyStatus);\n\t}\n\n\t/**\n\t * Allows to explicitly reset the key status based on more knowledge (#109062)\n\t */\n\tresetKeyStatus(): void {\n\t\tthis.doResetKeyStatus();\n\t\tthis.fire(this._keyStatus);\n\t}\n\n\tprivate doResetKeyStatus(): void {\n\t\tthis._keyStatus = {\n\t\t\taltKey: false,\n\t\t\tshiftKey: false,\n\t\t\tctrlKey: false,\n\t\t\tmetaKey: false\n\t\t};\n\t}\n\n\tstatic getInstance() {\n\t\tif (!ModifierKeyEmitter.instance) {\n\t\t\tModifierKeyEmitter.instance = new ModifierKeyEmitter();\n\t\t}\n\n\t\treturn ModifierKeyEmitter.instance;\n\t}\n\n\tstatic disposeInstance() {\n\t\tif (ModifierKeyEmitter.instance) {\n\t\t\tModifierKeyEmitter.instance.dispose();\n\t\t\tModifierKeyEmitter.instance = undefined;\n\t\t}\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\t\tthis._subscriptions.dispose();\n\t}\n}\n\nexport function getCookieValue(name: string): string | undefined {\n\tconst match = document.cookie.match('(^|[^;]+)\\\\s*' + name + '\\\\s*=\\\\s*([^;]+)'); // See https://stackoverflow.com/a/25490531\n\n\treturn match ? match.pop() : undefined;\n}\n\nexport interface IDragAndDropObserverCallbacks {\n\treadonly onDragEnter?: (e: DragEvent) => void;\n\treadonly onDragLeave?: (e: DragEvent) => void;\n\treadonly onDrop?: (e: DragEvent) => void;\n\treadonly onDragEnd?: (e: DragEvent) => void;\n\treadonly onDragStart?: (e: DragEvent) => void;\n\treadonly onDrag?: (e: DragEvent) => void;\n\treadonly onDragOver?: (e: DragEvent, dragDuration: number) => void;\n}\n\nexport class DragAndDropObserver extends Disposable {\n\n\t// A helper to fix issues with repeated DRAG_ENTER / DRAG_LEAVE\n\t// calls see https://github.com/microsoft/vscode/issues/14470\n\t// when the element has child elements where the events are fired\n\t// repeadedly.\n\tprivate counter: number = 0;\n\n\t// Allows to measure the duration of the drag operation.\n\tprivate dragStartTime = 0;\n\n\tconstructor(private readonly element: HTMLElement, private readonly callbacks: IDragAndDropObserverCallbacks) {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tif (this.callbacks.onDragStart) {\n\t\t\tthis._register(addDisposableListener(this.element, EventType.DRAG_START, (e: DragEvent) => {\n\t\t\t\tthis.callbacks.onDragStart?.(e);\n\t\t\t}));\n\t\t}\n\n\t\tif (this.callbacks.onDrag) {\n\t\t\tthis._register(addDisposableListener(this.element, EventType.DRAG, (e: DragEvent) => {\n\t\t\t\tthis.callbacks.onDrag?.(e);\n\t\t\t}));\n\t\t}\n\n\t\tthis._register(addDisposableListener(this.element, EventType.DRAG_ENTER, (e: DragEvent) => {\n\t\t\tthis.counter++;\n\t\t\tthis.dragStartTime = e.timeStamp;\n\n\t\t\tthis.callbacks.onDragEnter?.(e);\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.element, EventType.DRAG_OVER, (e: DragEvent) => {\n\t\t\te.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)\n\n\t\t\tthis.callbacks.onDragOver?.(e, e.timeStamp - this.dragStartTime);\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.element, EventType.DRAG_LEAVE, (e: DragEvent) => {\n\t\t\tthis.counter--;\n\n\t\t\tif (this.counter === 0) {\n\t\t\t\tthis.dragStartTime = 0;\n\n\t\t\t\tthis.callbacks.onDragLeave?.(e);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.element, EventType.DRAG_END, (e: DragEvent) => {\n\t\t\tthis.counter = 0;\n\t\t\tthis.dragStartTime = 0;\n\n\t\t\tthis.callbacks.onDragEnd?.(e);\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.element, EventType.DROP, (e: DragEvent) => {\n\t\t\tthis.counter = 0;\n\t\t\tthis.dragStartTime = 0;\n\n\t\t\tthis.callbacks.onDrop?.(e);\n\t\t}));\n\t}\n}\n\ntype HTMLElementAttributeKeys<T> = Partial<{ [K in keyof T]: T[K] extends Function ? never : T[K] extends object ? HTMLElementAttributeKeys<T[K]> : T[K] }>;\ntype ElementAttributes<T> = HTMLElementAttributeKeys<T> & Record<string, any>;\ntype RemoveHTMLElement<T> = T extends HTMLElement ? never : T;\ntype UnionToIntersection<U> = (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never;\ntype ArrayToObj<T extends readonly any[]> = UnionToIntersection<RemoveHTMLElement<T[number]>>;\ntype HHTMLElementTagNameMap = HTMLElementTagNameMap & { '': HTMLDivElement };\n\ntype TagToElement<T> = T extends `${infer TStart}#${string}`\n\t? TStart extends keyof HHTMLElementTagNameMap\n\t? HHTMLElementTagNameMap[TStart]\n\t: HTMLElement\n\t: T extends `${infer TStart}.${string}`\n\t? TStart extends keyof HHTMLElementTagNameMap\n\t? HHTMLElementTagNameMap[TStart]\n\t: HTMLElement\n\t: T extends keyof HTMLElementTagNameMap\n\t? HTMLElementTagNameMap[T]\n\t: HTMLElement;\n\ntype TagToElementAndId<TTag> = TTag extends `${infer TTag}@${infer TId}`\n\t? { element: TagToElement<TTag>; id: TId }\n\t: { element: TagToElement<TTag>; id: 'root' };\n\ntype TagToRecord<TTag> = TagToElementAndId<TTag> extends { element: infer TElement; id: infer TId }\n\t? Record<(TId extends string ? TId : never) | 'root', TElement>\n\t: never;\n\ntype Child = HTMLElement | string | Record<string, HTMLElement>;\n\nconst H_REGEX = /(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?/;\n\n/**\n * A helper function to create nested dom nodes.\n *\n *\n * ```ts\n * const elements = h('div.code-view', [\n * \th('div.title@title'),\n * \th('div.container', [\n * \t\th('div.gutter@gutterDiv'),\n * \t\th('div@editor'),\n * \t]),\n * ]);\n * const editor = createEditor(elements.editor);\n * ```\n*/\nexport function h<TTag extends string>\n\t(tag: TTag):\n\tTagToRecord<TTag> extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n\nexport function h<TTag extends string, T extends Child[]>\n\t(tag: TTag, children: [...T]):\n\t(ArrayToObj<T> & TagToRecord<TTag>) extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n\nexport function h<TTag extends string>\n\t(tag: TTag, attributes: Partial<ElementAttributes<TagToElement<TTag>>>):\n\tTagToRecord<TTag> extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n\nexport function h<TTag extends string, T extends Child[]>\n\t(tag: TTag, attributes: Partial<ElementAttributes<TagToElement<TTag>>>, children: [...T]):\n\t(ArrayToObj<T> & TagToRecord<TTag>) extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n\nexport function h(tag: string, ...args: [] | [attributes: { $: string } & Partial<ElementAttributes<HTMLElement>> | Record<string, any>, children?: any[]] | [children: any[]]): Record<string, HTMLElement> {\n\tlet attributes: { $?: string } & Partial<ElementAttributes<HTMLElement>>;\n\tlet children: (Record<string, HTMLElement> | HTMLElement)[] | undefined;\n\n\tif (Array.isArray(args[0])) {\n\t\tattributes = {};\n\t\tchildren = args[0];\n\t} else {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tattributes = args[0] as any || {};\n\t\tchildren = args[1];\n\t}\n\n\tconst match = H_REGEX.exec(tag);\n\n\tif (!match || !match.groups) {\n\t\tthrow new Error('Bad use of h');\n\t}\n\n\tconst tagName = match.groups['tag'] || 'div';\n\tconst el = document.createElement(tagName);\n\n\tif (match.groups['id']) {\n\t\tel.id = match.groups['id'];\n\t}\n\n\tconst classNames = [];\n\tif (match.groups['class']) {\n\t\tfor (const className of match.groups['class'].split('.')) {\n\t\t\tif (className !== '') {\n\t\t\t\tclassNames.push(className);\n\t\t\t}\n\t\t}\n\t}\n\tif (attributes.className !== undefined) {\n\t\tfor (const className of attributes.className.split('.')) {\n\t\t\tif (className !== '') {\n\t\t\t\tclassNames.push(className);\n\t\t\t}\n\t\t}\n\t}\n\tif (classNames.length > 0) {\n\t\tel.className = classNames.join(' ');\n\t}\n\n\tconst result: Record<string, HTMLElement> = {};\n\n\tif (match.groups['name']) {\n\t\tresult[match.groups['name']] = el;\n\t}\n\n\tif (children) {\n\t\tfor (const c of children) {\n\t\t\tif (isHTMLElement(c)) {\n\t\t\t\tel.appendChild(c);\n\t\t\t} else if (typeof c === 'string') {\n\t\t\t\tel.append(c);\n\t\t\t} else if ('root' in c) {\n\t\t\t\tObject.assign(result, c);\n\t\t\t\tel.appendChild(c.root);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (const [key, value] of Object.entries(attributes)) {\n\t\tif (key === 'className') {\n\t\t\tcontinue;\n\t\t} else if (key === 'style') {\n\t\t\tfor (const [cssKey, cssValue] of Object.entries(value)) {\n\t\t\t\tel.style.setProperty(\n\t\t\t\t\tcamelCaseToHyphenCase(cssKey),\n\t\t\t\t\ttypeof cssValue === 'number' ? cssValue + 'px' : '' + cssValue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (key === 'tabIndex') {\n\t\t\tel.tabIndex = value;\n\t\t} else {\n\t\t\tel.setAttribute(camelCaseToHyphenCase(key), value.toString());\n\t\t}\n\t}\n\n\tresult['root'] = el;\n\n\treturn result;\n}\n\n/** @deprecated This is a duplication of the h function. Needs cleanup. */\nexport function svgElem<TTag extends string>\n\t(tag: TTag):\n\tTagToRecord<TTag> extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n/** @deprecated This is a duplication of the h function. Needs cleanup. */\nexport function svgElem<TTag extends string, T extends Child[]>\n\t(tag: TTag, children: [...T]):\n\t(ArrayToObj<T> & TagToRecord<TTag>) extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n/** @deprecated This is a duplication of the h function. Needs cleanup. */\nexport function svgElem<TTag extends string>\n\t(tag: TTag, attributes: Partial<ElementAttributes<TagToElement<TTag>>>):\n\tTagToRecord<TTag> extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n/** @deprecated This is a duplication of the h function. Needs cleanup. */\nexport function svgElem<TTag extends string, T extends Child[]>\n\t(tag: TTag, attributes: Partial<ElementAttributes<TagToElement<TTag>>>, children: [...T]):\n\t(ArrayToObj<T> & TagToRecord<TTag>) extends infer Y ? { [TKey in keyof Y]: Y[TKey] } : never;\n/** @deprecated This is a duplication of the h function. Needs cleanup. */\nexport function svgElem(tag: string, ...args: [] | [attributes: { $: string } & Partial<ElementAttributes<HTMLElement>> | Record<string, any>, children?: any[]] | [children: any[]]): Record<string, HTMLElement> {\n\tlet attributes: { $?: string } & Partial<ElementAttributes<HTMLElement>>;\n\tlet children: (Record<string, HTMLElement> | HTMLElement)[] | undefined;\n\n\tif (Array.isArray(args[0])) {\n\t\tattributes = {};\n\t\tchildren = args[0];\n\t} else {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tattributes = args[0] as any || {};\n\t\tchildren = args[1];\n\t}\n\n\tconst match = H_REGEX.exec(tag);\n\n\tif (!match || !match.groups) {\n\t\tthrow new Error('Bad use of h');\n\t}\n\n\tconst tagName = match.groups['tag'] || 'div';\n\t// eslint-disable-next-line local/code-no-any-casts\n\tconst el = document.createElementNS('http://www.w3.org/2000/svg', tagName) as any as HTMLElement;\n\n\tif (match.groups['id']) {\n\t\tel.id = match.groups['id'];\n\t}\n\n\tconst classNames = [];\n\tif (match.groups['class']) {\n\t\tfor (const className of match.groups['class'].split('.')) {\n\t\t\tif (className !== '') {\n\t\t\t\tclassNames.push(className);\n\t\t\t}\n\t\t}\n\t}\n\tif (attributes.className !== undefined) {\n\t\tfor (const className of attributes.className.split('.')) {\n\t\t\tif (className !== '') {\n\t\t\t\tclassNames.push(className);\n\t\t\t}\n\t\t}\n\t}\n\tif (classNames.length > 0) {\n\t\tel.className = classNames.join(' ');\n\t}\n\n\tconst result: Record<string, HTMLElement> = {};\n\n\tif (match.groups['name']) {\n\t\tresult[match.groups['name']] = el;\n\t}\n\n\tif (children) {\n\t\tfor (const c of children) {\n\t\t\tif (isHTMLElement(c)) {\n\t\t\t\tel.appendChild(c);\n\t\t\t} else if (typeof c === 'string') {\n\t\t\t\tel.append(c);\n\t\t\t} else if ('root' in c) {\n\t\t\t\tObject.assign(result, c);\n\t\t\t\tel.appendChild(c.root);\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (const [key, value] of Object.entries(attributes)) {\n\t\tif (key === 'className') {\n\t\t\tcontinue;\n\t\t} else if (key === 'style') {\n\t\t\tfor (const [cssKey, cssValue] of Object.entries(value)) {\n\t\t\t\tel.style.setProperty(\n\t\t\t\t\tcamelCaseToHyphenCase(cssKey),\n\t\t\t\t\ttypeof cssValue === 'number' ? cssValue + 'px' : '' + cssValue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (key === 'tabIndex') {\n\t\t\tel.tabIndex = value;\n\t\t} else {\n\t\t\tel.setAttribute(camelCaseToHyphenCase(key), value.toString());\n\t\t}\n\t}\n\n\tresult['root'] = el;\n\n\treturn result;\n}\n\nfunction camelCaseToHyphenCase(str: string) {\n\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nexport function copyAttributes(from: Element, to: Element, filter?: string[]): void {\n\tfor (const { name, value } of from.attributes) {\n\t\tif (!filter || filter.includes(name)) {\n\t\t\tto.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction copyAttribute(from: Element, to: Element, name: string): void {\n\tconst value = from.getAttribute(name);\n\tif (value) {\n\t\tto.setAttribute(name, value);\n\t} else {\n\t\tto.removeAttribute(name);\n\t}\n}\n\nexport function trackAttributes(from: Element, to: Element, filter?: string[]): IDisposable {\n\tcopyAttributes(from, to, filter);\n\n\tconst disposables = new DisposableStore();\n\n\tdisposables.add(sharedMutationObserver.observe(from, disposables, { attributes: true, attributeFilter: filter })(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tif (mutation.type === 'attributes' && mutation.attributeName) {\n\t\t\t\tcopyAttribute(from, to, mutation.attributeName);\n\t\t\t}\n\t\t}\n\t}));\n\n\treturn disposables;\n}\n\nexport function isEditableElement(element: Element): boolean {\n\treturn element.tagName.toLowerCase() === 'input' || element.tagName.toLowerCase() === 'textarea' || isHTMLElement(element) && !!element.editContext;\n}\n\n/**\n * Helper for calculating the \"safe triangle\" occluded by hovers to avoid early dismissal.\n * @see https://www.smashingmagazine.com/2023/08/better-context-menus-safe-triangles/ for example\n */\nexport class SafeTriangle {\n\t// 4 points (x, y), 8 length\n\tprivate points = new Int16Array(8);\n\n\tconstructor(\n\t\tprivate readonly originX: number,\n\t\tprivate readonly originY: number,\n\t\ttarget: HTMLElement\n\t) {\n\t\tconst { top, left, right, bottom } = target.getBoundingClientRect();\n\t\tconst t = this.points;\n\t\tlet i = 0;\n\n\t\tt[i++] = left;\n\t\tt[i++] = top;\n\n\t\tt[i++] = right;\n\t\tt[i++] = top;\n\n\t\tt[i++] = left;\n\t\tt[i++] = bottom;\n\n\t\tt[i++] = right;\n\t\tt[i++] = bottom;\n\t}\n\n\tpublic contains(x: number, y: number) {\n\t\tconst { points, originX, originY } = this;\n\t\tfor (let i = 0; i < 4; i++) {\n\t\t\tconst p1 = 2 * i;\n\t\t\tconst p2 = 2 * ((i + 1) % 4);\n\t\t\tif (isPointWithinTriangle(x, y, originX, originY, points[p1], points[p1 + 1], points[p2], points[p2 + 1])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n\nexport namespace n {\n\tfunction nodeNs<TMap extends Record<string, any>>(elementNs: string | undefined = undefined): DomTagCreateFn<TMap> {\n\t\treturn (tag, attributes, children) => {\n\t\t\tconst className = attributes.class;\n\t\t\tdelete attributes.class;\n\t\t\tconst ref = attributes.ref;\n\t\t\tdelete attributes.ref;\n\t\t\tconst obsRef = attributes.obsRef;\n\t\t\tdelete attributes.obsRef;\n\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\treturn new ObserverNodeWithElement(tag as any, ref, obsRef, elementNs, className, attributes, children);\n\t\t};\n\t}\n\n\tfunction node<TMap extends Record<string, any>, TKey extends keyof TMap>(tag: TKey, elementNs: string | undefined = undefined): DomCreateFn<TMap[TKey], TMap[TKey]> {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst f = nodeNs(elementNs) as any;\n\t\treturn (attributes, children) => {\n\t\t\treturn f(tag, attributes, children);\n\t\t};\n\t}\n\n\texport const div: DomCreateFn<HTMLDivElement, HTMLDivElement> = node<HTMLElementTagNameMap, 'div'>('div');\n\n\texport const elem = nodeNs<HTMLElementTagNameMap>(undefined);\n\n\texport const svg: DomCreateFn<SVGElementTagNameMap2['svg'], SVGElement> = node<SVGElementTagNameMap2, 'svg'>('svg', 'http://www.w3.org/2000/svg');\n\n\texport const svgElem = nodeNs<SVGElementTagNameMap2>('http://www.w3.org/2000/svg');\n\n\texport function ref<T = HTMLOrSVGElement>(): IRefWithVal<T> {\n\t\tlet value: T | undefined = undefined;\n\t\tconst result: IRef<T> = function (val: T) {\n\t\t\tvalue = val;\n\t\t};\n\t\tObject.defineProperty(result, 'element', {\n\t\t\tget() {\n\t\t\t\tif (!value) {\n\t\t\t\t\tthrow new BugIndicatingError('Make sure the ref is set before accessing the element. Maybe wrong initialization order?');\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\treturn result as any;\n\t}\n}\ntype Value<T> = T | IObservable<T>;\ntype ValueOrList<T> = Value<T> | ValueOrList<T>[];\ntype ValueOrList2<T> = ValueOrList<T> | ValueOrList<ValueOrList<T>>;\ntype HTMLOrSVGElement = HTMLElement | SVGElement;\ntype SVGElementTagNameMap2 = {\n\tsvg: SVGElement & {\n\t\twidth: number;\n\t\theight: number;\n\t\ttransform: string;\n\t\tviewBox: string;\n\t\tfill: string;\n\t};\n\tpath: SVGElement & {\n\t\td: string;\n\t\tstroke: string;\n\t\tfill: string;\n\t};\n\tlinearGradient: SVGElement & {\n\t\tid: string;\n\t\tx1: string | number;\n\t\tx2: string | number;\n\t};\n\tstop: SVGElement & {\n\t\toffset: string;\n\t};\n\trect: SVGElement & {\n\t\tx: number;\n\t\ty: number;\n\t\twidth: number;\n\t\theight: number;\n\t\tfill: string;\n\t};\n\tdefs: SVGElement;\n};\ntype DomTagCreateFn<TMap extends Record<string, any>> = <TTag extends keyof TMap>(\n\ttag: TTag,\n\tattributes: ElementAttributeKeys<TMap[TTag]> & { class?: ValueOrList<string | false | undefined>; ref?: IRef<TMap[TTag]>; obsRef?: IRef<ObserverNodeWithElement<TMap[TTag]> | null> },\n\tchildren?: ChildNode\n) => ObserverNode<TMap[TTag]>;\ntype DomCreateFn<TAttributes, TResult extends HTMLOrSVGElement> = (\n\tattributes: ElementAttributeKeys<TAttributes> & { class?: ValueOrList<string | false | undefined>; ref?: IRef<TResult>; obsRef?: IRef<ObserverNodeWithElement<TResult> | null> },\n\tchildren?: ChildNode\n) => ObserverNode<TResult>;\n\nexport type ChildNode = ValueOrList2<HTMLOrSVGElement | string | ObserverNode | undefined>;\n\nexport type IRef<T> = (value: T) => void;\n\nexport interface IRefWithVal<T> extends IRef<T> {\n\treadonly element: T;\n}\n\nexport abstract class ObserverNode<T extends HTMLOrSVGElement = HTMLOrSVGElement> {\n\tprivate readonly _deriveds: (IObservable<any>)[] = [];\n\n\tprotected readonly _element: T;\n\n\tconstructor(\n\t\ttag: string,\n\t\tref: IRef<T> | undefined,\n\t\tobsRef: IRef<ObserverNodeWithElement<T> | null> | undefined,\n\t\tns: string | undefined,\n\t\tclassName: ValueOrList<string | undefined | false> | undefined,\n\t\tattributes: ElementAttributeKeys<T>,\n\t\tchildren: ChildNode\n\t) {\n\t\tthis._element = (ns ? document.createElementNS(ns, tag) : document.createElement(tag)) as unknown as T;\n\t\tif (ref) {\n\t\t\tref(this._element);\n\t\t}\n\t\tif (obsRef) {\n\t\t\tthis._deriveds.push(derived((_reader) => {\n\t\t\t\tobsRef(this as unknown as ObserverNodeWithElement<T>);\n\t\t\t\t_reader.store.add({\n\t\t\t\t\tdispose: () => {\n\t\t\t\t\t\tobsRef(null);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}));\n\t\t}\n\n\t\tif (className) {\n\t\t\tif (hasObservable(className)) {\n\t\t\t\tthis._deriveds.push(derived(this, reader => {\n\t\t\t\t\t/** @description set.class */\n\t\t\t\t\tsetClassName(this._element, getClassName(className, reader));\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tsetClassName(this._element, getClassName(className, undefined));\n\t\t\t}\n\t\t}\n\n\t\tfor (const [key, value] of Object.entries(attributes)) {\n\t\t\tif (key === 'style') {\n\t\t\t\tfor (const [cssKey, cssValue] of Object.entries(value)) {\n\t\t\t\t\tconst key = camelCaseToHyphenCase(cssKey);\n\t\t\t\t\tif (isObservable(cssValue)) {\n\t\t\t\t\t\tthis._deriveds.push(derivedOpts({ owner: this, debugName: () => `set.style.${key}` }, reader => {\n\t\t\t\t\t\t\tthis._element.style.setProperty(key, convertCssValue(cssValue.read(reader)));\n\t\t\t\t\t\t}));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._element.style.setProperty(key, convertCssValue(cssValue));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key === 'tabIndex') {\n\t\t\t\tif (isObservable(value)) {\n\t\t\t\t\tthis._deriveds.push(derived(this, reader => {\n\t\t\t\t\t\t/** @description set.tabIndex */\n\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\tthis._element.tabIndex = value.read(reader) as any;\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tthis._element.tabIndex = value;\n\t\t\t\t}\n\t\t\t} else if (key.startsWith('on')) {\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t(this._element as any)[key] = value;\n\t\t\t} else {\n\t\t\t\tif (isObservable(value)) {\n\t\t\t\t\tthis._deriveds.push(derivedOpts({ owner: this, debugName: () => `set.${key}` }, reader => {\n\t\t\t\t\t\tsetOrRemoveAttribute(this._element, key, value.read(reader));\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tsetOrRemoveAttribute(this._element, key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (children) {\n\t\t\tfunction getChildren(reader: IReader | undefined, children: ValueOrList2<HTMLOrSVGElement | string | ObserverNode | undefined>): (HTMLOrSVGElement | string)[] {\n\t\t\t\tif (isObservable(children)) {\n\t\t\t\t\treturn getChildren(reader, children.read(reader));\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(children)) {\n\t\t\t\t\treturn children.flatMap(c => getChildren(reader, c));\n\t\t\t\t}\n\t\t\t\tif (children instanceof ObserverNode) {\n\t\t\t\t\tif (reader) {\n\t\t\t\t\t\tchildren.readEffect(reader);\n\t\t\t\t\t}\n\t\t\t\t\treturn [children._element];\n\t\t\t\t}\n\t\t\t\tif (children) {\n\t\t\t\t\treturn [children];\n\t\t\t\t}\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst d = derived(this, reader => {\n\t\t\t\t/** @description set.children */\n\t\t\t\tthis._element.replaceChildren(...getChildren(reader, children));\n\t\t\t});\n\t\t\tthis._deriveds.push(d);\n\t\t\tif (!childrenIsObservable(children)) {\n\t\t\t\td.get();\n\t\t\t}\n\t\t}\n\t}\n\n\treadEffect(reader: IReader | undefined): void {\n\t\tfor (const d of this._deriveds) {\n\t\t\td.read(reader);\n\t\t}\n\t}\n\n\tkeepUpdated(store: DisposableStore): ObserverNodeWithElement<T> {\n\t\tderived(reader => {\n\t\t\t/** update */\n\t\t\tthis.readEffect(reader);\n\t\t}).recomputeInitiallyAndOnChange(store);\n\t\treturn this as unknown as ObserverNodeWithElement<T>;\n\t}\n\n\t/**\n\t * Creates a live element that will keep the element updated as long as the returned object is not disposed.\n\t*/\n\ttoDisposableLiveElement() {\n\t\tconst store = new DisposableStore();\n\t\tthis.keepUpdated(store);\n\t\treturn new LiveElement(this._element, store);\n\t}\n}\nfunction setClassName(domNode: HTMLOrSVGElement, className: string) {\n\tif (isSVGElement(domNode)) {\n\t\tdomNode.setAttribute('class', className);\n\t} else {\n\t\tdomNode.className = className;\n\t}\n}\nfunction resolve<T>(value: ValueOrList<T>, reader: IReader | undefined, cb: (val: T) => void): void {\n\tif (isObservable(value)) {\n\t\tcb(value.read(reader));\n\t\treturn;\n\t}\n\tif (Array.isArray(value)) {\n\t\tfor (const v of value) {\n\t\t\tresolve(v, reader, cb);\n\t\t}\n\t\treturn;\n\t}\n\t// eslint-disable-next-line local/code-no-any-casts\n\tcb(value as any);\n}\nfunction getClassName(className: ValueOrList<string | undefined | false> | undefined, reader: IReader | undefined): string {\n\tlet result = '';\n\tresolve(className, reader, val => {\n\t\tif (val) {\n\t\t\tif (result.length === 0) {\n\t\t\t\tresult = val;\n\t\t\t} else {\n\t\t\t\tresult += ' ' + val;\n\t\t\t}\n\t\t}\n\t});\n\treturn result;\n}\nfunction hasObservable(value: ValueOrList<unknown>): boolean {\n\tif (isObservable(value)) {\n\t\treturn true;\n\t}\n\tif (Array.isArray(value)) {\n\t\treturn value.some(v => hasObservable(v));\n\t}\n\treturn false;\n}\nfunction convertCssValue(value: any): string {\n\tif (typeof value === 'number') {\n\t\treturn value + 'px';\n\t}\n\treturn value;\n}\nfunction childrenIsObservable(children: ValueOrList2<HTMLOrSVGElement | string | ObserverNode | undefined>): boolean {\n\tif (isObservable(children)) {\n\t\treturn true;\n\t}\n\tif (Array.isArray(children)) {\n\t\treturn children.some(c => childrenIsObservable(c));\n\t}\n\treturn false;\n}\n\nexport class LiveElement<T extends HTMLOrSVGElement = HTMLElement> {\n\tconstructor(\n\t\tpublic readonly element: T,\n\t\tprivate readonly _disposable: IDisposable\n\t) { }\n\n\tdispose() {\n\t\tthis._disposable.dispose();\n\t}\n}\n\nexport class ObserverNodeWithElement<T extends HTMLOrSVGElement = HTMLOrSVGElement> extends ObserverNode<T> {\n\tpublic get element() {\n\t\treturn this._element;\n\t}\n\n\tprivate _isHovered: IObservable<boolean> | undefined = undefined;\n\n\tget isHovered(): IObservable<boolean> {\n\t\tif (!this._isHovered) {\n\t\t\tconst hovered = observableValue<boolean>('hovered', false);\n\t\t\tthis._element.addEventListener('mouseenter', (_e) => hovered.set(true, undefined));\n\t\t\tthis._element.addEventListener('mouseleave', (_e) => hovered.set(false, undefined));\n\t\t\tthis._isHovered = hovered;\n\t\t}\n\t\treturn this._isHovered;\n\t}\n\n\tprivate _didMouseMoveDuringHover: IObservable<boolean> | undefined = undefined;\n\n\tget didMouseMoveDuringHover(): IObservable<boolean> {\n\t\tif (!this._didMouseMoveDuringHover) {\n\t\t\tlet _hovering = false;\n\t\t\tconst hovered = observableValue<boolean>('didMouseMoveDuringHover', false);\n\t\t\tthis._element.addEventListener('mouseenter', (_e) => {\n\t\t\t\t_hovering = true;\n\t\t\t});\n\t\t\tthis._element.addEventListener('mousemove', (_e) => {\n\t\t\t\tif (_hovering) {\n\t\t\t\t\thovered.set(true, undefined);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._element.addEventListener('mouseleave', (_e) => {\n\t\t\t\t_hovering = false;\n\t\t\t\thovered.set(false, undefined);\n\t\t\t});\n\t\t\tthis._didMouseMoveDuringHover = hovered;\n\t\t}\n\t\treturn this._didMouseMoveDuringHover;\n\t}\n}\nfunction setOrRemoveAttribute(element: HTMLOrSVGElement, key: string, value: unknown) {\n\tif (value === null || value === undefined) {\n\t\telement.removeAttribute(camelCaseToHyphenCase(key));\n\t} else {\n\t\telement.setAttribute(camelCaseToHyphenCase(key), String(value));\n\t}\n}\n\nfunction isObservable<T>(obj: unknown): obj is IObservable<T> {\n\treturn !!obj && (<IObservable<T>>obj).read !== undefined && (<IObservable<T>>obj).reportChanges !== undefined;\n}\ntype ElementAttributeKeys<T> = Partial<{\n\t[K in keyof T]: T[K] extends Function ? never : T[K] extends object ? ElementAttributeKeys<T[K]> : Value<number | T[K] | undefined | null>;\n}>;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}