{"version":3,"names":["cov_211owog72e","actualCoverage","createDecorator","URI","isObject","IBulkEditService","s","ResourceEdit","metadata","constructor","f","convert","edit","edits","map","ResourceTextEdit","is","b","lift","ResourceFileEdit","Error","resource","textEdit","versionId","candidate","isUri","undefined","oldResource","newResource","options","Boolean"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/services/bulkEditService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../editorBrowser.js';\nimport { TextEdit, WorkspaceEdit, WorkspaceEditMetadata, IWorkspaceFileEdit, WorkspaceFileEditOptions, IWorkspaceTextEdit } from '../../common/languages.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IProgress, IProgressStep } from '../../../platform/progress/common/progress.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { isObject } from '../../../base/common/types.js';\nimport { UndoRedoSource } from '../../../platform/undoRedo/common/undoRedo.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { TextModelEditSource } from '../../common/textModelEditSource.js';\n\nexport const IBulkEditService = createDecorator<IBulkEditService>('IWorkspaceEditService');\n\nexport class ResourceEdit {\n\n\tprotected constructor(readonly metadata?: WorkspaceEditMetadata) { }\n\n\tstatic convert(edit: WorkspaceEdit): ResourceEdit[] {\n\n\t\treturn edit.edits.map(edit => {\n\t\t\tif (ResourceTextEdit.is(edit)) {\n\t\t\t\treturn ResourceTextEdit.lift(edit);\n\t\t\t}\n\n\t\t\tif (ResourceFileEdit.is(edit)) {\n\t\t\t\treturn ResourceFileEdit.lift(edit);\n\t\t\t}\n\t\t\tthrow new Error('Unsupported edit');\n\t\t});\n\t}\n}\n\nexport class ResourceTextEdit extends ResourceEdit implements IWorkspaceTextEdit {\n\n\tstatic is(candidate: unknown): candidate is IWorkspaceTextEdit {\n\t\tif (candidate instanceof ResourceTextEdit) {\n\t\t\treturn true;\n\t\t}\n\t\treturn isObject(candidate)\n\t\t\t&& URI.isUri((<IWorkspaceTextEdit>candidate).resource)\n\t\t\t&& isObject((<IWorkspaceTextEdit>candidate).textEdit);\n\t}\n\n\tstatic lift(edit: IWorkspaceTextEdit): ResourceTextEdit {\n\t\tif (edit instanceof ResourceTextEdit) {\n\t\t\treturn edit;\n\t\t} else {\n\t\t\treturn new ResourceTextEdit(edit.resource, edit.textEdit, edit.versionId, edit.metadata);\n\t\t}\n\t}\n\n\tconstructor(\n\t\treadonly resource: URI,\n\t\treadonly textEdit: TextEdit & { insertAsSnippet?: boolean; keepWhitespace?: boolean },\n\t\treadonly versionId: number | undefined = undefined,\n\t\tmetadata?: WorkspaceEditMetadata,\n\t) {\n\t\tsuper(metadata);\n\t}\n}\n\nexport class ResourceFileEdit extends ResourceEdit implements IWorkspaceFileEdit {\n\n\tstatic is(candidate: unknown): candidate is IWorkspaceFileEdit {\n\t\tif (candidate instanceof ResourceFileEdit) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn isObject(candidate)\n\t\t\t\t&& (Boolean((<IWorkspaceFileEdit>candidate).newResource) || Boolean((<IWorkspaceFileEdit>candidate).oldResource));\n\t\t}\n\t}\n\n\tstatic lift(edit: IWorkspaceFileEdit): ResourceFileEdit {\n\t\tif (edit instanceof ResourceFileEdit) {\n\t\t\treturn edit;\n\t\t} else {\n\t\t\treturn new ResourceFileEdit(edit.oldResource, edit.newResource, edit.options, edit.metadata);\n\t\t}\n\t}\n\n\tconstructor(\n\t\treadonly oldResource: URI | undefined,\n\t\treadonly newResource: URI | undefined,\n\t\treadonly options: WorkspaceFileEditOptions = {},\n\t\tmetadata?: WorkspaceEditMetadata\n\t) {\n\t\tsuper(metadata);\n\t}\n}\n\nexport interface IBulkEditOptions {\n\teditor?: ICodeEditor;\n\tprogress?: IProgress<IProgressStep>;\n\ttoken?: CancellationToken;\n\tshowPreview?: boolean;\n\tlabel?: string;\n\tcode?: string;\n\tquotableLabel?: string;\n\tundoRedoSource?: UndoRedoSource;\n\tundoRedoGroupId?: number;\n\tconfirmBeforeUndo?: boolean;\n\trespectAutoSaveConfig?: boolean;\n\treason?: TextModelEditSource;\n}\n\nexport interface IBulkEditResult {\n\tariaSummary: string;\n\tisApplied: boolean;\n}\n\nexport type IBulkEditPreviewHandler = (edits: ResourceEdit[], options?: IBulkEditOptions) => Promise<ResourceEdit[]>;\n\nexport interface IBulkEditService {\n\treadonly _serviceBrand: undefined;\n\n\thasPreviewHandler(): boolean;\n\n\tsetPreviewHandler(handler: IBulkEditPreviewHandler): IDisposable;\n\n\tapply(edit: ResourceEdit[] | WorkspaceEdit, options?: IBulkEditOptions): Promise<IBulkEditResult>;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBG;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAzBH;;;;AAOA,SAASE,eAAe,QAAQ,yDAAyD;AAGzF,SAASC,GAAG,QAAQ,6BAA6B;AACjD,SAASC,QAAQ,QAAQ,+BAA+B;AAKxD,OAAO,MAAMC,gBAAgB;AAAA;AAAA,CAAAL,cAAA,GAAAM,CAAA,OAAGJ,eAAe,CAAmB,uBAAuB,CAAC;AAE1F,OAAM,MAAOK,YAAY;EAEOC,QAAA;EAA/BC,YAA+BD,QAAgC;IAAA;IAAAR,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAAhC,KAAAE,QAAQ,GAARA,QAAQ;EAA4B;EAEnE,OAAOG,OAAOA,CAACC,IAAmB;IAAA;IAAAZ,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAEjC,OAAOM,IAAI,CAACC,KAAK,CAACC,GAAG,CAACF,IAAI,IAAG;MAAA;MAAAZ,cAAA,GAAAU,CAAA;MAAAV,cAAA,GAAAM,CAAA;MAC5B,IAAIS,gBAAgB,CAACC,EAAE,CAACJ,IAAI,CAAC,EAAE;QAAA;QAAAZ,cAAA,GAAAiB,CAAA;QAAAjB,cAAA,GAAAM,CAAA;QAC9B,OAAOS,gBAAgB,CAACG,IAAI,CAACN,IAAI,CAAC;MACnC,CAAC;MAAA;MAAA;QAAAZ,cAAA,GAAAiB,CAAA;MAAA;MAAAjB,cAAA,GAAAM,CAAA;MAED,IAAIa,gBAAgB,CAACH,EAAE,CAACJ,IAAI,CAAC,EAAE;QAAA;QAAAZ,cAAA,GAAAiB,CAAA;QAAAjB,cAAA,GAAAM,CAAA;QAC9B,OAAOa,gBAAgB,CAACD,IAAI,CAACN,IAAI,CAAC;MACnC,CAAC;MAAA;MAAA;QAAAZ,cAAA,GAAAiB,CAAA;MAAA;MAAAjB,cAAA,GAAAM,CAAA;MACD,MAAM,IAAIc,KAAK,CAAC,kBAAkB,CAAC;IACpC,CAAC,CAAC;EACH;;AAGD,OAAM,MAAOL,gBAAiB,SAAQR,YAAY;EAoBvCc,QAAA;EACAC,QAAA;EACAC,SAAA;EApBV,OAAOP,EAAEA,CAACQ,SAAkB;IAAA;IAAAxB,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAC3B,IAAIkB,SAAS,YAAYT,gBAAgB,EAAE;MAAA;MAAAf,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MAC1C,OAAO,IAAI;IACZ,CAAC;IAAA;IAAA;MAAAN,cAAA,GAAAiB,CAAA;IAAA;IAAAjB,cAAA,GAAAM,CAAA;IACD,OAAO,2BAAAN,cAAA,GAAAiB,CAAA,UAAAb,QAAQ,CAACoB,SAAS,CAAC;IAAA;IAAA,CAAAxB,cAAA,GAAAiB,CAAA,UACtBd,GAAG,CAACsB,KAAK,CAAsBD,SAAU,CAACH,QAAQ,CAAC;IAAA;IAAA,CAAArB,cAAA,GAAAiB,CAAA,UACnDb,QAAQ,CAAsBoB,SAAU,CAACF,QAAQ,CAAC;EACvD;EAEA,OAAOJ,IAAIA,CAACN,IAAwB;IAAA;IAAAZ,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IACnC,IAAIM,IAAI,YAAYG,gBAAgB,EAAE;MAAA;MAAAf,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MACrC,OAAOM,IAAI;IACZ,CAAC,MAAM;MAAA;MAAAZ,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MACN,OAAO,IAAIS,gBAAgB,CAACH,IAAI,CAACS,QAAQ,EAAET,IAAI,CAACU,QAAQ,EAAEV,IAAI,CAACW,SAAS,EAAEX,IAAI,CAACJ,QAAQ,CAAC;IACzF;EACD;EAEAC,YACUY,QAAa,EACbC,QAA4E,EAC5EC,SAAA;EAAA;EAAA,CAAAvB,cAAA,GAAAiB,CAAA,UAAgCS,SAAS,GAClDlB,QAAgC;IAAA;IAAAR,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAEhC,KAAK,CAACE,QAAQ,CAAC;IAAC;IAAAR,cAAA,GAAAM,CAAA;IALP,KAAAe,QAAQ,GAARA,QAAQ;IAAK;IAAArB,cAAA,GAAAM,CAAA;IACb,KAAAgB,QAAQ,GAARA,QAAQ;IAAoE;IAAAtB,cAAA,GAAAM,CAAA;IAC5E,KAAAiB,SAAS,GAATA,SAAS;EAInB;;AAGD,OAAM,MAAOJ,gBAAiB,SAAQZ,YAAY;EAoBvCoB,WAAA;EACAC,WAAA;EACAC,OAAA;EApBV,OAAOb,EAAEA,CAACQ,SAAkB;IAAA;IAAAxB,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAC3B,IAAIkB,SAAS,YAAYL,gBAAgB,EAAE;MAAA;MAAAnB,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MAC1C,OAAO,IAAI;IACZ,CAAC,MAAM;MAAA;MAAAN,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MACN,OAAO,2BAAAN,cAAA,GAAAiB,CAAA,UAAAb,QAAQ,CAACoB,SAAS,CAAC;MACrB;MAAA,CAAAxB,cAAA,GAAAiB,CAAA,UAAAa,OAAO,CAAsBN,SAAU,CAACI,WAAW,CAAC;MAAA;MAAA,CAAA5B,cAAA,GAAAiB,CAAA,UAAIa,OAAO,CAAsBN,SAAU,CAACG,WAAW,CAAC,EAAC;IACnH;EACD;EAEA,OAAOT,IAAIA,CAACN,IAAwB;IAAA;IAAAZ,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IACnC,IAAIM,IAAI,YAAYO,gBAAgB,EAAE;MAAA;MAAAnB,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MACrC,OAAOM,IAAI;IACZ,CAAC,MAAM;MAAA;MAAAZ,cAAA,GAAAiB,CAAA;MAAAjB,cAAA,GAAAM,CAAA;MACN,OAAO,IAAIa,gBAAgB,CAACP,IAAI,CAACe,WAAW,EAAEf,IAAI,CAACgB,WAAW,EAAEhB,IAAI,CAACiB,OAAO,EAAEjB,IAAI,CAACJ,QAAQ,CAAC;IAC7F;EACD;EAEAC,YACUkB,WAA4B,EAC5BC,WAA4B,EAC5BC,OAAA;EAAA;EAAA,CAAA7B,cAAA,GAAAiB,CAAA,UAAoC,EAAE,GAC/CT,QAAgC;IAAA;IAAAR,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAM,CAAA;IAEhC,KAAK,CAACE,QAAQ,CAAC;IAAC;IAAAR,cAAA,GAAAM,CAAA;IALP,KAAAqB,WAAW,GAAXA,WAAW;IAAiB;IAAA3B,cAAA,GAAAM,CAAA;IAC5B,KAAAsB,WAAW,GAAXA,WAAW;IAAiB;IAAA5B,cAAA,GAAAM,CAAA;IAC5B,KAAAuB,OAAO,GAAPA,OAAO;EAIjB","ignoreList":[]}