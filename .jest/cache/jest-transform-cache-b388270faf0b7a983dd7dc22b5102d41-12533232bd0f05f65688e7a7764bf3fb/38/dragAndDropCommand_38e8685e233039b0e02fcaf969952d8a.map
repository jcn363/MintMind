{"version":3,"names":["cov_29iecbrowd","actualCoverage","Range","Selection","DragAndDropCommand","selection","targetPosition","targetSelection","copy","constructor","f","s","getEditOperations","model","builder","text","getValueInRange","b","addEditOperation","lineNumber","column","containsPosition","getEndPosition","equals","getStartPosition","endLineNumber","startLineNumber","endColumn","startColumn","computeCursorState","helper"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/dnd/browser/dragAndDropCommand.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { ITextModel } from '../../../common/model.js';\n\n\nexport class DragAndDropCommand implements ICommand {\n\n\tprivate readonly selection: Selection;\n\tprivate readonly targetPosition: Position;\n\tprivate targetSelection: Selection | null;\n\tprivate readonly copy: boolean;\n\n\tconstructor(selection: Selection, targetPosition: Position, copy: boolean) {\n\t\tthis.selection = selection;\n\t\tthis.targetPosition = targetPosition;\n\t\tthis.copy = copy;\n\t\tthis.targetSelection = null;\n\t}\n\n\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\tconst text = model.getValueInRange(this.selection);\n\t\tif (!this.copy) {\n\t\t\tbuilder.addEditOperation(this.selection, null);\n\t\t}\n\t\tbuilder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\n\n\t\tif (this.selection.containsPosition(this.targetPosition) && !(\n\t\t\tthis.copy && (\n\t\t\t\tthis.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)\n\t\t\t) // we allow users to paste content beside the selection\n\t\t)) {\n\t\t\tthis.targetSelection = this.selection;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.copy) {\n\t\t\tthis.targetSelection = new Selection(\n\t\t\t\tthis.targetPosition.lineNumber,\n\t\t\t\tthis.targetPosition.column,\n\t\t\t\tthis.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber,\n\t\t\t\tthis.selection.startLineNumber === this.selection.endLineNumber ?\n\t\t\t\t\tthis.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n\t\t\t\t\tthis.selection.endColumn\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.targetPosition.lineNumber > this.selection.endLineNumber) {\n\t\t\t// Drag the selection downwards\n\t\t\tthis.targetSelection = new Selection(\n\t\t\t\tthis.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber,\n\t\t\t\tthis.targetPosition.column,\n\t\t\t\tthis.targetPosition.lineNumber,\n\t\t\t\tthis.selection.startLineNumber === this.selection.endLineNumber ?\n\t\t\t\t\tthis.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n\t\t\t\t\tthis.selection.endColumn\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.targetPosition.lineNumber < this.selection.endLineNumber) {\n\t\t\t// Drag the selection upwards\n\t\t\tthis.targetSelection = new Selection(\n\t\t\t\tthis.targetPosition.lineNumber,\n\t\t\t\tthis.targetPosition.column,\n\t\t\t\tthis.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber,\n\t\t\t\tthis.selection.startLineNumber === this.selection.endLineNumber ?\n\t\t\t\t\tthis.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n\t\t\t\t\tthis.selection.endColumn\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// The target position is at the same line as the selection's end position.\n\t\tif (this.selection.endColumn <= this.targetPosition.column) {\n\t\t\t// The target position is after the selection's end position\n\t\t\tthis.targetSelection = new Selection(\n\t\t\t\tthis.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber,\n\t\t\t\tthis.selection.startLineNumber === this.selection.endLineNumber ?\n\t\t\t\t\tthis.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\n\t\t\t\t\tthis.targetPosition.column - this.selection.endColumn + this.selection.startColumn,\n\t\t\t\tthis.targetPosition.lineNumber,\n\t\t\t\tthis.selection.startLineNumber === this.selection.endLineNumber ?\n\t\t\t\t\tthis.targetPosition.column :\n\t\t\t\t\tthis.selection.endColumn\n\t\t\t);\n\t\t} else {\n\t\t\t// The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\n\t\t\tthis.targetSelection = new Selection(\n\t\t\t\tthis.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber,\n\t\t\t\tthis.targetPosition.column,\n\t\t\t\tthis.targetPosition.lineNumber,\n\t\t\t\tthis.targetPosition.column + this.selection.endColumn - this.selection.startColumn\n\t\t\t);\n\t\t}\n\t}\n\n\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\treturn this.targetSelection!;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}