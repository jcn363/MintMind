{"version":3,"names":["strings","stringBuilder","Range","RichEditBracket","_richEditBracketBrand","cov_83rojzkro","s","undefined","languageId","index","open","close","forwardRegex","reversedRegex","_openSet","_closeSet","constructor","f","_toSet","isOpen","text","has","isClose","arr","result","Set","element","add","groupFuzzyBrackets","brackets","N","length","map","b","toLowerCase","group","i","areOverlapping","a","aOpen","aClose","bOpen","bClose","mergeGroups","g1","g2","newG","Math","min","oldG","max","j","g","currentOpen","currentClose","push","RichEditBrackets","_richEditBracketsBrand","maxBracketLength","textIsBracket","textIsOpenBracket","_brackets","getRegexForBracketPair","getReversedRegexForBracketPair","getRegexForBrackets","getReversedRegexForBrackets","bracket","collectSuperstrings","str","currentIndex","dest","len","indexOf","lengthcmp","unique","seen","pieces","concat","sort","reverse","createBracketOrRegExp","toReversedString","prepareBracketForRegExp","insertWordBoundaries","test","escapeRegExpCharacters","options","regexStr","join","createRegExp","Uint16Array","offset","charCodeAt","getPlatformTextDecoder","decode","lastInput","lastOutput","BracketsUtils","_findPrevBracketInText","reversedBracketRegex","lineNumber","reversedText","m","match","matchOffset","matchLength","absoluteMatchOffset","findPrevBracketInRange","lineText","startOffset","endOffset","reversedLineText","reversedSubstr","substring","findNextBracketInText","bracketRegex","findNextBracketInRange","substr"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languages/supports/richEditBrackets.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as strings from '../../../../base/common/strings.js';\nimport * as stringBuilder from '../../core/stringBuilder.js';\nimport { Range } from '../../core/range.js';\nimport { CharacterPair } from '../languageConfiguration.js';\n\ninterface InternalBracket {\n\topen: string[];\n\tclose: string[];\n}\n\n/**\n * Represents a grouping of colliding bracket pairs.\n *\n * Most of the times this contains a single bracket pair,\n * but sometimes this contains multiple bracket pairs in cases\n * where the same string appears as a closing bracket for multiple\n * bracket pairs, or the same string appears an opening bracket for\n * multiple bracket pairs.\n *\n * e.g. of a group containing a single pair:\n *   open: ['{'], close: ['}']\n *\n * e.g. of a group containing multiple pairs:\n *   open: ['if', 'for'], close: ['end', 'end']\n */\nexport class RichEditBracket {\n\t_richEditBracketBrand: void = undefined;\n\n\treadonly languageId: string;\n\t/**\n\t * A 0-based consecutive unique identifier for this bracket pair.\n\t * If a language has 5 bracket pairs, out of which 2 are grouped together,\n\t * it is expected that the `index` goes from 0 to 4.\n\t */\n\treadonly index: number;\n\t/**\n\t * The open sequence for each bracket pair contained in this group.\n\t *\n\t * The open sequence at a specific index corresponds to the\n\t * closing sequence at the same index.\n\t *\n\t * [ open[i], closed[i] ] represent a bracket pair.\n\t */\n\treadonly open: string[];\n\t/**\n\t * The close sequence for each bracket pair contained in this group.\n\t *\n\t * The close sequence at a specific index corresponds to the\n\t * opening sequence at the same index.\n\t *\n\t * [ open[i], closed[i] ] represent a bracket pair.\n\t */\n\treadonly close: string[];\n\t/**\n\t * A regular expression that is useful to search for this bracket pair group in a string.\n\t *\n\t * This regular expression is built in a way that it is aware of the other bracket\n\t * pairs defined for the language, so it might match brackets from other groups.\n\t *\n\t * See the fine details in `getRegexForBracketPair`.\n\t */\n\treadonly forwardRegex: RegExp;\n\t/**\n\t * A regular expression that is useful to search for this bracket pair group in a string backwards.\n\t *\n\t * This regular expression is built in a way that it is aware of the other bracket\n\t * pairs defined for the language, so it might match brackets from other groups.\n\t *\n\t * See the fine defails in `getReversedRegexForBracketPair`.\n\t */\n\treadonly reversedRegex: RegExp;\n\tprivate readonly _openSet: Set<string>;\n\tprivate readonly _closeSet: Set<string>;\n\n\tconstructor(languageId: string, index: number, open: string[], close: string[], forwardRegex: RegExp, reversedRegex: RegExp) {\n\t\tthis.languageId = languageId;\n\t\tthis.index = index;\n\t\tthis.open = open;\n\t\tthis.close = close;\n\t\tthis.forwardRegex = forwardRegex;\n\t\tthis.reversedRegex = reversedRegex;\n\t\tthis._openSet = RichEditBracket._toSet(this.open);\n\t\tthis._closeSet = RichEditBracket._toSet(this.close);\n\t}\n\n\t/**\n\t * Check if the provided `text` is an open bracket in this group.\n\t */\n\tpublic isOpen(text: string) {\n\t\treturn this._openSet.has(text);\n\t}\n\n\t/**\n\t * Check if the provided `text` is a close bracket in this group.\n\t */\n\tpublic isClose(text: string) {\n\t\treturn this._closeSet.has(text);\n\t}\n\n\tprivate static _toSet(arr: string[]): Set<string> {\n\t\tconst result = new Set<string>();\n\t\tfor (const element of arr) {\n\t\t\tresult.add(element);\n\t\t}\n\t\treturn result;\n\t}\n}\n\n/**\n * Groups together brackets that have equal open or close sequences.\n *\n * For example, if the following brackets are defined:\n *   ['IF','END']\n *   ['for','end']\n *   ['{','}']\n *\n * Then the grouped brackets would be:\n *   { open: ['if', 'for'], close: ['end', 'end'] }\n *   { open: ['{'], close: ['}'] }\n *\n */\nfunction groupFuzzyBrackets(brackets: readonly CharacterPair[]): InternalBracket[] {\n\tconst N = brackets.length;\n\n\tbrackets = brackets.map(b => [b[0].toLowerCase(), b[1].toLowerCase()]);\n\n\tconst group: number[] = [];\n\tfor (let i = 0; i < N; i++) {\n\t\tgroup[i] = i;\n\t}\n\n\tconst areOverlapping = (a: CharacterPair, b: CharacterPair) => {\n\t\tconst [aOpen, aClose] = a;\n\t\tconst [bOpen, bClose] = b;\n\t\treturn (aOpen === bOpen || aOpen === bClose || aClose === bOpen || aClose === bClose);\n\t};\n\n\tconst mergeGroups = (g1: number, g2: number) => {\n\t\tconst newG = Math.min(g1, g2);\n\t\tconst oldG = Math.max(g1, g2);\n\t\tfor (let i = 0; i < N; i++) {\n\t\t\tif (group[i] === oldG) {\n\t\t\t\tgroup[i] = newG;\n\t\t\t}\n\t\t}\n\t};\n\n\t// group together brackets that have the same open or the same close sequence\n\tfor (let i = 0; i < N; i++) {\n\t\tconst a = brackets[i];\n\t\tfor (let j = i + 1; j < N; j++) {\n\t\t\tconst b = brackets[j];\n\t\t\tif (areOverlapping(a, b)) {\n\t\t\t\tmergeGroups(group[i], group[j]);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst result: InternalBracket[] = [];\n\tfor (let g = 0; g < N; g++) {\n\t\tconst currentOpen: string[] = [];\n\t\tconst currentClose: string[] = [];\n\t\tfor (let i = 0; i < N; i++) {\n\t\t\tif (group[i] === g) {\n\t\t\t\tconst [open, close] = brackets[i];\n\t\t\t\tcurrentOpen.push(open);\n\t\t\t\tcurrentClose.push(close);\n\t\t\t}\n\t\t}\n\t\tif (currentOpen.length > 0) {\n\t\t\tresult.push({\n\t\t\t\topen: currentOpen,\n\t\t\t\tclose: currentClose\n\t\t\t});\n\t\t}\n\t}\n\treturn result;\n}\n\nexport class RichEditBrackets {\n\t_richEditBracketsBrand: void = undefined;\n\n\t/**\n\t * All groups of brackets defined for this language.\n\t */\n\tpublic readonly brackets: RichEditBracket[];\n\t/**\n\t * A regular expression that is useful to search for all bracket pairs in a string.\n\t *\n\t * See the fine details in `getRegexForBrackets`.\n\t */\n\tpublic readonly forwardRegex: RegExp;\n\t/**\n\t * A regular expression that is useful to search for all bracket pairs in a string backwards.\n\t *\n\t * See the fine details in `getReversedRegexForBrackets`.\n\t */\n\tpublic readonly reversedRegex: RegExp;\n\t/**\n\t * The length (i.e. str.length) for the longest bracket pair.\n\t */\n\tpublic readonly maxBracketLength: number;\n\t/**\n\t * A map useful for decoding a regex match and finding which bracket group was matched.\n\t */\n\tpublic readonly textIsBracket: { [text: string]: RichEditBracket };\n\t/**\n\t * A set useful for decoding if a regex match is the open bracket of a bracket pair.\n\t */\n\tpublic readonly textIsOpenBracket: { [text: string]: boolean };\n\n\tconstructor(languageId: string, _brackets: readonly CharacterPair[]) {\n\t\tconst brackets = groupFuzzyBrackets(_brackets);\n\n\t\tthis.brackets = brackets.map((b, index) => {\n\t\t\treturn new RichEditBracket(\n\t\t\t\tlanguageId,\n\t\t\t\tindex,\n\t\t\t\tb.open,\n\t\t\t\tb.close,\n\t\t\t\tgetRegexForBracketPair(b.open, b.close, brackets, index),\n\t\t\t\tgetReversedRegexForBracketPair(b.open, b.close, brackets, index)\n\t\t\t);\n\t\t});\n\n\t\tthis.forwardRegex = getRegexForBrackets(this.brackets);\n\t\tthis.reversedRegex = getReversedRegexForBrackets(this.brackets);\n\n\t\tthis.textIsBracket = {};\n\t\tthis.textIsOpenBracket = {};\n\n\t\tthis.maxBracketLength = 0;\n\t\tfor (const bracket of this.brackets) {\n\t\t\tfor (const open of bracket.open) {\n\t\t\t\tthis.textIsBracket[open] = bracket;\n\t\t\t\tthis.textIsOpenBracket[open] = true;\n\t\t\t\tthis.maxBracketLength = Math.max(this.maxBracketLength, open.length);\n\t\t\t}\n\t\t\tfor (const close of bracket.close) {\n\t\t\t\tthis.textIsBracket[close] = bracket;\n\t\t\t\tthis.textIsOpenBracket[close] = false;\n\t\t\t\tthis.maxBracketLength = Math.max(this.maxBracketLength, close.length);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction collectSuperstrings(str: string, brackets: InternalBracket[], currentIndex: number, dest: string[]): void {\n\tfor (let i = 0, len = brackets.length; i < len; i++) {\n\t\tif (i === currentIndex) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst bracket = brackets[i];\n\t\tfor (const open of bracket.open) {\n\t\t\tif (open.indexOf(str) >= 0) {\n\t\t\t\tdest.push(open);\n\t\t\t}\n\t\t}\n\t\tfor (const close of bracket.close) {\n\t\t\tif (close.indexOf(str) >= 0) {\n\t\t\t\tdest.push(close);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction lengthcmp(a: string, b: string) {\n\treturn a.length - b.length;\n}\n\nfunction unique(arr: string[]): string[] {\n\tif (arr.length <= 1) {\n\t\treturn arr;\n\t}\n\tconst result: string[] = [];\n\tconst seen = new Set<string>();\n\tfor (const element of arr) {\n\t\tif (seen.has(element)) {\n\t\t\tcontinue;\n\t\t}\n\t\tresult.push(element);\n\t\tseen.add(element);\n\t}\n\treturn result;\n}\n\n/**\n * Create a regular expression that can be used to search forward in a piece of text\n * for a group of bracket pairs. But this regex must be built in a way in which\n * it is aware of the other bracket pairs defined for the language.\n *\n * For example, if a language contains the following bracket pairs:\n *   ['begin', 'end']\n *   ['if', 'end if']\n * The two bracket pairs do not collide because no open or close brackets are equal.\n * So the function getRegexForBracketPair is called twice, once with\n * the ['begin'], ['end'] group consisting of one bracket pair, and once with\n * the ['if'], ['end if'] group consiting of the other bracket pair.\n *\n * But there could be a situation where an occurrence of 'end if' is mistaken\n * for an occurrence of 'end'.\n *\n * Therefore, for the bracket pair ['begin', 'end'], the regex will also\n * target 'end if'. The regex will be something like:\n *   /(\\bend if\\b)|(\\bend\\b)|(\\bif\\b)/\n *\n * The regex also searches for \"superstrings\" (other brackets that might be mistaken with the current bracket).\n *\n */\nfunction getRegexForBracketPair(open: string[], close: string[], brackets: InternalBracket[], currentIndex: number): RegExp {\n\t// search in all brackets for other brackets that are a superstring of these brackets\n\tlet pieces: string[] = [];\n\tpieces = pieces.concat(open);\n\tpieces = pieces.concat(close);\n\tfor (let i = 0, len = pieces.length; i < len; i++) {\n\t\tcollectSuperstrings(pieces[i], brackets, currentIndex, pieces);\n\t}\n\tpieces = unique(pieces);\n\tpieces.sort(lengthcmp);\n\tpieces.reverse();\n\treturn createBracketOrRegExp(pieces);\n}\n\n/**\n * Matching a regular expression in JS can only be done \"forwards\". So JS offers natively only\n * methods to find the first match of a regex in a string. But sometimes, it is useful to\n * find the last match of a regex in a string. For such a situation, a nice solution is to\n * simply reverse the string and then search for a reversed regex.\n *\n * This function also has the fine details of `getRegexForBracketPair`. For the same example\n * given above, the regex produced here would look like:\n *   /(\\bfi dne\\b)|(\\bdne\\b)|(\\bfi\\b)/\n */\nfunction getReversedRegexForBracketPair(open: string[], close: string[], brackets: InternalBracket[], currentIndex: number): RegExp {\n\t// search in all brackets for other brackets that are a superstring of these brackets\n\tlet pieces: string[] = [];\n\tpieces = pieces.concat(open);\n\tpieces = pieces.concat(close);\n\tfor (let i = 0, len = pieces.length; i < len; i++) {\n\t\tcollectSuperstrings(pieces[i], brackets, currentIndex, pieces);\n\t}\n\tpieces = unique(pieces);\n\tpieces.sort(lengthcmp);\n\tpieces.reverse();\n\treturn createBracketOrRegExp(pieces.map(toReversedString));\n}\n\n/**\n * Creates a regular expression that targets all bracket pairs.\n *\n * e.g. for the bracket pairs:\n *  ['{','}']\n *  ['begin,'end']\n *  ['for','end']\n * the regex would look like:\n *  /(\\{)|(\\})|(\\bbegin\\b)|(\\bend\\b)|(\\bfor\\b)/\n */\nfunction getRegexForBrackets(brackets: RichEditBracket[]): RegExp {\n\tlet pieces: string[] = [];\n\tfor (const bracket of brackets) {\n\t\tfor (const open of bracket.open) {\n\t\t\tpieces.push(open);\n\t\t}\n\t\tfor (const close of bracket.close) {\n\t\t\tpieces.push(close);\n\t\t}\n\t}\n\tpieces = unique(pieces);\n\treturn createBracketOrRegExp(pieces);\n}\n\n/**\n * Matching a regular expression in JS can only be done \"forwards\". So JS offers natively only\n * methods to find the first match of a regex in a string. But sometimes, it is useful to\n * find the last match of a regex in a string. For such a situation, a nice solution is to\n * simply reverse the string and then search for a reversed regex.\n *\n * e.g. for the bracket pairs:\n *  ['{','}']\n *  ['begin,'end']\n *  ['for','end']\n * the regex would look like:\n *  /(\\{)|(\\})|(\\bnigeb\\b)|(\\bdne\\b)|(\\brof\\b)/\n */\nfunction getReversedRegexForBrackets(brackets: RichEditBracket[]): RegExp {\n\tlet pieces: string[] = [];\n\tfor (const bracket of brackets) {\n\t\tfor (const open of bracket.open) {\n\t\t\tpieces.push(open);\n\t\t}\n\t\tfor (const close of bracket.close) {\n\t\t\tpieces.push(close);\n\t\t}\n\t}\n\tpieces = unique(pieces);\n\treturn createBracketOrRegExp(pieces.map(toReversedString));\n}\n\nfunction prepareBracketForRegExp(str: string): string {\n\t// This bracket pair uses letters like e.g. \"begin\" - \"end\"\n\tconst insertWordBoundaries = (/^[\\w ]+$/.test(str));\n\tstr = strings.escapeRegExpCharacters(str);\n\treturn (insertWordBoundaries ? `\\\\b${str}\\\\b` : str);\n}\n\nexport function createBracketOrRegExp(pieces: string[], options?: strings.RegExpOptions): RegExp {\n\tconst regexStr = `(${pieces.map(prepareBracketForRegExp).join(')|(')})`;\n\treturn strings.createRegExp(regexStr, true, options);\n}\n\nconst toReversedString = (function () {\n\n\tfunction reverse(str: string): string {\n\t\t// create a Uint16Array and then use a TextDecoder to create a string\n\t\tconst arr = new Uint16Array(str.length);\n\t\tlet offset = 0;\n\t\tfor (let i = str.length - 1; i >= 0; i--) {\n\t\t\tarr[offset++] = str.charCodeAt(i);\n\t\t}\n\t\treturn stringBuilder.getPlatformTextDecoder().decode(arr);\n\t}\n\n\tlet lastInput: string | null = null;\n\tlet lastOutput: string | null = null;\n\treturn function toReversedString(str: string): string {\n\t\tif (lastInput !== str) {\n\t\t\tlastInput = str;\n\t\t\tlastOutput = reverse(lastInput);\n\t\t}\n\t\treturn lastOutput!;\n\t};\n})();\n\nexport class BracketsUtils {\n\n\tprivate static _findPrevBracketInText(reversedBracketRegex: RegExp, lineNumber: number, reversedText: string, offset: number): Range | null {\n\t\tconst m = reversedText.match(reversedBracketRegex);\n\n\t\tif (!m) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst matchOffset = reversedText.length - (m.index || 0);\n\t\tconst matchLength = m[0].length;\n\t\tconst absoluteMatchOffset = offset + matchOffset;\n\n\t\treturn new Range(lineNumber, absoluteMatchOffset - matchLength + 1, lineNumber, absoluteMatchOffset + 1);\n\t}\n\n\tpublic static findPrevBracketInRange(reversedBracketRegex: RegExp, lineNumber: number, lineText: string, startOffset: number, endOffset: number): Range | null {\n\t\t// Because JS does not support backwards regex search, we search forwards in a reversed string with a reversed regex ;)\n\t\tconst reversedLineText = toReversedString(lineText);\n\t\tconst reversedSubstr = reversedLineText.substring(lineText.length - endOffset, lineText.length - startOffset);\n\t\treturn this._findPrevBracketInText(reversedBracketRegex, lineNumber, reversedSubstr, startOffset);\n\t}\n\n\tpublic static findNextBracketInText(bracketRegex: RegExp, lineNumber: number, text: string, offset: number): Range | null {\n\t\tconst m = text.match(bracketRegex);\n\n\t\tif (!m) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst matchOffset = m.index || 0;\n\t\tconst matchLength = m[0].length;\n\t\tif (matchLength === 0) {\n\t\t\treturn null;\n\t\t}\n\t\tconst absoluteMatchOffset = offset + matchOffset;\n\n\t\treturn new Range(lineNumber, absoluteMatchOffset + 1, lineNumber, absoluteMatchOffset + 1 + matchLength);\n\t}\n\n\tpublic static findNextBracketInRange(bracketRegex: RegExp, lineNumber: number, lineText: string, startOffset: number, endOffset: number): Range | null {\n\t\tconst substr = lineText.substring(startOffset, endOffset);\n\t\treturn this.findNextBracketInText(bracketRegex, lineNumber, substr, startOffset);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}