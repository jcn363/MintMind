{"version":3,"names":["cov_15lo7kc3zf","actualCoverage","EditOperation","Range","StableEditorScrollState","FormattingEdit","_handleEolEdits","editor","edits","f","newEol","s","undefined","singleEdits","edit","eol","b","range","text","push","hasModel","getModel","pushEOL","_isFullModelReplaceEdit","model","editRange","validateRange","fullModelRange","getFullModelRange","equalsRange","execute","_edits","addUndoStops","pushUndoStop","scrollState","capture","length","executeEdits","map","replace","lift","replaceMove","restoreRelativeVerticalPositionOfCursor"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/format/browser/formattingEdit.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditOperation, ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EndOfLineSequence } from '../../../common/model.js';\nimport { TextEdit } from '../../../common/languages.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\n\nexport class FormattingEdit {\n\n\tprivate static _handleEolEdits(editor: ICodeEditor, edits: TextEdit[]): ISingleEditOperation[] {\n\t\tlet newEol: EndOfLineSequence | undefined = undefined;\n\t\tconst singleEdits: ISingleEditOperation[] = [];\n\n\t\tfor (const edit of edits) {\n\t\t\tif (typeof edit.eol === 'number') {\n\t\t\t\tnewEol = edit.eol;\n\t\t\t}\n\t\t\tif (edit.range && typeof edit.text === 'string') {\n\t\t\t\tsingleEdits.push(edit);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof newEol === 'number') {\n\t\t\tif (editor.hasModel()) {\n\t\t\t\teditor.getModel().pushEOL(newEol);\n\t\t\t}\n\t\t}\n\n\t\treturn singleEdits;\n\t}\n\n\tprivate static _isFullModelReplaceEdit(editor: ICodeEditor, edit: ISingleEditOperation): boolean {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst model = editor.getModel();\n\t\tconst editRange = model.validateRange(edit.range);\n\t\tconst fullModelRange = model.getFullModelRange();\n\t\treturn fullModelRange.equalsRange(editRange);\n\t}\n\n\tstatic execute(editor: ICodeEditor, _edits: TextEdit[], addUndoStops: boolean) {\n\t\tif (addUndoStops) {\n\t\t\teditor.pushUndoStop();\n\t\t}\n\t\tconst scrollState = StableEditorScrollState.capture(editor);\n\t\tconst edits = FormattingEdit._handleEolEdits(editor, _edits);\n\t\tif (edits.length === 1 && FormattingEdit._isFullModelReplaceEdit(editor, edits[0])) {\n\t\t\t// We use replace semantics and hope that markers stay put...\n\t\t\teditor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replace(Range.lift(edit.range), edit.text)));\n\t\t} else {\n\t\t\teditor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replaceMove(Range.lift(edit.range), edit.text)));\n\t\t}\n\t\tif (addUndoStops) {\n\t\t\teditor.pushUndoStop();\n\t\t}\n\t\tscrollState.restoreRelativeVerticalPositionOfCursor(editor);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}