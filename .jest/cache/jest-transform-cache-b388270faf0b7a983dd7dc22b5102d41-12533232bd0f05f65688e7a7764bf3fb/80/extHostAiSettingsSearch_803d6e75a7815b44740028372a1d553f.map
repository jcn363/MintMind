{"version":3,"names":["cov_55v5mboyd","actualCoverage","MainContext","Disposable","Progress","AiSettingsSearch","ExtHostAiSettingsSearch","_settingsSearchProviders","s","Map","_nextHandle","_proxy","constructor","mainContext","f","getProxy","MainThreadAiSettingsSearch","$startSearch","handle","query","option","token","size","b","Error","provider","get","progressReporter","data","$handleSearchResult","fromSettingsSearchResult","provideSettingsSearchResults","registerSettingsSearchProvider","extension","set","$registerAiSettingsSearchProvider","$unregisterAiSettingsSearchProvider","delete"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostAiSettingsSearch.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { SettingsSearchProvider, SettingsSearchResult } from 'vscode';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { AiSettingsSearchProviderOptions } from '../../services/aiSettingsSearch/common/aiSettingsSearch.js';\nimport { ExtHostAiSettingsSearchShape, IMainContext, MainContext, MainThreadAiSettingsSearchShape } from './extHost.protocol.js';\nimport { Disposable } from './extHostTypes.js';\nimport { Progress } from '../../../platform/progress/common/progress.js';\nimport { AiSettingsSearch } from './extHostTypeConverters.js';\n\nexport class ExtHostAiSettingsSearch implements ExtHostAiSettingsSearchShape {\n\tprivate _settingsSearchProviders: Map<number, SettingsSearchProvider> = new Map();\n\tprivate _nextHandle = 0;\n\n\tprivate readonly _proxy: MainThreadAiSettingsSearchShape;\n\n\tconstructor(mainContext: IMainContext) {\n\t\tthis._proxy = mainContext.getProxy(MainContext.MainThreadAiSettingsSearch);\n\t}\n\n\tasync $startSearch(handle: number, query: string, option: AiSettingsSearchProviderOptions, token: CancellationToken): Promise<void> {\n\t\tif (this._settingsSearchProviders.size === 0) {\n\t\t\tthrow new Error('No related information providers registered');\n\t\t}\n\n\t\tconst provider = this._settingsSearchProviders.get(handle);\n\t\tif (!provider) {\n\t\t\tthrow new Error('Settings search provider not found');\n\t\t}\n\n\t\tconst progressReporter = new Progress<SettingsSearchResult>((data) => {\n\t\t\tthis._proxy.$handleSearchResult(handle, AiSettingsSearch.fromSettingsSearchResult(data));\n\t\t});\n\n\t\treturn provider.provideSettingsSearchResults(query, option, progressReporter, token);\n\t}\n\n\tregisterSettingsSearchProvider(extension: IExtensionDescription, provider: SettingsSearchProvider): Disposable {\n\t\tconst handle = this._nextHandle;\n\t\tthis._nextHandle++;\n\t\tthis._settingsSearchProviders.set(handle, provider);\n\t\tthis._proxy.$registerAiSettingsSearchProvider(handle);\n\t\treturn new Disposable(() => {\n\t\t\tthis._proxy.$unregisterAiSettingsSearchProvider(handle);\n\t\t\tthis._settingsSearchProviders.delete(handle);\n\t\t});\n\t}\n}\n"],"mappings":"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","ignoreList":[]}