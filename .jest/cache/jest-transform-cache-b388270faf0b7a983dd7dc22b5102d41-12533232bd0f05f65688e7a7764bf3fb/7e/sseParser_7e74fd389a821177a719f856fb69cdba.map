{"version":3,"names":["cov_1ggv1ged4l","actualCoverage","SSEParser","dataBuffer","s","eventTypeBuffer","currentEventId","lastEventIdBuffer","reconnectionTime","buffer","endedOnCR","onEventHandler","decoder","constructor","onEvent","f","TextDecoder","getLastEventId","getReconnectionTime","feed","chunk","length","b","offset","indexCR","indexOf","indexLF","index","Math","min","str","buf","decode","stream","subarray","processLine","push","line","dispatchEvent","startsWith","field","value","colonIndex","substring","processField","includes","undefined","test","parseInt","endsWith","event","type","data","id","retry","reset"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/sseParser.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * Parser for Server-Sent Events (SSE) streams according to the HTML specification.\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html#event-stream-interpretation\n */\n\n/**\n * Represents an event dispatched from an SSE stream.\n */\nexport interface ISSEEvent {\n\t/**\n\t * The event type. If not specified, the type is \"message\".\n\t */\n\ttype: string;\n\n\t/**\n\t * The event data.\n\t */\n\tdata: string;\n\n\t/**\n\t * The last event ID, used for reconnection.\n\t */\n\tid?: string;\n\n\t/**\n\t * Reconnection time in milliseconds.\n\t */\n\tretry?: number;\n}\n\n/**\n * Callback function type for event dispatch.\n */\nexport type SSEEventHandler = (event: ISSEEvent) => void;\n\nconst enum Chr {\n\tCR = 13, // '\\r'\n\tLF = 10, // '\\n'\n\tCOLON = 58, // ':'\n\tSPACE = 32, // ' '\n}\n\n/**\n * Parser for Server-Sent Events (SSE) streams.\n */\nexport class SSEParser {\n\tprivate dataBuffer = '';\n\tprivate eventTypeBuffer = '';\n\tprivate currentEventId?: string;\n\tprivate lastEventIdBuffer?: string;\n\tprivate reconnectionTime?: number;\n\tprivate buffer: Uint8Array[] = [];\n\tprivate endedOnCR = false;\n\tprivate readonly onEventHandler: SSEEventHandler;\n\tprivate readonly decoder: TextDecoder;\n\t/**\n\t * Creates a new SSE parser.\n\t * @param onEvent The callback to invoke when an event is dispatched.\n\t */\n\tconstructor(onEvent: SSEEventHandler) {\n\t\tthis.onEventHandler = onEvent;\n\t\tthis.decoder = new TextDecoder('utf-8');\n\t}\n\n\t/**\n\t * Gets the last event ID received by this parser.\n\t */\n\tpublic getLastEventId(): string | undefined {\n\t\treturn this.lastEventIdBuffer;\n\t}\n\t/**\n\t * Gets the reconnection time in milliseconds, if one was specified by the server.\n\t */\n\tpublic getReconnectionTime(): number | undefined {\n\t\treturn this.reconnectionTime;\n\t}\n\n\t/**\n\t * Feeds a chunk of the SSE stream to the parser.\n\t * @param chunk The chunk to parse as a Uint8Array of UTF-8 encoded data.\n\t */\n\tpublic feed(chunk: Uint8Array): void {\n\t\tif (chunk.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet offset = 0;\n\n\t\t// If the data stream was bifurcated between a CR and LF, avoid processing the CR as an extra newline\n\t\tif (this.endedOnCR && chunk[0] === Chr.LF) {\n\t\t\toffset++;\n\t\t}\n\t\tthis.endedOnCR = false;\n\n\t\t// Process complete lines from the buffer\n\t\twhile (offset < chunk.length) {\n\t\t\tconst indexCR = chunk.indexOf(Chr.CR, offset);\n\t\t\tconst indexLF = chunk.indexOf(Chr.LF, offset);\n\t\t\tconst index = indexCR === -1 ? indexLF : (indexLF === -1 ? indexCR : Math.min(indexCR, indexLF));\n\t\t\tif (index === -1) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlet str = '';\n\t\t\tfor (const buf of this.buffer) {\n\t\t\t\tstr += this.decoder.decode(buf, { stream: true });\n\t\t\t}\n\t\t\tstr += this.decoder.decode(chunk.subarray(offset, index));\n\t\t\tthis.processLine(str);\n\n\t\t\tthis.buffer.length = 0;\n\t\t\toffset = index + (chunk[index] === Chr.CR && chunk[index + 1] === Chr.LF ? 2 : 1);\n\t\t}\n\n\n\t\tif (offset < chunk.length) {\n\t\t\tthis.buffer.push(chunk.subarray(offset));\n\t\t} else {\n\t\t\tthis.endedOnCR = chunk[chunk.length - 1] === Chr.CR;\n\t\t}\n\t}\n\t/**\n\t * Processes a single line from the SSE stream.\n\t */\n\tprivate processLine(line: string): void {\n\t\tif (!line.length) {\n\t\t\tthis.dispatchEvent();\n\t\t\treturn;\n\t\t}\n\n\t\tif (line.startsWith(':')) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Parse the field name and value\n\t\tlet field: string;\n\t\tlet value: string;\n\n\t\tconst colonIndex = line.indexOf(':');\n\t\tif (colonIndex === -1) {\n\t\t\t// Line with no colon - the entire line is the field name, value is empty\n\t\t\tfield = line;\n\t\t\tvalue = '';\n\t\t} else {\n\t\t\t// Line with a colon - split into field name and value\n\t\t\tfield = line.substring(0, colonIndex);\n\t\t\tvalue = line.substring(colonIndex + 1);\n\n\t\t\t// If value starts with a space, remove it\n\t\t\tif (value.startsWith(' ')) {\n\t\t\t\tvalue = value.substring(1);\n\t\t\t}\n\t\t}\n\n\t\tthis.processField(field, value);\n\t}\n\t/**\n\t * Processes a field with the given name and value.\n\t */\n\tprivate processField(field: string, value: string): void {\n\t\tswitch (field) {\n\t\t\tcase 'event':\n\t\t\t\tthis.eventTypeBuffer = value;\n\t\t\t\tbreak;\n\n\t\t\tcase 'data':\n\t\t\t\t// Append the value to the data buffer, followed by a newline\n\t\t\t\tthis.dataBuffer += value;\n\t\t\t\tthis.dataBuffer += '\\n';\n\t\t\t\tbreak;\n\n\t\t\tcase 'id':\n\t\t\t\t// If the field value doesn't contain NULL, set the last event ID buffer\n\t\t\t\tif (!value.includes('\\0')) {\n\t\t\t\t\tthis.currentEventId = this.lastEventIdBuffer = value;\n\t\t\t\t} else {\n\t\t\t\t\tthis.currentEventId = undefined;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'retry':\n\t\t\t\t// If the field value consists only of ASCII digits, set the reconnection time\n\t\t\t\tif (/^\\d+$/.test(value)) {\n\t\t\t\t\tthis.reconnectionTime = parseInt(value, 10);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// Ignore any other fields\n\t\t}\n\t}\n\t/**\n\t * Dispatches the event based on the current buffer states.\n\t */\n\tprivate dispatchEvent(): void {\n\t\t// If the data buffer is empty, reset the buffers and return\n\t\tif (this.dataBuffer === '') {\n\t\t\tthis.dataBuffer = '';\n\t\t\tthis.eventTypeBuffer = '';\n\t\t\treturn;\n\t\t}\n\n\t\t// If the data buffer's last character is a newline, remove it\n\t\tif (this.dataBuffer.endsWith('\\n')) {\n\t\t\tthis.dataBuffer = this.dataBuffer.substring(0, this.dataBuffer.length - 1);\n\t\t}\n\n\t\t// Create and dispatch the event\n\t\tconst event: ISSEEvent = {\n\t\t\ttype: this.eventTypeBuffer || 'message',\n\t\t\tdata: this.dataBuffer,\n\t\t};\n\n\t\t// Add optional fields if they exist\n\t\tif (this.currentEventId !== undefined) {\n\t\t\tevent.id = this.currentEventId;\n\t\t}\n\n\t\tif (this.reconnectionTime !== undefined) {\n\t\t\tevent.retry = this.reconnectionTime;\n\t\t}\n\n\t\t// Dispatch the event\n\t\tthis.onEventHandler(event);\n\n\t\t// Reset the data and event type buffers\n\t\tthis.reset();\n\t}\n\n\t/**\n\t * Resets the parser state.\n\t */\n\tpublic reset(): void {\n\t\tthis.dataBuffer = '';\n\t\tthis.eventTypeBuffer = '';\n\t\tthis.currentEventId = undefined;\n\t\t// Note: lastEventIdBuffer is not reset as it's used for reconnection\n\t}\n}\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}