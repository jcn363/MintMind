{"version":3,"names":["cov_1wow7iufrb","actualCoverage","cloneAndChange","safeStringify","isObject","localize","getRemoteName","verifyMicrosoftInternalDomain","TELEMETRY_CRASH_REPORTER_SETTING_ID","TELEMETRY_OLD_SETTING_ID","TELEMETRY_SETTING_ID","TelemetryTrustedValue","value","isTrustedTelemetryValue","s","constructor","f","NullTelemetryServiceShape","telemetryLevel","sessionId","machineId","sqmId","devDeviceId","firstSessionDate","sendErrorTelemetry","publicLog","publicLog2","publicLogError","publicLogError2","setExperimentProperty","NullTelemetryService","NullEndpointTelemetryService","_serviceBrand","_endpoint","_eventName","_data","_errorEventName","telemetryLogId","TelemetryLogGroup","id","name","NullAppender","log","flush","Promise","resolve","undefined","supportsTelemetry","productService","environmentService","b","isBuilt","disableTelemetry","enableTelemetry","isLoggingOnly","extensionTestsLocationURI","aiConfig","ariaKey","getTelemetryLevel","configurationService","newConfig","getValue","crashReporterConfig","oldConfig","validateTelemetryData","data","properties","measurements","flat","flatten","prop","length","substr","console","warn","substring","telemetryAllowedAuthorities","Set","cleanRemoteAuthority","remoteAuthority","remoteName","has","obj","result","order","prefix","item","Object","getOwnPropertyNames","index","Array","isArray","Date","toISOString","isInternalTelemetry","configService","msftInternalDomains","internalTesting","getPiiPathsFromEnvironment","paths","appRoot","extensionsPath","userHome","fsPath","tmpDir","userDataPath","anonymizeFilePaths","stack","cleanupPatterns","includes","updatedStack","cleanUpIndexes","regexp","exec","push","lastIndex","nodeModulesRegex","fileRegex","overlappingRange","some","start","end","test","removePropertiesWithPossibleUserInfo","property","userDataRegexes","label","regex","secretRegex","cleanData","cleanUpPatterns","hasOwnProperty","call","updatedProperty","replaceAll","replace"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/telemetry/common/telemetryUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { cloneAndChange, safeStringify } from '../../../base/common/objects.js';\nimport { isObject } from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { localize } from '../../../nls.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { LoggerGroup } from '../../log/common/log.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { getRemoteName } from '../../remote/common/remoteHosts.js';\nimport { verifyMicrosoftInternalDomain } from './commonProperties.js';\nimport { ICustomEndpointTelemetryService, ITelemetryData, ITelemetryEndpoint, ITelemetryService, TelemetryConfiguration, TelemetryLevel, TELEMETRY_CRASH_REPORTER_SETTING_ID, TELEMETRY_OLD_SETTING_ID, TELEMETRY_SETTING_ID } from './telemetry.js';\n\n/**\n * A special class used to denoting a telemetry value which should not be clean.\n * This is because that value is \"Trusted\" not to contain identifiable information such as paths.\n * NOTE: This is used as an API type as well, and should not be changed.\n */\nexport class TelemetryTrustedValue<T> {\n\t// This is merely used as an identifier as the instance will be lost during serialization over the exthost\n\tpublic readonly isTrustedTelemetryValue = true;\n\tconstructor(public readonly value: T) { }\n}\n\nexport class NullTelemetryServiceShape implements ITelemetryService {\n\tdeclare readonly _serviceBrand: undefined;\n\treadonly telemetryLevel = TelemetryLevel.NONE;\n\treadonly sessionId = 'someValue.sessionId';\n\treadonly machineId = 'someValue.machineId';\n\treadonly sqmId = 'someValue.sqmId';\n\treadonly devDeviceId = 'someValue.devDeviceId';\n\treadonly firstSessionDate = 'someValue.firstSessionDate';\n\treadonly sendErrorTelemetry = false;\n\tpublicLog() { }\n\tpublicLog2() { }\n\tpublicLogError() { }\n\tpublicLogError2() { }\n\tsetExperimentProperty() { }\n}\n\nexport const NullTelemetryService = new NullTelemetryServiceShape();\n\nexport class NullEndpointTelemetryService implements ICustomEndpointTelemetryService {\n\t_serviceBrand: undefined;\n\n\tasync publicLog(_endpoint: ITelemetryEndpoint, _eventName: string, _data?: ITelemetryData): Promise<void> {\n\t\t// noop\n\t}\n\n\tasync publicLogError(_endpoint: ITelemetryEndpoint, _errorEventName: string, _data?: ITelemetryData): Promise<void> {\n\t\t// noop\n\t}\n}\n\nexport const telemetryLogId = 'telemetry';\nexport const TelemetryLogGroup: LoggerGroup = { id: telemetryLogId, name: localize('telemetryLogName', \"Telemetry\") };\n\nexport interface ITelemetryAppender {\n\tlog(eventName: string, data: any): void;\n\tflush(): Promise<void>;\n}\n\nexport const NullAppender: ITelemetryAppender = { log: () => null, flush: () => Promise.resolve(undefined) };\n\n\n/* __GDPR__FRAGMENT__\n\t\"URIDescriptor\" : {\n\t\t\"mimeType\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"scheme\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"ext\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"path\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t}\n*/\nexport interface URIDescriptor {\n\tmimeType?: string;\n\tscheme?: string;\n\text?: string;\n\tpath?: string;\n}\n\n/**\n * Determines whether or not we support logging telemetry.\n * This checks if the product is capable of collecting telemetry but not whether or not it can send it\n * For checking the user setting and what telemetry you can send please check `getTelemetryLevel`.\n * This returns true if `--disable-telemetry` wasn't used, the product.json allows for telemetry, and we're not testing an extension\n * If false telemetry is disabled throughout the product\n * @param productService\n * @param environmentService\n * @returns false - telemetry is completely disabled, true - telemetry is logged locally, but may not be sent\n */\nexport function supportsTelemetry(productService: IProductService, environmentService: IEnvironmentService): boolean {\n\t// If it's OSS and telemetry isn't disabled via the CLI we will allow it for logging only purposes\n\tif (!environmentService.isBuilt && !environmentService.disableTelemetry) {\n\t\treturn true;\n\t}\n\treturn !(environmentService.disableTelemetry || !productService.enableTelemetry);\n}\n\n/**\n * Checks to see if we're in logging only mode to debug telemetry.\n * This is if telemetry is enabled and we're in OSS, but no telemetry key is provided so it's not being sent just logged.\n * @param productService\n * @param environmentService\n * @returns True if telemetry is actually disabled and we're only logging for debug purposes\n */\nexport function isLoggingOnly(productService: IProductService, environmentService: IEnvironmentService): boolean {\n\t// If we're testing an extension, log telemetry for debug purposes\n\tif (environmentService.extensionTestsLocationURI) {\n\t\treturn true;\n\t}\n\t// Logging only mode is only for OSS\n\tif (environmentService.isBuilt) {\n\t\treturn false;\n\t}\n\n\tif (environmentService.disableTelemetry) {\n\t\treturn false;\n\t}\n\n\tif (productService.enableTelemetry && productService.aiConfig?.ariaKey) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Determines how telemetry is handled based on the user's configuration.\n *\n * @param configurationService\n * @returns OFF, ERROR, ON\n */\nexport function getTelemetryLevel(configurationService: IConfigurationService): TelemetryLevel {\n\tconst newConfig = configurationService.getValue<TelemetryConfiguration>(TELEMETRY_SETTING_ID);\n\tconst crashReporterConfig = configurationService.getValue<boolean | undefined>(TELEMETRY_CRASH_REPORTER_SETTING_ID);\n\tconst oldConfig = configurationService.getValue<boolean | undefined>(TELEMETRY_OLD_SETTING_ID);\n\n\t// If `telemetry.enableCrashReporter` is false or `telemetry.enableTelemetry' is false, disable telemetry\n\tif (oldConfig === false || crashReporterConfig === false) {\n\t\treturn TelemetryLevel.NONE;\n\t}\n\n\t// Maps new telemetry setting to a telemetry level\n\tswitch (newConfig ?? TelemetryConfiguration.ON) {\n\t\tcase TelemetryConfiguration.ON:\n\t\t\treturn TelemetryLevel.USAGE;\n\t\tcase TelemetryConfiguration.ERROR:\n\t\t\treturn TelemetryLevel.ERROR;\n\t\tcase TelemetryConfiguration.CRASH:\n\t\t\treturn TelemetryLevel.CRASH;\n\t\tcase TelemetryConfiguration.OFF:\n\t\t\treturn TelemetryLevel.NONE;\n\t}\n}\n\nexport interface Properties {\n\t[key: string]: string;\n}\n\nexport interface Measurements {\n\t[key: string]: number;\n}\n\nexport function validateTelemetryData(data?: any): { properties: Properties; measurements: Measurements } {\n\n\tconst properties: Properties = {};\n\tconst measurements: Measurements = {};\n\n\tconst flat: Record<string, any> = {};\n\tflatten(data, flat);\n\n\tfor (let prop in flat) {\n\t\t// enforce property names less than 150 char, take the last 150 char\n\t\tprop = prop.length > 150 ? prop.substr(prop.length - 149) : prop;\n\t\tconst value = flat[prop];\n\n\t\tif (typeof value === 'number') {\n\t\t\tmeasurements[prop] = value;\n\n\t\t} else if (typeof value === 'boolean') {\n\t\t\tmeasurements[prop] = value ? 1 : 0;\n\n\t\t} else if (typeof value === 'string') {\n\t\t\tif (value.length > 8192) {\n\t\t\t\tconsole.warn(`Telemetry property: ${prop} has been trimmed to 8192, the original length is ${value.length}`);\n\t\t\t}\n\t\t\t//enforce property value to be less than 8192 char, take the first 8192 char\n\t\t\t// https://docs.microsoft.com/en-us/azure/azure-monitor/app/api-custom-events-metrics#limits\n\t\t\tproperties[prop] = value.substring(0, 8191);\n\n\t\t} else if (typeof value !== 'undefined' && value !== null) {\n\t\t\tproperties[prop] = value;\n\t\t}\n\t}\n\n\treturn {\n\t\tproperties,\n\t\tmeasurements\n\t};\n}\n\nconst telemetryAllowedAuthorities = new Set(['ssh-remote', 'dev-container', 'attached-container', 'wsl', 'tunnel', 'codespaces', 'amlext']);\n\nexport function cleanRemoteAuthority(remoteAuthority?: string): string {\n\tif (!remoteAuthority) {\n\t\treturn 'none';\n\t}\n\tconst remoteName = getRemoteName(remoteAuthority);\n\treturn telemetryAllowedAuthorities.has(remoteName) ? remoteName : 'other';\n}\n\nfunction flatten(obj: any, result: { [key: string]: any }, order: number = 0, prefix?: string): void {\n\tif (!obj) {\n\t\treturn;\n\t}\n\n\tfor (const item of Object.getOwnPropertyNames(obj)) {\n\t\tconst value = obj[item];\n\t\tconst index = prefix ? prefix + item : item;\n\n\t\tif (Array.isArray(value)) {\n\t\t\tresult[index] = safeStringify(value);\n\n\t\t} else if (value instanceof Date) {\n\t\t\t// TODO unsure why this is here and not in _getData\n\t\t\tresult[index] = value.toISOString();\n\n\t\t} else if (isObject(value)) {\n\t\t\tif (order < 2) {\n\t\t\t\tflatten(value, result, order + 1, index + '.');\n\t\t\t} else {\n\t\t\t\tresult[index] = safeStringify(value);\n\t\t\t}\n\t\t} else {\n\t\t\tresult[index] = value;\n\t\t}\n\t}\n}\n\n/**\n * Whether or not this is an internal user\n * @param productService The product service\n * @param configService The config servivce\n * @returns true if internal, false otherwise\n */\nexport function isInternalTelemetry(productService: IProductService, configService: IConfigurationService) {\n\tconst msftInternalDomains = productService.msftInternalDomains || [];\n\tconst internalTesting = configService.getValue<boolean>('telemetry.internalTesting');\n\treturn verifyMicrosoftInternalDomain(msftInternalDomains) || internalTesting;\n}\n\ninterface IPathEnvironment {\n\tappRoot: string;\n\textensionsPath: string;\n\tuserDataPath: string;\n\tuserHome: URI;\n\ttmpDir: URI;\n}\n\nexport function getPiiPathsFromEnvironment(paths: IPathEnvironment): string[] {\n\treturn [paths.appRoot, paths.extensionsPath, paths.userHome.fsPath, paths.tmpDir.fsPath, paths.userDataPath];\n}\n\n//#region Telemetry Cleaning\n\n/**\n * Cleans a given stack of possible paths\n * @param stack The stack to sanitize\n * @param cleanupPatterns Cleanup patterns to remove from the stack\n * @returns The cleaned stack\n */\nfunction anonymizeFilePaths(stack: string, cleanupPatterns: RegExp[]): string {\n\n\t// Fast check to see if it is a file path to avoid doing unnecessary heavy regex work\n\tif (!stack || (!stack.includes('/') && !stack.includes('\\\\'))) {\n\t\treturn stack;\n\t}\n\n\tlet updatedStack = stack;\n\n\tconst cleanUpIndexes: [number, number][] = [];\n\tfor (const regexp of cleanupPatterns) {\n\t\twhile (true) {\n\t\t\tconst result = regexp.exec(stack);\n\t\t\tif (!result) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcleanUpIndexes.push([result.index, regexp.lastIndex]);\n\t\t}\n\t}\n\n\tconst nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\n\tconst fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\n\tlet lastIndex = 0;\n\tupdatedStack = '';\n\n\twhile (true) {\n\t\tconst result = fileRegex.exec(stack);\n\t\tif (!result) {\n\t\t\tbreak;\n\t\t}\n\n\t\t// Check to see if the any cleanupIndexes partially overlap with this match\n\t\tconst overlappingRange = cleanUpIndexes.some(([start, end]) => result.index < end && start < fileRegex.lastIndex);\n\n\t\t// anoynimize user file paths that do not need to be retained or cleaned up.\n\t\tif (!nodeModulesRegex.test(result[0]) && !overlappingRange) {\n\t\t\tupdatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\n\t\t\tlastIndex = fileRegex.lastIndex;\n\t\t}\n\t}\n\tif (lastIndex < stack.length) {\n\t\tupdatedStack += stack.substr(lastIndex);\n\t}\n\n\treturn updatedStack;\n}\n\n/**\n * Attempts to remove commonly leaked PII\n * @param property The property which will be removed if it contains user data\n * @returns The new value for the property\n */\nfunction removePropertiesWithPossibleUserInfo(property: string): string {\n\t// If for some reason it is undefined we skip it (this shouldn't be possible);\n\tif (!property) {\n\t\treturn property;\n\t}\n\n\tconst userDataRegexes = [\n\t\t{ label: 'URL', regex: /[a-zA-Z][a-zA-Z0-9+.-]*:\\/\\/[^\\s]*/ },\n\t\t{ label: 'Google API Key', regex: /AIza[A-Za-z0-9_\\\\\\-]{35}/ },\n\t\t{ label: 'JWT', regex: /eyJ[0eXAiOiJKV1Qi|hbGci|a-zA-Z0-9\\-_]+\\.[a-zA-Z0-9\\-_]+\\.[a-zA-Z0-9\\-_]+/ },\n\t\t{ label: 'Slack Token', regex: /xox[pbar]\\-[A-Za-z0-9]/ },\n\t\t{ label: 'GitHub Token', regex: /(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/ },\n\t\t{ label: 'Generic Secret', regex: /(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i },\n\t\t{ label: 'CLI Credentials', regex: /((login|psexec|(certutil|psexec)\\.exe).{1,50}(\\s-u(ser(name)?)?\\s+.{3,100})?\\s-(admin|user|vm|root)?p(ass(word)?)?\\s+[\"']?[^$\\-\\/\\s]|(^|[\\s\\r\\n\\\\])net(\\.exe)?.{1,5}(user\\s+|share\\s+\\/user:| user -? secrets ? set) \\s + [^ $\\s \\/])/ },\n\t\t{ label: 'Microsoft Entra ID', regex: /eyJ(?:0eXAiOiJKV1Qi|hbGci|[a-zA-Z0-9\\-_]+\\.[a-zA-Z0-9\\-_]+\\.)/ },\n\t\t{ label: 'Email', regex: /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}/ }\n\t];\n\n\t// Check for common user data in the telemetry events\n\tfor (const secretRegex of userDataRegexes) {\n\t\tif (secretRegex.regex.test(property)) {\n\t\t\treturn `<REDACTED: ${secretRegex.label}>`;\n\t\t}\n\t}\n\n\treturn property;\n}\n\n\n/**\n * Does a best possible effort to clean a data object from any possible PII.\n * @param data The data object to clean\n * @param paths Any additional patterns that should be removed from the data set\n * @returns A new object with the PII removed\n */\nexport function cleanData(data: Record<string, any>, cleanUpPatterns: RegExp[]): Record<string, any> {\n\treturn cloneAndChange(data, value => {\n\n\t\t// If it's a trusted value it means it's okay to skip cleaning so we don't clean it\n\t\tif (value instanceof TelemetryTrustedValue || Object.hasOwnProperty.call(value, 'isTrustedTelemetryValue')) {\n\t\t\treturn value.value;\n\t\t}\n\n\t\t// We only know how to clean strings\n\t\tif (typeof value === 'string') {\n\t\t\tlet updatedProperty = value.replaceAll('%20', ' ');\n\n\t\t\t// First we anonymize any possible file paths\n\t\t\tupdatedProperty = anonymizeFilePaths(updatedProperty, cleanUpPatterns);\n\n\t\t\t// Then we do a simple regex replace with the defined patterns\n\t\t\tfor (const regexp of cleanUpPatterns) {\n\t\t\t\tupdatedProperty = updatedProperty.replace(regexp, '');\n\t\t\t}\n\n\t\t\t// Lastly, remove commonly leaked PII\n\t\t\tupdatedProperty = removePropertiesWithPossibleUserInfo(updatedProperty);\n\n\t\t\treturn updatedProperty;\n\t\t}\n\t\treturn undefined;\n\t});\n}\n\n//#endregion\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAsBM;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAtBN;;;;AAKA,SAASE,cAAc,EAAEC,aAAa,QAAQ,iCAAiC;AAC/E,SAASC,QAAQ,QAAQ,+BAA+B;AAExD,SAASC,QAAQ,QAAQ,iBAAiB;AAK1C,SAASC,aAAa,QAAQ,oCAAoC;AAClE,SAASC,6BAA6B,QAAQ,uBAAuB;AACrE,SAAyIC,mCAAmC,EAAEC,wBAAwB,EAAEC,oBAAoB,QAAQ,gBAAgB;AAEpP;;;;;AAKA,OAAM,MAAOC,qBAAqB;EAGLC,KAAA;EAF5B;EACgBC,uBAAuB;EAAA;EAAA,CAAAb,cAAA,GAAAc,CAAA,OAAG,IAAI;EAC9CC,YAA4BH,KAAQ;IAAA;IAAAZ,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAc,CAAA;IAAR,KAAAF,KAAK,GAALA,KAAK;EAAO;;AAGzC,OAAM,MAAOK,yBAAyB;EAE5BC,cAAc;EAAA;EAAA,CAAAlB,cAAA,GAAAc,CAAA;EACdK,SAAS;EAAA;EAAA,CAAAnB,cAAA,GAAAc,CAAA,OAAG,qBAAqB;EACjCM,SAAS;EAAA;EAAA,CAAApB,cAAA,GAAAc,CAAA,OAAG,qBAAqB;EACjCO,KAAK;EAAA;EAAA,CAAArB,cAAA,GAAAc,CAAA,OAAG,iBAAiB;EACzBQ,WAAW;EAAA;EAAA,CAAAtB,cAAA,GAAAc,CAAA,OAAG,uBAAuB;EACrCS,gBAAgB;EAAA;EAAA,CAAAvB,cAAA,GAAAc,CAAA,OAAG,4BAA4B;EAC/CU,kBAAkB;EAAA;EAAA,CAAAxB,cAAA,GAAAc,CAAA,OAAG,KAAK;EACnCW,SAASA,CAAA;IAAA;IAAAzB,cAAA,GAAAgB,CAAA;EAAK;EACdU,UAAUA,CAAA;IAAA;IAAA1B,cAAA,GAAAgB,CAAA;EAAK;EACfW,cAAcA,CAAA;IAAA;IAAA3B,cAAA,GAAAgB,CAAA;EAAK;EACnBY,eAAeA,CAAA;IAAA;IAAA5B,cAAA,GAAAgB,CAAA;EAAK;EACpBa,qBAAqBA,CAAA;IAAA;IAAA7B,cAAA,GAAAgB,CAAA;EAAK;;AAG3B,OAAO,MAAMc,oBAAoB;AAAA;AAAA,CAAA9B,cAAA,GAAAc,CAAA,OAAG,IAAIG,yBAAyB,EAAE;AAEnE,OAAM,MAAOc,4BAA4B;EACxCC,aAAa;EAEb,MAAMP,SAASA,CAACQ,SAA6B,EAAEC,UAAkB,EAAEC,KAAsB;IAAA;IAAAnC,cAAA,GAAAgB,CAAA;EAEzF,CAAC,CADA;EAGD,MAAMW,cAAcA,CAACM,SAA6B,EAAEG,eAAuB,EAAED,KAAsB;IAAA;IAAAnC,cAAA,GAAAgB,CAAA;EAEnG,CAAC,CADA;;AAIF,OAAO,MAAMqB,cAAc;AAAA;AAAA,CAAArC,cAAA,GAAAc,CAAA,QAAG,WAAW;AACzC,OAAO,MAAMwB,iBAAiB;AAAA;AAAA,CAAAtC,cAAA,GAAAc,CAAA,QAAgB;EAAEyB,EAAE,EAAEF,cAAc;EAAEG,IAAI,EAAEnC,QAAQ,CAAC,kBAAkB,EAAE,WAAW;AAAC,CAAE;AAOrH,OAAO,MAAMoC,YAAY;AAAA;AAAA,CAAAzC,cAAA,GAAAc,CAAA,QAAuB;EAAE4B,GAAG,EAAEA,CAAA,KAAM;IAAA;IAAA1C,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAc,CAAA;IAAA,WAAI;EAAJ,CAAI;EAAE6B,KAAK,EAAEA,CAAA,KAAM;IAAA;IAAA3C,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAc,CAAA;IAAA,OAAA8B,OAAO,CAACC,OAAO,CAACC,SAAS,CAAC;EAAD;AAAC,CAAE;AAkB5G;;;;;;;;;;AAUA,OAAM,SAAUC,iBAAiBA,CAACC,cAA+B,EAAEC,kBAAuC;EAAA;EAAAjD,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EACzG;EACA;EAAI;EAAA,CAAAd,cAAA,GAAAkD,CAAA,WAACD,kBAAkB,CAACE,OAAO;EAAA;EAAA,CAAAnD,cAAA,GAAAkD,CAAA,UAAI,CAACD,kBAAkB,CAACG,gBAAgB,GAAE;IAAA;IAAApD,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACxE,OAAO,IAAI;EACZ,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EACD,OAAO;EAAE;EAAA,CAAAd,cAAA,GAAAkD,CAAA,UAAAD,kBAAkB,CAACG,gBAAgB;EAAA;EAAA,CAAApD,cAAA,GAAAkD,CAAA,UAAI,CAACF,cAAc,CAACK,eAAe,EAAC;AACjF;AAEA;;;;;;;AAOA,OAAM,SAAUC,aAAaA,CAACN,cAA+B,EAAEC,kBAAuC;EAAA;EAAAjD,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EACrG;EACA,IAAImC,kBAAkB,CAACM,yBAAyB,EAAE;IAAA;IAAAvD,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACjD,OAAO,IAAI;EACZ,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EACD;EAAAlD,cAAA,GAAAc,CAAA;EACA,IAAImC,kBAAkB,CAACE,OAAO,EAAE;IAAA;IAAAnD,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IAC/B,OAAO,KAAK;EACb,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EAED,IAAImC,kBAAkB,CAACG,gBAAgB,EAAE;IAAA;IAAApD,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACxC,OAAO,KAAK;EACb,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EAED;EAAI;EAAA,CAAAd,cAAA,GAAAkD,CAAA,UAAAF,cAAc,CAACK,eAAe;EAAA;EAAA,CAAArD,cAAA,GAAAkD,CAAA,UAAIF,cAAc,CAACQ,QAAQ,EAAEC,OAAO,GAAE;IAAA;IAAAzD,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACvE,OAAO,KAAK;EACb,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EAED,OAAO,IAAI;AACZ;AAEA;;;;;;AAMA,OAAM,SAAU4C,iBAAiBA,CAACC,oBAA2C;EAAA;EAAA3D,cAAA,GAAAgB,CAAA;EAC5E,MAAM4C,SAAS;EAAA;EAAA,CAAA5D,cAAA,GAAAc,CAAA,QAAG6C,oBAAoB,CAACE,QAAQ,CAAyBnD,oBAAoB,CAAC;EAC7F,MAAMoD,mBAAmB;EAAA;EAAA,CAAA9D,cAAA,GAAAc,CAAA,QAAG6C,oBAAoB,CAACE,QAAQ,CAAsBrD,mCAAmC,CAAC;EACnH,MAAMuD,SAAS;EAAA;EAAA,CAAA/D,cAAA,GAAAc,CAAA,QAAG6C,oBAAoB,CAACE,QAAQ,CAAsBpD,wBAAwB,CAAC;EAE9F;EAAA;EAAAT,cAAA,GAAAc,CAAA;EACA;EAAI;EAAA,CAAAd,cAAA,GAAAkD,CAAA,UAAAa,SAAS,KAAK,KAAK;EAAA;EAAA,CAAA/D,cAAA,GAAAkD,CAAA,UAAIY,mBAAmB,KAAK,KAAK,GAAE;IAAA;IAAA9D,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACzD;EACD,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAED;EAAAlD,cAAA,GAAAc,CAAA;EACA;EAAQ;EAAA,CAAAd,cAAA,GAAAkD,CAAA,WAAAU,SAAS;EAAA;EAAA,CAAA5D,cAAA,GAAAkD,CAAA;IAChB;MAAA;MAAAlD,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACC;IACD;MAAA;MAAAd,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACC;IACD;MAAA;MAAAd,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACC;IACD;MAAA;MAAAd,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACC;EACF;AACD;AAUA,OAAM,SAAUkD,qBAAqBA,CAACC,IAAU;EAAA;EAAAjE,cAAA,GAAAgB,CAAA;EAE/C,MAAMkD,UAAU;EAAA;EAAA,CAAAlE,cAAA,GAAAc,CAAA,QAAe,EAAE;EACjC,MAAMqD,YAAY;EAAA;EAAA,CAAAnE,cAAA,GAAAc,CAAA,QAAiB,EAAE;EAErC,MAAMsD,IAAI;EAAA;EAAA,CAAApE,cAAA,GAAAc,CAAA,QAAwB,EAAE;EAAC;EAAAd,cAAA,GAAAc,CAAA;EACrCuD,OAAO,CAACJ,IAAI,EAAEG,IAAI,CAAC;EAAC;EAAApE,cAAA,GAAAc,CAAA;EAEpB,KAAK,IAAIwD,IAAI,IAAIF,IAAI,EAAE;IAAA;IAAApE,cAAA,GAAAc,CAAA;IACtB;IACAwD,IAAI,GAAGA,IAAI,CAACC,MAAM,GAAG,GAAG;IAAA;IAAA,CAAAvE,cAAA,GAAAkD,CAAA,WAAGoB,IAAI,CAACE,MAAM,CAACF,IAAI,CAACC,MAAM,GAAG,GAAG,CAAC;IAAA;IAAA,CAAAvE,cAAA,GAAAkD,CAAA,WAAGoB,IAAI;IAChE,MAAM1D,KAAK;IAAA;IAAA,CAAAZ,cAAA,GAAAc,CAAA,QAAGsD,IAAI,CAACE,IAAI,CAAC;IAAC;IAAAtE,cAAA,GAAAc,CAAA;IAEzB,IAAI,OAAOF,KAAK,KAAK,QAAQ,EAAE;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MAC9BqD,YAAY,CAACG,IAAI,CAAC,GAAG1D,KAAK;IAE3B,CAAC,MAAM;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MAAA,IAAI,OAAOF,KAAK,KAAK,SAAS,EAAE;QAAA;QAAAZ,cAAA,GAAAkD,CAAA;QAAAlD,cAAA,GAAAc,CAAA;QACtCqD,YAAY,CAACG,IAAI,CAAC,GAAG1D,KAAK;QAAA;QAAA,CAAAZ,cAAA,GAAAkD,CAAA,WAAG,CAAC;QAAA;QAAA,CAAAlD,cAAA,GAAAkD,CAAA,WAAG,CAAC;MAEnC,CAAC,MAAM;QAAA;QAAAlD,cAAA,GAAAkD,CAAA;QAAAlD,cAAA,GAAAc,CAAA;QAAA,IAAI,OAAOF,KAAK,KAAK,QAAQ,EAAE;UAAA;UAAAZ,cAAA,GAAAkD,CAAA;UAAAlD,cAAA,GAAAc,CAAA;UACrC,IAAIF,KAAK,CAAC2D,MAAM,GAAG,IAAI,EAAE;YAAA;YAAAvE,cAAA,GAAAkD,CAAA;YAAAlD,cAAA,GAAAc,CAAA;YACxB2D,OAAO,CAACC,IAAI,CAAC,uBAAuBJ,IAAI,qDAAqD1D,KAAK,CAAC2D,MAAM,EAAE,CAAC;UAC7G,CAAC;UAAA;UAAA;YAAAvE,cAAA,GAAAkD,CAAA;UAAA;UACD;UACA;UAAAlD,cAAA,GAAAc,CAAA;UACAoD,UAAU,CAACI,IAAI,CAAC,GAAG1D,KAAK,CAAC+D,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC;QAE5C,CAAC,MAAM;UAAA;UAAA3E,cAAA,GAAAkD,CAAA;UAAAlD,cAAA,GAAAc,CAAA;UAAA;UAAI;UAAA,CAAAd,cAAA,GAAAkD,CAAA,kBAAOtC,KAAK,KAAK,WAAW;UAAA;UAAA,CAAAZ,cAAA,GAAAkD,CAAA,WAAItC,KAAK,KAAK,IAAI,GAAE;YAAA;YAAAZ,cAAA,GAAAkD,CAAA;YAAAlD,cAAA,GAAAc,CAAA;YAC1DoD,UAAU,CAACI,IAAI,CAAC,GAAG1D,KAAK;UACzB,CAAC;UAAA;UAAA;YAAAZ,cAAA,GAAAkD,CAAA;UAAA;QAAD;MAAA;IAAA;EACD;EAAC;EAAAlD,cAAA,GAAAc,CAAA;EAED,OAAO;IACNoD,UAAU;IACVC;GACA;AACF;AAEA,MAAMS,2BAA2B;AAAA;AAAA,CAAA5E,cAAA,GAAAc,CAAA,QAAG,IAAI+D,GAAG,CAAC,CAAC,YAAY,EAAE,eAAe,EAAE,oBAAoB,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;AAE3I,OAAM,SAAUC,oBAAoBA,CAACC,eAAwB;EAAA;EAAA/E,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EAC5D,IAAI,CAACiE,eAAe,EAAE;IAAA;IAAA/E,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACrB,OAAO,MAAM;EACd,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EACD,MAAM8B,UAAU;EAAA;EAAA,CAAAhF,cAAA,GAAAc,CAAA,QAAGR,aAAa,CAACyE,eAAe,CAAC;EAAC;EAAA/E,cAAA,GAAAc,CAAA;EAClD,OAAO8D,2BAA2B,CAACK,GAAG,CAACD,UAAU,CAAC;EAAA;EAAA,CAAAhF,cAAA,GAAAkD,CAAA,WAAG8B,UAAU;EAAA;EAAA,CAAAhF,cAAA,GAAAkD,CAAA,WAAG,OAAO;AAC1E;AAEA,SAASmB,OAAOA,CAACa,GAAQ,EAAEC,MAA8B,EAAEC,KAAA;AAAA;AAAA,CAAApF,cAAA,GAAAkD,CAAA,WAAgB,CAAC,GAAEmC,MAAe;EAAA;EAAArF,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EAC5F,IAAI,CAACoE,GAAG,EAAE;IAAA;IAAAlF,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACT;EACD,CAAC;EAAA;EAAA;IAAAd,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EAED,KAAK,MAAMwE,IAAI,IAAIC,MAAM,CAACC,mBAAmB,CAACN,GAAG,CAAC,EAAE;IACnD,MAAMtE,KAAK;IAAA;IAAA,CAAAZ,cAAA,GAAAc,CAAA,QAAGoE,GAAG,CAACI,IAAI,CAAC;IACvB,MAAMG,KAAK;IAAA;IAAA,CAAAzF,cAAA,GAAAc,CAAA,QAAGuE,MAAM;IAAA;IAAA,CAAArF,cAAA,GAAAkD,CAAA,WAAGmC,MAAM,GAAGC,IAAI;IAAA;IAAA,CAAAtF,cAAA,GAAAkD,CAAA,WAAGoC,IAAI;IAAC;IAAAtF,cAAA,GAAAc,CAAA;IAE5C,IAAI4E,KAAK,CAACC,OAAO,CAAC/E,KAAK,CAAC,EAAE;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACzBqE,MAAM,CAACM,KAAK,CAAC,GAAGtF,aAAa,CAACS,KAAK,CAAC;IAErC,CAAC,MAAM;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MAAA,IAAIF,KAAK,YAAYgF,IAAI,EAAE;QAAA;QAAA5F,cAAA,GAAAkD,CAAA;QAAAlD,cAAA,GAAAc,CAAA;QACjC;QACAqE,MAAM,CAACM,KAAK,CAAC,GAAG7E,KAAK,CAACiF,WAAW,EAAE;MAEpC,CAAC,MAAM;QAAA;QAAA7F,cAAA,GAAAkD,CAAA;QAAAlD,cAAA,GAAAc,CAAA;QAAA,IAAIV,QAAQ,CAACQ,KAAK,CAAC,EAAE;UAAA;UAAAZ,cAAA,GAAAkD,CAAA;UAAAlD,cAAA,GAAAc,CAAA;UAC3B,IAAIsE,KAAK,GAAG,CAAC,EAAE;YAAA;YAAApF,cAAA,GAAAkD,CAAA;YAAAlD,cAAA,GAAAc,CAAA;YACduD,OAAO,CAACzD,KAAK,EAAEuE,MAAM,EAAEC,KAAK,GAAG,CAAC,EAAEK,KAAK,GAAG,GAAG,CAAC;UAC/C,CAAC,MAAM;YAAA;YAAAzF,cAAA,GAAAkD,CAAA;YAAAlD,cAAA,GAAAc,CAAA;YACNqE,MAAM,CAACM,KAAK,CAAC,GAAGtF,aAAa,CAACS,KAAK,CAAC;UACrC;QACD,CAAC,MAAM;UAAA;UAAAZ,cAAA,GAAAkD,CAAA;UAAAlD,cAAA,GAAAc,CAAA;UACNqE,MAAM,CAACM,KAAK,CAAC,GAAG7E,KAAK;QACtB;MAAA;IAAA;EACD;AACD;AAEA;;;;;;AAMA,OAAM,SAAUkF,mBAAmBA,CAAC9C,cAA+B,EAAE+C,aAAoC;EAAA;EAAA/F,cAAA,GAAAgB,CAAA;EACxG,MAAMgF,mBAAmB;EAAA;EAAA,CAAAhG,cAAA,GAAAc,CAAA;EAAG;EAAA,CAAAd,cAAA,GAAAkD,CAAA,WAAAF,cAAc,CAACgD,mBAAmB;EAAA;EAAA,CAAAhG,cAAA,GAAAkD,CAAA,WAAI,EAAE;EACpE,MAAM+C,eAAe;EAAA;EAAA,CAAAjG,cAAA,GAAAc,CAAA,QAAGiF,aAAa,CAAClC,QAAQ,CAAU,2BAA2B,CAAC;EAAC;EAAA7D,cAAA,GAAAc,CAAA;EACrF,OAAO,2BAAAd,cAAA,GAAAkD,CAAA,WAAA3C,6BAA6B,CAACyF,mBAAmB,CAAC;EAAA;EAAA,CAAAhG,cAAA,GAAAkD,CAAA,WAAI+C,eAAe;AAC7E;AAUA,OAAM,SAAUC,0BAA0BA,CAACC,KAAuB;EAAA;EAAAnG,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EACjE,OAAO,CAACqF,KAAK,CAACC,OAAO,EAAED,KAAK,CAACE,cAAc,EAAEF,KAAK,CAACG,QAAQ,CAACC,MAAM,EAAEJ,KAAK,CAACK,MAAM,CAACD,MAAM,EAAEJ,KAAK,CAACM,YAAY,CAAC;AAC7G;AAEA;AAEA;;;;;;AAMA,SAASC,kBAAkBA,CAACC,KAAa,EAAEC,eAAyB;EAAA;EAAA5G,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EAEnE;EACA;EAAI;EAAA,CAAAd,cAAA,GAAAkD,CAAA,YAACyD,KAAK;EAAK;EAAA,CAAA3G,cAAA,GAAAkD,CAAA,YAACyD,KAAK,CAACE,QAAQ,CAAC,GAAG,CAAC;EAAA;EAAA,CAAA7G,cAAA,GAAAkD,CAAA,WAAI,CAACyD,KAAK,CAACE,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;IAAA;IAAA7G,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IAC9D,OAAO6F,KAAK;EACb,CAAC;EAAA;EAAA;IAAA3G,cAAA,GAAAkD,CAAA;EAAA;EAED,IAAI4D,YAAY;EAAA;EAAA,CAAA9G,cAAA,GAAAc,CAAA,QAAG6F,KAAK;EAExB,MAAMI,cAAc;EAAA;EAAA,CAAA/G,cAAA,GAAAc,CAAA,QAAuB,EAAE;EAAC;EAAAd,cAAA,GAAAc,CAAA;EAC9C,KAAK,MAAMkG,MAAM,IAAIJ,eAAe,EAAE;IAAA;IAAA5G,cAAA,GAAAc,CAAA;IACrC,OAAO,IAAI,EAAE;MACZ,MAAMqE,MAAM;MAAA;MAAA,CAAAnF,cAAA,GAAAc,CAAA,QAAGkG,MAAM,CAACC,IAAI,CAACN,KAAK,CAAC;MAAC;MAAA3G,cAAA,GAAAc,CAAA;MAClC,IAAI,CAACqE,MAAM,EAAE;QAAA;QAAAnF,cAAA,GAAAkD,CAAA;QAAAlD,cAAA,GAAAc,CAAA;QACZ;MACD,CAAC;MAAA;MAAA;QAAAd,cAAA,GAAAkD,CAAA;MAAA;MAAAlD,cAAA,GAAAc,CAAA;MACDiG,cAAc,CAACG,IAAI,CAAC,CAAC/B,MAAM,CAACM,KAAK,EAAEuB,MAAM,CAACG,SAAS,CAAC,CAAC;IACtD;EACD;EAEA,MAAMC,gBAAgB;EAAA;EAAA,CAAApH,cAAA,GAAAc,CAAA,QAAG,iDAAiD;EAC1E,MAAMuG,SAAS;EAAA;EAAA,CAAArH,cAAA,GAAAc,CAAA,QAAG,qFAAqF;EACvG,IAAIqG,SAAS;EAAA;EAAA,CAAAnH,cAAA,GAAAc,CAAA,QAAG,CAAC;EAAC;EAAAd,cAAA,GAAAc,CAAA;EAClBgG,YAAY,GAAG,EAAE;EAAC;EAAA9G,cAAA,GAAAc,CAAA;EAElB,OAAO,IAAI,EAAE;IACZ,MAAMqE,MAAM;IAAA;IAAA,CAAAnF,cAAA,GAAAc,CAAA,QAAGuG,SAAS,CAACJ,IAAI,CAACN,KAAK,CAAC;IAAC;IAAA3G,cAAA,GAAAc,CAAA;IACrC,IAAI,CAACqE,MAAM,EAAE;MAAA;MAAAnF,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACZ;IACD,CAAC;IAAA;IAAA;MAAAd,cAAA,GAAAkD,CAAA;IAAA;IAED;IACA,MAAMoE,gBAAgB;IAAA;IAAA,CAAAtH,cAAA,GAAAc,CAAA,QAAGiG,cAAc,CAACQ,IAAI,CAAC,CAAC,CAACC,KAAK,EAAEC,GAAG,CAAC,KAAK;MAAA;MAAAzH,cAAA,GAAAgB,CAAA;MAAAhB,cAAA,GAAAc,CAAA;MAAA,kCAAAd,cAAA,GAAAkD,CAAA,WAAAiC,MAAM,CAACM,KAAK,GAAGgC,GAAG;MAAA;MAAA,CAAAzH,cAAA,GAAAkD,CAAA,WAAIsE,KAAK,GAAGH,SAAS,CAACF,SAAS;IAAT,CAAS,CAAC;IAEjH;IAAA;IAAAnH,cAAA,GAAAc,CAAA;IACA;IAAI;IAAA,CAAAd,cAAA,GAAAkD,CAAA,YAACkE,gBAAgB,CAACM,IAAI,CAACvC,MAAM,CAAC,CAAC,CAAC,CAAC;IAAA;IAAA,CAAAnF,cAAA,GAAAkD,CAAA,WAAI,CAACoE,gBAAgB,GAAE;MAAA;MAAAtH,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MAC3DgG,YAAY,IAAIH,KAAK,CAAChC,SAAS,CAACwC,SAAS,EAAEhC,MAAM,CAACM,KAAK,CAAC,GAAG,4BAA4B;MAAC;MAAAzF,cAAA,GAAAc,CAAA;MACxFqG,SAAS,GAAGE,SAAS,CAACF,SAAS;IAChC,CAAC;IAAA;IAAA;MAAAnH,cAAA,GAAAkD,CAAA;IAAA;EACF;EAAC;EAAAlD,cAAA,GAAAc,CAAA;EACD,IAAIqG,SAAS,GAAGR,KAAK,CAACpC,MAAM,EAAE;IAAA;IAAAvE,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IAC7BgG,YAAY,IAAIH,KAAK,CAACnC,MAAM,CAAC2C,SAAS,CAAC;EACxC,CAAC;EAAA;EAAA;IAAAnH,cAAA,GAAAkD,CAAA;EAAA;EAAAlD,cAAA,GAAAc,CAAA;EAED,OAAOgG,YAAY;AACpB;AAEA;;;;;AAKA,SAASa,oCAAoCA,CAACC,QAAgB;EAAA;EAAA5H,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EAC7D;EACA,IAAI,CAAC8G,QAAQ,EAAE;IAAA;IAAA5H,cAAA,GAAAkD,CAAA;IAAAlD,cAAA,GAAAc,CAAA;IACd,OAAO8G,QAAQ;EAChB,CAAC;EAAA;EAAA;IAAA5H,cAAA,GAAAkD,CAAA;EAAA;EAED,MAAM2E,eAAe;EAAA;EAAA,CAAA7H,cAAA,GAAAc,CAAA,SAAG,CACvB;IAAEgH,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAoC,CAAE,EAC7D;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAA0B,CAAE,EAC9D;IAAED,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAA0E,CAAE,EACnG;IAAED,KAAK,EAAE,aAAa;IAAEC,KAAK,EAAE;EAAwB,CAAE,EACzD;IAAED,KAAK,EAAE,cAAc;IAAEC,KAAK,EAAE;EAAwE,CAAE,EAC1G;IAAED,KAAK,EAAE,gBAAgB;IAAEC,KAAK,EAAE;EAAiF,CAAE,EACrH;IAAED,KAAK,EAAE,iBAAiB;IAAEC,KAAK,EAAE;EAAuO,CAAE,EAC5Q;IAAED,KAAK,EAAE,oBAAoB;IAAEC,KAAK,EAAE;EAA+D,CAAE,EACvG;IAAED,KAAK,EAAE,OAAO;IAAEC,KAAK,EAAE;EAAgD,CAAE,CAC3E;EAED;EAAA;EAAA/H,cAAA,GAAAc,CAAA;EACA,KAAK,MAAMkH,WAAW,IAAIH,eAAe,EAAE;IAAA;IAAA7H,cAAA,GAAAc,CAAA;IAC1C,IAAIkH,WAAW,CAACD,KAAK,CAACL,IAAI,CAACE,QAAQ,CAAC,EAAE;MAAA;MAAA5H,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MACrC,OAAO,cAAckH,WAAW,CAACF,KAAK,GAAG;IAC1C,CAAC;IAAA;IAAA;MAAA9H,cAAA,GAAAkD,CAAA;IAAA;EACF;EAAC;EAAAlD,cAAA,GAAAc,CAAA;EAED,OAAO8G,QAAQ;AAChB;AAGA;;;;;;AAMA,OAAM,SAAUK,SAASA,CAAChE,IAAyB,EAAEiE,eAAyB;EAAA;EAAAlI,cAAA,GAAAgB,CAAA;EAAAhB,cAAA,GAAAc,CAAA;EAC7E,OAAOZ,cAAc,CAAC+D,IAAI,EAAErD,KAAK,IAAG;IAAA;IAAAZ,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAc,CAAA;IAEnC;IACA;IAAI;IAAA,CAAAd,cAAA,GAAAkD,CAAA,WAAAtC,KAAK,YAAYD,qBAAqB;IAAA;IAAA,CAAAX,cAAA,GAAAkD,CAAA,WAAIqC,MAAM,CAAC4C,cAAc,CAACC,IAAI,CAACxH,KAAK,EAAE,yBAAyB,CAAC,GAAE;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAAAlD,cAAA,GAAAc,CAAA;MAC3G,OAAOF,KAAK,CAACA,KAAK;IACnB,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAkD,CAAA;IAAA;IAED;IAAAlD,cAAA,GAAAc,CAAA;IACA,IAAI,OAAOF,KAAK,KAAK,QAAQ,EAAE;MAAA;MAAAZ,cAAA,GAAAkD,CAAA;MAC9B,IAAImF,eAAe;MAAA;MAAA,CAAArI,cAAA,GAAAc,CAAA,SAAGF,KAAK,CAAC0H,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC;MAElD;MAAA;MAAAtI,cAAA,GAAAc,CAAA;MACAuH,eAAe,GAAG3B,kBAAkB,CAAC2B,eAAe,EAAEH,eAAe,CAAC;MAEtE;MAAA;MAAAlI,cAAA,GAAAc,CAAA;MACA,KAAK,MAAMkG,MAAM,IAAIkB,eAAe,EAAE;QAAA;QAAAlI,cAAA,GAAAc,CAAA;QACrCuH,eAAe,GAAGA,eAAe,CAACE,OAAO,CAACvB,MAAM,EAAE,EAAE,CAAC;MACtD;MAEA;MAAA;MAAAhH,cAAA,GAAAc,CAAA;MACAuH,eAAe,GAAGV,oCAAoC,CAACU,eAAe,CAAC;MAAC;MAAArI,cAAA,GAAAc,CAAA;MAExE,OAAOuH,eAAe;IACvB,CAAC;IAAA;IAAA;MAAArI,cAAA,GAAAkD,CAAA;IAAA;IAAAlD,cAAA,GAAAc,CAAA;IACD,OAAOgC,SAAS;EACjB,CAAC,CAAC;AACH;AAEA","ignoreList":[]}