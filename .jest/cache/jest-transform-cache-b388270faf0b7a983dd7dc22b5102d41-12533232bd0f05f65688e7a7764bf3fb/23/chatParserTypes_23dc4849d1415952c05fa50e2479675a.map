{"version":3,"names":["cov_1n47rb5i82","actualCoverage","revive","ThemeIcon","OffsetRange","reviveSerializedAgent","IDiagnosticVariableEntryFilterData","getPromptText","request","f","message","s","parts","map","r","promptText","join","trimStart","diff","text","length","ChatRequestTextPart","range","editorRange","Kind","kind","constructor","chatVariableLeader","chatAgentLeader","chatSubcommandLeader","ChatRequestVariablePart","variableName","variableArg","variableId","argPart","b","ChatRequestToolPart","toolName","toolId","displayName","icon","toVariableEntry","id","name","value","undefined","isThemeIcon","fullName","ChatRequestToolSetPart","tools","ChatRequestAgentPart","agent","ChatRequestAgentSubcommandPart","command","ChatRequestSlashCommandPart","slashCommand","ChatRequestSlashPromptPart","slashPromptCommand","ChatRequestDynamicVariablePart","modelDescription","data","isFile","isDirectory","referenceText","replace","toEntry","filter","reviveParsedChatRequest","serialized","part","start","endExclusive","Error","extractAgentAndCommand","parsed","agentPart","find","commandPart","formatChatQuestion","chatAgentService","location","prompt","participant","question","getDefaultAgent","getAgent"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/chatParserTypes.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { revive } from '../../../../base/common/marshalling.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { IOffsetRange, OffsetRange } from '../../../../editor/common/core/ranges/offsetRange.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { IChatAgentCommand, IChatAgentData, IChatAgentService, reviveSerializedAgent } from './chatAgents.js';\nimport { IChatSlashData } from './chatSlashCommands.js';\nimport { IChatRequestProblemsVariable, IChatRequestVariableValue } from './chatVariables.js';\nimport { ChatAgentLocation } from './constants.js';\nimport { IToolData } from './languageModelToolsService.js';\nimport { IChatPromptSlashCommand } from './promptSyntax/service/promptsService.js';\nimport { IChatRequestToolEntry, IChatRequestToolSetEntry, IChatRequestVariableEntry, IDiagnosticVariableEntryFilterData } from './chatVariableEntries.js';\n\n// These are in a separate file to avoid circular dependencies with the dependencies of the parser\n\nexport interface IParsedChatRequest {\n\treadonly parts: ReadonlyArray<IParsedChatRequestPart>;\n\treadonly text: string;\n}\n\nexport interface IParsedChatRequestPart {\n\treadonly kind: string; // for serialization\n\treadonly range: IOffsetRange;\n\treadonly editorRange: IRange;\n\treadonly text: string;\n\t/** How this part is represented in the prompt going to the agent */\n\treadonly promptText: string;\n}\n\nexport function getPromptText(request: IParsedChatRequest): { message: string; diff: number } {\n\tconst message = request.parts.map(r => r.promptText).join('').trimStart();\n\tconst diff = request.text.length - message.length;\n\n\treturn { message, diff };\n}\n\nexport class ChatRequestTextPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'text';\n\treadonly kind = ChatRequestTextPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly text: string) { }\n\n\tget promptText(): string {\n\t\treturn this.text;\n\t}\n}\n\n// warning, these also show up in a regex in the parser\nexport const chatVariableLeader = '#';\nexport const chatAgentLeader = '@';\nexport const chatSubcommandLeader = '/';\n\n/**\n * An invocation of a static variable that can be resolved by the variable service\n * @deprecated, but kept for backwards compatibility with old persisted chat requests\n */\nclass ChatRequestVariablePart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'var';\n\treadonly kind = ChatRequestVariablePart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly variableName: string, readonly variableArg: string, readonly variableId: string) { }\n\n\tget text(): string {\n\t\tconst argPart = this.variableArg ? `:${this.variableArg}` : '';\n\t\treturn `${chatVariableLeader}${this.variableName}${argPart}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn this.text;\n\t}\n}\n\n/**\n * An invocation of a tool\n */\nexport class ChatRequestToolPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'tool';\n\treadonly kind = ChatRequestToolPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly toolName: string, readonly toolId: string, readonly displayName?: string, readonly icon?: IToolData['icon']) { }\n\n\tget text(): string {\n\t\treturn `${chatVariableLeader}${this.toolName}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn this.text;\n\t}\n\n\ttoVariableEntry(): IChatRequestToolEntry {\n\t\treturn { kind: 'tool', id: this.toolId, name: this.toolName, range: this.range, value: undefined, icon: ThemeIcon.isThemeIcon(this.icon) ? this.icon : undefined, fullName: this.displayName };\n\t}\n}\n\n/**\n * An invocation of a tool\n */\nexport class ChatRequestToolSetPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'toolset';\n\treadonly kind = ChatRequestToolSetPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly id: string, readonly name: string, readonly icon: ThemeIcon, readonly tools: IChatRequestToolEntry[]) { }\n\n\tget text(): string {\n\t\treturn `${chatVariableLeader}${this.name}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn this.text;\n\t}\n\n\ttoVariableEntry(): IChatRequestToolSetEntry {\n\t\treturn { kind: 'toolset', id: this.id, name: this.name, range: this.range, icon: this.icon, value: this.tools };\n\t}\n}\n\n/**\n * An invocation of an agent that can be resolved by the agent service\n */\nexport class ChatRequestAgentPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'agent';\n\treadonly kind = ChatRequestAgentPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly agent: IChatAgentData) { }\n\n\tget text(): string {\n\n\t\treturn `${chatAgentLeader}${this.agent.name}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn '';\n\t}\n}\n\n/**\n * An invocation of an agent's subcommand\n */\nexport class ChatRequestAgentSubcommandPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'subcommand';\n\treadonly kind = ChatRequestAgentSubcommandPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly command: IChatAgentCommand) { }\n\n\tget text(): string {\n\t\treturn `${chatSubcommandLeader}${this.command.name}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn '';\n\t}\n}\n\n/**\n * An invocation of a standalone slash command\n */\nexport class ChatRequestSlashCommandPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'slash';\n\treadonly kind = ChatRequestSlashCommandPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly slashCommand: IChatSlashData) { }\n\n\tget text(): string {\n\t\treturn `${chatSubcommandLeader}${this.slashCommand.command}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn `${chatSubcommandLeader}${this.slashCommand.command}`;\n\t}\n}\n\n/**\n * An invocation of a standalone slash command\n */\nexport class ChatRequestSlashPromptPart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'prompt';\n\treadonly kind = ChatRequestSlashPromptPart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly slashPromptCommand: IChatPromptSlashCommand) { }\n\n\tget text(): string {\n\t\treturn `${chatSubcommandLeader}${this.slashPromptCommand.command}`;\n\t}\n\n\tget promptText(): string {\n\t\treturn `${chatSubcommandLeader}${this.slashPromptCommand.command}`;\n\t}\n}\n\n/**\n * An invocation of a dynamic reference like '#file:'\n */\nexport class ChatRequestDynamicVariablePart implements IParsedChatRequestPart {\n\tstatic readonly Kind = 'dynamic';\n\treadonly kind = ChatRequestDynamicVariablePart.Kind;\n\tconstructor(readonly range: OffsetRange, readonly editorRange: IRange, readonly text: string, readonly id: string, readonly modelDescription: string | undefined, readonly data: IChatRequestVariableValue, readonly fullName?: string, readonly icon?: ThemeIcon, readonly isFile?: boolean, readonly isDirectory?: boolean) { }\n\n\tget referenceText(): string {\n\t\treturn this.text.replace(chatVariableLeader, '');\n\t}\n\n\tget promptText(): string {\n\t\treturn this.text;\n\t}\n\n\ttoVariableEntry(): IChatRequestVariableEntry {\n\t\tif (this.id === 'vscode.problems') {\n\t\t\treturn IDiagnosticVariableEntryFilterData.toEntry((this.data as IChatRequestProblemsVariable).filter);\n\t\t}\n\n\t\treturn { kind: this.isDirectory ? 'directory' : this.isFile ? 'file' : 'generic', id: this.id, name: this.referenceText, range: this.range, value: this.data, fullName: this.fullName, icon: this.icon };\n\t}\n}\n\nexport function reviveParsedChatRequest(serialized: IParsedChatRequest): IParsedChatRequest {\n\treturn {\n\t\ttext: serialized.text,\n\t\tparts: serialized.parts.map(part => {\n\t\t\tif (part.kind === ChatRequestTextPart.Kind) {\n\t\t\t\treturn new ChatRequestTextPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\tpart.text\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestVariablePart.Kind) {\n\t\t\t\treturn new ChatRequestVariablePart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestVariablePart).variableName,\n\t\t\t\t\t(part as ChatRequestVariablePart).variableArg,\n\t\t\t\t\t(part as ChatRequestVariablePart).variableId || '',\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestToolPart.Kind) {\n\t\t\t\treturn new ChatRequestToolPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestToolPart).toolName,\n\t\t\t\t\t(part as ChatRequestToolPart).toolId,\n\t\t\t\t\t(part as ChatRequestToolPart).displayName,\n\t\t\t\t\t(part as ChatRequestToolPart).icon,\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestToolSetPart.Kind) {\n\t\t\t\treturn new ChatRequestToolSetPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestToolSetPart).id,\n\t\t\t\t\t(part as ChatRequestToolSetPart).name,\n\t\t\t\t\t(part as ChatRequestToolSetPart).icon,\n\t\t\t\t\t(part as ChatRequestToolSetPart).tools ?? [],\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestAgentPart.Kind) {\n\t\t\t\tlet agent = (part as ChatRequestAgentPart).agent;\n\t\t\t\tagent = reviveSerializedAgent(agent);\n\n\t\t\t\treturn new ChatRequestAgentPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\tagent\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestAgentSubcommandPart.Kind) {\n\t\t\t\treturn new ChatRequestAgentSubcommandPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestAgentSubcommandPart).command\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestSlashCommandPart.Kind) {\n\t\t\t\treturn new ChatRequestSlashCommandPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestSlashCommandPart).slashCommand\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestSlashPromptPart.Kind) {\n\t\t\t\treturn new ChatRequestSlashPromptPart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestSlashPromptPart).slashPromptCommand\n\t\t\t\t);\n\t\t\t} else if (part.kind === ChatRequestDynamicVariablePart.Kind) {\n\t\t\t\treturn new ChatRequestDynamicVariablePart(\n\t\t\t\t\tnew OffsetRange(part.range.start, part.range.endExclusive),\n\t\t\t\t\tpart.editorRange,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).text,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).id,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).modelDescription,\n\t\t\t\t\trevive((part as ChatRequestDynamicVariablePart).data),\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).fullName,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).icon,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).isFile,\n\t\t\t\t\t(part as ChatRequestDynamicVariablePart).isDirectory\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Unknown chat request part: ${part.kind}`);\n\t\t\t}\n\t\t})\n\t};\n}\n\nexport function extractAgentAndCommand(parsed: IParsedChatRequest): { agentPart: ChatRequestAgentPart | undefined; commandPart: ChatRequestAgentSubcommandPart | undefined } {\n\tconst agentPart = parsed.parts.find((r): r is ChatRequestAgentPart => r instanceof ChatRequestAgentPart);\n\tconst commandPart = parsed.parts.find((r): r is ChatRequestAgentSubcommandPart => r instanceof ChatRequestAgentSubcommandPart);\n\treturn { agentPart, commandPart };\n}\n\nexport function formatChatQuestion(chatAgentService: IChatAgentService, location: ChatAgentLocation, prompt: string, participant: string | null = null, command: string | null = null): string | undefined {\n\tlet question = '';\n\tif (participant && participant !== chatAgentService.getDefaultAgent(location)?.id) {\n\t\tconst agent = chatAgentService.getAgent(participant);\n\t\tif (!agent) {\n\t\t\t// Refers to agent that doesn't exist\n\t\t\treturn undefined;\n\t\t}\n\n\t\tquestion += `${chatAgentLeader}${agent.name} `;\n\t\tif (command) {\n\t\t\tquestion += `${chatSubcommandLeader}${command} `;\n\t\t}\n\t}\n\treturn question + prompt;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}