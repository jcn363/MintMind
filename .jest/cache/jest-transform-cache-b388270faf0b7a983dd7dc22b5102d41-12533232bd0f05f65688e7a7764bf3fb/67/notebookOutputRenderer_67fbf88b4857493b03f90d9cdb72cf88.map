{"version":3,"names":["cov_l57d4qyzz","actualCoverage","glob","Iterable","joinPath","DependencyList","value","defined","constructor","f","s","Set","size","matches","available","some","v","has","NotebookOutputRendererInfo","id","entrypoint","displayName","extensionLocation","extensionId","hardDependencies","optionalDependencies","messaging","mimeTypes","mimeTypeGlobs","isBuiltin","descriptor","extension","identifier","b","extends","undefined","path","map","pattern","parse","ignoreCase","dependencies","empty","requiresMessaging","matchesWithoutKernel","mimeType","matchesMimeTypeOnly","kernelProvides","NotebookStaticPreloadInfo","type","localResourceRoots","root"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/common/notebookOutputRenderer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as glob from '../../../../base/common/glob.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { INotebookRendererInfo, ContributedNotebookRendererEntrypoint, NotebookRendererMatch, RendererMessagingSpec, NotebookRendererEntrypoint, INotebookStaticPreloadInfo as INotebookStaticPreloadInfo } from './notebookCommon.js';\n\nclass DependencyList {\n\tprivate readonly value: ReadonlySet<string>;\n\tpublic readonly defined: boolean;\n\n\tconstructor(value: Iterable<string>) {\n\t\tthis.value = new Set(value);\n\t\tthis.defined = this.value.size > 0;\n\t}\n\n\t/** Gets whether any of the 'available' dependencies match the ones in this list */\n\tpublic matches(available: ReadonlyArray<string>) {\n\t\t// For now this is simple, but this may expand to support globs later\n\t\t// @see https://github.com/microsoft/vscode/issues/119899\n\t\treturn available.some(v => this.value.has(v));\n\t}\n}\n\nexport class NotebookOutputRendererInfo implements INotebookRendererInfo {\n\n\treadonly id: string;\n\treadonly entrypoint: NotebookRendererEntrypoint;\n\treadonly displayName: string;\n\treadonly extensionLocation: URI;\n\treadonly extensionId: ExtensionIdentifier;\n\treadonly hardDependencies: DependencyList;\n\treadonly optionalDependencies: DependencyList;\n\treadonly messaging: RendererMessagingSpec;\n\n\treadonly mimeTypes: readonly string[];\n\tprivate readonly mimeTypeGlobs: glob.ParsedPattern[];\n\n\treadonly isBuiltin: boolean;\n\n\tconstructor(descriptor: {\n\t\treadonly id: string;\n\t\treadonly displayName: string;\n\t\treadonly entrypoint: ContributedNotebookRendererEntrypoint;\n\t\treadonly mimeTypes: readonly string[];\n\t\treadonly extension: IExtensionDescription;\n\t\treadonly dependencies: readonly string[] | undefined;\n\t\treadonly optionalDependencies: readonly string[] | undefined;\n\t\treadonly requiresMessaging: RendererMessagingSpec | undefined;\n\t}) {\n\t\tthis.id = descriptor.id;\n\t\tthis.extensionId = descriptor.extension.identifier;\n\t\tthis.extensionLocation = descriptor.extension.extensionLocation;\n\t\tthis.isBuiltin = descriptor.extension.isBuiltin;\n\n\t\tif (typeof descriptor.entrypoint === 'string') {\n\t\t\tthis.entrypoint = {\n\t\t\t\textends: undefined,\n\t\t\t\tpath: joinPath(this.extensionLocation, descriptor.entrypoint)\n\t\t\t};\n\t\t} else {\n\t\t\tthis.entrypoint = {\n\t\t\t\textends: descriptor.entrypoint.extends,\n\t\t\t\tpath: joinPath(this.extensionLocation, descriptor.entrypoint.path)\n\t\t\t};\n\t\t}\n\n\t\tthis.displayName = descriptor.displayName;\n\t\tthis.mimeTypes = descriptor.mimeTypes;\n\t\tthis.mimeTypeGlobs = this.mimeTypes.map(pattern => glob.parse(pattern, { ignoreCase: true }));\n\t\tthis.hardDependencies = new DependencyList(descriptor.dependencies ?? Iterable.empty());\n\t\tthis.optionalDependencies = new DependencyList(descriptor.optionalDependencies ?? Iterable.empty());\n\t\tthis.messaging = descriptor.requiresMessaging ?? RendererMessagingSpec.Never;\n\t}\n\n\tpublic matchesWithoutKernel(mimeType: string) {\n\t\tif (!this.matchesMimeTypeOnly(mimeType)) {\n\t\t\treturn NotebookRendererMatch.Never;\n\t\t}\n\n\t\tif (this.hardDependencies.defined) {\n\t\t\treturn NotebookRendererMatch.WithHardKernelDependency;\n\t\t}\n\n\t\tif (this.optionalDependencies.defined) {\n\t\t\treturn NotebookRendererMatch.WithOptionalKernelDependency;\n\t\t}\n\n\t\treturn NotebookRendererMatch.Pure;\n\t}\n\n\tpublic matches(mimeType: string, kernelProvides: ReadonlyArray<string>) {\n\t\tif (!this.matchesMimeTypeOnly(mimeType)) {\n\t\t\treturn NotebookRendererMatch.Never;\n\t\t}\n\n\t\tif (this.hardDependencies.defined) {\n\t\t\treturn this.hardDependencies.matches(kernelProvides)\n\t\t\t\t? NotebookRendererMatch.WithHardKernelDependency\n\t\t\t\t: NotebookRendererMatch.Never;\n\t\t}\n\n\t\treturn this.optionalDependencies.matches(kernelProvides)\n\t\t\t? NotebookRendererMatch.WithOptionalKernelDependency\n\t\t\t: NotebookRendererMatch.Pure;\n\t}\n\n\tprivate matchesMimeTypeOnly(mimeType: string) {\n\t\tif (this.entrypoint.extends) { // We're extending another renderer\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.mimeTypeGlobs.some(pattern => pattern(mimeType)) || this.mimeTypes.some(pattern => pattern === mimeType);\n\t}\n}\n\nexport class NotebookStaticPreloadInfo implements INotebookStaticPreloadInfo {\n\n\treadonly type: string;\n\treadonly entrypoint: URI;\n\treadonly extensionLocation: URI;\n\treadonly localResourceRoots: readonly URI[];\n\n\tconstructor(descriptor: {\n\t\treadonly type: string;\n\t\treadonly entrypoint: string;\n\t\treadonly localResourceRoots: readonly string[];\n\t\treadonly extension: IExtensionDescription;\n\t}) {\n\t\tthis.type = descriptor.type;\n\n\t\tthis.entrypoint = joinPath(descriptor.extension.extensionLocation, descriptor.entrypoint);\n\t\tthis.extensionLocation = descriptor.extension.extensionLocation;\n\t\tthis.localResourceRoots = descriptor.localResourceRoots.map(root => joinPath(descriptor.extension.extensionLocation, root));\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}