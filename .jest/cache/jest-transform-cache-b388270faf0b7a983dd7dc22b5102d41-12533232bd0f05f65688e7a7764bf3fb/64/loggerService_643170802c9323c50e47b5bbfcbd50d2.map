{"version":3,"names":["cov_2aglnnwidw","actualCoverage","ResourceMap","Event","refineServiceDecorator","ILoggerService","isLogLevel","LoggerService","ILoggerMainService","s","LoggerMainService","loggerResourcesByWindow","createLogger","idOrResource","options","windowId","f","undefined","b","set","toResource","error","delete","registerLogger","resource","deregisterLogger","getGlobalLoggers","resources","getRegisteredLoggers","has","push","getOnDidChangeLogLevelEvent","filter","onDidChangeLogLevel","arg","isInterestedLoggerResource","getOnDidChangeVisibilityEvent","onDidChangeVisibility","getOnDidChangeLoggersEvent","map","onDidChangeLoggers","e","r","added","loggerResource","removed","length","deregisterLoggers","resourceWindow","loggerWindowId","get","dispose","clear"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/log/electron-main/loggerService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ResourceMap } from '../../../base/common/map.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { Event } from '../../../base/common/event.js';\nimport { refineServiceDecorator } from '../../instantiation/common/instantiation.js';\nimport { DidChangeLoggersEvent, ILogger, ILoggerOptions, ILoggerResource, ILoggerService, LogLevel, isLogLevel } from '../common/log.js';\nimport { LoggerService } from '../node/loggerService.js';\n\nexport const ILoggerMainService = refineServiceDecorator<ILoggerService, ILoggerMainService>(ILoggerService);\n\nexport interface ILoggerMainService extends ILoggerService {\n\n\tgetOnDidChangeLogLevelEvent(windowId: number): Event<LogLevel | [URI, LogLevel]>;\n\n\tgetOnDidChangeVisibilityEvent(windowId: number): Event<[URI, boolean]>;\n\n\tgetOnDidChangeLoggersEvent(windowId: number): Event<DidChangeLoggersEvent>;\n\n\tcreateLogger(resource: URI, options?: ILoggerOptions, windowId?: number): ILogger;\n\n\tcreateLogger(id: string, options?: Omit<ILoggerOptions, 'id'>, windowId?: number): ILogger;\n\n\tregisterLogger(resource: ILoggerResource, windowId?: number): void;\n\n\tgetGlobalLoggers(): ILoggerResource[];\n\n\tderegisterLoggers(windowId: number): void;\n\n}\n\nexport class LoggerMainService extends LoggerService implements ILoggerMainService {\n\n\tprivate readonly loggerResourcesByWindow = new ResourceMap<number>();\n\n\toverride createLogger(idOrResource: URI | string, options?: ILoggerOptions, windowId?: number): ILogger {\n\t\tif (windowId !== undefined) {\n\t\t\tthis.loggerResourcesByWindow.set(this.toResource(idOrResource), windowId);\n\t\t}\n\t\ttry {\n\t\t\treturn super.createLogger(idOrResource, options);\n\t\t} catch (error) {\n\t\t\tthis.loggerResourcesByWindow.delete(this.toResource(idOrResource));\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\toverride registerLogger(resource: ILoggerResource, windowId?: number): void {\n\t\tif (windowId !== undefined) {\n\t\t\tthis.loggerResourcesByWindow.set(resource.resource, windowId);\n\t\t}\n\t\tsuper.registerLogger(resource);\n\t}\n\n\toverride deregisterLogger(resource: URI): void {\n\t\tthis.loggerResourcesByWindow.delete(resource);\n\t\tsuper.deregisterLogger(resource);\n\t}\n\n\tgetGlobalLoggers(): ILoggerResource[] {\n\t\tconst resources: ILoggerResource[] = [];\n\t\tfor (const resource of super.getRegisteredLoggers()) {\n\t\t\tif (!this.loggerResourcesByWindow.has(resource.resource)) {\n\t\t\t\tresources.push(resource);\n\t\t\t}\n\t\t}\n\t\treturn resources;\n\t}\n\n\tgetOnDidChangeLogLevelEvent(windowId: number): Event<LogLevel | [URI, LogLevel]> {\n\t\treturn Event.filter(this.onDidChangeLogLevel, arg => isLogLevel(arg) || this.isInterestedLoggerResource(arg[0], windowId));\n\t}\n\n\tgetOnDidChangeVisibilityEvent(windowId: number): Event<[URI, boolean]> {\n\t\treturn Event.filter(this.onDidChangeVisibility, ([resource]) => this.isInterestedLoggerResource(resource, windowId));\n\t}\n\n\tgetOnDidChangeLoggersEvent(windowId: number): Event<DidChangeLoggersEvent> {\n\t\treturn Event.filter(\n\t\t\tEvent.map(this.onDidChangeLoggers, e => {\n\t\t\t\tconst r = {\n\t\t\t\t\tadded: [...e.added].filter(loggerResource => this.isInterestedLoggerResource(loggerResource.resource, windowId)),\n\t\t\t\t\tremoved: [...e.removed].filter(loggerResource => this.isInterestedLoggerResource(loggerResource.resource, windowId)),\n\t\t\t\t};\n\t\t\t\treturn r;\n\t\t\t}), e => e.added.length > 0 || e.removed.length > 0);\n\t}\n\n\tderegisterLoggers(windowId: number): void {\n\t\tfor (const [resource, resourceWindow] of this.loggerResourcesByWindow) {\n\t\t\tif (resourceWindow === windowId) {\n\t\t\t\tthis.deregisterLogger(resource);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate isInterestedLoggerResource(resource: URI, windowId: number | undefined): boolean {\n\t\tconst loggerWindowId = this.loggerResourcesByWindow.get(resource);\n\t\treturn loggerWindowId === undefined || loggerWindowId === windowId;\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.loggerResourcesByWindow.clear();\n\t}\n}\n\n"],"mappings":"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","ignoreList":[]}