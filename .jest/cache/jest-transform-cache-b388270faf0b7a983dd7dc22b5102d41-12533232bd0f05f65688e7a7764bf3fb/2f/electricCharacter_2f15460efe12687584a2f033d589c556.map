{"version":3,"names":["cov_26e4dsxzjx","actualCoverage","distinct","ignoreBracketsInToken","BracketsUtils","BracketElectricCharacterSupport","_richEditBrackets","constructor","richEditBrackets","f","s","getElectricCharacters","result","b","bracket","brackets","close","lastChar","charAt","length","push","onElectricCharacter","character","context","column","tokenIndex","findTokenIndexAtOffset","getStandardTokenType","reversedBracketRegex","reversedRegex","text","getLineContent","substring","r","findPrevBracketInRange","bracketText","startColumn","endColumn","toLowerCase","isOpen","textIsOpenBracket","textBeforeBracket","getActualLineContentBefore","test","matchOpenBracket"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languages/supports/electricCharacter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { distinct } from '../../../../base/common/arrays.js';\nimport { ScopedLineTokens, ignoreBracketsInToken } from '../supports.js';\nimport { BracketsUtils, RichEditBrackets } from './richEditBrackets.js';\n\n/**\n * Interface used to support electric characters\n * @internal\n */\nexport interface IElectricAction {\n\t// The line will be indented at the same level of the line\n\t// which contains the matching given bracket type.\n\tmatchOpenBracket: string;\n}\n\nexport class BracketElectricCharacterSupport {\n\n\tprivate readonly _richEditBrackets: RichEditBrackets | null;\n\n\tconstructor(richEditBrackets: RichEditBrackets | null) {\n\t\tthis._richEditBrackets = richEditBrackets;\n\t}\n\n\tpublic getElectricCharacters(): string[] {\n\t\tconst result: string[] = [];\n\n\t\tif (this._richEditBrackets) {\n\t\t\tfor (const bracket of this._richEditBrackets.brackets) {\n\t\t\t\tfor (const close of bracket.close) {\n\t\t\t\t\tconst lastChar = close.charAt(close.length - 1);\n\t\t\t\t\tresult.push(lastChar);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn distinct(result);\n\t}\n\n\tpublic onElectricCharacter(character: string, context: ScopedLineTokens, column: number): IElectricAction | null {\n\t\tif (!this._richEditBrackets || this._richEditBrackets.brackets.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tokenIndex = context.findTokenIndexAtOffset(column - 1);\n\t\tif (ignoreBracketsInToken(context.getStandardTokenType(tokenIndex))) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst reversedBracketRegex = this._richEditBrackets.reversedRegex;\n\t\tconst text = context.getLineContent().substring(0, column - 1) + character;\n\n\t\tconst r = BracketsUtils.findPrevBracketInRange(reversedBracketRegex, 1, text, 0, text.length);\n\t\tif (!r) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst bracketText = text.substring(r.startColumn - 1, r.endColumn - 1).toLowerCase();\n\n\t\tconst isOpen = this._richEditBrackets.textIsOpenBracket[bracketText];\n\t\tif (isOpen) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst textBeforeBracket = context.getActualLineContentBefore(r.startColumn - 1);\n\t\tif (!/^\\s*$/.test(textBeforeBracket)) {\n\t\t\t// There is other text on the line before the bracket\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tmatchOpenBracket: bracketText\n\t\t};\n\t}\n}\n"],"mappings":"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","ignoreList":[]}