{"version":3,"names":["cov_njtkt92c","actualCoverage","match","matchGlobPattern","normalize","score","selector","candidateUri","candidateLanguage","candidateIsSynchronized","candidateNotebookUri","candidateNotebookType","f","s","Array","isArray","b","ret","filter","value","language","pattern","scheme","hasAccessToAllModels","notebookType","Math","max","undefined","normalizedPattern","base","fsPath","targetsNotebooks","some"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languageSelector.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IRelativePattern, match as matchGlobPattern } from '../../base/common/glob.js';\nimport { URI } from '../../base/common/uri.js';\nimport { normalize } from '../../base/common/path.js';\n\nexport interface LanguageFilter {\n\treadonly language?: string;\n\treadonly scheme?: string;\n\treadonly pattern?: string | IRelativePattern;\n\treadonly notebookType?: string;\n\t/**\n\t * This provider is implemented in the UI thread.\n\t */\n\treadonly hasAccessToAllModels?: boolean;\n\treadonly exclusive?: boolean;\n\n\t/**\n\t * This provider comes from a builtin extension.\n\t */\n\treadonly isBuiltin?: boolean;\n}\n\nexport type LanguageSelector = string | LanguageFilter | ReadonlyArray<string | LanguageFilter>;\n\nexport function score(selector: LanguageSelector | undefined, candidateUri: URI, candidateLanguage: string, candidateIsSynchronized: boolean, candidateNotebookUri: URI | undefined, candidateNotebookType: string | undefined): number {\n\n\tif (Array.isArray(selector)) {\n\t\t// array -> take max individual value\n\t\tlet ret = 0;\n\t\tfor (const filter of selector) {\n\t\t\tconst value = score(filter, candidateUri, candidateLanguage, candidateIsSynchronized, candidateNotebookUri, candidateNotebookType);\n\t\t\tif (value === 10) {\n\t\t\t\treturn value; // already at the highest\n\t\t\t}\n\t\t\tif (value > ret) {\n\t\t\t\tret = value;\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\n\t} else if (typeof selector === 'string') {\n\n\t\tif (!candidateIsSynchronized) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// short-hand notion, desugars to\n\t\t// 'fooLang' -> { language: 'fooLang'}\n\t\t// '*' -> { language: '*' }\n\t\tif (selector === '*') {\n\t\t\treturn 5;\n\t\t} else if (selector === candidateLanguage) {\n\t\t\treturn 10;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\n\t} else if (selector) {\n\t\t// filter -> select accordingly, use defaults for scheme\n\t\tconst { language, pattern, scheme, hasAccessToAllModels, notebookType } = selector as LanguageFilter; // TODO: microsoft/TypeScript#42768\n\n\t\tif (!candidateIsSynchronized && !hasAccessToAllModels) {\n\t\t\treturn 0;\n\t\t}\n\n\t\t// selector targets a notebook -> use the notebook uri instead\n\t\t// of the \"normal\" document uri.\n\t\tif (notebookType && candidateNotebookUri) {\n\t\t\tcandidateUri = candidateNotebookUri;\n\t\t}\n\n\t\tlet ret = 0;\n\n\t\tif (scheme) {\n\t\t\tif (scheme === candidateUri.scheme) {\n\t\t\t\tret = 10;\n\t\t\t} else if (scheme === '*') {\n\t\t\t\tret = 5;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (language) {\n\t\t\tif (language === candidateLanguage) {\n\t\t\t\tret = 10;\n\t\t\t} else if (language === '*') {\n\t\t\t\tret = Math.max(ret, 5);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (notebookType) {\n\t\t\tif (notebookType === candidateNotebookType) {\n\t\t\t\tret = 10;\n\t\t\t} else if (notebookType === '*' && candidateNotebookType !== undefined) {\n\t\t\t\tret = Math.max(ret, 5);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (pattern) {\n\t\t\tlet normalizedPattern: string | IRelativePattern;\n\t\t\tif (typeof pattern === 'string') {\n\t\t\t\tnormalizedPattern = pattern;\n\t\t\t} else {\n\t\t\t\t// Since this pattern has a `base` property, we need\n\t\t\t\t// to normalize this path first before passing it on\n\t\t\t\t// because we will compare it against `Uri.fsPath`\n\t\t\t\t// which uses platform specific separators.\n\t\t\t\t// Refs: https://github.com/microsoft/vscode/issues/99938\n\t\t\t\tnormalizedPattern = { ...pattern, base: normalize(pattern.base) };\n\t\t\t}\n\n\t\t\tif (normalizedPattern === candidateUri.fsPath || matchGlobPattern(normalizedPattern, candidateUri.fsPath)) {\n\t\t\t\tret = 10;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n\nexport function targetsNotebooks(selector: LanguageSelector): boolean {\n\tif (typeof selector === 'string') {\n\t\treturn false;\n\t} else if (Array.isArray(selector)) {\n\t\treturn selector.some(targetsNotebooks);\n\t} else {\n\t\treturn !!(<LanguageFilter>selector).notebookType;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}