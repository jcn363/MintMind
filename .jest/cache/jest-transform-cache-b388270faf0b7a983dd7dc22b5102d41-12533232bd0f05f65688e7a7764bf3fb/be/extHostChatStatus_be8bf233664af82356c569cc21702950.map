{"version":3,"names":["cov_20uu4siy38","actualCoverage","extHostProtocol","ExtensionIdentifier","ExtHostChatStatus","_proxy","_items","s","Map","constructor","mainContext","f","getProxy","MainContext","MainThreadChatStatus","createChatStatusItem","extension","id","internalId","asChatItemIdentifier","identifier","has","b","Error","state","title","description","detail","disposed","visible","syncState","$setEntry","item","Object","freeze","value","show","hide","$disposeEntry","dispose","delete","set","toKey"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostChatStatus.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport * as extHostProtocol from './extHost.protocol.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\n\nexport class ExtHostChatStatus {\n\n\tprivate readonly _proxy: extHostProtocol.MainThreadChatStatusShape;\n\n\tprivate readonly _items = new Map<string, vscode.ChatStatusItem>();\n\n\tconstructor(\n\t\tmainContext: extHostProtocol.IMainContext\n\t) {\n\t\tthis._proxy = mainContext.getProxy(extHostProtocol.MainContext.MainThreadChatStatus);\n\t}\n\n\tcreateChatStatusItem(extension: IExtensionDescription, id: string): vscode.ChatStatusItem {\n\t\tconst internalId = asChatItemIdentifier(extension.identifier, id);\n\t\tif (this._items.has(internalId)) {\n\t\t\tthrow new Error(`Chat status item '${id}' already exists`);\n\t\t}\n\n\t\tconst state: extHostProtocol.ChatStatusItemDto = {\n\t\t\tid: internalId,\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tdetail: '',\n\t\t};\n\n\t\tlet disposed = false;\n\t\tlet visible = false;\n\t\tconst syncState = () => {\n\t\t\tif (disposed) {\n\t\t\t\tthrow new Error('Chat status item is disposed');\n\t\t\t}\n\n\t\t\tif (!visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._proxy.$setEntry(id, state);\n\t\t};\n\n\t\tconst item = Object.freeze<vscode.ChatStatusItem>({\n\t\t\tid: id,\n\n\t\t\tget title(): string | { label: string; link: string } {\n\t\t\t\treturn state.title;\n\t\t\t},\n\t\t\tset title(value: string | { label: string; link: string }) {\n\t\t\t\tstate.title = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget description(): string {\n\t\t\t\treturn state.description;\n\t\t\t},\n\t\t\tset description(value: string) {\n\t\t\t\tstate.description = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget detail(): string | undefined {\n\t\t\t\treturn state.detail;\n\t\t\t},\n\t\t\tset detail(value: string | undefined) {\n\t\t\t\tstate.detail = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tshow: () => {\n\t\t\t\tvisible = true;\n\t\t\t\tsyncState();\n\t\t\t},\n\t\t\thide: () => {\n\t\t\t\tvisible = false;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t},\n\t\t\tdispose: () => {\n\t\t\t\tdisposed = true;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t\tthis._items.delete(internalId);\n\t\t\t},\n\t\t});\n\n\t\tthis._items.set(internalId, item);\n\t\treturn item;\n\t}\n}\n\nfunction asChatItemIdentifier(extension: ExtensionIdentifier, id: string): string {\n\treturn `${ExtensionIdentifier.toKey(extension)}.${id}`;\n}\n\n"],"mappings":"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","ignoreList":[]}