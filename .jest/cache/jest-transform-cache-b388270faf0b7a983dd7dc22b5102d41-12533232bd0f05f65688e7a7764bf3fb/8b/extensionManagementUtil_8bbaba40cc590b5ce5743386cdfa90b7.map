{"version":3,"names":["cov_1c0e7oflkf","actualCoverage","compareIgnoreCase","getTargetPlatform","ExtensionIdentifier","UNDEFINED_PUBLISHER","isLinux","platform","URI","getErrorMessage","arch","TelemetryTrustedValue","isString","areSameExtensions","a","b","f","s","uuid","id","ExtensionKeyRegex","ExtensionKey","identifier","version","targetPlatform","create","extension","manifest","properties","parse","key","matches","exec","undefined","constructor","toString","equals","o","EXTENSION_IDENTIFIER_WITH_VERSION_REGEX","getIdAndVersion","adoptToGalleryExtensionId","getExtensionId","publisher","name","toLowerCase","getGalleryExtensionId","groupByExtension","extensions","getExtensionIdentifier","byExtension","findGroup","group","some","e","push","getLocalExtensionTelemetryData","galleryId","publisherId","publisherName","publisherDisplayName","dependencies","extensionDependencies","length","getGalleryExtensionTelemetryData","extensionVersion","isPreReleaseVersion","isSigned","telemetryData","BetterMergeId","getExtensionDependencies","installedExtensions","slice","shift","every","ext","filter","isAlpineLinux","fileService","logService","content","fileContent","readFile","file","value","error","debug","match","computeTargetPlatform","alpineLinux","isMalicious","malicious","findMatchingMaliciousEntry","find","extensionOrPublisher","split"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/extensionManagement/common/extensionManagementUtil.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareIgnoreCase } from '../../../base/common/strings.js';\nimport { IExtensionIdentifier, IGalleryExtension, ILocalExtension, MaliciousExtensionInfo, getTargetPlatform } from './extensionManagement.js';\nimport { ExtensionIdentifier, IExtension, TargetPlatform, UNDEFINED_PUBLISHER } from '../../extensions/common/extensions.js';\nimport { IFileService } from '../../files/common/files.js';\nimport { isLinux, platform } from '../../../base/common/platform.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { getErrorMessage } from '../../../base/common/errors.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { arch } from '../../../base/common/process.js';\nimport { TelemetryTrustedValue } from '../../telemetry/common/telemetryUtils.js';\nimport { isString } from '../../../base/common/types.js';\n\nexport function areSameExtensions(a: IExtensionIdentifier, b: IExtensionIdentifier): boolean {\n\tif (a.uuid && b.uuid) {\n\t\treturn a.uuid === b.uuid;\n\t}\n\tif (a.id === b.id) {\n\t\treturn true;\n\t}\n\treturn compareIgnoreCase(a.id, b.id) === 0;\n}\n\nconst ExtensionKeyRegex = /^([^.]+\\..+)-(\\d+\\.\\d+\\.\\d+)(-(.+))?$/;\n\nexport class ExtensionKey {\n\n\tstatic create(extension: IExtension | IGalleryExtension): ExtensionKey {\n\t\tconst version = (extension as IExtension).manifest ? (extension as IExtension).manifest.version : (extension as IGalleryExtension).version;\n\t\tconst targetPlatform = (extension as IExtension).manifest ? (extension as IExtension).targetPlatform : (extension as IGalleryExtension).properties.targetPlatform;\n\t\treturn new ExtensionKey(extension.identifier, version, targetPlatform);\n\t}\n\n\tstatic parse(key: string): ExtensionKey | null {\n\t\tconst matches = ExtensionKeyRegex.exec(key);\n\t\treturn matches && matches[1] && matches[2] ? new ExtensionKey({ id: matches[1] }, matches[2], matches[4] as TargetPlatform || undefined) : null;\n\t}\n\n\treadonly id: string;\n\n\tconstructor(\n\t\treadonly identifier: IExtensionIdentifier,\n\t\treadonly version: string,\n\t\treadonly targetPlatform: TargetPlatform = TargetPlatform.UNDEFINED,\n\t) {\n\t\tthis.id = identifier.id;\n\t}\n\n\ttoString(): string {\n\t\treturn `${this.id}-${this.version}${this.targetPlatform !== TargetPlatform.UNDEFINED ? `-${this.targetPlatform}` : ''}`;\n\t}\n\n\tequals(o: any): boolean {\n\t\tif (!(o instanceof ExtensionKey)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn areSameExtensions(this, o) && this.version === o.version && this.targetPlatform === o.targetPlatform;\n\t}\n}\n\nconst EXTENSION_IDENTIFIER_WITH_VERSION_REGEX = /^([^.]+\\..+)@((prerelease)|(\\d+\\.\\d+\\.\\d+(-.*)?))$/;\nexport function getIdAndVersion(id: string): [string, string | undefined] {\n\tconst matches = EXTENSION_IDENTIFIER_WITH_VERSION_REGEX.exec(id);\n\tif (matches && matches[1]) {\n\t\treturn [adoptToGalleryExtensionId(matches[1]), matches[2]];\n\t}\n\treturn [adoptToGalleryExtensionId(id), undefined];\n}\n\nexport function getExtensionId(publisher: string, name: string): string {\n\treturn `${publisher}.${name}`;\n}\n\nexport function adoptToGalleryExtensionId(id: string): string {\n\treturn id.toLowerCase();\n}\n\nexport function getGalleryExtensionId(publisher: string | undefined, name: string): string {\n\treturn adoptToGalleryExtensionId(getExtensionId(publisher ?? UNDEFINED_PUBLISHER, name));\n}\n\nexport function groupByExtension<T>(extensions: T[], getExtensionIdentifier: (t: T) => IExtensionIdentifier): T[][] {\n\tconst byExtension: T[][] = [];\n\tconst findGroup = (extension: T) => {\n\t\tfor (const group of byExtension) {\n\t\t\tif (group.some(e => areSameExtensions(getExtensionIdentifier(e), getExtensionIdentifier(extension)))) {\n\t\t\t\treturn group;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\tfor (const extension of extensions) {\n\t\tconst group = findGroup(extension);\n\t\tif (group) {\n\t\t\tgroup.push(extension);\n\t\t} else {\n\t\t\tbyExtension.push([extension]);\n\t\t}\n\t}\n\treturn byExtension;\n}\n\nexport function getLocalExtensionTelemetryData(extension: ILocalExtension) {\n\treturn {\n\t\tid: extension.identifier.id,\n\t\tname: extension.manifest.name,\n\t\tgalleryId: null,\n\t\tpublisherId: extension.publisherId,\n\t\tpublisherName: extension.manifest.publisher,\n\t\tpublisherDisplayName: extension.publisherDisplayName,\n\t\tdependencies: extension.manifest.extensionDependencies && extension.manifest.extensionDependencies.length > 0\n\t};\n}\n\n\n/* __GDPR__FRAGMENT__\n\t\"GalleryExtensionTelemetryData\" : {\n\t\t\"id\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"name\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"extensionVersion\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"galleryId\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"publisherId\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"publisherName\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"publisherDisplayName\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"isPreReleaseVersion\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"dependencies\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\"isSigned\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" },\n\t\t\"${include}\": [\n\t\t\t\"${GalleryExtensionTelemetryData2}\"\n\t\t]\n\t}\n*/\nexport function getGalleryExtensionTelemetryData(extension: IGalleryExtension) {\n\treturn {\n\t\tid: new TelemetryTrustedValue(extension.identifier.id),\n\t\tname: new TelemetryTrustedValue(extension.name),\n\t\textensionVersion: extension.version,\n\t\tgalleryId: extension.identifier.uuid,\n\t\tpublisherId: extension.publisherId,\n\t\tpublisherName: extension.publisher,\n\t\tpublisherDisplayName: extension.publisherDisplayName,\n\t\tisPreReleaseVersion: extension.properties.isPreReleaseVersion,\n\t\tdependencies: !!(extension.properties.dependencies && extension.properties.dependencies.length > 0),\n\t\tisSigned: extension.isSigned,\n\t\t...extension.telemetryData\n\t};\n}\n\nexport const BetterMergeId = new ExtensionIdentifier('pprice.better-merge');\n\nexport function getExtensionDependencies(installedExtensions: ReadonlyArray<IExtension>, extension: IExtension): IExtension[] {\n\tconst dependencies: IExtension[] = [];\n\tconst extensions = extension.manifest.extensionDependencies?.slice(0) ?? [];\n\n\twhile (extensions.length) {\n\t\tconst id = extensions.shift();\n\n\t\tif (id && dependencies.every(e => !areSameExtensions(e.identifier, { id }))) {\n\t\t\tconst ext = installedExtensions.filter(e => areSameExtensions(e.identifier, { id }));\n\t\t\tif (ext.length === 1) {\n\t\t\t\tdependencies.push(ext[0]);\n\t\t\t\textensions.push(...ext[0].manifest.extensionDependencies?.slice(0) ?? []);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dependencies;\n}\n\nasync function isAlpineLinux(fileService: IFileService, logService: ILogService): Promise<boolean> {\n\tif (!isLinux) {\n\t\treturn false;\n\t}\n\tlet content: string | undefined;\n\ttry {\n\t\tconst fileContent = await fileService.readFile(URI.file('/etc/os-release'));\n\t\tcontent = fileContent.value.toString();\n\t} catch (error) {\n\t\ttry {\n\t\t\tconst fileContent = await fileService.readFile(URI.file('/usr/lib/os-release'));\n\t\t\tcontent = fileContent.value.toString();\n\t\t} catch (error) {\n\t\t\t/* Ignore */\n\t\t\tlogService.debug(`Error while getting the os-release file.`, getErrorMessage(error));\n\t\t}\n\t}\n\treturn !!content && (content.match(/^ID=([^\\u001b\\r\\n]*)/m) || [])[1] === 'alpine';\n}\n\nexport async function computeTargetPlatform(fileService: IFileService, logService: ILogService): Promise<TargetPlatform> {\n\tconst alpineLinux = await isAlpineLinux(fileService, logService);\n\tconst targetPlatform = getTargetPlatform(alpineLinux ? 'alpine' : platform, arch);\n\tlogService.debug('ComputeTargetPlatform:', targetPlatform);\n\treturn targetPlatform;\n}\n\nexport function isMalicious(identifier: IExtensionIdentifier, malicious: ReadonlyArray<MaliciousExtensionInfo>): boolean {\n\treturn findMatchingMaliciousEntry(identifier, malicious) !== undefined;\n}\n\nexport function findMatchingMaliciousEntry(identifier: IExtensionIdentifier, malicious: ReadonlyArray<MaliciousExtensionInfo>): MaliciousExtensionInfo | undefined {\n\treturn malicious.find(({ extensionOrPublisher }) => {\n\t\tif (isString(extensionOrPublisher)) {\n\t\t\treturn compareIgnoreCase(identifier.id.split('.')[0], extensionOrPublisher) === 0;\n\t\t}\n\t\treturn areSameExtensions(identifier, extensionOrPublisher);\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}