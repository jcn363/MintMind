74b967b1b02026c3e9920add4b3e2875
/* istanbul ignore next */
function cov_13qmd4yesu() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/tools/commandLineRewriter/commandLineCdPrefixRewriter.ts";
  var hash = "7be4f4f84ce88d75e71a4017c33110dcb7cdbd7a";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/tools/commandLineRewriter/commandLineCdPrefixRewriter.ts",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 11,
          column: 9
        }
      },
      "1": {
        start: {
          line: 10,
          column: 12
        },
        end: {
          line: 10,
          column: 29
        }
      },
      "2": {
        start: {
          line: 12,
          column: 23
        },
        end: {
          line: 12,
          column: 62
        }
      },
      "3": {
        start: {
          line: 16,
          column: 30
        },
        end: {
          line: 18,
          column: 55
        }
      },
      "4": {
        start: {
          line: 19,
          column: 22
        },
        end: {
          line: 19,
          column: 48
        }
      },
      "5": {
        start: {
          line: 20,
          column: 25
        },
        end: {
          line: 20,
          column: 54
        }
      },
      "6": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 38,
          column: 9
        }
      },
      "7": {
        start: {
          line: 23,
          column: 28
        },
        end: {
          line: 23,
          column: 33
        }
      },
      "8": {
        start: {
          line: 24,
          column: 12
        },
        end: {
          line: 26,
          column: 13
        }
      },
      "9": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 51
        }
      },
      "10": {
        start: {
          line: 28,
          column: 12
        },
        end: {
          line: 28,
          column: 61
        }
      },
      "11": {
        start: {
          line: 29,
          column: 28
        },
        end: {
          line: 29,
          column: 73
        }
      },
      "12": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 34,
          column: 13
        }
      },
      "13": {
        start: {
          line: 32,
          column: 16
        },
        end: {
          line: 32,
          column: 52
        }
      },
      "14": {
        start: {
          line: 33,
          column: 16
        },
        end: {
          line: 33,
          column: 52
        }
      },
      "15": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 37,
          column: 13
        }
      },
      "16": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 36,
          column: 90
        }
      },
      "17": {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 39,
          column: 25
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 4
          },
          end: {
            line: 8,
            column: 5
          }
        },
        loc: {
          start: {
            line: 8,
            column: 21
          },
          end: {
            line: 40,
            column: 5
          }
        },
        line: 8
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 11,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 11,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 9
      },
      "1": {
        loc: {
          start: {
            line: 16,
            column: 56
          },
          end: {
            line: 18,
            column: 54
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 17,
            column: 14
          },
          end: {
            line: 17,
            column: 99
          }
        }, {
          start: {
            line: 18,
            column: 14
          },
          end: {
            line: 18,
            column: 54
          }
        }],
        line: 16
      },
      "2": {
        loc: {
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 38,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "3": {
        loc: {
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 21,
            column: 29
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 21,
            column: 12
          },
          end: {
            line: 21,
            column: 17
          }
        }, {
          start: {
            line: 21,
            column: 21
          },
          end: {
            line: 21,
            column: 29
          }
        }],
        line: 21
      },
      "4": {
        loc: {
          start: {
            line: 24,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 24,
            column: 12
          },
          end: {
            line: 26,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 24
      },
      "5": {
        loc: {
          start: {
            line: 24,
            column: 16
          },
          end: {
            line: 24,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 24,
            column: 16
          },
          end: {
            line: 24,
            column: 41
          }
        }, {
          start: {
            line: 24,
            column: 45
          },
          end: {
            line: 24,
            column: 68
          }
        }],
        line: 24
      },
      "6": {
        loc: {
          start: {
            line: 31,
            column: 12
          },
          end: {
            line: 34,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 12
          },
          end: {
            line: 34,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "7": {
        loc: {
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 37,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 12
          },
          end: {
            line: 37,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/tools/commandLineRewriter/commandLineCdPrefixRewriter.ts",
      mappings: "AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,+CAA+C,CAAC;AAE3E,OAAO,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC;AAG7D,MAAM,OAAO,2BAA4B,SAAQ,UAAU;IAC1D,OAAO,CAAC,OAAoC;QAC3C,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;YAClB,OAAO,SAAS,CAAC;QAClB,CAAC;QAED,MAAM,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;QAEvD,wFAAwF;QACxF,0FAA0F;QAC1F,gFAAgF;QAChF,MAAM,aAAa,GAAG,OAAO,CAAC,WAAW,CAAC,KAAK,CAC9C,MAAM;YACL,CAAC,CAAC,qFAAqF;YACvF,CAAC,CAAC,wCAAwC,CAC3C,CAAC;QACF,MAAM,KAAK,GAAG,aAAa,EAAE,MAAM,EAAE,GAAG,CAAC;QACzC,MAAM,QAAQ,GAAG,aAAa,EAAE,MAAM,EAAE,MAAM,CAAC;QAC/C,IAAI,KAAK,IAAI,QAAQ,EAAE,CAAC;YACvB,gCAAgC;YAChC,IAAI,SAAS,GAAG,KAAK,CAAC;YACtB,IAAI,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC1D,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC;YACD,6BAA6B;YAC7B,SAAS,GAAG,SAAS,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;YACjD,IAAI,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CAAC;YAC9D,yCAAyC;YACzC,IAAI,OAAO,CAAC,EAAE,oCAA4B,EAAE,CAAC;gBAC5C,SAAS,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;gBACpC,SAAS,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;YACrC,CAAC;YACD,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;gBAC7B,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,8BAA8B,EAAE,CAAC;YAC3E,CAAC;QACF,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;CACD",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/tools/commandLineRewriter/commandLineCdPrefixRewriter.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../../../base/common/lifecycle.js';\nimport { OperatingSystem } from '../../../../../../../base/common/platform.js';\nimport { isPowerShell } from '../../runInTerminalHelpers.js';\nimport type { ICommandLineRewriter, ICommandLineRewriterOptions, ICommandLineRewriterResult } from './commandLineRewriter.js';\n\nexport class CommandLineCdPrefixRewriter extends Disposable implements ICommandLineRewriter {\n\trewrite(options: ICommandLineRewriterOptions): ICommandLineRewriterResult | undefined {\n\t\tif (!options.cwd) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst isPwsh = isPowerShell(options.shell, options.os);\n\n\t\t// Re-write the command if it starts with `cd <dir> && <suffix>` or `cd <dir>; <suffix>`\n\t\t// to just `<suffix>` if the directory matches the current terminal's cwd. This simplifies\n\t\t// the result in the chat by removing redundancies that some models like to add.\n\t\tconst cdPrefixMatch = options.commandLine.match(\n\t\t\tisPwsh\n\t\t\t\t? /^(?:cd(?: \\/d)?|Set-Location(?: -Path)?) (?<dir>[^\\s]+) ?(?:&&|;)\\s+(?<suffix>.+)$/i\n\t\t\t\t: /^cd (?<dir>[^\\s]+) &&\\s+(?<suffix>.+)$/\n\t\t);\n\t\tconst cdDir = cdPrefixMatch?.groups?.dir;\n\t\tconst cdSuffix = cdPrefixMatch?.groups?.suffix;\n\t\tif (cdDir && cdSuffix) {\n\t\t\t// Remove any surrounding quotes\n\t\t\tlet cdDirPath = cdDir;\n\t\t\tif (cdDirPath.startsWith('\"') && cdDirPath.endsWith('\"')) {\n\t\t\t\tcdDirPath = cdDirPath.slice(1, -1);\n\t\t\t}\n\t\t\t// Normalize trailing slashes\n\t\t\tcdDirPath = cdDirPath.replace(/(?:[\\\\\\/])$/, '');\n\t\t\tlet cwdFsPath = options.cwd.fsPath.replace(/(?:[\\\\\\/])$/, '');\n\t\t\t// Case-insensitive comparison on Windows\n\t\t\tif (options.os === OperatingSystem.Windows) {\n\t\t\t\tcdDirPath = cdDirPath.toLowerCase();\n\t\t\t\tcwdFsPath = cwdFsPath.toLowerCase();\n\t\t\t}\n\t\t\tif (cdDirPath === cwdFsPath) {\n\t\t\t\treturn { rewritten: cdSuffix, reasoning: 'Removed redundant cd command' };\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7be4f4f84ce88d75e71a4017c33110dcb7cdbd7a"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_13qmd4yesu = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_13qmd4yesu();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { Disposable } from '../../../../../../../base/common/lifecycle.js';
import { isPowerShell } from '../../runInTerminalHelpers.js';
export class CommandLineCdPrefixRewriter extends Disposable {
  rewrite(options) {
    /* istanbul ignore next */
    cov_13qmd4yesu().f[0]++;
    cov_13qmd4yesu().s[0]++;
    if (!options.cwd) {
      /* istanbul ignore next */
      cov_13qmd4yesu().b[0][0]++;
      cov_13qmd4yesu().s[1]++;
      return undefined;
    } else
    /* istanbul ignore next */
    {
      cov_13qmd4yesu().b[0][1]++;
    }
    const isPwsh =
    /* istanbul ignore next */
    (cov_13qmd4yesu().s[2]++, isPowerShell(options.shell, options.os));
    // Re-write the command if it starts with `cd <dir> && <suffix>` or `cd <dir>; <suffix>`
    // to just `<suffix>` if the directory matches the current terminal's cwd. This simplifies
    // the result in the chat by removing redundancies that some models like to add.
    const cdPrefixMatch =
    /* istanbul ignore next */
    (cov_13qmd4yesu().s[3]++, options.commandLine.match(isPwsh ?
    /* istanbul ignore next */
    (cov_13qmd4yesu().b[1][0]++, /^(?:cd(?: \/d)?|Set-Location(?: -Path)?) (?<dir>[^\s]+) ?(?:&&|;)\s+(?<suffix>.+)$/i) :
    /* istanbul ignore next */
    (cov_13qmd4yesu().b[1][1]++, /^cd (?<dir>[^\s]+) &&\s+(?<suffix>.+)$/)));
    const cdDir =
    /* istanbul ignore next */
    (cov_13qmd4yesu().s[4]++, cdPrefixMatch?.groups?.dir);
    const cdSuffix =
    /* istanbul ignore next */
    (cov_13qmd4yesu().s[5]++, cdPrefixMatch?.groups?.suffix);
    /* istanbul ignore next */
    cov_13qmd4yesu().s[6]++;
    if (
    /* istanbul ignore next */
    (cov_13qmd4yesu().b[3][0]++, cdDir) &&
    /* istanbul ignore next */
    (cov_13qmd4yesu().b[3][1]++, cdSuffix)) {
      /* istanbul ignore next */
      cov_13qmd4yesu().b[2][0]++;
      // Remove any surrounding quotes
      let cdDirPath =
      /* istanbul ignore next */
      (cov_13qmd4yesu().s[7]++, cdDir);
      /* istanbul ignore next */
      cov_13qmd4yesu().s[8]++;
      if (
      /* istanbul ignore next */
      (cov_13qmd4yesu().b[5][0]++, cdDirPath.startsWith('"')) &&
      /* istanbul ignore next */
      (cov_13qmd4yesu().b[5][1]++, cdDirPath.endsWith('"'))) {
        /* istanbul ignore next */
        cov_13qmd4yesu().b[4][0]++;
        cov_13qmd4yesu().s[9]++;
        cdDirPath = cdDirPath.slice(1, -1);
      } else
      /* istanbul ignore next */
      {
        cov_13qmd4yesu().b[4][1]++;
      }
      // Normalize trailing slashes
      cov_13qmd4yesu().s[10]++;
      cdDirPath = cdDirPath.replace(/(?:[\\\/])$/, '');
      let cwdFsPath =
      /* istanbul ignore next */
      (cov_13qmd4yesu().s[11]++, options.cwd.fsPath.replace(/(?:[\\\/])$/, ''));
      // Case-insensitive comparison on Windows
      /* istanbul ignore next */
      cov_13qmd4yesu().s[12]++;
      if (options.os === 1 /* OperatingSystem.Windows */) {
        /* istanbul ignore next */
        cov_13qmd4yesu().b[6][0]++;
        cov_13qmd4yesu().s[13]++;
        cdDirPath = cdDirPath.toLowerCase();
        /* istanbul ignore next */
        cov_13qmd4yesu().s[14]++;
        cwdFsPath = cwdFsPath.toLowerCase();
      } else
      /* istanbul ignore next */
      {
        cov_13qmd4yesu().b[6][1]++;
      }
      cov_13qmd4yesu().s[15]++;
      if (cdDirPath === cwdFsPath) {
        /* istanbul ignore next */
        cov_13qmd4yesu().b[7][0]++;
        cov_13qmd4yesu().s[16]++;
        return {
          rewritten: cdSuffix,
          reasoning: 'Removed redundant cd command'
        };
      } else
      /* istanbul ignore next */
      {
        cov_13qmd4yesu().b[7][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_13qmd4yesu().b[2][1]++;
    }
    cov_13qmd4yesu().s[17]++;
    return undefined;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTNxbWQ0eWVzdSIsImFjdHVhbENvdmVyYWdlIiwiRGlzcG9zYWJsZSIsImlzUG93ZXJTaGVsbCIsIkNvbW1hbmRMaW5lQ2RQcmVmaXhSZXdyaXRlciIsInJld3JpdGUiLCJvcHRpb25zIiwiZiIsInMiLCJjd2QiLCJiIiwidW5kZWZpbmVkIiwiaXNQd3NoIiwic2hlbGwiLCJvcyIsImNkUHJlZml4TWF0Y2giLCJjb21tYW5kTGluZSIsIm1hdGNoIiwiY2REaXIiLCJncm91cHMiLCJkaXIiLCJjZFN1ZmZpeCIsInN1ZmZpeCIsImNkRGlyUGF0aCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInNsaWNlIiwicmVwbGFjZSIsImN3ZEZzUGF0aCIsImZzUGF0aCIsInRvTG93ZXJDYXNlIiwicmV3cml0dGVuIiwicmVhc29uaW5nIl0sInNvdXJjZXMiOlsiL2hvbWUvdXNlci9EZXNrdG9wL01pbnRNaW5kL3NyYy92cy93b3JrYmVuY2gvY29udHJpYi90ZXJtaW5hbENvbnRyaWIvY2hhdEFnZW50VG9vbHMvYnJvd3Nlci90b29scy9jb21tYW5kTGluZVJld3JpdGVyL2NvbW1hbmRMaW5lQ2RQcmVmaXhSZXdyaXRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBPcGVyYXRpbmdTeXN0ZW0gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9wbGF0Zm9ybS5qcyc7XG5pbXBvcnQgeyBpc1Bvd2VyU2hlbGwgfSBmcm9tICcuLi8uLi9ydW5JblRlcm1pbmFsSGVscGVycy5qcyc7XG5pbXBvcnQgdHlwZSB7IElDb21tYW5kTGluZVJld3JpdGVyLCBJQ29tbWFuZExpbmVSZXdyaXRlck9wdGlvbnMsIElDb21tYW5kTGluZVJld3JpdGVyUmVzdWx0IH0gZnJvbSAnLi9jb21tYW5kTGluZVJld3JpdGVyLmpzJztcblxuZXhwb3J0IGNsYXNzIENvbW1hbmRMaW5lQ2RQcmVmaXhSZXdyaXRlciBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJQ29tbWFuZExpbmVSZXdyaXRlciB7XG5cdHJld3JpdGUob3B0aW9uczogSUNvbW1hbmRMaW5lUmV3cml0ZXJPcHRpb25zKTogSUNvbW1hbmRMaW5lUmV3cml0ZXJSZXN1bHQgfCB1bmRlZmluZWQge1xuXHRcdGlmICghb3B0aW9ucy5jd2QpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNQd3NoID0gaXNQb3dlclNoZWxsKG9wdGlvbnMuc2hlbGwsIG9wdGlvbnMub3MpO1xuXG5cdFx0Ly8gUmUtd3JpdGUgdGhlIGNvbW1hbmQgaWYgaXQgc3RhcnRzIHdpdGggYGNkIDxkaXI+ICYmIDxzdWZmaXg+YCBvciBgY2QgPGRpcj47IDxzdWZmaXg+YFxuXHRcdC8vIHRvIGp1c3QgYDxzdWZmaXg+YCBpZiB0aGUgZGlyZWN0b3J5IG1hdGNoZXMgdGhlIGN1cnJlbnQgdGVybWluYWwncyBjd2QuIFRoaXMgc2ltcGxpZmllc1xuXHRcdC8vIHRoZSByZXN1bHQgaW4gdGhlIGNoYXQgYnkgcmVtb3ZpbmcgcmVkdW5kYW5jaWVzIHRoYXQgc29tZSBtb2RlbHMgbGlrZSB0byBhZGQuXG5cdFx0Y29uc3QgY2RQcmVmaXhNYXRjaCA9IG9wdGlvbnMuY29tbWFuZExpbmUubWF0Y2goXG5cdFx0XHRpc1B3c2hcblx0XHRcdFx0PyAvXig/OmNkKD86IFxcL2QpP3xTZXQtTG9jYXRpb24oPzogLVBhdGgpPykgKD88ZGlyPlteXFxzXSspID8oPzomJnw7KVxccysoPzxzdWZmaXg+LispJC9pXG5cdFx0XHRcdDogL15jZCAoPzxkaXI+W15cXHNdKykgJiZcXHMrKD88c3VmZml4Pi4rKSQvXG5cdFx0KTtcblx0XHRjb25zdCBjZERpciA9IGNkUHJlZml4TWF0Y2g/Lmdyb3Vwcz8uZGlyO1xuXHRcdGNvbnN0IGNkU3VmZml4ID0gY2RQcmVmaXhNYXRjaD8uZ3JvdXBzPy5zdWZmaXg7XG5cdFx0aWYgKGNkRGlyICYmIGNkU3VmZml4KSB7XG5cdFx0XHQvLyBSZW1vdmUgYW55IHN1cnJvdW5kaW5nIHF1b3Rlc1xuXHRcdFx0bGV0IGNkRGlyUGF0aCA9IGNkRGlyO1xuXHRcdFx0aWYgKGNkRGlyUGF0aC5zdGFydHNXaXRoKCdcIicpICYmIGNkRGlyUGF0aC5lbmRzV2l0aCgnXCInKSkge1xuXHRcdFx0XHRjZERpclBhdGggPSBjZERpclBhdGguc2xpY2UoMSwgLTEpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gTm9ybWFsaXplIHRyYWlsaW5nIHNsYXNoZXNcblx0XHRcdGNkRGlyUGF0aCA9IGNkRGlyUGF0aC5yZXBsYWNlKC8oPzpbXFxcXFxcL10pJC8sICcnKTtcblx0XHRcdGxldCBjd2RGc1BhdGggPSBvcHRpb25zLmN3ZC5mc1BhdGgucmVwbGFjZSgvKD86W1xcXFxcXC9dKSQvLCAnJyk7XG5cdFx0XHQvLyBDYXNlLWluc2Vuc2l0aXZlIGNvbXBhcmlzb24gb24gV2luZG93c1xuXHRcdFx0aWYgKG9wdGlvbnMub3MgPT09IE9wZXJhdGluZ1N5c3RlbS5XaW5kb3dzKSB7XG5cdFx0XHRcdGNkRGlyUGF0aCA9IGNkRGlyUGF0aC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRjd2RGc1BhdGggPSBjd2RGc1BhdGgudG9Mb3dlckNhc2UoKTtcblx0XHRcdH1cblx0XHRcdGlmIChjZERpclBhdGggPT09IGN3ZEZzUGF0aCkge1xuXHRcdFx0XHRyZXR1cm4geyByZXdyaXR0ZW46IGNkU3VmZml4LCByZWFzb25pbmc6ICdSZW1vdmVkIHJlZHVuZGFudCBjZCBjb21tYW5kJyB9O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQkU7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTtBQXJCRjs7OztBQUtBLFNB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