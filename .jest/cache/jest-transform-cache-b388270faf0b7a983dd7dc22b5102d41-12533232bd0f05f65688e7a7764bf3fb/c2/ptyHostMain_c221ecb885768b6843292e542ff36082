6e350dec591eebe47d657029bc77c953
/* istanbul ignore next */
function cov_184hd2hku() {
  var path = "/home/user/Desktop/MintMind/src/vs/platform/terminal/node/ptyHostMain.ts";
  var hash = "0f9085fdb1d10cb55b4970e944dbdac23b17aef6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/platform/terminal/node/ptyHostMain.ts",
    statementMap: {
      "0": {
        start: {
          line: 23,
          column: 0
        },
        end: {
          line: 23,
          column: 15
        }
      },
      "1": {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 26,
          column: 74
        }
      },
      "2": {
        start: {
          line: 27,
          column: 29
        },
        end: {
          line: 27,
          column: 72
        }
      },
      "3": {
        start: {
          line: 28,
          column: 31
        },
        end: {
          line: 32,
          column: 5
        }
      },
      "4": {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 34,
          column: 51
        }
      },
      "5": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 35,
          column: 57
        }
      },
      "6": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 51
        }
      },
      "7": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 38
        }
      },
      "8": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 44
        }
      },
      "9": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 43,
          column: 5
        }
      },
      "10": {
        start: {
          line: 42,
          column: 8
        },
        end: {
          line: 42,
          column: 36
        }
      },
      "11": {
        start: {
          line: 45,
          column: 30
        },
        end: {
          line: 45,
          column: 55
        }
      },
      "12": {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 52,
          column: 5
        }
      },
      "13": {
        start: {
          line: 48,
          column: 8
        },
        end: {
          line: 48,
          column: 44
        }
      },
      "14": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 69
        }
      },
      "15": {
        start: {
          line: 54,
          column: 27
        },
        end: {
          line: 54,
          column: 67
        }
      },
      "16": {
        start: {
          line: 55,
          column: 31
        },
        end: {
          line: 55,
          column: 109
        }
      },
      "17": {
        start: {
          line: 56,
          column: 26
        },
        end: {
          line: 56,
          column: 105
        }
      },
      "18": {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 118
        }
      },
      "19": {
        start: {
          line: 57,
          column: 94
        },
        end: {
          line: 57,
          column: 115
        }
      },
      "20": {
        start: {
          line: 58,
          column: 19
        },
        end: {
          line: 58,
          column: 99
        }
      },
      "21": {
        start: {
          line: 59,
          column: 23
        },
        end: {
          line: 59,
          column: 45
        }
      },
      "22": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 63,
          column: 5
        }
      },
      "23": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 73
        }
      },
      "24": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 66,
          column: 5
        }
      },
      "25": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 80
        }
      },
      "26": {
        start: {
          line: 67,
          column: 24
        },
        end: {
          line: 67,
          column: 45
        }
      },
      "27": {
        start: {
          line: 69,
          column: 29
        },
        end: {
          line: 69,
          column: 51
        }
      },
      "28": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 115
        }
      },
      "29": {
        start: {
          line: 72,
          column: 23
        },
        end: {
          line: 72,
          column: 103
        }
      },
      "30": {
        start: {
          line: 73,
          column: 30
        },
        end: {
          line: 73,
          column: 79
        }
      },
      "31": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 74,
          column: 75
        }
      },
      "32": {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      "33": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 77,
          column: 85
        }
      },
      "34": {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 85,
          column: 7
        }
      },
      "35": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 45
        }
      },
      "36": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 29
        }
      },
      "37": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 35
        }
      },
      "38": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 84,
          column: 29
        }
      }
    },
    fnMap: {
      "0": {
        name: "startPtyHost",
        decl: {
          start: {
            line: 24,
            column: 15
          },
          end: {
            line: 24,
            column: 27
          }
        },
        loc: {
          start: {
            line: 24,
            column: 30
          },
          end: {
            line: 86,
            column: 1
          }
        },
        line: 24
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 57,
            column: 88
          },
          end: {
            line: 57,
            column: 89
          }
        },
        loc: {
          start: {
            line: 57,
            column: 94
          },
          end: {
            line: 57,
            column: 115
          }
        },
        line: 57
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 80,
            column: 25
          },
          end: {
            line: 80,
            column: 26
          }
        },
        loc: {
          start: {
            line: 80,
            column: 31
          },
          end: {
            line: 85,
            column: 5
          }
        },
        line: 80
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 26,
            column: 34
          },
          end: {
            line: 26,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 26,
            column: 34
          },
          end: {
            line: 26,
            column: 66
          }
        }, {
          start: {
            line: 26,
            column: 70
          },
          end: {
            line: 26,
            column: 73
          }
        }],
        line: 26
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 38
          },
          end: {
            line: 27,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 38
          },
          end: {
            line: 27,
            column: 64
          }
        }, {
          start: {
            line: 27,
            column: 68
          },
          end: {
            line: 27,
            column: 71
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 29,
            column: 28
          },
          end: {
            line: 29,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 29,
            column: 28
          },
          end: {
            line: 29,
            column: 67
          }
        }, {
          start: {
            line: 29,
            column: 71
          },
          end: {
            line: 29,
            column: 74
          }
        }],
        line: 29
      },
      "3": {
        loc: {
          start: {
            line: 30,
            column: 33
          },
          end: {
            line: 30,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 30,
            column: 33
          },
          end: {
            line: 30,
            column: 78
          }
        }, {
          start: {
            line: 30,
            column: 82
          },
          end: {
            line: 30,
            column: 85
          }
        }],
        line: 30
      },
      "4": {
        loc: {
          start: {
            line: 31,
            column: 29
          },
          end: {
            line: 31,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 29
          },
          end: {
            line: 31,
            column: 68
          }
        }, {
          start: {
            line: 31,
            column: 72
          },
          end: {
            line: 31,
            column: 77
          }
        }],
        line: 31
      },
      "5": {
        loc: {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "6": {
        loc: {
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 52,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 4
          },
          end: {
            line: 52,
            column: 5
          }
        }, {
          start: {
            line: 50,
            column: 9
          },
          end: {
            line: 52,
            column: 5
          }
        }],
        line: 47
      },
      "7": {
        loc: {
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 61
      },
      "8": {
        loc: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "9": {
        loc: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 76
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/platform/terminal/node/ptyHostMain.ts",
      mappings: "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",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/platform/terminal/node/ptyHostMain.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DefaultURITransformer } from '../../../base/common/uriIpc.js';\nimport { ProxyChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { Server as ChildProcessServer } from '../../../base/parts/ipc/node/ipc.cp.js';\nimport { Server as UtilityProcessServer } from '../../../base/parts/ipc/node/ipc.mp.js';\nimport { localize } from '../../../nls.js';\nimport { OPTIONS, parseArgs } from '../../environment/node/argv.js';\nimport { NativeEnvironmentService } from '../../environment/node/environmentService.js';\nimport { getLogLevel } from '../../log/common/log.js';\nimport { LoggerChannel } from '../../log/common/logIpc.js';\nimport { LogService } from '../../log/common/logService.js';\nimport { LoggerService } from '../../log/node/loggerService.js';\nimport product from '../../product/common/product.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { IReconnectConstants, TerminalIpcChannels } from '../common/terminal.js';\nimport { HeartbeatService } from './heartbeatService.js';\nimport { PtyService } from './ptyService.js';\nimport { isUtilityProcess } from '../../../base/parts/sandbox/node/electronTypes.js';\nimport { timeout } from '../../../base/common/async.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\n\nstartPtyHost();\n\nasync function startPtyHost() {\n\t// Parse environment variables\n\tconst startupDelay = parseInt(process.env.VSCODE_STARTUP_DELAY ?? '0');\n\tconst simulatedLatency = parseInt(process.env.VSCODE_LATENCY ?? '0');\n\tconst reconnectConstants: IReconnectConstants = {\n\t\tgraceTime: parseInt(process.env.VSCODE_RECONNECT_GRACE_TIME || '0'),\n\t\tshortGraceTime: parseInt(process.env.VSCODE_RECONNECT_SHORT_GRACE_TIME || '0'),\n\t\tscrollback: parseInt(process.env.VSCODE_RECONNECT_SCROLLBACK || '100')\n\t};\n\n\t// Sanitize environment\n\tdelete process.env.VSCODE_RECONNECT_GRACE_TIME;\n\tdelete process.env.VSCODE_RECONNECT_SHORT_GRACE_TIME;\n\tdelete process.env.VSCODE_RECONNECT_SCROLLBACK;\n\tdelete process.env.VSCODE_LATENCY;\n\tdelete process.env.VSCODE_STARTUP_DELAY;\n\n\t// Delay startup if needed, this must occur before RPC is setup to avoid the channel from timing\n\t// out.\n\tif (startupDelay) {\n\t\tawait timeout(startupDelay);\n\t}\n\n\t// Setup RPC\n\tconst _isUtilityProcess = isUtilityProcess(process);\n\tlet server: ChildProcessServer<string> | UtilityProcessServer;\n\tif (_isUtilityProcess) {\n\t\tserver = new UtilityProcessServer();\n\t} else {\n\t\tserver = new ChildProcessServer(TerminalIpcChannels.PtyHost);\n\t}\n\n\t// Services\n\tconst productService: IProductService = { _serviceBrand: undefined, ...product };\n\tconst environmentService = new NativeEnvironmentService(parseArgs(process.argv, OPTIONS), productService);\n\tconst loggerService = new LoggerService(getLogLevel(environmentService), environmentService.logsHome);\n\tserver.registerChannel(TerminalIpcChannels.Logger, new LoggerChannel(loggerService, () => DefaultURITransformer));\n\tconst logger = loggerService.createLogger('ptyhost', { name: localize('ptyHost', \"Pty Host\") });\n\tconst logService = new LogService(logger);\n\n\t// Log developer config\n\tif (startupDelay) {\n\t\tlogService.warn(`Pty Host startup is delayed ${startupDelay}ms`);\n\t}\n\tif (simulatedLatency) {\n\t\tlogService.warn(`Pty host is simulating ${simulatedLatency}ms latency`);\n\t}\n\n\tconst disposables = new DisposableStore();\n\n\t// Heartbeat responsiveness tracking\n\tconst heartbeatService = new HeartbeatService();\n\tserver.registerChannel(TerminalIpcChannels.Heartbeat, ProxyChannel.fromService(heartbeatService, disposables));\n\n\t// Init pty service\n\tconst ptyService = new PtyService(logService, productService, reconnectConstants, simulatedLatency);\n\tconst ptyServiceChannel = ProxyChannel.fromService(ptyService, disposables);\n\tserver.registerChannel(TerminalIpcChannels.PtyHost, ptyServiceChannel);\n\n\t// Register a channel for direct communication via Message Port\n\tif (_isUtilityProcess) {\n\t\tserver.registerChannel(TerminalIpcChannels.PtyHostWindow, ptyServiceChannel);\n\t}\n\n\t// Clean up\n\tprocess.once('exit', () => {\n\t\tlogService.trace('Pty host exiting');\n\t\tlogService.dispose();\n\t\theartbeatService.dispose();\n\t\tptyService.dispose();\n\t});\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "0f9085fdb1d10cb55b4970e944dbdac23b17aef6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_184hd2hku = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_184hd2hku();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { DefaultURITransformer } from '../../../base/common/uriIpc.js';
import { ProxyChannel } from '../../../base/parts/ipc/common/ipc.js';
import { Server as ChildProcessServer } from '../../../base/parts/ipc/node/ipc.cp.js';
import { Server as UtilityProcessServer } from '../../../base/parts/ipc/node/ipc.mp.js';
import { localize } from '../../../nls.js';
import { OPTIONS, parseArgs } from '../../environment/node/argv.js';
import { NativeEnvironmentService } from '../../environment/node/environmentService.js';
import { getLogLevel } from '../../log/common/log.js';
import { LoggerChannel } from '../../log/common/logIpc.js';
import { LogService } from '../../log/common/logService.js';
import { LoggerService } from '../../log/node/loggerService.js';
import product from '../../product/common/product.js';
import { TerminalIpcChannels } from '../common/terminal.js';
import { HeartbeatService } from './heartbeatService.js';
import { PtyService } from './ptyService.js';
import { isUtilityProcess } from '../../../base/parts/sandbox/node/electronTypes.js';
import { timeout } from '../../../base/common/async.js';
import { DisposableStore } from '../../../base/common/lifecycle.js';
/* istanbul ignore next */
cov_184hd2hku().s[0]++;
startPtyHost();
async function startPtyHost() {
  /* istanbul ignore next */
  cov_184hd2hku().f[0]++;
  // Parse environment variables
  const startupDelay =
  /* istanbul ignore next */
  (cov_184hd2hku().s[1]++, parseInt(
  /* istanbul ignore next */
  (cov_184hd2hku().b[0][0]++, process.env.VSCODE_STARTUP_DELAY) ??
  /* istanbul ignore next */
  (cov_184hd2hku().b[0][1]++, '0')));
  const simulatedLatency =
  /* istanbul ignore next */
  (cov_184hd2hku().s[2]++, parseInt(
  /* istanbul ignore next */
  (cov_184hd2hku().b[1][0]++, process.env.VSCODE_LATENCY) ??
  /* istanbul ignore next */
  (cov_184hd2hku().b[1][1]++, '0')));
  const reconnectConstants =
  /* istanbul ignore next */
  (cov_184hd2hku().s[3]++, {
    graceTime: parseInt(
    /* istanbul ignore next */
    (cov_184hd2hku().b[2][0]++, process.env.VSCODE_RECONNECT_GRACE_TIME) ||
    /* istanbul ignore next */
    (cov_184hd2hku().b[2][1]++, '0')),
    shortGraceTime: parseInt(
    /* istanbul ignore next */
    (cov_184hd2hku().b[3][0]++, process.env.VSCODE_RECONNECT_SHORT_GRACE_TIME) ||
    /* istanbul ignore next */
    (cov_184hd2hku().b[3][1]++, '0')),
    scrollback: parseInt(
    /* istanbul ignore next */
    (cov_184hd2hku().b[4][0]++, process.env.VSCODE_RECONNECT_SCROLLBACK) ||
    /* istanbul ignore next */
    (cov_184hd2hku().b[4][1]++, '100'))
  });
  // Sanitize environment
  /* istanbul ignore next */
  cov_184hd2hku().s[4]++;
  delete process.env.VSCODE_RECONNECT_GRACE_TIME;
  /* istanbul ignore next */
  cov_184hd2hku().s[5]++;
  delete process.env.VSCODE_RECONNECT_SHORT_GRACE_TIME;
  /* istanbul ignore next */
  cov_184hd2hku().s[6]++;
  delete process.env.VSCODE_RECONNECT_SCROLLBACK;
  /* istanbul ignore next */
  cov_184hd2hku().s[7]++;
  delete process.env.VSCODE_LATENCY;
  /* istanbul ignore next */
  cov_184hd2hku().s[8]++;
  delete process.env.VSCODE_STARTUP_DELAY;
  // Delay startup if needed, this must occur before RPC is setup to avoid the channel from timing
  // out.
  /* istanbul ignore next */
  cov_184hd2hku().s[9]++;
  if (startupDelay) {
    /* istanbul ignore next */
    cov_184hd2hku().b[5][0]++;
    cov_184hd2hku().s[10]++;
    await timeout(startupDelay);
  } else
  /* istanbul ignore next */
  {
    cov_184hd2hku().b[5][1]++;
  }
  // Setup RPC
  const _isUtilityProcess =
  /* istanbul ignore next */
  (cov_184hd2hku().s[11]++, isUtilityProcess(process));
  let server;
  /* istanbul ignore next */
  cov_184hd2hku().s[12]++;
  if (_isUtilityProcess) {
    /* istanbul ignore next */
    cov_184hd2hku().b[6][0]++;
    cov_184hd2hku().s[13]++;
    server = new UtilityProcessServer();
  } else {
    /* istanbul ignore next */
    cov_184hd2hku().b[6][1]++;
    cov_184hd2hku().s[14]++;
    server = new ChildProcessServer(TerminalIpcChannels.PtyHost);
  }
  // Services
  const productService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[15]++, {
    _serviceBrand: undefined,
    ...product
  });
  const environmentService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[16]++, new NativeEnvironmentService(parseArgs(process.argv, OPTIONS), productService));
  const loggerService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[17]++, new LoggerService(getLogLevel(environmentService), environmentService.logsHome));
  /* istanbul ignore next */
  cov_184hd2hku().s[18]++;
  server.registerChannel(TerminalIpcChannels.Logger, new LoggerChannel(loggerService, () => {
    /* istanbul ignore next */
    cov_184hd2hku().f[1]++;
    cov_184hd2hku().s[19]++;
    return DefaultURITransformer;
  }));
  const logger =
  /* istanbul ignore next */
  (cov_184hd2hku().s[20]++, loggerService.createLogger('ptyhost', {
    name: localize('ptyHost', "Pty Host")
  }));
  const logService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[21]++, new LogService(logger));
  // Log developer config
  /* istanbul ignore next */
  cov_184hd2hku().s[22]++;
  if (startupDelay) {
    /* istanbul ignore next */
    cov_184hd2hku().b[7][0]++;
    cov_184hd2hku().s[23]++;
    logService.warn(`Pty Host startup is delayed ${startupDelay}ms`);
  } else
  /* istanbul ignore next */
  {
    cov_184hd2hku().b[7][1]++;
  }
  cov_184hd2hku().s[24]++;
  if (simulatedLatency) {
    /* istanbul ignore next */
    cov_184hd2hku().b[8][0]++;
    cov_184hd2hku().s[25]++;
    logService.warn(`Pty host is simulating ${simulatedLatency}ms latency`);
  } else
  /* istanbul ignore next */
  {
    cov_184hd2hku().b[8][1]++;
  }
  const disposables =
  /* istanbul ignore next */
  (cov_184hd2hku().s[26]++, new DisposableStore());
  // Heartbeat responsiveness tracking
  const heartbeatService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[27]++, new HeartbeatService());
  /* istanbul ignore next */
  cov_184hd2hku().s[28]++;
  server.registerChannel(TerminalIpcChannels.Heartbeat, ProxyChannel.fromService(heartbeatService, disposables));
  // Init pty service
  const ptyService =
  /* istanbul ignore next */
  (cov_184hd2hku().s[29]++, new PtyService(logService, productService, reconnectConstants, simulatedLatency));
  const ptyServiceChannel =
  /* istanbul ignore next */
  (cov_184hd2hku().s[30]++, ProxyChannel.fromService(ptyService, disposables));
  /* istanbul ignore next */
  cov_184hd2hku().s[31]++;
  server.registerChannel(TerminalIpcChannels.PtyHost, ptyServiceChannel);
  // Register a channel for direct communication via Message Port
  /* istanbul ignore next */
  cov_184hd2hku().s[32]++;
  if (_isUtilityProcess) {
    /* istanbul ignore next */
    cov_184hd2hku().b[9][0]++;
    cov_184hd2hku().s[33]++;
    server.registerChannel(TerminalIpcChannels.PtyHostWindow, ptyServiceChannel);
  } else
  /* istanbul ignore next */
  {
    cov_184hd2hku().b[9][1]++;
  }
  // Clean up
  cov_184hd2hku().s[34]++;
  process.once('exit', () => {
    /* istanbul ignore next */
    cov_184hd2hku().f[2]++;
    cov_184hd2hku().s[35]++;
    logService.trace('Pty host exiting');
    /* istanbul ignore next */
    cov_184hd2hku().s[36]++;
    logService.dispose();
    /* istanbul ignore next */
    cov_184hd2hku().s[37]++;
    heartbeatService.dispose();
    /* istanbul ignore next */
    cov_184hd2hku().s[38]++;
    ptyService.dispose();
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTg0aGQyaGt1IiwiYWN0dWFsQ292ZXJhZ2UiLCJEZWZhdWx0VVJJVHJhbnNmb3JtZXIiLCJQcm94eUNoYW5uZWwiLCJTZXJ2ZXIiLCJDaGlsZFByb2Nlc3NTZXJ2ZXIiLCJVdGlsaXR5UHJvY2Vzc1NlcnZlciIsImxvY2FsaXplIiwiT1BUSU9OUyIsInBhcnNlQXJncyIsIk5hdGl2ZUVudmlyb25tZW50U2VydmljZSIsImdldExvZ0xldmVsIiwiTG9nZ2VyQ2hhbm5lbCIsIkxvZ1NlcnZpY2UiLCJMb2dnZXJTZXJ2aWNlIiwicHJvZHVjdCIsIlRlcm1pbmFsSXBjQ2hhbm5lbHMiLCJIZWFydGJlYXRTZXJ2aWNlIiwiUHR5U2VydmljZSIsImlzVXRpbGl0eVByb2Nlc3MiLCJ0aW1lb3V0IiwiRGlzcG9zYWJsZVN0b3JlIiwicyIsInN0YXJ0UHR5SG9zdCIsImYiLCJzdGFydHVwRGVsYXkiLCJwYXJzZUludCIsImIiLCJwcm9jZXNzIiwiZW52IiwiVlNDT0RFX1NUQVJUVVBfREVMQVkiLCJzaW11bGF0ZWRMYXRlbmN5IiwiVlNDT0RFX0xBVEVOQ1kiLCJyZWNvbm5lY3RDb25zdGFudHMiLCJncmFjZVRpbWUiLCJWU0NPREVfUkVDT05ORUNUX0dSQUNFX1RJTUUiLCJzaG9ydEdyYWNlVGltZSIsIlZTQ09ERV9SRUNPTk5FQ1RfU0hPUlRfR1JBQ0VfVElNRSIsInNjcm9sbGJhY2siLCJWU0NPREVfUkVDT05ORUNUX1NDUk9MTEJBQ0siLCJfaXNVdGlsaXR5UHJvY2VzcyIsInNlcnZlciIsIlB0eUhvc3QiLCJwcm9kdWN0U2VydmljZSIsIl9zZXJ2aWNlQnJhbmQiLCJ1bmRlZmluZWQiLCJlbnZpcm9ubWVudFNlcnZpY2UiLCJhcmd2IiwibG9nZ2VyU2VydmljZSIsImxvZ3NIb21lIiwicmVnaXN0ZXJDaGFubmVsIiwiTG9nZ2VyIiwibG9nZ2VyIiwiY3JlYXRlTG9nZ2VyIiwibmFtZSIsImxvZ1NlcnZpY2UiLCJ3YXJuIiwiZGlzcG9zYWJsZXMiLCJoZWFydGJlYXRTZXJ2aWNlIiwiSGVhcnRiZWF0IiwiZnJvbVNlcnZpY2UiLCJwdHlTZXJ2aWNlIiwicHR5U2VydmljZUNoYW5uZWwiLCJQdHlIb3N0V2luZG93Iiwib25jZSIsInRyYWNlIiwiZGlzcG9zZSJdLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvRGVza3RvcC9NaW50TWluZC9zcmMvdnMvcGxhdGZvcm0vdGVybWluYWwvbm9kZS9wdHlIb3N0TWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgRGVmYXVsdFVSSVRyYW5zZm9ybWVyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpSXBjLmpzJztcbmltcG9ydCB7IFByb3h5Q2hhbm5lbCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvcGFydHMvaXBjL2NvbW1vbi9pcGMuanMnO1xuaW1wb3J0IHsgU2VydmVyIGFzIENoaWxkUHJvY2Vzc1NlcnZlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvcGFydHMvaXBjL25vZGUvaXBjLmNwLmpzJztcbmltcG9ydCB7IFNlcnZlciBhcyBVdGlsaXR5UHJvY2Vzc1NlcnZlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvcGFydHMvaXBjL25vZGUvaXBjLm1wLmpzJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnLi4vLi4vLi4vbmxzLmpzJztcbmltcG9ydCB7IE9QVElPTlMsIHBhcnNlQXJncyB9IGZyb20gJy4uLy4uL2Vudmlyb25tZW50L25vZGUvYXJndi5qcyc7XG5pbXBvcnQgeyBOYXRpdmVFbnZpcm9ubWVudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9lbnZpcm9ubWVudC9ub2RlL2Vudmlyb25tZW50U2VydmljZS5qcyc7XG5pbXBvcnQgeyBnZXRMb2dMZXZlbCB9IGZyb20gJy4uLy4uL2xvZy9jb21tb24vbG9nLmpzJztcbmltcG9ydCB7IExvZ2dlckNoYW5uZWwgfSBmcm9tICcuLi8uLi9sb2cvY29tbW9uL2xvZ0lwYy5qcyc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vbG9nL2NvbW1vbi9sb2dTZXJ2aWNlLmpzJztcbmltcG9ydCB7IExvZ2dlclNlcnZpY2UgfSBmcm9tICcuLi8uLi9sb2cvbm9kZS9sb2dnZXJTZXJ2aWNlLmpzJztcbmltcG9ydCBwcm9kdWN0IGZyb20gJy4uLy4uL3Byb2R1Y3QvY29tbW9uL3Byb2R1Y3QuanMnO1xuaW1wb3J0IHsgSVByb2R1Y3RTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vcHJvZHVjdC9jb21tb24vcHJvZHVjdFNlcnZpY2UuanMnO1xuaW1wb3J0IHsgSVJlY29ubmVjdENvbnN0YW50cywgVGVybWluYWxJcGNDaGFubmVscyB9IGZyb20gJy4uL2NvbW1vbi90ZXJtaW5hbC5qcyc7XG5pbXBvcnQgeyBIZWFydGJlYXRTZXJ2aWNlIH0gZnJvbSAnLi9oZWFydGJlYXRTZXJ2aWNlLmpzJztcbmltcG9ydCB7IFB0eVNlcnZpY2UgfSBmcm9tICcuL3B0eVNlcnZpY2UuanMnO1xuaW1wb3J0IHsgaXNVdGlsaXR5UHJvY2VzcyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvcGFydHMvc2FuZGJveC9ub2RlL2VsZWN0cm9uVHlwZXMuanMnO1xuaW1wb3J0IHsgdGltZW91dCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FzeW5jLmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGVTdG9yZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5cbnN0YXJ0UHR5SG9zdCgpO1xuXG5hc3luYyBmdW5jdGlvbiBzdGFydFB0eUhvc3QoKSB7XG5cdC8vIFBhcnNlIGVudmlyb25tZW50IHZhcmlhYmxlc1xuXHRjb25zdCBzdGFydHVwRGVsYXkgPSBwYXJzZUludChwcm9jZXNzLmVudi5WU0NPREVfU1RBUlRVUF9ERUxBWSA/PyAnMCcpO1xuXHRjb25zdCBzaW11bGF0ZWRMYXRlbmN5ID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuVlNDT0RFX0xBVEVOQ1kgPz8gJzAnKTtcblx0Y29uc3QgcmVjb25uZWN0Q29uc3RhbnRzOiBJUmVjb25uZWN0Q29uc3RhbnRzID0ge1xuXHRcdGdyYWNlVGltZTogcGFyc2VJbnQocHJvY2Vzcy5lbnYuVlNDT0RFX1JFQ09OTkVDVF9HUkFDRV9USU1FIHx8ICcwJyksXG5cdFx0c2hvcnRHcmFjZVRpbWU6IHBhcnNlSW50KHByb2Nlc3MuZW52LlZTQ09ERV9SRUNPTk5FQ1RfU0hPUlRfR1JBQ0VfVElNRSB8fCAnMCcpLFxuXHRcdHNjcm9sbGJhY2s6IHBhcnNlSW50KHByb2Nlc3MuZW52LlZTQ09ERV9SRUNPTk5FQ1RfU0NST0xMQkFDSyB8fCAnMTAwJylcblx0fTtcblxuXHQvLyBTYW5pdGl6ZSBlbnZpcm9ubWVudFxuXHRkZWxldGUgcHJvY2Vzcy5lbnYuVlNDT0RFX1JFQ09OTkVDVF9HUkFDRV9USU1FO1xuXHRkZWxldGUgcHJvY2Vzcy5lbnYuVlNDT0RFX1JFQ09OTkVDVF9TSE9SVF9HUkFDRV9USU1FO1xuXHRkZWxldGUgcHJvY2Vzcy5lbnYuVlNDT0RFX1JFQ09OTkVDVF9TQ1JPTExCQUNLO1xuXHRkZWxldGUgcHJvY2Vzcy5lbnYuVlNDT0RFX0xBVEVOQ1k7XG5cdGRlbGV0ZSBwcm9jZXNzLmVudi5WU0NPREVfU1RBUlRVUF9ERUxBWTtcblxuXHQvLyBEZWxheSBzdGFydHVwIGlmIG5lZWRlZCwgdGhpcyBtdXN0IG9jY3VyIGJlZm9yZSBSUEMgaXMgc2V0dXAgdG8gYXZvaWQgdGhlIGNoYW5uZWwgZnJvbSB0aW1pbmdcblx0Ly8gb3V0LlxuXHRpZiAoc3RhcnR1cERlbGF5KSB7XG5cdFx0YXdhaXQgdGltZW91dChzdGFydHVwRGVsYXkpO1xuXHR9XG5cblx0Ly8gU2V0dXAgUlBDXG5cdGNvbnN0IF9pc1V0aWxpdHlQcm9jZXNzID0gaXNVdGlsaXR5UHJvY2Vzcyhwcm9jZXNzKTtcblx0bGV0IHNlcnZlcjogQ2hpbGRQcm9jZXNzU2VydmVyPHN0cmluZz4gfCBVdGlsaXR5UHJvY2Vzc1NlcnZlcjtcblx0aWYgKF9pc1V0aWxpdHlQcm9jZXNzKSB7XG5cdFx0c2VydmVyID0gbmV3IFV0aWxpdHlQcm9jZXNzU2VydmVyKCk7XG5cdH0gZWxzZSB7XG5cdFx0c2VydmVyID0gbmV3IENoaWxkUHJvY2Vzc1NlcnZlcihUZXJtaW5hbElwY0NoYW5uZWxzLlB0eUhvc3QpO1xuXHR9XG5cblx0Ly8gU2VydmljZXNcblx0Y29uc3QgcHJvZHVjdFNlcnZpY2U6IElQcm9kdWN0U2VydmljZSA9IHsgX3NlcnZpY2VCcmFuZDogdW5kZWZpbmVkLCAuLi5wcm9kdWN0IH07XG5cdGNvbnN0IGVudmlyb25tZW50U2VydmljZSA9IG5ldyBOYXRpdmVFbnZpcm9ubWVudFNlcnZpY2UocGFyc2VBcmdzKHByb2Nlc3MuYXJndiwgT1BUSU9OUyksIHByb2R1Y3RTZXJ2aWNlKTtcblx0Y29uc3QgbG9nZ2VyU2VydmljZSA9IG5ldyBMb2dnZXJTZXJ2aWNlKGdldExvZ0xldmVsKGVudmlyb25tZW50U2VydmljZSksIGVudmlyb25tZW50U2VydmljZS5sb2dzSG9tZSk7XG5cdHNlcnZlci5yZWdpc3RlckNoYW5uZWwoVGVybWluYWxJcGNDaGFubmVscy5Mb2dnZXIsIG5ldyBMb2dnZXJDaGFubmVsKGxvZ2dlclNlcnZpY2UsICgpID0+IERlZmF1bHRVUklUcmFuc2Zvcm1lcikpO1xuXHRjb25zdCBsb2dnZXIgPSBsb2dnZXJTZXJ2aWNlLmNyZWF0ZUxvZ2dlcigncHR5aG9zdCcsIHsgbmFtZTogbG9jYWxpemUoJ3B0eUhvc3QnLCBcIlB0eSBIb3N0XCIpIH0pO1xuXHRjb25zdCBsb2dTZXJ2aWNlID0gbmV3IExvZ1NlcnZpY2UobG9nZ2VyKTtcblxuXHQvLyBMb2cgZGV2ZWxvcGVyIGNvbmZpZ1xuXHRpZiAoc3RhcnR1cERlbGF5KSB7XG5cdFx0bG9nU2VydmljZS53YXJuKGBQdHkgSG9zdCBzdGFydHVwIGlzIGRlbGF5ZWQgJHtzdGFydHVwRGVsYXl9bXNgKTtcblx0fVxuXHRpZiAoc2ltdWxhdGVkTGF0ZW5jeSkge1xuXHRcdGxvZ1NlcnZpY2Uud2FybihgUHR5IGhvc3QgaXMgc2ltdWxhdGluZyAke3NpbXVsYXRlZExhdGVuY3l9bXMgbGF0ZW5jeWApO1xuXHR9XG5cblx0Y29uc3QgZGlzcG9zYWJsZXMgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7XG5cblx0Ly8gSGVhcnRiZWF0IHJlc3BvbnNpdmVuZXNzIHRyYWNraW5nXG5cdGNvbnN0IGhlYXJ0YmVhdFNlcnZpY2UgPSBuZXcgSGVhcnRiZWF0U2VydmljZSgpO1xuXHRzZXJ2ZXIucmVnaXN0ZXJDaGFubmVsKFRlcm1pbmFsSXBjQ2hhbm5lbHMuSGVhcnRiZWF0LCBQcm94eUNoYW5uZWwuZnJvbVNlcnZpY2UoaGVhcnRiZWF0U2VydmljZSwgZGlzcG9zYWJsZXMpKTtcblxuXHQvLyBJbml0IHB0eSBzZXJ2aWNlXG5cdGNvbnN0IHB0eVNlcnZpY2UgPSBuZXcgUHR5U2VydmljZShsb2dTZXJ2aWNlLCBwcm9kdWN0U2VydmljZSwgcmVjb25uZWN0Q29uc3RhbnRzLCBzaW11bGF0ZWRMYXRlbmN5KTtcblx0Y29uc3QgcHR5U2VydmljZUNoYW5uZWwgPSBQcm94eUNoYW5uZWwuZnJvbVNlcnZpY2UocHR5U2VydmljZSwgZGlzcG9zYWJsZXMpO1xuXHRzZXJ2ZXIucmVnaXN0ZXJDaGFubmVsKFRlcm1pbmFsSXBjQ2hhbm5lbHMuUHR5SG9zdCwgcHR5U2VydmljZUNoYW5uZWwpO1xuXG5cdC8vIFJlZ2lzdGVyIGEgY2hhbm5lbCBmb3IgZGlyZWN0IGNvbW11bmljYXRpb24gdmlhIE1lc3NhZ2UgUG9ydFxuXHRpZiAoX2lzVXRpbGl0eVByb2Nlc3MpIHtcblx0XHRzZXJ2ZXIucmVnaXN0ZXJDaGFubmVsKFRlcm1pbmFsSXBjQ2hhbm5lbHMuUHR5SG9zdFdpbmRvdywgcHR5U2VydmljZUNoYW5uZWwpO1xuXHR9XG5cblx0Ly8gQ2xlYW4gdXBcblx0cHJvY2Vzcy5vbmNlKCdleGl0JywgKCkgPT4ge1xuXHRcdGxvZ1NlcnZpY2UudHJhY2UoJ1B0eSBob3N0IGV4aXRpbmcnKTtcblx0XHRsb2dTZXJ2aWNlLmRpc3Bvc2UoKTtcblx0XHRoZWFydGJlYXRTZXJ2aWNlLmRpc3Bvc2UoKTtcblx0XHRwdHlTZXJ2aWNlLmRpc3Bvc2UoKTtcblx0fSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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