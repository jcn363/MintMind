{"version":3,"names":["cov_1vd3fhtkkd","actualCoverage","childProcess","fs","path","StringDecoder","arrays","toErrorMessage","glob","normalization","isEqualOrParent","platform","StopWatch","strings","types","Promises","isFilePatternMatch","hasSiblingFn","spawnRipgrepCmd","prepareQuery","killCmds","s","Set","process","on","f","forEach","cmd","FileWalker","config","filePattern","normalizedFilePatternLowercase","includePattern","maxResults","exists","maxFilesize","isLimitHit","resultCount","isCanceled","fileWalkSW","directoriesWalked","filesWalked","errors","cmdSW","cmdResultCount","folderExcludePatterns","globalExcludePattern","walkedPaths","constructor","b","parse","Object","create","shouldGlobMatchFilePattern","normalizedLowercase","excludePattern","Map","folderQueries","folderQuery","folderExcludeExpression","assign","pattern","length","fqPath","folder","fsPath","map","rootFolderQuery","filter","rootFolder","otherRootFolder","relative","set","AbsoluteAndRelativeParsedExpression","cancel","walk","extraFiles","numThreads","onResult","onMessage","done","extraFilePath","basename","matchFile","relativePath","searchPath","undefined","parallel","rootFolderDone","call","cmdTraversal","err","errorMessage","console","error","push","_result","stop","coalesce","list","fn","callback","results","Array","didErrorOccur","doneCount","item","index","result","fun","that","args","apply","e","cb","isMac","isMacintosh","killCmd","kill","add","delete","leftover","tree","initDirectoryTree","ripgrep","get","expression","noSiblingsClauses","keys","siblingClauses","escapedArgs","rgArgs","arg","match","join","rgCmd","rgDiskPath","cwd","JSON","stringify","message","collectStdout","stdout","last","normalized","normalizeNFC","relativeFiles","split","n","trim","pop","indexOf","Error","base","getSearchPath","addDirectoryEntries","matchDirectoryTree","spawnFindCmd","basenames","getBasenameTerms","pathTerms","getPathTerms","spawn","readStdout","encoding","all","onData","gotData","forwardData","once","stderr","collectData","code","stderrText","decodeData","rgErrorMsgForDisplay","stream","decoder","data","write","buffers","buffer","rootEntries","pathToEntries","dirname","entries","self","matchDirectory","hasSibling","entry","i","test","sub","getStats","cmdTime","elapsed","fileWalkTime","doWalk","relativeParentPath","files","file","clb","currentRelativePath","sep","currentAbsolutePath","lstat","statLinkIfNeeded","stat","isDirectory","realPathIfNeeded","realpath","readdir","then","children","isNumber","size","filteredErrors","candidate","isFileMatch","isSymbolicLink","folderName","Engine","walker","extraFileResources","search","onProgress","limitHit","stats","messages","root","absoluteParsedExpr","relativeParsedExpr","init","expr","absoluteGlobExpr","relativeGlobExpr","key","isAbsolute","getEmptyExpression","trimForExclusions","_path","basenameTerms","msg","lines","firstLine","startsWith","uppercaseFirstLetter","charAt","toUpperCase","substr"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/search/node/fileSearch.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as childProcess from 'child_process';\nimport * as fs from 'fs';\nimport * as path from '../../../../base/common/path.js';\nimport { Readable } from 'stream';\nimport { StringDecoder } from 'string_decoder';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { toErrorMessage } from '../../../../base/common/errorMessage.js';\nimport * as glob from '../../../../base/common/glob.js';\nimport * as normalization from '../../../../base/common/normalization.js';\nimport { isEqualOrParent } from '../../../../base/common/extpath.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport * as types from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Promises } from '../../../../base/node/pfs.js';\nimport { IFileQuery, IFolderQuery, IProgressMessage, ISearchEngineStats, IRawFileMatch, ISearchEngine, ISearchEngineSuccess, isFilePatternMatch, hasSiblingFn } from '../common/search.js';\nimport { spawnRipgrepCmd } from './ripgrepFileSearch.js';\nimport { prepareQuery } from '../../../../base/common/fuzzyScorer.js';\n\ninterface IDirectoryEntry extends IRawFileMatch {\n\tbase: string;\n\tbasename: string;\n}\n\ninterface IDirectoryTree {\n\trootEntries: IDirectoryEntry[];\n\tpathToEntries: { [relativePath: string]: IDirectoryEntry[] };\n}\n\nconst killCmds = new Set<() => void>();\nprocess.on('exit', () => {\n\tkillCmds.forEach(cmd => cmd());\n});\n\nexport class FileWalker {\n\tprivate config: IFileQuery;\n\tprivate filePattern: string;\n\tprivate normalizedFilePatternLowercase: string | null = null;\n\tprivate includePattern: glob.ParsedExpression | undefined;\n\tprivate maxResults: number | null;\n\tprivate exists: boolean;\n\tprivate maxFilesize: number | null = null;\n\tprivate isLimitHit: boolean;\n\tprivate resultCount: number;\n\tprivate isCanceled = false;\n\tprivate fileWalkSW: StopWatch | null = null;\n\tprivate directoriesWalked: number;\n\tprivate filesWalked: number;\n\tprivate errors: string[];\n\tprivate cmdSW: StopWatch | null = null;\n\tprivate cmdResultCount: number = 0;\n\n\tprivate folderExcludePatterns: Map<string, AbsoluteAndRelativeParsedExpression>;\n\tprivate globalExcludePattern: glob.ParsedExpression | undefined;\n\n\tprivate walkedPaths: { [path: string]: boolean };\n\n\tconstructor(config: IFileQuery) {\n\t\tthis.config = config;\n\t\tthis.filePattern = config.filePattern || '';\n\t\tthis.includePattern = config.includePattern && glob.parse(config.includePattern);\n\t\tthis.maxResults = config.maxResults || null;\n\t\tthis.exists = !!config.exists;\n\t\tthis.walkedPaths = Object.create(null);\n\t\tthis.resultCount = 0;\n\t\tthis.isLimitHit = false;\n\t\tthis.directoriesWalked = 0;\n\t\tthis.filesWalked = 0;\n\t\tthis.errors = [];\n\n\t\tif (this.filePattern) {\n\t\t\tthis.normalizedFilePatternLowercase = config.shouldGlobMatchFilePattern ? null : prepareQuery(this.filePattern).normalizedLowercase;\n\t\t}\n\n\t\tthis.globalExcludePattern = config.excludePattern && glob.parse(config.excludePattern);\n\t\tthis.folderExcludePatterns = new Map<string, AbsoluteAndRelativeParsedExpression>();\n\n\t\tconfig.folderQueries.forEach(folderQuery => {\n\t\t\tconst folderExcludeExpression: glob.IExpression = {}; // todo: consider exclude baseURI\n\n\t\t\tfolderQuery.excludePattern?.forEach(excludePattern => {\n\t\t\t\tObject.assign(folderExcludeExpression, excludePattern.pattern || {}, this.config.excludePattern || {});\n\t\t\t});\n\n\t\t\tif (!folderQuery.excludePattern?.length) {\n\t\t\t\tObject.assign(folderExcludeExpression, this.config.excludePattern || {});\n\t\t\t}\n\n\t\t\t// Add excludes for other root folders\n\t\t\tconst fqPath = folderQuery.folder.fsPath;\n\t\t\tconfig.folderQueries\n\t\t\t\t.map(rootFolderQuery => rootFolderQuery.folder.fsPath)\n\t\t\t\t.filter(rootFolder => rootFolder !== fqPath)\n\t\t\t\t.forEach(otherRootFolder => {\n\t\t\t\t\t// Exclude nested root folders\n\t\t\t\t\tif (isEqualOrParent(otherRootFolder, fqPath)) {\n\t\t\t\t\t\tfolderExcludeExpression[path.relative(fqPath, otherRootFolder)] = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tthis.folderExcludePatterns.set(fqPath, new AbsoluteAndRelativeParsedExpression(folderExcludeExpression, fqPath));\n\t\t});\n\t}\n\n\tcancel(): void {\n\t\tthis.isCanceled = true;\n\t\tkillCmds.forEach(cmd => cmd());\n\t}\n\n\twalk(folderQueries: IFolderQuery[], extraFiles: URI[], numThreads: number | undefined, onResult: (result: IRawFileMatch) => void, onMessage: (message: IProgressMessage) => void, done: (error: Error | null, isLimitHit: boolean) => void): void {\n\t\tthis.fileWalkSW = StopWatch.create(false);\n\n\t\t// Support that the file pattern is a full path to a file that exists\n\t\tif (this.isCanceled) {\n\t\t\treturn done(null, this.isLimitHit);\n\t\t}\n\n\t\t// For each extra file\n\t\textraFiles.forEach(extraFilePath => {\n\t\t\tconst basename = path.basename(extraFilePath.fsPath);\n\t\t\tif (this.globalExcludePattern && this.globalExcludePattern(extraFilePath.fsPath, basename)) {\n\t\t\t\treturn; // excluded\n\t\t\t}\n\n\t\t\t// File: Check for match on file pattern and include pattern\n\t\t\tthis.matchFile(onResult, { relativePath: extraFilePath.fsPath /* no workspace relative path */, searchPath: undefined });\n\t\t});\n\n\t\tthis.cmdSW = StopWatch.create(false);\n\n\t\t// For each root folder\n\t\tthis.parallel<IFolderQuery, void>(folderQueries, (folderQuery: IFolderQuery, rootFolderDone: (err: Error | null, result: void) => void) => {\n\t\t\tthis.call(this.cmdTraversal, this, folderQuery, numThreads, onResult, onMessage, (err?: Error) => {\n\t\t\t\tif (err) {\n\t\t\t\t\tconst errorMessage = toErrorMessage(err);\n\t\t\t\t\tconsole.error(errorMessage);\n\t\t\t\t\tthis.errors.push(errorMessage);\n\t\t\t\t\trootFolderDone(err, undefined);\n\t\t\t\t} else {\n\t\t\t\t\trootFolderDone(null, undefined);\n\t\t\t\t}\n\t\t\t});\n\t\t}, (errors, _result) => {\n\t\t\tthis.fileWalkSW!.stop();\n\t\t\tconst err = errors ? arrays.coalesce(errors)[0] : null;\n\t\t\tdone(err, this.isLimitHit);\n\t\t});\n\t}\n\n\tprivate parallel<T, E>(list: T[], fn: (item: T, callback: (err: Error | null, result: E | null) => void) => void, callback: (err: Array<Error | null> | null, result: E[]) => void): void {\n\t\tconst results = new Array(list.length);\n\t\tconst errors = new Array<Error | null>(list.length);\n\t\tlet didErrorOccur = false;\n\t\tlet doneCount = 0;\n\n\t\tif (list.length === 0) {\n\t\t\treturn callback(null, []);\n\t\t}\n\n\t\tlist.forEach((item, index) => {\n\t\t\tfn(item, (error, result) => {\n\t\t\t\tif (error) {\n\t\t\t\t\tdidErrorOccur = true;\n\t\t\t\t\tresults[index] = null;\n\t\t\t\t\terrors[index] = error;\n\t\t\t\t} else {\n\t\t\t\t\tresults[index] = result;\n\t\t\t\t\terrors[index] = null;\n\t\t\t\t}\n\n\t\t\t\tif (++doneCount === list.length) {\n\t\t\t\t\treturn callback(didErrorOccur ? errors : null, results);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate call<F extends Function>(fun: F, that: any, ...args: any[]): void {\n\t\ttry {\n\t\t\tfun.apply(that, args);\n\t\t} catch (e) {\n\t\t\targs[args.length - 1](e);\n\t\t}\n\t}\n\n\tprivate cmdTraversal(folderQuery: IFolderQuery, numThreads: number | undefined, onResult: (result: IRawFileMatch) => void, onMessage: (message: IProgressMessage) => void, cb: (err?: Error) => void): void {\n\t\tconst rootFolder = folderQuery.folder.fsPath;\n\t\tconst isMac = platform.isMacintosh;\n\n\t\tconst killCmd = () => cmd && cmd.kill();\n\t\tkillCmds.add(killCmd);\n\n\t\tlet done = (err?: Error) => {\n\t\t\tkillCmds.delete(killCmd);\n\t\t\tdone = () => { };\n\t\t\tcb(err);\n\t\t};\n\t\tlet leftover = '';\n\t\tconst tree = this.initDirectoryTree();\n\n\t\tconst ripgrep = spawnRipgrepCmd(this.config, folderQuery, this.config.includePattern, this.folderExcludePatterns.get(folderQuery.folder.fsPath)!.expression, numThreads);\n\t\tconst cmd = ripgrep.cmd;\n\t\tconst noSiblingsClauses = !Object.keys(ripgrep.siblingClauses).length;\n\n\t\tconst escapedArgs = ripgrep.rgArgs.args\n\t\t\t.map(arg => arg.match(/^-/) ? arg : `'${arg}'`)\n\t\t\t.join(' ');\n\n\t\tlet rgCmd = `${ripgrep.rgDiskPath} ${escapedArgs}\\n - cwd: ${ripgrep.cwd}`;\n\t\tif (ripgrep.rgArgs.siblingClauses) {\n\t\t\trgCmd += `\\n - Sibling clauses: ${JSON.stringify(ripgrep.rgArgs.siblingClauses)}`;\n\t\t}\n\t\tonMessage({ message: rgCmd });\n\n\t\tthis.cmdResultCount = 0;\n\t\tthis.collectStdout(cmd, 'utf8', onMessage, (err: Error | null, stdout?: string, last?: boolean) => {\n\t\t\tif (err) {\n\t\t\t\tdone(err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isLimitHit) {\n\t\t\t\tdone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Mac: uses NFD unicode form on disk, but we want NFC\n\t\t\tconst normalized = leftover + (isMac ? normalization.normalizeNFC(stdout || '') : stdout);\n\t\t\tconst relativeFiles = normalized.split('\\n');\n\n\t\t\tif (last) {\n\t\t\t\tconst n = relativeFiles.length;\n\t\t\t\trelativeFiles[n - 1] = relativeFiles[n - 1].trim();\n\t\t\t\tif (!relativeFiles[n - 1]) {\n\t\t\t\t\trelativeFiles.pop();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tleftover = relativeFiles.pop() || '';\n\t\t\t}\n\n\t\t\tif (relativeFiles.length && relativeFiles[0].indexOf('\\n') !== -1) {\n\t\t\t\tdone(new Error('Splitting up files failed'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.cmdResultCount += relativeFiles.length;\n\n\t\t\tif (noSiblingsClauses) {\n\t\t\t\tfor (const relativePath of relativeFiles) {\n\t\t\t\t\tthis.matchFile(onResult, { base: rootFolder, relativePath, searchPath: this.getSearchPath(folderQuery, relativePath) });\n\t\t\t\t\tif (this.isLimitHit) {\n\t\t\t\t\t\tkillCmd();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (last || this.isLimitHit) {\n\t\t\t\t\tdone();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// TODO: Optimize siblings clauses with ripgrep here.\n\t\t\tthis.addDirectoryEntries(folderQuery, tree, rootFolder, relativeFiles, onResult);\n\n\t\t\tif (last) {\n\t\t\t\tthis.matchDirectoryTree(tree, rootFolder, onResult);\n\t\t\t\tdone();\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Public for testing.\n\t */\n\tspawnFindCmd(folderQuery: IFolderQuery) {\n\t\tconst excludePattern = this.folderExcludePatterns.get(folderQuery.folder.fsPath)!;\n\t\tconst basenames = excludePattern.getBasenameTerms();\n\t\tconst pathTerms = excludePattern.getPathTerms();\n\t\tconst args = ['-L', '.'];\n\t\tif (basenames.length || pathTerms.length) {\n\t\t\targs.push('-not', '(', '(');\n\t\t\tfor (const basename of basenames) {\n\t\t\t\targs.push('-name', basename);\n\t\t\t\targs.push('-o');\n\t\t\t}\n\t\t\tfor (const path of pathTerms) {\n\t\t\t\targs.push('-path', path);\n\t\t\t\targs.push('-o');\n\t\t\t}\n\t\t\targs.pop();\n\t\t\targs.push(')', '-prune', ')');\n\t\t}\n\t\targs.push('-type', 'f');\n\t\treturn childProcess.spawn('find', args, { cwd: folderQuery.folder.fsPath });\n\t}\n\n\t/**\n\t * Public for testing.\n\t */\n\treadStdout(cmd: childProcess.ChildProcess, encoding: BufferEncoding, cb: (err: Error | null, stdout?: string) => void): void {\n\t\tlet all = '';\n\t\tthis.collectStdout(cmd, encoding, () => { }, (err: Error | null, stdout?: string, last?: boolean) => {\n\t\t\tif (err) {\n\t\t\t\tcb(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tall += stdout;\n\t\t\tif (last) {\n\t\t\t\tcb(null, all);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate collectStdout(cmd: childProcess.ChildProcess, encoding: BufferEncoding, onMessage: (message: IProgressMessage) => void, cb: (err: Error | null, stdout?: string, last?: boolean) => void): void {\n\t\tlet onData = (err: Error | null, stdout?: string, last?: boolean) => {\n\t\t\tif (err || last) {\n\t\t\t\tonData = () => { };\n\n\t\t\t\tthis.cmdSW?.stop();\n\t\t\t}\n\t\t\tcb(err, stdout, last);\n\t\t};\n\n\t\tlet gotData = false;\n\t\tif (cmd.stdout) {\n\t\t\t// Should be non-null, but #38195\n\t\t\tthis.forwardData(cmd.stdout, encoding, onData);\n\t\t\tcmd.stdout.once('data', () => gotData = true);\n\t\t} else {\n\t\t\tonMessage({ message: 'stdout is null' });\n\t\t}\n\n\t\tlet stderr: Buffer[];\n\t\tif (cmd.stderr) {\n\t\t\t// Should be non-null, but #38195\n\t\t\tstderr = this.collectData(cmd.stderr);\n\t\t} else {\n\t\t\tonMessage({ message: 'stderr is null' });\n\t\t}\n\n\t\tcmd.on('error', (err: Error) => {\n\t\t\tonData(err);\n\t\t});\n\n\t\tcmd.on('close', (code: number) => {\n\t\t\t// ripgrep returns code=1 when no results are found\n\t\t\tlet stderrText: string;\n\t\t\tif (!gotData && (stderrText = this.decodeData(stderr, encoding)) && rgErrorMsgForDisplay(stderrText)) {\n\t\t\t\tonData(new Error(`command failed with error code ${code}: ${this.decodeData(stderr, encoding)}`));\n\t\t\t} else {\n\t\t\t\tif (this.exists && code === 0) {\n\t\t\t\t\tthis.isLimitHit = true;\n\t\t\t\t}\n\t\t\t\tonData(null, '', true);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate forwardData(stream: Readable, encoding: BufferEncoding, cb: (err: Error | null, stdout?: string) => void): StringDecoder {\n\t\tconst decoder = new StringDecoder(encoding);\n\t\tstream.on('data', (data: Buffer) => {\n\t\t\tcb(null, decoder.write(data));\n\t\t});\n\t\treturn decoder;\n\t}\n\n\tprivate collectData(stream: Readable): Buffer[] {\n\t\tconst buffers: Buffer[] = [];\n\t\tstream.on('data', (data: Buffer) => {\n\t\t\tbuffers.push(data);\n\t\t});\n\t\treturn buffers;\n\t}\n\n\tprivate decodeData(buffers: Buffer[], encoding: BufferEncoding): string {\n\t\tconst decoder = new StringDecoder(encoding);\n\t\treturn buffers.map(buffer => decoder.write(buffer)).join('');\n\t}\n\n\tprivate initDirectoryTree(): IDirectoryTree {\n\t\tconst tree: IDirectoryTree = {\n\t\t\trootEntries: [],\n\t\t\tpathToEntries: Object.create(null)\n\t\t};\n\t\ttree.pathToEntries['.'] = tree.rootEntries;\n\t\treturn tree;\n\t}\n\n\tprivate addDirectoryEntries(folderQuery: IFolderQuery, { pathToEntries }: IDirectoryTree, base: string, relativeFiles: string[], onResult: (result: IRawFileMatch) => void) {\n\t\t// Support relative paths to files from a root resource (ignores excludes)\n\t\tif (relativeFiles.indexOf(this.filePattern) !== -1) {\n\t\t\tthis.matchFile(onResult, {\n\t\t\t\tbase,\n\t\t\t\trelativePath: this.filePattern,\n\t\t\t\tsearchPath: this.getSearchPath(folderQuery, this.filePattern)\n\t\t\t});\n\t\t}\n\n\t\tconst add = (relativePath: string) => {\n\t\t\tconst basename = path.basename(relativePath);\n\t\t\tconst dirname = path.dirname(relativePath);\n\t\t\tlet entries = pathToEntries[dirname];\n\t\t\tif (!entries) {\n\t\t\t\tentries = pathToEntries[dirname] = [];\n\t\t\t\tadd(dirname);\n\t\t\t}\n\t\t\tentries.push({\n\t\t\t\tbase,\n\t\t\t\trelativePath,\n\t\t\t\tbasename,\n\t\t\t\tsearchPath: this.getSearchPath(folderQuery, relativePath),\n\t\t\t});\n\t\t};\n\t\trelativeFiles.forEach(add);\n\t}\n\n\tprivate matchDirectoryTree({ rootEntries, pathToEntries }: IDirectoryTree, rootFolder: string, onResult: (result: IRawFileMatch) => void) {\n\t\tconst self = this;\n\t\tconst excludePattern = this.folderExcludePatterns.get(rootFolder)!;\n\t\tconst filePattern = this.filePattern;\n\t\tfunction matchDirectory(entries: IDirectoryEntry[]) {\n\t\t\tself.directoriesWalked++;\n\t\t\tconst hasSibling = hasSiblingFn(() => entries.map(entry => entry.basename));\n\t\t\tfor (let i = 0, n = entries.length; i < n; i++) {\n\t\t\t\tconst entry = entries[i];\n\t\t\t\tconst { relativePath, basename } = entry;\n\n\t\t\t\t// Check exclude pattern\n\t\t\t\t// If the user searches for the exact file name, we adjust the glob matching\n\t\t\t\t// to ignore filtering by siblings because the user seems to know what they\n\t\t\t\t// are searching for and we want to include the result in that case anyway\n\t\t\t\tif (excludePattern.test(relativePath, basename, filePattern !== basename ? hasSibling : undefined)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst sub = pathToEntries[relativePath];\n\t\t\t\tif (sub) {\n\t\t\t\t\tmatchDirectory(sub);\n\t\t\t\t} else {\n\t\t\t\t\tself.filesWalked++;\n\t\t\t\t\tif (relativePath === filePattern) {\n\t\t\t\t\t\tcontinue; // ignore file if its path matches with the file pattern because that is already matched above\n\t\t\t\t\t}\n\n\t\t\t\t\tself.matchFile(onResult, entry);\n\t\t\t\t}\n\n\t\t\t\tif (self.isLimitHit) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmatchDirectory(rootEntries);\n\t}\n\n\tgetStats(): ISearchEngineStats {\n\t\treturn {\n\t\t\tcmdTime: this.cmdSW!.elapsed(),\n\t\t\tfileWalkTime: this.fileWalkSW!.elapsed(),\n\t\t\tdirectoriesWalked: this.directoriesWalked,\n\t\t\tfilesWalked: this.filesWalked,\n\t\t\tcmdResultCount: this.cmdResultCount\n\t\t};\n\t}\n\n\tprivate doWalk(folderQuery: IFolderQuery, relativeParentPath: string, files: string[], onResult: (result: IRawFileMatch) => void, done: (error?: Error) => void): void {\n\t\tconst rootFolder = folderQuery.folder;\n\n\t\t// Execute tasks on each file in parallel to optimize throughput\n\t\tconst hasSibling = hasSiblingFn(() => files);\n\t\tthis.parallel(files, (file: string, clb: (error: Error | null, _?: any) => void): void => {\n\n\t\t\t// Check canceled\n\t\t\tif (this.isCanceled || this.isLimitHit) {\n\t\t\t\treturn clb(null);\n\t\t\t}\n\n\t\t\t// Check exclude pattern\n\t\t\t// If the user searches for the exact file name, we adjust the glob matching\n\t\t\t// to ignore filtering by siblings because the user seems to know what they\n\t\t\t// are searching for and we want to include the result in that case anyway\n\t\t\tconst currentRelativePath = relativeParentPath ? [relativeParentPath, file].join(path.sep) : file;\n\t\t\tif (this.folderExcludePatterns.get(folderQuery.folder.fsPath)!.test(currentRelativePath, file, this.config.filePattern !== file ? hasSibling : undefined)) {\n\t\t\t\treturn clb(null);\n\t\t\t}\n\n\t\t\t// Use lstat to detect links\n\t\t\tconst currentAbsolutePath = [rootFolder.fsPath, currentRelativePath].join(path.sep);\n\t\t\tfs.lstat(currentAbsolutePath, (error, lstat) => {\n\t\t\t\tif (error || this.isCanceled || this.isLimitHit) {\n\t\t\t\t\treturn clb(null);\n\t\t\t\t}\n\n\t\t\t\t// If the path is a link, we must instead use fs.stat() to find out if the\n\t\t\t\t// link is a directory or not because lstat will always return the stat of\n\t\t\t\t// the link which is always a file.\n\t\t\t\tthis.statLinkIfNeeded(currentAbsolutePath, lstat, (error, stat) => {\n\t\t\t\t\tif (error || this.isCanceled || this.isLimitHit) {\n\t\t\t\t\t\treturn clb(null);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Directory: Follow directories\n\t\t\t\t\tif (stat.isDirectory()) {\n\t\t\t\t\t\tthis.directoriesWalked++;\n\n\t\t\t\t\t\t// to really prevent loops with links we need to resolve the real path of them\n\t\t\t\t\t\treturn this.realPathIfNeeded(currentAbsolutePath, lstat, (error, realpath) => {\n\t\t\t\t\t\t\tif (error || this.isCanceled || this.isLimitHit) {\n\t\t\t\t\t\t\t\treturn clb(null);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\trealpath = realpath || '';\n\t\t\t\t\t\t\tif (this.walkedPaths[realpath]) {\n\t\t\t\t\t\t\t\treturn clb(null); // escape when there are cycles (can happen with symlinks)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.walkedPaths[realpath] = true; // remember as walked\n\n\t\t\t\t\t\t\t// Continue walking\n\t\t\t\t\t\t\treturn Promises.readdir(currentAbsolutePath).then(children => {\n\t\t\t\t\t\t\t\tif (this.isCanceled || this.isLimitHit) {\n\t\t\t\t\t\t\t\t\treturn clb(null);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.doWalk(folderQuery, currentRelativePath, children, onResult, err => clb(err || null));\n\t\t\t\t\t\t\t}, error => {\n\t\t\t\t\t\t\t\tclb(null);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// File: Check for match on file pattern and include pattern\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.filesWalked++;\n\t\t\t\t\t\tif (currentRelativePath === this.filePattern) {\n\t\t\t\t\t\t\treturn clb(null, undefined); // ignore file if its path matches with the file pattern because checkFilePatternRelativeMatch() takes care of those\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.maxFilesize && types.isNumber(stat.size) && stat.size > this.maxFilesize) {\n\t\t\t\t\t\t\treturn clb(null, undefined); // ignore file if max file size is hit\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.matchFile(onResult, {\n\t\t\t\t\t\t\tbase: rootFolder.fsPath,\n\t\t\t\t\t\t\trelativePath: currentRelativePath,\n\t\t\t\t\t\t\tsearchPath: this.getSearchPath(folderQuery, currentRelativePath),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Unwind\n\t\t\t\t\treturn clb(null, undefined);\n\t\t\t\t});\n\t\t\t});\n\t\t}, (error: Array<Error | null> | null): void => {\n\t\t\tconst filteredErrors = error ? arrays.coalesce(error) : error; // find any error by removing null values first\n\t\t\treturn done(filteredErrors && filteredErrors.length > 0 ? filteredErrors[0] : undefined);\n\t\t});\n\t}\n\n\tprivate matchFile(onResult: (result: IRawFileMatch) => void, candidate: IRawFileMatch): void {\n\t\tif (this.isFileMatch(candidate) && (!this.includePattern || this.includePattern(candidate.relativePath, path.basename(candidate.relativePath)))) {\n\t\t\tthis.resultCount++;\n\n\t\t\tif (this.exists || (this.maxResults && this.resultCount > this.maxResults)) {\n\t\t\t\tthis.isLimitHit = true;\n\t\t\t}\n\n\t\t\tif (!this.isLimitHit) {\n\t\t\t\tonResult(candidate);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate isFileMatch(candidate: IRawFileMatch): boolean {\n\t\t// Check for search pattern\n\t\tif (this.filePattern) {\n\t\t\tif (this.filePattern === '*') {\n\t\t\t\treturn true; // support the all-matching wildcard\n\t\t\t}\n\n\t\t\tif (this.normalizedFilePatternLowercase) {\n\t\t\t\treturn isFilePatternMatch(candidate, this.normalizedFilePatternLowercase);\n\t\t\t} else if (this.filePattern) {\n\t\t\t\treturn isFilePatternMatch(candidate, this.filePattern, false);\n\t\t\t}\n\t\t}\n\n\t\t// No patterns means we match all\n\t\treturn true;\n\t}\n\n\tprivate statLinkIfNeeded(path: string, lstat: fs.Stats, clb: (error: Error | null, stat: fs.Stats) => void): void {\n\t\tif (lstat.isSymbolicLink()) {\n\t\t\treturn fs.stat(path, clb); // stat the target the link points to\n\t\t}\n\n\t\treturn clb(null, lstat); // not a link, so the stat is already ok for us\n\t}\n\n\tprivate realPathIfNeeded(path: string, lstat: fs.Stats, clb: (error: Error | null, realpath?: string) => void): void {\n\t\tif (lstat.isSymbolicLink()) {\n\t\t\treturn fs.realpath(path, (error, realpath) => {\n\t\t\t\tif (error) {\n\t\t\t\t\treturn clb(error);\n\t\t\t\t}\n\n\t\t\t\treturn clb(null, realpath);\n\t\t\t});\n\t\t}\n\n\t\treturn clb(null, path);\n\t}\n\n\t/**\n\t * If we're searching for files in multiple workspace folders, then better prepend the\n\t * name of the workspace folder to the path of the file. This way we'll be able to\n\t * better filter files that are all on the top of a workspace folder and have all the\n\t * same name. A typical example are `package.json` or `README.md` files.\n\t */\n\tprivate getSearchPath(folderQuery: IFolderQuery, relativePath: string): string {\n\t\tif (folderQuery.folderName) {\n\t\t\treturn path.join(folderQuery.folderName, relativePath);\n\t\t}\n\t\treturn relativePath;\n\t}\n}\n\nexport class Engine implements ISearchEngine<IRawFileMatch> {\n\tprivate folderQueries: IFolderQuery[];\n\tprivate extraFiles: URI[];\n\tprivate walker: FileWalker;\n\tprivate numThreads?: number;\n\n\tconstructor(config: IFileQuery, numThreads?: number) {\n\t\tthis.folderQueries = config.folderQueries;\n\t\tthis.extraFiles = config.extraFileResources || [];\n\t\tthis.numThreads = numThreads;\n\n\t\tthis.walker = new FileWalker(config);\n\t}\n\n\tsearch(onResult: (result: IRawFileMatch) => void, onProgress: (progress: IProgressMessage) => void, done: (error: Error | null, complete: ISearchEngineSuccess) => void): void {\n\t\tthis.walker.walk(this.folderQueries, this.extraFiles, this.numThreads, onResult, onProgress, (err: Error | null, isLimitHit: boolean) => {\n\t\t\tdone(err, {\n\t\t\t\tlimitHit: isLimitHit,\n\t\t\t\tstats: this.walker.getStats(),\n\t\t\t\tmessages: [],\n\t\t\t});\n\t\t});\n\t}\n\n\tcancel(): void {\n\t\tthis.walker.cancel();\n\t}\n}\n\n/**\n * This class exists to provide one interface on top of two ParsedExpressions, one for absolute expressions and one for relative expressions.\n * The absolute and relative expressions don't \"have\" to be kept separate, but this keeps us from having to path.join every single\n * file searched, it's only used for a text search with a searchPath\n */\nclass AbsoluteAndRelativeParsedExpression {\n\tprivate absoluteParsedExpr: glob.ParsedExpression | undefined;\n\tprivate relativeParsedExpr: glob.ParsedExpression | undefined;\n\n\tconstructor(public expression: glob.IExpression, private root: string) {\n\t\tthis.init(expression);\n\t}\n\n\t/**\n\t * Split the IExpression into its absolute and relative components, and glob.parse them separately.\n\t */\n\tprivate init(expr: glob.IExpression): void {\n\t\tlet absoluteGlobExpr: glob.IExpression | undefined;\n\t\tlet relativeGlobExpr: glob.IExpression | undefined;\n\t\tObject.keys(expr)\n\t\t\t.filter(key => expr[key])\n\t\t\t.forEach(key => {\n\t\t\t\tif (path.isAbsolute(key)) {\n\t\t\t\t\tabsoluteGlobExpr = absoluteGlobExpr || glob.getEmptyExpression();\n\t\t\t\t\tabsoluteGlobExpr[key] = expr[key];\n\t\t\t\t} else {\n\t\t\t\t\trelativeGlobExpr = relativeGlobExpr || glob.getEmptyExpression();\n\t\t\t\t\trelativeGlobExpr[key] = expr[key];\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.absoluteParsedExpr = absoluteGlobExpr && glob.parse(absoluteGlobExpr, { trimForExclusions: true });\n\t\tthis.relativeParsedExpr = relativeGlobExpr && glob.parse(relativeGlobExpr, { trimForExclusions: true });\n\t}\n\n\ttest(_path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string | null> | undefined | null {\n\t\treturn (this.relativeParsedExpr && this.relativeParsedExpr(_path, basename, hasSibling)) ||\n\t\t\t(this.absoluteParsedExpr && this.absoluteParsedExpr(path.join(this.root, _path), basename, hasSibling));\n\t}\n\n\tgetBasenameTerms(): string[] {\n\t\tconst basenameTerms: string[] = [];\n\t\tif (this.absoluteParsedExpr) {\n\t\t\tbasenameTerms.push(...glob.getBasenameTerms(this.absoluteParsedExpr));\n\t\t}\n\n\t\tif (this.relativeParsedExpr) {\n\t\t\tbasenameTerms.push(...glob.getBasenameTerms(this.relativeParsedExpr));\n\t\t}\n\n\t\treturn basenameTerms;\n\t}\n\n\tgetPathTerms(): string[] {\n\t\tconst pathTerms: string[] = [];\n\t\tif (this.absoluteParsedExpr) {\n\t\t\tpathTerms.push(...glob.getPathTerms(this.absoluteParsedExpr));\n\t\t}\n\n\t\tif (this.relativeParsedExpr) {\n\t\t\tpathTerms.push(...glob.getPathTerms(this.relativeParsedExpr));\n\t\t}\n\n\t\treturn pathTerms;\n\t}\n}\n\nfunction rgErrorMsgForDisplay(msg: string): string | undefined {\n\tconst lines = msg.trim().split('\\n');\n\tconst firstLine = lines[0].trim();\n\n\tif (firstLine.startsWith('Error parsing regex')) {\n\t\treturn firstLine;\n\t}\n\n\tif (firstLine.startsWith('regex parse error')) {\n\t\treturn strings.uppercaseFirstLetter(lines[lines.length - 1].trim());\n\t}\n\n\tif (firstLine.startsWith('error parsing glob') ||\n\t\tfirstLine.startsWith('unsupported encoding')) {\n\t\t// Uppercase first letter\n\t\treturn firstLine.charAt(0).toUpperCase() + firstLine.substr(1);\n\t}\n\n\tif (firstLine === `Literal '\\\\n' not allowed.`) {\n\t\t// I won't localize this because none of the Ripgrep error messages are localized\n\t\treturn `Literal '\\\\n' currently not supported`;\n\t}\n\n\tif (firstLine.startsWith('Literal ')) {\n\t\t// Other unsupported chars\n\t\treturn firstLine;\n\t}\n\n\treturn undefined;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}