{"version":3,"names":["cov_2r2p837sxi","actualCoverage","Codicon","localize","ToolDataSource","ToolInvocationPresentation","RunInTerminalTool","ConfirmTerminalCommandToolData","s","id","displayName","modelDescription","join","userDescription","source","Internal","icon","shield","inputSchema","type","properties","command","description","explanation","isBackground","required","ConfirmTerminalCommandTool","prepareToolInvocation","context","token","f","preparedInvocation","b","presentation","HiddenAfterComplete","invoke","invocation","countTokens","progress","content","kind","value"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/tools/runInTerminalConfirmationTool.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { localize } from '../../../../../../nls.js';\nimport { CountTokensCallback, IPreparedToolInvocation, IToolData, IToolInvocation, IToolInvocationPreparationContext, IToolResult, ToolDataSource, ToolInvocationPresentation, ToolProgress } from '../../../../chat/common/languageModelToolsService.js';\nimport { RunInTerminalTool } from './runInTerminalTool.js';\n\nexport const ConfirmTerminalCommandToolData: IToolData = {\n\tid: 'vscode_get_terminal_confirmation',\n\tdisplayName: localize('confirmTerminalCommandTool.displayName', 'Confirm Terminal Command'),\n\tmodelDescription: [\n\t\t'This tool allows you to get explicit user confirmation for a terminal command without executing it.',\n\t\t'',\n\t\t'When to use:',\n\t\t'- When you need to verify user approval before executing a command',\n\t\t'- When you want to show command details, auto-approval status, and simplified versions to the user',\n\t\t'- When you need the user to review a potentially risky command',\n\t\t'',\n\t\t'The tool will:',\n\t\t'- Show the command with syntax highlighting',\n\t\t'- Display auto-approval status if enabled',\n\t\t'- Show simplified version of the command if applicable',\n\t\t'- Provide custom actions for creating auto-approval rules',\n\t\t'- Return approval/rejection status',\n\t\t'',\n\t\t'After confirmation, use a tool to actually execute the command.'\n\t].join('\\n'),\n\tuserDescription: localize('confirmTerminalCommandTool.userDescription', 'Tool for confirming terminal commands'),\n\tsource: ToolDataSource.Internal,\n\ticon: Codicon.shield,\n\tinputSchema: {\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\tcommand: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'The command to confirm with the user.'\n\t\t\t},\n\t\t\texplanation: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'A one-sentence description of what the command does. This will be shown to the user in the confirmation dialog.'\n\t\t\t},\n\t\t\tisBackground: {\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdescription: 'Whether the command would start a background process. This provides context for the confirmation.'\n\t\t\t},\n\t\t},\n\t\trequired: [\n\t\t\t'command',\n\t\t\t'explanation',\n\t\t\t'isBackground',\n\t\t]\n\t}\n};\n\nexport class ConfirmTerminalCommandTool extends RunInTerminalTool {\n\toverride async prepareToolInvocation(context: IToolInvocationPreparationContext, token: CancellationToken): Promise<IPreparedToolInvocation | undefined> {\n\t\tconst preparedInvocation = await super.prepareToolInvocation(context, token);\n\t\tif (preparedInvocation) {\n\t\t\tpreparedInvocation.presentation = ToolInvocationPresentation.HiddenAfterComplete;\n\t\t}\n\t\treturn preparedInvocation;\n\t}\n\toverride async invoke(invocation: IToolInvocation, countTokens: CountTokensCallback, progress: ToolProgress, token: CancellationToken): Promise<IToolResult> {\n\t\t// This is a confirmation-only tool - just return success\n\t\treturn {\n\t\t\tcontent: [{\n\t\t\t\tkind: 'text',\n\t\t\t\tvalue: 'yes'\n\t\t\t}]\n\t\t};\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkBE;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAlBF;;;;AAMA,SAASE,OAAO,QAAQ,2CAA2C;AACnE,SAASC,QAAQ,QAAQ,0BAA0B;AACnD,SAAmIC,cAAc,EAAEC,0BAA0B,QAAsB,sDAAsD;AACzP,SAASC,iBAAiB,QAAQ,wBAAwB;AAE1D,OAAO,MAAMC,8BAA8B;AAAA;AAAA,CAAAP,cAAA,GAAAQ,CAAA,OAAc;EACxDC,EAAE,EAAE,kCAAkC;EACtCC,WAAW,EAAEP,QAAQ,CAAC,wCAAwC,EAAE,0BAA0B,CAAC;EAC3FQ,gBAAgB,EAAE,CACjB,qGAAqG,EACrG,EAAE,EACF,cAAc,EACd,oEAAoE,EACpE,oGAAoG,EACpG,gEAAgE,EAChE,EAAE,EACF,gBAAgB,EAChB,6CAA6C,EAC7C,2CAA2C,EAC3C,wDAAwD,EACxD,2DAA2D,EAC3D,oCAAoC,EACpC,EAAE,EACF,iEAAiE,CACjE,CAACC,IAAI,CAAC,IAAI,CAAC;EACZC,eAAe,EAAEV,QAAQ,CAAC,4CAA4C,EAAE,uCAAuC,CAAC;EAChHW,MAAM,EAAEV,cAAc,CAACW,QAAQ;EAC/BC,IAAI,EAAEd,OAAO,CAACe,MAAM;EACpBC,WAAW,EAAE;IACZC,IAAI,EAAE,QAAQ;IACdC,UAAU,EAAE;MACXC,OAAO,EAAE;QACRF,IAAI,EAAE,QAAQ;QACdG,WAAW,EAAE;OACb;MACDC,WAAW,EAAE;QACZJ,IAAI,EAAE,QAAQ;QACdG,WAAW,EAAE;OACb;MACDE,YAAY,EAAE;QACbL,IAAI,EAAE,SAAS;QACfG,WAAW,EAAE;;KAEd;IACDG,QAAQ,EAAE,CACT,SAAS,EACT,aAAa,EACb,cAAc;;CAGhB;AAED,OAAM,MAAOC,0BAA2B,SAAQpB,iBAAiB;EACvD,MAAMqB,qBAAqBA,CAACC,OAA0C,EAAEC,KAAwB;IAAA;IAAA7B,cAAA,GAAA8B,CAAA;IACxG,MAAMC,kBAAkB;IAAA;IAAA,CAAA/B,cAAA,GAAAQ,CAAA,OAAG,MAAM,KAAK,CAACmB,qBAAqB,CAACC,OAAO,EAAEC,KAAK,CAAC;IAAC;IAAA7B,cAAA,GAAAQ,CAAA;IAC7E,IAAIuB,kBAAkB,EAAE;MAAA;MAAA/B,cAAA,GAAAgC,CAAA;MAAAhC,cAAA,GAAAQ,CAAA;MACvBuB,kBAAkB,CAACE,YAAY,GAAG5B,0BAA0B,CAAC6B,mBAAmB;IACjF,CAAC;IAAA;IAAA;MAAAlC,cAAA,GAAAgC,CAAA;IAAA;IAAAhC,cAAA,GAAAQ,CAAA;IACD,OAAOuB,kBAAkB;EAC1B;EACS,MAAMI,MAAMA,CAACC,UAA2B,EAAEC,WAAgC,EAAEC,QAAsB,EAAET,KAAwB;IAAA;IAAA7B,cAAA,GAAA8B,CAAA;IAAA9B,cAAA,GAAAQ,CAAA;IACpI;IACA,OAAO;MACN+B,OAAO,EAAE,CAAC;QACTC,IAAI,EAAE,MAAM;QACZC,KAAK,EAAE;OACP;KACD;EACF","ignoreList":[]}