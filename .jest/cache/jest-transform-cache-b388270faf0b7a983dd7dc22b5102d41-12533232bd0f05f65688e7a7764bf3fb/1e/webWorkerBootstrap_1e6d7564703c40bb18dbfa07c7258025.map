{"version":3,"names":["cov_1ec6jnvxlk","actualCoverage","WebWorkerServer","initialized","s","initialize","factory","f","b","Error","webWorkerServer","msg","globalThis","postMessage","workerServer","onmessage","e","data","bootstrapWebWorker","_e"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/worker/webWorkerBootstrap.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IWebWorkerServerRequestHandler, IWebWorkerServerRequestHandlerFactory, WebWorkerServer } from './webWorker.js';\n\ntype MessageEvent = {\n\tdata: unknown;\n};\n\ndeclare const globalThis: {\n\tpostMessage: (message: any) => void;\n\tonmessage: (event: MessageEvent) => void;\n};\n\nlet initialized = false;\n\nexport function initialize<T extends IWebWorkerServerRequestHandler>(factory: IWebWorkerServerRequestHandlerFactory<T>) {\n\tif (initialized) {\n\t\tthrow new Error('WebWorker already initialized!');\n\t}\n\tinitialized = true;\n\n\tconst webWorkerServer = new WebWorkerServer<T>(\n\t\tmsg => globalThis.postMessage(msg),\n\t\t(workerServer) => factory(workerServer)\n\t);\n\n\tglobalThis.onmessage = (e: MessageEvent) => {\n\t\twebWorkerServer.onmessage(e.data);\n\t};\n\n\treturn webWorkerServer;\n}\n\nexport function bootstrapWebWorker(factory: IWebWorkerServerRequestHandlerFactory<any>) {\n\tglobalThis.onmessage = (_e: MessageEvent) => {\n\t\t// Ignore first message in this case and initialize if not yet initialized\n\t\tif (!initialized) {\n\t\t\tinitialize(factory);\n\t\t}\n\t};\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiCQ;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAjCR;;;;AAKA,SAAgFE,eAAe,QAAQ,gBAAgB;AAWvH,IAAIC,WAAW;AAAA;AAAA,CAAAH,cAAA,GAAAI,CAAA,OAAG,KAAK;AAEvB,OAAM,SAAUC,UAAUA,CAA2CC,OAAiD;EAAA;EAAAN,cAAA,GAAAO,CAAA;EAAAP,cAAA,GAAAI,CAAA;EACrH,IAAID,WAAW,EAAE;IAAA;IAAAH,cAAA,GAAAQ,CAAA;IAAAR,cAAA,GAAAI,CAAA;IAChB,MAAM,IAAIK,KAAK,CAAC,gCAAgC,CAAC;EAClD,CAAC;EAAA;EAAA;IAAAT,cAAA,GAAAQ,CAAA;EAAA;EAAAR,cAAA,GAAAI,CAAA;EACDD,WAAW,GAAG,IAAI;EAElB,MAAMO,eAAe;EAAA;EAAA,CAAAV,cAAA,GAAAI,CAAA,OAAG,IAAIF,eAAe,CAC1CS,GAAG,IAAI;IAAA;IAAAX,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAAA,OAAAQ,UAAU,CAACC,WAAW,CAACF,GAAG,CAAC;EAAD,CAAC,EACjCG,YAAY,IAAK;IAAA;IAAAd,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAAA,OAAAE,OAAO,CAACQ,YAAY,CAAC;EAAD,CAAC,CACvC;EAAC;EAAAd,cAAA,GAAAI,CAAA;EAEFQ,UAAU,CAACG,SAAS,GAAIC,CAAe,IAAI;IAAA;IAAAhB,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAC1CM,eAAe,CAACK,SAAS,CAACC,CAAC,CAACC,IAAI,CAAC;EAClC,CAAC;EAAC;EAAAjB,cAAA,GAAAI,CAAA;EAEF,OAAOM,eAAe;AACvB;AAEA,OAAM,SAAUQ,kBAAkBA,CAACZ,OAAmD;EAAA;EAAAN,cAAA,GAAAO,CAAA;EAAAP,cAAA,GAAAI,CAAA;EACrFQ,UAAU,CAACG,SAAS,GAAII,EAAgB,IAAI;IAAA;IAAAnB,cAAA,GAAAO,CAAA;IAAAP,cAAA,GAAAI,CAAA;IAC3C;IACA,IAAI,CAACD,WAAW,EAAE;MAAA;MAAAH,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAI,CAAA;MACjBC,UAAU,CAACC,OAAO,CAAC;IACpB,CAAC;IAAA;IAAA;MAAAN,cAAA,GAAAQ,CAAA;IAAA;EACF,CAAC;AACF","ignoreList":[]}