{"version":3,"names":["cov_1csy8epnv4","actualCoverage","strings","getMapForWordSeparators","Position","Range","FindMatch","SearchData","LIMIT_FIND_COUNT","s","SearchParams","searchString","isRegex","matchCase","wordSeparators","constructor","f","parseSearchRequest","b","multiline","isMultilineRegexSource","indexOf","regex","createRegExp","wholeWord","global","unicode","err","canUseSimpleSearch","toLowerCase","toUpperCase","length","i","len","chCode","charCodeAt","nextChCode","createFindMatch","range","rawMatches","captureMatches","matches","LineFeedCounter","_lineFeedsOffsets","text","lineFeedsOffsets","lineFeedsOffsetsLen","textLen","findLineFeedCountBeforeOffset","offset","min","max","mid","TextModelSearch","findMatches","model","searchParams","searchRange","limitResultCount","searchData","_doFindMatchesMultiline","Searcher","_doFindMatchesLineByLine","_getMultilineMatchRange","deltaOffset","lfCounter","matchIndex","match0","startOffset","lineFeedCountBeforeMatch","endOffset","lineFeedCountBeforeEndOfMatch","lineFeedCountInMatch","startPosition","getPositionAt","endPosition","lineNumber","column","searcher","getOffsetAt","getStartPosition","getValueInRange","getEOL","result","counter","m","reset","next","index","resultLen","startLineNumber","endLineNumber","getLineContent","substring","startColumn","endColumn","_findMatchesInLine","simpleSearch","searchStringLen","textLength","lastMatchIndex","isValidMatch","findNextMatch","searchStart","_doFindNextMatchMultiline","_doFindNextMatchLineByLine","searchTextStart","lineCount","getLineCount","getLineMaxColumn","r","_findFirstMatchInLine","lineIndex","fromColumn","findPreviousMatch","_doFindPreviousMatchMultiline","_doFindPreviousMatchLineByLine","_findLastMatchInLine","bestResult","leftIsWordBounday","matchStartIndex","matchLength","charBefore","get","firstCharInMatch","rightIsWordBounday","charAfter","lastCharInMatch","_wordSeparators","_searchRegex","_prevMatchStartIndex","_prevMatchLength","searchRegex","lastIndex","exec","getNextCodePoint"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/textModelSearch.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../base/common/charCode.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { WordCharacterClass, WordCharacterClassifier, getMapForWordSeparators } from '../core/wordCharacterClassifier.js';\nimport { Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { EndOfLinePreference, FindMatch, SearchData } from '../model.js';\nimport { TextModel } from './textModel.js';\n\nconst LIMIT_FIND_COUNT = 999;\n\nexport class SearchParams {\n\tpublic readonly searchString: string;\n\tpublic readonly isRegex: boolean;\n\tpublic readonly matchCase: boolean;\n\tpublic readonly wordSeparators: string | null;\n\n\tconstructor(searchString: string, isRegex: boolean, matchCase: boolean, wordSeparators: string | null) {\n\t\tthis.searchString = searchString;\n\t\tthis.isRegex = isRegex;\n\t\tthis.matchCase = matchCase;\n\t\tthis.wordSeparators = wordSeparators;\n\t}\n\n\tpublic parseSearchRequest(): SearchData | null {\n\t\tif (this.searchString === '') {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Try to create a RegExp out of the params\n\t\tlet multiline: boolean;\n\t\tif (this.isRegex) {\n\t\t\tmultiline = isMultilineRegexSource(this.searchString);\n\t\t} else {\n\t\t\tmultiline = (this.searchString.indexOf('\\n') >= 0);\n\t\t}\n\n\t\tlet regex: RegExp | null = null;\n\t\ttry {\n\t\t\tregex = strings.createRegExp(this.searchString, this.isRegex, {\n\t\t\t\tmatchCase: this.matchCase,\n\t\t\t\twholeWord: false,\n\t\t\t\tmultiline: multiline,\n\t\t\t\tglobal: true,\n\t\t\t\tunicode: true\n\t\t\t});\n\t\t} catch (err) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!regex) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet canUseSimpleSearch = (!this.isRegex && !multiline);\n\t\tif (canUseSimpleSearch && this.searchString.toLowerCase() !== this.searchString.toUpperCase()) {\n\t\t\t// casing might make a difference\n\t\t\tcanUseSimpleSearch = this.matchCase;\n\t\t}\n\n\t\treturn new SearchData(regex, this.wordSeparators ? getMapForWordSeparators(this.wordSeparators, []) : null, canUseSimpleSearch ? this.searchString : null);\n\t}\n}\n\nexport function isMultilineRegexSource(searchString: string): boolean {\n\tif (!searchString || searchString.length === 0) {\n\t\treturn false;\n\t}\n\n\tfor (let i = 0, len = searchString.length; i < len; i++) {\n\t\tconst chCode = searchString.charCodeAt(i);\n\n\t\tif (chCode === CharCode.LineFeed) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (chCode === CharCode.Backslash) {\n\n\t\t\t// move to next char\n\t\t\ti++;\n\n\t\t\tif (i >= len) {\n\t\t\t\t// string ends with a \\\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst nextChCode = searchString.charCodeAt(i);\n\t\t\tif (nextChCode === CharCode.n || nextChCode === CharCode.r || nextChCode === CharCode.W) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function createFindMatch(range: Range, rawMatches: RegExpExecArray, captureMatches: boolean): FindMatch {\n\tif (!captureMatches) {\n\t\treturn new FindMatch(range, null);\n\t}\n\tconst matches: string[] = [];\n\tfor (let i = 0, len = rawMatches.length; i < len; i++) {\n\t\tmatches[i] = rawMatches[i];\n\t}\n\treturn new FindMatch(range, matches);\n}\n\nclass LineFeedCounter {\n\n\tprivate readonly _lineFeedsOffsets: number[];\n\n\tconstructor(text: string) {\n\t\tconst lineFeedsOffsets: number[] = [];\n\t\tlet lineFeedsOffsetsLen = 0;\n\t\tfor (let i = 0, textLen = text.length; i < textLen; i++) {\n\t\t\tif (text.charCodeAt(i) === CharCode.LineFeed) {\n\t\t\t\tlineFeedsOffsets[lineFeedsOffsetsLen++] = i;\n\t\t\t}\n\t\t}\n\t\tthis._lineFeedsOffsets = lineFeedsOffsets;\n\t}\n\n\tpublic findLineFeedCountBeforeOffset(offset: number): number {\n\t\tconst lineFeedsOffsets = this._lineFeedsOffsets;\n\t\tlet min = 0;\n\t\tlet max = lineFeedsOffsets.length - 1;\n\n\t\tif (max === -1) {\n\t\t\t// no line feeds\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (offset <= lineFeedsOffsets[0]) {\n\t\t\t// before first line feed\n\t\t\treturn 0;\n\t\t}\n\n\t\twhile (min < max) {\n\t\t\tconst mid = min + ((max - min) / 2 >> 0);\n\n\t\t\tif (lineFeedsOffsets[mid] >= offset) {\n\t\t\t\tmax = mid - 1;\n\t\t\t} else {\n\t\t\t\tif (lineFeedsOffsets[mid + 1] >= offset) {\n\t\t\t\t\t// bingo!\n\t\t\t\t\tmin = mid;\n\t\t\t\t\tmax = mid;\n\t\t\t\t} else {\n\t\t\t\t\tmin = mid + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn min + 1;\n\t}\n}\n\nexport class TextModelSearch {\n\n\tpublic static findMatches(model: TextModel, searchParams: SearchParams, searchRange: Range, captureMatches: boolean, limitResultCount: number): FindMatch[] {\n\t\tconst searchData = searchParams.parseSearchRequest();\n\t\tif (!searchData) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (searchData.regex.multiline) {\n\t\t\treturn this._doFindMatchesMultiline(model, searchRange, new Searcher(searchData.wordSeparators, searchData.regex), captureMatches, limitResultCount);\n\t\t}\n\t\treturn this._doFindMatchesLineByLine(model, searchRange, searchData, captureMatches, limitResultCount);\n\t}\n\n\t/**\n\t * Multiline search always executes on the lines concatenated with \\n.\n\t * We must therefore compensate for the count of \\n in case the model is CRLF\n\t */\n\tprivate static _getMultilineMatchRange(model: TextModel, deltaOffset: number, text: string, lfCounter: LineFeedCounter | null, matchIndex: number, match0: string): Range {\n\t\tlet startOffset: number;\n\t\tlet lineFeedCountBeforeMatch = 0;\n\t\tif (lfCounter) {\n\t\t\tlineFeedCountBeforeMatch = lfCounter.findLineFeedCountBeforeOffset(matchIndex);\n\t\t\tstartOffset = deltaOffset + matchIndex + lineFeedCountBeforeMatch /* add as many \\r as there were \\n */;\n\t\t} else {\n\t\t\tstartOffset = deltaOffset + matchIndex;\n\t\t}\n\n\t\tlet endOffset: number;\n\t\tif (lfCounter) {\n\t\t\tconst lineFeedCountBeforeEndOfMatch = lfCounter.findLineFeedCountBeforeOffset(matchIndex + match0.length);\n\t\t\tconst lineFeedCountInMatch = lineFeedCountBeforeEndOfMatch - lineFeedCountBeforeMatch;\n\t\t\tendOffset = startOffset + match0.length + lineFeedCountInMatch /* add as many \\r as there were \\n */;\n\t\t} else {\n\t\t\tendOffset = startOffset + match0.length;\n\t\t}\n\n\t\tconst startPosition = model.getPositionAt(startOffset);\n\t\tconst endPosition = model.getPositionAt(endOffset);\n\t\treturn new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column);\n\t}\n\n\tprivate static _doFindMatchesMultiline(model: TextModel, searchRange: Range, searcher: Searcher, captureMatches: boolean, limitResultCount: number): FindMatch[] {\n\t\tconst deltaOffset = model.getOffsetAt(searchRange.getStartPosition());\n\t\t// We always execute multiline search over the lines joined with \\n\n\t\t// This makes it that \\n will match the EOL for both CRLF and LF models\n\t\t// We compensate for offset errors in `_getMultilineMatchRange`\n\t\tconst text = model.getValueInRange(searchRange, EndOfLinePreference.LF);\n\t\tconst lfCounter = (model.getEOL() === '\\r\\n' ? new LineFeedCounter(text) : null);\n\n\t\tconst result: FindMatch[] = [];\n\t\tlet counter = 0;\n\n\t\tlet m: RegExpExecArray | null;\n\t\tsearcher.reset(0);\n\t\twhile ((m = searcher.next(text))) {\n\t\t\tresult[counter++] = createFindMatch(this._getMultilineMatchRange(model, deltaOffset, text, lfCounter, m.index, m[0]), m, captureMatches);\n\t\t\tif (counter >= limitResultCount) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate static _doFindMatchesLineByLine(model: TextModel, searchRange: Range, searchData: SearchData, captureMatches: boolean, limitResultCount: number): FindMatch[] {\n\t\tconst result: FindMatch[] = [];\n\t\tlet resultLen = 0;\n\n\t\t// Early case for a search range that starts & stops on the same line number\n\t\tif (searchRange.startLineNumber === searchRange.endLineNumber) {\n\t\t\tconst text = model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn - 1, searchRange.endColumn - 1);\n\t\t\tresultLen = this._findMatchesInLine(searchData, text, searchRange.startLineNumber, searchRange.startColumn - 1, resultLen, result, captureMatches, limitResultCount);\n\t\t\treturn result;\n\t\t}\n\n\t\t// Collect results from first line\n\t\tconst text = model.getLineContent(searchRange.startLineNumber).substring(searchRange.startColumn - 1);\n\t\tresultLen = this._findMatchesInLine(searchData, text, searchRange.startLineNumber, searchRange.startColumn - 1, resultLen, result, captureMatches, limitResultCount);\n\n\t\t// Collect results from middle lines\n\t\tfor (let lineNumber = searchRange.startLineNumber + 1; lineNumber < searchRange.endLineNumber && resultLen < limitResultCount; lineNumber++) {\n\t\t\tresultLen = this._findMatchesInLine(searchData, model.getLineContent(lineNumber), lineNumber, 0, resultLen, result, captureMatches, limitResultCount);\n\t\t}\n\n\t\t// Collect results from last line\n\t\tif (resultLen < limitResultCount) {\n\t\t\tconst text = model.getLineContent(searchRange.endLineNumber).substring(0, searchRange.endColumn - 1);\n\t\t\tresultLen = this._findMatchesInLine(searchData, text, searchRange.endLineNumber, 0, resultLen, result, captureMatches, limitResultCount);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate static _findMatchesInLine(searchData: SearchData, text: string, lineNumber: number, deltaOffset: number, resultLen: number, result: FindMatch[], captureMatches: boolean, limitResultCount: number): number {\n\t\tconst wordSeparators = searchData.wordSeparators;\n\t\tif (!captureMatches && searchData.simpleSearch) {\n\t\t\tconst searchString = searchData.simpleSearch;\n\t\t\tconst searchStringLen = searchString.length;\n\t\t\tconst textLength = text.length;\n\n\t\t\tlet lastMatchIndex = -searchStringLen;\n\t\t\twhile ((lastMatchIndex = text.indexOf(searchString, lastMatchIndex + searchStringLen)) !== -1) {\n\t\t\t\tif (!wordSeparators || isValidMatch(wordSeparators, text, textLength, lastMatchIndex, searchStringLen)) {\n\t\t\t\t\tresult[resultLen++] = new FindMatch(new Range(lineNumber, lastMatchIndex + 1 + deltaOffset, lineNumber, lastMatchIndex + 1 + searchStringLen + deltaOffset), null);\n\t\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\t\treturn resultLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn resultLen;\n\t\t}\n\n\t\tconst searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n\t\tlet m: RegExpExecArray | null;\n\t\t// Reset regex to search from the beginning\n\t\tsearcher.reset(0);\n\t\tdo {\n\t\t\tm = searcher.next(text);\n\t\t\tif (m) {\n\t\t\t\tresult[resultLen++] = createFindMatch(new Range(lineNumber, m.index + 1 + deltaOffset, lineNumber, m.index + 1 + m[0].length + deltaOffset), m, captureMatches);\n\t\t\t\tif (resultLen >= limitResultCount) {\n\t\t\t\t\treturn resultLen;\n\t\t\t\t}\n\t\t\t}\n\t\t} while (m);\n\t\treturn resultLen;\n\t}\n\n\tpublic static findNextMatch(model: TextModel, searchParams: SearchParams, searchStart: Position, captureMatches: boolean): FindMatch | null {\n\t\tconst searchData = searchParams.parseSearchRequest();\n\t\tif (!searchData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n\n\t\tif (searchData.regex.multiline) {\n\t\t\treturn this._doFindNextMatchMultiline(model, searchStart, searcher, captureMatches);\n\t\t}\n\t\treturn this._doFindNextMatchLineByLine(model, searchStart, searcher, captureMatches);\n\t}\n\n\tprivate static _doFindNextMatchMultiline(model: TextModel, searchStart: Position, searcher: Searcher, captureMatches: boolean): FindMatch | null {\n\t\tconst searchTextStart = new Position(searchStart.lineNumber, 1);\n\t\tconst deltaOffset = model.getOffsetAt(searchTextStart);\n\t\tconst lineCount = model.getLineCount();\n\t\t// We always execute multiline search over the lines joined with \\n\n\t\t// This makes it that \\n will match the EOL for both CRLF and LF models\n\t\t// We compensate for offset errors in `_getMultilineMatchRange`\n\t\tconst text = model.getValueInRange(new Range(searchTextStart.lineNumber, searchTextStart.column, lineCount, model.getLineMaxColumn(lineCount)), EndOfLinePreference.LF);\n\t\tconst lfCounter = (model.getEOL() === '\\r\\n' ? new LineFeedCounter(text) : null);\n\t\tsearcher.reset(searchStart.column - 1);\n\t\tconst m = searcher.next(text);\n\t\tif (m) {\n\t\t\treturn createFindMatch(\n\t\t\t\tthis._getMultilineMatchRange(model, deltaOffset, text, lfCounter, m.index, m[0]),\n\t\t\t\tm,\n\t\t\t\tcaptureMatches\n\t\t\t);\n\t\t}\n\n\t\tif (searchStart.lineNumber !== 1 || searchStart.column !== 1) {\n\t\t\t// Try again from the top\n\t\t\treturn this._doFindNextMatchMultiline(model, new Position(1, 1), searcher, captureMatches);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _doFindNextMatchLineByLine(model: TextModel, searchStart: Position, searcher: Searcher, captureMatches: boolean): FindMatch | null {\n\t\tconst lineCount = model.getLineCount();\n\t\tconst startLineNumber = searchStart.lineNumber;\n\n\t\t// Look in first line\n\t\tconst text = model.getLineContent(startLineNumber);\n\t\tconst r = this._findFirstMatchInLine(searcher, text, startLineNumber, searchStart.column, captureMatches);\n\t\tif (r) {\n\t\t\treturn r;\n\t\t}\n\n\t\tfor (let i = 1; i <= lineCount; i++) {\n\t\t\tconst lineIndex = (startLineNumber + i - 1) % lineCount;\n\t\t\tconst text = model.getLineContent(lineIndex + 1);\n\t\t\tconst r = this._findFirstMatchInLine(searcher, text, lineIndex + 1, 1, captureMatches);\n\t\t\tif (r) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _findFirstMatchInLine(searcher: Searcher, text: string, lineNumber: number, fromColumn: number, captureMatches: boolean): FindMatch | null {\n\t\t// Set regex to search from column\n\t\tsearcher.reset(fromColumn - 1);\n\t\tconst m: RegExpExecArray | null = searcher.next(text);\n\t\tif (m) {\n\t\t\treturn createFindMatch(\n\t\t\t\tnew Range(lineNumber, m.index + 1, lineNumber, m.index + 1 + m[0].length),\n\t\t\t\tm,\n\t\t\t\tcaptureMatches\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic static findPreviousMatch(model: TextModel, searchParams: SearchParams, searchStart: Position, captureMatches: boolean): FindMatch | null {\n\t\tconst searchData = searchParams.parseSearchRequest();\n\t\tif (!searchData) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst searcher = new Searcher(searchData.wordSeparators, searchData.regex);\n\n\t\tif (searchData.regex.multiline) {\n\t\t\treturn this._doFindPreviousMatchMultiline(model, searchStart, searcher, captureMatches);\n\t\t}\n\t\treturn this._doFindPreviousMatchLineByLine(model, searchStart, searcher, captureMatches);\n\t}\n\n\tprivate static _doFindPreviousMatchMultiline(model: TextModel, searchStart: Position, searcher: Searcher, captureMatches: boolean): FindMatch | null {\n\t\tconst matches = this._doFindMatchesMultiline(model, new Range(1, 1, searchStart.lineNumber, searchStart.column), searcher, captureMatches, 10 * LIMIT_FIND_COUNT);\n\t\tif (matches.length > 0) {\n\t\t\treturn matches[matches.length - 1];\n\t\t}\n\n\t\tconst lineCount = model.getLineCount();\n\t\tif (searchStart.lineNumber !== lineCount || searchStart.column !== model.getLineMaxColumn(lineCount)) {\n\t\t\t// Try again with all content\n\t\t\treturn this._doFindPreviousMatchMultiline(model, new Position(lineCount, model.getLineMaxColumn(lineCount)), searcher, captureMatches);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _doFindPreviousMatchLineByLine(model: TextModel, searchStart: Position, searcher: Searcher, captureMatches: boolean): FindMatch | null {\n\t\tconst lineCount = model.getLineCount();\n\t\tconst startLineNumber = searchStart.lineNumber;\n\n\t\t// Look in first line\n\t\tconst text = model.getLineContent(startLineNumber).substring(0, searchStart.column - 1);\n\t\tconst r = this._findLastMatchInLine(searcher, text, startLineNumber, captureMatches);\n\t\tif (r) {\n\t\t\treturn r;\n\t\t}\n\n\t\tfor (let i = 1; i <= lineCount; i++) {\n\t\t\tconst lineIndex = (lineCount + startLineNumber - i - 1) % lineCount;\n\t\t\tconst text = model.getLineContent(lineIndex + 1);\n\t\t\tconst r = this._findLastMatchInLine(searcher, text, lineIndex + 1, captureMatches);\n\t\t\tif (r) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _findLastMatchInLine(searcher: Searcher, text: string, lineNumber: number, captureMatches: boolean): FindMatch | null {\n\t\tlet bestResult: FindMatch | null = null;\n\t\tlet m: RegExpExecArray | null;\n\t\tsearcher.reset(0);\n\t\twhile ((m = searcher.next(text))) {\n\t\t\tbestResult = createFindMatch(new Range(lineNumber, m.index + 1, lineNumber, m.index + 1 + m[0].length), m, captureMatches);\n\t\t}\n\t\treturn bestResult;\n\t}\n}\n\nfunction leftIsWordBounday(wordSeparators: WordCharacterClassifier, text: string, textLength: number, matchStartIndex: number, matchLength: number): boolean {\n\tif (matchStartIndex === 0) {\n\t\t// Match starts at start of string\n\t\treturn true;\n\t}\n\n\tconst charBefore = text.charCodeAt(matchStartIndex - 1);\n\tif (wordSeparators.get(charBefore) !== WordCharacterClass.Regular) {\n\t\t// The character before the match is a word separator\n\t\treturn true;\n\t}\n\n\tif (charBefore === CharCode.CarriageReturn || charBefore === CharCode.LineFeed) {\n\t\t// The character before the match is line break or carriage return.\n\t\treturn true;\n\t}\n\n\tif (matchLength > 0) {\n\t\tconst firstCharInMatch = text.charCodeAt(matchStartIndex);\n\t\tif (wordSeparators.get(firstCharInMatch) !== WordCharacterClass.Regular) {\n\t\t\t// The first character inside the match is a word separator\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nfunction rightIsWordBounday(wordSeparators: WordCharacterClassifier, text: string, textLength: number, matchStartIndex: number, matchLength: number): boolean {\n\tif (matchStartIndex + matchLength === textLength) {\n\t\t// Match ends at end of string\n\t\treturn true;\n\t}\n\n\tconst charAfter = text.charCodeAt(matchStartIndex + matchLength);\n\tif (wordSeparators.get(charAfter) !== WordCharacterClass.Regular) {\n\t\t// The character after the match is a word separator\n\t\treturn true;\n\t}\n\n\tif (charAfter === CharCode.CarriageReturn || charAfter === CharCode.LineFeed) {\n\t\t// The character after the match is line break or carriage return.\n\t\treturn true;\n\t}\n\n\tif (matchLength > 0) {\n\t\tconst lastCharInMatch = text.charCodeAt(matchStartIndex + matchLength - 1);\n\t\tif (wordSeparators.get(lastCharInMatch) !== WordCharacterClass.Regular) {\n\t\t\t// The last character in the match is a word separator\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n}\n\nexport function isValidMatch(wordSeparators: WordCharacterClassifier, text: string, textLength: number, matchStartIndex: number, matchLength: number): boolean {\n\treturn (\n\t\tleftIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength)\n\t\t&& rightIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength)\n\t);\n}\n\nexport class Searcher {\n\tpublic readonly _wordSeparators: WordCharacterClassifier | null;\n\tprivate readonly _searchRegex: RegExp;\n\tprivate _prevMatchStartIndex: number;\n\tprivate _prevMatchLength: number;\n\n\tconstructor(wordSeparators: WordCharacterClassifier | null, searchRegex: RegExp,) {\n\t\tthis._wordSeparators = wordSeparators;\n\t\tthis._searchRegex = searchRegex;\n\t\tthis._prevMatchStartIndex = -1;\n\t\tthis._prevMatchLength = 0;\n\t}\n\n\tpublic reset(lastIndex: number): void {\n\t\tthis._searchRegex.lastIndex = lastIndex;\n\t\tthis._prevMatchStartIndex = -1;\n\t\tthis._prevMatchLength = 0;\n\t}\n\n\tpublic next(text: string): RegExpExecArray | null {\n\t\tconst textLength = text.length;\n\n\t\tlet m: RegExpExecArray | null;\n\t\tdo {\n\t\t\tif (this._prevMatchStartIndex + this._prevMatchLength === textLength) {\n\t\t\t\t// Reached the end of the line\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tm = this._searchRegex.exec(text);\n\t\t\tif (!m) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst matchStartIndex = m.index;\n\t\t\tconst matchLength = m[0].length;\n\t\t\tif (matchStartIndex === this._prevMatchStartIndex && matchLength === this._prevMatchLength) {\n\t\t\t\tif (matchLength === 0) {\n\t\t\t\t\t// the search result is an empty string and won't advance `regex.lastIndex`, so `regex.exec` will stuck here\n\t\t\t\t\t// we attempt to recover from that by advancing by two if surrogate pair found and by one otherwise\n\t\t\t\t\tif (strings.getNextCodePoint(text, textLength, this._searchRegex.lastIndex) > 0xFFFF) {\n\t\t\t\t\t\tthis._searchRegex.lastIndex += 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._searchRegex.lastIndex += 1;\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t// Exit early if the regex matches the same range twice\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._prevMatchStartIndex = matchStartIndex;\n\t\t\tthis._prevMatchLength = matchLength;\n\n\t\t\tif (!this._wordSeparators || isValidMatch(this._wordSeparators, text, textLength, matchStartIndex, matchLength)) {\n\t\t\t\treturn m;\n\t\t\t}\n\n\t\t} while (m);\n\n\t\treturn null;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}