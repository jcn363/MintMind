{"version":3,"names":["cov_qt5wow8eq","actualCoverage","Array2D","width","height","array","s","constructor","f","Array","get","x","y","set","value","isSpace","charCode","b","LineRangeFragment","range","lines","source","chrKeys","Map","getKey","chr","key","undefined","size","totalCount","histogram","counter","i","startLineNumber","endLineNumberExclusive","line","j","length","computeSimilarity","other","sumDifferences","maxLength","Math","max","abs"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/diff/defaultLinesDiffComputer/utils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { LineRange } from '../../core/ranges/lineRange.js';\nimport { DetailedLineRangeMapping } from '../rangeMapping.js';\n\nexport class Array2D<T> {\n\tprivate readonly array: T[] = [];\n\n\tconstructor(public readonly width: number, public readonly height: number) {\n\t\tthis.array = new Array<T>(width * height);\n\t}\n\n\tget(x: number, y: number): T {\n\t\treturn this.array[x + y * this.width];\n\t}\n\n\tset(x: number, y: number, value: T): void {\n\t\tthis.array[x + y * this.width] = value;\n\t}\n}\n\nexport function isSpace(charCode: number): boolean {\n\treturn charCode === CharCode.Space || charCode === CharCode.Tab;\n}\n\nexport class LineRangeFragment {\n\tprivate static chrKeys = new Map<string, number>();\n\n\tprivate static getKey(chr: string): number {\n\t\tlet key = this.chrKeys.get(chr);\n\t\tif (key === undefined) {\n\t\t\tkey = this.chrKeys.size;\n\t\t\tthis.chrKeys.set(chr, key);\n\t\t}\n\t\treturn key;\n\t}\n\n\tprivate readonly totalCount: number;\n\tprivate readonly histogram: number[] = [];\n\tconstructor(\n\t\tpublic readonly range: LineRange,\n\t\tpublic readonly lines: string[],\n\t\tpublic readonly source: DetailedLineRangeMapping,\n\t) {\n\t\tlet counter = 0;\n\t\tfor (let i = range.startLineNumber - 1; i < range.endLineNumberExclusive - 1; i++) {\n\t\t\tconst line = lines[i];\n\t\t\tfor (let j = 0; j < line.length; j++) {\n\t\t\t\tcounter++;\n\t\t\t\tconst chr = line[j];\n\t\t\t\tconst key = LineRangeFragment.getKey(chr);\n\t\t\t\tthis.histogram[key] = (this.histogram[key] || 0) + 1;\n\t\t\t}\n\t\t\tcounter++;\n\t\t\tconst key = LineRangeFragment.getKey('\\n');\n\t\t\tthis.histogram[key] = (this.histogram[key] || 0) + 1;\n\t\t}\n\n\t\tthis.totalCount = counter;\n\t}\n\n\tpublic computeSimilarity(other: LineRangeFragment): number {\n\t\tlet sumDifferences = 0;\n\t\tconst maxLength = Math.max(this.histogram.length, other.histogram.length);\n\t\tfor (let i = 0; i < maxLength; i++) {\n\t\t\tsumDifferences += Math.abs((this.histogram[i] ?? 0) - (other.histogram[i] ?? 0));\n\t\t}\n\t\treturn 1 - (sumDifferences / (this.totalCount + other.totalCount));\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkBE;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAlBF;;;;AASA,OAAM,MAAOE,OAAO;EAGSC,KAAA;EAA+BC,MAAA;EAF1CC,KAAK;EAAA;EAAA,CAAAL,aAAA,GAAAM,CAAA,OAAQ,EAAE;EAEhCC,YAA4BJ,KAAa,EAAkBC,MAAc;IAAA;IAAAJ,aAAA,GAAAQ,CAAA;IAAAR,aAAA,GAAAM,CAAA;IAA7C,KAAAH,KAAK,GAALA,KAAK;IAAQ;IAAAH,aAAA,GAAAM,CAAA;IAAkB,KAAAF,MAAM,GAANA,MAAM;IAAQ;IAAAJ,aAAA,GAAAM,CAAA;IACxE,IAAI,CAACD,KAAK,GAAG,IAAII,KAAK,CAAIN,KAAK,GAAGC,MAAM,CAAC;EAC1C;EAEAM,GAAGA,CAACC,CAAS,EAAEC,CAAS;IAAA;IAAAZ,aAAA,GAAAQ,CAAA;IAAAR,aAAA,GAAAM,CAAA;IACvB,OAAO,IAAI,CAACD,KAAK,CAACM,CAAC,GAAGC,CAAC,GAAG,IAAI,CAACT,KAAK,CAAC;EACtC;EAEAU,GAAGA,CAACF,CAAS,EAAEC,CAAS,EAAEE,KAAQ;IAAA;IAAAd,aAAA,GAAAQ,CAAA;IAAAR,aAAA,GAAAM,CAAA;IACjC,IAAI,CAACD,KAAK,CAACM,CAAC,GAAGC,CAAC,GAAG,IAAI,CAACT,KAAK,CAAC,GAAGW,KAAK;EACvC;;AAGD,OAAM,SAAUC,OAAOA,CAACC,QAAgB;EAAA;EAAAhB,aAAA,GAAAQ,CAAA;EAAAR,aAAA,GAAAM,CAAA;EACvC,OAAO,2BAAAN,aAAA,GAAAiB,CAAA,UAAAD,QAAQ;EAAA;EAAA,CAAAhB,aAAA,GAAAiB,CAAA,UAAuBD,QAAQ;AAC/C;AAEA,OAAM,MAAOE,iBAAiB;EAeZC,KAAA;EACAC,KAAA;EACAC,MAAA;EAhBT,OAAOC,OAAO;EAAA;EAAA,CAAAtB,aAAA,GAAAM,CAAA,OAAG,IAAIiB,GAAG,EAAkB;EAE1C,OAAOC,MAAMA,CAACC,GAAW;IAAA;IAAAzB,aAAA,GAAAQ,CAAA;IAChC,IAAIkB,GAAG;IAAA;IAAA,CAAA1B,aAAA,GAAAM,CAAA,OAAG,IAAI,CAACgB,OAAO,CAACZ,GAAG,CAACe,GAAG,CAAC;IAAC;IAAAzB,aAAA,GAAAM,CAAA;IAChC,IAAIoB,GAAG,KAAKC,SAAS,EAAE;MAAA;MAAA3B,aAAA,GAAAiB,CAAA;MAAAjB,aAAA,GAAAM,CAAA;MACtBoB,GAAG,GAAG,IAAI,CAACJ,OAAO,CAACM,IAAI;MAAC;MAAA5B,aAAA,GAAAM,CAAA;MACxB,IAAI,CAACgB,OAAO,CAACT,GAAG,CAACY,GAAG,EAAEC,GAAG,CAAC;IAC3B,CAAC;IAAA;IAAA;MAAA1B,aAAA,GAAAiB,CAAA;IAAA;IAAAjB,aAAA,GAAAM,CAAA;IACD,OAAOoB,GAAG;EACX;EAEiBG,UAAU;EACVC,SAAS;EAAA;EAAA,CAAA9B,aAAA,GAAAM,CAAA,QAAa,EAAE;EACzCC,YACiBY,KAAgB,EAChBC,KAAe,EACfC,MAAgC;IAAA;IAAArB,aAAA,GAAAQ,CAAA;IAAAR,aAAA,GAAAM,CAAA;IAFhC,KAAAa,KAAK,GAALA,KAAK;IAAW;IAAAnB,aAAA,GAAAM,CAAA;IAChB,KAAAc,KAAK,GAALA,KAAK;IAAU;IAAApB,aAAA,GAAAM,CAAA;IACf,KAAAe,MAAM,GAANA,MAAM;IAEtB,IAAIU,OAAO;IAAA;IAAA,CAAA/B,aAAA,GAAAM,CAAA,QAAG,CAAC;IAAC;IAAAN,aAAA,GAAAM,CAAA;IAChB,KAAK,IAAI0B,CAAC;IAAA;IAAA,CAAAhC,aAAA,GAAAM,CAAA,QAAGa,KAAK,CAACc,eAAe,GAAG,CAAC,GAAED,CAAC,GAAGb,KAAK,CAACe,sBAAsB,GAAG,CAAC,EAAEF,CAAC,EAAE,EAAE;MAClF,MAAMG,IAAI;MAAA;MAAA,CAAAnC,aAAA,GAAAM,CAAA,QAAGc,KAAK,CAACY,CAAC,CAAC;MAAC;MAAAhC,aAAA,GAAAM,CAAA;MACtB,KAAK,IAAI8B,CAAC;MAAA;MAAA,CAAApC,aAAA,GAAAM,CAAA,QAAG,CAAC,GAAE8B,CAAC,GAAGD,IAAI,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;QAAA;QAAApC,aAAA,GAAAM,CAAA;QACrCyB,OAAO,EAAE;QACT,MAAMN,GAAG;QAAA;QAAA,CAAAzB,aAAA,GAAAM,CAAA,QAAG6B,IAAI,CAACC,CAAC,CAAC;QACnB,MAAMV,GAAG;QAAA;QAAA,CAAA1B,aAAA,GAAAM,CAAA,QAAGY,iBAAiB,CAACM,MAAM,CAACC,GAAG,CAAC;QAAC;QAAAzB,aAAA,GAAAM,CAAA;QAC1C,IAAI,CAACwB,SAAS,CAACJ,GAAG,CAAC,GAAG;QAAC;QAAA,CAAA1B,aAAA,GAAAiB,CAAA,cAAI,CAACa,SAAS,CAACJ,GAAG,CAAC;QAAA;QAAA,CAAA1B,aAAA,GAAAiB,CAAA,UAAI,CAAC,KAAI,CAAC;MACrD;MAAC;MAAAjB,aAAA,GAAAM,CAAA;MACDyB,OAAO,EAAE;MACT,MAAML,GAAG;MAAA;MAAA,CAAA1B,aAAA,GAAAM,CAAA,QAAGY,iBAAiB,CAACM,MAAM,CAAC,IAAI,CAAC;MAAC;MAAAxB,aAAA,GAAAM,CAAA;MAC3C,IAAI,CAACwB,SAAS,CAACJ,GAAG,CAAC,GAAG;MAAC;MAAA,CAAA1B,aAAA,GAAAiB,CAAA,cAAI,CAACa,SAAS,CAACJ,GAAG,CAAC;MAAA;MAAA,CAAA1B,aAAA,GAAAiB,CAAA,UAAI,CAAC,KAAI,CAAC;IACrD;IAAC;IAAAjB,aAAA,GAAAM,CAAA;IAED,IAAI,CAACuB,UAAU,GAAGE,OAAO;EAC1B;EAEOO,iBAAiBA,CAACC,KAAwB;IAAA;IAAAvC,aAAA,GAAAQ,CAAA;IAChD,IAAIgC,cAAc;IAAA;IAAA,CAAAxC,aAAA,GAAAM,CAAA,QAAG,CAAC;IACtB,MAAMmC,SAAS;IAAA;IAAA,CAAAzC,aAAA,GAAAM,CAAA,QAAGoC,IAAI,CAACC,GAAG,CAAC,IAAI,CAACb,SAAS,CAACO,MAAM,EAAEE,KAAK,CAACT,SAAS,CAACO,MAAM,CAAC;IAAC;IAAArC,aAAA,GAAAM,CAAA;IAC1E,KAAK,IAAI0B,CAAC;IAAA;IAAA,CAAAhC,aAAA,GAAAM,CAAA,QAAG,CAAC,GAAE0B,CAAC,GAAGS,SAAS,EAAET,CAAC,EAAE,EAAE;MAAA;MAAAhC,aAAA,GAAAM,CAAA;MACnCkC,cAAc,IAAIE,IAAI,CAACE,GAAG,CAAC;MAAC;MAAA,CAAA5C,aAAA,GAAAiB,CAAA,cAAI,CAACa,SAAS,CAACE,CAAC,CAAC;MAAA;MAAA,CAAAhC,aAAA,GAAAiB,CAAA,UAAI,CAAC;MAAK;MAAA,CAAAjB,aAAA,GAAAiB,CAAA,UAAAsB,KAAK,CAACT,SAAS,CAACE,CAAC,CAAC;MAAA;MAAA,CAAAhC,aAAA,GAAAiB,CAAA,UAAI,CAAC,EAAC,CAAC;IACjF;IAAC;IAAAjB,aAAA,GAAAM,CAAA;IACD,OAAO,CAAC,GAAIkC,cAAc,IAAI,IAAI,CAACX,UAAU,GAAGU,KAAK,CAACV,UAAU,CAAE;EACnE","ignoreList":[]}