{"version":3,"names":["sumBy","BugIndicatingError","OffsetRange","BaseEdit","replacements","constructor","cov_19boyaqlco","f","s","lastEndEx","replacement","replaceRange","start","b","endExclusive","equals","other","length","i","toString","edits","map","e","join","normalize","newReplacements","lastReplacement","r","getNewLength","joined","tryJoinTouching","push","_createNew","compose","edits1","edits2","isEmpty","edit1Queue","result","edit1ToEdit2","r2","r1","shift","firstEdit1ToEdit2","firstIntersecting","lastIntersecting","delta","newReplaceRangeStart","Math","min","prefixLength","prefix","slice","emptyAt","suffixLength","ofStartAndLength","unshift","newReplaceRange","middle","item","decomposeSplit","shouldBeInE1","e1","e2","e2delta","edit","getNewRanges","ranges","offset","getLengthDelta","getJoinedReplaceRange","undefined","at","getNewDataLength","dataLength","applyToOffset","originalOffset","accumulatedDelta","applyToOffsetRange","originalRange","applyInverseToOffset","postEditsOffset","editLength","applyToOffsetOrUndefined","applyToOffsetRangeOrUndefined","end","BaseReplacement","getRangeAfterReplace","Edit","empty","create","single","AnnotationReplacement","newLength","annotation","range","joinRightTouching","rangeInReplacement"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/core/edits/edit.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { sumBy } from '../../../../base/common/arrays.js';\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { OffsetRange } from '../ranges/offsetRange.js';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport abstract class BaseEdit<T extends BaseReplacement<T> = BaseReplacement<any>, TEdit extends BaseEdit<T, TEdit> = BaseEdit<T, any>> {\n\tconstructor(\n\t\tpublic readonly replacements: readonly T[],\n\t) {\n\t\tlet lastEndEx = -1;\n\t\tfor (const replacement of replacements) {\n\t\t\tif (!(replacement.replaceRange.start >= lastEndEx)) {\n\t\t\t\tthrow new BugIndicatingError(`Edits must be disjoint and sorted. Found ${replacement} after ${lastEndEx}`);\n\t\t\t}\n\t\t\tlastEndEx = replacement.replaceRange.endExclusive;\n\t\t}\n\t}\n\n\tprotected abstract _createNew(replacements: readonly T[]): TEdit;\n\n\t/**\n\t * Returns true if and only if this edit and the given edit are structurally equal.\n\t * Note that this does not mean that the edits have the same effect on a given input!\n\t * See `.normalize()` or `.normalizeOnBase(base)` for that.\n\t*/\n\tpublic equals(other: TEdit): boolean {\n\t\tif (this.replacements.length !== other.replacements.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (let i = 0; i < this.replacements.length; i++) {\n\t\t\tif (!this.replacements[i].equals(other.replacements[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tpublic toString() {\n\t\tconst edits = this.replacements.map(e => e.toString()).join(', ');\n\t\treturn `[${edits}]`;\n\t}\n\n\t/**\n\t * Normalizes the edit by removing empty replacements and joining touching replacements (if the replacements allow joining).\n\t * Two edits have an equal normalized edit if and only if they have the same effect on any input.\n\t *\n\t * ![](https://raw.githubusercontent.com/microsoft/vscode/refs/heads/main/src/vs/editor/common/core/edits/docs/BaseEdit_normalize.drawio.png)\n\t *\n\t * Invariant:\n\t * ```\n\t * (forall base: TEdit.apply(base).equals(other.apply(base))) <-> this.normalize().equals(other.normalize())\n\t * ```\n\t * and\n\t * ```\n\t * forall base: TEdit.apply(base).equals(this.normalize().apply(base))\n\t * ```\n\t *\n\t */\n\tpublic normalize(): TEdit {\n\t\tconst newReplacements: T[] = [];\n\t\tlet lastReplacement: T | undefined;\n\t\tfor (const r of this.replacements) {\n\t\t\tif (r.getNewLength() === 0 && r.replaceRange.length === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (lastReplacement && lastReplacement.replaceRange.endExclusive === r.replaceRange.start) {\n\t\t\t\tconst joined = lastReplacement.tryJoinTouching(r);\n\t\t\t\tif (joined) {\n\t\t\t\t\tlastReplacement = joined;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (lastReplacement) {\n\t\t\t\tnewReplacements.push(lastReplacement);\n\t\t\t}\n\t\t\tlastReplacement = r;\n\t\t}\n\n\t\tif (lastReplacement) {\n\t\t\tnewReplacements.push(lastReplacement);\n\t\t}\n\t\treturn this._createNew(newReplacements);\n\t}\n\n\t/**\n\t * Combines two edits into one with the same effect.\n\t *\n\t * ![](https://raw.githubusercontent.com/microsoft/vscode/refs/heads/main/src/vs/editor/common/core/edits/docs/BaseEdit_compose.drawio.png)\n\t *\n\t * Invariant:\n\t * ```\n\t * other.apply(this.apply(s0)) = this.compose(other).apply(s0)\n\t * ```\n\t */\n\tpublic compose(other: TEdit): TEdit {\n\t\tconst edits1 = this.normalize();\n\t\tconst edits2 = other.normalize();\n\n\t\tif (edits1.isEmpty()) { return edits2; }\n\t\tif (edits2.isEmpty()) { return edits1; }\n\n\t\tconst edit1Queue = [...edits1.replacements];\n\t\tconst result: T[] = [];\n\n\t\tlet edit1ToEdit2 = 0;\n\n\t\tfor (const r2 of edits2.replacements) {\n\t\t\t// Copy over edit1 unmodified until it touches edit2.\n\t\t\twhile (true) {\n\t\t\t\tconst r1 = edit1Queue[0];\n\t\t\t\tif (!r1 || r1.replaceRange.start + edit1ToEdit2 + r1.getNewLength() >= r2.replaceRange.start) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tedit1Queue.shift();\n\n\t\t\t\tresult.push(r1);\n\t\t\t\tedit1ToEdit2 += r1.getNewLength() - r1.replaceRange.length;\n\t\t\t}\n\n\t\t\tconst firstEdit1ToEdit2 = edit1ToEdit2;\n\t\t\tlet firstIntersecting: T | undefined; // or touching\n\t\t\tlet lastIntersecting: T | undefined; // or touching\n\n\t\t\twhile (true) {\n\t\t\t\tconst r1 = edit1Queue[0];\n\t\t\t\tif (!r1 || r1.replaceRange.start + edit1ToEdit2 > r2.replaceRange.endExclusive) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// else we intersect, because the new end of edit1 is after or equal to our start\n\n\t\t\t\tif (!firstIntersecting) {\n\t\t\t\t\tfirstIntersecting = r1;\n\t\t\t\t}\n\t\t\t\tlastIntersecting = r1;\n\t\t\t\tedit1Queue.shift();\n\n\t\t\t\tedit1ToEdit2 += r1.getNewLength() - r1.replaceRange.length;\n\t\t\t}\n\n\t\t\tif (!firstIntersecting) {\n\t\t\t\tresult.push(r2.delta(-edit1ToEdit2));\n\t\t\t} else {\n\t\t\t\tconst newReplaceRangeStart = Math.min(firstIntersecting.replaceRange.start, r2.replaceRange.start - firstEdit1ToEdit2);\n\n\t\t\t\tconst prefixLength = r2.replaceRange.start - (firstIntersecting.replaceRange.start + firstEdit1ToEdit2);\n\t\t\t\tif (prefixLength > 0) {\n\t\t\t\t\tconst prefix = firstIntersecting.slice(OffsetRange.emptyAt(newReplaceRangeStart), new OffsetRange(0, prefixLength));\n\t\t\t\t\tresult.push(prefix);\n\t\t\t\t}\n\t\t\t\tif (!lastIntersecting) {\n\t\t\t\t\tthrow new BugIndicatingError(`Invariant violation: lastIntersecting is undefined`);\n\t\t\t\t}\n\t\t\t\tconst suffixLength = (lastIntersecting.replaceRange.endExclusive + edit1ToEdit2) - r2.replaceRange.endExclusive;\n\t\t\t\tif (suffixLength > 0) {\n\t\t\t\t\tconst e = lastIntersecting.slice(\n\t\t\t\t\t\tOffsetRange.ofStartAndLength(lastIntersecting.replaceRange.endExclusive, 0),\n\t\t\t\t\t\tnew OffsetRange(lastIntersecting.getNewLength() - suffixLength, lastIntersecting.getNewLength())\n\t\t\t\t\t);\n\t\t\t\t\tedit1Queue.unshift(e);\n\t\t\t\t\tedit1ToEdit2 -= e.getNewLength() - e.replaceRange.length;\n\t\t\t\t}\n\n\t\t\t\tconst newReplaceRange = new OffsetRange(\n\t\t\t\t\tnewReplaceRangeStart,\n\t\t\t\t\tr2.replaceRange.endExclusive - edit1ToEdit2\n\t\t\t\t);\n\t\t\t\tconst middle = r2.slice(newReplaceRange, new OffsetRange(0, r2.getNewLength()));\n\t\t\t\tresult.push(middle);\n\t\t\t}\n\t\t}\n\n\t\twhile (true) {\n\t\t\tconst item = edit1Queue.shift();\n\t\t\tif (!item) { break; }\n\t\t\tresult.push(item);\n\t\t}\n\n\t\treturn this._createNew(result).normalize();\n\t}\n\n\tpublic decomposeSplit(shouldBeInE1: (repl: T) => boolean): { e1: TEdit; e2: TEdit } {\n\t\tconst e1: T[] = [];\n\t\tconst e2: T[] = [];\n\n\t\tlet e2delta = 0;\n\t\tfor (const edit of this.replacements) {\n\t\t\tif (shouldBeInE1(edit)) {\n\t\t\t\te1.push(edit);\n\t\t\t\te2delta += edit.getNewLength() - edit.replaceRange.length;\n\t\t\t} else {\n\t\t\t\te2.push(edit.slice(edit.replaceRange.delta(e2delta), new OffsetRange(0, edit.getNewLength())));\n\t\t\t}\n\t\t}\n\t\treturn { e1: this._createNew(e1), e2: this._createNew(e2) };\n\t}\n\n\t/**\n\t * Returns the range of each replacement in the applied value.\n\t*/\n\tpublic getNewRanges(): OffsetRange[] {\n\t\tconst ranges: OffsetRange[] = [];\n\t\tlet offset = 0;\n\t\tfor (const e of this.replacements) {\n\t\t\tranges.push(OffsetRange.ofStartAndLength(e.replaceRange.start + offset, e.getNewLength()));\n\t\t\toffset += e.getLengthDelta();\n\t\t}\n\t\treturn ranges;\n\t}\n\n\tpublic getJoinedReplaceRange(): OffsetRange | undefined {\n\t\tif (this.replacements.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this.replacements[0].replaceRange.join(this.replacements.at(-1)!.replaceRange);\n\t}\n\n\tpublic isEmpty(): boolean {\n\t\treturn this.replacements.length === 0;\n\t}\n\n\tpublic getLengthDelta(): number {\n\t\treturn sumBy(this.replacements, (replacement) => replacement.getLengthDelta());\n\t}\n\n\tpublic getNewDataLength(dataLength: number): number {\n\t\treturn dataLength + this.getLengthDelta();\n\t}\n\n\tpublic applyToOffset(originalOffset: number): number {\n\t\tlet accumulatedDelta = 0;\n\t\tfor (const r of this.replacements) {\n\t\t\tif (r.replaceRange.start <= originalOffset) {\n\t\t\t\tif (originalOffset < r.replaceRange.endExclusive) {\n\t\t\t\t\t// the offset is in the replaced range\n\t\t\t\t\treturn r.replaceRange.start + accumulatedDelta;\n\t\t\t\t}\n\t\t\t\taccumulatedDelta += r.getNewLength() - r.replaceRange.length;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn originalOffset + accumulatedDelta;\n\t}\n\n\tpublic applyToOffsetRange(originalRange: OffsetRange): OffsetRange {\n\t\treturn new OffsetRange(\n\t\t\tthis.applyToOffset(originalRange.start),\n\t\t\tthis.applyToOffset(originalRange.endExclusive)\n\t\t);\n\t}\n\n\tpublic applyInverseToOffset(postEditsOffset: number): number {\n\t\tlet accumulatedDelta = 0;\n\t\tfor (const edit of this.replacements) {\n\t\t\tconst editLength = edit.getNewLength();\n\t\t\tif (edit.replaceRange.start <= postEditsOffset - accumulatedDelta) {\n\t\t\t\tif (postEditsOffset - accumulatedDelta < edit.replaceRange.start + editLength) {\n\t\t\t\t\t// the offset is in the replaced range\n\t\t\t\t\treturn edit.replaceRange.start;\n\t\t\t\t}\n\t\t\t\taccumulatedDelta += editLength - edit.replaceRange.length;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn postEditsOffset - accumulatedDelta;\n\t}\n\n\t/**\n\t * Return undefined if the originalOffset is within an edit\n\t */\n\tpublic applyToOffsetOrUndefined(originalOffset: number): number | undefined {\n\t\tlet accumulatedDelta = 0;\n\t\tfor (const edit of this.replacements) {\n\t\t\tif (edit.replaceRange.start <= originalOffset) {\n\t\t\t\tif (originalOffset < edit.replaceRange.endExclusive) {\n\t\t\t\t\t// the offset is in the replaced range\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\taccumulatedDelta += edit.getNewLength() - edit.replaceRange.length;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn originalOffset + accumulatedDelta;\n\t}\n\n\t/**\n\t * Return undefined if the originalRange is within an edit\n\t */\n\tpublic applyToOffsetRangeOrUndefined(originalRange: OffsetRange): OffsetRange | undefined {\n\t\tconst start = this.applyToOffsetOrUndefined(originalRange.start);\n\t\tif (start === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst end = this.applyToOffsetOrUndefined(originalRange.endExclusive);\n\t\tif (end === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new OffsetRange(start, end);\n\t}\n}\n\nexport abstract class BaseReplacement<TSelf extends BaseReplacement<TSelf>> {\n\tconstructor(\n\t\t/**\n\t\t * The range to be replaced.\n\t\t*/\n\t\tpublic readonly replaceRange: OffsetRange,\n\t) { }\n\n\tpublic abstract getNewLength(): number;\n\n\t/**\n\t * Precondition: TEdit.range.endExclusive === other.range.start\n\t*/\n\tpublic abstract tryJoinTouching(other: TSelf): TSelf | undefined;\n\n\tpublic abstract slice(newReplaceRange: OffsetRange, rangeInReplacement?: OffsetRange): TSelf;\n\n\tpublic delta(offset: number): TSelf {\n\t\treturn this.slice(this.replaceRange.delta(offset), new OffsetRange(0, this.getNewLength()));\n\t}\n\n\tpublic getLengthDelta(): number {\n\t\treturn this.getNewLength() - this.replaceRange.length;\n\t}\n\n\tabstract equals(other: TSelf): boolean;\n\n\ttoString(): string {\n\t\treturn `{ ${this.replaceRange.toString()} -> ${this.getNewLength()} }`;\n\t}\n\n\tget isEmpty() {\n\t\treturn this.getNewLength() === 0 && this.replaceRange.length === 0;\n\t}\n\n\tgetRangeAfterReplace(): OffsetRange {\n\t\treturn new OffsetRange(this.replaceRange.start, this.replaceRange.start + this.getNewLength());\n\t}\n}\n\nexport type AnyEdit = BaseEdit<AnyReplacement, AnyEdit>;\nexport type AnyReplacement = BaseReplacement<AnyReplacement>;\n\nexport class Edit<T extends BaseReplacement<T>> extends BaseEdit<T, Edit<T>> {\n\t/**\n\t * Represents a set of edits to a string.\n\t * All these edits are applied at once.\n\t*/\n\tpublic static readonly empty = new Edit<never>([]);\n\n\tpublic static create<T extends BaseReplacement<T>>(replacements: readonly T[]): Edit<T> {\n\t\treturn new Edit(replacements);\n\t}\n\n\tpublic static single<T extends BaseReplacement<T>>(replacement: T): Edit<T> {\n\t\treturn new Edit([replacement]);\n\t}\n\n\tprotected override _createNew(replacements: readonly T[]): Edit<T> {\n\t\treturn new Edit(replacements);\n\t}\n}\n\nexport class AnnotationReplacement<TAnnotation> extends BaseReplacement<AnnotationReplacement<TAnnotation>> {\n\tconstructor(\n\t\trange: OffsetRange,\n\t\tpublic readonly newLength: number,\n\t\tpublic readonly annotation: TAnnotation,\n\t) {\n\t\tsuper(range);\n\t}\n\n\toverride equals(other: AnnotationReplacement<TAnnotation>): boolean {\n\t\treturn this.replaceRange.equals(other.replaceRange) && this.newLength === other.newLength && this.annotation === other.annotation;\n\t}\n\n\tgetNewLength(): number { return this.newLength; }\n\n\ttryJoinTouching(other: AnnotationReplacement<TAnnotation>): AnnotationReplacement<TAnnotation> | undefined {\n\t\tif (this.annotation !== other.annotation) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new AnnotationReplacement<TAnnotation>(this.replaceRange.joinRightTouching(other.replaceRange), this.newLength + other.newLength, this.annotation);\n\t}\n\n\tslice(range: OffsetRange, rangeInReplacement?: OffsetRange): AnnotationReplacement<TAnnotation> {\n\t\treturn new AnnotationReplacement<TAnnotation>(range, rangeInReplacement ? rangeInReplacement.length : this.newLength, this.annotation);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}