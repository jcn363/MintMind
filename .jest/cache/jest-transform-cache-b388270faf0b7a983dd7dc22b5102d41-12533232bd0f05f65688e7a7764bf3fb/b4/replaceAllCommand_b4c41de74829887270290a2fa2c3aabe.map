{"version":3,"names":["cov_2haj8wvza8","actualCoverage","Range","ReplaceAllCommand","_editorSelection","_trackedEditorSelectionId","_ranges","_replaceStrings","constructor","editorSelection","ranges","replaceStrings","f","s","getEditOperations","model","builder","length","b","ops","i","push","range","text","sort","o1","o2","compareRangesUsingStarts","resultOps","previousOp","endLineNumber","startLineNumber","endColumn","startColumn","plusRange","op","addEditOperation","trackSelection","computeCursorState","helper","getTrackedSelection"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/find/browser/replaceAllCommand.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { ITextModel } from '../../../common/model.js';\n\ninterface IEditOperation {\n\trange: Range;\n\ttext: string;\n}\n\nexport class ReplaceAllCommand implements ICommand {\n\n\tprivate readonly _editorSelection: Selection;\n\tprivate _trackedEditorSelectionId: string | null;\n\tprivate readonly _ranges: Range[];\n\tprivate readonly _replaceStrings: string[];\n\n\tconstructor(editorSelection: Selection, ranges: Range[], replaceStrings: string[]) {\n\t\tthis._editorSelection = editorSelection;\n\t\tthis._ranges = ranges;\n\t\tthis._replaceStrings = replaceStrings;\n\t\tthis._trackedEditorSelectionId = null;\n\t}\n\n\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\tif (this._ranges.length > 0) {\n\t\t\t// Collect all edit operations\n\t\t\tconst ops: IEditOperation[] = [];\n\t\t\tfor (let i = 0; i < this._ranges.length; i++) {\n\t\t\t\tops.push({\n\t\t\t\t\trange: this._ranges[i],\n\t\t\t\t\ttext: this._replaceStrings[i]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Sort them in ascending order by range starts\n\t\t\tops.sort((o1, o2) => {\n\t\t\t\treturn Range.compareRangesUsingStarts(o1.range, o2.range);\n\t\t\t});\n\n\t\t\t// Merge operations that touch each other\n\t\t\tconst resultOps: IEditOperation[] = [];\n\t\t\tlet previousOp = ops[0];\n\t\t\tfor (let i = 1; i < ops.length; i++) {\n\t\t\t\tif (previousOp.range.endLineNumber === ops[i].range.startLineNumber && previousOp.range.endColumn === ops[i].range.startColumn) {\n\t\t\t\t\t// These operations are one after another and can be merged\n\t\t\t\t\tpreviousOp.range = previousOp.range.plusRange(ops[i].range);\n\t\t\t\t\tpreviousOp.text = previousOp.text + ops[i].text;\n\t\t\t\t} else {\n\t\t\t\t\tresultOps.push(previousOp);\n\t\t\t\t\tpreviousOp = ops[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tresultOps.push(previousOp);\n\n\t\t\tfor (const op of resultOps) {\n\t\t\t\tbuilder.addEditOperation(op.range, op.text);\n\t\t\t}\n\t\t}\n\n\t\tthis._trackedEditorSelectionId = builder.trackSelection(this._editorSelection);\n\t}\n\n\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\treturn helper.getTrackedSelection(this._trackedEditorSelectionId!);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}