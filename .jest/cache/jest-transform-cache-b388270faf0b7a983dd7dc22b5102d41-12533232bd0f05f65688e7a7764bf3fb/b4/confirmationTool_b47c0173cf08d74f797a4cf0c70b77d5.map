{"version":3,"names":["cov_1qgbj8f634","actualCoverage","MarkdownString","ToolDataSource","ToolInvocationPresentation","ConfirmationToolId","s","ConfirmationToolData","id","displayName","modelDescription","source","Internal","inputSchema","type","properties","title","description","message","confirmationType","enum","terminalCommand","required","additionalProperties","ConfirmationTool","prepareToolInvocation","context","token","f","parameters","b","Error","toolSpecificData","kind","commandLine","original","language","undefined","confirmationMessages","allowAutoConfirm","presentation","HiddenAfterComplete","invoke","invocation","countTokens","progress","content","value"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/tools/confirmationTool.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { IChatTerminalToolInvocationData } from '../chatService.js';\nimport { CountTokensCallback, IPreparedToolInvocation, IToolData, IToolImpl, IToolInvocation, IToolInvocationPreparationContext, IToolResult, ToolDataSource, ToolInvocationPresentation, ToolProgress } from '../languageModelToolsService.js';\n\nexport const ConfirmationToolId = 'vscode_get_confirmation';\n\nexport const ConfirmationToolData: IToolData = {\n\tid: ConfirmationToolId,\n\tdisplayName: 'Confirmation Tool',\n\tmodelDescription: 'A tool that demonstrates different types of confirmations. Takes a title, message, and confirmation type (basic or terminal).',\n\tsource: ToolDataSource.Internal,\n\tinputSchema: {\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\ttitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'Title for the confirmation dialog'\n\t\t\t},\n\t\t\tmessage: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'Message to show in the confirmation dialog'\n\t\t\t},\n\t\t\tconfirmationType: {\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: ['basic', 'terminal'],\n\t\t\t\tdescription: 'Type of confirmation to show - basic for simple confirmation, terminal for terminal command confirmation'\n\t\t\t},\n\t\t\tterminalCommand: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdescription: 'Terminal command to show (only used when confirmationType is \"terminal\")'\n\t\t\t}\n\t\t},\n\t\trequired: ['title', 'message', 'confirmationType'],\n\t\tadditionalProperties: false\n\t}\n};\n\nexport interface IConfirmationToolParams {\n\ttitle: string;\n\tmessage: string;\n\tconfirmationType?: 'basic' | 'terminal';\n\tterminalCommand?: string;\n}\n\nexport class ConfirmationTool implements IToolImpl {\n\tasync prepareToolInvocation(context: IToolInvocationPreparationContext, token: CancellationToken): Promise<IPreparedToolInvocation | undefined> {\n\t\tconst parameters = context.parameters as IConfirmationToolParams;\n\t\tif (!parameters.title || !parameters.message) {\n\t\t\tthrow new Error('Missing required parameters for ConfirmationTool');\n\t\t}\n\n\t\tconst confirmationType = parameters.confirmationType ?? 'basic';\n\n\t\t// Create different tool-specific data based on confirmation type\n\t\tlet toolSpecificData: IChatTerminalToolInvocationData | undefined;\n\n\t\tif (confirmationType === 'terminal') {\n\t\t\t// For terminal confirmations, use the terminal tool data structure\n\t\t\ttoolSpecificData = {\n\t\t\t\tkind: 'terminal',\n\t\t\t\tcommandLine: {\n\t\t\t\t\toriginal: parameters.terminalCommand ?? ''\n\t\t\t\t},\n\t\t\t\tlanguage: 'bash'\n\t\t\t};\n\t\t} else {\n\t\t\t// For basic confirmations, don't set toolSpecificData - this will use the default confirmation UI\n\t\t\ttoolSpecificData = undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tconfirmationMessages: {\n\t\t\t\ttitle: parameters.title,\n\t\t\t\tmessage: new MarkdownString(parameters.message),\n\t\t\t\tallowAutoConfirm: true\n\t\t\t},\n\t\t\ttoolSpecificData,\n\t\t\tpresentation: ToolInvocationPresentation.HiddenAfterComplete\n\t\t};\n\t}\n\n\tasync invoke(invocation: IToolInvocation, countTokens: CountTokensCallback, progress: ToolProgress, token: CancellationToken): Promise<IToolResult> {\n\t\t// This is a no-op tool - just return success\n\t\treturn {\n\t\t\tcontent: [{\n\t\t\t\tkind: 'text',\n\t\t\t\tvalue: 'yes' // Consumers should check for this label to know whether the tool was confirmed or skipped\n\t\t\t}]\n\t\t};\n\t}\n}\n"],"mappings":"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","ignoreList":[]}