{"version":3,"names":["cov_2p58h8x33s","actualCoverage","URI","MainContext","asPromise","DocumentSelector","ExtensionIdentifier","ExtHostQuickDiff","uriTransformer","handlePool","s","proxy","providers","Map","constructor","mainContext","f","getProxy","MainThreadQuickDiff","$provideOriginalResource","handle","uriComponents","token","uri","revive","provider","get","b","Promise","resolve","provideOriginalResource","then","r","registerQuickDiffProvider","extension","selector","quickDiffProvider","id","label","rootUri","set","extensionId","toKey","identifier","$registerQuickDiffProvider","from","dispose","$unregisterQuickDiffProvider","delete"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostQuickDiff.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { ExtHostQuickDiffShape, IMainContext, MainContext, MainThreadQuickDiffShape } from './extHost.protocol.js';\nimport { asPromise } from '../../../base/common/async.js';\nimport { DocumentSelector } from './extHostTypeConverters.js';\nimport { IURITransformer } from '../../../base/common/uriIpc.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\n\nexport class ExtHostQuickDiff implements ExtHostQuickDiffShape {\n\tprivate static handlePool: number = 0;\n\n\tprivate proxy: MainThreadQuickDiffShape;\n\tprivate providers: Map<number, vscode.QuickDiffProvider> = new Map();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tprivate readonly uriTransformer: IURITransformer | undefined\n\t) {\n\t\tthis.proxy = mainContext.getProxy(MainContext.MainThreadQuickDiff);\n\t}\n\n\t$provideOriginalResource(handle: number, uriComponents: UriComponents, token: CancellationToken): Promise<UriComponents | null> {\n\t\tconst uri = URI.revive(uriComponents);\n\t\tconst provider = this.providers.get(handle);\n\n\t\tif (!provider) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\treturn asPromise(() => provider.provideOriginalResource!(uri, token))\n\t\t\t.then<UriComponents | null>(r => r || null);\n\t}\n\n\tregisterQuickDiffProvider(extension: IExtensionDescription, selector: vscode.DocumentSelector, quickDiffProvider: vscode.QuickDiffProvider, id: string, label: string, rootUri?: vscode.Uri): vscode.Disposable {\n\t\tconst handle = ExtHostQuickDiff.handlePool++;\n\t\tthis.providers.set(handle, quickDiffProvider);\n\n\t\tconst extensionId = ExtensionIdentifier.toKey(extension.identifier);\n\t\tthis.proxy.$registerQuickDiffProvider(handle, DocumentSelector.from(selector, this.uriTransformer), `${extensionId}.${id}`, label, rootUri);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.proxy.$unregisterQuickDiffProvider(handle);\n\t\t\t\tthis.providers.delete(handle);\n\t\t\t}\n\t\t};\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAsBmB;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAtBnB;;;;AAOA,SAASE,GAAG,QAAuB,6BAA6B;AAChE,SAA8CC,WAAW,QAAkC,uBAAuB;AAClH,SAASC,SAAS,QAAQ,+BAA+B;AACzD,SAASC,gBAAgB,QAAQ,4BAA4B;AAE7D,SAASC,mBAAmB,QAA+B,mDAAmD;AAE9G,OAAM,MAAOC,gBAAgB;EAQVC,cAAA;EAPV,OAAOC,UAAU;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,OAAW,CAAC;EAE7BC,KAAK;EACLC,SAAS;EAAA;EAAA,CAAAZ,cAAA,GAAAU,CAAA,OAA0C,IAAIG,GAAG,EAAE;EAEpEC,YACCC,WAAyB,EACRP,cAA2C;IAAA;IAAAR,cAAA,GAAAgB,CAAA;IAAAhB,cAAA,GAAAU,CAAA;IAA3C,KAAAF,cAAc,GAAdA,cAAc;IAA6B;IAAAR,cAAA,GAAAU,CAAA;IAE5D,IAAI,CAACC,KAAK,GAAGI,WAAW,CAACE,QAAQ,CAACd,WAAW,CAACe,mBAAmB,CAAC;EACnE;EAEAC,wBAAwBA,CAACC,MAAc,EAAEC,aAA4B,EAAEC,KAAwB;IAAA;IAAAtB,cAAA,GAAAgB,CAAA;IAC9F,MAAMO,GAAG;IAAA;IAAA,CAAAvB,cAAA,GAAAU,CAAA,OAAGR,GAAG,CAACsB,MAAM,CAACH,aAAa,CAAC;IACrC,MAAMI,QAAQ;IAAA;IAAA,CAAAzB,cAAA,GAAAU,CAAA,OAAG,IAAI,CAACE,SAAS,CAACc,GAAG,CAACN,MAAM,CAAC;IAAC;IAAApB,cAAA,GAAAU,CAAA;IAE5C,IAAI,CAACe,QAAQ,EAAE;MAAA;MAAAzB,cAAA,GAAA2B,CAAA;MAAA3B,cAAA,GAAAU,CAAA;MACd,OAAOkB,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;IAC7B,CAAC;IAAA;IAAA;MAAA7B,cAAA,GAAA2B,CAAA;IAAA;IAAA3B,cAAA,GAAAU,CAAA;IAED,OAAON,SAAS,CAAC,MAAM;MAAA;MAAAJ,cAAA,GAAAgB,CAAA;MAAAhB,cAAA,GAAAU,CAAA;MAAA,OAAAe,QAAQ,CAACK,uBAAwB,CAACP,GAAG,EAAED,KAAK,CAAC;IAAD,CAAC,CAAC,CACnES,IAAI,CAAuBC,CAAC,IAAI;MAAA;MAAAhC,cAAA,GAAAgB,CAAA;MAAAhB,cAAA,GAAAU,CAAA;MAAA,kCAAAV,cAAA,GAAA2B,CAAA,UAAAK,CAAC;MAAA;MAAA,CAAAhC,cAAA,GAAA2B,CAAA,UAAI,IAAI;IAAJ,CAAI,CAAC;EAC7C;EAEAM,yBAAyBA,CAACC,SAAgC,EAAEC,QAAiC,EAAEC,iBAA2C,EAAEC,EAAU,EAAEC,KAAa,EAAEC,OAAoB;IAAA;IAAAvC,cAAA,GAAAgB,CAAA;IAC1L,MAAMI,MAAM;IAAA;IAAA,CAAApB,cAAA,GAAAU,CAAA,QAAGH,gBAAgB,CAACE,UAAU,EAAE;IAAC;IAAAT,cAAA,GAAAU,CAAA;IAC7C,IAAI,CAACE,SAAS,CAAC4B,GAAG,CAACpB,MAAM,EAAEgB,iBAAiB,CAAC;IAE7C,MAAMK,WAAW;IAAA;IAAA,CAAAzC,cAAA,GAAAU,CAAA,QAAGJ,mBAAmB,CAACoC,KAAK,CAACR,SAAS,CAACS,UAAU,CAAC;IAAC;IAAA3C,cAAA,GAAAU,CAAA;IACpE,IAAI,CAACC,KAAK,CAACiC,0BAA0B,CAACxB,MAAM,EAAEf,gBAAgB,CAACwC,IAAI,CAACV,QAAQ,EAAE,IAAI,CAAC3B,cAAc,CAAC,EAAE,GAAGiC,WAAW,IAAIJ,EAAE,EAAE,EAAEC,KAAK,EAAEC,OAAO,CAAC;IAAC;IAAAvC,cAAA,GAAAU,CAAA;IAC5I,OAAO;MACNoC,OAAO,EAAEA,CAAA,KAAK;QAAA;QAAA9C,cAAA,GAAAgB,CAAA;QAAAhB,cAAA,GAAAU,CAAA;QACb,IAAI,CAACC,KAAK,CAACoC,4BAA4B,CAAC3B,MAAM,CAAC;QAAC;QAAApB,cAAA,GAAAU,CAAA;QAChD,IAAI,CAACE,SAAS,CAACoC,MAAM,CAAC5B,MAAM,CAAC;MAC9B;KACA;EACF","ignoreList":[]}