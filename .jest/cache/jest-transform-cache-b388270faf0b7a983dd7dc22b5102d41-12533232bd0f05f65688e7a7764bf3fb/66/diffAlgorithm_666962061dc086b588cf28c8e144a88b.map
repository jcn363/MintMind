{"version":3,"names":["cov_1uuga7g80n","actualCoverage","forEachAdjacent","BugIndicatingError","OffsetRange","DiffAlgorithmResult","diffs","hitTimeout","trivial","seq1","seq2","f","s","SequenceDiff","ofLength","length","trivialTimedOut","constructor","seq1Range","seq2Range","invert","sequenceDiffs","doc1Length","result","a","b","push","fromOffsetPairs","getEndExclusives","OffsetPair","zero","getStarts","endExclusive","start","offset1","offset2","assertSorted","last","undefined","cur","swap","toString","join","other","delta","offset","deltaStart","deltaEnd","intersectsOrTouches","intersect","i1","i2","max","Number","MAX_SAFE_INTEGER","equals","InfiniteTimeout","instance","isValid","DateTimeout","timeout","startTime","Date","now","valid","disable"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { forEachAdjacent } from '../../../../../base/common/arrays.js';\nimport { BugIndicatingError } from '../../../../../base/common/errors.js';\nimport { OffsetRange } from '../../../core/ranges/offsetRange.js';\n\n/**\n * Represents a synchronous diff algorithm. Should be executed in a worker.\n*/\nexport interface IDiffAlgorithm {\n\tcompute(sequence1: ISequence, sequence2: ISequence, timeout?: ITimeout): DiffAlgorithmResult;\n}\n\nexport class DiffAlgorithmResult {\n\tstatic trivial(seq1: ISequence, seq2: ISequence): DiffAlgorithmResult {\n\t\treturn new DiffAlgorithmResult([new SequenceDiff(OffsetRange.ofLength(seq1.length), OffsetRange.ofLength(seq2.length))], false);\n\t}\n\n\tstatic trivialTimedOut(seq1: ISequence, seq2: ISequence): DiffAlgorithmResult {\n\t\treturn new DiffAlgorithmResult([new SequenceDiff(OffsetRange.ofLength(seq1.length), OffsetRange.ofLength(seq2.length))], true);\n\t}\n\n\tconstructor(\n\t\tpublic readonly diffs: SequenceDiff[],\n\t\t/**\n\t\t * Indicates if the time out was reached.\n\t\t * In that case, the diffs might be an approximation and the user should be asked to rerun the diff with more time.\n\t\t */\n\t\tpublic readonly hitTimeout: boolean,\n\t) { }\n}\n\nexport class SequenceDiff {\n\tpublic static invert(sequenceDiffs: SequenceDiff[], doc1Length: number): SequenceDiff[] {\n\t\tconst result: SequenceDiff[] = [];\n\t\tforEachAdjacent(sequenceDiffs, (a, b) => {\n\t\t\tresult.push(SequenceDiff.fromOffsetPairs(\n\t\t\t\ta ? a.getEndExclusives() : OffsetPair.zero,\n\t\t\t\tb ? b.getStarts() : new OffsetPair(doc1Length, (a ? a.seq2Range.endExclusive - a.seq1Range.endExclusive : 0) + doc1Length)\n\t\t\t));\n\t\t});\n\t\treturn result;\n\t}\n\n\tpublic static fromOffsetPairs(start: OffsetPair, endExclusive: OffsetPair): SequenceDiff {\n\t\treturn new SequenceDiff(\n\t\t\tnew OffsetRange(start.offset1, endExclusive.offset1),\n\t\t\tnew OffsetRange(start.offset2, endExclusive.offset2),\n\t\t);\n\t}\n\n\tpublic static assertSorted(sequenceDiffs: SequenceDiff[]): void {\n\t\tlet last: SequenceDiff | undefined = undefined;\n\t\tfor (const cur of sequenceDiffs) {\n\t\t\tif (last) {\n\t\t\t\tif (!(last.seq1Range.endExclusive <= cur.seq1Range.start && last.seq2Range.endExclusive <= cur.seq2Range.start)) {\n\t\t\t\t\tthrow new BugIndicatingError('Sequence diffs must be sorted');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlast = cur;\n\t\t}\n\t}\n\n\tconstructor(\n\t\tpublic readonly seq1Range: OffsetRange,\n\t\tpublic readonly seq2Range: OffsetRange,\n\t) { }\n\n\tpublic swap(): SequenceDiff {\n\t\treturn new SequenceDiff(this.seq2Range, this.seq1Range);\n\t}\n\n\tpublic toString(): string {\n\t\treturn `${this.seq1Range} <-> ${this.seq2Range}`;\n\t}\n\n\tpublic join(other: SequenceDiff): SequenceDiff {\n\t\treturn new SequenceDiff(this.seq1Range.join(other.seq1Range), this.seq2Range.join(other.seq2Range));\n\t}\n\n\tpublic delta(offset: number): SequenceDiff {\n\t\tif (offset === 0) {\n\t\t\treturn this;\n\t\t}\n\t\treturn new SequenceDiff(this.seq1Range.delta(offset), this.seq2Range.delta(offset));\n\t}\n\n\tpublic deltaStart(offset: number): SequenceDiff {\n\t\tif (offset === 0) {\n\t\t\treturn this;\n\t\t}\n\t\treturn new SequenceDiff(this.seq1Range.deltaStart(offset), this.seq2Range.deltaStart(offset));\n\t}\n\n\tpublic deltaEnd(offset: number): SequenceDiff {\n\t\tif (offset === 0) {\n\t\t\treturn this;\n\t\t}\n\t\treturn new SequenceDiff(this.seq1Range.deltaEnd(offset), this.seq2Range.deltaEnd(offset));\n\t}\n\n\tpublic intersectsOrTouches(other: SequenceDiff): boolean {\n\t\treturn this.seq1Range.intersectsOrTouches(other.seq1Range) || this.seq2Range.intersectsOrTouches(other.seq2Range);\n\t}\n\n\tpublic intersect(other: SequenceDiff): SequenceDiff | undefined {\n\t\tconst i1 = this.seq1Range.intersect(other.seq1Range);\n\t\tconst i2 = this.seq2Range.intersect(other.seq2Range);\n\t\tif (!i1 || !i2) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new SequenceDiff(i1, i2);\n\t}\n\n\tpublic getStarts(): OffsetPair {\n\t\treturn new OffsetPair(this.seq1Range.start, this.seq2Range.start);\n\t}\n\n\tpublic getEndExclusives(): OffsetPair {\n\t\treturn new OffsetPair(this.seq1Range.endExclusive, this.seq2Range.endExclusive);\n\t}\n}\n\nexport class OffsetPair {\n\tpublic static readonly zero = new OffsetPair(0, 0);\n\tpublic static readonly max = new OffsetPair(Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);\n\n\tconstructor(\n\t\tpublic readonly offset1: number,\n\t\tpublic readonly offset2: number,\n\t) {\n\t}\n\n\tpublic toString(): string {\n\t\treturn `${this.offset1} <-> ${this.offset2}`;\n\t}\n\n\tpublic delta(offset: number): OffsetPair {\n\t\tif (offset === 0) {\n\t\t\treturn this;\n\t\t}\n\t\treturn new OffsetPair(this.offset1 + offset, this.offset2 + offset);\n\t}\n\n\tpublic equals(other: OffsetPair): boolean {\n\t\treturn this.offset1 === other.offset1 && this.offset2 === other.offset2;\n\t}\n}\n\nexport interface ISequence {\n\tgetElement(offset: number): number;\n\tget length(): number;\n\n\t/**\n\t * The higher the score, the better that offset can be used to split the sequence.\n\t * Is used to optimize insertions.\n\t * Must not be negative.\n\t*/\n\tgetBoundaryScore?(length: number): number;\n\n\t/**\n\t * For line sequences, getElement returns a number representing trimmed lines.\n\t * This however checks equality for the original lines.\n\t * It prevents shifting to less matching lines.\n\t */\n\tisStronglyEqual(offset1: number, offset2: number): boolean;\n}\n\nexport interface ITimeout {\n\tisValid(): boolean;\n}\n\nexport class InfiniteTimeout implements ITimeout {\n\tpublic static instance = new InfiniteTimeout();\n\n\tisValid(): boolean {\n\t\treturn true;\n\t}\n}\n\nexport class DateTimeout implements ITimeout {\n\tprivate readonly startTime = Date.now();\n\tprivate valid = true;\n\n\tconstructor(private timeout: number) {\n\t\tif (timeout <= 0) {\n\t\t\tthrow new BugIndicatingError('timeout must be positive');\n\t\t}\n\t}\n\n\t// Recommendation: Set a log-point `{this.disable()}` in the body\n\tpublic isValid(): boolean {\n\t\tconst valid = Date.now() - this.startTime < this.timeout;\n\t\tif (!valid && this.valid) {\n\t\t\tthis.valid = false; // timeout reached\n\t\t}\n\t\treturn this.valid;\n\t}\n\n\tpublic disable() {\n\t\tthis.timeout = Number.MAX_SAFE_INTEGER;\n\t\tthis.isValid = () => true;\n\t\tthis.valid = true;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}