{"version":3,"names":["cov_12pw1pvh6i","actualCoverage","safeIntl","EditOperation","Range","SortLinesCommand","_COLLATOR","s","Collator","selection","descending","selectionId","constructor","f","getEditOperations","model","builder","op","sortLines","b","addEditOperation","range","text","trackSelection","computeCursorState","helper","getTrackedSelection","canRun","data","getSortData","i","len","before","length","after","startLineNumber","endLineNumber","endColumn","linesToSort","lineNumber","push","getLineContent","sorted","slice","sort","value","compare","reverse","replace","getLineMaxColumn","join"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/linesOperations/browser/sortLinesCommand.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { safeIntl } from '../../../../base/common/date.js';\nimport { Lazy } from '../../../../base/common/lazy.js';\nimport { EditOperation, ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { ITextModel } from '../../../common/model.js';\n\nexport class SortLinesCommand implements ICommand {\n\n\tstatic _COLLATOR: Lazy<Intl.Collator> = safeIntl.Collator();\n\n\tprivate readonly selection: Selection;\n\tprivate readonly descending: boolean;\n\tprivate selectionId: string | null;\n\n\tconstructor(selection: Selection, descending: boolean) {\n\t\tthis.selection = selection;\n\t\tthis.descending = descending;\n\t\tthis.selectionId = null;\n\t}\n\n\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\tconst op = sortLines(model, this.selection, this.descending);\n\t\tif (op) {\n\t\t\tbuilder.addEditOperation(op.range, op.text);\n\t\t}\n\n\t\tthis.selectionId = builder.trackSelection(this.selection);\n\t}\n\n\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\treturn helper.getTrackedSelection(this.selectionId!);\n\t}\n\n\tpublic static canRun(model: ITextModel | null, selection: Selection, descending: boolean): boolean {\n\t\tif (model === null) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst data = getSortData(model, selection, descending);\n\n\t\tif (!data) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (let i = 0, len = data.before.length; i < len; i++) {\n\t\t\tif (data.before[i] !== data.after[i]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nfunction getSortData(model: ITextModel, selection: Selection, descending: boolean) {\n\tconst startLineNumber = selection.startLineNumber;\n\tlet endLineNumber = selection.endLineNumber;\n\n\tif (selection.endColumn === 1) {\n\t\tendLineNumber--;\n\t}\n\n\t// Nothing to sort if user didn't select anything.\n\tif (startLineNumber >= endLineNumber) {\n\t\treturn null;\n\t}\n\n\tconst linesToSort: string[] = [];\n\n\t// Get the contents of the selection to be sorted.\n\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\tlinesToSort.push(model.getLineContent(lineNumber));\n\t}\n\n\tlet sorted = linesToSort.slice(0);\n\tsorted.sort(SortLinesCommand._COLLATOR.value.compare);\n\n\t// If descending, reverse the order.\n\tif (descending === true) {\n\t\tsorted = sorted.reverse();\n\t}\n\n\treturn {\n\t\tstartLineNumber: startLineNumber,\n\t\tendLineNumber: endLineNumber,\n\t\tbefore: linesToSort,\n\t\tafter: sorted\n\t};\n}\n\n/**\n * Generate commands for sorting lines on a model.\n */\nfunction sortLines(model: ITextModel, selection: Selection, descending: boolean): ISingleEditOperation | null {\n\tconst data = getSortData(model, selection, descending);\n\n\tif (!data) {\n\t\treturn null;\n\t}\n\n\treturn EditOperation.replace(\n\t\tnew Range(data.startLineNumber, 1, data.endLineNumber, model.getLineMaxColumn(data.endLineNumber)),\n\t\tdata.after.join('\\n')\n\t);\n}\n"],"mappings":"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","ignoreList":[]}