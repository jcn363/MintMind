{"version":3,"names":["cov_1g09seeu6j","actualCoverage","Iterable","makeEmptyCounts","maxPriority","statePriority","s","isDurationAccessor","accessor","f","getComputedState","node","force","b","computed","getCurrentComputedState","undefined","getOwnState","childrenCount","stateMap","child","getChildren","childComputed","LARGE_NODE_THRESHOLD","largeNodeChildrenStates","set","setComputedState","getComputedDuration","getCurrentComputedDuration","own","getOwnDuration","d","setComputedDuration","WeakMap","refreshComputedState","explicitNewComputedState","refreshDuration","oldState","oldPriority","newState","newPriority","toUpdate","Set","add","moveFromState","moveToState","parent","getParents","lnm","get","prev","concat","single","oldDuration","newDuration"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/common/getComputedState.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { TestResultState } from './testTypes.js';\nimport { makeEmptyCounts, maxPriority, statePriority } from './testingStates.js';\n\n/**\n * Accessor for nodes in get and refresh computed state.\n */\nexport interface IComputedStateAccessor<T> {\n\tgetOwnState(item: T): TestResultState | undefined;\n\tgetCurrentComputedState(item: T): TestResultState;\n\tsetComputedState(item: T, state: TestResultState): void;\n\tgetChildren(item: T): Iterable<T>;\n\tgetParents(item: T): Iterable<T>;\n}\n\nexport interface IComputedStateAndDurationAccessor<T> extends IComputedStateAccessor<T> {\n\tgetOwnDuration(item: T): number | undefined;\n\tgetCurrentComputedDuration(item: T): number | undefined;\n\tsetComputedDuration(item: T, duration: number | undefined): void;\n}\n\nconst isDurationAccessor = <T>(accessor: IComputedStateAccessor<T>): accessor is IComputedStateAndDurationAccessor<T> => 'getOwnDuration' in accessor;\n\n/**\n * Gets the computed state for the node.\n * @param force whether to refresh the computed state for this node, even\n * if it was previously set.\n */\n\nconst getComputedState = <T extends object>(accessor: IComputedStateAccessor<T>, node: T, force = false) => {\n\tlet computed = accessor.getCurrentComputedState(node);\n\tif (computed === undefined || force) {\n\t\tcomputed = accessor.getOwnState(node) ?? TestResultState.Unset;\n\n\t\tlet childrenCount = 0;\n\t\tconst stateMap = makeEmptyCounts();\n\n\t\tfor (const child of accessor.getChildren(node)) {\n\t\t\tconst childComputed = getComputedState(accessor, child);\n\t\t\tchildrenCount++;\n\t\t\tstateMap[childComputed]++;\n\n\t\t\t// If all children are skipped, make the current state skipped too if unset (#131537)\n\t\t\tcomputed = childComputed === TestResultState.Skipped && computed === TestResultState.Unset\n\t\t\t\t? TestResultState.Skipped : maxPriority(computed, childComputed);\n\t\t}\n\n\t\tif (childrenCount > LARGE_NODE_THRESHOLD) {\n\t\t\tlargeNodeChildrenStates.set(node, stateMap);\n\t\t}\n\n\t\taccessor.setComputedState(node, computed);\n\t}\n\n\treturn computed;\n};\n\nconst getComputedDuration = <T>(accessor: IComputedStateAndDurationAccessor<T>, node: T, force = false): number | undefined => {\n\tlet computed = accessor.getCurrentComputedDuration(node);\n\tif (computed === undefined || force) {\n\t\tconst own = accessor.getOwnDuration(node);\n\t\tif (own !== undefined) {\n\t\t\tcomputed = own;\n\t\t} else {\n\t\t\tcomputed = undefined;\n\t\t\tfor (const child of accessor.getChildren(node)) {\n\t\t\t\tconst d = getComputedDuration(accessor, child);\n\t\t\t\tif (d !== undefined) {\n\t\t\t\t\tcomputed = (computed || 0) + d;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\taccessor.setComputedDuration(node, computed);\n\t}\n\n\treturn computed;\n};\n\nconst LARGE_NODE_THRESHOLD = 64;\n\n/**\n * Map of how many nodes have in each state. This is used to optimize state\n * computation in large nodes with children above the `LARGE_NODE_THRESHOLD`.\n */\nconst largeNodeChildrenStates = new WeakMap<object, { [K in TestResultState]: number }>();\n\n/**\n * Refreshes the computed state for the node and its parents. Any changes\n * elements cause `addUpdated` to be called.\n */\nexport const refreshComputedState = <T extends object>(\n\taccessor: IComputedStateAccessor<T>,\n\tnode: T,\n\texplicitNewComputedState?: TestResultState,\n\trefreshDuration = true,\n) => {\n\tconst oldState = accessor.getCurrentComputedState(node);\n\tconst oldPriority = statePriority[oldState];\n\tconst newState = explicitNewComputedState ?? getComputedState(accessor, node, true);\n\tconst newPriority = statePriority[newState];\n\tconst toUpdate = new Set<T>();\n\n\tif (newPriority !== oldPriority) {\n\t\taccessor.setComputedState(node, newState);\n\t\ttoUpdate.add(node);\n\n\t\tlet moveFromState = oldState;\n\t\tlet moveToState = newState;\n\n\t\tfor (const parent of accessor.getParents(node)) {\n\t\t\tconst lnm = largeNodeChildrenStates.get(parent);\n\t\t\tif (lnm) {\n\t\t\t\tlnm[moveFromState]--;\n\t\t\t\tlnm[moveToState]++;\n\t\t\t}\n\n\t\t\tconst prev = accessor.getCurrentComputedState(parent);\n\t\t\tif (newPriority > oldPriority) {\n\t\t\t\t// Update all parents to ensure they're at least this priority.\n\t\t\t\tif (prev !== undefined && statePriority[prev] >= newPriority) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (lnm && lnm[moveToState] > 1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// moveToState remains the same, the new higher priority node state\n\t\t\t\taccessor.setComputedState(parent, newState);\n\t\t\t\ttoUpdate.add(parent);\n\t\t\t} else /* newProirity < oldPriority */ {\n\t\t\t\t// Update all parts whose statese might have been based on this one\n\t\t\t\tif (prev === undefined || statePriority[prev] > oldPriority) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (lnm && lnm[moveFromState] > 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tmoveToState = getComputedState(accessor, parent, true);\n\t\t\t\taccessor.setComputedState(parent, moveToState);\n\t\t\t\ttoUpdate.add(parent);\n\t\t\t}\n\n\t\t\tmoveFromState = prev;\n\t\t}\n\t}\n\n\tif (isDurationAccessor(accessor) && refreshDuration) {\n\t\tfor (const parent of Iterable.concat(Iterable.single(node), accessor.getParents(node))) {\n\t\t\tconst oldDuration = accessor.getCurrentComputedDuration(parent);\n\t\t\tconst newDuration = getComputedDuration(accessor, parent, true);\n\t\t\tif (oldDuration === newDuration) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\taccessor.setComputedDuration(parent, newDuration);\n\t\t\ttoUpdate.add(parent);\n\t\t}\n\t}\n\n\treturn toUpdate;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}