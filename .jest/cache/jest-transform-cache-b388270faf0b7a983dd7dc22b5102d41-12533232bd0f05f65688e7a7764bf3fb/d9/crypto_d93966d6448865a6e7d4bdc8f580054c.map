{"version":3,"names":["cov_2r8ukwx52m","actualCoverage","crypto","fs","createSingleCallFunction","checksum","path","sha256hash","f","checksumPromise","s","Promise","resolve","reject","input","createReadStream","hash","createHash","pipe","done","err","result","removeAllListeners","b","once","data","undefined","toString","Error"],"sources":["/home/user/Desktop/MintMind/src/vs/base/node/crypto.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as crypto from 'crypto';\nimport * as fs from 'fs';\nimport { createSingleCallFunction } from '../common/functional.js';\n\nexport async function checksum(path: string, sha256hash: string | undefined): Promise<void> {\n\tconst checksumPromise = new Promise<string | undefined>((resolve, reject) => {\n\t\tconst input = fs.createReadStream(path);\n\t\tconst hash = crypto.createHash('sha256');\n\t\tinput.pipe(hash);\n\n\t\tconst done = createSingleCallFunction((err?: Error, result?: string) => {\n\t\t\tinput.removeAllListeners();\n\t\t\thash.removeAllListeners();\n\n\t\t\tif (err) {\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\tresolve(result);\n\t\t\t}\n\t\t});\n\n\t\tinput.once('error', done);\n\t\tinput.once('end', done);\n\t\thash.once('error', done);\n\t\thash.once('data', (data: Buffer) => done(undefined, data.toString('hex')));\n\t});\n\n\tconst hash = await checksumPromise;\n\n\tif (hash !== sha256hash) {\n\t\tthrow new Error('Hash mismatch');\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmBG;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAnBH;;;;AAKA,OAAO,KAAKE,MAAM,MAAM,QAAQ;AAChC,OAAO,KAAKC,EAAE,MAAM,IAAI;AACxB,SAASC,wBAAwB,QAAQ,yBAAyB;AAElE,OAAO,eAAeC,QAAQA,CAACC,IAAY,EAAEC,UAA8B;EAAA;EAAAP,cAAA,GAAAQ,CAAA;EAC1E,MAAMC,eAAe;EAAA;EAAA,CAAAT,cAAA,GAAAU,CAAA,OAAG,IAAIC,OAAO,CAAqB,CAACC,OAAO,EAAEC,MAAM,KAAI;IAAA;IAAAb,cAAA,GAAAQ,CAAA;IAC3E,MAAMM,KAAK;IAAA;IAAA,CAAAd,cAAA,GAAAU,CAAA,OAAGP,EAAE,CAACY,gBAAgB,CAACT,IAAI,CAAC;IACvC,MAAMU,IAAI;IAAA;IAAA,CAAAhB,cAAA,GAAAU,CAAA,OAAGR,MAAM,CAACe,UAAU,CAAC,QAAQ,CAAC;IAAC;IAAAjB,cAAA,GAAAU,CAAA;IACzCI,KAAK,CAACI,IAAI,CAACF,IAAI,CAAC;IAEhB,MAAMG,IAAI;IAAA;IAAA,CAAAnB,cAAA,GAAAU,CAAA,OAAGN,wBAAwB,CAAC,CAACgB,GAAW,EAAEC,MAAe,KAAI;MAAA;MAAArB,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAU,CAAA;MACtEI,KAAK,CAACQ,kBAAkB,EAAE;MAAC;MAAAtB,cAAA,GAAAU,CAAA;MAC3BM,IAAI,CAACM,kBAAkB,EAAE;MAAC;MAAAtB,cAAA,GAAAU,CAAA;MAE1B,IAAIU,GAAG,EAAE;QAAA;QAAApB,cAAA,GAAAuB,CAAA;QAAAvB,cAAA,GAAAU,CAAA;QACRG,MAAM,CAACO,GAAG,CAAC;MACZ,CAAC,MAAM;QAAA;QAAApB,cAAA,GAAAuB,CAAA;QAAAvB,cAAA,GAAAU,CAAA;QACNE,OAAO,CAACS,MAAM,CAAC;MAChB;IACD,CAAC,CAAC;IAAC;IAAArB,cAAA,GAAAU,CAAA;IAEHI,KAAK,CAACU,IAAI,CAAC,OAAO,EAAEL,IAAI,CAAC;IAAC;IAAAnB,cAAA,GAAAU,CAAA;IAC1BI,KAAK,CAACU,IAAI,CAAC,KAAK,EAAEL,IAAI,CAAC;IAAC;IAAAnB,cAAA,GAAAU,CAAA;IACxBM,IAAI,CAACQ,IAAI,CAAC,OAAO,EAAEL,IAAI,CAAC;IAAC;IAAAnB,cAAA,GAAAU,CAAA;IACzBM,IAAI,CAACQ,IAAI,CAAC,MAAM,EAAGC,IAAY,IAAK;MAAA;MAAAzB,cAAA,GAAAQ,CAAA;MAAAR,cAAA,GAAAU,CAAA;MAAA,OAAAS,IAAI,CAACO,SAAS,EAAED,IAAI,CAACE,QAAQ,CAAC,KAAK,CAAC,CAAC;IAAD,CAAC,CAAC;EAC3E,CAAC,CAAC;EAEF,MAAMX,IAAI;EAAA;EAAA,CAAAhB,cAAA,GAAAU,CAAA,QAAG,MAAMD,eAAe;EAAC;EAAAT,cAAA,GAAAU,CAAA;EAEnC,IAAIM,IAAI,KAAKT,UAAU,EAAE;IAAA;IAAAP,cAAA,GAAAuB,CAAA;IAAAvB,cAAA,GAAAU,CAAA;IACxB,MAAM,IAAIkB,KAAK,CAAC,eAAe,CAAC;EACjC,CAAC;EAAA;EAAA;IAAA5B,cAAA,GAAAuB,CAAA;EAAA;AACF","ignoreList":[]}