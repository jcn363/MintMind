{"version":3,"names":["cov_24b8i38xsu","actualCoverage","ExtensionIdentifier","ExtensionManagementChannelClient","BaseExtensionManagementChannelClient","Emitter","delta","compare","ProfileAwareExtensionManagementChannelClient","userDataProfileService","uriIdentityService","_onDidChangeProfile","s","_register","onDidChangeProfile","event","_onDidProfileAwareInstallExtensions","onProfileAwareDidInstallExtensions","f","_onDidProfileAwareUninstallExtension","onProfileAwareDidUninstallExtension","_onDidProfileAwareUpdateExtensionMetadata","onProfileAwareDidUpdateExtensionMetadata","constructor","channel","productService","allowedExtensionsService","onDidChangeCurrentProfile","e","extUri","isEqual","previous","extensionsResource","profile","b","join","whenProfileChanged","onInstallExtensionEvent","data","result","filterEvent","profileLocation","applicationScoped","Promise","_onInstallExtension","fire","onDidInstallExtensionsEvent","results","filtered","local","isApplicationScoped","push","length","_onDidInstallExtensions","onUninstallExtensionEvent","_onUninstallExtension","onDidUninstallExtensionEvent","_onDidUninstallExtension","onDidUpdateExtensionMetadataEvent","_onDidUpdateExtensionMetadata","install","vsix","installOptions","getProfileLocation","installFromLocation","location","installFromGallery","extension","installGalleryExtensions","extensions","infos","options","uninstall","uninstallExtensions","getInstalled","type","extensionsProfileResource","productVersion","updateMetadata","metadata","toggleApplicationScope","fromProfileLocation","copyExtensions","toProfileLocation","previousProfileLocation","currentProfileLocation","eventData","switchExtensionsProfile","preserveExtensions","oldExtensions","newExtensions","extensionsToInstall","some","id","equals","identifier","installExtensionsFromProfile","a","toKey","manifest","version","currentProfile"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/extensionManagement/common/extensionManagementChannelClient.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILocalExtension, IGalleryExtension, InstallOptions, UninstallOptions, Metadata, InstallExtensionResult, InstallExtensionInfo, IProductVersion, UninstallExtensionInfo, DidUninstallExtensionEvent, DidUpdateExtensionMetadata, InstallExtensionEvent, UninstallExtensionEvent, IAllowedExtensionsService } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ExtensionIdentifier, ExtensionType, IExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { ExtensionManagementChannelClient as BaseExtensionManagementChannelClient } from '../../../../platform/extensionManagement/common/extensionManagementIpc.js';\nimport { IChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { DidChangeUserDataProfileEvent, IUserDataProfileService } from '../../userDataProfile/common/userDataProfile.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { delta } from '../../../../base/common/arrays.js';\nimport { compare } from '../../../../base/common/strings.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { DidChangeProfileEvent, IProfileAwareExtensionManagementService } from './extensionManagement.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\n\nexport abstract class ProfileAwareExtensionManagementChannelClient extends BaseExtensionManagementChannelClient implements IProfileAwareExtensionManagementService {\n\n\tprivate readonly _onDidChangeProfile = this._register(new Emitter<{ readonly added: ILocalExtension[]; readonly removed: ILocalExtension[] }>());\n\treadonly onDidChangeProfile = this._onDidChangeProfile.event;\n\n\tprivate readonly _onDidProfileAwareInstallExtensions = this._register(new Emitter<readonly InstallExtensionResult[]>());\n\tget onProfileAwareDidInstallExtensions() { return this._onDidProfileAwareInstallExtensions.event; }\n\n\tprivate readonly _onDidProfileAwareUninstallExtension = this._register(new Emitter<DidUninstallExtensionEvent>());\n\tget onProfileAwareDidUninstallExtension() { return this._onDidProfileAwareUninstallExtension.event; }\n\n\tprivate readonly _onDidProfileAwareUpdateExtensionMetadata = this._register(new Emitter<DidUpdateExtensionMetadata>());\n\tget onProfileAwareDidUpdateExtensionMetadata() { return this._onDidProfileAwareUpdateExtensionMetadata.event; }\n\n\tconstructor(channel: IChannel,\n\t\tproductService: IProductService,\n\t\tallowedExtensionsService: IAllowedExtensionsService,\n\t\tprotected readonly userDataProfileService: IUserDataProfileService,\n\t\tprotected readonly uriIdentityService: IUriIdentityService,\n\t) {\n\t\tsuper(channel, productService, allowedExtensionsService);\n\t\tthis._register(userDataProfileService.onDidChangeCurrentProfile(e => {\n\t\t\tif (!this.uriIdentityService.extUri.isEqual(e.previous.extensionsResource, e.profile.extensionsResource)) {\n\t\t\t\te.join(this.whenProfileChanged(e));\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override async onInstallExtensionEvent(data: InstallExtensionEvent): Promise<void> {\n\t\tconst result = this.filterEvent(data.profileLocation, data.applicationScoped ?? false);\n\t\tif (result instanceof Promise ? await result : result) {\n\t\t\tthis._onInstallExtension.fire(data);\n\t\t}\n\t}\n\n\tprotected override async onDidInstallExtensionsEvent(results: readonly InstallExtensionResult[]): Promise<void> {\n\t\tconst filtered = [];\n\t\tfor (const e of results) {\n\t\t\tconst result = this.filterEvent(e.profileLocation, e.applicationScoped ?? e.local?.isApplicationScoped ?? false);\n\t\t\tif (result instanceof Promise ? await result : result) {\n\t\t\t\tfiltered.push(e);\n\t\t\t}\n\t\t}\n\t\tif (filtered.length) {\n\t\t\tthis._onDidInstallExtensions.fire(filtered);\n\t\t}\n\t\tthis._onDidProfileAwareInstallExtensions.fire(results);\n\t}\n\n\tprotected override async onUninstallExtensionEvent(data: UninstallExtensionEvent): Promise<void> {\n\t\tconst result = this.filterEvent(data.profileLocation, data.applicationScoped ?? false);\n\t\tif (result instanceof Promise ? await result : result) {\n\t\t\tthis._onUninstallExtension.fire(data);\n\t\t}\n\t}\n\n\tprotected override async onDidUninstallExtensionEvent(data: DidUninstallExtensionEvent): Promise<void> {\n\t\tconst result = this.filterEvent(data.profileLocation, data.applicationScoped ?? false);\n\t\tif (result instanceof Promise ? await result : result) {\n\t\t\tthis._onDidUninstallExtension.fire(data);\n\t\t}\n\t\tthis._onDidProfileAwareUninstallExtension.fire(data);\n\t}\n\n\tprotected override async onDidUpdateExtensionMetadataEvent(data: DidUpdateExtensionMetadata): Promise<void> {\n\t\tconst result = this.filterEvent(data.profileLocation, data.local?.isApplicationScoped ?? false);\n\t\tif (result instanceof Promise ? await result : result) {\n\t\t\tthis._onDidUpdateExtensionMetadata.fire(data);\n\t\t}\n\t\tthis._onDidProfileAwareUpdateExtensionMetadata.fire(data);\n\t}\n\n\toverride async install(vsix: URI, installOptions?: InstallOptions): Promise<ILocalExtension> {\n\t\tinstallOptions = { ...installOptions, profileLocation: await this.getProfileLocation(installOptions?.profileLocation) };\n\t\treturn super.install(vsix, installOptions);\n\t}\n\n\toverride async installFromLocation(location: URI, profileLocation: URI): Promise<ILocalExtension> {\n\t\treturn super.installFromLocation(location, await this.getProfileLocation(profileLocation));\n\t}\n\n\toverride async installFromGallery(extension: IGalleryExtension, installOptions?: InstallOptions): Promise<ILocalExtension> {\n\t\tinstallOptions = { ...installOptions, profileLocation: await this.getProfileLocation(installOptions?.profileLocation) };\n\t\treturn super.installFromGallery(extension, installOptions);\n\t}\n\n\toverride async installGalleryExtensions(extensions: InstallExtensionInfo[]): Promise<InstallExtensionResult[]> {\n\t\tconst infos: InstallExtensionInfo[] = [];\n\t\tfor (const extension of extensions) {\n\t\t\tinfos.push({ ...extension, options: { ...extension.options, profileLocation: await this.getProfileLocation(extension.options?.profileLocation) } });\n\t\t}\n\t\treturn super.installGalleryExtensions(infos);\n\t}\n\n\toverride async uninstall(extension: ILocalExtension, options?: UninstallOptions): Promise<void> {\n\t\toptions = { ...options, profileLocation: await this.getProfileLocation(options?.profileLocation) };\n\t\treturn super.uninstall(extension, options);\n\t}\n\n\toverride async uninstallExtensions(extensions: UninstallExtensionInfo[]): Promise<void> {\n\t\tconst infos: UninstallExtensionInfo[] = [];\n\t\tfor (const { extension, options } of extensions) {\n\t\t\tinfos.push({ extension, options: { ...options, profileLocation: await this.getProfileLocation(options?.profileLocation) } });\n\t\t}\n\t\treturn super.uninstallExtensions(infos);\n\t}\n\n\toverride async getInstalled(type: ExtensionType | null = null, extensionsProfileResource?: URI, productVersion?: IProductVersion): Promise<ILocalExtension[]> {\n\t\treturn super.getInstalled(type, await this.getProfileLocation(extensionsProfileResource), productVersion);\n\t}\n\n\toverride async updateMetadata(local: ILocalExtension, metadata: Partial<Metadata>, extensionsProfileResource?: URI): Promise<ILocalExtension> {\n\t\treturn super.updateMetadata(local, metadata, await this.getProfileLocation(extensionsProfileResource));\n\t}\n\n\toverride async toggleApplicationScope(local: ILocalExtension, fromProfileLocation: URI): Promise<ILocalExtension> {\n\t\treturn super.toggleApplicationScope(local, await this.getProfileLocation(fromProfileLocation));\n\t}\n\n\toverride async copyExtensions(fromProfileLocation: URI, toProfileLocation: URI): Promise<void> {\n\t\treturn super.copyExtensions(await this.getProfileLocation(fromProfileLocation), await this.getProfileLocation(toProfileLocation));\n\t}\n\n\tprivate async whenProfileChanged(e: DidChangeUserDataProfileEvent): Promise<void> {\n\t\tconst previousProfileLocation = await this.getProfileLocation(e.previous.extensionsResource);\n\t\tconst currentProfileLocation = await this.getProfileLocation(e.profile.extensionsResource);\n\n\t\tif (this.uriIdentityService.extUri.isEqual(previousProfileLocation, currentProfileLocation)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst eventData = await this.switchExtensionsProfile(previousProfileLocation, currentProfileLocation);\n\t\tthis._onDidChangeProfile.fire(eventData);\n\t}\n\n\tprotected async switchExtensionsProfile(previousProfileLocation: URI, currentProfileLocation: URI, preserveExtensions?: ExtensionIdentifier[]): Promise<DidChangeProfileEvent> {\n\t\tconst oldExtensions = await this.getInstalled(ExtensionType.User, previousProfileLocation);\n\t\tconst newExtensions = await this.getInstalled(ExtensionType.User, currentProfileLocation);\n\t\tif (preserveExtensions?.length) {\n\t\t\tconst extensionsToInstall: IExtensionIdentifier[] = [];\n\t\t\tfor (const extension of oldExtensions) {\n\t\t\t\tif (preserveExtensions.some(id => ExtensionIdentifier.equals(extension.identifier.id, id)) &&\n\t\t\t\t\t!newExtensions.some(e => ExtensionIdentifier.equals(e.identifier.id, extension.identifier.id))) {\n\t\t\t\t\textensionsToInstall.push(extension.identifier);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extensionsToInstall.length) {\n\t\t\t\tawait this.installExtensionsFromProfile(extensionsToInstall, previousProfileLocation, currentProfileLocation);\n\t\t\t}\n\t\t}\n\t\treturn delta(oldExtensions, newExtensions, (a, b) => compare(`${ExtensionIdentifier.toKey(a.identifier.id)}@${a.manifest.version}`, `${ExtensionIdentifier.toKey(b.identifier.id)}@${b.manifest.version}`));\n\t}\n\n\tprotected getProfileLocation(profileLocation: URI): Promise<URI>;\n\tprotected getProfileLocation(profileLocation?: URI): Promise<URI | undefined>;\n\tprotected async getProfileLocation(profileLocation?: URI): Promise<URI | undefined> {\n\t\treturn profileLocation ?? this.userDataProfileService.currentProfile.extensionsResource;\n\t}\n\n\tprotected abstract filterEvent(profileLocation: URI, isApplicationScoped: boolean): boolean | Promise<boolean>;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}