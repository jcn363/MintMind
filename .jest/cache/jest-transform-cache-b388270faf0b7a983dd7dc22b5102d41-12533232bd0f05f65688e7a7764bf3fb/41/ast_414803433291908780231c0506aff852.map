{"version":3,"names":["cov_1i7nc3m3bx","actualCoverage","BugIndicatingError","CursorColumns","lengthAdd","lengthGetLineCount","lengthToObj","lengthZero","SmallImmutableSet","BaseAstNode","_length","length","f","s","constructor","PairAstNode","openingBracket","child","closingBracket","missingOpeningBracketIds","create","b","getEmpty","kind","listHeight","childrenLength","getChild","idx","Error","children","result","push","canBeReused","openBracketIds","intersects","flattenLists","deepClone","computeMinIndentation","offset","textModel","Number","MAX_SAFE_INTEGER","ListAstNode","_missingOpeningBracketIds","create23","item1","item2","item3","immutable","missingBracketIds","merge","Immutable23ListAstNode","TwoThreeListAstNode","items","unopenedBrackets","i","ImmutableArrayListAstNode","ArrayListAstNode","cachedMinIndentation","throwIfImmutable","makeLastElementMutable","childCount","undefined","lastChild","mutable","toMutable","setChild","makeFirstElementMutable","firstChild","lastLength","handleChildrenChanged","count","c","normalized","minIndentation","childOffset","Math","min","_item1","_item2","_item3","node","appendChildOfSameHeight","unappendChild","prependChildOfSameHeight","unprependChild","_children","Array","item","pop","unshift","shift","emptyArray","ImmutableLeafAstNode","TextAstNode","_openedBracketIds","start","startLineNumber","columnCount","lineCount","endLineNumber","lineNumber","firstNonWsColumn","getLineFirstNonWhitespaceColumn","lineContent","getLineContent","visibleColumn","visibleColumnFromColumn","getOptions","tabSize","BracketAstNode","bracketInfo","bracketIds","text","bracketText","languageId","InvalidBracketAstNode","closingBrackets","openedBracketIds"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { BugIndicatingError } from '../../../../../base/common/errors.js';\nimport { CursorColumns } from '../../../core/cursorColumns.js';\nimport { BracketKind } from '../../../languages/supports/languageBracketsConfiguration.js';\nimport { ITextModel } from '../../../model.js';\nimport { Length, lengthAdd, lengthGetLineCount, lengthToObj, lengthZero } from './length.js';\nimport { SmallImmutableSet } from './smallImmutableSet.js';\nimport { OpeningBracketId } from './tokenizer.js';\n\nexport const enum AstNodeKind {\n\tText = 0,\n\tBracket = 1,\n\tPair = 2,\n\tUnexpectedClosingBracket = 3,\n\tList = 4,\n}\n\nexport type AstNode = PairAstNode | ListAstNode | BracketAstNode | InvalidBracketAstNode | TextAstNode;\n\n/**\n * The base implementation for all AST nodes.\n*/\nabstract class BaseAstNode {\n\tpublic abstract readonly kind: AstNodeKind;\n\n\tpublic abstract readonly childrenLength: number;\n\n\t/**\n\t * Might return null even if {@link idx} is smaller than {@link BaseAstNode.childrenLength}.\n\t*/\n\tpublic abstract getChild(idx: number): AstNode | null;\n\n\t/**\n\t * Try to avoid using this property, as implementations might need to allocate the resulting array.\n\t*/\n\tpublic abstract readonly children: readonly AstNode[];\n\n\t/**\n\t * Represents the set of all (potentially) missing opening bracket ids in this node.\n\t * E.g. in `{ ] ) }` that set is {`[`, `(` }.\n\t*/\n\tpublic abstract readonly missingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>;\n\n\t/**\n\t * In case of a list, determines the height of the (2,3) tree.\n\t*/\n\tpublic abstract readonly listHeight: number;\n\n\tprotected _length: Length;\n\n\t/**\n\t * The length of the entire node, which should equal the sum of lengths of all children.\n\t*/\n\tpublic get length(): Length {\n\t\treturn this._length;\n\t}\n\n\tpublic constructor(length: Length) {\n\t\tthis._length = length;\n\t}\n\n\t/**\n\t * @param openBracketIds The set of all opening brackets that have not yet been closed.\n\t */\n\tpublic abstract canBeReused(\n\t\topenBracketIds: SmallImmutableSet<OpeningBracketId>\n\t): boolean;\n\n\t/**\n\t * Flattens all lists in this AST. Only for debugging.\n\t */\n\tpublic abstract flattenLists(): AstNode;\n\n\t/**\n\t * Creates a deep clone.\n\t */\n\tpublic abstract deepClone(): AstNode;\n\n\tpublic abstract computeMinIndentation(offset: Length, textModel: ITextModel): number;\n}\n\n/**\n * Represents a bracket pair including its child (e.g. `{ ... }`).\n * Might be unclosed.\n * Immutable, if all children are immutable.\n*/\nexport class PairAstNode extends BaseAstNode {\n\tpublic static create(\n\t\topeningBracket: BracketAstNode,\n\t\tchild: AstNode | null,\n\t\tclosingBracket: BracketAstNode | null\n\t) {\n\t\tlet length = openingBracket.length;\n\t\tif (child) {\n\t\t\tlength = lengthAdd(length, child.length);\n\t\t}\n\t\tif (closingBracket) {\n\t\t\tlength = lengthAdd(length, closingBracket.length);\n\t\t}\n\t\treturn new PairAstNode(length, openingBracket, child, closingBracket, child ? child.missingOpeningBracketIds : SmallImmutableSet.getEmpty());\n\t}\n\n\tpublic get kind(): AstNodeKind.Pair {\n\t\treturn AstNodeKind.Pair;\n\t}\n\tpublic get listHeight() {\n\t\treturn 0;\n\t}\n\tpublic get childrenLength(): number {\n\t\treturn 3;\n\t}\n\tpublic getChild(idx: number): AstNode | null {\n\t\tswitch (idx) {\n\t\t\tcase 0: return this.openingBracket;\n\t\t\tcase 1: return this.child;\n\t\t\tcase 2: return this.closingBracket;\n\t\t}\n\t\tthrow new Error('Invalid child index');\n\t}\n\n\t/**\n\t * Avoid using this property, it allocates an array!\n\t*/\n\tpublic get children() {\n\t\tconst result: AstNode[] = [];\n\t\tresult.push(this.openingBracket);\n\t\tif (this.child) {\n\t\t\tresult.push(this.child);\n\t\t}\n\t\tif (this.closingBracket) {\n\t\t\tresult.push(this.closingBracket);\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate constructor(\n\t\tlength: Length,\n\t\tpublic readonly openingBracket: BracketAstNode,\n\t\tpublic readonly child: AstNode | null,\n\t\tpublic readonly closingBracket: BracketAstNode | null,\n\t\tpublic readonly missingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>\n\t) {\n\t\tsuper(length);\n\t}\n\n\tpublic canBeReused(openBracketIds: SmallImmutableSet<OpeningBracketId>) {\n\t\tif (this.closingBracket === null) {\n\t\t\t// Unclosed pair ast nodes only\n\t\t\t// end at the end of the document\n\t\t\t// or when a parent node is closed.\n\n\t\t\t// This could be improved:\n\t\t\t// Only return false if some next token is neither \"undefined\" nor a bracket that closes a parent.\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (openBracketIds.intersects(this.missingOpeningBracketIds)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic flattenLists(): PairAstNode {\n\t\treturn PairAstNode.create(\n\t\t\tthis.openingBracket.flattenLists(),\n\t\t\tthis.child && this.child.flattenLists(),\n\t\t\tthis.closingBracket && this.closingBracket.flattenLists()\n\t\t);\n\t}\n\n\tpublic deepClone(): PairAstNode {\n\t\treturn new PairAstNode(\n\t\t\tthis.length,\n\t\t\tthis.openingBracket.deepClone(),\n\t\t\tthis.child && this.child.deepClone(),\n\t\t\tthis.closingBracket && this.closingBracket.deepClone(),\n\t\t\tthis.missingOpeningBracketIds\n\t\t);\n\t}\n\n\tpublic computeMinIndentation(offset: Length, textModel: ITextModel): number {\n\t\treturn this.child ? this.child.computeMinIndentation(lengthAdd(offset, this.openingBracket.length), textModel) : Number.MAX_SAFE_INTEGER;\n\t}\n}\n\nexport abstract class ListAstNode extends BaseAstNode {\n\t/**\n\t * This method uses more memory-efficient list nodes that can only store 2 or 3 children.\n\t*/\n\tpublic static create23(item1: AstNode, item2: AstNode, item3: AstNode | null, immutable: boolean = false): ListAstNode {\n\t\tlet length = item1.length;\n\t\tlet missingBracketIds = item1.missingOpeningBracketIds;\n\n\t\tif (item1.listHeight !== item2.listHeight) {\n\t\t\tthrow new Error('Invalid list heights');\n\t\t}\n\n\t\tlength = lengthAdd(length, item2.length);\n\t\tmissingBracketIds = missingBracketIds.merge(item2.missingOpeningBracketIds);\n\n\t\tif (item3) {\n\t\t\tif (item1.listHeight !== item3.listHeight) {\n\t\t\t\tthrow new Error('Invalid list heights');\n\t\t\t}\n\t\t\tlength = lengthAdd(length, item3.length);\n\t\t\tmissingBracketIds = missingBracketIds.merge(item3.missingOpeningBracketIds);\n\t\t}\n\t\treturn immutable\n\t\t\t? new Immutable23ListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds)\n\t\t\t: new TwoThreeListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds);\n\t}\n\n\tpublic static create(items: AstNode[], immutable: boolean = false): ListAstNode {\n\t\tif (items.length === 0) {\n\t\t\treturn this.getEmpty();\n\t\t} else {\n\t\t\tlet length = items[0].length;\n\t\t\tlet unopenedBrackets = items[0].missingOpeningBracketIds;\n\t\t\tfor (let i = 1; i < items.length; i++) {\n\t\t\t\tlength = lengthAdd(length, items[i].length);\n\t\t\t\tunopenedBrackets = unopenedBrackets.merge(items[i].missingOpeningBracketIds);\n\t\t\t}\n\t\t\treturn immutable\n\t\t\t\t? new ImmutableArrayListAstNode(length, items[0].listHeight + 1, items, unopenedBrackets)\n\t\t\t\t: new ArrayListAstNode(length, items[0].listHeight + 1, items, unopenedBrackets);\n\t\t}\n\t}\n\n\tpublic static getEmpty() {\n\t\treturn new ImmutableArrayListAstNode(lengthZero, 0, [], SmallImmutableSet.getEmpty());\n\t}\n\n\tpublic get kind(): AstNodeKind.List {\n\t\treturn AstNodeKind.List;\n\t}\n\n\tpublic get missingOpeningBracketIds(): SmallImmutableSet<OpeningBracketId> {\n\t\treturn this._missingOpeningBracketIds;\n\t}\n\n\tprivate cachedMinIndentation: number = -1;\n\n\t/**\n\t * Use ListAstNode.create.\n\t*/\n\tconstructor(\n\t\tlength: Length,\n\t\tpublic readonly listHeight: number,\n\t\tprivate _missingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>\n\t) {\n\t\tsuper(length);\n\t}\n\n\tprotected throwIfImmutable(): void {\n\t\t// NOOP\n\t}\n\n\tprotected abstract setChild(idx: number, child: AstNode): void;\n\n\tpublic makeLastElementMutable(): AstNode | undefined {\n\t\tthis.throwIfImmutable();\n\t\tconst childCount = this.childrenLength;\n\t\tif (childCount === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst lastChild = this.getChild(childCount - 1)!;\n\t\tconst mutable = lastChild.kind === AstNodeKind.List ? lastChild.toMutable() : lastChild;\n\t\tif (lastChild !== mutable) {\n\t\t\tthis.setChild(childCount - 1, mutable);\n\t\t}\n\t\treturn mutable;\n\t}\n\n\tpublic makeFirstElementMutable(): AstNode | undefined {\n\t\tthis.throwIfImmutable();\n\t\tconst childCount = this.childrenLength;\n\t\tif (childCount === 0) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst firstChild = this.getChild(0)!;\n\t\tconst mutable = firstChild.kind === AstNodeKind.List ? firstChild.toMutable() : firstChild;\n\t\tif (firstChild !== mutable) {\n\t\t\tthis.setChild(0, mutable);\n\t\t}\n\t\treturn mutable;\n\t}\n\n\tpublic canBeReused(openBracketIds: SmallImmutableSet<OpeningBracketId>): boolean {\n\t\tif (openBracketIds.intersects(this.missingOpeningBracketIds)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this.childrenLength === 0) {\n\t\t\t// Don't reuse empty lists.\n\t\t\treturn false;\n\t\t}\n\n\t\tlet lastChild: ListAstNode = this;\n\t\twhile (lastChild.kind === AstNodeKind.List) {\n\t\t\tconst lastLength = lastChild.childrenLength;\n\t\t\tif (lastLength === 0) {\n\t\t\t\t// Empty lists should never be contained in other lists.\n\t\t\t\tthrow new BugIndicatingError();\n\t\t\t}\n\t\t\tlastChild = lastChild.getChild(lastLength - 1) as ListAstNode;\n\t\t}\n\n\t\treturn lastChild.canBeReused(openBracketIds);\n\t}\n\n\tpublic handleChildrenChanged(): void {\n\t\tthis.throwIfImmutable();\n\n\t\tconst count = this.childrenLength;\n\n\t\tlet length = this.getChild(0)!.length;\n\t\tlet unopenedBrackets = this.getChild(0)!.missingOpeningBracketIds;\n\n\t\tfor (let i = 1; i < count; i++) {\n\t\t\tconst child = this.getChild(i)!;\n\t\t\tlength = lengthAdd(length, child.length);\n\t\t\tunopenedBrackets = unopenedBrackets.merge(child.missingOpeningBracketIds);\n\t\t}\n\n\t\tthis._length = length;\n\t\tthis._missingOpeningBracketIds = unopenedBrackets;\n\t\tthis.cachedMinIndentation = -1;\n\t}\n\n\tpublic flattenLists(): ListAstNode {\n\t\tconst items: AstNode[] = [];\n\t\tfor (const c of this.children) {\n\t\t\tconst normalized = c.flattenLists();\n\t\t\tif (normalized.kind === AstNodeKind.List) {\n\t\t\t\titems.push(...normalized.children);\n\t\t\t} else {\n\t\t\t\titems.push(normalized);\n\t\t\t}\n\t\t}\n\t\treturn ListAstNode.create(items);\n\t}\n\n\tpublic computeMinIndentation(offset: Length, textModel: ITextModel): number {\n\t\tif (this.cachedMinIndentation !== -1) {\n\t\t\treturn this.cachedMinIndentation;\n\t\t}\n\n\t\tlet minIndentation = Number.MAX_SAFE_INTEGER;\n\t\tlet childOffset = offset;\n\t\tfor (let i = 0; i < this.childrenLength; i++) {\n\t\t\tconst child = this.getChild(i);\n\t\t\tif (child) {\n\t\t\t\tminIndentation = Math.min(minIndentation, child.computeMinIndentation(childOffset, textModel));\n\t\t\t\tchildOffset = lengthAdd(childOffset, child.length);\n\t\t\t}\n\t\t}\n\n\t\tthis.cachedMinIndentation = minIndentation;\n\t\treturn minIndentation;\n\t}\n\n\t/**\n\t * Creates a shallow clone that is mutable, or itself if it is already mutable.\n\t */\n\tpublic abstract toMutable(): ListAstNode;\n\n\tpublic abstract appendChildOfSameHeight(node: AstNode): void;\n\tpublic abstract unappendChild(): AstNode | undefined;\n\tpublic abstract prependChildOfSameHeight(node: AstNode): void;\n\tpublic abstract unprependChild(): AstNode | undefined;\n}\n\nclass TwoThreeListAstNode extends ListAstNode {\n\tpublic get childrenLength(): number {\n\t\treturn this._item3 !== null ? 3 : 2;\n\t}\n\tpublic getChild(idx: number): AstNode | null {\n\t\tswitch (idx) {\n\t\t\tcase 0: return this._item1;\n\t\t\tcase 1: return this._item2;\n\t\t\tcase 2: return this._item3;\n\t\t}\n\t\tthrow new Error('Invalid child index');\n\t}\n\tprotected setChild(idx: number, node: AstNode): void {\n\t\tswitch (idx) {\n\t\t\tcase 0: this._item1 = node; return;\n\t\t\tcase 1: this._item2 = node; return;\n\t\t\tcase 2: this._item3 = node; return;\n\t\t}\n\t\tthrow new Error('Invalid child index');\n\t}\n\n\tpublic get children(): readonly AstNode[] {\n\t\treturn this._item3 ? [this._item1, this._item2, this._item3] : [this._item1, this._item2];\n\t}\n\n\tpublic get item1(): AstNode {\n\t\treturn this._item1;\n\t}\n\tpublic get item2(): AstNode {\n\t\treturn this._item2;\n\t}\n\tpublic get item3(): AstNode | null {\n\t\treturn this._item3;\n\t}\n\n\tpublic constructor(\n\t\tlength: Length,\n\t\tlistHeight: number,\n\t\tprivate _item1: AstNode,\n\t\tprivate _item2: AstNode,\n\t\tprivate _item3: AstNode | null,\n\t\tmissingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>\n\t) {\n\t\tsuper(length, listHeight, missingOpeningBracketIds);\n\t}\n\n\tpublic deepClone(): ListAstNode {\n\t\treturn new TwoThreeListAstNode(\n\t\t\tthis.length,\n\t\t\tthis.listHeight,\n\t\t\tthis._item1.deepClone(),\n\t\t\tthis._item2.deepClone(),\n\t\t\tthis._item3 ? this._item3.deepClone() : null,\n\t\t\tthis.missingOpeningBracketIds\n\t\t);\n\t}\n\n\tpublic appendChildOfSameHeight(node: AstNode): void {\n\t\tif (this._item3) {\n\t\t\tthrow new Error('Cannot append to a full (2,3) tree node');\n\t\t}\n\t\tthis.throwIfImmutable();\n\t\tthis._item3 = node;\n\t\tthis.handleChildrenChanged();\n\t}\n\n\tpublic unappendChild(): AstNode | undefined {\n\t\tif (!this._item3) {\n\t\t\tthrow new Error('Cannot remove from a non-full (2,3) tree node');\n\t\t}\n\t\tthis.throwIfImmutable();\n\t\tconst result = this._item3;\n\t\tthis._item3 = null;\n\t\tthis.handleChildrenChanged();\n\t\treturn result;\n\t}\n\n\tpublic prependChildOfSameHeight(node: AstNode): void {\n\t\tif (this._item3) {\n\t\t\tthrow new Error('Cannot prepend to a full (2,3) tree node');\n\t\t}\n\t\tthis.throwIfImmutable();\n\t\tthis._item3 = this._item2;\n\t\tthis._item2 = this._item1;\n\t\tthis._item1 = node;\n\t\tthis.handleChildrenChanged();\n\t}\n\n\tpublic unprependChild(): AstNode | undefined {\n\t\tif (!this._item3) {\n\t\t\tthrow new Error('Cannot remove from a non-full (2,3) tree node');\n\t\t}\n\t\tthis.throwIfImmutable();\n\t\tconst result = this._item1;\n\t\tthis._item1 = this._item2;\n\t\tthis._item2 = this._item3;\n\t\tthis._item3 = null;\n\n\t\tthis.handleChildrenChanged();\n\t\treturn result;\n\t}\n\n\toverride toMutable(): ListAstNode {\n\t\treturn this;\n\t}\n}\n\n/**\n * Immutable, if all children are immutable.\n*/\nclass Immutable23ListAstNode extends TwoThreeListAstNode {\n\toverride toMutable(): ListAstNode {\n\t\treturn new TwoThreeListAstNode(this.length, this.listHeight, this.item1, this.item2, this.item3, this.missingOpeningBracketIds);\n\t}\n\n\tprotected override throwIfImmutable(): void {\n\t\tthrow new Error('this instance is immutable');\n\t}\n}\n\n/**\n * For debugging.\n*/\nclass ArrayListAstNode extends ListAstNode {\n\tget childrenLength(): number {\n\t\treturn this._children.length;\n\t}\n\tgetChild(idx: number): AstNode | null {\n\t\treturn this._children[idx];\n\t}\n\tprotected setChild(idx: number, child: AstNode): void {\n\t\tthis._children[idx] = child;\n\t}\n\tget children(): readonly AstNode[] {\n\t\treturn this._children;\n\t}\n\n\tconstructor(\n\t\tlength: Length,\n\t\tlistHeight: number,\n\t\tprivate readonly _children: AstNode[],\n\t\tmissingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>\n\t) {\n\t\tsuper(length, listHeight, missingOpeningBracketIds);\n\t}\n\n\tdeepClone(): ListAstNode {\n\t\tconst children = new Array<AstNode>(this._children.length);\n\t\tfor (let i = 0; i < this._children.length; i++) {\n\t\t\tchildren[i] = this._children[i].deepClone();\n\t\t}\n\t\treturn new ArrayListAstNode(this.length, this.listHeight, children, this.missingOpeningBracketIds);\n\t}\n\n\tpublic appendChildOfSameHeight(node: AstNode): void {\n\t\tthis.throwIfImmutable();\n\t\tthis._children.push(node);\n\t\tthis.handleChildrenChanged();\n\t}\n\n\tpublic unappendChild(): AstNode | undefined {\n\t\tthis.throwIfImmutable();\n\t\tconst item = this._children.pop();\n\t\tthis.handleChildrenChanged();\n\t\treturn item;\n\t}\n\n\tpublic prependChildOfSameHeight(node: AstNode): void {\n\t\tthis.throwIfImmutable();\n\t\tthis._children.unshift(node);\n\t\tthis.handleChildrenChanged();\n\t}\n\n\tpublic unprependChild(): AstNode | undefined {\n\t\tthis.throwIfImmutable();\n\t\tconst item = this._children.shift();\n\t\tthis.handleChildrenChanged();\n\t\treturn item;\n\t}\n\n\tpublic override toMutable(): ListAstNode {\n\t\treturn this;\n\t}\n}\n\n/**\n * Immutable, if all children are immutable.\n*/\nclass ImmutableArrayListAstNode extends ArrayListAstNode {\n\toverride toMutable(): ListAstNode {\n\t\treturn new ArrayListAstNode(this.length, this.listHeight, [...this.children], this.missingOpeningBracketIds);\n\t}\n\n\tprotected override throwIfImmutable(): void {\n\t\tthrow new Error('this instance is immutable');\n\t}\n}\n\nconst emptyArray: readonly AstNode[] = [];\n\nabstract class ImmutableLeafAstNode extends BaseAstNode {\n\tpublic get listHeight() {\n\t\treturn 0;\n\t}\n\tpublic get childrenLength(): number {\n\t\treturn 0;\n\t}\n\tpublic getChild(idx: number): AstNode | null {\n\t\treturn null;\n\t}\n\tpublic get children(): readonly AstNode[] {\n\t\treturn emptyArray;\n\t}\n\n\tpublic flattenLists(): this & AstNode {\n\t\treturn this as this & AstNode;\n\t}\n\tpublic deepClone(): this & AstNode {\n\t\treturn this as this & AstNode;\n\t}\n}\n\nexport class TextAstNode extends ImmutableLeafAstNode {\n\tpublic get kind(): AstNodeKind.Text {\n\t\treturn AstNodeKind.Text;\n\t}\n\tpublic get missingOpeningBracketIds(): SmallImmutableSet<OpeningBracketId> {\n\t\treturn SmallImmutableSet.getEmpty();\n\t}\n\n\tpublic canBeReused(_openedBracketIds: SmallImmutableSet<OpeningBracketId>) {\n\t\treturn true;\n\t}\n\n\tpublic computeMinIndentation(offset: Length, textModel: ITextModel): number {\n\t\tconst start = lengthToObj(offset);\n\t\t// Text ast nodes don't have partial indentation (ensured by the tokenizer).\n\t\t// Thus, if this text node does not start at column 0, the first line cannot have any indentation at all.\n\t\tconst startLineNumber = (start.columnCount === 0 ? start.lineCount : start.lineCount + 1) + 1;\n\t\tconst endLineNumber = lengthGetLineCount(lengthAdd(offset, this.length)) + 1;\n\n\t\tlet result = Number.MAX_SAFE_INTEGER;\n\n\t\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\t\tconst firstNonWsColumn = textModel.getLineFirstNonWhitespaceColumn(lineNumber);\n\t\t\tconst lineContent = textModel.getLineContent(lineNumber);\n\t\t\tif (firstNonWsColumn === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst visibleColumn = CursorColumns.visibleColumnFromColumn(lineContent, firstNonWsColumn, textModel.getOptions().tabSize);\n\t\t\tresult = Math.min(result, visibleColumn);\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\nexport class BracketAstNode extends ImmutableLeafAstNode {\n\tpublic static create(\n\t\tlength: Length,\n\t\tbracketInfo: BracketKind,\n\t\tbracketIds: SmallImmutableSet<OpeningBracketId>\n\t): BracketAstNode {\n\t\tconst node = new BracketAstNode(length, bracketInfo, bracketIds);\n\t\treturn node;\n\t}\n\n\tpublic get kind(): AstNodeKind.Bracket {\n\t\treturn AstNodeKind.Bracket;\n\t}\n\n\tpublic get missingOpeningBracketIds(): SmallImmutableSet<OpeningBracketId> {\n\t\treturn SmallImmutableSet.getEmpty();\n\t}\n\n\tprivate constructor(\n\t\tlength: Length,\n\t\tpublic readonly bracketInfo: BracketKind,\n\t\t/**\n\t\t * In case of a opening bracket, this is the id of the opening bracket.\n\t\t * In case of a closing bracket, this contains the ids of all opening brackets it can close.\n\t\t*/\n\t\tpublic readonly bracketIds: SmallImmutableSet<OpeningBracketId>\n\t) {\n\t\tsuper(length);\n\t}\n\n\tpublic get text() {\n\t\treturn this.bracketInfo.bracketText;\n\t}\n\n\tpublic get languageId() {\n\t\treturn this.bracketInfo.languageId;\n\t}\n\n\tpublic canBeReused(_openedBracketIds: SmallImmutableSet<OpeningBracketId>) {\n\t\t// These nodes could be reused,\n\t\t// but not in a general way.\n\t\t// Their parent may be reused.\n\t\treturn false;\n\t}\n\n\tpublic computeMinIndentation(offset: Length, textModel: ITextModel): number {\n\t\treturn Number.MAX_SAFE_INTEGER;\n\t}\n}\n\nexport class InvalidBracketAstNode extends ImmutableLeafAstNode {\n\tpublic get kind(): AstNodeKind.UnexpectedClosingBracket {\n\t\treturn AstNodeKind.UnexpectedClosingBracket;\n\t}\n\n\tpublic readonly missingOpeningBracketIds: SmallImmutableSet<OpeningBracketId>;\n\n\tpublic constructor(closingBrackets: SmallImmutableSet<OpeningBracketId>, length: Length) {\n\t\tsuper(length);\n\t\tthis.missingOpeningBracketIds = closingBrackets;\n\t}\n\n\tpublic canBeReused(openedBracketIds: SmallImmutableSet<OpeningBracketId>) {\n\t\treturn !openedBracketIds.intersects(this.missingOpeningBracketIds);\n\t}\n\n\tpublic computeMinIndentation(offset: Length, textModel: ITextModel): number {\n\t\treturn Number.MAX_SAFE_INTEGER;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}