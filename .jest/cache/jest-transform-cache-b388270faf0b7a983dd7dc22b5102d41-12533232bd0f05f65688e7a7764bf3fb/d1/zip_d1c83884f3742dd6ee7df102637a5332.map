{"version":3,"names":["cov_1vzd49wkl0","actualCoverage","createWriteStream","promises","createCancelablePromise","Sequencer","path","assertReturnsDefined","Promises","nls","CorruptZipMessage","s","CORRUPT_ZIP_PATTERN","RegExp","ExtractError","Error","type","constructor","cause","f","message","b","modeFromEntry","entry","attr","externalFileAttributes","map","mask","reduce","a","toExtractError","err","undefined","test","extractEntry","stream","fileName","mode","targetPath","options","token","dirName","dirname","targetDirName","join","startsWith","Promise","reject","localize","targetFileName","istream","onCancellationRequested","destroy","resolve","mkdir","recursive","then","c","e","isCancellationRequested","once","pipe","error","extractZip","zipfile","last","extractedEntriesCount","listener","cancel","close","throttler","readNextEntry","readEntry","entryCount","on","sourcePathRegex","replace","openZipStream","queue","finally","dispose","openZip","zipFile","lazy","open","lazyEntries","openReadStream","zip","zipPath","files","ZipFile","forEach","contents","addBuffer","Buffer","from","localPath","addFile","end","zipStream","outputStream","extract","sourcePath","promise","overwrite","rm","read","filePath","buffer","buffers","push","concat"],"sources":["/home/user/Desktop/MintMind/src/vs/base/node/zip.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createWriteStream, WriteStream, promises } from 'fs';\nimport { Readable } from 'stream';\nimport { createCancelablePromise, Sequencer } from '../common/async.js';\nimport { CancellationToken } from '../common/cancellation.js';\nimport * as path from '../common/path.js';\nimport { assertReturnsDefined } from '../common/types.js';\nimport { Promises } from './pfs.js';\nimport * as nls from '../../nls.js';\nimport type { Entry, ZipFile } from 'yauzl';\n\nexport const CorruptZipMessage: string = 'end of central directory record signature not found';\nconst CORRUPT_ZIP_PATTERN = new RegExp(CorruptZipMessage);\n\nexport interface IExtractOptions {\n\toverwrite?: boolean;\n\n\t/**\n\t * Source path within the ZIP archive. Only the files contained in this\n\t * path will be extracted.\n\t */\n\tsourcePath?: string;\n}\n\ninterface IOptions {\n\tsourcePathRegex: RegExp;\n}\n\nexport type ExtractErrorType = 'CorruptZip' | 'Incomplete';\n\nexport class ExtractError extends Error {\n\n\treadonly type?: ExtractErrorType;\n\n\tconstructor(type: ExtractErrorType | undefined, cause: Error) {\n\t\tlet message = cause.message;\n\n\t\tswitch (type) {\n\t\t\tcase 'CorruptZip': message = `Corrupt ZIP: ${message}`; break;\n\t\t}\n\n\t\tsuper(message);\n\t\tthis.type = type;\n\t\tthis.cause = cause;\n\t}\n}\n\nfunction modeFromEntry(entry: Entry) {\n\tconst attr = entry.externalFileAttributes >> 16 || 33188;\n\n\treturn [448 /* S_IRWXU */, 56 /* S_IRWXG */, 7 /* S_IRWXO */]\n\t\t.map(mask => attr & mask)\n\t\t.reduce((a, b) => a + b, attr & 61440 /* S_IFMT */);\n}\n\nfunction toExtractError(err: Error): ExtractError {\n\tif (err instanceof ExtractError) {\n\t\treturn err;\n\t}\n\n\tlet type: ExtractErrorType | undefined = undefined;\n\n\tif (CORRUPT_ZIP_PATTERN.test(err.message)) {\n\t\ttype = 'CorruptZip';\n\t}\n\n\treturn new ExtractError(type, err);\n}\n\nfunction extractEntry(stream: Readable, fileName: string, mode: number, targetPath: string, options: IOptions, token: CancellationToken): Promise<void> {\n\tconst dirName = path.dirname(fileName);\n\tconst targetDirName = path.join(targetPath, dirName);\n\tif (!targetDirName.startsWith(targetPath)) {\n\t\treturn Promise.reject(new Error(nls.localize('invalid file', \"Error extracting {0}. Invalid file.\", fileName)));\n\t}\n\tconst targetFileName = path.join(targetPath, fileName);\n\n\tlet istream: WriteStream;\n\n\ttoken.onCancellationRequested(() => {\n\t\tistream?.destroy();\n\t});\n\n\treturn Promise.resolve(promises.mkdir(targetDirName, { recursive: true })).then(() => new Promise<void>((c, e) => {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tistream = createWriteStream(targetFileName, { mode });\n\t\t\tistream.once('close', () => c());\n\t\t\tistream.once('error', e);\n\t\t\tstream.once('error', e);\n\t\t\tstream.pipe(istream);\n\t\t} catch (error) {\n\t\t\te(error);\n\t\t}\n\t}));\n}\n\nfunction extractZip(zipfile: ZipFile, targetPath: string, options: IOptions, token: CancellationToken): Promise<void> {\n\tlet last = createCancelablePromise<void>(() => Promise.resolve());\n\tlet extractedEntriesCount = 0;\n\n\tconst listener = token.onCancellationRequested(() => {\n\t\tlast.cancel();\n\t\tzipfile.close();\n\t});\n\n\treturn new Promise<void>((c, e) => {\n\t\tconst throttler = new Sequencer();\n\n\t\tconst readNextEntry = (token: CancellationToken) => {\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\textractedEntriesCount++;\n\t\t\tzipfile.readEntry();\n\t\t};\n\n\t\tzipfile.once('error', e);\n\t\tzipfile.once('close', () => last.then(() => {\n\t\t\tif (token.isCancellationRequested || zipfile.entryCount === extractedEntriesCount) {\n\t\t\t\tc();\n\t\t\t} else {\n\t\t\t\te(new ExtractError('Incomplete', new Error(nls.localize('incompleteExtract', \"Incomplete. Found {0} of {1} entries\", extractedEntriesCount, zipfile.entryCount))));\n\t\t\t}\n\t\t}, e));\n\t\tzipfile.readEntry();\n\t\tzipfile.on('entry', (entry: Entry) => {\n\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!options.sourcePathRegex.test(entry.fileName)) {\n\t\t\t\treadNextEntry(token);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst fileName = entry.fileName.replace(options.sourcePathRegex, '');\n\n\t\t\t// directory file names end with '/'\n\t\t\tif (/\\/$/.test(fileName)) {\n\t\t\t\tconst targetFileName = path.join(targetPath, fileName);\n\t\t\t\tlast = createCancelablePromise(token => promises.mkdir(targetFileName, { recursive: true }).then(() => readNextEntry(token)).then(undefined, e));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst stream = openZipStream(zipfile, entry);\n\t\t\tconst mode = modeFromEntry(entry);\n\n\t\t\tlast = createCancelablePromise(token => throttler.queue(() => stream.then(stream => extractEntry(stream, fileName, mode, targetPath, options, token).then(() => readNextEntry(token)))).then(null, e));\n\t\t});\n\t}).finally(() => listener.dispose());\n}\n\nasync function openZip(zipFile: string, lazy: boolean = false): Promise<ZipFile> {\n\tconst { open } = await import('yauzl');\n\n\treturn new Promise<ZipFile>((resolve, reject) => {\n\t\topen(zipFile, lazy ? { lazyEntries: true } : undefined!, (error: Error | null, zipfile?: ZipFile) => {\n\t\t\tif (error) {\n\t\t\t\treject(toExtractError(error));\n\t\t\t} else {\n\t\t\t\tresolve(assertReturnsDefined(zipfile));\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction openZipStream(zipFile: ZipFile, entry: Entry): Promise<Readable> {\n\treturn new Promise<Readable>((resolve, reject) => {\n\t\tzipFile.openReadStream(entry, (error: Error | null, stream?: Readable) => {\n\t\t\tif (error) {\n\t\t\t\treject(toExtractError(error));\n\t\t\t} else {\n\t\t\t\tresolve(assertReturnsDefined(stream));\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport interface IFile {\n\tpath: string;\n\tcontents?: Buffer | string;\n\tlocalPath?: string;\n}\n\nexport async function zip(zipPath: string, files: IFile[]): Promise<string> {\n\tconst { ZipFile } = await import('yazl');\n\n\treturn new Promise<string>((c, e) => {\n\t\tconst zip = new ZipFile();\n\t\tfiles.forEach(f => {\n\t\t\tif (f.contents) {\n\t\t\t\tzip.addBuffer(typeof f.contents === 'string' ? Buffer.from(f.contents, 'utf8') : f.contents, f.path);\n\t\t\t} else if (f.localPath) {\n\t\t\t\tzip.addFile(f.localPath, f.path);\n\t\t\t}\n\t\t});\n\t\tzip.end();\n\n\t\tconst zipStream = createWriteStream(zipPath);\n\t\tzip.outputStream.pipe(zipStream);\n\n\t\tzip.outputStream.once('error', e);\n\t\tzipStream.once('error', e);\n\t\tzipStream.once('finish', () => c(zipPath));\n\t});\n}\n\nexport function extract(zipPath: string, targetPath: string, options: IExtractOptions = {}, token: CancellationToken): Promise<void> {\n\tconst sourcePathRegex = new RegExp(options.sourcePath ? `^${options.sourcePath}` : '');\n\n\tlet promise = openZip(zipPath, true);\n\n\tif (options.overwrite) {\n\t\tpromise = promise.then(zipfile => Promises.rm(targetPath).then(() => zipfile));\n\t}\n\n\treturn promise.then(zipfile => extractZip(zipfile, targetPath, { sourcePathRegex }, token));\n}\n\nfunction read(zipPath: string, filePath: string): Promise<Readable> {\n\treturn openZip(zipPath).then(zipfile => {\n\t\treturn new Promise<Readable>((c, e) => {\n\t\t\tzipfile.on('entry', (entry: Entry) => {\n\t\t\t\tif (entry.fileName === filePath) {\n\t\t\t\t\topenZipStream(zipfile, entry).then(stream => c(stream), err => e(err));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tzipfile.once('close', () => e(new Error(nls.localize('notFound', \"{0} not found inside zip.\", filePath))));\n\t\t});\n\t});\n}\n\nexport function buffer(zipPath: string, filePath: string): Promise<Buffer> {\n\treturn read(zipPath, filePath).then(stream => {\n\t\treturn new Promise<Buffer>((c, e) => {\n\t\t\tconst buffers: Buffer[] = [];\n\t\t\tstream.once('error', e);\n\t\t\tstream.on('data', (b: Buffer) => buffers.push(b));\n\t\t\tstream.on('end', () => c(Buffer.concat(buffers)));\n\t\t});\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}