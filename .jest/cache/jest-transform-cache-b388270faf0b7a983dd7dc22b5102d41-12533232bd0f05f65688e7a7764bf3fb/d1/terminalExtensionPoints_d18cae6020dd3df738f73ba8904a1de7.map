{"version":3,"names":["cov_1cvjat2etp","actualCoverage","extensionsRegistry","terminalContributionsDescriptor","createDecorator","URI","Emitter","isProposedApiEnabled","isObject","terminalsExtPoint","s","ExtensionsRegistry","registerExtensionPoint","ITerminalContributionService","TerminalContributionService","_terminalProfiles","terminalProfiles","f","_terminalCompletionProviders","terminalCompletionProviders","_onDidChangeTerminalCompletionProviders","onDidChangeTerminalCompletionProviders","event","constructor","setHandler","contributions","map","c","b","value","profiles","filter","p","hasValidTerminalIcon","e","extensionIdentifier","description","identifier","flat","completionProviders","fire","profile","isValidDarkLightIcon","obj","isUri","light","dark","icon"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminal/common/terminalExtensionPoints.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as extensionsRegistry from '../../../services/extensions/common/extensionsRegistry.js';\nimport { terminalContributionsDescriptor } from './terminal.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IExtensionTerminalProfile, ITerminalCompletionProviderContribution, ITerminalContributions, ITerminalProfileContribution } from '../../../../platform/terminal/common/terminal.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { isProposedApiEnabled } from '../../../services/extensions/common/extensions.js';\nimport { isObject } from '../../../../base/common/types.js';\n\n// terminal extension point\nconst terminalsExtPoint = extensionsRegistry.ExtensionsRegistry.registerExtensionPoint<ITerminalContributions>(terminalContributionsDescriptor);\n\nexport interface IExtensionTerminalCompletionProvider extends ITerminalCompletionProviderContribution {\n\textensionIdentifier: string;\n}\n\nexport interface ITerminalContributionService {\n\treadonly _serviceBrand: undefined;\n\n\treadonly terminalProfiles: ReadonlyArray<IExtensionTerminalProfile>;\n\treadonly terminalCompletionProviders: ReadonlyArray<IExtensionTerminalCompletionProvider>;\n\treadonly onDidChangeTerminalCompletionProviders: Event<void>;\n}\n\nexport const ITerminalContributionService = createDecorator<ITerminalContributionService>('terminalContributionsService');\n\nexport class TerminalContributionService implements ITerminalContributionService {\n\tdeclare _serviceBrand: undefined;\n\n\tprivate _terminalProfiles: ReadonlyArray<IExtensionTerminalProfile> = [];\n\tget terminalProfiles() { return this._terminalProfiles; }\n\n\tprivate _terminalCompletionProviders: ReadonlyArray<IExtensionTerminalCompletionProvider> = [];\n\tget terminalCompletionProviders() { return this._terminalCompletionProviders; }\n\n\tprivate readonly _onDidChangeTerminalCompletionProviders = new Emitter<void>();\n\treadonly onDidChangeTerminalCompletionProviders = this._onDidChangeTerminalCompletionProviders.event;\n\n\tconstructor() {\n\t\tterminalsExtPoint.setHandler(contributions => {\n\t\t\tthis._terminalProfiles = contributions.map(c => {\n\t\t\t\treturn c.value?.profiles?.filter(p => hasValidTerminalIcon(p)).map(e => {\n\t\t\t\t\treturn { ...e, extensionIdentifier: c.description.identifier.value };\n\t\t\t\t}) || [];\n\t\t\t}).flat();\n\n\t\t\tthis._terminalCompletionProviders = contributions.map(c => {\n\t\t\t\tif (!isProposedApiEnabled(c.description, 'terminalCompletionProvider')) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t\treturn c.value?.completionProviders?.map(p => {\n\t\t\t\t\treturn { ...p, extensionIdentifier: c.description.identifier.value };\n\t\t\t\t}) || [];\n\t\t\t}).flat();\n\n\t\t\tthis._onDidChangeTerminalCompletionProviders.fire();\n\t\t});\n\t}\n}\n\nfunction hasValidTerminalIcon(profile: ITerminalProfileContribution): boolean {\n\tfunction isValidDarkLightIcon(obj: unknown): obj is { light: URI; dark: URI } {\n\t\treturn (\n\t\t\tisObject(obj) &&\n\t\t\t'light' in obj && URI.isUri(obj.light) &&\n\t\t\t'dark' in obj && URI.isUri(obj.dark)\n\t\t);\n\t}\n\treturn !profile.icon || (\n\t\ttypeof profile.icon === 'string' ||\n\t\tURI.isUri(profile.icon) ||\n\t\tisValidDarkLightIcon(profile.icon)\n\t);\n}\n"],"mappings":"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","ignoreList":[]}