{"version":3,"names":["cov_2gg6fkduyx","actualCoverage","extHostNamedCustomer","id","f","s","ctor","ExtHostCustomersRegistryImpl","INSTANCE","registerNamedCustomer","extHostCustomer","registerCustomer","ExtHostCustomersRegistry","getNamedCustomers","getCustomers","b","_namedCustomers","_customers","constructor","entry","push"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/extensions/common/extHostCustomers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { BrandedService, IConstructorSignature } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ExtensionHostKind } from './extensionHostKind.js';\nimport { IExtensionHostProxy } from './extensionHostProxy.js';\nimport { IInternalExtensionService } from './extensions.js';\nimport { IRPCProtocol, ProxyIdentifier } from './proxyIdentifier.js';\n\nexport interface IExtHostContext extends IRPCProtocol {\n\treadonly remoteAuthority: string | null;\n\treadonly extensionHostKind: ExtensionHostKind;\n}\n\nexport interface IInternalExtHostContext extends IExtHostContext {\n\treadonly internalExtensionService: IInternalExtensionService;\n\t_setExtensionHostProxy(extensionHostProxy: IExtensionHostProxy): void;\n\t_setAllMainProxyIdentifiers(mainProxyIdentifiers: ProxyIdentifier<unknown>[]): void;\n}\n\nexport type IExtHostNamedCustomer<T extends IDisposable> = [ProxyIdentifier<T>, IExtHostCustomerCtor<T>];\n\nexport type IExtHostCustomerCtor<T extends IDisposable> = IConstructorSignature<T, [IExtHostContext]>;\n\nexport function extHostNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>) {\n\treturn function <Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\t\tExtHostCustomersRegistryImpl.INSTANCE.registerNamedCustomer(id, ctor as IExtHostCustomerCtor<T>);\n\t};\n}\n\nexport function extHostCustomer<T extends IDisposable, Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\tExtHostCustomersRegistryImpl.INSTANCE.registerCustomer(ctor as IExtHostCustomerCtor<T>);\n}\n\nexport namespace ExtHostCustomersRegistry {\n\n\texport function getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getNamedCustomers();\n\t}\n\n\texport function getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getCustomers();\n\t}\n}\n\nclass ExtHostCustomersRegistryImpl {\n\n\tpublic static readonly INSTANCE = new ExtHostCustomersRegistryImpl();\n\n\tprivate _namedCustomers: IExtHostNamedCustomer<IDisposable>[];\n\tprivate _customers: IExtHostCustomerCtor<IDisposable>[];\n\n\tconstructor() {\n\t\tthis._namedCustomers = [];\n\t\tthis._customers = [];\n\t}\n\n\tpublic registerNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>, ctor: IExtHostCustomerCtor<T>): void {\n\t\tconst entry: IExtHostNamedCustomer<T> = [id, ctor];\n\t\tthis._namedCustomers.push(entry);\n\t}\n\tpublic getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn this._namedCustomers;\n\t}\n\n\tpublic registerCustomer<T extends IDisposable>(ctor: IExtHostCustomerCtor<T>): void {\n\t\tthis._customers.push(ctor);\n\t}\n\tpublic getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn this._customers;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}