{"version":3,"names":["cov_upxzdq7x2","actualCoverage","compareBy","concatArrays","numberComparator","findLast","assertFn","checkAdjacentItems","BugIndicatingError","Range","LineRangeEdit","MergeEditorLineRange","addLength","lengthBetweenPositions","rangeContainsPosition","rangeIsBeforeOrTouching","LineRangeMapping","inputRange","outputRange","join","mappings","f","s","reduce","acc","cur","b","undefined","constructor","extendInputRange","extendedInputRange","containsRange","startDelta","startLineNumber","endDelta","endLineNumberExclusive","fromLength","length","other","resultingDeltaFromOriginalToModified","toString","addOutputLineDelta","delta","addInputLineDelta","reverse","DocumentLineRangeMap","lineRangeMappings","inputLineCount","betweenOutputs","inputToOutput1","inputToOutput2","alignments","MappingAlignment","compute","map","m","output1Range","output2Range","m1","m2","isBefore","project","lineNumber","lastBefore","r","contains","containingRange","mappedRange","outputLineCount","last","at","diff","output1LineMappings","output2LineMappings","fromInputToOutput1","fromInputToOutput2","compareByStartLineNumber","d","combinedDiffs","source","sort","currentDiffs","Array","deltaFromBaseToInput","pushAndReset","mapping1","mapping2","push","currentInputRange","range","intersectsOrTouches","DetailedLineRangeMapping","inputTextModel","outputTextModel","rangeMappings","RangeMapping","toExclusiveRange","getLineEdit","getOutputLines","getReverseLineEdit","getInputLines","getLines","rangeToString","startColumn","endLineNumber","endColumn","deltaLines","DocumentRangeMap","position","getStartPosition","isBeforeOrEqual","fromPositions","dist","getEndPosition","outputPos","projectRange","start","end","plusRange"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/mergeEditor/browser/model/mapping.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareBy, concatArrays, numberComparator } from '../../../../../base/common/arrays.js';\nimport { findLast } from '../../../../../base/common/arraysFind.js';\nimport { assertFn, checkAdjacentItems } from '../../../../../base/common/assert.js';\nimport { BugIndicatingError } from '../../../../../base/common/errors.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport { LineRangeEdit } from './editing.js';\nimport { MergeEditorLineRange } from './lineRange.js';\nimport { addLength, lengthBetweenPositions, rangeContainsPosition, rangeIsBeforeOrTouching } from './rangeUtils.js';\n\n/**\n * Represents a mapping of an input line range to an output line range.\n*/\nexport class LineRangeMapping {\n\tpublic static join(mappings: readonly LineRangeMapping[]): LineRangeMapping | undefined {\n\t\treturn mappings.reduce<undefined | LineRangeMapping>((acc, cur) => acc ? acc.join(cur) : cur, undefined);\n\t}\n\tconstructor(\n\t\tpublic readonly inputRange: MergeEditorLineRange,\n\t\tpublic readonly outputRange: MergeEditorLineRange\n\t) { }\n\n\tpublic extendInputRange(extendedInputRange: MergeEditorLineRange): LineRangeMapping {\n\t\tif (!extendedInputRange.containsRange(this.inputRange)) {\n\t\t\tthrow new BugIndicatingError();\n\t\t}\n\n\t\tconst startDelta = extendedInputRange.startLineNumber - this.inputRange.startLineNumber;\n\t\tconst endDelta = extendedInputRange.endLineNumberExclusive - this.inputRange.endLineNumberExclusive;\n\t\treturn new LineRangeMapping(\n\t\t\textendedInputRange,\n\t\t\tMergeEditorLineRange.fromLength(\n\t\t\t\tthis.outputRange.startLineNumber + startDelta,\n\t\t\t\tthis.outputRange.length - startDelta + endDelta\n\t\t\t)\n\t\t);\n\t}\n\n\tpublic join(other: LineRangeMapping): LineRangeMapping {\n\t\treturn new LineRangeMapping(\n\t\t\tthis.inputRange.join(other.inputRange),\n\t\t\tthis.outputRange.join(other.outputRange)\n\t\t);\n\t}\n\n\tpublic get resultingDeltaFromOriginalToModified(): number {\n\t\treturn this.outputRange.endLineNumberExclusive - this.inputRange.endLineNumberExclusive;\n\t}\n\n\tpublic toString(): string {\n\t\treturn `${this.inputRange.toString()} -> ${this.outputRange.toString()}`;\n\t}\n\n\tpublic addOutputLineDelta(delta: number): LineRangeMapping {\n\t\treturn new LineRangeMapping(\n\t\t\tthis.inputRange,\n\t\t\tthis.outputRange.delta(delta)\n\t\t);\n\t}\n\n\tpublic addInputLineDelta(delta: number): LineRangeMapping {\n\t\treturn new LineRangeMapping(\n\t\t\tthis.inputRange.delta(delta),\n\t\t\tthis.outputRange\n\t\t);\n\t}\n\n\tpublic reverse(): LineRangeMapping {\n\t\treturn new LineRangeMapping(this.outputRange, this.inputRange);\n\t}\n}\n\n/**\n* Represents a total monotonous mapping of line ranges in one document to another document.\n*/\nexport class DocumentLineRangeMap {\n\tpublic static betweenOutputs(\n\t\tinputToOutput1: readonly LineRangeMapping[],\n\t\tinputToOutput2: readonly LineRangeMapping[],\n\t\tinputLineCount: number\n\t): DocumentLineRangeMap {\n\t\tconst alignments = MappingAlignment.compute(inputToOutput1, inputToOutput2);\n\t\tconst mappings = alignments.map((m) => new LineRangeMapping(m.output1Range, m.output2Range));\n\t\treturn new DocumentLineRangeMap(mappings, inputLineCount);\n\t}\n\n\tconstructor(\n\t\t/**\n\t\t * The line range mappings that define this document mapping.\n\t\t * The space between two input ranges must equal the space between two output ranges.\n\t\t * These holes act as dense sequence of 1:1 line mappings.\n\t\t*/\n\t\tpublic readonly lineRangeMappings: LineRangeMapping[],\n\t\tpublic readonly inputLineCount: number\n\t) {\n\t\tassertFn(() => {\n\t\t\treturn checkAdjacentItems(lineRangeMappings,\n\t\t\t\t(m1, m2) => m1.inputRange.isBefore(m2.inputRange) && m1.outputRange.isBefore(m2.outputRange) &&\n\t\t\t\t\tm2.inputRange.startLineNumber - m1.inputRange.endLineNumberExclusive === m2.outputRange.startLineNumber - m1.outputRange.endLineNumberExclusive,\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic project(lineNumber: number): LineRangeMapping {\n\t\tconst lastBefore = findLast(this.lineRangeMappings, r => r.inputRange.startLineNumber <= lineNumber);\n\t\tif (!lastBefore) {\n\t\t\treturn new LineRangeMapping(\n\t\t\t\tMergeEditorLineRange.fromLength(lineNumber, 1),\n\t\t\t\tMergeEditorLineRange.fromLength(lineNumber, 1)\n\t\t\t);\n\t\t}\n\n\t\tif (lastBefore.inputRange.contains(lineNumber)) {\n\t\t\treturn lastBefore;\n\t\t}\n\t\tconst containingRange = MergeEditorLineRange.fromLength(lineNumber, 1);\n\t\tconst mappedRange = MergeEditorLineRange.fromLength(\n\t\t\tlineNumber +\n\t\t\tlastBefore.outputRange.endLineNumberExclusive -\n\t\t\tlastBefore.inputRange.endLineNumberExclusive,\n\t\t\t1\n\t\t);\n\t\treturn new LineRangeMapping(containingRange, mappedRange);\n\t}\n\n\tpublic get outputLineCount(): number {\n\t\tconst last = this.lineRangeMappings.at(-1);\n\t\tconst diff = last ? last.outputRange.endLineNumberExclusive - last.inputRange.endLineNumberExclusive : 0;\n\t\treturn this.inputLineCount + diff;\n\t}\n\n\tpublic reverse(): DocumentLineRangeMap {\n\t\treturn new DocumentLineRangeMap(\n\t\t\tthis.lineRangeMappings.map(r => r.reverse()),\n\t\t\tthis.outputLineCount\n\t\t);\n\t}\n}\n\n/**\n * Aligns two mappings with a common input range.\n */\nexport class MappingAlignment<T extends LineRangeMapping> {\n\tpublic static compute<T extends LineRangeMapping>(\n\t\tfromInputToOutput1: readonly T[],\n\t\tfromInputToOutput2: readonly T[]\n\t): MappingAlignment<T>[] {\n\t\tconst compareByStartLineNumber = compareBy<LineRangeMapping, number>(\n\t\t\t(d) => d.inputRange.startLineNumber,\n\t\t\tnumberComparator\n\t\t);\n\n\t\tconst combinedDiffs = concatArrays(\n\t\t\tfromInputToOutput1.map((diff) => ({ source: 0 as const, diff })),\n\t\t\tfromInputToOutput2.map((diff) => ({ source: 1 as const, diff }))\n\t\t).sort(compareBy((d) => d.diff, compareByStartLineNumber));\n\n\t\tconst currentDiffs = [new Array<T>(), new Array<T>()];\n\t\tconst deltaFromBaseToInput = [0, 0];\n\n\t\tconst alignments = new Array<MappingAlignment<T>>();\n\n\t\tfunction pushAndReset(inputRange: MergeEditorLineRange) {\n\t\t\tconst mapping1 = LineRangeMapping.join(currentDiffs[0]) || new LineRangeMapping(inputRange, inputRange.delta(deltaFromBaseToInput[0]));\n\t\t\tconst mapping2 = LineRangeMapping.join(currentDiffs[1]) || new LineRangeMapping(inputRange, inputRange.delta(deltaFromBaseToInput[1]));\n\n\t\t\talignments.push(\n\t\t\t\tnew MappingAlignment(\n\t\t\t\t\tcurrentInputRange!,\n\t\t\t\t\tmapping1.extendInputRange(currentInputRange!).outputRange,\n\t\t\t\t\tcurrentDiffs[0],\n\t\t\t\t\tmapping2.extendInputRange(currentInputRange!).outputRange,\n\t\t\t\t\tcurrentDiffs[1]\n\t\t\t\t)\n\t\t\t);\n\t\t\tcurrentDiffs[0] = [];\n\t\t\tcurrentDiffs[1] = [];\n\t\t}\n\n\t\tlet currentInputRange: MergeEditorLineRange | undefined;\n\n\t\tfor (const diff of combinedDiffs) {\n\t\t\tconst range = diff.diff.inputRange;\n\t\t\tif (currentInputRange && !currentInputRange.intersectsOrTouches(range)) {\n\t\t\t\tpushAndReset(currentInputRange);\n\t\t\t\tcurrentInputRange = undefined;\n\t\t\t}\n\t\t\tdeltaFromBaseToInput[diff.source] =\n\t\t\t\tdiff.diff.resultingDeltaFromOriginalToModified;\n\t\t\tcurrentInputRange = currentInputRange ? currentInputRange.join(range) : range;\n\t\t\tcurrentDiffs[diff.source].push(diff.diff);\n\t\t}\n\t\tif (currentInputRange) {\n\t\t\tpushAndReset(currentInputRange);\n\t\t}\n\n\t\treturn alignments;\n\t}\n\n\tconstructor(\n\t\tpublic readonly inputRange: MergeEditorLineRange,\n\t\tpublic readonly output1Range: MergeEditorLineRange,\n\t\tpublic readonly output1LineMappings: T[],\n\t\tpublic readonly output2Range: MergeEditorLineRange,\n\t\tpublic readonly output2LineMappings: T[],\n\t) {\n\t}\n\n\tpublic toString(): string {\n\t\treturn `${this.output1Range} <- ${this.inputRange} -> ${this.output2Range}`;\n\t}\n}\n\n/**\n * A line range mapping with inner range mappings.\n*/\nexport class DetailedLineRangeMapping extends LineRangeMapping {\n\tpublic static override join(mappings: readonly DetailedLineRangeMapping[]): DetailedLineRangeMapping | undefined {\n\t\treturn mappings.reduce<undefined | DetailedLineRangeMapping>((acc, cur) => acc ? acc.join(cur) : cur, undefined);\n\t}\n\n\tpublic readonly rangeMappings: readonly RangeMapping[];\n\n\tconstructor(\n\t\tinputRange: MergeEditorLineRange,\n\t\tpublic readonly inputTextModel: ITextModel,\n\t\toutputRange: MergeEditorLineRange,\n\t\tpublic readonly outputTextModel: ITextModel,\n\t\trangeMappings?: readonly RangeMapping[],\n\t) {\n\t\tsuper(inputRange, outputRange);\n\n\t\tthis.rangeMappings = rangeMappings || [new RangeMapping(this.inputRange.toExclusiveRange(), this.outputRange.toExclusiveRange())];\n\t}\n\n\tpublic override addOutputLineDelta(delta: number): DetailedLineRangeMapping {\n\t\treturn new DetailedLineRangeMapping(\n\t\t\tthis.inputRange,\n\t\t\tthis.inputTextModel,\n\t\t\tthis.outputRange.delta(delta),\n\t\t\tthis.outputTextModel,\n\t\t\tthis.rangeMappings.map(d => d.addOutputLineDelta(delta))\n\t\t);\n\t}\n\n\tpublic override addInputLineDelta(delta: number): DetailedLineRangeMapping {\n\t\treturn new DetailedLineRangeMapping(\n\t\t\tthis.inputRange.delta(delta),\n\t\t\tthis.inputTextModel,\n\t\t\tthis.outputRange,\n\t\t\tthis.outputTextModel,\n\t\t\tthis.rangeMappings.map(d => d.addInputLineDelta(delta))\n\t\t);\n\t}\n\n\tpublic override join(other: DetailedLineRangeMapping): DetailedLineRangeMapping {\n\t\treturn new DetailedLineRangeMapping(\n\t\t\tthis.inputRange.join(other.inputRange),\n\t\t\tthis.inputTextModel,\n\t\t\tthis.outputRange.join(other.outputRange),\n\t\t\tthis.outputTextModel,\n\t\t);\n\t}\n\n\tpublic getLineEdit(): LineRangeEdit {\n\t\treturn new LineRangeEdit(this.inputRange, this.getOutputLines());\n\t}\n\n\tpublic getReverseLineEdit(): LineRangeEdit {\n\t\treturn new LineRangeEdit(this.outputRange, this.getInputLines());\n\t}\n\n\tprivate getOutputLines(): string[] {\n\t\treturn this.outputRange.getLines(this.outputTextModel);\n\t}\n\n\tprivate getInputLines(): string[] {\n\t\treturn this.inputRange.getLines(this.inputTextModel);\n\t}\n}\n\n/**\n * Represents a mapping of an input range to an output range.\n*/\nexport class RangeMapping {\n\tconstructor(public readonly inputRange: Range, public readonly outputRange: Range) {\n\t}\n\ttoString(): string {\n\t\tfunction rangeToString(range: Range) {\n\t\t\t// TODO@hediet make this the default Range.toString\n\t\t\treturn `[${range.startLineNumber}:${range.startColumn}, ${range.endLineNumber}:${range.endColumn})`;\n\t\t}\n\n\t\treturn `${rangeToString(this.inputRange)} -> ${rangeToString(this.outputRange)}`;\n\t}\n\n\taddOutputLineDelta(deltaLines: number): RangeMapping {\n\t\treturn new RangeMapping(\n\t\t\tthis.inputRange,\n\t\t\tnew Range(\n\t\t\t\tthis.outputRange.startLineNumber + deltaLines,\n\t\t\t\tthis.outputRange.startColumn,\n\t\t\t\tthis.outputRange.endLineNumber + deltaLines,\n\t\t\t\tthis.outputRange.endColumn\n\t\t\t)\n\t\t);\n\t}\n\n\taddInputLineDelta(deltaLines: number): RangeMapping {\n\t\treturn new RangeMapping(\n\t\t\tnew Range(\n\t\t\t\tthis.inputRange.startLineNumber + deltaLines,\n\t\t\t\tthis.inputRange.startColumn,\n\t\t\t\tthis.inputRange.endLineNumber + deltaLines,\n\t\t\t\tthis.inputRange.endColumn\n\t\t\t),\n\t\t\tthis.outputRange,\n\t\t);\n\t}\n\n\treverse(): RangeMapping {\n\t\treturn new RangeMapping(this.outputRange, this.inputRange);\n\t}\n}\n\n/**\n* Represents a total monotonous mapping of ranges in one document to another document.\n*/\nexport class DocumentRangeMap {\n\tconstructor(\n\t\t/**\n\t\t * The line range mappings that define this document mapping.\n\t\t * Can have holes.\n\t\t*/\n\t\tpublic readonly rangeMappings: RangeMapping[],\n\t\tpublic readonly inputLineCount: number\n\t) {\n\t\tassertFn(() => checkAdjacentItems(\n\t\t\trangeMappings,\n\t\t\t(m1, m2) =>\n\t\t\t\trangeIsBeforeOrTouching(m1.inputRange, m2.inputRange) &&\n\t\t\t\trangeIsBeforeOrTouching(m1.outputRange, m2.outputRange) /*&&\n\t\t\t\tlengthBetweenPositions(m1.inputRange.getEndPosition(), m2.inputRange.getStartPosition()).equals(\n\t\t\t\t\tlengthBetweenPositions(m1.outputRange.getEndPosition(), m2.outputRange.getStartPosition())\n\t\t\t\t)*/\n\t\t));\n\t}\n\n\tpublic project(position: Position): RangeMapping {\n\t\tconst lastBefore = findLast(this.rangeMappings, r => r.inputRange.getStartPosition().isBeforeOrEqual(position));\n\t\tif (!lastBefore) {\n\t\t\treturn new RangeMapping(\n\t\t\t\tRange.fromPositions(position, position),\n\t\t\t\tRange.fromPositions(position, position)\n\t\t\t);\n\t\t}\n\n\t\tif (rangeContainsPosition(lastBefore.inputRange, position)) {\n\t\t\treturn lastBefore;\n\t\t}\n\n\t\tconst dist = lengthBetweenPositions(lastBefore.inputRange.getEndPosition(), position);\n\t\tconst outputPos = addLength(lastBefore.outputRange.getEndPosition(), dist);\n\n\t\treturn new RangeMapping(\n\t\t\tRange.fromPositions(position),\n\t\t\tRange.fromPositions(outputPos)\n\t\t);\n\t}\n\n\tpublic projectRange(range: Range): RangeMapping {\n\t\tconst start = this.project(range.getStartPosition());\n\t\tconst end = this.project(range.getEndPosition());\n\t\treturn new RangeMapping(\n\t\t\tstart.inputRange.plusRange(end.inputRange),\n\t\t\tstart.outputRange.plusRange(end.outputRange)\n\t\t);\n\t}\n\n\tpublic get outputLineCount(): number {\n\t\tconst last = this.rangeMappings.at(-1);\n\t\tconst diff = last ? last.outputRange.endLineNumber - last.inputRange.endLineNumber : 0;\n\t\treturn this.inputLineCount + diff;\n\t}\n\n\tpublic reverse(): DocumentRangeMap {\n\t\treturn new DocumentRangeMap(\n\t\t\tthis.rangeMappings.map(m => m.reverse()),\n\t\t\tthis.outputLineCount\n\t\t);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}