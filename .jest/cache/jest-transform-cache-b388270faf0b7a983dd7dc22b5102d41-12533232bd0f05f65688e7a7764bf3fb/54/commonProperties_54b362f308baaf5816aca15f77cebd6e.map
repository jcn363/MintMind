{"version":3,"names":["cov_225vhpgsw3","actualCoverage","isLinuxSnap","platform","PlatformToString","env","nodePlatform","generateUuid","getPlatformDetail","hostname","f","s","b","test","undefined","resolveCommonProperties","release","arch","commit","version","machineId","sqmId","devDeviceId","isInternalTelemetry","releaseDate","product","result","Object","create","Date","now","replace","seq","startTime","defineProperties","get","enumerable","platformDetail","verifyMicrosoftInternalDomain","domainList","userDnsDomain","domain","toLowerCase","some","msftDomain"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/telemetry/common/commonProperties.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isLinuxSnap, platform, Platform, PlatformToString } from '../../../base/common/platform.js';\nimport { env, platform as nodePlatform } from '../../../base/common/process.js';\nimport { generateUuid } from '../../../base/common/uuid.js';\nimport { ICommonProperties } from './telemetry.js';\n\nfunction getPlatformDetail(hostname: string): string | undefined {\n\tif (platform === Platform.Linux && /^penguin(\\.|$)/i.test(hostname)) {\n\t\treturn 'chromebook';\n\t}\n\n\treturn undefined;\n}\n\nexport function resolveCommonProperties(\n\trelease: string,\n\thostname: string,\n\tarch: string,\n\tcommit: string | undefined,\n\tversion: string | undefined,\n\tmachineId: string | undefined,\n\tsqmId: string | undefined,\n\tdevDeviceId: string | undefined,\n\tisInternalTelemetry: boolean,\n\treleaseDate: string | undefined,\n\tproduct?: string,\n): ICommonProperties {\n\tconst result: ICommonProperties = Object.create(null);\n\n\t// __GDPR__COMMON__ \"common.machineId\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\n\tresult['common.machineId'] = machineId;\n\t// __GDPR__COMMON__ \"common.sqmId\" : { \"endPoint\": \"SqmMachineId\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"BusinessInsight\" }\n\tresult['common.sqmId'] = sqmId;\n\t// __GDPR__COMMON__ \"common.devDeviceId\" : { \"endPoint\": \"SqmMachineId\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"BusinessInsight\" }\n\tresult['common.devDeviceId'] = devDeviceId;\n\t// __GDPR__COMMON__ \"sessionID\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\tresult['sessionID'] = generateUuid() + Date.now();\n\t// __GDPR__COMMON__ \"commitHash\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"PerformanceAndHealth\" }\n\tresult['commitHash'] = commit;\n\t// __GDPR__COMMON__ \"version\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\tresult['version'] = version;\n\t// __GDPR__COMMON__ \"common.releaseDate\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\tresult['common.releaseDate'] = releaseDate;\n\t// __GDPR__COMMON__ \"common.platformVersion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\tresult['common.platformVersion'] = (release || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\n\t// __GDPR__COMMON__ \"common.platform\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\tresult['common.platform'] = PlatformToString(platform);\n\t// __GDPR__COMMON__ \"common.nodePlatform\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"PerformanceAndHealth\" }\n\tresult['common.nodePlatform'] = nodePlatform;\n\t// __GDPR__COMMON__ \"common.nodeArch\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"PerformanceAndHealth\" }\n\tresult['common.nodeArch'] = arch;\n\t// __GDPR__COMMON__ \"common.product\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"PerformanceAndHealth\" }\n\tresult['common.product'] = product || 'desktop';\n\n\tif (isInternalTelemetry) {\n\t\t// __GDPR__COMMON__ \"common.msftInternal\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\tresult['common.msftInternal'] = isInternalTelemetry;\n\t}\n\n\t// dynamic properties which value differs on each call\n\tlet seq = 0;\n\tconst startTime = Date.now();\n\tObject.defineProperties(result, {\n\t\t// __GDPR__COMMON__ \"timestamp\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\t'timestamp': {\n\t\t\tget: () => new Date(),\n\t\t\tenumerable: true\n\t\t},\n\t\t// __GDPR__COMMON__ \"common.timesincesessionstart\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t'common.timesincesessionstart': {\n\t\t\tget: () => Date.now() - startTime,\n\t\t\tenumerable: true\n\t\t},\n\t\t// __GDPR__COMMON__ \"common.sequence\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true }\n\t\t'common.sequence': {\n\t\t\tget: () => seq++,\n\t\t\tenumerable: true\n\t\t}\n\t});\n\n\tif (isLinuxSnap) {\n\t\t// __GDPR__COMMON__ \"common.snap\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\tresult['common.snap'] = 'true';\n\t}\n\n\tconst platformDetail = getPlatformDetail(hostname);\n\n\tif (platformDetail) {\n\t\t// __GDPR__COMMON__ \"common.platformDetail\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\tresult['common.platformDetail'] = platformDetail;\n\t}\n\n\treturn result;\n}\n\nexport function verifyMicrosoftInternalDomain(domainList: readonly string[]): boolean {\n\tconst userDnsDomain = env['USERDNSDOMAIN'];\n\tif (!userDnsDomain) {\n\t\treturn false;\n\t}\n\n\tconst domain = userDnsDomain.toLowerCase();\n\treturn domainList.some(msftDomain => domain === msftDomain);\n}\n"],"mappings":"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","ignoreList":[]}