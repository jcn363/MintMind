{"version":3,"names":["cov_1ca6yvvai","actualCoverage","distinct","parse","visit","applyEdits","setProperty","withFormatting","getEOL","objects","contentUtil","getDisallowedIgnoredSettings","getIgnoredSettings","defaultIgnoredSettings","configurationService","settingsContent","f","value","s","b","getIgnoredSettingsFromContent","getIgnoredSettingsFromConfig","added","removed","Array","isArray","key","startsWith","push","substring","filter","setting","includes","userValue","inspect","undefined","getValue","parsed","removeComments","content","formattingOptions","source","result","Object","keys","edits","updateIgnoredSettings","targetContent","sourceContent","ignoredSettings","length","sourceTree","parseSettings","target","settingsToAdd","sourceValue","targetValue","edit","findSettingNode","sort","a","startOffset","forEach","addSetting","merge","originalLocalContent","originalRemoteContent","baseContent","resolvedConflicts","localContentWithoutIgnoredSettings","localForwarded","remoteForwarded","conflictsSettings","localContent","remoteContent","hasConflicts","isEmpty","areSame","local","remote","base","ignored","reduce","set","add","Set","localToRemote","compare","baseToLocal","baseToRemote","conflicts","Map","handledConflicts","handleConflict","conflictKey","resolvedConflict","localValue","remoteValue","values","updated","has","size","hasLocalChanged","hasRemoteChanged","localTree","node","remoteTree","index","localNode","remoteNode","equals","nodes","from","to","fromKeys","toKeys","r","value1","value2","targetTree","insertLocation","getInsertLocation","insertAtLocation","sourceNodeIndex","findIndex","sourcePreviousNode","targetPreviousSetting","indexOf","insertAfter","sourcePreviousSettingNode","findPreviousSettingNode","targetNextSetting","findNextSettingNode","sourceCommentNodes","findNodesBetween","targetCommentNodes","targetCommentNode","findLastMatchingTargetCommentNode","sourceNextNode","sourceNextSettingNode","reverse","location","tree","getEditToInsertAtLocation","map","newProperty","JSON","stringify","eol","offset","endOffset","nextSettingNode","previousSettingNode","previousSettingCommaOffset","commaOffset","isPreviouisSettingIncludesComment","i","till","fromIndex","tillIndex","sourceComments","targetComments","hierarchyLevel","visitor","onObjectBegin","onObjectProperty","name","onObjectEnd","onArrayBegin","onArrayEnd","onLiteralValue","onSeparator","sep","splice","onComment"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/userDataSync/common/settingsMerge.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { distinct } from '../../../base/common/arrays.js';\nimport { IStringDictionary } from '../../../base/common/collections.js';\nimport { JSONVisitor, parse, visit } from '../../../base/common/json.js';\nimport { applyEdits, setProperty, withFormatting } from '../../../base/common/jsonEdit.js';\nimport { Edit, FormattingOptions, getEOL } from '../../../base/common/jsonFormatter.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport * as contentUtil from './content.js';\nimport { getDisallowedIgnoredSettings, IConflictSetting } from './userDataSync.js';\n\nexport interface IMergeResult {\n\tlocalContent: string | null;\n\tremoteContent: string | null;\n\thasConflicts: boolean;\n\tconflictsSettings: IConflictSetting[];\n}\n\nexport function getIgnoredSettings(defaultIgnoredSettings: string[], configurationService: IConfigurationService, settingsContent?: string): string[] {\n\tlet value: ReadonlyArray<string> = [];\n\tif (settingsContent) {\n\t\tvalue = getIgnoredSettingsFromContent(settingsContent);\n\t} else {\n\t\tvalue = getIgnoredSettingsFromConfig(configurationService);\n\t}\n\tconst added: string[] = [], removed: string[] = [...getDisallowedIgnoredSettings()];\n\tif (Array.isArray(value)) {\n\t\tfor (const key of value) {\n\t\t\tif (key.startsWith('-')) {\n\t\t\t\tremoved.push(key.substring(1));\n\t\t\t} else {\n\t\t\t\tadded.push(key);\n\t\t\t}\n\t\t}\n\t}\n\treturn distinct([...defaultIgnoredSettings, ...added,].filter(setting => !removed.includes(setting)));\n}\n\nfunction getIgnoredSettingsFromConfig(configurationService: IConfigurationService): ReadonlyArray<string> {\n\tlet userValue = configurationService.inspect<string[]>('settingsSync.ignoredSettings').userValue;\n\tif (userValue !== undefined) {\n\t\treturn userValue;\n\t}\n\tuserValue = configurationService.inspect<string[]>('sync.ignoredSettings').userValue;\n\tif (userValue !== undefined) {\n\t\treturn userValue;\n\t}\n\treturn configurationService.getValue<string[]>('settingsSync.ignoredSettings') || [];\n}\n\nfunction getIgnoredSettingsFromContent(settingsContent: string): string[] {\n\tconst parsed = parse(settingsContent);\n\treturn parsed ? parsed['settingsSync.ignoredSettings'] || parsed['sync.ignoredSettings'] || [] : [];\n}\n\nexport function removeComments(content: string, formattingOptions: FormattingOptions): string {\n\tconst source = parse(content) || {};\n\tlet result = '{}';\n\tfor (const key of Object.keys(source)) {\n\t\tconst edits = setProperty(result, [key], source[key], formattingOptions);\n\t\tresult = applyEdits(result, edits);\n\t}\n\treturn result;\n}\n\nexport function updateIgnoredSettings(targetContent: string, sourceContent: string, ignoredSettings: string[], formattingOptions: FormattingOptions): string {\n\tif (ignoredSettings.length) {\n\t\tconst sourceTree = parseSettings(sourceContent);\n\t\tconst source = parse(sourceContent) || {};\n\t\tconst target = parse(targetContent);\n\t\tif (!target) {\n\t\t\treturn targetContent;\n\t\t}\n\t\tconst settingsToAdd: INode[] = [];\n\t\tfor (const key of ignoredSettings) {\n\t\t\tconst sourceValue = source[key];\n\t\t\tconst targetValue = target[key];\n\n\t\t\t// Remove in target\n\t\t\tif (sourceValue === undefined) {\n\t\t\t\ttargetContent = contentUtil.edit(targetContent, [key], undefined, formattingOptions);\n\t\t\t}\n\n\t\t\t// Update in target\n\t\t\telse if (targetValue !== undefined) {\n\t\t\t\ttargetContent = contentUtil.edit(targetContent, [key], sourceValue, formattingOptions);\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\tsettingsToAdd.push(findSettingNode(key, sourceTree)!);\n\t\t\t}\n\t\t}\n\n\t\tsettingsToAdd.sort((a, b) => a.startOffset - b.startOffset);\n\t\tsettingsToAdd.forEach(s => targetContent = addSetting(s.setting!.key, sourceContent, targetContent, formattingOptions));\n\t}\n\treturn targetContent;\n}\n\nexport function merge(originalLocalContent: string, originalRemoteContent: string, baseContent: string | null, ignoredSettings: string[], resolvedConflicts: { key: string; value: any | undefined }[], formattingOptions: FormattingOptions): IMergeResult {\n\n\tconst localContentWithoutIgnoredSettings = updateIgnoredSettings(originalLocalContent, originalRemoteContent, ignoredSettings, formattingOptions);\n\tconst localForwarded = baseContent !== localContentWithoutIgnoredSettings;\n\tconst remoteForwarded = baseContent !== originalRemoteContent;\n\n\t/* no changes */\n\tif (!localForwarded && !remoteForwarded) {\n\t\treturn { conflictsSettings: [], localContent: null, remoteContent: null, hasConflicts: false };\n\t}\n\n\t/* local has changed and remote has not */\n\tif (localForwarded && !remoteForwarded) {\n\t\treturn { conflictsSettings: [], localContent: null, remoteContent: localContentWithoutIgnoredSettings, hasConflicts: false };\n\t}\n\n\t/* remote has changed and local has not */\n\tif (remoteForwarded && !localForwarded) {\n\t\treturn { conflictsSettings: [], localContent: updateIgnoredSettings(originalRemoteContent, originalLocalContent, ignoredSettings, formattingOptions), remoteContent: null, hasConflicts: false };\n\t}\n\n\t/* local is empty and not synced before */\n\tif (baseContent === null && isEmpty(originalLocalContent)) {\n\t\tconst localContent = areSame(originalLocalContent, originalRemoteContent, ignoredSettings) ? null : updateIgnoredSettings(originalRemoteContent, originalLocalContent, ignoredSettings, formattingOptions);\n\t\treturn { conflictsSettings: [], localContent, remoteContent: null, hasConflicts: false };\n\t}\n\n\t/* remote and local has changed */\n\tlet localContent = originalLocalContent;\n\tlet remoteContent = originalRemoteContent;\n\tconst local = parse(originalLocalContent);\n\tconst remote = parse(originalRemoteContent);\n\tconst base = baseContent ? parse(baseContent) : null;\n\n\tconst ignored = ignoredSettings.reduce((set, key) => { set.add(key); return set; }, new Set<string>());\n\tconst localToRemote = compare(local, remote, ignored);\n\tconst baseToLocal = compare(base, local, ignored);\n\tconst baseToRemote = compare(base, remote, ignored);\n\n\tconst conflicts: Map<string, IConflictSetting> = new Map<string, IConflictSetting>();\n\tconst handledConflicts: Set<string> = new Set<string>();\n\tconst handleConflict = (conflictKey: string): void => {\n\t\thandledConflicts.add(conflictKey);\n\t\tconst resolvedConflict = resolvedConflicts.filter(({ key }) => key === conflictKey)[0];\n\t\tif (resolvedConflict) {\n\t\t\tlocalContent = contentUtil.edit(localContent, [conflictKey], resolvedConflict.value, formattingOptions);\n\t\t\tremoteContent = contentUtil.edit(remoteContent, [conflictKey], resolvedConflict.value, formattingOptions);\n\t\t} else {\n\t\t\tconflicts.set(conflictKey, { key: conflictKey, localValue: local[conflictKey], remoteValue: remote[conflictKey] });\n\t\t}\n\t};\n\n\t// Removed settings in Local\n\tfor (const key of baseToLocal.removed.values()) {\n\t\t// Conflict - Got updated in remote.\n\t\tif (baseToRemote.updated.has(key)) {\n\t\t\thandleConflict(key);\n\t\t}\n\t\t// Also remove in remote\n\t\telse {\n\t\t\tremoteContent = contentUtil.edit(remoteContent, [key], undefined, formattingOptions);\n\t\t}\n\t}\n\n\t// Removed settings in Remote\n\tfor (const key of baseToRemote.removed.values()) {\n\t\tif (handledConflicts.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// Conflict - Got updated in local\n\t\tif (baseToLocal.updated.has(key)) {\n\t\t\thandleConflict(key);\n\t\t}\n\t\t// Also remove in locals\n\t\telse {\n\t\t\tlocalContent = contentUtil.edit(localContent, [key], undefined, formattingOptions);\n\t\t}\n\t}\n\n\t// Updated settings in Local\n\tfor (const key of baseToLocal.updated.values()) {\n\t\tif (handledConflicts.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// Got updated in remote\n\t\tif (baseToRemote.updated.has(key)) {\n\t\t\t// Has different value\n\t\t\tif (localToRemote.updated.has(key)) {\n\t\t\t\thandleConflict(key);\n\t\t\t}\n\t\t} else {\n\t\t\tremoteContent = contentUtil.edit(remoteContent, [key], local[key], formattingOptions);\n\t\t}\n\t}\n\n\t// Updated settings in Remote\n\tfor (const key of baseToRemote.updated.values()) {\n\t\tif (handledConflicts.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// Got updated in local\n\t\tif (baseToLocal.updated.has(key)) {\n\t\t\t// Has different value\n\t\t\tif (localToRemote.updated.has(key)) {\n\t\t\t\thandleConflict(key);\n\t\t\t}\n\t\t} else {\n\t\t\tlocalContent = contentUtil.edit(localContent, [key], remote[key], formattingOptions);\n\t\t}\n\t}\n\n\t// Added settings in Local\n\tfor (const key of baseToLocal.added.values()) {\n\t\tif (handledConflicts.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// Got added in remote\n\t\tif (baseToRemote.added.has(key)) {\n\t\t\t// Has different value\n\t\t\tif (localToRemote.updated.has(key)) {\n\t\t\t\thandleConflict(key);\n\t\t\t}\n\t\t} else {\n\t\t\tremoteContent = addSetting(key, localContent, remoteContent, formattingOptions);\n\t\t}\n\t}\n\n\t// Added settings in remote\n\tfor (const key of baseToRemote.added.values()) {\n\t\tif (handledConflicts.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\t// Got added in local\n\t\tif (baseToLocal.added.has(key)) {\n\t\t\t// Has different value\n\t\t\tif (localToRemote.updated.has(key)) {\n\t\t\t\thandleConflict(key);\n\t\t\t}\n\t\t} else {\n\t\t\tlocalContent = addSetting(key, remoteContent, localContent, formattingOptions);\n\t\t}\n\t}\n\n\tconst hasConflicts = conflicts.size > 0 || !areSame(localContent, remoteContent, ignoredSettings);\n\tconst hasLocalChanged = hasConflicts || !areSame(localContent, originalLocalContent, []);\n\tconst hasRemoteChanged = hasConflicts || !areSame(remoteContent, originalRemoteContent, []);\n\treturn { localContent: hasLocalChanged ? localContent : null, remoteContent: hasRemoteChanged ? remoteContent : null, conflictsSettings: [...conflicts.values()], hasConflicts };\n}\n\nfunction areSame(localContent: string, remoteContent: string, ignoredSettings: string[]): boolean {\n\tif (localContent === remoteContent) {\n\t\treturn true;\n\t}\n\n\tconst local = parse(localContent);\n\tconst remote = parse(remoteContent);\n\tconst ignored = ignoredSettings.reduce((set, key) => { set.add(key); return set; }, new Set<string>());\n\tconst localTree = parseSettings(localContent).filter(node => !(node.setting && ignored.has(node.setting.key)));\n\tconst remoteTree = parseSettings(remoteContent).filter(node => !(node.setting && ignored.has(node.setting.key)));\n\n\tif (localTree.length !== remoteTree.length) {\n\t\treturn false;\n\t}\n\n\tfor (let index = 0; index < localTree.length; index++) {\n\t\tconst localNode = localTree[index];\n\t\tconst remoteNode = remoteTree[index];\n\t\tif (localNode.setting && remoteNode.setting) {\n\t\t\tif (localNode.setting.key !== remoteNode.setting.key) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!objects.equals(local[localNode.setting.key], remote[localNode.setting.key])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (!localNode.setting && !remoteNode.setting) {\n\t\t\tif (localNode.value !== remoteNode.value) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function isEmpty(content: string): boolean {\n\tif (content) {\n\t\tconst nodes = parseSettings(content);\n\t\treturn nodes.length === 0;\n\t}\n\treturn true;\n}\n\nfunction compare(from: IStringDictionary<any> | null, to: IStringDictionary<any>, ignored: Set<string>): { added: Set<string>; removed: Set<string>; updated: Set<string> } {\n\tconst fromKeys = from ? Object.keys(from).filter(key => !ignored.has(key)) : [];\n\tconst toKeys = Object.keys(to).filter(key => !ignored.has(key));\n\tconst added = toKeys.filter(key => !fromKeys.includes(key)).reduce((r, key) => { r.add(key); return r; }, new Set<string>());\n\tconst removed = fromKeys.filter(key => !toKeys.includes(key)).reduce((r, key) => { r.add(key); return r; }, new Set<string>());\n\tconst updated: Set<string> = new Set<string>();\n\n\tif (from) {\n\t\tfor (const key of fromKeys) {\n\t\t\tif (removed.has(key)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst value1 = from[key];\n\t\t\tconst value2 = to[key];\n\t\t\tif (!objects.equals(value1, value2)) {\n\t\t\t\tupdated.add(key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { added, removed, updated };\n}\n\nexport function addSetting(key: string, sourceContent: string, targetContent: string, formattingOptions: FormattingOptions): string {\n\tconst source = parse(sourceContent);\n\tconst sourceTree = parseSettings(sourceContent);\n\tconst targetTree = parseSettings(targetContent);\n\tconst insertLocation = getInsertLocation(key, sourceTree, targetTree);\n\treturn insertAtLocation(targetContent, key, source[key], insertLocation, targetTree, formattingOptions);\n}\n\ninterface InsertLocation {\n\tindex: number;\n\tinsertAfter: boolean;\n}\n\nfunction getInsertLocation(key: string, sourceTree: INode[], targetTree: INode[]): InsertLocation {\n\n\tconst sourceNodeIndex = sourceTree.findIndex(node => node.setting?.key === key);\n\n\tconst sourcePreviousNode: INode = sourceTree[sourceNodeIndex - 1];\n\tif (sourcePreviousNode) {\n\t\t/*\n\t\t\tPrevious node in source is a setting.\n\t\t\tFind the same setting in the target.\n\t\t\tInsert it after that setting\n\t\t*/\n\t\tif (sourcePreviousNode.setting) {\n\t\t\tconst targetPreviousSetting = findSettingNode(sourcePreviousNode.setting.key, targetTree);\n\t\t\tif (targetPreviousSetting) {\n\t\t\t\t/* Insert after target's previous setting */\n\t\t\t\treturn { index: targetTree.indexOf(targetPreviousSetting), insertAfter: true };\n\t\t\t}\n\t\t}\n\t\t/* Previous node in source is a comment */\n\t\telse {\n\t\t\tconst sourcePreviousSettingNode = findPreviousSettingNode(sourceNodeIndex, sourceTree);\n\t\t\t/*\n\t\t\t\tSource has a setting defined before the setting to be added.\n\t\t\t\tFind the same previous setting in the target.\n\t\t\t\tIf found, insert before its next setting so that comments are retrieved.\n\t\t\t\tOtherwise, insert at the end.\n\t\t\t*/\n\t\t\tif (sourcePreviousSettingNode) {\n\t\t\t\tconst targetPreviousSetting = findSettingNode(sourcePreviousSettingNode.setting!.key, targetTree);\n\t\t\t\tif (targetPreviousSetting) {\n\t\t\t\t\tconst targetNextSetting = findNextSettingNode(targetTree.indexOf(targetPreviousSetting), targetTree);\n\t\t\t\t\tconst sourceCommentNodes = findNodesBetween(sourceTree, sourcePreviousSettingNode, sourceTree[sourceNodeIndex]);\n\t\t\t\t\tif (targetNextSetting) {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetNextSetting);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetNextSetting), insertAfter: false }; /* Insert before target next setting */\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetTree[targetTree.length - 1]);\n\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes, targetCommentNodes);\n\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: true }; /* Insert after comment */\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { index: targetTree.length - 1, insertAfter: true }; /* Insert at the end */\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst sourceNextNode = sourceTree[sourceNodeIndex + 1];\n\t\tif (sourceNextNode) {\n\t\t\t/*\n\t\t\t\tNext node in source is a setting.\n\t\t\t\tFind the same setting in the target.\n\t\t\t\tInsert it before that setting\n\t\t\t*/\n\t\t\tif (sourceNextNode.setting) {\n\t\t\t\tconst targetNextSetting = findSettingNode(sourceNextNode.setting.key, targetTree);\n\t\t\t\tif (targetNextSetting) {\n\t\t\t\t\t/* Insert before target's next setting */\n\t\t\t\t\treturn { index: targetTree.indexOf(targetNextSetting), insertAfter: false };\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* Next node in source is a comment */\n\t\t\telse {\n\t\t\t\tconst sourceNextSettingNode = findNextSettingNode(sourceNodeIndex, sourceTree);\n\t\t\t\t/*\n\t\t\t\t\tSource has a setting defined after the setting to be added.\n\t\t\t\t\tFind the same next setting in the target.\n\t\t\t\t\tIf found, insert after its previous setting so that comments are retrieved.\n\t\t\t\t\tOtherwise, insert at the beginning.\n\t\t\t\t*/\n\t\t\t\tif (sourceNextSettingNode) {\n\t\t\t\t\tconst targetNextSetting = findSettingNode(sourceNextSettingNode.setting!.key, targetTree);\n\t\t\t\t\tif (targetNextSetting) {\n\t\t\t\t\t\tconst targetPreviousSetting = findPreviousSettingNode(targetTree.indexOf(targetNextSetting), targetTree);\n\t\t\t\t\t\tconst sourceCommentNodes = findNodesBetween(sourceTree, sourceTree[sourceNodeIndex], sourceNextSettingNode);\n\t\t\t\t\t\tif (targetPreviousSetting) {\n\t\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetPreviousSetting, targetNextSetting);\n\t\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes.reverse(), targetCommentNodes.reverse());\n\t\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: false }; /* Insert before comment */\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetPreviousSetting), insertAfter: true }; /* Insert after target previous setting */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst targetCommentNodes = findNodesBetween(targetTree, targetTree[0], targetNextSetting);\n\t\t\t\t\t\t\tconst targetCommentNode = findLastMatchingTargetCommentNode(sourceCommentNodes.reverse(), targetCommentNodes.reverse());\n\t\t\t\t\t\t\tif (targetCommentNode) {\n\t\t\t\t\t\t\t\treturn { index: targetTree.indexOf(targetCommentNode), insertAfter: false }; /* Insert before comment */\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn { index: 0, insertAfter: false }; /* Insert at the beginning */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t/* Insert at the end */\n\treturn { index: targetTree.length - 1, insertAfter: true };\n}\n\nfunction insertAtLocation(content: string, key: string, value: any, location: InsertLocation, tree: INode[], formattingOptions: FormattingOptions): string {\n\tlet edits: Edit[];\n\t/* Insert at the end */\n\tif (location.index === -1) {\n\t\tedits = setProperty(content, [key], value, formattingOptions);\n\t} else {\n\t\tedits = getEditToInsertAtLocation(content, key, value, location, tree, formattingOptions).map(edit => withFormatting(content, edit, formattingOptions)[0]);\n\t}\n\treturn applyEdits(content, edits);\n}\n\nfunction getEditToInsertAtLocation(content: string, key: string, value: any, location: InsertLocation, tree: INode[], formattingOptions: FormattingOptions): Edit[] {\n\tconst newProperty = `${JSON.stringify(key)}: ${JSON.stringify(value)}`;\n\tconst eol = getEOL(formattingOptions, content);\n\tconst node = tree[location.index];\n\n\tif (location.insertAfter) {\n\n\t\tconst edits: Edit[] = [];\n\n\t\t/* Insert after a setting */\n\t\tif (node.setting) {\n\t\t\tedits.push({ offset: node.endOffset, length: 0, content: ',' + newProperty });\n\t\t}\n\n\t\t/* Insert after a comment */\n\t\telse {\n\n\t\t\tconst nextSettingNode = findNextSettingNode(location.index, tree);\n\t\t\tconst previousSettingNode = findPreviousSettingNode(location.index, tree);\n\t\t\tconst previousSettingCommaOffset = previousSettingNode?.setting?.commaOffset;\n\n\t\t\t/* If there is a previous setting and it does not has comma then add it */\n\t\t\tif (previousSettingNode && previousSettingCommaOffset === undefined) {\n\t\t\t\tedits.push({ offset: previousSettingNode.endOffset, length: 0, content: ',' });\n\t\t\t}\n\n\t\t\tconst isPreviouisSettingIncludesComment = previousSettingCommaOffset !== undefined && previousSettingCommaOffset > node.endOffset;\n\t\t\tedits.push({\n\t\t\t\toffset: isPreviouisSettingIncludesComment ? previousSettingCommaOffset + 1 : node.endOffset,\n\t\t\t\tlength: 0,\n\t\t\t\tcontent: nextSettingNode ? eol + newProperty + ',' : eol + newProperty\n\t\t\t});\n\t\t}\n\n\n\t\treturn edits;\n\t}\n\n\telse {\n\n\t\t/* Insert before a setting */\n\t\tif (node.setting) {\n\t\t\treturn [{ offset: node.startOffset, length: 0, content: newProperty + ',' }];\n\t\t}\n\n\t\t/* Insert before a comment */\n\t\tconst content = (tree[location.index - 1] && !tree[location.index - 1].setting /* previous node is comment */ ? eol : '')\n\t\t\t+ newProperty\n\t\t\t+ (findNextSettingNode(location.index, tree) ? ',' : '')\n\t\t\t+ eol;\n\t\treturn [{ offset: node.startOffset, length: 0, content }];\n\t}\n\n}\n\nfunction findSettingNode(key: string, tree: INode[]): INode | undefined {\n\treturn tree.filter(node => node.setting?.key === key)[0];\n}\n\nfunction findPreviousSettingNode(index: number, tree: INode[]): INode | undefined {\n\tfor (let i = index - 1; i >= 0; i--) {\n\t\tif (tree[i].setting) {\n\t\t\treturn tree[i];\n\t\t}\n\t}\n\treturn undefined;\n}\n\nfunction findNextSettingNode(index: number, tree: INode[]): INode | undefined {\n\tfor (let i = index + 1; i < tree.length; i++) {\n\t\tif (tree[i].setting) {\n\t\t\treturn tree[i];\n\t\t}\n\t}\n\treturn undefined;\n}\n\nfunction findNodesBetween(nodes: INode[], from: INode, till: INode): INode[] {\n\tconst fromIndex = nodes.indexOf(from);\n\tconst tillIndex = nodes.indexOf(till);\n\treturn nodes.filter((node, index) => fromIndex < index && index < tillIndex);\n}\n\nfunction findLastMatchingTargetCommentNode(sourceComments: INode[], targetComments: INode[]): INode | undefined {\n\tif (sourceComments.length && targetComments.length) {\n\t\tlet index = 0;\n\t\tfor (; index < targetComments.length && index < sourceComments.length; index++) {\n\t\t\tif (sourceComments[index].value !== targetComments[index].value) {\n\t\t\t\treturn targetComments[index - 1];\n\t\t\t}\n\t\t}\n\t\treturn targetComments[index - 1];\n\t}\n\treturn undefined;\n}\n\ninterface INode {\n\treadonly startOffset: number;\n\treadonly endOffset: number;\n\treadonly value: string;\n\treadonly setting?: {\n\t\treadonly key: string;\n\t\treadonly commaOffset: number | undefined;\n\t};\n\treadonly comment?: string;\n}\n\nfunction parseSettings(content: string): INode[] {\n\tconst nodes: INode[] = [];\n\tlet hierarchyLevel = -1;\n\tlet startOffset: number;\n\tlet key: string;\n\n\tconst visitor: JSONVisitor = {\n\t\tonObjectBegin: (offset: number) => {\n\t\t\thierarchyLevel++;\n\t\t},\n\t\tonObjectProperty: (name: string, offset: number, length: number) => {\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\t// this is setting key\n\t\t\t\tstartOffset = offset;\n\t\t\t\tkey = name;\n\t\t\t}\n\t\t},\n\t\tonObjectEnd: (offset: number, length: number) => {\n\t\t\thierarchyLevel--;\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\tnodes.push({\n\t\t\t\t\tstartOffset,\n\t\t\t\t\tendOffset: offset + length,\n\t\t\t\t\tvalue: content.substring(startOffset, offset + length),\n\t\t\t\t\tsetting: {\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tcommaOffset: undefined\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonArrayBegin: (offset: number, length: number) => {\n\t\t\thierarchyLevel++;\n\t\t},\n\t\tonArrayEnd: (offset: number, length: number) => {\n\t\t\thierarchyLevel--;\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\tnodes.push({\n\t\t\t\t\tstartOffset,\n\t\t\t\t\tendOffset: offset + length,\n\t\t\t\t\tvalue: content.substring(startOffset, offset + length),\n\t\t\t\t\tsetting: {\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tcommaOffset: undefined\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonLiteralValue: (value: any, offset: number, length: number) => {\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\tnodes.push({\n\t\t\t\t\tstartOffset,\n\t\t\t\t\tendOffset: offset + length,\n\t\t\t\t\tvalue: content.substring(startOffset, offset + length),\n\t\t\t\t\tsetting: {\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tcommaOffset: undefined\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tonSeparator: (sep: string, offset: number, length: number) => {\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\tif (sep === ',') {\n\t\t\t\t\tlet index = nodes.length - 1;\n\t\t\t\t\tfor (; index >= 0; index--) {\n\t\t\t\t\t\tif (nodes[index].setting) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst node = nodes[index];\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tnodes.splice(index, 1, {\n\t\t\t\t\t\t\tstartOffset: node.startOffset,\n\t\t\t\t\t\t\tendOffset: node.endOffset,\n\t\t\t\t\t\t\tvalue: node.value,\n\t\t\t\t\t\t\tsetting: {\n\t\t\t\t\t\t\t\tkey: node.setting!.key,\n\t\t\t\t\t\t\t\tcommaOffset: offset\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonComment: (offset: number, length: number) => {\n\t\t\tif (hierarchyLevel === 0) {\n\t\t\t\tnodes.push({\n\t\t\t\t\tstartOffset: offset,\n\t\t\t\t\tendOffset: offset + length,\n\t\t\t\t\tvalue: content.substring(offset, offset + length),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\tvisit(content, visitor);\n\treturn nodes;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}