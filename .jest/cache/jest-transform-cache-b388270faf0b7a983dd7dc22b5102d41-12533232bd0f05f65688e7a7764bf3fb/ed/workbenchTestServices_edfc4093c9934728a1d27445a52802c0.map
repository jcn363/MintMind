{"version":3,"names":["cov_2397txku3f","actualCoverage","Promises","Event","Emitter","TestLifecycleMainService","_serviceBrand","onBeforeShutdown","s","None","_onWillShutdown","onWillShutdown","event","fireOnWillShutdown","f","joiners","fire","reason","join","id","promise","push","settled","onWillLoadWindow","onBeforeCloseWindow","wasRestarted","quitRequested","phase","registerWindow","window","registerAuxWindow","auxWindow","reload","cli","unload","setRelaunchHandler","handler","relaunch","options","quit","willRestart","kill","code","when","InMemoryTestStateMainService","data","Map","setItem","key","set","setItems","items","getItem","get","removeItem","delete","close"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/test/electron-main/workbenchTestServices.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Promises } from '../../../base/common/async.js';\nimport { Event, Emitter } from '../../../base/common/event.js';\nimport { IAuxiliaryWindow } from '../../auxiliaryWindow/electron-main/auxiliaryWindow.js';\nimport { NativeParsedArgs } from '../../environment/common/argv.js';\nimport { ILifecycleMainService, IRelaunchHandler, LifecycleMainPhase, ShutdownEvent, ShutdownReason } from '../../lifecycle/electron-main/lifecycleMainService.js';\nimport { IStateService } from '../../state/node/state.js';\nimport { ICodeWindow, UnloadReason } from '../../window/electron-main/window.js';\n\nexport class TestLifecycleMainService implements ILifecycleMainService {\n\n\t_serviceBrand: undefined;\n\n\tonBeforeShutdown = Event.None;\n\n\tprivate readonly _onWillShutdown = new Emitter<ShutdownEvent>();\n\treadonly onWillShutdown = this._onWillShutdown.event;\n\n\tasync fireOnWillShutdown(): Promise<void> {\n\t\tconst joiners: Promise<void>[] = [];\n\n\t\tthis._onWillShutdown.fire({\n\t\t\treason: ShutdownReason.QUIT,\n\t\t\tjoin(id, promise) {\n\t\t\t\tjoiners.push(promise);\n\t\t\t}\n\t\t});\n\n\t\tawait Promises.settled(joiners);\n\t}\n\n\tonWillLoadWindow = Event.None;\n\tonBeforeCloseWindow = Event.None;\n\n\twasRestarted = false;\n\tquitRequested = false;\n\n\tphase = LifecycleMainPhase.Ready;\n\n\tregisterWindow(window: ICodeWindow): void { }\n\tregisterAuxWindow(auxWindow: IAuxiliaryWindow): void { }\n\tasync reload(window: ICodeWindow, cli?: NativeParsedArgs): Promise<void> { }\n\tasync unload(window: ICodeWindow, reason: UnloadReason): Promise<boolean> { return true; }\n\tsetRelaunchHandler(handler: IRelaunchHandler): void { }\n\tasync relaunch(options?: { addArgs?: string[] | undefined; removeArgs?: string[] | undefined }): Promise<void> { }\n\tasync quit(willRestart?: boolean): Promise<boolean> { return true; }\n\tasync kill(code?: number): Promise<void> { }\n\tasync when(phase: LifecycleMainPhase): Promise<void> { }\n}\n\nexport class InMemoryTestStateMainService implements IStateService {\n\n\t_serviceBrand: undefined;\n\n\tprivate readonly data = new Map<string, object | string | number | boolean | undefined | null>();\n\n\tsetItem(key: string, data?: object | string | number | boolean | undefined | null): void {\n\t\tthis.data.set(key, data);\n\t}\n\n\tsetItems(items: readonly { key: string; data?: object | string | number | boolean | undefined | null }[]): void {\n\t\tfor (const { key, data } of items) {\n\t\t\tthis.data.set(key, data);\n\t\t}\n\t}\n\n\tgetItem<T>(key: string): T | undefined {\n\t\treturn this.data.get(key) as T | undefined;\n\t}\n\n\tremoveItem(key: string): void {\n\t\tthis.data.delete(key);\n\t}\n\n\tasync close(): Promise<void> { }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA2BG;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA3BH;;;;AAKA,SAASE,QAAQ,QAAQ,+BAA+B;AACxD,SAASC,KAAK,EAAEC,OAAO,QAAQ,+BAA+B;AAO9D,OAAM,MAAOC,wBAAwB;EAEpCC,aAAa;EAEbC,gBAAgB;EAAA;EAAA,CAAAP,cAAA,GAAAQ,CAAA,OAAGL,KAAK,CAACM,IAAI;EAEZC,eAAe;EAAA;EAAA,CAAAV,cAAA,GAAAQ,CAAA,OAAG,IAAIJ,OAAO,EAAiB;EACtDO,cAAc;EAAA;EAAA,CAAAX,cAAA,GAAAQ,CAAA,OAAG,IAAI,CAACE,eAAe,CAACE,KAAK;EAEpD,MAAMC,kBAAkBA,CAAA;IAAA;IAAAb,cAAA,GAAAc,CAAA;IACvB,MAAMC,OAAO;IAAA;IAAA,CAAAf,cAAA,GAAAQ,CAAA,OAAoB,EAAE;IAAC;IAAAR,cAAA,GAAAQ,CAAA;IAEpC,IAAI,CAACE,eAAe,CAACM,IAAI,CAAC;MACzBC,MAAM;MACNC,IAAIA,CAACC,EAAE,EAAEC,OAAO;QAAA;QAAApB,cAAA,GAAAc,CAAA;QAAAd,cAAA,GAAAQ,CAAA;QACfO,OAAO,CAACM,IAAI,CAACD,OAAO,CAAC;MACtB;KACA,CAAC;IAAC;IAAApB,cAAA,GAAAQ,CAAA;IAEH,MAAMN,QAAQ,CAACoB,OAAO,CAACP,OAAO,CAAC;EAChC;EAEAQ,gBAAgB;EAAA;EAAA,CAAAvB,cAAA,GAAAQ,CAAA,OAAGL,KAAK,CAACM,IAAI;EAC7Be,mBAAmB;EAAA;EAAA,CAAAxB,cAAA,GAAAQ,CAAA,OAAGL,KAAK,CAACM,IAAI;EAEhCgB,YAAY;EAAA;EAAA,CAAAzB,cAAA,GAAAQ,CAAA,OAAG,KAAK;EACpBkB,aAAa;EAAA;EAAA,CAAA1B,cAAA,GAAAQ,CAAA,QAAG,KAAK;EAErBmB,KAAK;EAAA;EAAA,CAAA3B,cAAA,GAAAQ,CAAA;EAELoB,cAAcA,CAACC,MAAmB;IAAA;IAAA7B,cAAA,GAAAc,CAAA;EAAU;EAC5CgB,iBAAiBA,CAACC,SAA2B;IAAA;IAAA/B,cAAA,GAAAc,CAAA;EAAU;EACvD,MAAMkB,MAAMA,CAACH,MAAmB,EAAEI,GAAsB;IAAA;IAAAjC,cAAA,GAAAc,CAAA;EAAmB;EAC3E,MAAMoB,MAAMA,CAACL,MAAmB,EAAEZ,MAAoB;IAAA;IAAAjB,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IAAsB,OAAO,IAAI;EAAE;EACzF2B,kBAAkBA,CAACC,OAAyB;IAAA;IAAApC,cAAA,GAAAc,CAAA;EAAU;EACtD,MAAMuB,QAAQA,CAACC,OAA+E;IAAA;IAAAtC,cAAA,GAAAc,CAAA;EAAmB;EACjH,MAAMyB,IAAIA,CAACC,WAAqB;IAAA;IAAAxC,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IAAsB,OAAO,IAAI;EAAE;EACnE,MAAMiC,IAAIA,CAACC,IAAa;IAAA;IAAA1C,cAAA,GAAAc,CAAA;EAAmB;EAC3C,MAAM6B,IAAIA,CAAChB,KAAyB;IAAA;IAAA3B,cAAA,GAAAc,CAAA;EAAmB;;AAGxD,OAAM,MAAO8B,4BAA4B;EAExCtC,aAAa;EAEIuC,IAAI;EAAA;EAAA,CAAA7C,cAAA,GAAAQ,CAAA,QAAG,IAAIsC,GAAG,EAAiE;EAEhGC,OAAOA,CAACC,GAAW,EAAEH,IAA4D;IAAA;IAAA7C,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IAChF,IAAI,CAACqC,IAAI,CAACI,GAAG,CAACD,GAAG,EAAEH,IAAI,CAAC;EACzB;EAEAK,QAAQA,CAACC,KAA+F;IAAA;IAAAnD,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IACvG,KAAK,MAAM;MAAEwC,GAAG;MAAEH;IAAI,CAAE,IAAIM,KAAK,EAAE;MAAA;MAAAnD,cAAA,GAAAQ,CAAA;MAClC,IAAI,CAACqC,IAAI,CAACI,GAAG,CAACD,GAAG,EAAEH,IAAI,CAAC;IACzB;EACD;EAEAO,OAAOA,CAAIJ,GAAW;IAAA;IAAAhD,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IACrB,OAAO,IAAI,CAACqC,IAAI,CAACQ,GAAG,CAACL,GAAG,CAAkB;EAC3C;EAEAM,UAAUA,CAACN,GAAW;IAAA;IAAAhD,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAQ,CAAA;IACrB,IAAI,CAACqC,IAAI,CAACU,MAAM,CAACP,GAAG,CAAC;EACtB;EAEA,MAAMQ,KAAKA,CAAA;IAAA;IAAAxD,cAAA,GAAAc,CAAA;EAAoB","ignoreList":[]}