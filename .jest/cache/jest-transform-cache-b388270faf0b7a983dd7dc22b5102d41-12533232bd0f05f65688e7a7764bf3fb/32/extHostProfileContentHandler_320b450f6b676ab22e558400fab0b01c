89d2f439f9681be8932888529646d105
/* istanbul ignore next */
function cov_1h2m23jz6p() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostProfileContentHandler.ts";
  var hash = "43a5a4d6347f2a232ae6efbbfbd369ddd1775740";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostProfileContentHandler.ts",
    statementMap: {
      "0": {
        start: {
          line: 12,
          column: 15
        },
        end: {
          line: 12,
          column: 24
        }
      },
      "1": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 88
        }
      },
      "2": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 69
        }
      },
      "3": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 20,
          column: 9
        }
      },
      "4": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 74
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 39
        }
      },
      "6": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 117
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 26,
          column: 11
        }
      },
      "8": {
        start: {
          line: 24,
          column: 12
        },
        end: {
          line: 24,
          column: 37
        }
      },
      "9": {
        start: {
          line: 25,
          column: 12
        },
        end: {
          line: 25,
          column: 60
        }
      },
      "10": {
        start: {
          line: 29,
          column: 24
        },
        end: {
          line: 29,
          column: 45
        }
      },
      "11": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 32,
          column: 9
        }
      },
      "12": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 31,
          column: 62
        }
      },
      "13": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 33,
          column: 57
        }
      },
      "14": {
        start: {
          line: 36,
          column: 24
        },
        end: {
          line: 36,
          column: 45
        }
      },
      "15": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "16": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 38,
          column: 62
        }
      },
      "17": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 93
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 29
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 58
          },
          end: {
            line: 27,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 23,
            column: 28
          },
          end: {
            line: 23,
            column: 29
          }
        },
        loc: {
          start: {
            line: 23,
            column: 34
          },
          end: {
            line: 26,
            column: 9
          }
        },
        line: 23
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 28,
            column: 5
          }
        },
        loc: {
          start: {
            line: 28,
            column: 49
          },
          end: {
            line: 34,
            column: 5
          }
        },
        line: 28
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 35,
            column: 5
          }
        },
        loc: {
          start: {
            line: 35,
            column: 43
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 35
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 20,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 20,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 30,
            column: 8
          },
          end: {
            line: 32,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 30,
            column: 8
          },
          end: {
            line: 32,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 30
      },
      "2": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "3": {
        loc: {
          start: {
            line: 40,
            column: 35
          },
          end: {
            line: 40,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 40,
            column: 55
          },
          end: {
            line: 40,
            column: 62
          }
        }, {
          start: {
            line: 40,
            column: 65
          },
          end: {
            line: 40,
            column: 84
          }
        }],
        line: 40
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostProfileContentHandler.ts",
      mappings: "AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,YAAY,EAAE,MAAM,mCAAmC,CAAC;AACjE,OAAO,EAAE,QAAQ,EAAE,MAAM,+BAA+B,CAAC;AACzD,OAAO,EAAE,GAAG,EAAiB,MAAM,6BAA6B,CAAC;AAEjE,OAAO,EAAE,uBAAuB,EAAE,MAAM,gDAAgD,CAAC;AAGzF,OAAO,EAAoD,WAAW,EAAyC,MAAM,uBAAuB,CAAC;AAG7I,MAAM,OAAO,6BAA6B;IAExB,KAAK,CAAwC;IAE7C,QAAQ,GAAG,IAAI,GAAG,EAAwC,CAAC;IAE5E,YACC,WAAyB;QAEzB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,gCAAgC,CAAC,CAAC;IACjF,CAAC;IAED,6BAA6B,CAC5B,SAAgC,EAChC,EAAU,EACV,OAAqC;QAErC,uBAAuB,CAAC,SAAS,EAAE,wBAAwB,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,oBAAoB,EAAE,sBAAsB,CAAC,CAAC;QAC/D,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QAC/B,IAAI,CAAC,KAAK,CAAC,8BAA8B,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,WAAW,EAAE,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAE7G,OAAO,YAAY,CAAC,GAAG,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,gCAAgC,CAAC,EAAE,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,IAAY,EAAE,OAAe,EAAE,KAAwB;QACrF,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,EAAE,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,4BAA4B,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC;QAED,OAAO,OAAO,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU,EAAE,OAA+B,EAAE,KAAwB;QACvF,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,EAAE,CAAC;YACd,MAAM,IAAI,KAAK,CAAC,4BAA4B,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC;QAED,OAAO,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,KAAK,CAAC,CAAC;IACtF,CAAC;CACD",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostProfileContentHandler.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { isString } from '../../../base/common/types.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { checkProposedApiEnabled } from '../../services/extensions/common/extensions.js';\nimport { ISaveProfileResult } from '../../services/userDataProfile/common/userDataProfile.js';\nimport type * as vscode from 'vscode';\nimport { ExtHostProfileContentHandlersShape, IMainContext, MainContext, MainThreadProfileContentHandlersShape } from './extHost.protocol.js';\n\n\nexport class ExtHostProfileContentHandlers implements ExtHostProfileContentHandlersShape {\n\n\tprivate readonly proxy: MainThreadProfileContentHandlersShape;\n\n\tprivate readonly handlers = new Map<string, vscode.ProfileContentHandler>();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t) {\n\t\tthis.proxy = mainContext.getProxy(MainContext.MainThreadProfileContentHandlers);\n\t}\n\n\tregisterProfileContentHandler(\n\t\textension: IExtensionDescription,\n\t\tid: string,\n\t\thandler: vscode.ProfileContentHandler,\n\t): vscode.Disposable {\n\t\tcheckProposedApiEnabled(extension, 'profileContentHandlers');\n\t\tif (this.handlers.has(id)) {\n\t\t\tthrow new Error(`Handler with id '${id}' already registered`);\n\t\t}\n\n\t\tthis.handlers.set(id, handler);\n\t\tthis.proxy.$registerProfileContentHandler(id, handler.name, handler.description, extension.identifier.value);\n\n\t\treturn toDisposable(() => {\n\t\t\tthis.handlers.delete(id);\n\t\t\tthis.proxy.$unregisterProfileContentHandler(id);\n\t\t});\n\t}\n\n\tasync $saveProfile(id: string, name: string, content: string, token: CancellationToken): Promise<ISaveProfileResult | null> {\n\t\tconst handler = this.handlers.get(id);\n\t\tif (!handler) {\n\t\t\tthrow new Error(`Unknown handler with id: ${id}`);\n\t\t}\n\n\t\treturn handler.saveProfile(name, content, token);\n\t}\n\n\tasync $readProfile(id: string, idOrUri: string | UriComponents, token: CancellationToken): Promise<string | null> {\n\t\tconst handler = this.handlers.get(id);\n\t\tif (!handler) {\n\t\t\tthrow new Error(`Unknown handler with id: ${id}`);\n\t\t}\n\n\t\treturn handler.readProfile(isString(idOrUri) ? idOrUri : URI.revive(idOrUri), token);\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "43a5a4d6347f2a232ae6efbbfbd369ddd1775740"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1h2m23jz6p = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1h2m23jz6p();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { toDisposable } from '../../../base/common/lifecycle.js';
import { isString } from '../../../base/common/types.js';
import { URI } from '../../../base/common/uri.js';
import { checkProposedApiEnabled } from '../../services/extensions/common/extensions.js';
import { MainContext } from './extHost.protocol.js';
export class ExtHostProfileContentHandlers {
  proxy;
  handlers =
  /* istanbul ignore next */
  (cov_1h2m23jz6p().s[0]++, new Map());
  constructor(mainContext) {
    /* istanbul ignore next */
    cov_1h2m23jz6p().f[0]++;
    cov_1h2m23jz6p().s[1]++;
    this.proxy = mainContext.getProxy(MainContext.MainThreadProfileContentHandlers);
  }
  registerProfileContentHandler(extension, id, handler) {
    /* istanbul ignore next */
    cov_1h2m23jz6p().f[1]++;
    cov_1h2m23jz6p().s[2]++;
    checkProposedApiEnabled(extension, 'profileContentHandlers');
    /* istanbul ignore next */
    cov_1h2m23jz6p().s[3]++;
    if (this.handlers.has(id)) {
      /* istanbul ignore next */
      cov_1h2m23jz6p().b[0][0]++;
      cov_1h2m23jz6p().s[4]++;
      throw new Error(`Handler with id '${id}' already registered`);
    } else
    /* istanbul ignore next */
    {
      cov_1h2m23jz6p().b[0][1]++;
    }
    cov_1h2m23jz6p().s[5]++;
    this.handlers.set(id, handler);
    /* istanbul ignore next */
    cov_1h2m23jz6p().s[6]++;
    this.proxy.$registerProfileContentHandler(id, handler.name, handler.description, extension.identifier.value);
    /* istanbul ignore next */
    cov_1h2m23jz6p().s[7]++;
    return toDisposable(() => {
      /* istanbul ignore next */
      cov_1h2m23jz6p().f[2]++;
      cov_1h2m23jz6p().s[8]++;
      this.handlers.delete(id);
      /* istanbul ignore next */
      cov_1h2m23jz6p().s[9]++;
      this.proxy.$unregisterProfileContentHandler(id);
    });
  }
  async $saveProfile(id, name, content, token) {
    /* istanbul ignore next */
    cov_1h2m23jz6p().f[3]++;
    const handler =
    /* istanbul ignore next */
    (cov_1h2m23jz6p().s[10]++, this.handlers.get(id));
    /* istanbul ignore next */
    cov_1h2m23jz6p().s[11]++;
    if (!handler) {
      /* istanbul ignore next */
      cov_1h2m23jz6p().b[1][0]++;
      cov_1h2m23jz6p().s[12]++;
      throw new Error(`Unknown handler with id: ${id}`);
    } else
    /* istanbul ignore next */
    {
      cov_1h2m23jz6p().b[1][1]++;
    }
    cov_1h2m23jz6p().s[13]++;
    return handler.saveProfile(name, content, token);
  }
  async $readProfile(id, idOrUri, token) {
    /* istanbul ignore next */
    cov_1h2m23jz6p().f[4]++;
    const handler =
    /* istanbul ignore next */
    (cov_1h2m23jz6p().s[14]++, this.handlers.get(id));
    /* istanbul ignore next */
    cov_1h2m23jz6p().s[15]++;
    if (!handler) {
      /* istanbul ignore next */
      cov_1h2m23jz6p().b[2][0]++;
      cov_1h2m23jz6p().s[16]++;
      throw new Error(`Unknown handler with id: ${id}`);
    } else
    /* istanbul ignore next */
    {
      cov_1h2m23jz6p().b[2][1]++;
    }
    cov_1h2m23jz6p().s[17]++;
    return handler.readProfile(isString(idOrUri) ?
    /* istanbul ignore next */
    (cov_1h2m23jz6p().b[3][0]++, idOrUri) :
    /* istanbul ignore next */
    (cov_1h2m23jz6p().b[3][1]++, URI.revive(idOrUri)), token);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWgybTIzano2cCIsImFjdHVhbENvdmVyYWdlIiwidG9EaXNwb3NhYmxlIiwiaXNTdHJpbmciLCJVUkkiLCJjaGVja1Byb3Bvc2VkQXBpRW5hYmxlZCIsIk1haW5Db250ZXh0IiwiRXh0SG9zdFByb2ZpbGVDb250ZW50SGFuZGxlcnMiLCJwcm94eSIsImhhbmRsZXJzIiwicyIsIk1hcCIsImNvbnN0cnVjdG9yIiwibWFpbkNvbnRleHQiLCJmIiwiZ2V0UHJveHkiLCJNYWluVGhyZWFkUHJvZmlsZUNvbnRlbnRIYW5kbGVycyIsInJlZ2lzdGVyUHJvZmlsZUNvbnRlbnRIYW5kbGVyIiwiZXh0ZW5zaW9uIiwiaWQiLCJoYW5kbGVyIiwiaGFzIiwiYiIsIkVycm9yIiwic2V0IiwiJHJlZ2lzdGVyUHJvZmlsZUNvbnRlbnRIYW5kbGVyIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiaWRlbnRpZmllciIsInZhbHVlIiwiZGVsZXRlIiwiJHVucmVnaXN0ZXJQcm9maWxlQ29udGVudEhhbmRsZXIiLCIkc2F2ZVByb2ZpbGUiLCJjb250ZW50IiwidG9rZW4iLCJnZXQiLCJzYXZlUHJvZmlsZSIsIiRyZWFkUHJvZmlsZSIsImlkT3JVcmkiLCJyZWFkUHJvZmlsZSIsInJldml2ZSJdLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvRGVza3RvcC9NaW50TWluZC9zcmMvdnMvd29ya2JlbmNoL2FwaS9jb21tb24vZXh0SG9zdFByb2ZpbGVDb250ZW50SGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW4gfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgdG9EaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdHlwZXMuanMnO1xuaW1wb3J0IHsgVVJJLCBVcmlDb21wb25lbnRzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IElFeHRlbnNpb25EZXNjcmlwdGlvbiB9IGZyb20gJy4uLy4uLy4uL3BsYXRmb3JtL2V4dGVuc2lvbnMvY29tbW9uL2V4dGVuc2lvbnMuanMnO1xuaW1wb3J0IHsgY2hlY2tQcm9wb3NlZEFwaUVuYWJsZWQgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9leHRlbnNpb25zL2NvbW1vbi9leHRlbnNpb25zLmpzJztcbmltcG9ydCB7IElTYXZlUHJvZmlsZVJlc3VsdCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3VzZXJEYXRhUHJvZmlsZS9jb21tb24vdXNlckRhdGFQcm9maWxlLmpzJztcbmltcG9ydCB0eXBlICogYXMgdnNjb2RlIGZyb20gJ3ZzY29kZSc7XG5pbXBvcnQgeyBFeHRIb3N0UHJvZmlsZUNvbnRlbnRIYW5kbGVyc1NoYXBlLCBJTWFpbkNvbnRleHQsIE1haW5Db250ZXh0LCBNYWluVGhyZWFkUHJvZmlsZUNvbnRlbnRIYW5kbGVyc1NoYXBlIH0gZnJvbSAnLi9leHRIb3N0LnByb3RvY29sLmpzJztcblxuXG5leHBvcnQgY2xhc3MgRXh0SG9zdFByb2ZpbGVDb250ZW50SGFuZGxlcnMgaW1wbGVtZW50cyBFeHRIb3N0UHJvZmlsZUNvbnRlbnRIYW5kbGVyc1NoYXBlIHtcblxuXHRwcml2YXRlIHJlYWRvbmx5IHByb3h5OiBNYWluVGhyZWFkUHJvZmlsZUNvbnRlbnRIYW5kbGVyc1NoYXBlO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgaGFuZGxlcnMgPSBuZXcgTWFwPHN0cmluZywgdnNjb2RlLlByb2ZpbGVDb250ZW50SGFuZGxlcj4oKTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRtYWluQ29udGV4dDogSU1haW5Db250ZXh0LFxuXHQpIHtcblx0XHR0aGlzLnByb3h5ID0gbWFpbkNvbnRleHQuZ2V0UHJveHkoTWFpbkNvbnRleHQuTWFpblRocmVhZFByb2ZpbGVDb250ZW50SGFuZGxlcnMpO1xuXHR9XG5cblx0cmVnaXN0ZXJQcm9maWxlQ29udGVudEhhbmRsZXIoXG5cdFx0ZXh0ZW5zaW9uOiBJRXh0ZW5zaW9uRGVzY3JpcHRpb24sXG5cdFx0aWQ6IHN0cmluZyxcblx0XHRoYW5kbGVyOiB2c2NvZGUuUHJvZmlsZUNvbnRlbnRIYW5kbGVyLFxuXHQpOiB2c2NvZGUuRGlzcG9zYWJsZSB7XG5cdFx0Y2hlY2tQcm9wb3NlZEFwaUVuYWJsZWQoZXh0ZW5zaW9uLCAncHJvZmlsZUNvbnRlbnRIYW5kbGVycycpO1xuXHRcdGlmICh0aGlzLmhhbmRsZXJzLmhhcyhpZCkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgSGFuZGxlciB3aXRoIGlkICcke2lkfScgYWxyZWFkeSByZWdpc3RlcmVkYCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYW5kbGVycy5zZXQoaWQsIGhhbmRsZXIpO1xuXHRcdHRoaXMucHJveHkuJHJlZ2lzdGVyUHJvZmlsZUNvbnRlbnRIYW5kbGVyKGlkLCBoYW5kbGVyLm5hbWUsIGhhbmRsZXIuZGVzY3JpcHRpb24sIGV4dGVuc2lvbi5pZGVudGlmaWVyLnZhbHVlKTtcblxuXHRcdHJldHVybiB0b0Rpc3Bvc2FibGUoKCkgPT4ge1xuXHRcdFx0dGhpcy5oYW5kbGVycy5kZWxldGUoaWQpO1xuXHRcdFx0dGhpcy5wcm94eS4kdW5yZWdpc3RlclByb2ZpbGVDb250ZW50SGFuZGxlcihpZCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyAkc2F2ZVByb2ZpbGUoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHRva2VuOiBDYW5jZWxsYXRpb25Ub2tlbik6IFByb21pc2U8SVNhdmVQcm9maWxlUmVzdWx0IHwgbnVsbD4ge1xuXHRcdGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXJzLmdldChpZCk7XG5cdFx0aWYgKCFoYW5kbGVyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gaGFuZGxlciB3aXRoIGlkOiAke2lkfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyLnNhdmVQcm9maWxlKG5hbWUsIGNvbnRlbnQsIHRva2VuKTtcblx0fVxuXG5cdGFzeW5jICRyZWFkUHJvZmlsZShpZDogc3RyaW5nLCBpZE9yVXJpOiBzdHJpbmcgfCBVcmlDb21wb25lbnRzLCB0b2tlbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0XHRjb25zdCBoYW5kbGVyID0gdGhpcy5oYW5kbGVycy5nZXQoaWQpO1xuXHRcdGlmICghaGFuZGxlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGhhbmRsZXIgd2l0aCBpZDogJHtpZH1gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlci5yZWFkUHJvZmlsZShpc1N0cmluZyhpZE9yVXJpKSA/IGlkT3JVcmkgOiBVUkkucmV2aXZlKGlkT3JVcmkpLCB0b2tlbik7XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LEVBQUVPLE9BQWUsRUFBRUMsS0FBd0I7SUFBQTtJQUFBbEMsY0FBQSxHQUFBYyxDQUFBO0lBQ3JGLE1BQU1NLE9BQU87SUFBQTtJQUFBLENBQUFwQixjQUFBLEdBQUFVLENBQUEsUUFBRyxJQUFJLENBQUNELFFBQVEsQ0FBQzBCLEdBQUcsQ0FBQ2hCLEVBQUUsQ0FBQztJQUFDO0lBQUFuQixjQUFBLEdBQUFVLENBQUE7SUFDdEMsSUFBSSxDQUFDVSxPQUFPLEVBQUU7TUFBQTtNQUFBcEIsY0FBQSxHQUFBc0IsQ0FBQTtNQUFBdEIsY0FBQSxHQUFBVSxDQUFBO01BQ2IsTUFBTSxJQUFJYSxLQUFLLENBQUMsNEJBQTRCSixFQUFFLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBQUE7SUFBQTtNQUFBbkIsY0FBQSxHQUFBc0IsQ0FBQTtJQUFBO0lBQUF0QixjQUFBLEdBQUFVLENBQUE7SUFFRCxPQUFPVSxPQUFPLENBQUNnQixXQUFXLENBQUNWLElBQUksRUFBRU8sT0FBTyxFQUFFQyxLQUFLLENBQUM7RUFDakQ7RUFFQSxNQUFNRyxZQUFZQSxDQUFDbEIsRUFBVSxFQUFFbUIsT0FBK0IsRUFBRUosS0FBd0I7SUFBQTtJQUFBbEMsY0FBQSxHQUFBYyxDQUFBO0lBQ3ZGLE1BQU1NLE9BQU87SUFBQTtJQUFBLENBQUFwQixjQUFBLEdBQUFVLENBQUEsUUFBRyxJQUFJLENBQUNELFFBQVEsQ0FBQzBCLEdBQUcsQ0FBQ2hCLEVBQUUsQ0FBQztJQUFDO0lBQUFuQixjQUFBLEdBQUFVLENBQUE7SUFDdEMsSUFBSSxDQUFDVSxPQUFPLEVBQUU7TUFBQTtNQUFBcEIsY0FBQSxHQUFBc0IsQ0FBQTtNQUFBdEIsY0FBQSxHQUFBVSxDQUFBO01BQ2IsTUFBTSxJQUFJYSxLQUFLLENBQUMsNEJBQTRCSixFQUFFLEVBQUUsQ0FBQztJQUNsRCxDQUFDO0lBQUE7SUFBQTtNQUFBbkIsY0FBQSxHQUFBc0IsQ0FBQTtJQUFBO0lBQUF0QixjQUFBLEdBQUFVLENBQUE7SUFFRCxPQUFPVSxPQUFPLENBQUNtQixXQUFXLENBQUNwQyxRQUFRLENBQUNtQyxPQUFPLENBQUM7SUFBQTtJQUFBLENBQUF0QyxjQUFBLEdBQUFzQixDQUFBLFVBQUdnQixPQUFPO0lBQUE7SUFBQSxDQUFBdEMsY0FBQSxHQUFBc0IsQ0FBQSxVQUFHbEIsR0FBRyxDQUFDb0MsTUFBTSxDQUFDRixPQUFPLENBQUMsR0FBRUosS0FBSyxDQUFDO0VBQ3JGIiwiaWdub3JlTGlzdCI6W119