{"version":3,"names":["cov_uh92yrtnr","actualCoverage","Emitter","Disposable","Range","editorBracketHighlightingForeground1","editorBracketHighlightingForeground2","editorBracketHighlightingForeground3","editorBracketHighlightingForeground4","editorBracketHighlightingForeground5","editorBracketHighlightingForeground6","editorBracketHighlightingUnexpectedBracketForeground","registerThemingParticipant","ColorizedBracketPairsDecorationProvider","textModel","colorizationOptions","colorProvider","s","ColorProvider","onDidChangeEmitter","onDidChange","event","constructor","f","getOptions","bracketPairColorizationOptions","_register","bracketPairs","e","fire","handleDidChangeOptions","getDecorationsInRange","range","ownerId","filterOutValidation","onlyMinimapDecorations","b","undefined","enabled","result","getBracketsInRange","map","bracket","id","toString","nestingLevel","options","description","inlineClassName","getInlineClassName","independentColorPoolPerBracketType","toArray","getAllDecorations","getLineCount","unexpectedClosingBracketClassName","isInvalid","getInlineClassNameOfLevel","nestingLevelOfEqualBracketType","level","theme","collector","colors","addRule","getColor","colorValues","c","filter","isTransparent","color","length"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../core/range.js';\nimport { BracketPairColorizationOptions, IModelDecoration } from '../../model.js';\nimport { BracketInfo } from '../../textModelBracketPairs.js';\nimport { DecorationProvider } from '../decorationProvider.js';\nimport { TextModel } from '../textModel.js';\nimport {\n\teditorBracketHighlightingForeground1, editorBracketHighlightingForeground2, editorBracketHighlightingForeground3, editorBracketHighlightingForeground4, editorBracketHighlightingForeground5, editorBracketHighlightingForeground6, editorBracketHighlightingUnexpectedBracketForeground\n} from '../../core/editorColorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { IModelOptionsChangedEvent } from '../../textModelEvents.js';\n\nexport class ColorizedBracketPairsDecorationProvider extends Disposable implements DecorationProvider {\n\tprivate colorizationOptions: BracketPairColorizationOptions;\n\tprivate readonly colorProvider = new ColorProvider();\n\n\tprivate readonly onDidChangeEmitter = new Emitter<void>();\n\tpublic readonly onDidChange = this.onDidChangeEmitter.event;\n\n\tconstructor(private readonly textModel: TextModel) {\n\t\tsuper();\n\n\t\tthis.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;\n\n\t\tthis._register(textModel.bracketPairs.onDidChange(e => {\n\t\t\tthis.onDidChangeEmitter.fire();\n\t\t}));\n\t}\n\n\t//#region TextModel events\n\n\tpublic handleDidChangeOptions(e: IModelOptionsChangedEvent): void {\n\t\tthis.colorizationOptions = this.textModel.getOptions().bracketPairColorizationOptions;\n\t}\n\n\t//#endregion\n\n\tgetDecorationsInRange(range: Range, ownerId?: number, filterOutValidation?: boolean, onlyMinimapDecorations?: boolean): IModelDecoration[] {\n\t\tif (onlyMinimapDecorations) {\n\t\t\t// Bracket pair colorization decorations are not rendered in the minimap\n\t\t\treturn [];\n\t\t}\n\t\tif (ownerId === undefined) {\n\t\t\treturn [];\n\t\t}\n\t\tif (!this.colorizationOptions.enabled) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst result = this.textModel.bracketPairs.getBracketsInRange(range, true).map<IModelDecoration>(bracket => ({\n\t\t\tid: `bracket${bracket.range.toString()}-${bracket.nestingLevel}`,\n\t\t\toptions: {\n\t\t\t\tdescription: 'BracketPairColorization',\n\t\t\t\tinlineClassName: this.colorProvider.getInlineClassName(\n\t\t\t\t\tbracket,\n\t\t\t\t\tthis.colorizationOptions.independentColorPoolPerBracketType\n\t\t\t\t),\n\t\t\t},\n\t\t\townerId: 0,\n\t\t\trange: bracket.range,\n\t\t})).toArray();\n\n\t\treturn result;\n\t}\n\n\tgetAllDecorations(ownerId?: number, filterOutValidation?: boolean): IModelDecoration[] {\n\t\tif (ownerId === undefined) {\n\t\t\treturn [];\n\t\t}\n\t\tif (!this.colorizationOptions.enabled) {\n\t\t\treturn [];\n\t\t}\n\t\treturn this.getDecorationsInRange(\n\t\t\tnew Range(1, 1, this.textModel.getLineCount(), 1),\n\t\t\townerId,\n\t\t\tfilterOutValidation\n\t\t);\n\t}\n}\n\nclass ColorProvider {\n\tpublic readonly unexpectedClosingBracketClassName = 'unexpected-closing-bracket';\n\n\tgetInlineClassName(bracket: BracketInfo, independentColorPoolPerBracketType: boolean): string {\n\t\tif (bracket.isInvalid) {\n\t\t\treturn this.unexpectedClosingBracketClassName;\n\t\t}\n\t\treturn this.getInlineClassNameOfLevel(independentColorPoolPerBracketType ? bracket.nestingLevelOfEqualBracketType : bracket.nestingLevel);\n\t}\n\n\tgetInlineClassNameOfLevel(level: number): string {\n\t\t// To support a dynamic amount of colors up to 6 colors,\n\t\t// we use a number that is a lcm of all numbers from 1 to 6.\n\t\treturn `bracket-highlighting-${level % 30}`;\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst colors = [\n\t\teditorBracketHighlightingForeground1,\n\t\teditorBracketHighlightingForeground2,\n\t\teditorBracketHighlightingForeground3,\n\t\teditorBracketHighlightingForeground4,\n\t\teditorBracketHighlightingForeground5,\n\t\teditorBracketHighlightingForeground6\n\t];\n\tconst colorProvider = new ColorProvider();\n\n\tcollector.addRule(`.monaco-editor .${colorProvider.unexpectedClosingBracketClassName} { color: ${theme.getColor(editorBracketHighlightingUnexpectedBracketForeground)}; }`);\n\n\tconst colorValues = colors\n\t\t.map(c => theme.getColor(c))\n\t\t.filter((c): c is Color => !!c)\n\t\t.filter(c => !c.isTransparent());\n\n\tfor (let level = 0; level < 30; level++) {\n\t\tconst color = colorValues[level % colorValues.length];\n\t\tcollector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level)} { color: ${color}; }`);\n\t}\n});\n"],"mappings":"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","ignoreList":[]}