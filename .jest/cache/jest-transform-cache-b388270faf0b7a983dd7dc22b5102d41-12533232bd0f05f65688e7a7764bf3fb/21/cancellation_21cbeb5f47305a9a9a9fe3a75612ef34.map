{"version":3,"names":["cov_2alxsrpan1","actualCoverage","Emitter","Event","DisposableStore","shortcutEvent","s","Object","freeze","callback","context","f","handle","setTimeout","bind","dispose","clearTimeout","CancellationToken","isCancellationToken","thing","b","None","Cancelled","MutableToken","isCancellationRequested","onCancellationRequested","_isCancelled","_emitter","cancel","fire","undefined","event","CancellationTokenSource","_token","_parentListener","constructor","parent","token","cancelOnDispose","store","source","add","CancellationTokenPool","_source","_listeners","_total","_cancelled","_isDone","_check","d"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/cancellation.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from './event.js';\nimport { DisposableStore, IDisposable } from './lifecycle.js';\n\nexport interface CancellationToken {\n\n\t/**\n\t * A flag signalling is cancellation has been requested.\n\t */\n\treadonly isCancellationRequested: boolean;\n\n\t/**\n\t * An event which fires when cancellation is requested. This event\n\t * only ever fires `once` as cancellation can only happen once. Listeners\n\t * that are registered after cancellation will be called (next event loop run),\n\t * but also only once.\n\t *\n\t * @event\n\t */\n\treadonly onCancellationRequested: (listener: (e: any) => any, thisArgs?: any, disposables?: IDisposable[]) => IDisposable;\n}\n\nconst shortcutEvent: Event<any> = Object.freeze(function (callback, context?): IDisposable {\n\tconst handle = setTimeout(callback.bind(context), 0);\n\treturn { dispose() { clearTimeout(handle); } };\n});\n\nexport namespace CancellationToken {\n\n\texport function isCancellationToken(thing: unknown): thing is CancellationToken {\n\t\tif (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n\t\t\treturn true;\n\t\t}\n\t\tif (thing instanceof MutableToken) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!thing || typeof thing !== 'object') {\n\t\t\treturn false;\n\t\t}\n\t\treturn typeof (thing as CancellationToken).isCancellationRequested === 'boolean'\n\t\t\t&& typeof (thing as CancellationToken).onCancellationRequested === 'function';\n\t}\n\n\n\texport const None = Object.freeze<CancellationToken>({\n\t\tisCancellationRequested: false,\n\t\tonCancellationRequested: Event.None\n\t});\n\n\texport const Cancelled = Object.freeze<CancellationToken>({\n\t\tisCancellationRequested: true,\n\t\tonCancellationRequested: shortcutEvent\n\t});\n}\n\nclass MutableToken implements CancellationToken {\n\n\tprivate _isCancelled: boolean = false;\n\tprivate _emitter: Emitter<any> | null = null;\n\n\tpublic cancel() {\n\t\tif (!this._isCancelled) {\n\t\t\tthis._isCancelled = true;\n\t\t\tif (this._emitter) {\n\t\t\t\tthis._emitter.fire(undefined);\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tget isCancellationRequested(): boolean {\n\t\treturn this._isCancelled;\n\t}\n\n\tget onCancellationRequested(): Event<any> {\n\t\tif (this._isCancelled) {\n\t\t\treturn shortcutEvent;\n\t\t}\n\t\tif (!this._emitter) {\n\t\t\tthis._emitter = new Emitter<any>();\n\t\t}\n\t\treturn this._emitter.event;\n\t}\n\n\tpublic dispose(): void {\n\t\tif (this._emitter) {\n\t\t\tthis._emitter.dispose();\n\t\t\tthis._emitter = null;\n\t\t}\n\t}\n}\n\nexport class CancellationTokenSource {\n\n\tprivate _token?: CancellationToken = undefined;\n\tprivate _parentListener?: IDisposable = undefined;\n\n\tconstructor(parent?: CancellationToken) {\n\t\tthis._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n\t}\n\n\tget token(): CancellationToken {\n\t\tif (!this._token) {\n\t\t\t// be lazy and create the token only when\n\t\t\t// actually needed\n\t\t\tthis._token = new MutableToken();\n\t\t}\n\t\treturn this._token;\n\t}\n\n\tcancel(): void {\n\t\tif (!this._token) {\n\t\t\t// save an object by returning the default\n\t\t\t// cancelled token when cancellation happens\n\t\t\t// before someone asks for the token\n\t\t\tthis._token = CancellationToken.Cancelled;\n\n\t\t} else if (this._token instanceof MutableToken) {\n\t\t\t// actually cancel\n\t\t\tthis._token.cancel();\n\t\t}\n\t}\n\n\tdispose(cancel: boolean = false): void {\n\t\tif (cancel) {\n\t\t\tthis.cancel();\n\t\t}\n\t\tthis._parentListener?.dispose();\n\t\tif (!this._token) {\n\t\t\t// ensure to initialize with an empty token if we had none\n\t\t\tthis._token = CancellationToken.None;\n\n\t\t} else if (this._token instanceof MutableToken) {\n\t\t\t// actually dispose\n\t\t\tthis._token.dispose();\n\t\t}\n\t}\n}\n\nexport function cancelOnDispose(store: DisposableStore): CancellationToken {\n\tconst source = new CancellationTokenSource();\n\tstore.add({ dispose() { source.cancel(); } });\n\treturn source.token;\n}\n\n/**\n * A pool that aggregates multiple cancellation tokens. The pool's own token\n * (accessible via `pool.token`) is cancelled only after every token added\n * to the pool has been cancelled. Adding tokens after the pool token has\n * been cancelled has no effect.\n */\nexport class CancellationTokenPool {\n\n\tprivate readonly _source = new CancellationTokenSource();\n\tprivate readonly _listeners = new DisposableStore();\n\n\tprivate _total: number = 0;\n\tprivate _cancelled: number = 0;\n\tprivate _isDone: boolean = false;\n\n\tget token(): CancellationToken {\n\t\treturn this._source.token;\n\t}\n\n\t/**\n\t * Add a token to the pool. If the token is already cancelled it is counted\n\t * immediately. Tokens added after the pool token has been cancelled are ignored.\n\t */\n\tadd(token: CancellationToken): void {\n\t\tif (this._isDone) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._total++;\n\n\t\tif (token.isCancellationRequested) {\n\t\t\tthis._cancelled++;\n\t\t\tthis._check();\n\t\t\treturn;\n\t\t}\n\n\t\tconst d = token.onCancellationRequested(() => {\n\t\t\td.dispose();\n\t\t\tthis._cancelled++;\n\t\t\tthis._check();\n\t\t});\n\t\tthis._listeners.add(d);\n\t}\n\n\tprivate _check(): void {\n\t\tif (!this._isDone && this._total > 0 && this._total === this._cancelled) {\n\t\t\tthis._isDone = true;\n\t\t\tthis._listeners.dispose();\n\t\t\tthis._source.cancel();\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis._listeners.dispose();\n\t\tthis._source.dispose();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}