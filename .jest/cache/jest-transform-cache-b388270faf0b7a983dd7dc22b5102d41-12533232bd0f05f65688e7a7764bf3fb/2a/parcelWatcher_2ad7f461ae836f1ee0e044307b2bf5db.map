{"version":3,"names":["cov_2rrd5cmcbx","actualCoverage","parcelWatcher","promises","tmpdir","homedir","URI","DeferredPromise","RunOnceScheduler","RunOnceWorker","ThrottledWorker","CancellationTokenSource","toErrorMessage","Emitter","Event","randomPath","isEqual","isEqualOrParent","GLOBSTAR","patternsEquals","BaseWatcher","TernarySearchTree","normalizeNFC","normalize","join","isLinux","isMacintosh","isWindows","Promises","realcase","coalesceEvents","parseWatcherPatterns","isFiltered","Disposable","DisposableStore","toDisposable","ParcelWatcherInstance","ready","request","restarts","token","worker","stopFn","_onDidStop","s","_register","onDidStop","event","_onDidFail","onDidFail","didFail","failed","f","didStop","stopped","includes","excludes","subscriptions","Map","constructor","b","path","undefined","clear","subscribe","callback","file","fsPath","get","Set","set","add","delete","size","subscriptionsCount","notifyFileChange","change","subscription","notifyWatchFailed","fire","include","length","some","exclude","Boolean","stop","joinRestart","dispose","ParcelWatcher","MAP_PARCEL_WATCHER_ACTION_TO_FILE_CHANGE","PREDEFINED_EXCLUDES","PARCEL_WATCHER_BACKEND","_onDidError","onDidError","_watchers","watchers","values","FILE_CHANGES_HANDLER_DELAY","throttledFileChangesEmitter","maxWorkChunkSize","throttleDelay","maxBufferedWork","events","_onDidChangeFile","enospcErrorLogged","registerListeners","onUncaughtException","error","onUnexpectedError","onUnhandledRejection","process","on","off","doWatch","requests","removeDuplicateRequests","requestsToStart","watchersToStop","Array","from","watcher","requestToWatcherKey","pollingInterval","push","trace","map","requestToString","stopWatching","startPolling","startWatching","correlationId","pathToWatcherKey","toLowerCase","cts","instance","snapshotFile","p","handleParcelEvents","flush","pollingWatcher","unlink","realPath","realPathDiffers","realPathLength","normalizePath","counter","isCancellationRequested","parcelWatcherLib","parcelEvents","getEventsSince","ignore","addPredefinedExcludes","backend","onParcelEvents","writeSnapshot","complete","schedule","watcherInstance","unsubscribe","parcelWatcherInstance","_onDidWatchFail","initialExcludes","predefinedExcludes","platform","isArray","normalizeEvents","includedEvents","handleIncludes","includedEvent","work","type","parcelEventType","verboseLogging","traceWithCorrelation","resource","cId","coalescedEvents","filteredEvents","rootDeleted","filterEvents","emitEvents","onWatchedPathDeleted","worked","warn","pending","realpath","substr","filter","isCorrelated","traceEvent","msg","indexOf","restartWatching","delay","scheduler","restartPromise","onCancellationRequested","validatePaths","sort","requestA","requestB","mapCorrelationtoRequests","requestsForCorrelation","has","normalizedRequests","requestTrie","forPaths","findSubstr","lstat","isSymbolicLink","isPathValid","stat","isDirectory","disposables","once","e","isDisposed","message","_onDidLogMessage","toMessage","recursiveWatcher"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/files/node/watcher/parcel/parcelWatcher.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport parcelWatcher from '@parcel/watcher';\nimport { promises } from 'fs';\nimport { tmpdir, homedir } from 'os';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { DeferredPromise, RunOnceScheduler, RunOnceWorker, ThrottledWorker } from '../../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../../base/common/cancellation.js';\nimport { toErrorMessage } from '../../../../../base/common/errorMessage.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { randomPath, isEqual, isEqualOrParent } from '../../../../../base/common/extpath.js';\nimport { GLOBSTAR, ParsedPattern, patternsEquals } from '../../../../../base/common/glob.js';\nimport { BaseWatcher } from '../baseWatcher.js';\nimport { TernarySearchTree } from '../../../../../base/common/ternarySearchTree.js';\nimport { normalizeNFC } from '../../../../../base/common/normalization.js';\nimport { normalize, join } from '../../../../../base/common/path.js';\nimport { isLinux, isMacintosh, isWindows } from '../../../../../base/common/platform.js';\nimport { Promises, realcase } from '../../../../../base/node/pfs.js';\nimport { FileChangeType, IFileChange } from '../../../common/files.js';\nimport { coalesceEvents, IRecursiveWatchRequest, parseWatcherPatterns, IRecursiveWatcherWithSubscribe, isFiltered, IWatcherErrorEvent } from '../../../common/watcher.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../../../../../base/common/lifecycle.js';\n\nexport class ParcelWatcherInstance extends Disposable {\n\n\tprivate readonly _onDidStop = this._register(new Emitter<{ joinRestart?: Promise<void> }>());\n\treadonly onDidStop = this._onDidStop.event;\n\n\tprivate readonly _onDidFail = this._register(new Emitter<void>());\n\treadonly onDidFail = this._onDidFail.event;\n\n\tprivate didFail = false;\n\tget failed(): boolean { return this.didFail; }\n\n\tprivate didStop = false;\n\tget stopped(): boolean { return this.didStop; }\n\n\tprivate readonly includes: ParsedPattern[] | undefined;\n\tprivate readonly excludes: ParsedPattern[] | undefined;\n\n\tprivate readonly subscriptions = new Map<string, Set<(change: IFileChange) => void>>();\n\n\tconstructor(\n\t\t/**\n\t\t * Signals when the watcher is ready to watch.\n\t\t */\n\t\treadonly ready: Promise<unknown>,\n\t\treadonly request: IRecursiveWatchRequest,\n\t\t/**\n\t\t * How often this watcher has been restarted in case of an unexpected\n\t\t * shutdown.\n\t\t */\n\t\treadonly restarts: number,\n\t\t/**\n\t\t * The cancellation token associated with the lifecycle of the watcher.\n\t\t */\n\t\treadonly token: CancellationToken,\n\t\t/**\n\t\t * An event aggregator to coalesce events and reduce duplicates.\n\t\t */\n\t\treadonly worker: RunOnceWorker<IFileChange>,\n\t\tprivate readonly stopFn: () => Promise<void>\n\t) {\n\t\tsuper();\n\n\t\tthis.includes = this.request.includes ? parseWatcherPatterns(this.request.path, this.request.includes) : undefined;\n\t\tthis.excludes = this.request.excludes ? parseWatcherPatterns(this.request.path, this.request.excludes) : undefined;\n\n\t\tthis._register(toDisposable(() => this.subscriptions.clear()));\n\t}\n\n\tsubscribe(path: string, callback: (change: IFileChange) => void): IDisposable {\n\t\tpath = URI.file(path).fsPath; // make sure to store the path in `fsPath` form to match it with events later\n\n\t\tlet subscriptions = this.subscriptions.get(path);\n\t\tif (!subscriptions) {\n\t\t\tsubscriptions = new Set();\n\t\t\tthis.subscriptions.set(path, subscriptions);\n\t\t}\n\n\t\tsubscriptions.add(callback);\n\n\t\treturn toDisposable(() => {\n\t\t\tconst subscriptions = this.subscriptions.get(path);\n\t\t\tif (subscriptions) {\n\t\t\t\tsubscriptions.delete(callback);\n\n\t\t\t\tif (subscriptions.size === 0) {\n\t\t\t\t\tthis.subscriptions.delete(path);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tget subscriptionsCount(): number {\n\t\treturn this.subscriptions.size;\n\t}\n\n\tnotifyFileChange(path: string, change: IFileChange): void {\n\t\tconst subscriptions = this.subscriptions.get(path);\n\t\tif (subscriptions) {\n\t\t\tfor (const subscription of subscriptions) {\n\t\t\t\tsubscription(change);\n\t\t\t}\n\t\t}\n\t}\n\n\tnotifyWatchFailed(): void {\n\t\tthis.didFail = true;\n\n\t\tthis._onDidFail.fire();\n\t}\n\n\tinclude(path: string): boolean {\n\t\tif (!this.includes || this.includes.length === 0) {\n\t\t\treturn true; // no specific includes defined, include all\n\t\t}\n\n\t\treturn this.includes.some(include => include(path));\n\t}\n\n\texclude(path: string): boolean {\n\t\treturn Boolean(this.excludes?.some(exclude => exclude(path)));\n\t}\n\n\tasync stop(joinRestart: Promise<void> | undefined): Promise<void> {\n\t\tthis.didStop = true;\n\n\t\ttry {\n\t\t\tawait this.stopFn();\n\t\t} finally {\n\t\t\tthis._onDidStop.fire({ joinRestart });\n\t\t\tthis.dispose();\n\t\t}\n\t}\n}\n\nexport class ParcelWatcher extends BaseWatcher implements IRecursiveWatcherWithSubscribe {\n\n\tprivate static readonly MAP_PARCEL_WATCHER_ACTION_TO_FILE_CHANGE = new Map<parcelWatcher.EventType, number>(\n\t\t[\n\t\t\t['create', FileChangeType.ADDED],\n\t\t\t['update', FileChangeType.UPDATED],\n\t\t\t['delete', FileChangeType.DELETED]\n\t\t]\n\t);\n\n\tprivate static readonly PREDEFINED_EXCLUDES: { [platform: string]: string[] } = {\n\t\t'win32': [],\n\t\t'darwin': [\n\t\t\tjoin(homedir(), 'Library', 'Containers') // Triggers access dialog from macOS 14 (https://github.com/microsoft/vscode/issues/208105)\n\t\t],\n\t\t'linux': []\n\t};\n\n\tprivate static readonly PARCEL_WATCHER_BACKEND = isWindows ? 'windows' : isLinux ? 'inotify' : 'fs-events';\n\n\tprivate readonly _onDidError = this._register(new Emitter<IWatcherErrorEvent>());\n\treadonly onDidError = this._onDidError.event;\n\n\tprivate readonly _watchers = new Map<string /* path */ | number /* correlation ID */, ParcelWatcherInstance>();\n\tget watchers() { return this._watchers.values(); }\n\n\t// A delay for collecting file changes from Parcel\n\t// before collecting them for coalescing and emitting.\n\t// Parcel internally uses 50ms as delay, so we use 75ms,\n\t// to schedule sufficiently after Parcel.\n\t//\n\t// Note: since Parcel 2.0.7, the very first event is\n\t// emitted without delay if no events occured over a\n\t// duration of 500ms. But we always want to aggregate\n\t// events to apply our coleasing logic.\n\t//\n\tprivate static readonly FILE_CHANGES_HANDLER_DELAY = 75;\n\n\t// Reduce likelyhood of spam from file events via throttling.\n\t// (https://github.com/microsoft/vscode/issues/124723)\n\tprivate readonly throttledFileChangesEmitter = this._register(new ThrottledWorker<IFileChange>(\n\t\t{\n\t\t\tmaxWorkChunkSize: 500,\t// only process up to 500 changes at once before...\n\t\t\tthrottleDelay: 200,\t  \t// ...resting for 200ms until we process events again...\n\t\t\tmaxBufferedWork: 30000 \t// ...but never buffering more than 30000 events in memory\n\t\t},\n\t\tevents => this._onDidChangeFile.fire(events)\n\t));\n\n\tprivate enospcErrorLogged = false;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tconst onUncaughtException = (error: unknown) => this.onUnexpectedError(error);\n\t\tconst onUnhandledRejection = (error: unknown) => this.onUnexpectedError(error);\n\n\t\tprocess.on('uncaughtException', onUncaughtException);\n\t\tprocess.on('unhandledRejection', onUnhandledRejection);\n\n\t\tthis._register(toDisposable(() => {\n\t\t\tprocess.off('uncaughtException', onUncaughtException);\n\t\t\tprocess.off('unhandledRejection', onUnhandledRejection);\n\t\t}));\n\t}\n\n\tprotected override async doWatch(requests: IRecursiveWatchRequest[]): Promise<void> {\n\n\t\t// Figure out duplicates to remove from the requests\n\t\trequests = await this.removeDuplicateRequests(requests);\n\n\t\t// Figure out which watchers to start and which to stop\n\t\tconst requestsToStart: IRecursiveWatchRequest[] = [];\n\t\tconst watchersToStop = new Set(Array.from(this.watchers));\n\t\tfor (const request of requests) {\n\t\t\tconst watcher = this._watchers.get(this.requestToWatcherKey(request));\n\t\t\tif (watcher && patternsEquals(watcher.request.excludes, request.excludes) && patternsEquals(watcher.request.includes, request.includes) && watcher.request.pollingInterval === request.pollingInterval) {\n\t\t\t\twatchersToStop.delete(watcher); // keep watcher\n\t\t\t} else {\n\t\t\t\trequestsToStart.push(request); // start watching\n\t\t\t}\n\t\t}\n\n\t\t// Logging\n\t\tif (requestsToStart.length) {\n\t\t\tthis.trace(`Request to start watching: ${requestsToStart.map(request => this.requestToString(request)).join(',')}`);\n\t\t}\n\n\t\tif (watchersToStop.size) {\n\t\t\tthis.trace(`Request to stop watching: ${Array.from(watchersToStop).map(watcher => this.requestToString(watcher.request)).join(',')}`);\n\t\t}\n\n\t\t// Stop watching as instructed\n\t\tfor (const watcher of watchersToStop) {\n\t\t\tawait this.stopWatching(watcher);\n\t\t}\n\n\t\t// Start watching as instructed\n\t\tfor (const request of requestsToStart) {\n\t\t\tif (request.pollingInterval) {\n\t\t\t\tawait this.startPolling(request, request.pollingInterval);\n\t\t\t} else {\n\t\t\t\tawait this.startWatching(request);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate requestToWatcherKey(request: IRecursiveWatchRequest): string | number {\n\t\treturn typeof request.correlationId === 'number' ? request.correlationId : this.pathToWatcherKey(request.path);\n\t}\n\n\tprivate pathToWatcherKey(path: string): string {\n\t\treturn isLinux ? path : path.toLowerCase() /* ignore path casing */;\n\t}\n\n\tprivate async startPolling(request: IRecursiveWatchRequest, pollingInterval: number, restarts = 0): Promise<void> {\n\t\tconst cts = new CancellationTokenSource();\n\n\t\tconst instance = new DeferredPromise<void>();\n\n\t\tconst snapshotFile = randomPath(tmpdir(), 'vscode-watcher-snapshot');\n\n\t\t// Remember as watcher instance\n\t\tconst watcher: ParcelWatcherInstance = new ParcelWatcherInstance(\n\t\t\tinstance.p,\n\t\t\trequest,\n\t\t\trestarts,\n\t\t\tcts.token,\n\t\t\tnew RunOnceWorker<IFileChange>(events => this.handleParcelEvents(events, watcher), ParcelWatcher.FILE_CHANGES_HANDLER_DELAY),\n\t\t\tasync () => {\n\t\t\t\tcts.dispose(true);\n\n\t\t\t\twatcher.worker.flush();\n\t\t\t\twatcher.worker.dispose();\n\n\t\t\t\tpollingWatcher.dispose();\n\t\t\t\tawait promises.unlink(snapshotFile);\n\t\t\t}\n\t\t);\n\t\tthis._watchers.set(this.requestToWatcherKey(request), watcher);\n\n\t\t// Path checks for symbolic links / wrong casing\n\t\tconst { realPath, realPathDiffers, realPathLength } = await this.normalizePath(request);\n\n\t\tthis.trace(`Started watching: '${realPath}' with polling interval '${pollingInterval}'`);\n\n\t\tlet counter = 0;\n\n\t\tconst pollingWatcher = new RunOnceScheduler(async () => {\n\t\t\tcounter++;\n\n\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We already ran before, check for events since\n\t\t\tconst parcelWatcherLib = parcelWatcher;\n\t\t\ttry {\n\t\t\t\tif (counter > 1) {\n\t\t\t\t\tconst parcelEvents = await parcelWatcherLib.getEventsSince(realPath, snapshotFile, { ignore: this.addPredefinedExcludes(request.excludes), backend: ParcelWatcher.PARCEL_WATCHER_BACKEND });\n\n\t\t\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Handle & emit events\n\t\t\t\t\tthis.onParcelEvents(parcelEvents, watcher, realPathDiffers, realPathLength);\n\t\t\t\t}\n\n\t\t\t\t// Store a snapshot of files to the snapshot file\n\t\t\t\tawait parcelWatcherLib.writeSnapshot(realPath, snapshotFile, { ignore: this.addPredefinedExcludes(request.excludes), backend: ParcelWatcher.PARCEL_WATCHER_BACKEND });\n\t\t\t} catch (error) {\n\t\t\t\tthis.onUnexpectedError(error, request);\n\t\t\t}\n\n\t\t\t// Signal we are ready now when the first snapshot was written\n\t\t\tif (counter === 1) {\n\t\t\t\tinstance.complete();\n\t\t\t}\n\n\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Schedule again at the next interval\n\t\t\tpollingWatcher.schedule();\n\t\t}, pollingInterval);\n\t\tpollingWatcher.schedule(0);\n\t}\n\n\tprivate async startWatching(request: IRecursiveWatchRequest, restarts = 0): Promise<void> {\n\t\tconst cts = new CancellationTokenSource();\n\n\t\tconst instance = new DeferredPromise<parcelWatcher.AsyncSubscription | undefined>();\n\n\t\t// Remember as watcher instance\n\t\tconst watcher: ParcelWatcherInstance = new ParcelWatcherInstance(\n\t\t\tinstance.p,\n\t\t\trequest,\n\t\t\trestarts,\n\t\t\tcts.token,\n\t\t\tnew RunOnceWorker<IFileChange>(events => this.handleParcelEvents(events, watcher), ParcelWatcher.FILE_CHANGES_HANDLER_DELAY),\n\t\t\tasync () => {\n\t\t\t\tcts.dispose(true);\n\n\t\t\t\twatcher.worker.flush();\n\t\t\t\twatcher.worker.dispose();\n\n\t\t\t\tconst watcherInstance = await instance.p;\n\t\t\t\tawait watcherInstance?.unsubscribe();\n\t\t\t}\n\t\t);\n\t\tthis._watchers.set(this.requestToWatcherKey(request), watcher);\n\n\t\t// Path checks for symbolic links / wrong casing\n\t\tconst { realPath, realPathDiffers, realPathLength } = await this.normalizePath(request);\n\n\t\ttry {\n\t\t\tconst parcelWatcherLib = parcelWatcher;\n\t\t\tconst parcelWatcherInstance = await parcelWatcherLib.subscribe(realPath, (error, parcelEvents) => {\n\t\t\t\tif (watcher.token.isCancellationRequested) {\n\t\t\t\t\treturn; // return early when disposed\n\t\t\t\t}\n\n\t\t\t\t// In any case of an error, treat this like a unhandled exception\n\t\t\t\t// that might require the watcher to restart. We do not really know\n\t\t\t\t// the state of parcel at this point and as such will try to restart\n\t\t\t\t// up to our maximum of restarts.\n\t\t\t\tif (error) {\n\t\t\t\t\tthis.onUnexpectedError(error, request);\n\t\t\t\t}\n\n\t\t\t\t// Handle & emit events\n\t\t\t\tthis.onParcelEvents(parcelEvents, watcher, realPathDiffers, realPathLength);\n\t\t\t}, {\n\t\t\t\tbackend: ParcelWatcher.PARCEL_WATCHER_BACKEND,\n\t\t\t\tignore: this.addPredefinedExcludes(watcher.request.excludes)\n\t\t\t});\n\n\t\t\tthis.trace(`Started watching: '${realPath}' with backend '${ParcelWatcher.PARCEL_WATCHER_BACKEND}'`);\n\n\t\t\tinstance.complete(parcelWatcherInstance);\n\t\t} catch (error) {\n\t\t\tthis.onUnexpectedError(error, request);\n\n\t\t\tinstance.complete(undefined);\n\n\t\t\twatcher.notifyWatchFailed();\n\t\t\tthis._onDidWatchFail.fire(request);\n\t\t}\n\t}\n\n\tprivate addPredefinedExcludes(initialExcludes: string[]): string[] {\n\t\tconst excludes = [...initialExcludes];\n\n\t\tconst predefinedExcludes = ParcelWatcher.PREDEFINED_EXCLUDES[process.platform];\n\t\tif (Array.isArray(predefinedExcludes)) {\n\t\t\tfor (const exclude of predefinedExcludes) {\n\t\t\t\tif (!excludes.includes(exclude)) {\n\t\t\t\t\texcludes.push(exclude);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn excludes;\n\t}\n\n\tprivate onParcelEvents(parcelEvents: parcelWatcher.Event[], watcher: ParcelWatcherInstance, realPathDiffers: boolean, realPathLength: number): void {\n\t\tif (parcelEvents.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Normalize events: handle NFC normalization and symlinks\n\t\t// It is important to do this before checking for includes\n\t\t// to check on the original path.\n\t\tthis.normalizeEvents(parcelEvents, watcher.request, realPathDiffers, realPathLength);\n\n\t\t// Check for includes\n\t\tconst includedEvents = this.handleIncludes(watcher, parcelEvents);\n\n\t\t// Add to event aggregator for later processing\n\t\tfor (const includedEvent of includedEvents) {\n\t\t\twatcher.worker.work(includedEvent);\n\t\t}\n\t}\n\n\tprivate handleIncludes(watcher: ParcelWatcherInstance, parcelEvents: parcelWatcher.Event[]): IFileChange[] {\n\t\tconst events: IFileChange[] = [];\n\n\t\tfor (const { path, type: parcelEventType } of parcelEvents) {\n\t\t\tconst type = ParcelWatcher.MAP_PARCEL_WATCHER_ACTION_TO_FILE_CHANGE.get(parcelEventType)!;\n\t\t\tif (this.verboseLogging) {\n\t\t\t\tthis.traceWithCorrelation(`${type === FileChangeType.ADDED ? '[ADDED]' : type === FileChangeType.DELETED ? '[DELETED]' : '[CHANGED]'} ${path}`, watcher.request);\n\t\t\t}\n\n\t\t\t// Apply include filter if any\n\t\t\tif (!watcher.include(path)) {\n\t\t\t\tif (this.verboseLogging) {\n\t\t\t\t\tthis.traceWithCorrelation(` >> ignored (not included) ${path}`, watcher.request);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tevents.push({ type, resource: URI.file(path), cId: watcher.request.correlationId });\n\t\t\t}\n\t\t}\n\n\t\treturn events;\n\t}\n\n\tprivate handleParcelEvents(parcelEvents: IFileChange[], watcher: ParcelWatcherInstance): void {\n\n\t\t// Coalesce events: merge events of same kind\n\t\tconst coalescedEvents = coalesceEvents(parcelEvents);\n\n\t\t// Filter events: check for specific events we want to exclude\n\t\tconst { events: filteredEvents, rootDeleted } = this.filterEvents(coalescedEvents, watcher);\n\n\t\t// Broadcast to clients\n\t\tthis.emitEvents(filteredEvents, watcher);\n\n\t\t// Handle root path deletes\n\t\tif (rootDeleted) {\n\t\t\tthis.onWatchedPathDeleted(watcher);\n\t\t}\n\t}\n\n\tprivate emitEvents(events: IFileChange[], watcher: ParcelWatcherInstance): void {\n\t\tif (events.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Broadcast to clients via throttler\n\t\tconst worked = this.throttledFileChangesEmitter.work(events);\n\n\t\t// Logging\n\t\tif (!worked) {\n\t\t\tthis.warn(`started ignoring events due to too many file change events at once (incoming: ${events.length}, most recent change: ${events[0].resource.fsPath}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`);\n\t\t} else {\n\t\t\tif (this.throttledFileChangesEmitter.pending > 0) {\n\t\t\t\tthis.trace(`started throttling events due to large amount of file change events at once (pending: ${this.throttledFileChangesEmitter.pending}, most recent change: ${events[0].resource.fsPath}). Use 'files.watcherExclude' setting to exclude folders with lots of changing files (e.g. compilation output).`, watcher);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async normalizePath(request: IRecursiveWatchRequest): Promise<{ realPath: string; realPathDiffers: boolean; realPathLength: number }> {\n\t\tlet realPath = request.path;\n\t\tlet realPathDiffers = false;\n\t\tlet realPathLength = request.path.length;\n\n\t\ttry {\n\n\t\t\t// First check for symbolic link\n\t\t\trealPath = await Promises.realpath(request.path);\n\n\t\t\t// Second check for casing difference\n\t\t\t// Note: this will be a no-op on Linux platforms\n\t\t\tif (request.path === realPath) {\n\t\t\t\trealPath = await realcase(request.path) ?? request.path;\n\t\t\t}\n\n\t\t\t// Correct watch path as needed\n\t\t\tif (request.path !== realPath) {\n\t\t\t\trealPathLength = realPath.length;\n\t\t\t\trealPathDiffers = true;\n\n\t\t\t\tthis.trace(`correcting a path to watch that seems to be a symbolic link or wrong casing (original: ${request.path}, real: ${realPath})`);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\t// ignore\n\t\t}\n\n\t\treturn { realPath, realPathDiffers, realPathLength };\n\t}\n\n\tprivate normalizeEvents(events: parcelWatcher.Event[], request: IRecursiveWatchRequest, realPathDiffers: boolean, realPathLength: number): void {\n\t\tfor (const event of events) {\n\n\t\t\t// Mac uses NFD unicode form on disk, but we want NFC\n\t\t\tif (isMacintosh) {\n\t\t\t\tevent.path = normalizeNFC(event.path);\n\t\t\t}\n\n\t\t\t// Workaround for https://github.com/parcel-bundler/watcher/issues/68\n\t\t\t// where watching root drive letter adds extra backslashes.\n\t\t\tif (isWindows) {\n\t\t\t\tif (request.path.length <= 3) { // for ex. c:, C:\\\n\t\t\t\t\tevent.path = normalize(event.path);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Convert paths back to original form in case it differs\n\t\t\tif (realPathDiffers) {\n\t\t\t\tevent.path = request.path + event.path.substr(realPathLength);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate filterEvents(events: IFileChange[], watcher: ParcelWatcherInstance): { events: IFileChange[]; rootDeleted?: boolean } {\n\t\tconst filteredEvents: IFileChange[] = [];\n\t\tlet rootDeleted = false;\n\n\t\tconst filter = this.isCorrelated(watcher.request) ? watcher.request.filter : undefined; // filtering is only enabled when correlating because watchers are otherwise potentially reused\n\t\tfor (const event of events) {\n\n\t\t\t// Emit to instance subscriptions if any before filtering\n\t\t\tif (watcher.subscriptionsCount > 0) {\n\t\t\t\twatcher.notifyFileChange(event.resource.fsPath, event);\n\t\t\t}\n\n\t\t\t// Filtering\n\t\t\trootDeleted = event.type === FileChangeType.DELETED && isEqual(event.resource.fsPath, watcher.request.path, !isLinux);\n\t\t\tif (isFiltered(event, filter)) {\n\t\t\t\tif (this.verboseLogging) {\n\t\t\t\t\tthis.traceWithCorrelation(` >> ignored (filtered) ${event.resource.fsPath}`, watcher.request);\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Logging\n\t\t\tthis.traceEvent(event, watcher.request);\n\n\t\t\tfilteredEvents.push(event);\n\t\t}\n\n\t\treturn { events: filteredEvents, rootDeleted };\n\t}\n\n\tprivate onWatchedPathDeleted(watcher: ParcelWatcherInstance): void {\n\t\tthis.warn('Watcher shutdown because watched path got deleted', watcher);\n\n\t\twatcher.notifyWatchFailed();\n\t\tthis._onDidWatchFail.fire(watcher.request);\n\t}\n\n\tprivate onUnexpectedError(error: unknown, request?: IRecursiveWatchRequest): void {\n\t\tconst msg = toErrorMessage(error);\n\n\t\t// Specially handle ENOSPC errors that can happen when\n\t\t// the watcher consumes so many file descriptors that\n\t\t// we are running into a limit. We only want to warn\n\t\t// once in this case to avoid log spam.\n\t\t// See https://github.com/microsoft/vscode/issues/7950\n\t\tif (msg.indexOf('No space left on device') !== -1) {\n\t\t\tif (!this.enospcErrorLogged) {\n\t\t\t\tthis.error('Inotify limit reached (ENOSPC)', request);\n\n\t\t\t\tthis.enospcErrorLogged = true;\n\t\t\t}\n\t\t}\n\n\t\t// Version 2.5.1 introduces 3 new errors on macOS\n\t\t// via https://github.dev/parcel-bundler/watcher/pull/196\n\t\telse if (msg.indexOf('File system must be re-scanned') !== -1) {\n\t\t\tthis.error(msg, request);\n\t\t}\n\n\t\t// Any other error is unexpected and we should try to\n\t\t// restart the watcher as a result to get into healthy\n\t\t// state again if possible and if not attempted too much\n\t\telse {\n\t\t\tthis.error(`Unexpected error: ${msg} (EUNKNOWN)`, request);\n\n\t\t\tthis._onDidError.fire({ request, error: msg });\n\t\t}\n\t}\n\n\toverride async stop(): Promise<void> {\n\t\tawait super.stop();\n\n\t\tfor (const watcher of this.watchers) {\n\t\t\tawait this.stopWatching(watcher);\n\t\t}\n\t}\n\n\tprotected restartWatching(watcher: ParcelWatcherInstance, delay = 800): void {\n\n\t\t// Restart watcher delayed to accomodate for\n\t\t// changes on disk that have triggered the\n\t\t// need for a restart in the first place.\n\t\tconst scheduler = new RunOnceScheduler(async () => {\n\t\t\tif (watcher.token.isCancellationRequested) {\n\t\t\t\treturn; // return early when disposed\n\t\t\t}\n\n\t\t\tconst restartPromise = new DeferredPromise<void>();\n\t\t\ttry {\n\n\t\t\t\t// Await the watcher having stopped, as this is\n\t\t\t\t// needed to properly re-watch the same path\n\t\t\t\tawait this.stopWatching(watcher, restartPromise.p);\n\n\t\t\t\t// Start watcher again counting the restarts\n\t\t\t\tif (watcher.request.pollingInterval) {\n\t\t\t\t\tawait this.startPolling(watcher.request, watcher.request.pollingInterval, watcher.restarts + 1);\n\t\t\t\t} else {\n\t\t\t\t\tawait this.startWatching(watcher.request, watcher.restarts + 1);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\trestartPromise.complete();\n\t\t\t}\n\t\t}, delay);\n\n\t\tscheduler.schedule();\n\t\twatcher.token.onCancellationRequested(() => scheduler.dispose());\n\t}\n\n\tprivate async stopWatching(watcher: ParcelWatcherInstance, joinRestart?: Promise<void>): Promise<void> {\n\t\tthis.trace(`stopping file watcher`, watcher);\n\n\t\tthis._watchers.delete(this.requestToWatcherKey(watcher.request));\n\n\t\ttry {\n\t\t\tawait watcher.stop(joinRestart);\n\t\t} catch (error) {\n\t\t\tthis.error(`Unexpected error stopping watcher: ${toErrorMessage(error)}`, watcher.request);\n\t\t}\n\t}\n\n\tprotected async removeDuplicateRequests(requests: IRecursiveWatchRequest[], validatePaths = true): Promise<IRecursiveWatchRequest[]> {\n\n\t\t// Sort requests by path length to have shortest first\n\t\t// to have a way to prevent children to be watched if\n\t\t// parents exist.\n\t\trequests.sort((requestA, requestB) => requestA.path.length - requestB.path.length);\n\n\t\t// Ignore requests for the same paths that have the same correlation\n\t\tconst mapCorrelationtoRequests = new Map<number | undefined /* correlation */, Map<string, IRecursiveWatchRequest>>();\n\t\tfor (const request of requests) {\n\t\t\tif (request.excludes.includes(GLOBSTAR)) {\n\t\t\t\tcontinue; // path is ignored entirely (via `**` glob exclude)\n\t\t\t}\n\n\n\t\t\tlet requestsForCorrelation = mapCorrelationtoRequests.get(request.correlationId);\n\t\t\tif (!requestsForCorrelation) {\n\t\t\t\trequestsForCorrelation = new Map<string, IRecursiveWatchRequest>();\n\t\t\t\tmapCorrelationtoRequests.set(request.correlationId, requestsForCorrelation);\n\t\t\t}\n\n\t\t\tconst path = this.pathToWatcherKey(request.path);\n\t\t\tif (requestsForCorrelation.has(path)) {\n\t\t\t\tthis.trace(`ignoring a request for watching who's path is already watched: ${this.requestToString(request)}`);\n\t\t\t}\n\n\t\t\trequestsForCorrelation.set(path, request);\n\t\t}\n\n\t\tconst normalizedRequests: IRecursiveWatchRequest[] = [];\n\n\t\tfor (const requestsForCorrelation of mapCorrelationtoRequests.values()) {\n\n\t\t\t// Only consider requests for watching that are not\n\t\t\t// a child of an existing request path to prevent\n\t\t\t// duplication. In addition, drop any request where\n\t\t\t// everything is excluded (via `**` glob).\n\t\t\t//\n\t\t\t// However, allow explicit requests to watch folders\n\t\t\t// that are symbolic links because the Parcel watcher\n\t\t\t// does not allow to recursively watch symbolic links.\n\n\t\t\tconst requestTrie = TernarySearchTree.forPaths<IRecursiveWatchRequest>(!isLinux);\n\n\t\t\tfor (const request of requestsForCorrelation.values()) {\n\n\t\t\t\t// Check for overlapping request paths (but preserve symbolic links)\n\t\t\t\tif (requestTrie.findSubstr(request.path)) {\n\t\t\t\t\tif (requestTrie.has(request.path)) {\n\t\t\t\t\t\tthis.trace(`ignoring a request for watching who's path is already watched: ${this.requestToString(request)}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!(await promises.lstat(request.path)).isSymbolicLink()) {\n\t\t\t\t\t\t\t\tthis.trace(`ignoring a request for watching who's parent is already watched: ${this.requestToString(request)}`);\n\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tthis.trace(`ignoring a request for watching who's lstat failed to resolve: ${this.requestToString(request)} (error: ${error})`);\n\n\t\t\t\t\t\t\tthis._onDidWatchFail.fire(request);\n\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check for invalid paths\n\t\t\t\tif (validatePaths && !(await this.isPathValid(request.path))) {\n\t\t\t\t\tthis._onDidWatchFail.fire(request);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\trequestTrie.set(request.path, request);\n\t\t\t}\n\n\t\t\tnormalizedRequests.push(...Array.from(requestTrie).map(([, request]) => request));\n\t\t}\n\n\t\treturn normalizedRequests;\n\t}\n\n\tprivate async isPathValid(path: string): Promise<boolean> {\n\t\ttry {\n\t\t\tconst stat = await promises.stat(path);\n\t\t\tif (!stat.isDirectory()) {\n\t\t\t\tthis.trace(`ignoring a path for watching that is a file and not a folder: ${path}`);\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.trace(`ignoring a path for watching who's stat info failed to resolve: ${path} (error: ${error})`);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tsubscribe(path: string, callback: (error: true | null, change?: IFileChange) => void): IDisposable | undefined {\n\t\tfor (const watcher of this.watchers) {\n\t\t\tif (watcher.failed) {\n\t\t\t\tcontinue; // watcher has already failed\n\t\t\t}\n\n\t\t\tif (!isEqualOrParent(path, watcher.request.path, !isLinux)) {\n\t\t\t\tcontinue; // watcher does not consider this path\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\twatcher.exclude(path) ||\n\t\t\t\t!watcher.include(path)\n\t\t\t) {\n\t\t\t\tcontinue; // parcel instance does not consider this path\n\t\t\t}\n\n\t\t\tconst disposables = new DisposableStore();\n\n\t\t\tdisposables.add(Event.once(watcher.onDidStop)(async e => {\n\t\t\t\tawait e.joinRestart; // if we are restarting, await that so that we can possibly reuse this watcher again\n\t\t\t\tif (disposables.isDisposed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcallback(true /* error */);\n\t\t\t}));\n\t\t\tdisposables.add(Event.once(watcher.onDidFail)(() => callback(true /* error */)));\n\t\t\tdisposables.add(watcher.subscribe(path, change => callback(null, change)));\n\n\t\t\treturn disposables;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprotected trace(message: string, watcher?: ParcelWatcherInstance): void {\n\t\tif (this.verboseLogging) {\n\t\t\tthis._onDidLogMessage.fire({ type: 'trace', message: this.toMessage(message, watcher?.request) });\n\t\t}\n\t}\n\n\tprotected warn(message: string, watcher?: ParcelWatcherInstance) {\n\t\tthis._onDidLogMessage.fire({ type: 'warn', message: this.toMessage(message, watcher?.request) });\n\t}\n\n\tprivate error(message: string, request?: IRecursiveWatchRequest) {\n\t\tthis._onDidLogMessage.fire({ type: 'error', message: this.toMessage(message, request) });\n\t}\n\n\tprivate toMessage(message: string, request?: IRecursiveWatchRequest): string {\n\t\treturn request ? `[File Watcher ('parcel')] ${message} (path: ${request.path})` : `[File Watcher ('parcel')] ${message}`;\n\t}\n\n\tprotected get recursiveWatcher() { return this; }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}