d663329023a79cdfdba8c9f90bea2d13
/* istanbul ignore next */
function cov_1ub9wfvryf() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostUriOpener.ts";
  var hash = "d595517fd2ab83aad13652dfce45399bf3a22f77";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostUriOpener.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 30
        },
        end: {
          line: 10,
          column: 68
        }
      },
      "1": {
        start: {
          line: 12,
          column: 15
        },
        end: {
          line: 12,
          column: 24
        }
      },
      "2": {
        start: {
          line: 14,
          column: 8
        },
        end: {
          line: 14,
          column: 77
        }
      },
      "3": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 19,
          column: 9
        }
      },
      "4": {
        start: {
          line: 18,
          column: 12
        },
        end: {
          line: 18,
          column: 73
        }
      },
      "5": {
        start: {
          line: 20,
          column: 30
        },
        end: {
          line: 20,
          column: 110
        }
      },
      "6": {
        start: {
          line: 20,
          column: 62
        },
        end: {
          line: 20,
          column: 109
        }
      },
      "7": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 23,
          column: 9
        }
      },
      "8": {
        start: {
          line: 22,
          column: 12
        },
        end: {
          line: 22,
          column: 120
        }
      },
      "9": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 38
        }
      },
      "10": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 25,
          column: 90
        }
      },
      "11": {
        start: {
          line: 26,
          column: 8
        },
        end: {
          line: 29,
          column: 11
        }
      },
      "12": {
        start: {
          line: 27,
          column: 12
        },
        end: {
          line: 27,
          column: 37
        }
      },
      "13": {
        start: {
          line: 28,
          column: 12
        },
        end: {
          line: 28,
          column: 49
        }
      },
      "14": {
        start: {
          line: 32,
          column: 23
        },
        end: {
          line: 32,
          column: 44
        }
      },
      "15": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 35,
          column: 9
        }
      },
      "16": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 34,
          column: 61
        }
      },
      "17": {
        start: {
          line: 36,
          column: 20
        },
        end: {
          line: 36,
          column: 45
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 53
        }
      },
      "19": {
        start: {
          line: 40,
          column: 23
        },
        end: {
          line: 40,
          column: 44
        }
      },
      "20": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "21": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 58
        }
      },
      "22": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 46,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 13,
            column: 4
          },
          end: {
            line: 13,
            column: 5
          }
        },
        loc: {
          start: {
            line: 13,
            column: 29
          },
          end: {
            line: 15,
            column: 5
          }
        },
        line: 13
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 65
          },
          end: {
            line: 30,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 52
          },
          end: {
            line: 20,
            column: 53
          }
        },
        loc: {
          start: {
            line: 20,
            column: 62
          },
          end: {
            line: 20,
            column: 109
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 26,
            column: 28
          },
          end: {
            line: 26,
            column: 29
          }
        },
        loc: {
          start: {
            line: 26,
            column: 34
          },
          end: {
            line: 29,
            column: 9
          }
        },
        line: 26
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        loc: {
          start: {
            line: 31,
            column: 48
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 31
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        loc: {
          start: {
            line: 39,
            column: 39
          },
          end: {
            line: 47,
            column: 5
          }
        },
        line: 39
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 17,
            column: 8
          },
          end: {
            line: 19,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 17,
            column: 8
          },
          end: {
            line: 19,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 17
      },
      "1": {
        loc: {
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 23,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 21,
            column: 8
          },
          end: {
            line: 23,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 21
      },
      "2": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 33
      },
      "3": {
        loc: {
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostUriOpener.ts",
      mappings: "AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,YAAY,EAAE,MAAM,mCAAmC,CAAC;AACjE,OAAO,EAAE,OAAO,EAAE,MAAM,iCAAiC,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAiB,MAAM,6BAA6B,CAAC;AAIjE,OAAO,EAAwC,WAAW,EAA6B,MAAM,uBAAuB,CAAC;AAGrH,MAAM,OAAO,iBAAiB;IAErB,MAAM,CAAU,gBAAgB,GAAG,IAAI,GAAG,CAAS,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IAEzE,MAAM,CAA4B;IAElC,QAAQ,GAAG,IAAI,GAAG,EAAoC,CAAC;IAExE,YACC,WAAyB;QAEzB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC;IACtE,CAAC;IAED,yBAAyB,CACxB,WAAgC,EAChC,EAAU,EACV,MAAgC,EAChC,QAA0C;QAE1C,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC;YAC3B,MAAM,IAAI,KAAK,CAAC,mBAAmB,EAAE,sBAAsB,CAAC,CAAC;QAC9D,CAAC;QAED,MAAM,aAAa,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACvG,IAAI,aAAa,EAAE,CAAC;YACnB,MAAM,IAAI,KAAK,CAAC,WAAW,aAAa,kEAAkE,CAAC,CAAC;QAC7G,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,EAAE,QAAQ,CAAC,OAAO,EAAE,WAAW,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;QAElF,OAAO,YAAY,CAAC,GAAG,EAAE;YACxB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,aAA4B,EAAE,KAAwB;QACnF,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC;QAClD,CAAC;QAED,MAAM,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QACtC,OAAO,MAAM,CAAC,kBAAkB,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,EAAU,EAAE,OAAiE,EAAE,KAAwB;QACrH,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,uBAAuB,EAAE,GAAG,CAAC,CAAC;QAC/C,CAAC;QAED,OAAO,MAAM,CAAC,eAAe,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAE;YAC9D,SAAS,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC;SACxC,EAAE,KAAK,CAAC,CAAC;IACX,CAAC",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostUriOpener.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport * as languages from '../../../editor/common/languages.js';\nimport { ExtensionIdentifier } from '../../../platform/extensions/common/extensions.js';\nimport type * as vscode from 'vscode';\nimport { ExtHostUriOpenersShape, IMainContext, MainContext, MainThreadUriOpenersShape } from './extHost.protocol.js';\n\n\nexport class ExtHostUriOpeners implements ExtHostUriOpenersShape {\n\n\tprivate static readonly supportedSchemes = new Set<string>([Schemas.http, Schemas.https]);\n\n\tprivate readonly _proxy: MainThreadUriOpenersShape;\n\n\tprivate readonly _openers = new Map<string, vscode.ExternalUriOpener>();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t) {\n\t\tthis._proxy = mainContext.getProxy(MainContext.MainThreadUriOpeners);\n\t}\n\n\tregisterExternalUriOpener(\n\t\textensionId: ExtensionIdentifier,\n\t\tid: string,\n\t\topener: vscode.ExternalUriOpener,\n\t\tmetadata: vscode.ExternalUriOpenerMetadata,\n\t): vscode.Disposable {\n\t\tif (this._openers.has(id)) {\n\t\t\tthrow new Error(`Opener with id '${id}' already registered`);\n\t\t}\n\n\t\tconst invalidScheme = metadata.schemes.find(scheme => !ExtHostUriOpeners.supportedSchemes.has(scheme));\n\t\tif (invalidScheme) {\n\t\t\tthrow new Error(`Scheme '${invalidScheme}' is not supported. Only http and https are currently supported.`);\n\t\t}\n\n\t\tthis._openers.set(id, opener);\n\t\tthis._proxy.$registerUriOpener(id, metadata.schemes, extensionId, metadata.label);\n\n\t\treturn toDisposable(() => {\n\t\t\tthis._openers.delete(id);\n\t\t\tthis._proxy.$unregisterUriOpener(id);\n\t\t});\n\t}\n\n\tasync $canOpenUri(id: string, uriComponents: UriComponents, token: CancellationToken): Promise<languages.ExternalUriOpenerPriority> {\n\t\tconst opener = this._openers.get(id);\n\t\tif (!opener) {\n\t\t\tthrow new Error(`Unknown opener with id: ${id}`);\n\t\t}\n\n\t\tconst uri = URI.revive(uriComponents);\n\t\treturn opener.canOpenExternalUri(uri, token);\n\t}\n\n\tasync $openUri(id: string, context: { resolvedUri: UriComponents; sourceUri: UriComponents }, token: CancellationToken): Promise<void> {\n\t\tconst opener = this._openers.get(id);\n\t\tif (!opener) {\n\t\t\tthrow new Error(`Unknown opener id: '${id}'`);\n\t\t}\n\n\t\treturn opener.openExternalUri(URI.revive(context.resolvedUri), {\n\t\t\tsourceUri: URI.revive(context.sourceUri)\n\t\t}, token);\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d595517fd2ab83aad13652dfce45399bf3a22f77"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1ub9wfvryf = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1ub9wfvryf();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { toDisposable } from '../../../base/common/lifecycle.js';
import { Schemas } from '../../../base/common/network.js';
import { URI } from '../../../base/common/uri.js';
import { MainContext } from './extHost.protocol.js';
export class ExtHostUriOpeners {
  static supportedSchemes =
  /* istanbul ignore next */
  (cov_1ub9wfvryf().s[0]++, new Set([Schemas.http, Schemas.https]));
  _proxy;
  _openers =
  /* istanbul ignore next */
  (cov_1ub9wfvryf().s[1]++, new Map());
  constructor(mainContext) {
    /* istanbul ignore next */
    cov_1ub9wfvryf().f[0]++;
    cov_1ub9wfvryf().s[2]++;
    this._proxy = mainContext.getProxy(MainContext.MainThreadUriOpeners);
  }
  registerExternalUriOpener(extensionId, id, opener, metadata) {
    /* istanbul ignore next */
    cov_1ub9wfvryf().f[1]++;
    cov_1ub9wfvryf().s[3]++;
    if (this._openers.has(id)) {
      /* istanbul ignore next */
      cov_1ub9wfvryf().b[0][0]++;
      cov_1ub9wfvryf().s[4]++;
      throw new Error(`Opener with id '${id}' already registered`);
    } else
    /* istanbul ignore next */
    {
      cov_1ub9wfvryf().b[0][1]++;
    }
    const invalidScheme =
    /* istanbul ignore next */
    (cov_1ub9wfvryf().s[5]++, metadata.schemes.find(scheme => {
      /* istanbul ignore next */
      cov_1ub9wfvryf().f[2]++;
      cov_1ub9wfvryf().s[6]++;
      return !ExtHostUriOpeners.supportedSchemes.has(scheme);
    }));
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[7]++;
    if (invalidScheme) {
      /* istanbul ignore next */
      cov_1ub9wfvryf().b[1][0]++;
      cov_1ub9wfvryf().s[8]++;
      throw new Error(`Scheme '${invalidScheme}' is not supported. Only http and https are currently supported.`);
    } else
    /* istanbul ignore next */
    {
      cov_1ub9wfvryf().b[1][1]++;
    }
    cov_1ub9wfvryf().s[9]++;
    this._openers.set(id, opener);
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[10]++;
    this._proxy.$registerUriOpener(id, metadata.schemes, extensionId, metadata.label);
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[11]++;
    return toDisposable(() => {
      /* istanbul ignore next */
      cov_1ub9wfvryf().f[3]++;
      cov_1ub9wfvryf().s[12]++;
      this._openers.delete(id);
      /* istanbul ignore next */
      cov_1ub9wfvryf().s[13]++;
      this._proxy.$unregisterUriOpener(id);
    });
  }
  async $canOpenUri(id, uriComponents, token) {
    /* istanbul ignore next */
    cov_1ub9wfvryf().f[4]++;
    const opener =
    /* istanbul ignore next */
    (cov_1ub9wfvryf().s[14]++, this._openers.get(id));
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[15]++;
    if (!opener) {
      /* istanbul ignore next */
      cov_1ub9wfvryf().b[2][0]++;
      cov_1ub9wfvryf().s[16]++;
      throw new Error(`Unknown opener with id: ${id}`);
    } else
    /* istanbul ignore next */
    {
      cov_1ub9wfvryf().b[2][1]++;
    }
    const uri =
    /* istanbul ignore next */
    (cov_1ub9wfvryf().s[17]++, URI.revive(uriComponents));
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[18]++;
    return opener.canOpenExternalUri(uri, token);
  }
  async $openUri(id, context, token) {
    /* istanbul ignore next */
    cov_1ub9wfvryf().f[5]++;
    const opener =
    /* istanbul ignore next */
    (cov_1ub9wfvryf().s[19]++, this._openers.get(id));
    /* istanbul ignore next */
    cov_1ub9wfvryf().s[20]++;
    if (!opener) {
      /* istanbul ignore next */
      cov_1ub9wfvryf().b[3][0]++;
      cov_1ub9wfvryf().s[21]++;
      throw new Error(`Unknown opener id: '${id}'`);
    } else
    /* istanbul ignore next */
    {
      cov_1ub9wfvryf().b[3][1]++;
    }
    cov_1ub9wfvryf().s[22]++;
    return opener.openExternalUri(URI.revive(context.resolvedUri), {
      sourceUri: URI.revive(context.sourceUri)
    }, token);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXViOXdmdnJ5ZiIsImFjdHVhbENvdmVyYWdlIiwidG9EaXNwb3NhYmxlIiwiU2NoZW1hcyIsIlVSSSIsIk1haW5Db250ZXh0IiwiRXh0SG9zdFVyaU9wZW5lcnMiLCJzdXBwb3J0ZWRTY2hlbWVzIiwicyIsIlNldCIsImh0dHAiLCJodHRwcyIsIl9wcm94eSIsIl9vcGVuZXJzIiwiTWFwIiwiY29uc3RydWN0b3IiLCJtYWluQ29udGV4dCIsImYiLCJnZXRQcm94eSIsIk1haW5UaHJlYWRVcmlPcGVuZXJzIiwicmVnaXN0ZXJFeHRlcm5hbFVyaU9wZW5lciIsImV4dGVuc2lvbklkIiwiaWQiLCJvcGVuZXIiLCJtZXRhZGF0YSIsImhhcyIsImIiLCJFcnJvciIsImludmFsaWRTY2hlbWUiLCJzY2hlbWVzIiwiZmluZCIsInNjaGVtZSIsInNldCIsIiRyZWdpc3RlclVyaU9wZW5lciIsImxhYmVsIiwiZGVsZXRlIiwiJHVucmVnaXN0ZXJVcmlPcGVuZXIiLCIkY2FuT3BlblVyaSIsInVyaUNvbXBvbmVudHMiLCJ0b2tlbiIsImdldCIsInVyaSIsInJldml2ZSIsImNhbk9wZW5FeHRlcm5hbFVyaSIsIiRvcGVuVXJpIiwiY29udGV4dCIsIm9wZW5FeHRlcm5hbFVyaSIsInJlc29sdmVkVXJpIiwic291cmNlVXJpIl0sInNvdXJjZXMiOlsiL2hvbWUvdXNlci9EZXNrdG9wL01pbnRNaW5kL3NyYy92cy93b3JrYmVuY2gvYXBpL2NvbW1vbi9leHRIb3N0VXJpT3BlbmVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlbiB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2NhbmNlbGxhdGlvbi5qcyc7XG5pbXBvcnQgeyB0b0Rpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL25ldHdvcmsuanMnO1xuaW1wb3J0IHsgVVJJLCBVcmlDb21wb25lbnRzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCAqIGFzIGxhbmd1YWdlcyBmcm9tICcuLi8uLi8uLi9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy5qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25JZGVudGlmaWVyIH0gZnJvbSAnLi4vLi4vLi4vcGxhdGZvcm0vZXh0ZW5zaW9ucy9jb21tb24vZXh0ZW5zaW9ucy5qcyc7XG5pbXBvcnQgdHlwZSAqIGFzIHZzY29kZSBmcm9tICd2c2NvZGUnO1xuaW1wb3J0IHsgRXh0SG9zdFVyaU9wZW5lcnNTaGFwZSwgSU1haW5Db250ZXh0LCBNYWluQ29udGV4dCwgTWFpblRocmVhZFVyaU9wZW5lcnNTaGFwZSB9IGZyb20gJy4vZXh0SG9zdC5wcm90b2NvbC5qcyc7XG5cblxuZXhwb3J0IGNsYXNzIEV4dEhvc3RVcmlPcGVuZXJzIGltcGxlbWVudHMgRXh0SG9zdFVyaU9wZW5lcnNTaGFwZSB7XG5cblx0cHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgc3VwcG9ydGVkU2NoZW1lcyA9IG5ldyBTZXQ8c3RyaW5nPihbU2NoZW1hcy5odHRwLCBTY2hlbWFzLmh0dHBzXSk7XG5cblx0cHJpdmF0ZSByZWFkb25seSBfcHJveHk6IE1haW5UaHJlYWRVcmlPcGVuZXJzU2hhcGU7XG5cblx0cHJpdmF0ZSByZWFkb25seSBfb3BlbmVycyA9IG5ldyBNYXA8c3RyaW5nLCB2c2NvZGUuRXh0ZXJuYWxVcmlPcGVuZXI+KCk7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0bWFpbkNvbnRleHQ6IElNYWluQ29udGV4dCxcblx0KSB7XG5cdFx0dGhpcy5fcHJveHkgPSBtYWluQ29udGV4dC5nZXRQcm94eShNYWluQ29udGV4dC5NYWluVGhyZWFkVXJpT3BlbmVycyk7XG5cdH1cblxuXHRyZWdpc3RlckV4dGVybmFsVXJpT3BlbmVyKFxuXHRcdGV4dGVuc2lvbklkOiBFeHRlbnNpb25JZGVudGlmaWVyLFxuXHRcdGlkOiBzdHJpbmcsXG5cdFx0b3BlbmVyOiB2c2NvZGUuRXh0ZXJuYWxVcmlPcGVuZXIsXG5cdFx0bWV0YWRhdGE6IHZzY29kZS5FeHRlcm5hbFVyaU9wZW5lck1ldGFkYXRhLFxuXHQpOiB2c2NvZGUuRGlzcG9zYWJsZSB7XG5cdFx0aWYgKHRoaXMuX29wZW5lcnMuaGFzKGlkKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBPcGVuZXIgd2l0aCBpZCAnJHtpZH0nIGFscmVhZHkgcmVnaXN0ZXJlZGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGludmFsaWRTY2hlbWUgPSBtZXRhZGF0YS5zY2hlbWVzLmZpbmQoc2NoZW1lID0+ICFFeHRIb3N0VXJpT3BlbmVycy5zdXBwb3J0ZWRTY2hlbWVzLmhhcyhzY2hlbWUpKTtcblx0XHRpZiAoaW52YWxpZFNjaGVtZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBTY2hlbWUgJyR7aW52YWxpZFNjaGVtZX0nIGlzIG5vdCBzdXBwb3J0ZWQuIE9ubHkgaHR0cCBhbmQgaHR0cHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQuYCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fb3BlbmVycy5zZXQoaWQsIG9wZW5lcik7XG5cdFx0dGhpcy5fcHJveHkuJHJlZ2lzdGVyVXJpT3BlbmVyKGlkLCBtZXRhZGF0YS5zY2hlbWVzLCBleHRlbnNpb25JZCwgbWV0YWRhdGEubGFiZWwpO1xuXG5cdFx0cmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiB7XG5cdFx0XHR0aGlzLl9vcGVuZXJzLmRlbGV0ZShpZCk7XG5cdFx0XHR0aGlzLl9wcm94eS4kdW5yZWdpc3RlclVyaU9wZW5lcihpZCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyAkY2FuT3BlblVyaShpZDogc3RyaW5nLCB1cmlDb21wb25lbnRzOiBVcmlDb21wb25lbnRzLCB0b2tlbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPGxhbmd1YWdlcy5FeHRlcm5hbFVyaU9wZW5lclByaW9yaXR5PiB7XG5cdFx0Y29uc3Qgb3BlbmVyID0gdGhpcy5fb3BlbmVycy5nZXQoaWQpO1xuXHRcdGlmICghb3BlbmVyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gb3BlbmVyIHdpdGggaWQ6ICR7aWR9YCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXJpID0gVVJJLnJldml2ZSh1cmlDb21wb25lbnRzKTtcblx0XHRyZXR1cm4gb3BlbmVyLmNhbk9wZW5FeHRlcm5hbFVyaSh1cmksIHRva2VuKTtcblx0fVxuXG5cdGFzeW5jICRvcGVuVXJpKGlkOiBzdHJpbmcsIGNvbnRleHQ6IHsgcmVzb2x2ZWRVcmk6IFVyaUNvbXBvbmVudHM7IHNvdXJjZVVyaTogVXJpQ29tcG9uZW50cyB9LCB0b2tlbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBvcGVuZXIgPSB0aGlzLl9vcGVuZXJzLmdldChpZCk7XG5cdFx0aWYgKCFvcGVuZXIpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVW5rbm93biBvcGVuZXIgaWQ6ICcke2lkfSdgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3BlbmVyLm9wZW5FeHRlcm5hbFVyaShVUkkucmV2aXZlKGNvbnRleHQucmVzb2x2ZWRVcmkpLCB7XG5cdFx0XHRzb3VyY2VVcmk6IFVSSS5yZXZpdmUoY29udGV4dC5zb3VyY2VVcmkpXG5cdFx0fSwgdG9rZW4pO1xuXHR9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTZCQztJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBN0JEOzs7O0FBTUEsU0FBU0UsWUFBWSxRQUFRLG1DQUFtQztBQUNoRSxTQUFTQyxPQUFPLFFBQVEsaUNBQWlDO0FBQ3pELFNBQVNDLEdBQUcsUUFBdUIsNkJBQTZCO0FBSWhFLFNBQStDQyxXQUFXLFFBQW1DLHVCQUF1QjtBQUdw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