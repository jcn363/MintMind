{"version":3,"names":["cov_1vf7dz917y","actualCoverage","isNonEmptyArray","Emitter","hash","ResourceMap","basename","extUri","splitLines","Range","IMarkerData","MarkerSeverity","unsupportedSchemas","compareMarkersByUri","a","b","f","s","compare","resource","compareResourceMarkers","firstMarkerOfA","markers","firstMarkerOfB","res","marker","severity","path","localeCompare","name","ResourceMarkers","id","_markersMap","_cachedMarkers","_total","constructor","fsPath","values","flat","sort","_compareMarkers","has","uri","set","delete","length","undefined","array","get","total","compareRangesUsingStarts","Marker","relatedInformation","range","_lines","lines","message","toString","JSON","stringify","map","r","raw","MarkerTableItem","sourceMatches","codeMatches","messageMatches","fileMatches","RelatedInformation","MarkersModel","cachedSortedResources","_onDidChange","onDidChange","event","resourceMarkers","resourcesByUri","Map","reset","removed","Set","resourceMarker","add","clear","fire","added","updated","getResourceMarkers","getComparisonKey","setResourceMarkers","resourcesMarkers","change","rawMarkers","scheme","key","resourceMarkersId","with","fragment","markersCountByKey","rawMarker","makeKey","index","markerId","startLineNumber","startColumn","endLineNumber","endColumn","size","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/markers/browser/markersModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IMatch } from '../../../../base/common/filters.js';\nimport { hash } from '../../../../base/common/hash.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { basename, extUri } from '../../../../base/common/resources.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { IMarker, IMarkerData, IRelatedInformation, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { unsupportedSchemas } from '../../../../platform/markers/common/markerService.js';\n\nexport type MarkerElement = ResourceMarkers | Marker | RelatedInformation;\n\nexport function compareMarkersByUri(a: IMarker, b: IMarker) {\n\treturn extUri.compare(a.resource, b.resource);\n}\n\nfunction compareResourceMarkers(a: ResourceMarkers, b: ResourceMarkers): number {\n\tconst [firstMarkerOfA] = a.markers;\n\tconst [firstMarkerOfB] = b.markers;\n\tlet res = 0;\n\tif (firstMarkerOfA && firstMarkerOfB) {\n\t\tres = MarkerSeverity.compare(firstMarkerOfA.marker.severity, firstMarkerOfB.marker.severity);\n\t}\n\tif (res === 0) {\n\t\tres = a.path.localeCompare(b.path) || a.name.localeCompare(b.name);\n\t}\n\treturn res;\n}\n\n\nexport class ResourceMarkers {\n\n\treadonly path: string;\n\n\treadonly name: string;\n\n\tprivate _markersMap = new ResourceMap<Marker[]>();\n\tprivate _cachedMarkers: Marker[] | undefined;\n\tprivate _total: number = 0;\n\n\tconstructor(readonly id: string, readonly resource: URI) {\n\t\tthis.path = this.resource.fsPath;\n\t\tthis.name = basename(this.resource);\n\t}\n\n\tget markers(): readonly Marker[] {\n\t\tif (!this._cachedMarkers) {\n\t\t\tthis._cachedMarkers = [...this._markersMap.values()].flat().sort(ResourceMarkers._compareMarkers);\n\t\t}\n\t\treturn this._cachedMarkers;\n\t}\n\n\thas(uri: URI) {\n\t\treturn this._markersMap.has(uri);\n\t}\n\n\tset(uri: URI, marker: Marker[]) {\n\t\tthis.delete(uri);\n\t\tif (isNonEmptyArray(marker)) {\n\t\t\tthis._markersMap.set(uri, marker);\n\t\t\tthis._total += marker.length;\n\t\t\tthis._cachedMarkers = undefined;\n\t\t}\n\t}\n\n\tdelete(uri: URI) {\n\t\tconst array = this._markersMap.get(uri);\n\t\tif (array) {\n\t\t\tthis._total -= array.length;\n\t\t\tthis._cachedMarkers = undefined;\n\t\t\tthis._markersMap.delete(uri);\n\t\t}\n\t}\n\n\tget total() {\n\t\treturn this._total;\n\t}\n\n\tprivate static _compareMarkers(a: Marker, b: Marker): number {\n\t\treturn MarkerSeverity.compare(a.marker.severity, b.marker.severity)\n\t\t\t|| extUri.compare(a.resource, b.resource)\n\t\t\t|| Range.compareRangesUsingStarts(a.marker, b.marker);\n\t}\n}\n\nexport class Marker {\n\n\tget resource(): URI { return this.marker.resource; }\n\tget range(): IRange { return this.marker; }\n\n\tprivate _lines: string[] | undefined;\n\tget lines(): string[] {\n\t\tif (!this._lines) {\n\t\t\tthis._lines = splitLines(this.marker.message);\n\t\t}\n\t\treturn this._lines;\n\t}\n\n\tconstructor(\n\t\treadonly id: string,\n\t\treadonly marker: IMarker,\n\t\treadonly relatedInformation: RelatedInformation[] = []\n\t) { }\n\n\ttoString(): string {\n\t\treturn JSON.stringify({\n\t\t\t...this.marker,\n\t\t\tresource: this.marker.resource.path,\n\t\t\trelatedInformation: this.relatedInformation.length ? this.relatedInformation.map(r => ({ ...r.raw, resource: r.raw.resource.path })) : undefined\n\t\t}, null, '\\t');\n\t}\n}\n\nexport class MarkerTableItem extends Marker {\n\tconstructor(\n\t\tmarker: Marker,\n\t\treadonly sourceMatches?: IMatch[],\n\t\treadonly codeMatches?: IMatch[],\n\t\treadonly messageMatches?: IMatch[],\n\t\treadonly fileMatches?: IMatch[]\n\t) {\n\t\tsuper(marker.id, marker.marker, marker.relatedInformation);\n\t}\n}\n\nexport class RelatedInformation {\n\n\tconstructor(\n\t\treadonly id: string,\n\t\treadonly marker: IMarker,\n\t\treadonly raw: IRelatedInformation\n\t) { }\n}\n\nexport interface MarkerChangesEvent {\n\treadonly added: Set<ResourceMarkers>;\n\treadonly removed: Set<ResourceMarkers>;\n\treadonly updated: Set<ResourceMarkers>;\n}\n\nexport class MarkersModel {\n\n\tprivate cachedSortedResources: ResourceMarkers[] | undefined = undefined;\n\n\tprivate readonly _onDidChange = new Emitter<MarkerChangesEvent>();\n\treadonly onDidChange: Event<MarkerChangesEvent> = this._onDidChange.event;\n\n\tget resourceMarkers(): ResourceMarkers[] {\n\t\tif (!this.cachedSortedResources) {\n\t\t\tthis.cachedSortedResources = [...this.resourcesByUri.values()].sort(compareResourceMarkers);\n\t\t}\n\t\treturn this.cachedSortedResources;\n\t}\n\n\tprivate resourcesByUri: Map<string, ResourceMarkers>;\n\n\tconstructor() {\n\t\tthis.resourcesByUri = new Map<string, ResourceMarkers>();\n\t}\n\n\treset(): void {\n\t\tconst removed = new Set<ResourceMarkers>();\n\t\tfor (const resourceMarker of this.resourcesByUri.values()) {\n\t\t\tremoved.add(resourceMarker);\n\t\t}\n\t\tthis.resourcesByUri.clear();\n\t\tthis._total = 0;\n\t\tthis._onDidChange.fire({ removed, added: new Set<ResourceMarkers>(), updated: new Set<ResourceMarkers>() });\n\t}\n\n\tprivate _total: number = 0;\n\tget total(): number {\n\t\treturn this._total;\n\t}\n\n\tgetResourceMarkers(resource: URI): ResourceMarkers | null {\n\t\treturn this.resourcesByUri.get(extUri.getComparisonKey(resource, true)) ?? null;\n\t}\n\n\tsetResourceMarkers(resourcesMarkers: [URI, IMarker[]][]): void {\n\t\tconst change: MarkerChangesEvent = { added: new Set(), removed: new Set(), updated: new Set() };\n\t\tfor (const [resource, rawMarkers] of resourcesMarkers) {\n\n\t\t\tif (unsupportedSchemas.has(resource.scheme)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst key = extUri.getComparisonKey(resource, true);\n\t\t\tlet resourceMarkers = this.resourcesByUri.get(key);\n\n\t\t\tif (isNonEmptyArray(rawMarkers)) {\n\t\t\t\t// update, add\n\t\t\t\tif (!resourceMarkers) {\n\t\t\t\t\tconst resourceMarkersId = this.id(resource.toString());\n\t\t\t\t\tresourceMarkers = new ResourceMarkers(resourceMarkersId, resource.with({ fragment: null }));\n\t\t\t\t\tthis.resourcesByUri.set(key, resourceMarkers);\n\t\t\t\t\tchange.added.add(resourceMarkers);\n\t\t\t\t} else {\n\t\t\t\t\tchange.updated.add(resourceMarkers);\n\t\t\t\t}\n\t\t\t\tconst markersCountByKey = new Map<string, number>();\n\t\t\t\tconst markers = rawMarkers.map((rawMarker) => {\n\t\t\t\t\tconst key = IMarkerData.makeKey(rawMarker);\n\t\t\t\t\tconst index = markersCountByKey.get(key) || 0;\n\t\t\t\t\tmarkersCountByKey.set(key, index + 1);\n\n\t\t\t\t\tconst markerId = this.id(resourceMarkers!.id, key, index, rawMarker.resource.toString());\n\n\t\t\t\t\tlet relatedInformation: RelatedInformation[] | undefined = undefined;\n\t\t\t\t\tif (rawMarker.relatedInformation) {\n\t\t\t\t\t\trelatedInformation = rawMarker.relatedInformation.map((r, index) => new RelatedInformation(this.id(markerId, r.resource.toString(), r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn, index), rawMarker, r));\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new Marker(markerId, rawMarker, relatedInformation);\n\t\t\t\t});\n\n\t\t\t\tthis._total -= resourceMarkers.total;\n\t\t\t\tresourceMarkers.set(resource, markers);\n\t\t\t\tthis._total += resourceMarkers.total;\n\n\t\t\t} else if (resourceMarkers) {\n\t\t\t\t// clear\n\t\t\t\tthis._total -= resourceMarkers.total;\n\t\t\t\tresourceMarkers.delete(resource);\n\t\t\t\tthis._total += resourceMarkers.total;\n\t\t\t\tif (resourceMarkers.total === 0) {\n\t\t\t\t\tthis.resourcesByUri.delete(key);\n\t\t\t\t\tchange.removed.add(resourceMarkers);\n\t\t\t\t} else {\n\t\t\t\t\tchange.updated.add(resourceMarkers);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.cachedSortedResources = undefined;\n\t\tif (change.added.size || change.removed.size || change.updated.size) {\n\t\t\tthis._onDidChange.fire(change);\n\t\t}\n\t}\n\n\tprivate id(...values: (string | number)[]): string {\n\t\treturn `${hash(values)}`;\n\t}\n\n\tdispose(): void {\n\t\tthis._onDidChange.dispose();\n\t\tthis.resourcesByUri.clear();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}