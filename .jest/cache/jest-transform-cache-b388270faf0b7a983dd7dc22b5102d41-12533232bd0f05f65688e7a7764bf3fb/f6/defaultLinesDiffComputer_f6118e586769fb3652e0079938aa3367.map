{"version":3,"names":["cov_2rid5lf46f","actualCoverage","equals","assertFn","LineRange","OffsetRange","Range","ArrayText","LinesDiff","MovedText","DetailedLineRangeMapping","LineRangeMapping","lineRangeMappingFromRangeMappings","RangeMapping","DateTimeout","InfiniteTimeout","SequenceDiff","DynamicProgrammingDiffing","MyersDiffAlgorithm","computeMovedLines","extendDiffsToEntireWordIfAppropriate","optimizeSequenceDiffs","removeShortMatches","removeVeryShortMatchingLinesBetweenDiffs","removeVeryShortMatchingTextBetweenLongDiffs","LineSequence","LinesSliceCharSequence","DefaultLinesDiffComputer","dynamicProgrammingDiffing","s","myersDiffingAlgorithm","computeDiff","originalLines","modifiedLines","options","f","b","length","a","timeout","maxComputationTimeMs","instance","considerWhitespaceChanges","ignoreTrimWhitespace","perfectHashes","Map","getOrCreateHash","text","hash","get","undefined","size","set","originalLinesHashes","map","l","trim","modifiedLinesHashes","sequence1","sequence2","lineAlignmentResult","compute","offset1","offset2","Math","log","lineAlignments","diffs","hitTimeout","alignments","scanForWhitespaceChanges","equalLinesCount","i","seq1Offset","seq1LastStart","seq2Offset","seq2LastStart","characterDiffs","refineDiff","mappings","push","diff","seq1Range","start","seq2Range","endExclusive","original","modified","changes","moves","computeMoves","validatePosition","pos","lines","lineNumber","line","column","validateRange","range","startLineNumber","endLineNumberExclusive","c","innerChanges","ic","valid","modifiedRange","getStartPosition","getEndPosition","originalRange","hashedOriginalLines","hashedModifiedLines","movesWithDiffs","m","moveChanges","toOffsetRange","lineRangeMapping","toLineRangeMapping","rangeMapping","toRangeMapping2","slice1","slice2","diffResult","check","assertSorted","seq","idx","findWordContaining","extendToSubwords","findSubWordContaining","result","d","translateRange","sequenceDiff"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { equals } from '../../../../base/common/arrays.js';\nimport { assertFn } from '../../../../base/common/assert.js';\nimport { LineRange } from '../../core/ranges/lineRange.js';\nimport { OffsetRange } from '../../core/ranges/offsetRange.js';\nimport { Position } from '../../core/position.js';\nimport { Range } from '../../core/range.js';\nimport { ArrayText } from '../../core/text/abstractText.js';\nimport { ILinesDiffComputer, ILinesDiffComputerOptions, LinesDiff, MovedText } from '../linesDiffComputer.js';\nimport { DetailedLineRangeMapping, LineRangeMapping, lineRangeMappingFromRangeMappings, RangeMapping } from '../rangeMapping.js';\nimport { DateTimeout, InfiniteTimeout, ITimeout, SequenceDiff } from './algorithms/diffAlgorithm.js';\nimport { DynamicProgrammingDiffing } from './algorithms/dynamicProgrammingDiffing.js';\nimport { MyersDiffAlgorithm } from './algorithms/myersDiffAlgorithm.js';\nimport { computeMovedLines } from './computeMovedLines.js';\nimport { extendDiffsToEntireWordIfAppropriate, optimizeSequenceDiffs, removeShortMatches, removeVeryShortMatchingLinesBetweenDiffs, removeVeryShortMatchingTextBetweenLongDiffs } from './heuristicSequenceOptimizations.js';\nimport { LineSequence } from './lineSequence.js';\nimport { LinesSliceCharSequence } from './linesSliceCharSequence.js';\n\nexport class DefaultLinesDiffComputer implements ILinesDiffComputer {\n\tprivate readonly dynamicProgrammingDiffing = new DynamicProgrammingDiffing();\n\tprivate readonly myersDiffingAlgorithm = new MyersDiffAlgorithm();\n\n\tcomputeDiff(originalLines: string[], modifiedLines: string[], options: ILinesDiffComputerOptions): LinesDiff {\n\t\tif (originalLines.length <= 1 && equals(originalLines, modifiedLines, (a, b) => a === b)) {\n\t\t\treturn new LinesDiff([], [], false);\n\t\t}\n\n\t\tif (originalLines.length === 1 && originalLines[0].length === 0 || modifiedLines.length === 1 && modifiedLines[0].length === 0) {\n\t\t\treturn new LinesDiff([\n\t\t\t\tnew DetailedLineRangeMapping(\n\t\t\t\t\tnew LineRange(1, originalLines.length + 1),\n\t\t\t\t\tnew LineRange(1, modifiedLines.length + 1),\n\t\t\t\t\t[\n\t\t\t\t\t\tnew RangeMapping(\n\t\t\t\t\t\t\tnew Range(1, 1, originalLines.length, originalLines[originalLines.length - 1].length + 1),\n\t\t\t\t\t\t\tnew Range(1, 1, modifiedLines.length, modifiedLines[modifiedLines.length - 1].length + 1),\n\t\t\t\t\t\t)\n\t\t\t\t\t]\n\t\t\t\t)\n\t\t\t], [], false);\n\t\t}\n\n\t\tconst timeout = options.maxComputationTimeMs === 0 ? InfiniteTimeout.instance : new DateTimeout(options.maxComputationTimeMs);\n\t\tconst considerWhitespaceChanges = !options.ignoreTrimWhitespace;\n\n\t\tconst perfectHashes = new Map<string, number>();\n\t\tfunction getOrCreateHash(text: string): number {\n\t\t\tlet hash = perfectHashes.get(text);\n\t\t\tif (hash === undefined) {\n\t\t\t\thash = perfectHashes.size;\n\t\t\t\tperfectHashes.set(text, hash);\n\t\t\t}\n\t\t\treturn hash;\n\t\t}\n\n\t\tconst originalLinesHashes = originalLines.map((l) => getOrCreateHash(l.trim()));\n\t\tconst modifiedLinesHashes = modifiedLines.map((l) => getOrCreateHash(l.trim()));\n\n\t\tconst sequence1 = new LineSequence(originalLinesHashes, originalLines);\n\t\tconst sequence2 = new LineSequence(modifiedLinesHashes, modifiedLines);\n\n\t\tconst lineAlignmentResult = (() => {\n\t\t\tif (sequence1.length + sequence2.length < 1700) {\n\t\t\t\t// Use the improved algorithm for small files\n\t\t\t\treturn this.dynamicProgrammingDiffing.compute(\n\t\t\t\t\tsequence1,\n\t\t\t\t\tsequence2,\n\t\t\t\t\ttimeout,\n\t\t\t\t\t(offset1, offset2) =>\n\t\t\t\t\t\toriginalLines[offset1] === modifiedLines[offset2]\n\t\t\t\t\t\t\t? modifiedLines[offset2].length === 0\n\t\t\t\t\t\t\t\t? 0.1\n\t\t\t\t\t\t\t\t: 1 + Math.log(1 + modifiedLines[offset2].length)\n\t\t\t\t\t\t\t: 0.99\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn this.myersDiffingAlgorithm.compute(\n\t\t\t\tsequence1,\n\t\t\t\tsequence2,\n\t\t\t\ttimeout\n\t\t\t);\n\t\t})();\n\n\t\tlet lineAlignments = lineAlignmentResult.diffs;\n\t\tlet hitTimeout = lineAlignmentResult.hitTimeout;\n\t\tlineAlignments = optimizeSequenceDiffs(sequence1, sequence2, lineAlignments);\n\t\tlineAlignments = removeVeryShortMatchingLinesBetweenDiffs(sequence1, sequence2, lineAlignments);\n\n\t\tconst alignments: RangeMapping[] = [];\n\n\t\tconst scanForWhitespaceChanges = (equalLinesCount: number) => {\n\t\t\tif (!considerWhitespaceChanges) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < equalLinesCount; i++) {\n\t\t\t\tconst seq1Offset = seq1LastStart + i;\n\t\t\t\tconst seq2Offset = seq2LastStart + i;\n\t\t\t\tif (originalLines[seq1Offset] !== modifiedLines[seq2Offset]) {\n\t\t\t\t\t// This is because of whitespace changes, diff these lines\n\t\t\t\t\tconst characterDiffs = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(\n\t\t\t\t\t\tnew OffsetRange(seq1Offset, seq1Offset + 1),\n\t\t\t\t\t\tnew OffsetRange(seq2Offset, seq2Offset + 1),\n\t\t\t\t\t), timeout, considerWhitespaceChanges, options);\n\t\t\t\t\tfor (const a of characterDiffs.mappings) {\n\t\t\t\t\t\talignments.push(a);\n\t\t\t\t\t}\n\t\t\t\t\tif (characterDiffs.hitTimeout) {\n\t\t\t\t\t\thitTimeout = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tlet seq1LastStart = 0;\n\t\tlet seq2LastStart = 0;\n\n\t\tfor (const diff of lineAlignments) {\n\t\t\tassertFn(() => diff.seq1Range.start - seq1LastStart === diff.seq2Range.start - seq2LastStart);\n\n\t\t\tconst equalLinesCount = diff.seq1Range.start - seq1LastStart;\n\n\t\t\tscanForWhitespaceChanges(equalLinesCount);\n\n\t\t\tseq1LastStart = diff.seq1Range.endExclusive;\n\t\t\tseq2LastStart = diff.seq2Range.endExclusive;\n\n\t\t\tconst characterDiffs = this.refineDiff(originalLines, modifiedLines, diff, timeout, considerWhitespaceChanges, options);\n\t\t\tif (characterDiffs.hitTimeout) {\n\t\t\t\thitTimeout = true;\n\t\t\t}\n\t\t\tfor (const a of characterDiffs.mappings) {\n\t\t\t\talignments.push(a);\n\t\t\t}\n\t\t}\n\n\t\tscanForWhitespaceChanges(originalLines.length - seq1LastStart);\n\n\t\tconst original = new ArrayText(originalLines);\n\t\tconst modified = new ArrayText(modifiedLines);\n\n\t\tconst changes = lineRangeMappingFromRangeMappings(alignments, original, modified);\n\n\t\tlet moves: MovedText[] = [];\n\t\tif (options.computeMoves) {\n\t\t\tmoves = this.computeMoves(changes, originalLines, modifiedLines, originalLinesHashes, modifiedLinesHashes, timeout, considerWhitespaceChanges, options);\n\t\t}\n\n\t\t// Make sure all ranges are valid\n\t\tassertFn(() => {\n\t\t\tfunction validatePosition(pos: Position, lines: string[]): boolean {\n\t\t\t\tif (pos.lineNumber < 1 || pos.lineNumber > lines.length) { return false; }\n\t\t\t\tconst line = lines[pos.lineNumber - 1];\n\t\t\t\tif (pos.column < 1 || pos.column > line.length + 1) { return false; }\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfunction validateRange(range: LineRange, lines: string[]): boolean {\n\t\t\t\tif (range.startLineNumber < 1 || range.startLineNumber > lines.length + 1) { return false; }\n\t\t\t\tif (range.endLineNumberExclusive < 1 || range.endLineNumberExclusive > lines.length + 1) { return false; }\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfor (const c of changes) {\n\t\t\t\tif (!c.innerChanges) { return false; }\n\t\t\t\tfor (const ic of c.innerChanges) {\n\t\t\t\t\tconst valid = validatePosition(ic.modifiedRange.getStartPosition(), modifiedLines) && validatePosition(ic.modifiedRange.getEndPosition(), modifiedLines) &&\n\t\t\t\t\t\tvalidatePosition(ic.originalRange.getStartPosition(), originalLines) && validatePosition(ic.originalRange.getEndPosition(), originalLines);\n\t\t\t\t\tif (!valid) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!validateRange(c.modified, modifiedLines) || !validateRange(c.original, originalLines)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\treturn new LinesDiff(changes, moves, hitTimeout);\n\t}\n\n\tprivate computeMoves(\n\t\tchanges: DetailedLineRangeMapping[],\n\t\toriginalLines: string[],\n\t\tmodifiedLines: string[],\n\t\thashedOriginalLines: number[],\n\t\thashedModifiedLines: number[],\n\t\ttimeout: ITimeout,\n\t\tconsiderWhitespaceChanges: boolean,\n\t\toptions: ILinesDiffComputerOptions,\n\t): MovedText[] {\n\t\tconst moves = computeMovedLines(\n\t\t\tchanges,\n\t\t\toriginalLines,\n\t\t\tmodifiedLines,\n\t\t\thashedOriginalLines,\n\t\t\thashedModifiedLines,\n\t\t\ttimeout,\n\t\t);\n\t\tconst movesWithDiffs = moves.map(m => {\n\t\t\tconst moveChanges = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(\n\t\t\t\tm.original.toOffsetRange(),\n\t\t\t\tm.modified.toOffsetRange(),\n\t\t\t), timeout, considerWhitespaceChanges, options);\n\t\t\tconst mappings = lineRangeMappingFromRangeMappings(moveChanges.mappings, new ArrayText(originalLines), new ArrayText(modifiedLines), true);\n\t\t\treturn new MovedText(m, mappings);\n\t\t});\n\t\treturn movesWithDiffs;\n\t}\n\n\tprivate refineDiff(originalLines: string[], modifiedLines: string[], diff: SequenceDiff, timeout: ITimeout, considerWhitespaceChanges: boolean, options: ILinesDiffComputerOptions): { mappings: RangeMapping[]; hitTimeout: boolean } {\n\t\tconst lineRangeMapping = toLineRangeMapping(diff);\n\t\tconst rangeMapping = lineRangeMapping.toRangeMapping2(originalLines, modifiedLines);\n\n\t\tconst slice1 = new LinesSliceCharSequence(originalLines, rangeMapping.originalRange, considerWhitespaceChanges);\n\t\tconst slice2 = new LinesSliceCharSequence(modifiedLines, rangeMapping.modifiedRange, considerWhitespaceChanges);\n\n\t\tconst diffResult = slice1.length + slice2.length < 500\n\t\t\t? this.dynamicProgrammingDiffing.compute(slice1, slice2, timeout)\n\t\t\t: this.myersDiffingAlgorithm.compute(slice1, slice2, timeout);\n\n\t\tconst check = false;\n\n\t\tlet diffs = diffResult.diffs;\n\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\t\tdiffs = optimizeSequenceDiffs(slice1, slice2, diffs);\n\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\t\tdiffs = extendDiffsToEntireWordIfAppropriate(slice1, slice2, diffs, (seq, idx) => seq.findWordContaining(idx));\n\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\n\t\tif (options.extendToSubwords) {\n\t\t\tdiffs = extendDiffsToEntireWordIfAppropriate(slice1, slice2, diffs, (seq, idx) => seq.findSubWordContaining(idx), true);\n\t\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\t\t}\n\n\t\tdiffs = removeShortMatches(slice1, slice2, diffs);\n\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\t\tdiffs = removeVeryShortMatchingTextBetweenLongDiffs(slice1, slice2, diffs);\n\t\tif (check) { SequenceDiff.assertSorted(diffs); }\n\n\t\tconst result = diffs.map(\n\t\t\t(d) =>\n\t\t\t\tnew RangeMapping(\n\t\t\t\t\tslice1.translateRange(d.seq1Range),\n\t\t\t\t\tslice2.translateRange(d.seq2Range)\n\t\t\t\t)\n\t\t);\n\n\t\tif (check) { RangeMapping.assertSorted(result); }\n\n\t\t// Assert: result applied on original should be the same as diff applied to original\n\n\t\treturn {\n\t\t\tmappings: result,\n\t\t\thitTimeout: diffResult.hitTimeout,\n\t\t};\n\t}\n}\n\nfunction toLineRangeMapping(sequenceDiff: SequenceDiff) {\n\treturn new LineRangeMapping(\n\t\tnew LineRange(sequenceDiff.seq1Range.start + 1, sequenceDiff.seq1Range.endExclusive + 1),\n\t\tnew LineRange(sequenceDiff.seq2Range.start + 1, sequenceDiff.seq2Range.endExclusive + 1),\n\t);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}