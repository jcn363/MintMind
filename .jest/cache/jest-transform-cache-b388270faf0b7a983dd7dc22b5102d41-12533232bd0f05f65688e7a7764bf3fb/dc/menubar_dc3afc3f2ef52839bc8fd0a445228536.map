{"version":3,"names":["cov_29upbqu24z","actualCoverage","browser","DOM","StandardKeyboardEvent","StandardMouseEvent","EventType","Gesture","cleanMnemonic","HorizontalDirection","Menu","MENU_ESCAPED_MNEMONIC_REGEX","MENU_MNEMONIC_REGEX","VerticalDirection","ActionRunner","Separator","SubmenuAction","asArray","RunOnceScheduler","Codicon","ThemeIcon","Emitter","ScanCodeUtils","Disposable","DisposableStore","dispose","isMacintosh","strings","nls","mainWindow","$","s","MenubarState","f","b","MenuBar","container","options","menuStyle","OVERFLOW_INDEX","menus","overflowMenu","focusedMenu","focusToReturn","menuUpdater","_mnemonicsInUse","openedViaKeyboard","awaitingAltRelease","ignoreNextMouseUp","mnemonics","updatePending","_focusState","actionRunner","_onVisibilityChange","_onFocusStateChange","numMenusShown","overflowLayoutScheduled","undefined","menuDisposables","_register","constructor","setAttribute","isCompact","classList","add","Map","VISIBLE","createOverflowMenu","update","onWillRun","setUnfocusedState","ModifierKeyEmitter","getInstance","event","onModifierKeyToggled","addDisposableListener","KEY_DOWN","e","eventHandled","key","toLocaleLowerCase","tabNav","equals","focusPrevious","focusNext","isFocused","isOpen","ctrlKey","enableMnemonics","mnemonicsInUse","has","menuIndex","get","onMenuTriggered","preventDefault","stopPropagation","window","getWindow","MOUSE_DOWN","FOCUS_IN","relatedTarget","contains","FOCUS_OUT","altKey","defaultPrevented","updateMnemonicVisibility","push","arg","forEach","menuBarMenu","length","cleanMenuLabel","label","mnemonicMatches","exec","mnemonic","registerMnemonic","buttonElement","titleElement","appendChild","insertBefore","updateLabels","KEY_UP","index","focusState","OPEN","addTarget","Tap","holder","isAncestor","initialTarget","mouseEvent","leftButton","MOUSE_UP","MOUSE_ENTER","isCurrentMenu","focus","cleanupCustomMenu","showCustomMenu","actions","localize","asCSSSelector","menuBarMore","style","visibility","triggerKeys","compactMode","horizontal","Right","Left","some","k","updateMenu","menu","menuToUpdate","filter","remove","blur","getWidth","left","getBoundingClientRect","right","hasOverflow","getHeight","clientHeight","toggleFocus","FOCUSED","updateOverflowAction","overflowMenuOnlyClass","toggle","sizeAvailable","offsetWidth","currentSize","full","prevNumMenusShown","showableMenus","size","idx","compactMenuActions","getCompactMenuActions","nextElementSibling","cleanLabel","escape","lastIndex","escMatch","replaceDoubleEscapes","str","replace","textContent","append","ltrim","substr","rtrim","trim","removeAttribute","scheduleAtNextAnimationFrame","set","hideMenubar","display","fire","showMenubar","value","schedule","isVisible","HIDDEN","isFullscreen","newFocusedIndex","visible","children","child","item","textDecoration","alwaysOnMnemonics","shouldAltKeyFocus","disableAltFocus","onVisibilityChange","onFocusStateChange","clicked","modifierKeyStatus","allModifiersReleased","shiftKey","metaKey","toEnum","code","lastKeyPressed","lastKeyReleased","parentElement","widget","clear","selectFirst","actualMenuIndex","customMenu","menuHolder","titleBoundingRect","titleBoundingRectZoom","getDomNodeZoomLevel","clientWidth","windowWidth","innerWidth","vertical","Above","top","Below","bottom","menuOptions","getKeyBinding","getKeybinding","ariaLabel","getAttribute","expandDirection","useEventAsContext","menuWidget","onDidCancel","trigger"],"sources":["/home/user/Desktop/MintMind/src/vs/base/browser/ui/menu/menubar.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as browser from '../../browser.js';\nimport * as DOM from '../../dom.js';\nimport { StandardKeyboardEvent } from '../../keyboardEvent.js';\nimport { StandardMouseEvent } from '../../mouseEvent.js';\nimport { EventType, Gesture, GestureEvent } from '../../touch.js';\nimport { cleanMnemonic, HorizontalDirection, IMenuDirection, IMenuOptions, IMenuStyles, Menu, MENU_ESCAPED_MNEMONIC_REGEX, MENU_MNEMONIC_REGEX, VerticalDirection } from './menu.js';\nimport { ActionRunner, IAction, IActionRunner, Separator, SubmenuAction } from '../../../common/actions.js';\nimport { asArray } from '../../../common/arrays.js';\nimport { RunOnceScheduler } from '../../../common/async.js';\nimport { Codicon } from '../../../common/codicons.js';\nimport { ThemeIcon } from '../../../common/themables.js';\nimport { Emitter, Event } from '../../../common/event.js';\nimport { KeyCode, KeyMod, ScanCode, ScanCodeUtils } from '../../../common/keyCodes.js';\nimport { ResolvedKeybinding } from '../../../common/keybindings.js';\nimport { Disposable, DisposableStore, dispose, IDisposable } from '../../../common/lifecycle.js';\nimport { isMacintosh } from '../../../common/platform.js';\nimport * as strings from '../../../common/strings.js';\nimport './menubar.css';\nimport * as nls from '../../../../nls.js';\nimport { mainWindow } from '../../window.js';\n\nconst $ = DOM.$;\n\nexport interface IMenuBarOptions {\n\tenableMnemonics?: boolean;\n\tdisableAltFocus?: boolean;\n\tvisibility?: string;\n\tgetKeybinding?: (action: IAction) => ResolvedKeybinding | undefined;\n\talwaysOnMnemonics?: boolean;\n\tcompactMode?: IMenuDirection;\n\tactionRunner?: IActionRunner;\n\tgetCompactMenuActions?: () => IAction[];\n}\n\nexport interface MenuBarMenu {\n\tactions: IAction[];\n\tlabel: string;\n}\n\ninterface MenuBarMenuWithElements extends MenuBarMenu {\n\ttitleElement?: HTMLElement;\n\tbuttonElement?: HTMLElement;\n}\n\nenum MenubarState {\n\tHIDDEN,\n\tVISIBLE,\n\tFOCUSED,\n\tOPEN\n}\n\nexport class MenuBar extends Disposable {\n\n\tstatic readonly OVERFLOW_INDEX: number = -1;\n\n\tprivate menus: MenuBarMenuWithElements[];\n\n\tprivate overflowMenu!: MenuBarMenuWithElements & { titleElement: HTMLElement; buttonElement: HTMLElement };\n\n\tprivate focusedMenu: {\n\t\tindex: number;\n\t\tholder?: HTMLElement;\n\t\twidget?: Menu;\n\t} | undefined;\n\n\tprivate focusToReturn: HTMLElement | undefined;\n\tprivate menuUpdater: RunOnceScheduler;\n\n\t// Input-related\n\tprivate _mnemonicsInUse: boolean = false;\n\tprivate openedViaKeyboard: boolean = false;\n\tprivate awaitingAltRelease: boolean = false;\n\tprivate ignoreNextMouseUp: boolean = false;\n\tprivate mnemonics: Map<string, number>;\n\n\tprivate updatePending: boolean = false;\n\tprivate _focusState: MenubarState;\n\tprivate actionRunner: IActionRunner;\n\n\tprivate readonly _onVisibilityChange: Emitter<boolean>;\n\tprivate readonly _onFocusStateChange: Emitter<boolean>;\n\n\tprivate numMenusShown: number = 0;\n\tprivate overflowLayoutScheduled: IDisposable | undefined = undefined;\n\n\tprivate readonly menuDisposables = this._register(new DisposableStore());\n\n\tconstructor(private container: HTMLElement, private options: IMenuBarOptions, private menuStyle: IMenuStyles) {\n\t\tsuper();\n\n\t\tthis.container.setAttribute('role', 'menubar');\n\t\tif (this.isCompact) {\n\t\t\tthis.container.classList.add('compact');\n\t\t}\n\n\t\tthis.menus = [];\n\t\tthis.mnemonics = new Map<string, number>();\n\n\t\tthis._focusState = MenubarState.VISIBLE;\n\n\t\tthis._onVisibilityChange = this._register(new Emitter<boolean>());\n\t\tthis._onFocusStateChange = this._register(new Emitter<boolean>());\n\n\t\tthis.createOverflowMenu();\n\n\t\tthis.menuUpdater = this._register(new RunOnceScheduler(() => this.update(), 200));\n\n\t\tthis.actionRunner = this.options.actionRunner ?? this._register(new ActionRunner());\n\t\tthis._register(this.actionRunner.onWillRun(() => {\n\t\t\tthis.setUnfocusedState();\n\t\t}));\n\n\t\tthis._register(DOM.ModifierKeyEmitter.getInstance().event(this.onModifierKeyToggled, this));\n\n\t\tthis._register(DOM.addDisposableListener(this.container, DOM.EventType.KEY_DOWN, (e) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tlet eventHandled = true;\n\t\t\tconst key = !!e.key ? e.key.toLocaleLowerCase() : '';\n\n\t\t\tconst tabNav = isMacintosh && !this.isCompact;\n\n\t\t\tif (event.equals(KeyCode.LeftArrow) || (tabNav && event.equals(KeyCode.Tab | KeyMod.Shift))) {\n\t\t\t\tthis.focusPrevious();\n\t\t\t} else if (event.equals(KeyCode.RightArrow) || (tabNav && event.equals(KeyCode.Tab))) {\n\t\t\t\tthis.focusNext();\n\t\t\t} else if (event.equals(KeyCode.Escape) && this.isFocused && !this.isOpen) {\n\t\t\t\tthis.setUnfocusedState();\n\t\t\t} else if (!this.isOpen && !event.ctrlKey && this.options.enableMnemonics && this.mnemonicsInUse && this.mnemonics.has(key)) {\n\t\t\t\tconst menuIndex = this.mnemonics.get(key)!;\n\t\t\t\tthis.onMenuTriggered(menuIndex, false);\n\t\t\t} else {\n\t\t\t\teventHandled = false;\n\t\t\t}\n\n\t\t\t// Never allow default tab behavior when not compact\n\t\t\tif (!this.isCompact && (event.equals(KeyCode.Tab | KeyMod.Shift) || event.equals(KeyCode.Tab))) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\tif (eventHandled) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}));\n\n\t\tconst window = DOM.getWindow(this.container);\n\t\tthis._register(DOM.addDisposableListener(window, DOM.EventType.MOUSE_DOWN, () => {\n\t\t\t// This mouse event is outside the menubar so it counts as a focus out\n\t\t\tif (this.isFocused) {\n\t\t\t\tthis.setUnfocusedState();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(this.container, DOM.EventType.FOCUS_IN, (e) => {\n\t\t\tconst event = e;\n\n\t\t\tif (event.relatedTarget) {\n\t\t\t\tif (!this.container.contains(event.relatedTarget as HTMLElement)) {\n\t\t\t\t\tthis.focusToReturn = event.relatedTarget as HTMLElement;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(this.container, DOM.EventType.FOCUS_OUT, (e) => {\n\t\t\tconst event = e;\n\n\t\t\t// We are losing focus and there is no related target, e.g. webview case\n\t\t\tif (!event.relatedTarget) {\n\t\t\t\tthis.setUnfocusedState();\n\t\t\t}\n\t\t\t// We are losing focus and there is a target, reset focusToReturn value as not to redirect\n\t\t\telse if (event.relatedTarget && !this.container.contains(event.relatedTarget as HTMLElement)) {\n\t\t\t\tthis.focusToReturn = undefined;\n\t\t\t\tthis.setUnfocusedState();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(window, DOM.EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\tif (!this.options.enableMnemonics || !e.altKey || e.ctrlKey || e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst key = e.key.toLocaleLowerCase();\n\t\t\tif (!this.mnemonics.has(key)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.mnemonicsInUse = true;\n\t\t\tthis.updateMnemonicVisibility(true);\n\n\t\t\tconst menuIndex = this.mnemonics.get(key)!;\n\t\t\tthis.onMenuTriggered(menuIndex, false);\n\t\t}));\n\n\t\tthis.setUnfocusedState();\n\t}\n\n\tpush(arg: MenuBarMenu | MenuBarMenu[]): void {\n\t\tconst menus: MenuBarMenu[] = asArray(arg);\n\n\t\tmenus.forEach((menuBarMenu) => {\n\t\t\tconst menuIndex = this.menus.length;\n\t\t\tconst cleanMenuLabel = cleanMnemonic(menuBarMenu.label);\n\n\t\t\tconst mnemonicMatches = MENU_MNEMONIC_REGEX.exec(menuBarMenu.label);\n\n\t\t\t// Register mnemonics\n\t\t\tif (mnemonicMatches) {\n\t\t\t\tconst mnemonic = !!mnemonicMatches[1] ? mnemonicMatches[1] : mnemonicMatches[3];\n\n\t\t\t\tthis.registerMnemonic(this.menus.length, mnemonic);\n\t\t\t}\n\n\t\t\tif (this.isCompact) {\n\t\t\t\tthis.menus.push(menuBarMenu);\n\t\t\t} else {\n\t\t\t\tconst buttonElement = $('div.menubar-menu-button', { 'role': 'menuitem', 'tabindex': -1, 'aria-label': cleanMenuLabel, 'aria-haspopup': true });\n\t\t\t\tconst titleElement = $('div.menubar-menu-title', { 'role': 'none', 'aria-hidden': true });\n\n\t\t\t\tbuttonElement.appendChild(titleElement);\n\t\t\t\tthis.container.insertBefore(buttonElement, this.overflowMenu.buttonElement);\n\n\t\t\t\tthis.updateLabels(titleElement, buttonElement, menuBarMenu.label);\n\n\t\t\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.KEY_UP, (e) => {\n\t\t\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\t\t\tlet eventHandled = true;\n\n\t\t\t\t\tif ((event.equals(KeyCode.DownArrow) || event.equals(KeyCode.Enter)) && !this.isOpen) {\n\t\t\t\t\t\tthis.focusedMenu = { index: menuIndex };\n\t\t\t\t\t\tthis.openedViaKeyboard = true;\n\t\t\t\t\t\tthis.focusState = MenubarState.OPEN;\n\t\t\t\t\t} else {\n\t\t\t\t\t\teventHandled = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (eventHandled) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis._register(Gesture.addTarget(buttonElement));\n\t\t\t\tthis._register(DOM.addDisposableListener(buttonElement, EventType.Tap, (e: GestureEvent) => {\n\t\t\t\t\t// Ignore this touch if the menu is touched\n\t\t\t\t\tif (this.isOpen && this.focusedMenu && this.focusedMenu.holder && DOM.isAncestor(e.initialTarget as HTMLElement, this.focusedMenu.holder)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\t\t\tthis.onMenuTriggered(menuIndex, true);\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}));\n\n\t\t\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_DOWN, (e: MouseEvent) => {\n\t\t\t\t\t// Ignore non-left-click\n\t\t\t\t\tconst mouseEvent = new StandardMouseEvent(DOM.getWindow(buttonElement), e);\n\t\t\t\t\tif (!mouseEvent.leftButton) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.isOpen) {\n\t\t\t\t\t\t// Open the menu with mouse down and ignore the following mouse up event\n\t\t\t\t\t\tthis.ignoreNextMouseUp = true;\n\t\t\t\t\t\tthis.onMenuTriggered(menuIndex, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\t\t\t}\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}));\n\n\t\t\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_UP, (e) => {\n\t\t\t\t\tif (e.defaultPrevented) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.ignoreNextMouseUp) {\n\t\t\t\t\t\tif (this.isFocused) {\n\t\t\t\t\t\t\tthis.onMenuTriggered(menuIndex, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_ENTER, () => {\n\t\t\t\t\tif (this.isOpen && !this.isCurrentMenu(menuIndex)) {\n\t\t\t\t\t\tbuttonElement.focus();\n\t\t\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\t\t\tthis.showCustomMenu(menuIndex, false);\n\t\t\t\t\t} else if (this.isFocused && !this.isOpen) {\n\t\t\t\t\t\tthis.focusedMenu = { index: menuIndex };\n\t\t\t\t\t\tbuttonElement.focus();\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis.menus.push({\n\t\t\t\t\tlabel: menuBarMenu.label,\n\t\t\t\t\tactions: menuBarMenu.actions,\n\t\t\t\t\tbuttonElement: buttonElement,\n\t\t\t\t\ttitleElement: titleElement\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tcreateOverflowMenu(): void {\n\t\tconst label = this.isCompact ? nls.localize('mAppMenu', 'Application Menu') : nls.localize('mMore', 'More');\n\t\tconst buttonElement = $('div.menubar-menu-button', { 'role': 'menuitem', 'tabindex': this.isCompact ? 0 : -1, 'aria-label': label, 'aria-haspopup': true });\n\t\tconst titleElement = $('div.menubar-menu-title.toolbar-toggle-more' + ThemeIcon.asCSSSelector(Codicon.menuBarMore), { 'role': 'none', 'aria-hidden': true });\n\n\t\tbuttonElement.appendChild(titleElement);\n\t\tthis.container.appendChild(buttonElement);\n\t\tbuttonElement.style.visibility = 'hidden';\n\n\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.KEY_UP, (e) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tlet eventHandled = true;\n\n\t\t\tconst triggerKeys = [KeyCode.Enter];\n\t\t\tif (!this.isCompact) {\n\t\t\t\ttriggerKeys.push(KeyCode.DownArrow);\n\t\t\t} else {\n\t\t\t\ttriggerKeys.push(KeyCode.Space);\n\n\t\t\t\tif (this.options.compactMode?.horizontal === HorizontalDirection.Right) {\n\t\t\t\t\ttriggerKeys.push(KeyCode.RightArrow);\n\t\t\t\t} else if (this.options.compactMode?.horizontal === HorizontalDirection.Left) {\n\t\t\t\t\ttriggerKeys.push(KeyCode.LeftArrow);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ((triggerKeys.some(k => event.equals(k)) && !this.isOpen)) {\n\t\t\t\tthis.focusedMenu = { index: MenuBar.OVERFLOW_INDEX };\n\t\t\t\tthis.openedViaKeyboard = true;\n\t\t\t\tthis.focusState = MenubarState.OPEN;\n\t\t\t} else {\n\t\t\t\teventHandled = false;\n\t\t\t}\n\n\t\t\tif (eventHandled) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(Gesture.addTarget(buttonElement));\n\t\tthis._register(DOM.addDisposableListener(buttonElement, EventType.Tap, (e: GestureEvent) => {\n\t\t\t// Ignore this touch if the menu is touched\n\t\t\tif (this.isOpen && this.focusedMenu && this.focusedMenu.holder && DOM.isAncestor(e.initialTarget as HTMLElement, this.focusedMenu.holder)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\tthis.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_DOWN, (e) => {\n\t\t\t// Ignore non-left-click\n\t\t\tconst mouseEvent = new StandardMouseEvent(DOM.getWindow(buttonElement), e);\n\t\t\tif (!mouseEvent.leftButton) {\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.isOpen) {\n\t\t\t\t// Open the menu with mouse down and ignore the following mouse up event\n\t\t\t\tthis.ignoreNextMouseUp = true;\n\t\t\t\tthis.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);\n\t\t\t} else {\n\t\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_UP, (e) => {\n\t\t\tif (e.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.ignoreNextMouseUp) {\n\t\t\t\tif (this.isFocused) {\n\t\t\t\t\tthis.onMenuTriggered(MenuBar.OVERFLOW_INDEX, true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.ignoreNextMouseUp = false;\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(DOM.addDisposableListener(buttonElement, DOM.EventType.MOUSE_ENTER, () => {\n\t\t\tif (this.isOpen && !this.isCurrentMenu(MenuBar.OVERFLOW_INDEX)) {\n\t\t\t\tthis.overflowMenu.buttonElement.focus();\n\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\tthis.showCustomMenu(MenuBar.OVERFLOW_INDEX, false);\n\t\t\t} else if (this.isFocused && !this.isOpen) {\n\t\t\t\tthis.focusedMenu = { index: MenuBar.OVERFLOW_INDEX };\n\t\t\t\tbuttonElement.focus();\n\t\t\t}\n\t\t}));\n\n\t\tthis.overflowMenu = {\n\t\t\tbuttonElement: buttonElement,\n\t\t\ttitleElement: titleElement,\n\t\t\tlabel: 'More',\n\t\t\tactions: []\n\t\t};\n\t}\n\n\tupdateMenu(menu: MenuBarMenu): void {\n\t\tconst menuToUpdate = this.menus.filter(menuBarMenu => menuBarMenu.label === menu.label);\n\t\tif (menuToUpdate && menuToUpdate.length) {\n\t\t\tmenuToUpdate[0].actions = menu.actions;\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\n\t\tthis.menus.forEach(menuBarMenu => {\n\t\t\tmenuBarMenu.titleElement?.remove();\n\t\t\tmenuBarMenu.buttonElement?.remove();\n\t\t});\n\n\t\tthis.overflowMenu.titleElement.remove();\n\t\tthis.overflowMenu.buttonElement.remove();\n\n\t\tdispose(this.overflowLayoutScheduled);\n\t\tthis.overflowLayoutScheduled = undefined;\n\t}\n\n\tblur(): void {\n\t\tthis.setUnfocusedState();\n\t}\n\n\tgetWidth(): number {\n\t\tif (!this.isCompact && this.menus) {\n\t\t\tconst left = this.menus[0].buttonElement!.getBoundingClientRect().left;\n\t\t\tconst right = this.hasOverflow ? this.overflowMenu.buttonElement.getBoundingClientRect().right : this.menus[this.menus.length - 1].buttonElement!.getBoundingClientRect().right;\n\t\t\treturn right - left;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tgetHeight(): number {\n\t\treturn this.container.clientHeight;\n\t}\n\n\ttoggleFocus(): void {\n\t\tif (!this.isFocused && this.options.visibility !== 'hidden') {\n\t\t\tthis.mnemonicsInUse = true;\n\t\t\tthis.focusedMenu = { index: this.numMenusShown > 0 ? 0 : MenuBar.OVERFLOW_INDEX };\n\t\t\tthis.focusState = MenubarState.FOCUSED;\n\t\t} else if (!this.isOpen) {\n\t\t\tthis.setUnfocusedState();\n\t\t}\n\t}\n\n\tprivate updateOverflowAction(): void {\n\t\tif (!this.menus || !this.menus.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst overflowMenuOnlyClass = 'overflow-menu-only';\n\n\t\t// Remove overflow only restriction to allow the most space\n\t\tthis.container.classList.toggle(overflowMenuOnlyClass, false);\n\n\t\tconst sizeAvailable = this.container.offsetWidth;\n\t\tlet currentSize = 0;\n\t\tlet full = this.isCompact;\n\t\tconst prevNumMenusShown = this.numMenusShown;\n\t\tthis.numMenusShown = 0;\n\n\t\tconst showableMenus = this.menus.filter(menu => menu.buttonElement !== undefined && menu.titleElement !== undefined) as (MenuBarMenuWithElements & { titleElement: HTMLElement; buttonElement: HTMLElement })[];\n\t\tfor (const menuBarMenu of showableMenus) {\n\t\t\tif (!full) {\n\t\t\t\tconst size = menuBarMenu.buttonElement.offsetWidth;\n\t\t\t\tif (currentSize + size > sizeAvailable) {\n\t\t\t\t\tfull = true;\n\t\t\t\t} else {\n\t\t\t\t\tcurrentSize += size;\n\t\t\t\t\tthis.numMenusShown++;\n\t\t\t\t\tif (this.numMenusShown > prevNumMenusShown) {\n\t\t\t\t\t\tmenuBarMenu.buttonElement.style.visibility = 'visible';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (full) {\n\t\t\t\tmenuBarMenu.buttonElement.style.visibility = 'hidden';\n\t\t\t}\n\t\t}\n\n\n\t\t// If below minimium menu threshold, show the overflow menu only as hamburger menu\n\t\tif (this.numMenusShown - 1 <= showableMenus.length / 4) {\n\t\t\tfor (const menuBarMenu of showableMenus) {\n\t\t\t\tmenuBarMenu.buttonElement.style.visibility = 'hidden';\n\t\t\t}\n\n\t\t\tfull = true;\n\t\t\tthis.numMenusShown = 0;\n\t\t\tcurrentSize = 0;\n\t\t}\n\n\t\t// Overflow\n\t\tif (this.isCompact) {\n\t\t\tthis.overflowMenu.actions = [];\n\t\t\tfor (let idx = this.numMenusShown; idx < this.menus.length; idx++) {\n\t\t\t\tthis.overflowMenu.actions.push(new SubmenuAction(`menubar.submenu.${this.menus[idx].label}`, this.menus[idx].label, this.menus[idx].actions || []));\n\t\t\t}\n\n\t\t\tconst compactMenuActions = this.options.getCompactMenuActions?.();\n\t\t\tif (compactMenuActions && compactMenuActions.length) {\n\t\t\t\tthis.overflowMenu.actions.push(new Separator());\n\t\t\t\tthis.overflowMenu.actions.push(...compactMenuActions);\n\t\t\t}\n\n\t\t\tthis.overflowMenu.buttonElement.style.visibility = 'visible';\n\t\t} else if (full) {\n\t\t\t// Can't fit the more button, need to remove more menus\n\t\t\twhile (currentSize + this.overflowMenu.buttonElement.offsetWidth > sizeAvailable && this.numMenusShown > 0) {\n\t\t\t\tthis.numMenusShown--;\n\t\t\t\tconst size = showableMenus[this.numMenusShown].buttonElement.offsetWidth;\n\t\t\t\tshowableMenus[this.numMenusShown].buttonElement.style.visibility = 'hidden';\n\t\t\t\tcurrentSize -= size;\n\t\t\t}\n\n\t\t\tthis.overflowMenu.actions = [];\n\t\t\tfor (let idx = this.numMenusShown; idx < showableMenus.length; idx++) {\n\t\t\t\tthis.overflowMenu.actions.push(new SubmenuAction(`menubar.submenu.${showableMenus[idx].label}`, showableMenus[idx].label, showableMenus[idx].actions || []));\n\t\t\t}\n\n\t\t\tif (this.overflowMenu.buttonElement.nextElementSibling !== showableMenus[this.numMenusShown].buttonElement) {\n\t\t\t\tthis.overflowMenu.buttonElement.remove();\n\t\t\t\tthis.container.insertBefore(this.overflowMenu.buttonElement, showableMenus[this.numMenusShown].buttonElement);\n\t\t\t}\n\n\t\t\tthis.overflowMenu.buttonElement.style.visibility = 'visible';\n\t\t} else {\n\t\t\tthis.overflowMenu.buttonElement.remove();\n\t\t\tthis.container.appendChild(this.overflowMenu.buttonElement);\n\t\t\tthis.overflowMenu.buttonElement.style.visibility = 'hidden';\n\t\t}\n\n\t\t// If we are only showing the overflow, add this class to avoid taking up space\n\t\tthis.container.classList.toggle(overflowMenuOnlyClass, this.numMenusShown === 0);\n\t}\n\n\tprivate updateLabels(titleElement: HTMLElement, buttonElement: HTMLElement, label: string): void {\n\t\tconst cleanMenuLabel = cleanMnemonic(label);\n\n\t\t// Update the button label to reflect mnemonics\n\n\t\tif (this.options.enableMnemonics) {\n\t\t\tconst cleanLabel = strings.escape(label);\n\n\t\t\t// This is global so reset it\n\t\t\tMENU_ESCAPED_MNEMONIC_REGEX.lastIndex = 0;\n\t\t\tlet escMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(cleanLabel);\n\n\t\t\t// We can't use negative lookbehind so we match our negative and skip\n\t\t\twhile (escMatch && escMatch[1]) {\n\t\t\t\tescMatch = MENU_ESCAPED_MNEMONIC_REGEX.exec(cleanLabel);\n\t\t\t}\n\n\t\t\tconst replaceDoubleEscapes = (str: string) => str.replace(/&amp;&amp;/g, '&amp;');\n\n\t\t\tif (escMatch) {\n\t\t\t\ttitleElement.textContent = '';\n\t\t\t\ttitleElement.append(\n\t\t\t\t\tstrings.ltrim(replaceDoubleEscapes(cleanLabel.substr(0, escMatch.index)), ' '),\n\t\t\t\t\t$('mnemonic', { 'aria-hidden': 'true' }, escMatch[3]),\n\t\t\t\t\tstrings.rtrim(replaceDoubleEscapes(cleanLabel.substr(escMatch.index + escMatch[0].length)), ' ')\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\ttitleElement.textContent = replaceDoubleEscapes(cleanLabel).trim();\n\t\t\t}\n\t\t} else {\n\t\t\ttitleElement.textContent = cleanMenuLabel.replace(/&&/g, '&');\n\t\t}\n\n\t\tconst mnemonicMatches = MENU_MNEMONIC_REGEX.exec(label);\n\n\t\t// Register mnemonics\n\t\tif (mnemonicMatches) {\n\t\t\tconst mnemonic = !!mnemonicMatches[1] ? mnemonicMatches[1] : mnemonicMatches[3];\n\n\t\t\tif (this.options.enableMnemonics) {\n\t\t\t\tbuttonElement.setAttribute('aria-keyshortcuts', 'Alt+' + mnemonic.toLocaleLowerCase());\n\t\t\t} else {\n\t\t\t\tbuttonElement.removeAttribute('aria-keyshortcuts');\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate(options?: IMenuBarOptions): void {\n\t\tif (options) {\n\t\t\tthis.options = options;\n\t\t}\n\n\t\t// Don't update while using the menu\n\t\tif (this.isFocused) {\n\t\t\tthis.updatePending = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.menus.forEach(menuBarMenu => {\n\t\t\tif (!menuBarMenu.buttonElement || !menuBarMenu.titleElement) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updateLabels(menuBarMenu.titleElement, menuBarMenu.buttonElement, menuBarMenu.label);\n\t\t});\n\n\t\tif (!this.overflowLayoutScheduled) {\n\t\t\tthis.overflowLayoutScheduled = DOM.scheduleAtNextAnimationFrame(DOM.getWindow(this.container), () => {\n\t\t\t\tthis.updateOverflowAction();\n\t\t\t\tthis.overflowLayoutScheduled = undefined;\n\t\t\t});\n\t\t}\n\n\t\tthis.setUnfocusedState();\n\t}\n\n\tprivate registerMnemonic(menuIndex: number, mnemonic: string): void {\n\t\tthis.mnemonics.set(mnemonic.toLocaleLowerCase(), menuIndex);\n\t}\n\n\tprivate hideMenubar(): void {\n\t\tif (this.container.style.display !== 'none') {\n\t\t\tthis.container.style.display = 'none';\n\t\t\tthis._onVisibilityChange.fire(false);\n\t\t}\n\t}\n\n\tprivate showMenubar(): void {\n\t\tif (this.container.style.display !== 'flex') {\n\t\t\tthis.container.style.display = 'flex';\n\t\t\tthis._onVisibilityChange.fire(true);\n\n\t\t\tthis.updateOverflowAction();\n\t\t}\n\t}\n\n\tprivate get focusState(): MenubarState {\n\t\treturn this._focusState;\n\t}\n\n\tprivate set focusState(value: MenubarState) {\n\t\tif (this._focusState >= MenubarState.FOCUSED && value < MenubarState.FOCUSED) {\n\t\t\t// Losing focus, update the menu if needed\n\n\t\t\tif (this.updatePending) {\n\t\t\t\tthis.menuUpdater.schedule();\n\t\t\t\tthis.updatePending = false;\n\t\t\t}\n\t\t}\n\n\t\tif (value === this._focusState) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst isVisible = this.isVisible;\n\t\tconst isOpen = this.isOpen;\n\t\tconst isFocused = this.isFocused;\n\n\t\tthis._focusState = value;\n\n\t\tswitch (value) {\n\t\t\tcase MenubarState.HIDDEN:\n\t\t\t\tif (isVisible) {\n\t\t\t\t\tthis.hideMenubar();\n\t\t\t\t}\n\n\t\t\t\tif (isOpen) {\n\t\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\t}\n\n\t\t\t\tif (isFocused) {\n\t\t\t\t\tthis.focusedMenu = undefined;\n\n\t\t\t\t\tif (this.focusToReturn) {\n\t\t\t\t\t\tthis.focusToReturn.focus();\n\t\t\t\t\t\tthis.focusToReturn = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tbreak;\n\t\t\tcase MenubarState.VISIBLE:\n\t\t\t\tif (!isVisible) {\n\t\t\t\t\tthis.showMenubar();\n\t\t\t\t}\n\n\t\t\t\tif (isOpen) {\n\t\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\t}\n\n\t\t\t\tif (isFocused) {\n\t\t\t\t\tif (this.focusedMenu) {\n\t\t\t\t\t\tif (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {\n\t\t\t\t\t\t\tthis.overflowMenu.buttonElement.blur();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.menus[this.focusedMenu.index].buttonElement?.blur();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.focusedMenu = undefined;\n\n\t\t\t\t\tif (this.focusToReturn) {\n\t\t\t\t\t\tthis.focusToReturn.focus();\n\t\t\t\t\t\tthis.focusToReturn = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase MenubarState.FOCUSED:\n\t\t\t\tif (!isVisible) {\n\t\t\t\t\tthis.showMenubar();\n\t\t\t\t}\n\n\t\t\t\tif (isOpen) {\n\t\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\t}\n\n\t\t\t\tif (this.focusedMenu) {\n\t\t\t\t\t// When the menu is toggled on, it may be in compact state and trying to\n\t\t\t\t\t// focus the first menu. In this case we should focus the overflow instead.\n\t\t\t\t\tif (this.focusedMenu.index === 0 && this.numMenusShown === 0) {\n\t\t\t\t\t\tthis.focusedMenu.index = MenuBar.OVERFLOW_INDEX;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {\n\t\t\t\t\t\tthis.overflowMenu.buttonElement.focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.menus[this.focusedMenu.index].buttonElement?.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase MenubarState.OPEN:\n\t\t\t\tif (!isVisible) {\n\t\t\t\t\tthis.showMenubar();\n\t\t\t\t}\n\n\t\t\t\tif (this.focusedMenu) {\n\t\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\t\tthis.showCustomMenu(this.focusedMenu.index, this.openedViaKeyboard);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._focusState = value;\n\t\tthis._onFocusStateChange.fire(this.focusState >= MenubarState.FOCUSED);\n\t}\n\n\tget isVisible(): boolean {\n\t\treturn this.focusState >= MenubarState.VISIBLE;\n\t}\n\n\tprivate get isFocused(): boolean {\n\t\treturn this.focusState >= MenubarState.FOCUSED;\n\t}\n\n\tprivate get isOpen(): boolean {\n\t\treturn this.focusState >= MenubarState.OPEN;\n\t}\n\n\tprivate get hasOverflow(): boolean {\n\t\treturn this.isCompact || this.numMenusShown < this.menus.length;\n\t}\n\n\tprivate get isCompact(): boolean {\n\t\treturn this.options.compactMode !== undefined;\n\t}\n\n\tprivate setUnfocusedState(): void {\n\t\tif (this.options.visibility === 'toggle' || this.options.visibility === 'hidden') {\n\t\t\tthis.focusState = MenubarState.HIDDEN;\n\t\t} else if (this.options.visibility === 'classic' && browser.isFullscreen(mainWindow)) {\n\t\t\tthis.focusState = MenubarState.HIDDEN;\n\t\t} else {\n\t\t\tthis.focusState = MenubarState.VISIBLE;\n\t\t}\n\n\t\tthis.ignoreNextMouseUp = false;\n\t\tthis.mnemonicsInUse = false;\n\t\tthis.updateMnemonicVisibility(false);\n\t}\n\n\tprivate focusPrevious(): void {\n\n\t\tif (!this.focusedMenu || this.numMenusShown === 0) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tlet newFocusedIndex = (this.focusedMenu.index - 1 + this.numMenusShown) % this.numMenusShown;\n\t\tif (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {\n\t\t\tnewFocusedIndex = this.numMenusShown - 1;\n\t\t} else if (this.focusedMenu.index === 0 && this.hasOverflow) {\n\t\t\tnewFocusedIndex = MenuBar.OVERFLOW_INDEX;\n\t\t}\n\n\t\tif (newFocusedIndex === this.focusedMenu.index) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isOpen) {\n\t\t\tthis.cleanupCustomMenu();\n\t\t\tthis.showCustomMenu(newFocusedIndex);\n\t\t} else if (this.isFocused) {\n\t\t\tthis.focusedMenu.index = newFocusedIndex;\n\t\t\tif (newFocusedIndex === MenuBar.OVERFLOW_INDEX) {\n\t\t\t\tthis.overflowMenu.buttonElement.focus();\n\t\t\t} else {\n\t\t\t\tthis.menus[newFocusedIndex].buttonElement?.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate focusNext(): void {\n\t\tif (!this.focusedMenu || this.numMenusShown === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet newFocusedIndex = (this.focusedMenu.index + 1) % this.numMenusShown;\n\t\tif (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {\n\t\t\tnewFocusedIndex = 0;\n\t\t} else if (this.focusedMenu.index === this.numMenusShown - 1) {\n\t\t\tnewFocusedIndex = MenuBar.OVERFLOW_INDEX;\n\t\t}\n\n\t\tif (newFocusedIndex === this.focusedMenu.index) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isOpen) {\n\t\t\tthis.cleanupCustomMenu();\n\t\t\tthis.showCustomMenu(newFocusedIndex);\n\t\t} else if (this.isFocused) {\n\t\t\tthis.focusedMenu.index = newFocusedIndex;\n\t\t\tif (newFocusedIndex === MenuBar.OVERFLOW_INDEX) {\n\t\t\t\tthis.overflowMenu.buttonElement.focus();\n\t\t\t} else {\n\t\t\t\tthis.menus[newFocusedIndex].buttonElement?.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateMnemonicVisibility(visible: boolean): void {\n\t\tif (this.menus) {\n\t\t\tthis.menus.forEach(menuBarMenu => {\n\t\t\t\tif (menuBarMenu.titleElement && menuBarMenu.titleElement.children.length) {\n\t\t\t\t\tconst child = menuBarMenu.titleElement.children.item(0) as HTMLElement;\n\t\t\t\t\tif (child) {\n\t\t\t\t\t\tchild.style.textDecoration = (this.options.alwaysOnMnemonics || visible) ? 'underline' : '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate get mnemonicsInUse(): boolean {\n\t\treturn this._mnemonicsInUse;\n\t}\n\n\tprivate set mnemonicsInUse(value: boolean) {\n\t\tthis._mnemonicsInUse = value;\n\t}\n\n\tprivate get shouldAltKeyFocus(): boolean {\n\t\tif (isMacintosh) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this.options.disableAltFocus) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.options.visibility === 'toggle') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic get onVisibilityChange(): Event<boolean> {\n\t\treturn this._onVisibilityChange.event;\n\t}\n\n\tpublic get onFocusStateChange(): Event<boolean> {\n\t\treturn this._onFocusStateChange.event;\n\t}\n\n\tprivate onMenuTriggered(menuIndex: number, clicked: boolean) {\n\t\tif (this.isOpen) {\n\t\t\tif (this.isCurrentMenu(menuIndex)) {\n\t\t\t\tthis.setUnfocusedState();\n\t\t\t} else {\n\t\t\t\tthis.cleanupCustomMenu();\n\t\t\t\tthis.showCustomMenu(menuIndex, this.openedViaKeyboard);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.focusedMenu = { index: menuIndex };\n\t\t\tthis.openedViaKeyboard = !clicked;\n\t\t\tthis.focusState = MenubarState.OPEN;\n\t\t}\n\t}\n\n\tprivate onModifierKeyToggled(modifierKeyStatus: DOM.IModifierKeyStatus): void {\n\t\tconst allModifiersReleased = !modifierKeyStatus.altKey && !modifierKeyStatus.ctrlKey && !modifierKeyStatus.shiftKey && !modifierKeyStatus.metaKey;\n\n\t\tif (this.options.visibility === 'hidden') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Prevent alt-key default if the menu is not hidden and we use alt to focus\n\t\tif (modifierKeyStatus.event && this.shouldAltKeyFocus) {\n\t\t\tif (ScanCodeUtils.toEnum(modifierKeyStatus.event.code) === ScanCode.AltLeft) {\n\t\t\t\tmodifierKeyStatus.event.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\t// Alt key pressed while menu is focused. This should return focus away from the menubar\n\t\tif (this.isFocused && modifierKeyStatus.lastKeyPressed === 'alt' && modifierKeyStatus.altKey) {\n\t\t\tthis.setUnfocusedState();\n\t\t\tthis.mnemonicsInUse = false;\n\t\t\tthis.awaitingAltRelease = true;\n\t\t}\n\n\t\t// Clean alt key press and release\n\t\tif (allModifiersReleased && modifierKeyStatus.lastKeyPressed === 'alt' && modifierKeyStatus.lastKeyReleased === 'alt') {\n\t\t\tif (!this.awaitingAltRelease) {\n\t\t\t\tif (!this.isFocused && this.shouldAltKeyFocus) {\n\t\t\t\t\tthis.mnemonicsInUse = true;\n\t\t\t\t\tthis.focusedMenu = { index: this.numMenusShown > 0 ? 0 : MenuBar.OVERFLOW_INDEX };\n\t\t\t\t\tthis.focusState = MenubarState.FOCUSED;\n\t\t\t\t} else if (!this.isOpen) {\n\t\t\t\t\tthis.setUnfocusedState();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Alt key released\n\t\tif (!modifierKeyStatus.altKey && modifierKeyStatus.lastKeyReleased === 'alt') {\n\t\t\tthis.awaitingAltRelease = false;\n\t\t}\n\n\t\tif (this.options.enableMnemonics && this.menus && !this.isOpen) {\n\t\t\tthis.updateMnemonicVisibility((!this.awaitingAltRelease && modifierKeyStatus.altKey) || this.mnemonicsInUse);\n\t\t}\n\t}\n\n\tprivate isCurrentMenu(menuIndex: number): boolean {\n\t\tif (!this.focusedMenu) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.focusedMenu.index === menuIndex;\n\t}\n\n\tprivate cleanupCustomMenu(): void {\n\t\tif (this.focusedMenu) {\n\t\t\t// Remove focus from the menus first\n\t\t\tif (this.focusedMenu.index === MenuBar.OVERFLOW_INDEX) {\n\t\t\t\tthis.overflowMenu.buttonElement.focus();\n\t\t\t} else {\n\t\t\t\tthis.menus[this.focusedMenu.index].buttonElement?.focus();\n\t\t\t}\n\n\t\t\tif (this.focusedMenu.holder) {\n\t\t\t\tthis.focusedMenu.holder.parentElement?.classList.remove('open');\n\n\t\t\t\tthis.focusedMenu.holder.remove();\n\t\t\t}\n\n\t\t\tthis.focusedMenu.widget?.dispose();\n\n\t\t\tthis.focusedMenu = { index: this.focusedMenu.index };\n\t\t}\n\t\tthis.menuDisposables.clear();\n\t}\n\n\tprivate showCustomMenu(menuIndex: number, selectFirst = true): void {\n\t\tconst actualMenuIndex = menuIndex >= this.numMenusShown ? MenuBar.OVERFLOW_INDEX : menuIndex;\n\t\tconst customMenu = actualMenuIndex === MenuBar.OVERFLOW_INDEX ? this.overflowMenu : this.menus[actualMenuIndex];\n\n\t\tif (!customMenu.actions || !customMenu.buttonElement || !customMenu.titleElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst menuHolder = $('div.menubar-menu-items-holder', { 'title': '' });\n\n\t\tcustomMenu.buttonElement.classList.add('open');\n\n\t\tconst titleBoundingRect = customMenu.titleElement.getBoundingClientRect();\n\t\tconst titleBoundingRectZoom = DOM.getDomNodeZoomLevel(customMenu.titleElement);\n\n\t\tif (this.options.compactMode?.horizontal === HorizontalDirection.Right) {\n\t\t\tmenuHolder.style.left = `${titleBoundingRect.left + this.container.clientWidth}px`;\n\t\t} else if (this.options.compactMode?.horizontal === HorizontalDirection.Left) {\n\t\t\tconst windowWidth = DOM.getWindow(this.container).innerWidth;\n\t\t\tmenuHolder.style.right = `${windowWidth - titleBoundingRect.left}px`;\n\t\t\tmenuHolder.style.left = 'auto';\n\t\t} else {\n\t\t\tmenuHolder.style.left = `${titleBoundingRect.left * titleBoundingRectZoom}px`;\n\t\t}\n\n\t\tif (this.options.compactMode?.vertical === VerticalDirection.Above) {\n\t\t\t// TODO@benibenj Do not hardcode the height of the menu holder\n\t\t\tmenuHolder.style.top = `${titleBoundingRect.top - this.menus.length * 30 + this.container.clientHeight}px`;\n\t\t} else if (this.options.compactMode?.vertical === VerticalDirection.Below) {\n\t\t\tmenuHolder.style.top = `${titleBoundingRect.top}px`;\n\t\t} else {\n\t\t\tmenuHolder.style.top = `${titleBoundingRect.bottom * titleBoundingRectZoom}px`;\n\t\t}\n\n\t\tcustomMenu.buttonElement.appendChild(menuHolder);\n\n\t\tconst menuOptions: IMenuOptions = {\n\t\t\tgetKeyBinding: this.options.getKeybinding,\n\t\t\tactionRunner: this.actionRunner,\n\t\t\tenableMnemonics: this.options.alwaysOnMnemonics || (this.mnemonicsInUse && this.options.enableMnemonics),\n\t\t\tariaLabel: customMenu.buttonElement.getAttribute('aria-label') ?? undefined,\n\t\t\texpandDirection: this.isCompact ? this.options.compactMode : { horizontal: HorizontalDirection.Right, vertical: VerticalDirection.Below },\n\t\t\tuseEventAsContext: true\n\t\t};\n\n\t\tconst menuWidget = this.menuDisposables.add(new Menu(menuHolder, customMenu.actions, menuOptions, this.menuStyle));\n\t\tthis.menuDisposables.add(menuWidget.onDidCancel(() => {\n\t\t\tthis.focusState = MenubarState.FOCUSED;\n\t\t}));\n\n\t\tif (actualMenuIndex !== menuIndex) {\n\t\t\tmenuWidget.trigger(menuIndex - this.numMenusShown);\n\t\t} else {\n\t\t\tmenuWidget.focus(selectFirst);\n\t\t}\n\n\t\tthis.focusedMenu = {\n\t\t\tindex: actualMenuIndex,\n\t\t\tholder: menuHolder,\n\t\t\twidget: menuWidget\n\t\t};\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}