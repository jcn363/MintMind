{"version":3,"names":["cov_2o2e3h77zr","actualCoverage","glob","basename","isDocumentExcludePattern","NotebookProviderInfo","extension","id","displayName","priority","providerDisplayName","_selectors","selectors","f","s","_options","options","constructor","descriptor","b","map","selector","include","filenamePattern","exclude","excludeFileNamePattern","transientCellMetadata","transientDocumentMetadata","transientOutputs","cellContentMetadata","update","args","matches","resource","some","selectorMatches","isRelativePattern","match","fsPath","ignoreCase","excludeFilenamePattern","possibleFileEnding","ending","_possibleFileEnding","undefined","pattern","candidate","exec"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/common/notebookProvider.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as glob from '../../../../base/common/glob.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { basename } from '../../../../base/common/path.js';\nimport { INotebookExclusiveDocumentFilter, isDocumentExcludePattern, TransientOptions } from './notebookCommon.js';\nimport { RegisteredEditorPriority } from '../../../services/editor/common/editorResolverService.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\n\ntype NotebookSelector = string | glob.IRelativePattern | INotebookExclusiveDocumentFilter;\n\nexport interface NotebookEditorDescriptor {\n\treadonly extension?: ExtensionIdentifier;\n\treadonly id: string;\n\treadonly displayName: string;\n\treadonly selectors: readonly { filenamePattern?: string; excludeFileNamePattern?: string }[];\n\treadonly priority: RegisteredEditorPriority;\n\treadonly providerDisplayName: string;\n}\n\ninterface INotebookEditorDescriptorDto {\n\treadonly _selectors: readonly NotebookSelector[];\n}\n\nexport class NotebookProviderInfo {\n\n\treadonly extension?: ExtensionIdentifier;\n\treadonly id: string;\n\treadonly displayName: string;\n\treadonly priority: RegisteredEditorPriority;\n\treadonly providerDisplayName: string;\n\n\tpublic _selectors: NotebookSelector[];\n\tget selectors() {\n\t\treturn this._selectors;\n\t}\n\tprivate _options: TransientOptions;\n\tget options() {\n\t\treturn this._options;\n\t}\n\n\tconstructor(descriptor: NotebookEditorDescriptor) {\n\t\tthis.extension = descriptor.extension;\n\t\tthis.id = descriptor.id;\n\t\tthis.displayName = descriptor.displayName;\n\t\tthis._selectors = descriptor.selectors?.map(selector => ({\n\t\t\tinclude: selector.filenamePattern,\n\t\t\texclude: selector.excludeFileNamePattern || ''\n\t\t}))\n\t\t\t|| (descriptor as unknown as INotebookEditorDescriptorDto)._selectors\n\t\t\t|| [];\n\t\tthis.priority = descriptor.priority;\n\t\tthis.providerDisplayName = descriptor.providerDisplayName;\n\t\tthis._options = {\n\t\t\ttransientCellMetadata: {},\n\t\t\ttransientDocumentMetadata: {},\n\t\t\ttransientOutputs: false,\n\t\t\tcellContentMetadata: {}\n\t\t};\n\t}\n\n\tupdate(args: { selectors?: NotebookSelector[]; options?: TransientOptions }) {\n\t\tif (args.selectors) {\n\t\t\tthis._selectors = args.selectors;\n\t\t}\n\n\t\tif (args.options) {\n\t\t\tthis._options = args.options;\n\t\t}\n\t}\n\n\tmatches(resource: URI): boolean {\n\t\treturn this.selectors?.some(selector => NotebookProviderInfo.selectorMatches(selector, resource));\n\t}\n\n\tstatic selectorMatches(selector: NotebookSelector, resource: URI): boolean {\n\t\tif (typeof selector === 'string' || glob.isRelativePattern(selector)) {\n\t\t\tif (glob.match(selector, basename(resource.fsPath), { ignoreCase: true })) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (!isDocumentExcludePattern(selector)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst filenamePattern = selector.include;\n\t\tconst excludeFilenamePattern = selector.exclude;\n\n\t\tif (glob.match(filenamePattern, basename(resource.fsPath), { ignoreCase: true })) {\n\t\t\tif (excludeFilenamePattern) {\n\t\t\t\tif (glob.match(excludeFilenamePattern, basename(resource.fsPath), { ignoreCase: true })) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tstatic possibleFileEnding(selectors: NotebookSelector[]): string | undefined {\n\t\tfor (const selector of selectors) {\n\t\t\tconst ending = NotebookProviderInfo._possibleFileEnding(selector);\n\t\t\tif (ending) {\n\t\t\t\treturn ending;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate static _possibleFileEnding(selector: NotebookSelector): string | undefined {\n\n\t\tconst pattern = /^.*(\\.[a-zA-Z0-9_-]+)$/;\n\n\t\tlet candidate: string | undefined;\n\n\t\tif (typeof selector === 'string') {\n\t\t\tcandidate = selector;\n\t\t} else if (glob.isRelativePattern(selector)) {\n\t\t\tcandidate = selector.pattern;\n\t\t} else if (selector.include) {\n\t\t\treturn NotebookProviderInfo._possibleFileEnding(selector.include);\n\t\t}\n\n\t\tif (candidate) {\n\t\t\tconst match = pattern.exec(candidate);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}