{"version":3,"names":["cov_4soupy0o2","actualCoverage","matchesFuzzy","splitGlobAware","ReplEvaluationResult","ReplEvaluationInput","Variable","ReplFilter","matchQuery","s","_parsedQueries","filterQuery","query","f","trim","b","filters","map","filter","length","startsWith","push","type","slice","element","parentVisibility","includeQueryPresent","includeQueryMatched","text","toString"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/debug/browser/replFilter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FuzzyScore, matchesFuzzy } from '../../../../base/common/filters.js';\nimport { splitGlobAware } from '../../../../base/common/glob.js';\nimport { ITreeFilter, TreeVisibility, TreeFilterResult } from '../../../../base/browser/ui/tree/tree.js';\nimport { IReplElement } from '../common/debug.js';\nimport { ReplEvaluationResult, ReplEvaluationInput } from '../common/replModel.js';\nimport { Variable } from '../common/debugModel.js';\n\n\ntype ParsedQuery = {\n\ttype: 'include' | 'exclude';\n\tquery: string;\n};\n\nexport class ReplFilter implements ITreeFilter<IReplElement, FuzzyScore> {\n\n\tstatic matchQuery = matchesFuzzy;\n\n\tprivate _parsedQueries: ParsedQuery[] = [];\n\tset filterQuery(query: string) {\n\t\tthis._parsedQueries = [];\n\t\tquery = query.trim();\n\n\t\tif (query && query !== '') {\n\t\t\tconst filters = splitGlobAware(query, ',').map(s => s.trim()).filter(s => !!s.length);\n\t\t\tfor (const f of filters) {\n\t\t\t\tif (f.startsWith('\\\\')) {\n\t\t\t\t\tthis._parsedQueries.push({ type: 'include', query: f.slice(1) });\n\t\t\t\t} else if (f.startsWith('!')) {\n\t\t\t\t\tthis._parsedQueries.push({ type: 'exclude', query: f.slice(1) });\n\t\t\t\t} else {\n\t\t\t\t\tthis._parsedQueries.push({ type: 'include', query: f });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfilter(element: IReplElement, parentVisibility: TreeVisibility): TreeFilterResult<FuzzyScore> {\n\t\tif (element instanceof ReplEvaluationInput || element instanceof ReplEvaluationResult || element instanceof Variable) {\n\t\t\t// Only filter the output events, everything else is visible https://github.com/microsoft/vscode/issues/105863\n\t\t\treturn TreeVisibility.Visible;\n\t\t}\n\n\t\tlet includeQueryPresent = false;\n\t\tlet includeQueryMatched = false;\n\n\t\tconst text = element.toString(true);\n\n\t\tfor (const { type, query } of this._parsedQueries) {\n\t\t\tif (type === 'exclude' && ReplFilter.matchQuery(query, text)) {\n\t\t\t\t// If exclude query matches, ignore all other queries and hide\n\t\t\t\treturn false;\n\t\t\t} else if (type === 'include') {\n\t\t\t\tincludeQueryPresent = true;\n\t\t\t\tif (ReplFilter.matchQuery(query, text)) {\n\t\t\t\t\tincludeQueryMatched = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn includeQueryPresent ? includeQueryMatched : (typeof parentVisibility !== 'undefined' ? parentVisibility : TreeVisibility.Visible);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}