{"version":3,"names":["cov_2bkzg76z","actualCoverage","localize","IConfigurationService","IDialogService","shouldPasteTerminalText","accessor","text","bracketedPasteMode","f","configurationService","s","get","dialogService","textForLines","split","length","b","parseConfigValue","value","configValue","getValue","trim","displayItemsCount","maxPreviewLineLength","detail","i","Math","min","line","cleanedLine","slice","result","checkboxChecked","prompt","message","type","buttons","label","key","comment","run","confirmed","singleLine","cancelButton","checkbox","updateValue","modifiedText","replace"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/clipboard/browser/terminalClipboard.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { TerminalSettingId } from '../../../../../platform/terminal/common/terminal.js';\n\nexport async function shouldPasteTerminalText(accessor: ServicesAccessor, text: string, bracketedPasteMode: boolean | undefined): Promise<boolean | { modifiedText: string }> {\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst dialogService = accessor.get(IDialogService);\n\n\t// If the clipboard has only one line, a warning should never show\n\tconst textForLines = text.split(/\\r?\\n/);\n\tif (textForLines.length === 1) {\n\t\treturn true;\n\t}\n\n\t// Get config value\n\tfunction parseConfigValue(value: unknown): 'auto' | 'always' | 'never' {\n\t\t// Valid value\n\t\tif (typeof value === 'string') {\n\t\t\tif (value === 'auto' || value === 'always' || value === 'never') {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\t// Legacy backwards compatibility\n\t\tif (typeof value === 'boolean') {\n\t\t\treturn value ? 'auto' : 'never';\n\t\t}\n\t\t// Invalid value fallback\n\t\treturn 'auto';\n\t}\n\tconst configValue = parseConfigValue(configurationService.getValue(TerminalSettingId.EnableMultiLinePasteWarning));\n\n\t// Never show it\n\tif (configValue === 'never') {\n\t\treturn true;\n\t}\n\n\t// Special edge cases to not show for auto\n\tif (configValue === 'auto') {\n\t\t// Ignore check if the shell is in bracketed paste mode (ie. the shell can handle multi-line\n\t\t// text).\n\t\tif (bracketedPasteMode) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst textForLines = text.split(/\\r?\\n/);\n\t\t// Ignore check when a command is copied with a trailing new line\n\t\tif (textForLines.length === 2 && textForLines[1].trim().length === 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tconst displayItemsCount = 3;\n\tconst maxPreviewLineLength = 30;\n\n\tlet detail = localize('preview', \"Preview:\");\n\tfor (let i = 0; i < Math.min(textForLines.length, displayItemsCount); i++) {\n\t\tconst line = textForLines[i];\n\t\tconst cleanedLine = line.length > maxPreviewLineLength ? `${line.slice(0, maxPreviewLineLength)}…` : line;\n\t\tdetail += `\\n${cleanedLine}`;\n\t}\n\n\tif (textForLines.length > displayItemsCount) {\n\t\tdetail += `\\n…`;\n\t}\n\n\tconst { result, checkboxChecked } = await dialogService.prompt<{ confirmed: boolean; singleLine: boolean }>({\n\t\tmessage: localize('confirmMoveTrashMessageFilesAndDirectories', \"Are you sure you want to paste {0} lines of text into the terminal?\", textForLines.length),\n\t\tdetail,\n\t\ttype: 'warning',\n\t\tbuttons: [\n\t\t\t{\n\t\t\t\tlabel: localize({ key: 'multiLinePasteButton', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"),\n\t\t\t\trun: () => ({ confirmed: true, singleLine: false })\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: localize({ key: 'multiLinePasteButton.oneLine', comment: ['&& denotes a mnemonic'] }, \"Paste as &&one line\"),\n\t\t\t\trun: () => ({ confirmed: true, singleLine: true })\n\t\t\t}\n\t\t],\n\t\tcancelButton: true,\n\t\tcheckbox: {\n\t\t\tlabel: localize('doNotAskAgain', \"Do not ask me again\")\n\t\t}\n\t});\n\n\tif (!result) {\n\t\treturn false;\n\t}\n\n\tif (result.confirmed && checkboxChecked) {\n\t\tawait configurationService.updateValue(TerminalSettingId.EnableMultiLinePasteWarning, 'never');\n\t}\n\n\tif (result.singleLine) {\n\t\treturn { modifiedText: text.replace(/\\r?\\n/g, '') };\n\t}\n\n\treturn result.confirmed;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBC;IAAAA,YAAA,YAAAA,CAAA;MAAA,OAA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","ignoreList":[]}