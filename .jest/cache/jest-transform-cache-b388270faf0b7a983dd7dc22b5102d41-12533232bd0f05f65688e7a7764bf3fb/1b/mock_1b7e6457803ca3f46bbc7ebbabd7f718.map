{"version":3,"names":["cov_292v7hqbo9","actualCoverage","assert","isOneOf","mockObject","overrides","f","s","Object","freeze","keys","key","hasOwn","b","push","mocked","Proxy","get","_target","mockService"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/test/common/promptSyntax/utils/mock.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { assert } from '../../../../../../../base/common/assert.js';\nimport { isOneOf } from '../../../../../../../base/common/types.js';\n\n\n\n/**\n * Mocks an `TObject` with the provided `overrides`.\n *\n * If you need to mock an `Service`, please use {@link mockService}\n * instead which provides better type safety guarantees for the case.\n *\n * @throws Reading non-overridden property or function on `TObject` throws an error.\n */\nexport function mockObject<TObject extends object>(\n\toverrides: Partial<TObject>,\n): TObject {\n\t// ensure that the overrides object cannot be modified afterward\n\toverrides = Object.freeze(overrides);\n\n\tconst keys: (keyof Partial<TObject>)[] = [];\n\tfor (const key in overrides) {\n\t\tif (Object.hasOwn(overrides, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\tconst mocked: object = new Proxy(\n\t\t{},\n\t\t{\n\t\t\tget: <T extends keyof TObject>(\n\t\t\t\t_target: TObject,\n\t\t\t\tkey: string | number | Symbol,\n\t\t\t): TObject[T] => {\n\t\t\t\tassert(\n\t\t\t\t\tisOneOf(key, keys),\n\t\t\t\t\t`The '${key}' is not mocked.`,\n\t\t\t\t);\n\n\t\t\t\t// note! it's ok to type assert here, because of the explicit runtime\n\t\t\t\t//       assertion  above\n\t\t\t\treturn overrides[key as T] as TObject[T];\n\t\t\t},\n\t\t});\n\n\t// note! it's ok to type assert here, because of the runtime checks in\n\t//       the `Proxy` getter\n\treturn mocked as TObject;\n}\n\n/**\n * Type for any service.\n */\ntype TAnyService = {\n\treadonly _serviceBrand: undefined;\n};\n\n/**\n * Mocks provided service with the provided `overrides`.\n * Same as more generic {@link mockObject} utility, but with\n * the service constraint on the `TService` type.\n *\n * @throws Reading non-overridden property or function\n * \t\t   on `TService` throws an error.\n */\nexport function mockService<TService extends TAnyService>(\n\toverrides: Partial<TService>,\n): TService {\n\treturn mockObject(overrides);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqBC;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AArBD;;;;AAKA,SAASE,MAAM,QAAQ,4CAA4C;AACnE,SAASC,OAAO,QAAQ,2CAA2C;AAInE;;;;;;;;AAQA,OAAM,SAAUC,UAAUA,CACzBC,SAA2B;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAAAN,cAAA,GAAAO,CAAA;EAE3B;EACAF,SAAS,GAAGG,MAAM,CAACC,MAAM,CAACJ,SAAS,CAAC;EAEpC,MAAMK,IAAI;EAAA;EAAA,CAAAV,cAAA,GAAAO,CAAA,OAA+B,EAAE;EAAC;EAAAP,cAAA,GAAAO,CAAA;EAC5C,KAAK,MAAMI,GAAG,IAAIN,SAAS,EAAE;IAAA;IAAAL,cAAA,GAAAO,CAAA;IAC5B,IAAIC,MAAM,CAACI,MAAM,CAACP,SAAS,EAAEM,GAAG,CAAC,EAAE;MAAA;MAAAX,cAAA,GAAAa,CAAA;MAAAb,cAAA,GAAAO,CAAA;MAClCG,IAAI,CAACI,IAAI,CAACH,GAAG,CAAC;IACf,CAAC;IAAA;IAAA;MAAAX,cAAA,GAAAa,CAAA;IAAA;EACF;EAEA,MAAME,MAAM;EAAA;EAAA,CAAAf,cAAA,GAAAO,CAAA,OAAW,IAAIS,KAAK,CAC/B,EAAE,EACF;IACCC,GAAG,EAAEA,CACJC,OAAgB,EAChBP,GAA6B,KACd;MAAA;MAAAX,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAO,CAAA;MACfL,MAAM,CACLC,OAAO,CAACQ,GAAG,EAAED,IAAI,CAAC,EAClB,QAAQC,GAAG,kBAAkB,CAC7B;MAED;MACA;MAAA;MAAAX,cAAA,GAAAO,CAAA;MACA,OAAOF,SAAS,CAACM,GAAQ,CAAe;IACzC;GACA,CAAC;EAEH;EACA;EAAA;EAAAX,cAAA,GAAAO,CAAA;EACA,OAAOQ,MAAiB;AACzB;AASA;;;;;;;;AAQA,OAAM,SAAUI,WAAWA,CAC1Bd,SAA4B;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAAAN,cAAA,GAAAO,CAAA;EAE5B,OAAOH,UAAU,CAACC,SAAS,CAAC;AAC7B","ignoreList":[]}