{"version":3,"names":["cov_1jq4jlw986","actualCoverage","IPCExtHostConnection","pipeName","ENV_KEY","s","type","constructor","f","serialize","env","SocketExtHostConnection","MessagePortExtHostConnection","clean","writeExtHostConnection","connection","readExtHostConnection","b","cleanAndReturn","Error","result"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/extensions/common/extensionHostEnv.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IProcessEnvironment } from '../../../../base/common/platform.js';\n\nexport const enum ExtHostConnectionType {\n\tIPC = 1,\n\tSocket = 2,\n\tMessagePort = 3\n}\n\n/**\n * The extension host will connect via named pipe / domain socket to its renderer.\n */\nexport class IPCExtHostConnection {\n\tpublic static ENV_KEY = 'MINTMIND_EXTHOST_IPC_HOOK';\n\n\tpublic readonly type = ExtHostConnectionType.IPC;\n\n\tconstructor(\n\t\tpublic readonly pipeName: string\n\t) { }\n\n\tpublic serialize(env: IProcessEnvironment): void {\n\t\tenv[IPCExtHostConnection.ENV_KEY] = this.pipeName;\n\t}\n}\n\n/**\n * The extension host will receive via nodejs IPC the socket to its renderer.\n */\nexport class SocketExtHostConnection {\n\tpublic static ENV_KEY = 'MINTMIND_EXTHOST_WILL_SEND_SOCKET';\n\n\tpublic readonly type = ExtHostConnectionType.Socket;\n\n\tpublic serialize(env: IProcessEnvironment): void {\n\t\tenv[SocketExtHostConnection.ENV_KEY] = '1';\n\t}\n}\n\n/**\n * The extension host will receive via nodejs IPC the MessagePort to its renderer.\n */\nexport class MessagePortExtHostConnection {\n\tpublic static ENV_KEY = 'MINTMIND_WILL_SEND_MESSAGE_PORT';\n\n\tpublic readonly type = ExtHostConnectionType.MessagePort;\n\n\tpublic serialize(env: IProcessEnvironment): void {\n\t\tenv[MessagePortExtHostConnection.ENV_KEY] = '1';\n\t}\n}\n\nexport type ExtHostConnection = IPCExtHostConnection | SocketExtHostConnection | MessagePortExtHostConnection;\n\nfunction clean(env: IProcessEnvironment): void {\n\tdelete env[IPCExtHostConnection.ENV_KEY];\n\tdelete env[SocketExtHostConnection.ENV_KEY];\n\tdelete env[MessagePortExtHostConnection.ENV_KEY];\n}\n\n/**\n * Write `connection` into `env` and clean up `env`.\n */\nexport function writeExtHostConnection(connection: ExtHostConnection, env: IProcessEnvironment): void {\n\t// Avoid having two different keys that might introduce amiguity or problems.\n\tclean(env);\n\tconnection.serialize(env);\n}\n\n/**\n * Read `connection` from `env` and clean up `env`.\n */\nexport function readExtHostConnection(env: IProcessEnvironment): ExtHostConnection {\n\tif (env[IPCExtHostConnection.ENV_KEY]) {\n\t\treturn cleanAndReturn(env, new IPCExtHostConnection(env[IPCExtHostConnection.ENV_KEY]!));\n\t}\n\tif (env[SocketExtHostConnection.ENV_KEY]) {\n\t\treturn cleanAndReturn(env, new SocketExtHostConnection());\n\t}\n\tif (env[MessagePortExtHostConnection.ENV_KEY]) {\n\t\treturn cleanAndReturn(env, new MessagePortExtHostConnection());\n\t}\n\tthrow new Error(`No connection information defined in environment!`);\n}\n\nfunction cleanAndReturn(env: IProcessEnvironment, result: ExtHostConnection): ExtHostConnection {\n\tclean(env);\n\treturn result;\n}\n"],"mappings":"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","ignoreList":[]}