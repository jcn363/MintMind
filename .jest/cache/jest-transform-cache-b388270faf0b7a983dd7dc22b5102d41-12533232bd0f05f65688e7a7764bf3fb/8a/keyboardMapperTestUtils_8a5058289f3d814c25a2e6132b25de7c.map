{"version":3,"names":["cov_svljug4m2","actualCoverage","fs","assert","path","Promises","FileAccess","toIResolvedKeybinding","kb","f","s","label","getLabel","ariaLabel","getAriaLabel","electronAccelerator","getElectronAccelerator","userSettingsLabel","getUserSettingsLabel","isWYSIWYG","isMultiChord","hasMultipleChords","dispatchParts","getDispatchChords","singleModifierDispatchParts","getSingleModifierDispatchChords","assertResolveKeyboardEvent","mapper","keyboardEvent","expected","actual","resolveKeyboardEvent","deepStrictEqual","assertResolveKeybinding","keybinding","resolveKeybinding","map","readRawMapping","file","promises","readFile","asFileUri","fsPath","then","buff","contents","toString","func","Function","rawMappings","value","assertMapping","writeFileIfDifferent","filePath","normalize","replace","dumpDebugInfo","b","destPath","writeFile"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/keybinding/test/node/keyboardMapperTestUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport assert from 'assert';\nimport * as path from '../../../../../base/common/path.js';\nimport { SingleModifierChord, ResolvedKeybinding, Keybinding } from '../../../../../base/common/keybindings.js';\nimport { Promises } from '../../../../../base/node/pfs.js';\nimport { IKeyboardEvent } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IKeyboardMapper } from '../../../../../platform/keyboardLayout/common/keyboardMapper.js';\nimport { FileAccess } from '../../../../../base/common/network.js';\n\nexport interface IResolvedKeybinding {\n\tlabel: string | null;\n\tariaLabel: string | null;\n\telectronAccelerator: string | null;\n\tuserSettingsLabel: string | null;\n\tisWYSIWYG: boolean;\n\tisMultiChord: boolean;\n\tdispatchParts: (string | null)[];\n\tsingleModifierDispatchParts: (SingleModifierChord | null)[];\n}\n\nfunction toIResolvedKeybinding(kb: ResolvedKeybinding): IResolvedKeybinding {\n\treturn {\n\t\tlabel: kb.getLabel(),\n\t\tariaLabel: kb.getAriaLabel(),\n\t\telectronAccelerator: kb.getElectronAccelerator(),\n\t\tuserSettingsLabel: kb.getUserSettingsLabel(),\n\t\tisWYSIWYG: kb.isWYSIWYG(),\n\t\tisMultiChord: kb.hasMultipleChords(),\n\t\tdispatchParts: kb.getDispatchChords(),\n\t\tsingleModifierDispatchParts: kb.getSingleModifierDispatchChords()\n\t};\n}\n\nexport function assertResolveKeyboardEvent(mapper: IKeyboardMapper, keyboardEvent: IKeyboardEvent, expected: IResolvedKeybinding): void {\n\tconst actual = toIResolvedKeybinding(mapper.resolveKeyboardEvent(keyboardEvent));\n\tassert.deepStrictEqual(actual, expected);\n}\n\nexport function assertResolveKeybinding(mapper: IKeyboardMapper, keybinding: Keybinding, expected: IResolvedKeybinding[]): void {\n\tconst actual: IResolvedKeybinding[] = mapper.resolveKeybinding(keybinding).map(toIResolvedKeybinding);\n\tassert.deepStrictEqual(actual, expected);\n}\n\nexport function readRawMapping<T>(file: string): Promise<T> {\n\treturn fs.promises.readFile(FileAccess.asFileUri(`vs/workbench/services/keybinding/test/node/${file}.js`).fsPath).then((buff) => {\n\t\tconst contents = buff.toString();\n\t\tconst func = new Function('define', contents);// CodeQL [SM01632] This is used in tests and we read the files as JS to avoid slowing down TS compilation\n\t\tlet rawMappings: T | null = null;\n\t\tfunc(function (value: T) {\n\t\t\trawMappings = value;\n\t\t});\n\t\treturn rawMappings!;\n\t});\n}\n\nexport function assertMapping(writeFileIfDifferent: boolean, mapper: IKeyboardMapper, file: string): Promise<void> {\n\tconst filePath = path.normalize(FileAccess.asFileUri(`vs/workbench/services/keybinding/test/node/${file}`).fsPath);\n\n\treturn fs.promises.readFile(filePath).then((buff) => {\n\t\tconst expected = buff.toString().replace(/\\r\\n/g, '\\n');\n\t\tconst actual = mapper.dumpDebugInfo().replace(/\\r\\n/g, '\\n');\n\t\tif (actual !== expected && writeFileIfDifferent) {\n\t\t\tconst destPath = filePath.replace(/[\\/\\\\]out[\\/\\\\]vs[\\/\\\\]workbench/, '/src/vs/workbench');\n\t\t\tPromises.writeFile(destPath, actual);\n\t\t}\n\t\tassert.deepStrictEqual(actual, expected);\n\t});\n}\n"],"mappings":"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","ignoreList":[]}