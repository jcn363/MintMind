{"version":3,"names":["cov_hcnbyegc6","actualCoverage","TextSearchMatch","Range","isINotebookFileMatchNoModel","object","f","s","rawCellPrefix","genericCellMatchesToTextSearchMatches","contentMatches","buffer","previousEndLine","contextGroupings","currentContextGrouping","forEach","match","range","startLineNumber","b","length","push","endLineNumber","textSearchResults","map","grouping","lineTexts","firstLine","lastLine","i","getLineContent","join","m","startColumn","endColumn"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/search/common/searchNotebookHelpers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { FindMatch, IReadonlyTextBuffer } from '../../../../editor/common/model.js';\nimport { TextSearchMatch, IFileMatch, ITextSearchMatch } from '../../../services/search/common/search.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\n\nexport type IRawClosedNotebookFileMatch = INotebookFileMatchNoModel<UriComponents>;\n\nexport interface INotebookFileMatchNoModel<U extends UriComponents = URI> extends IFileMatch<U> {\n\tcellResults: INotebookCellMatchNoModel<U>[];\n}\n\nexport interface INotebookCellMatchNoModel<U extends UriComponents = URI> {\n\tindex: number;\n\tcontentResults: ITextSearchMatch<U>[];\n\twebviewResults: ITextSearchMatch<U>[];\n}\n\nexport function isINotebookFileMatchNoModel(object: IFileMatch): object is INotebookFileMatchNoModel {\n\treturn 'cellResults' in object;\n}\n\nexport const rawCellPrefix = 'rawCell#';\n\nexport function genericCellMatchesToTextSearchMatches(contentMatches: FindMatch[], buffer: IReadonlyTextBuffer) {\n\tlet previousEndLine = -1;\n\tconst contextGroupings: FindMatch[][] = [];\n\tlet currentContextGrouping: FindMatch[] = [];\n\n\tcontentMatches.forEach((match) => {\n\t\tif (match.range.startLineNumber !== previousEndLine) {\n\t\t\tif (currentContextGrouping.length > 0) {\n\t\t\t\tcontextGroupings.push([...currentContextGrouping]);\n\t\t\t\tcurrentContextGrouping = [];\n\t\t\t}\n\t\t}\n\n\t\tcurrentContextGrouping.push(match);\n\t\tpreviousEndLine = match.range.endLineNumber;\n\t});\n\n\tif (currentContextGrouping.length > 0) {\n\t\tcontextGroupings.push([...currentContextGrouping]);\n\t}\n\n\tconst textSearchResults = contextGroupings.map((grouping) => {\n\t\tconst lineTexts: string[] = [];\n\t\tconst firstLine = grouping[0].range.startLineNumber;\n\t\tconst lastLine = grouping[grouping.length - 1].range.endLineNumber;\n\t\tfor (let i = firstLine; i <= lastLine; i++) {\n\t\t\tlineTexts.push(buffer.getLineContent(i));\n\t\t}\n\t\treturn new TextSearchMatch(\n\t\t\tlineTexts.join('\\n') + '\\n',\n\t\t\tgrouping.map(m => new Range(m.range.startLineNumber - 1, m.range.startColumn - 1, m.range.endLineNumber - 1, m.range.endColumn - 1)),\n\t\t);\n\t});\n\n\treturn textSearchResults;\n}\n\n"],"mappings":"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","ignoreList":[]}