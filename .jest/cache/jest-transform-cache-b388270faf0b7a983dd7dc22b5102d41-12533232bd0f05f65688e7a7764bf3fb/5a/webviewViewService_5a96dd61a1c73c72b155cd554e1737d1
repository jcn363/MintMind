28a431c1a4f5158d68c52c4bee0839c3
/* istanbul ignore next */
function cov_2ehv8oq15f() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/contrib/webviewView/browser/webviewViewService.ts";
  var hash = "0c52cbe94ad9fc1d48d5b44a36f38955700d7361";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/webviewView/browser/webviewViewService.ts",
    statementMap: {
      "0": {
        start: {
          line: 10,
          column: 35
        },
        end: {
          line: 10,
          column: 72
        }
      },
      "1": {
        start: {
          line: 13,
          column: 17
        },
        end: {
          line: 13,
          column: 26
        }
      },
      "2": {
        start: {
          line: 14,
          column: 23
        },
        end: {
          line: 14,
          column: 32
        }
      },
      "3": {
        start: {
          line: 15,
          column: 31
        },
        end: {
          line: 15,
          column: 60
        }
      },
      "4": {
        start: {
          line: 16,
          column: 30
        },
        end: {
          line: 16,
          column: 65
        }
      },
      "5": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 20,
          column: 9
        }
      },
      "6": {
        start: {
          line: 19,
          column: 12
        },
        end: {
          line: 19,
          column: 80
        }
      },
      "7": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 48
        }
      },
      "8": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 67
        }
      },
      "9": {
        start: {
          line: 23,
          column: 24
        },
        end: {
          line: 23,
          column: 59
        }
      },
      "10": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 29,
          column: 9
        }
      },
      "11": {
        start: {
          line: 25,
          column: 12
        },
        end: {
          line: 28,
          column: 15
        }
      },
      "12": {
        start: {
          line: 26,
          column: 16
        },
        end: {
          line: 26,
          column: 55
        }
      },
      "13": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 34
        }
      },
      "14": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 32,
          column: 11
        }
      },
      "15": {
        start: {
          line: 31,
          column: 12
        },
        end: {
          line: 31,
          column: 45
        }
      },
      "16": {
        start: {
          line: 35,
          column: 25
        },
        end: {
          line: 35,
          column: 54
        }
      },
      "17": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "18": {
        start: {
          line: 37,
          column: 12
        },
        end: {
          line: 39,
          column: 13
        }
      },
      "19": {
        start: {
          line: 38,
          column: 16
        },
        end: {
          line: 38,
          column: 65
        }
      },
      "20": {
        start: {
          line: 40,
          column: 41
        },
        end: {
          line: 40,
          column: 63
        }
      },
      "21": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 70
        }
      },
      "22": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 27
        }
      },
      "23": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 55
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 33
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 17
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 25,
            column: 75
          },
          end: {
            line: 25,
            column: 76
          }
        },
        loc: {
          start: {
            line: 25,
            column: 81
          },
          end: {
            line: 28,
            column: 13
          }
        },
        line: 25
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 30,
            column: 28
          },
          end: {
            line: 30,
            column: 29
          }
        },
        loc: {
          start: {
            line: 30,
            column: 34
          },
          end: {
            line: 32,
            column: 9
          }
        },
        line: 30
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        loc: {
          start: {
            line: 34,
            column: 45
          },
          end: {
            line: 45,
            column: 5
          }
        },
        line: 34
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 20,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 18,
            column: 8
          },
          end: {
            line: 20,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 24,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 24,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 24
      },
      "2": {
        loc: {
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 36,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 36
      },
      "3": {
        loc: {
          start: {
            line: 37,
            column: 12
          },
          end: {
            line: 39,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 12
          },
          end: {
            line: 39,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/webviewView/browser/webviewViewService.ts",
      mappings: "AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,oBAAoB,EAAE,MAAM,kCAAkC,CAAC;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,OAAO,EAAS,MAAM,kCAAkC,CAAC;AAClE,OAAO,EAAE,UAAU,EAAe,YAAY,EAAE,MAAM,sCAAsC,CAAC;AAC7F,OAAO,EAAE,eAAe,EAAE,MAAM,4DAA4D,CAAC;AA8D7F,MAAM,CAAC,MAAM,mBAAmB,GAAG,eAAe,CAAsB,oBAAoB,CAAC,CAAC;AAuB9F,MAAM,OAAO,kBAAmB,SAAQ,UAAU;IAExC,aAAa,CAAY;IAEjB,UAAU,GAAG,IAAI,GAAG,EAAgC,CAAC;IAErD,gBAAgB,GAAG,IAAI,GAAG,EAA2E,CAAC;IAEtG,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,OAAO,EAAiC,CAAC,CAAC;IACzF,uBAAuB,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC;IAE9E,QAAQ,CAAC,QAAgB,EAAE,QAA8B;QACxD,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;YACnC,MAAM,IAAI,KAAK,CAAC,wCAAwC,QAAQ,EAAE,CAAC,CAAC;QACrE,CAAC;QAED,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;QAE3D,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,OAAO,EAAE,CAAC;YACb,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACnE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACvC,OAAO,CAAC,OAAO,EAAE,CAAC;YACnB,CAAC,CAAC,CAAC;QACJ,CAAC;QAED,OAAO,YAAY,CAAC,GAAG,EAAE;YACxB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,QAAgB,EAAE,OAAoB,EAAE,YAA+B;QAC9E,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,QAAQ,EAAE,CAAC;YACf,IAAI,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACzC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;YAClD,CAAC;YAED,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,oBAAoB,EAAQ,CAAC;YAC1D,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;YAC1D,OAAO,OAAO,CAAC;QAChB,CAAC;QAED,OAAO,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;IAChD,CAAC;CACD",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/contrib/webviewView/browser/webviewViewService.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { promiseWithResolvers } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IViewBadge } from '../../../common/views.js';\nimport { IOverlayWebview } from '../../webview/browser/webview.js';\n\n/**\n * A webview shown in a view pane.\n */\nexport interface WebviewView {\n\t/**\n\t * The text displayed in the view's title.\n\t */\n\ttitle?: string;\n\n\t/**\n\t * Additional text shown for this view.\n\t */\n\tdescription?: string;\n\n\t/**\n\t * The badge shown for this view.\n\t */\n\tbadge?: IViewBadge;\n\n\t/**\n\t * The webview associated with this webview view.\n\t */\n\treadonly webview: IOverlayWebview;\n\n\t/**\n\t * Fired when the visibility of the webview view changes.\n\t *\n\t * This can happen when the view itself is hidden, when the view is collapsed, or when the user switches away from\n\t * the view.\n\t */\n\treadonly onDidChangeVisibility: Event<boolean>;\n\n\t/**\n\t * Fired when the webview view has been disposed of.\n\t */\n\treadonly onDispose: Event<void>;\n\n\t/**\n\t * Dispose of the webview view and clean up any associated resources.\n\t */\n\tdispose(): void;\n\n\t/**\n\t * Force the webview view to show.\n\t */\n\tshow(preserveFocus: boolean): void;\n}\n\n/**\n * Fill in the contents of a newly created webview view.\n */\ninterface IWebviewViewResolver {\n\t/**\n\t * Fill in the contents of a webview view.\n\t */\n\tresolve(webviewView: WebviewView, cancellation: CancellationToken): Promise<void>;\n}\n\nexport const IWebviewViewService = createDecorator<IWebviewViewService>('webviewViewService');\n\nexport interface IWebviewViewService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Fired when a resolver has been registered\n\t */\n\treadonly onNewResolverRegistered: Event<{ readonly viewType: string }>;\n\n\t/**\n\t * Register a new {@link IWebviewViewResolver webview view resolver}.\n\t */\n\tregister(viewType: string, resolver: IWebviewViewResolver): IDisposable;\n\n\t/**\n\t * Try to resolve a webview view. The promise will not resolve until a resolver for the webview has been registered\n\t * and run\n\t */\n\tresolve(viewType: string, webview: WebviewView, cancellation: CancellationToken): Promise<void>;\n}\n\nexport class WebviewViewService extends Disposable implements IWebviewViewService {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate readonly _resolvers = new Map<string, IWebviewViewResolver>();\n\n\tprivate readonly _awaitingRevival = new Map<string, { readonly webview: WebviewView; readonly resolve: () => void }>();\n\n\tprivate readonly _onNewResolverRegistered = this._register(new Emitter<{ readonly viewType: string }>());\n\tpublic readonly onNewResolverRegistered = this._onNewResolverRegistered.event;\n\n\tregister(viewType: string, resolver: IWebviewViewResolver): IDisposable {\n\t\tif (this._resolvers.has(viewType)) {\n\t\t\tthrow new Error(`View resolver already registered for ${viewType}`);\n\t\t}\n\n\t\tthis._resolvers.set(viewType, resolver);\n\t\tthis._onNewResolverRegistered.fire({ viewType: viewType });\n\n\t\tconst pending = this._awaitingRevival.get(viewType);\n\t\tif (pending) {\n\t\t\tresolver.resolve(pending.webview, CancellationToken.None).then(() => {\n\t\t\t\tthis._awaitingRevival.delete(viewType);\n\t\t\t\tpending.resolve();\n\t\t\t});\n\t\t}\n\n\t\treturn toDisposable(() => {\n\t\t\tthis._resolvers.delete(viewType);\n\t\t});\n\t}\n\n\tresolve(viewType: string, webview: WebviewView, cancellation: CancellationToken): Promise<void> {\n\t\tconst resolver = this._resolvers.get(viewType);\n\t\tif (!resolver) {\n\t\t\tif (this._awaitingRevival.has(viewType)) {\n\t\t\t\tthrow new Error('View already awaiting revival');\n\t\t\t}\n\n\t\t\tconst { promise, resolve } = promiseWithResolvers<void>();\n\t\t\tthis._awaitingRevival.set(viewType, { webview, resolve });\n\t\t\treturn promise;\n\t\t}\n\n\t\treturn resolver.resolve(webview, cancellation);\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "0c52cbe94ad9fc1d48d5b44a36f38955700d7361"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2ehv8oq15f = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ehv8oq15f();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { promiseWithResolvers } from '../../../../base/common/async.js';
import { CancellationToken } from '../../../../base/common/cancellation.js';
import { Emitter } from '../../../../base/common/event.js';
import { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';
import { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';
export const IWebviewViewService =
/* istanbul ignore next */
(cov_2ehv8oq15f().s[0]++, createDecorator('webviewViewService'));
export class WebviewViewService extends Disposable {
  _serviceBrand;
  _resolvers =
  /* istanbul ignore next */
  (cov_2ehv8oq15f().s[1]++, new Map());
  _awaitingRevival =
  /* istanbul ignore next */
  (cov_2ehv8oq15f().s[2]++, new Map());
  _onNewResolverRegistered =
  /* istanbul ignore next */
  (cov_2ehv8oq15f().s[3]++, this._register(new Emitter()));
  onNewResolverRegistered =
  /* istanbul ignore next */
  (cov_2ehv8oq15f().s[4]++, this._onNewResolverRegistered.event);
  register(viewType, resolver) {
    /* istanbul ignore next */
    cov_2ehv8oq15f().f[0]++;
    cov_2ehv8oq15f().s[5]++;
    if (this._resolvers.has(viewType)) {
      /* istanbul ignore next */
      cov_2ehv8oq15f().b[0][0]++;
      cov_2ehv8oq15f().s[6]++;
      throw new Error(`View resolver already registered for ${viewType}`);
    } else
    /* istanbul ignore next */
    {
      cov_2ehv8oq15f().b[0][1]++;
    }
    cov_2ehv8oq15f().s[7]++;
    this._resolvers.set(viewType, resolver);
    /* istanbul ignore next */
    cov_2ehv8oq15f().s[8]++;
    this._onNewResolverRegistered.fire({
      viewType: viewType
    });
    const pending =
    /* istanbul ignore next */
    (cov_2ehv8oq15f().s[9]++, this._awaitingRevival.get(viewType));
    /* istanbul ignore next */
    cov_2ehv8oq15f().s[10]++;
    if (pending) {
      /* istanbul ignore next */
      cov_2ehv8oq15f().b[1][0]++;
      cov_2ehv8oq15f().s[11]++;
      resolver.resolve(pending.webview, CancellationToken.None).then(() => {
        /* istanbul ignore next */
        cov_2ehv8oq15f().f[1]++;
        cov_2ehv8oq15f().s[12]++;
        this._awaitingRevival.delete(viewType);
        /* istanbul ignore next */
        cov_2ehv8oq15f().s[13]++;
        pending.resolve();
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ehv8oq15f().b[1][1]++;
    }
    cov_2ehv8oq15f().s[14]++;
    return toDisposable(() => {
      /* istanbul ignore next */
      cov_2ehv8oq15f().f[2]++;
      cov_2ehv8oq15f().s[15]++;
      this._resolvers.delete(viewType);
    });
  }
  resolve(viewType, webview, cancellation) {
    /* istanbul ignore next */
    cov_2ehv8oq15f().f[3]++;
    const resolver =
    /* istanbul ignore next */
    (cov_2ehv8oq15f().s[16]++, this._resolvers.get(viewType));
    /* istanbul ignore next */
    cov_2ehv8oq15f().s[17]++;
    if (!resolver) {
      /* istanbul ignore next */
      cov_2ehv8oq15f().b[2][0]++;
      cov_2ehv8oq15f().s[18]++;
      if (this._awaitingRevival.has(viewType)) {
        /* istanbul ignore next */
        cov_2ehv8oq15f().b[3][0]++;
        cov_2ehv8oq15f().s[19]++;
        throw new Error('View already awaiting revival');
      } else
      /* istanbul ignore next */
      {
        cov_2ehv8oq15f().b[3][1]++;
      }
      const {
        promise,
        resolve
      } =
      /* istanbul ignore next */
      (cov_2ehv8oq15f().s[20]++, promiseWithResolvers());
      /* istanbul ignore next */
      cov_2ehv8oq15f().s[21]++;
      this._awaitingRevival.set(viewType, {
        webview,
        resolve
      });
      /* istanbul ignore next */
      cov_2ehv8oq15f().s[22]++;
      return promise;
    } else
    /* istanbul ignore next */
    {
      cov_2ehv8oq15f().b[2][1]++;
    }
    cov_2ehv8oq15f().s[23]++;
    return resolver.resolve(webview, cancellation);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmVodjhvcTE1ZiIsImFjdHVhbENvdmVyYWdlIiwicHJvbWlzZVdpdGhSZXNvbHZlcnMiLCJDYW5jZWxsYXRpb25Ub2tlbiIsIkVtaXR0ZXIiLCJEaXNwb3NhYmxlIiwidG9EaXNwb3NhYmxlIiwiY3JlYXRlRGVjb3JhdG9yIiwiSVdlYnZpZXdWaWV3U2VydmljZSIsInMiLCJXZWJ2aWV3Vmlld1NlcnZpY2UiLCJfc2VydmljZUJyYW5kIiwiX3Jlc29sdmVycyIsIk1hcCIsIl9hd2FpdGluZ1Jldml2YWwiLCJfb25OZXdSZXNvbHZlclJlZ2lzdGVyZWQiLCJfcmVnaXN0ZXIiLCJvbk5ld1Jlc29sdmVyUmVnaXN0ZXJlZCIsImV2ZW50IiwicmVnaXN0ZXIiLCJ2aWV3VHlwZSIsInJlc29sdmVyIiwiZiIsImhhcyIsImIiLCJFcnJvciIsInNldCIsImZpcmUiLCJwZW5kaW5nIiwiZ2V0IiwicmVzb2x2ZSIsIndlYnZpZXciLCJOb25lIiwidGhlbiIsImRlbGV0ZSIsImNhbmNlbGxhdGlvbiIsInByb21pc2UiXSwic291cmNlcyI6WyIvaG9tZS91c2VyL0Rlc2t0b3AvTWludE1pbmQvc3JjL3ZzL3dvcmtiZW5jaC9jb250cmliL3dlYnZpZXdWaWV3L2Jyb3dzZXIvd2Vidmlld1ZpZXdTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5pbXBvcnQgeyBwcm9taXNlV2l0aFJlc29sdmVycyB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FzeW5jLmpzJztcbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vY2FuY2VsbGF0aW9uLmpzJztcbmltcG9ydCB7IEVtaXR0ZXIsIEV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSwgSURpc3Bvc2FibGUsIHRvRGlzcG9zYWJsZSB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEZWNvcmF0b3IgfSBmcm9tICcuLi8uLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmltcG9ydCB7IElWaWV3QmFkZ2UgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vdmlld3MuanMnO1xuaW1wb3J0IHsgSU92ZXJsYXlXZWJ2aWV3IH0gZnJvbSAnLi4vLi4vd2Vidmlldy9icm93c2VyL3dlYnZpZXcuanMnO1xuXG4vKipcbiAqIEEgd2VidmlldyBzaG93biBpbiBhIHZpZXcgcGFuZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXZWJ2aWV3VmlldyB7XG5cdC8qKlxuXHQgKiBUaGUgdGV4dCBkaXNwbGF5ZWQgaW4gdGhlIHZpZXcncyB0aXRsZS5cblx0ICovXG5cdHRpdGxlPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBBZGRpdGlvbmFsIHRleHQgc2hvd24gZm9yIHRoaXMgdmlldy5cblx0ICovXG5cdGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuXG5cdC8qKlxuXHQgKiBUaGUgYmFkZ2Ugc2hvd24gZm9yIHRoaXMgdmlldy5cblx0ICovXG5cdGJhZGdlPzogSVZpZXdCYWRnZTtcblxuXHQvKipcblx0ICogVGhlIHdlYnZpZXcgYXNzb2NpYXRlZCB3aXRoIHRoaXMgd2VidmlldyB2aWV3LlxuXHQgKi9cblx0cmVhZG9ubHkgd2VidmlldzogSU92ZXJsYXlXZWJ2aWV3O1xuXG5cdC8qKlxuXHQgKiBGaXJlZCB3aGVuIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB3ZWJ2aWV3IHZpZXcgY2hhbmdlcy5cblx0ICpcblx0ICogVGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIHZpZXcgaXRzZWxmIGlzIGhpZGRlbiwgd2hlbiB0aGUgdmlldyBpcyBjb2xsYXBzZWQsIG9yIHdoZW4gdGhlIHVzZXIgc3dpdGNoZXMgYXdheSBmcm9tXG5cdCAqIHRoZSB2aWV3LlxuXHQgKi9cblx0cmVhZG9ubHkgb25EaWRDaGFuZ2VWaXNpYmlsaXR5OiBFdmVudDxib29sZWFuPjtcblxuXHQvKipcblx0ICogRmlyZWQgd2hlbiB0aGUgd2VidmlldyB2aWV3IGhhcyBiZWVuIGRpc3Bvc2VkIG9mLlxuXHQgKi9cblx0cmVhZG9ubHkgb25EaXNwb3NlOiBFdmVudDx2b2lkPjtcblxuXHQvKipcblx0ICogRGlzcG9zZSBvZiB0aGUgd2VidmlldyB2aWV3IGFuZCBjbGVhbiB1cCBhbnkgYXNzb2NpYXRlZCByZXNvdXJjZXMuXG5cdCAqL1xuXHRkaXNwb3NlKCk6IHZvaWQ7XG5cblx0LyoqXG5cdCAqIEZvcmNlIHRoZSB3ZWJ2aWV3IHZpZXcgdG8gc2hvdy5cblx0ICovXG5cdHNob3cocHJlc2VydmVGb2N1czogYm9vbGVhbik6IHZvaWQ7XG59XG5cbi8qKlxuICogRmlsbCBpbiB0aGUgY29udGVudHMgb2YgYSBuZXdseSBjcmVhdGVkIHdlYnZpZXcgdmlldy5cbiAqL1xuaW50ZXJmYWNlIElXZWJ2aWV3Vmlld1Jlc29sdmVyIHtcblx0LyoqXG5cdCAqIEZpbGwgaW4gdGhlIGNvbnRlbnRzIG9mIGEgd2VidmlldyB2aWV3LlxuXHQgKi9cblx0cmVzb2x2ZSh3ZWJ2aWV3VmlldzogV2Vidmlld1ZpZXcsIGNhbmNlbGxhdGlvbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgY29uc3QgSVdlYnZpZXdWaWV3U2VydmljZSA9IGNyZWF0ZURlY29yYXRvcjxJV2Vidmlld1ZpZXdTZXJ2aWNlPignd2Vidmlld1ZpZXdTZXJ2aWNlJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYnZpZXdWaWV3U2VydmljZSB7XG5cblx0cmVhZG9ubHkgX3NlcnZpY2VCcmFuZDogdW5kZWZpbmVkO1xuXG5cdC8qKlxuXHQgKiBGaXJlZCB3aGVuIGEgcmVzb2x2ZXIgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuXHQgKi9cblx0cmVhZG9ubHkgb25OZXdSZXNvbHZlclJlZ2lzdGVyZWQ6IEV2ZW50PHsgcmVhZG9ubHkgdmlld1R5cGU6IHN0cmluZyB9PjtcblxuXHQvKipcblx0ICogUmVnaXN0ZXIgYSBuZXcge0BsaW5rIElXZWJ2aWV3Vmlld1Jlc29sdmVyIHdlYnZpZXcgdmlldyByZXNvbHZlcn0uXG5cdCAqL1xuXHRyZWdpc3Rlcih2aWV3VHlwZTogc3RyaW5nLCByZXNvbHZlcjogSVdlYnZpZXdWaWV3UmVzb2x2ZXIpOiBJRGlzcG9zYWJsZTtcblxuXHQvKipcblx0ICogVHJ5IHRvIHJlc29sdmUgYSB3ZWJ2aWV3IHZpZXcuIFRoZSBwcm9taXNlIHdpbGwgbm90IHJlc29sdmUgdW50aWwgYSByZXNvbHZlciBmb3IgdGhlIHdlYnZpZXcgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuXHQgKiBhbmQgcnVuXG5cdCAqL1xuXHRyZXNvbHZlKHZpZXdUeXBlOiBzdHJpbmcsIHdlYnZpZXc6IFdlYnZpZXdWaWV3LCBjYW5jZWxsYXRpb246IENhbmNlbGxhdGlvblRva2VuKTogUHJvbWlzZTx2b2lkPjtcbn1cblxuZXhwb3J0IGNsYXNzIFdlYnZpZXdWaWV3U2VydmljZSBleHRlbmRzIERpc3Bvc2FibGUgaW1wbGVtZW50cyBJV2Vidmlld1ZpZXdTZXJ2aWNlIHtcblxuXHRyZWFkb25seSBfc2VydmljZUJyYW5kOiB1bmRlZmluZWQ7XG5cblx0cHJpdmF0ZSByZWFkb25seSBfcmVzb2x2ZXJzID0gbmV3IE1hcDxzdHJpbmcsIElXZWJ2aWV3Vmlld1Jlc29sdmVyPigpO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgX2F3YWl0aW5nUmV2aXZhbCA9IG5ldyBNYXA8c3RyaW5nLCB7IHJlYWRvbmx5IHdlYnZpZXc6IFdlYnZpZXdWaWV3OyByZWFkb25seSByZXNvbHZlOiAoKSA9PiB2b2lkIH0+KCk7XG5cblx0cHJpdmF0ZSByZWFkb25seSBfb25OZXdSZXNvbHZlclJlZ2lzdGVyZWQgPSB0aGlzLl9yZWdpc3RlcihuZXcgRW1pdHRlcjx7IHJlYWRvbmx5IHZpZXdUeXBlOiBzdHJpbmcgfT4oKSk7XG5cdHB1YmxpYyByZWFkb25seSBvbk5ld1Jlc29sdmVyUmVnaXN0ZXJlZCA9IHRoaXMuX29uTmV3UmVzb2x2ZXJSZWdpc3RlcmVkLmV2ZW50O1xuXG5cdHJlZ2lzdGVyKHZpZXdUeXBlOiBzdHJpbmcsIHJlc29sdmVyOiBJV2Vidmlld1ZpZXdSZXNvbHZlcik6IElEaXNwb3NhYmxlIHtcblx0XHRpZiAodGhpcy5fcmVzb2x2ZXJzLmhhcyh2aWV3VHlwZSkpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgVmlldyByZXNvbHZlciBhbHJlYWR5IHJlZ2lzdGVyZWQgZm9yICR7dmlld1R5cGV9YCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcmVzb2x2ZXJzLnNldCh2aWV3VHlwZSwgcmVzb2x2ZXIpO1xuXHRcdHRoaXMuX29uTmV3UmVzb2x2ZXJSZWdpc3RlcmVkLmZpcmUoeyB2aWV3VHlwZTogdmlld1R5cGUgfSk7XG5cblx0XHRjb25zdCBwZW5kaW5nID0gdGhpcy5fYXdhaXRpbmdSZXZpdmFsLmdldCh2aWV3VHlwZSk7XG5cdFx0aWYgKHBlbmRpbmcpIHtcblx0XHRcdHJlc29sdmVyLnJlc29sdmUocGVuZGluZy53ZWJ2aWV3LCBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lKS50aGVuKCgpID0+IHtcblx0XHRcdFx0dGhpcy5fYXdhaXRpbmdSZXZpdmFsLmRlbGV0ZSh2aWV3VHlwZSk7XG5cdFx0XHRcdHBlbmRpbmcucmVzb2x2ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiB7XG5cdFx0XHR0aGlzLl9yZXNvbHZlcnMuZGVsZXRlKHZpZXdUeXBlKTtcblx0XHR9KTtcblx0fVxuXG5cdHJlc29sdmUodmlld1R5cGU6IHN0cmluZywgd2VidmlldzogV2Vidmlld1ZpZXcsIGNhbmNlbGxhdGlvbjogQ2FuY2VsbGF0aW9uVG9rZW4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCByZXNvbHZlciA9IHRoaXMuX3Jlc29sdmVycy5nZXQodmlld1R5cGUpO1xuXHRcdGlmICghcmVzb2x2ZXIpIHtcblx0XHRcdGlmICh0aGlzLl9hd2FpdGluZ1Jldml2YWwuaGFzKHZpZXdUeXBlKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1ZpZXcgYWxyZWFkeSBhd2FpdGluZyByZXZpdmFsJyk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHsgcHJvbWlzZSwgcmVzb2x2ZSB9ID0gcHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4oKTtcblx0XHRcdHRoaXMuX2F3YWl0aW5nUmV2aXZhbC5zZXQodmlld1R5cGUsIHsgd2VidmlldywgcmVzb2x2ZSB9KTtcblx0XHRcdHJldHVybiBwcm9taXNlO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXNvbHZlci5yZXNvbHZlKHdlYnZpZXcsIGNhbmNlbGxhdGlvbik7XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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