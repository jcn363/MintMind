7152eca99eba4b9a202447468cd79c87
/* istanbul ignore next */
function cov_29kdpfpf0x() {
  var path = "/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/contentSegmenter.ts";
  var hash = "0a0766daab3c5b66889a533be53f49244fc4b532";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/contentSegmenter.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 4
        },
        end: {
          line: 9,
          column: 5
        }
      },
      "1": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 51
        }
      },
      "2": {
        start: {
          line: 10,
          column: 4
        },
        end: {
          line: 10,
          column: 50
        }
      },
      "3": {
        start: {
          line: 15,
          column: 8
        },
        end: {
          line: 15,
          column: 41
        }
      },
      "4": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 18,
          column: 36
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 25
        }
      },
      "6": {
        start: {
          line: 29,
          column: 16
        },
        end: {
          line: 29,
          column: 18
        }
      },
      "7": {
        start: {
          line: 31,
          column: 24
        },
        end: {
          line: 31,
          column: 40
        }
      },
      "8": {
        start: {
          line: 32,
          column: 26
        },
        end: {
          line: 32,
          column: 90
        }
      },
      "9": {
        start: {
          line: 33,
          column: 33
        },
        end: {
          line: 33,
          column: 71
        }
      },
      "10": {
        start: {
          line: 34,
          column: 29
        },
        end: {
          line: 34,
          column: 30
        }
      },
      "11": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 48,
          column: 9
        }
      },
      "12": {
        start: {
          line: 35,
          column: 21
        },
        end: {
          line: 35,
          column: 22
        }
      },
      "13": {
        start: {
          line: 36,
          column: 28
        },
        end: {
          line: 36,
          column: 60
        }
      },
      "14": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 40,
          column: 13
        }
      },
      "15": {
        start: {
          line: 39,
          column: 16
        },
        end: {
          line: 39,
          column: 22
        }
      },
      "16": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 45,
          column: 13
        }
      },
      "17": {
        start: {
          line: 43,
          column: 16
        },
        end: {
          line: 43,
          column: 47
        }
      },
      "18": {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 44,
          column: 25
        }
      },
      "19": {
        start: {
          line: 46,
          column: 12
        },
        end: {
          line: 46,
          column: 29
        }
      },
      "20": {
        start: {
          line: 47,
          column: 12
        },
        end: {
          line: 47,
          column: 41
        }
      },
      "21": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 46
        }
      },
      "22": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 54,
          column: 37
        }
      }
    },
    fnMap: {
      "0": {
        name: "createContentSegmenter",
        decl: {
          start: {
            line: 6,
            column: 16
          },
          end: {
            line: 6,
            column: 38
          }
        },
        loc: {
          start: {
            line: 6,
            column: 58
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 6
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        },
        loc: {
          start: {
            line: 14,
            column: 26
          },
          end: {
            line: 16,
            column: 5
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 29
          },
          end: {
            line: 19,
            column: 5
          }
        },
        line: 17
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 26
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 20
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 26
          },
          end: {
            line: 49,
            column: 5
          }
        },
        line: 30
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 50,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        loc: {
          start: {
            line: 50,
            column: 29
          },
          end: {
            line: 52,
            column: 5
          }
        },
        line: 50
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 53,
            column: 4
          },
          end: {
            line: 53,
            column: 5
          }
        },
        loc: {
          start: {
            line: 53,
            column: 26
          },
          end: {
            line: 55,
            column: 5
          }
        },
        line: 53
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 7,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 7,
            column: 4
          },
          end: {
            line: 9,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 7
      },
      "1": {
        loc: {
          start: {
            line: 7,
            column: 8
          },
          end: {
            line: 7,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 7,
            column: 8
          },
          end: {
            line: 7,
            column: 29
          }
        }, {
          start: {
            line: 7,
            column: 33
          },
          end: {
            line: 7,
            column: 66
          }
        }],
        line: 7
      },
      "2": {
        loc: {
          start: {
            line: 38,
            column: 12
          },
          end: {
            line: 40,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 38,
            column: 12
          },
          end: {
            line: 40,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 38
      },
      "3": {
        loc: {
          start: {
            line: 42,
            column: 12
          },
          end: {
            line: 45,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 42,
            column: 12
          },
          end: {
            line: 45,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 42
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/contentSegmenter.ts",
      mappings: "AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,8BAA8B,CAAC;AAgBxD,MAAM,UAAU,sBAAsB,CAAC,QAA+B,EAAE,OAAwB;IAC/F,IAAI,QAAQ,CAAC,YAAY,IAAI,OAAO,CAAC,yBAAyB,EAAE,CAAC;QAChE,OAAO,IAAI,qBAAqB,CAAC,QAAQ,CAAC,CAAC;IAC5C,CAAC;IACD,OAAO,IAAI,wBAAwB,CAAC,QAAQ,CAAC,CAAC;AAC/C,CAAC;AAED,MAAM,qBAAqB;IACT,QAAQ,CAAS;IAElC,YAAY,QAA+B;QAC1C,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC;IAClC,CAAC;IAED,iBAAiB,CAAC,KAAa;QAC9B,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC7B,CAAC;IAED,cAAc,CAAC,KAAa;QAC3B,OAAO,SAAS,CAAC;IAClB,CAAC;CACD;AAED;;;GAGG;AACH,MAAM,wBAAwB;IACZ,SAAS,GAAqC,EAAE,CAAC;IAElE,YAAY,QAA+B;QAC1C,MAAM,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;QACjC,MAAM,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC;QACnF,MAAM,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;QAChE,IAAI,cAAc,GAAG,CAAC,CAAC;QAEvB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACzC,MAAM,OAAO,GAAG,gBAAgB,CAAC,cAAc,CAAC,CAAC;YAEjD,oEAAoE;YACpE,IAAI,CAAC,OAAO,EAAE,CAAC;gBACd,MAAM;YACP,CAAC;YAED,8DAA8D;YAC9D,IAAI,OAAO,CAAC,KAAK,KAAK,CAAC,EAAE,CAAC;gBACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC/B,SAAS;YACV,CAAC;YAED,cAAc,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,CAAC;IACF,CAAC;IAED,iBAAiB,CAAC,KAAa;QAC9B,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,OAAO,CAAC;IACvC,CAAC;IAED,cAAc,CAAC,KAAa;QAC3B,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;CACD",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/contentSegmenter.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { safeIntl } from '../../../base/common/date.js';\nimport type { GraphemeIterator } from '../../../base/common/strings.js';\nimport type { ViewLineRenderingData } from '../../common/viewModel.js';\nimport type { ViewLineOptions } from '../viewParts/viewLines/viewLineOptions.js';\n\nexport interface IContentSegmenter {\n\t/**\n\t * Gets the content segment at an index within the line data's contents. This will be undefined\n\t * when the index should not be rendered, ie. when it's part of an earlier segment like the tail\n\t * end of an emoji, or when the line is not that long.\n\t * @param index The index within the line data's content string.\n\t */\n\tgetSegmentAtIndex(index: number): string | undefined;\n\tgetSegmentData(index: number): Intl.SegmentData | undefined;\n}\n\nexport function createContentSegmenter(lineData: ViewLineRenderingData, options: ViewLineOptions): IContentSegmenter {\n\tif (lineData.isBasicASCII && options.useMonospaceOptimizations) {\n\t\treturn new AsciiContentSegmenter(lineData);\n\t}\n\treturn new GraphemeContentSegmenter(lineData);\n}\n\nclass AsciiContentSegmenter implements IContentSegmenter {\n\tprivate readonly _content: string;\n\n\tconstructor(lineData: ViewLineRenderingData) {\n\t\tthis._content = lineData.content;\n\t}\n\n\tgetSegmentAtIndex(index: number): string {\n\t\treturn this._content[index];\n\t}\n\n\tgetSegmentData(index: number): Intl.SegmentData | undefined {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * This is a more modern version of {@link GraphemeIterator}, relying on browser APIs instead of a\n * manual table approach.\n */\nclass GraphemeContentSegmenter implements IContentSegmenter {\n\tprivate readonly _segments: (Intl.SegmentData | undefined)[] = [];\n\n\tconstructor(lineData: ViewLineRenderingData) {\n\t\tconst content = lineData.content;\n\t\tconst segmenter = safeIntl.Segmenter(undefined, { granularity: 'grapheme' }).value;\n\t\tconst segmentedContent = Array.from(segmenter.segment(content));\n\t\tlet segmenterIndex = 0;\n\n\t\tfor (let x = 0; x < content.length; x++) {\n\t\t\tconst segment = segmentedContent[segmenterIndex];\n\n\t\t\t// No more segments in the string (eg. an emoji is the last segment)\n\t\t\tif (!segment) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// The segment isn't renderable (eg. the tail end of an emoji)\n\t\t\tif (segment.index !== x) {\n\t\t\t\tthis._segments.push(undefined);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tsegmenterIndex++;\n\t\t\tthis._segments.push(segment);\n\t\t}\n\t}\n\n\tgetSegmentAtIndex(index: number): string | undefined {\n\t\treturn this._segments[index]?.segment;\n\t}\n\n\tgetSegmentData(index: number): Intl.SegmentData | undefined {\n\t\treturn this._segments[index];\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "0a0766daab3c5b66889a533be53f49244fc4b532"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_29kdpfpf0x = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_29kdpfpf0x();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { safeIntl } from '../../../base/common/date.js';
export function createContentSegmenter(lineData, options) {
  /* istanbul ignore next */
  cov_29kdpfpf0x().f[0]++;
  cov_29kdpfpf0x().s[0]++;
  if (
  /* istanbul ignore next */
  (cov_29kdpfpf0x().b[1][0]++, lineData.isBasicASCII) &&
  /* istanbul ignore next */
  (cov_29kdpfpf0x().b[1][1]++, options.useMonospaceOptimizations)) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().b[0][0]++;
    cov_29kdpfpf0x().s[1]++;
    return new AsciiContentSegmenter(lineData);
  } else
  /* istanbul ignore next */
  {
    cov_29kdpfpf0x().b[0][1]++;
  }
  cov_29kdpfpf0x().s[2]++;
  return new GraphemeContentSegmenter(lineData);
}
class AsciiContentSegmenter {
  _content;
  constructor(lineData) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[1]++;
    cov_29kdpfpf0x().s[3]++;
    this._content = lineData.content;
  }
  getSegmentAtIndex(index) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[2]++;
    cov_29kdpfpf0x().s[4]++;
    return this._content[index];
  }
  getSegmentData(index) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[3]++;
    cov_29kdpfpf0x().s[5]++;
    return undefined;
  }
}
/**
 * This is a more modern version of {@link GraphemeIterator}, relying on browser APIs instead of a
 * manual table approach.
 */
class GraphemeContentSegmenter {
  _segments =
  /* istanbul ignore next */
  (cov_29kdpfpf0x().s[6]++, []);
  constructor(lineData) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[4]++;
    const content =
    /* istanbul ignore next */
    (cov_29kdpfpf0x().s[7]++, lineData.content);
    const segmenter =
    /* istanbul ignore next */
    (cov_29kdpfpf0x().s[8]++, safeIntl.Segmenter(undefined, {
      granularity: 'grapheme'
    }).value);
    const segmentedContent =
    /* istanbul ignore next */
    (cov_29kdpfpf0x().s[9]++, Array.from(segmenter.segment(content)));
    let segmenterIndex =
    /* istanbul ignore next */
    (cov_29kdpfpf0x().s[10]++, 0);
    /* istanbul ignore next */
    cov_29kdpfpf0x().s[11]++;
    for (let x =
    /* istanbul ignore next */
    (cov_29kdpfpf0x().s[12]++, 0); x < content.length; x++) {
      const segment =
      /* istanbul ignore next */
      (cov_29kdpfpf0x().s[13]++, segmentedContent[segmenterIndex]);
      // No more segments in the string (eg. an emoji is the last segment)
      /* istanbul ignore next */
      cov_29kdpfpf0x().s[14]++;
      if (!segment) {
        /* istanbul ignore next */
        cov_29kdpfpf0x().b[2][0]++;
        cov_29kdpfpf0x().s[15]++;
        break;
      } else
      /* istanbul ignore next */
      {
        cov_29kdpfpf0x().b[2][1]++;
      }
      // The segment isn't renderable (eg. the tail end of an emoji)
      cov_29kdpfpf0x().s[16]++;
      if (segment.index !== x) {
        /* istanbul ignore next */
        cov_29kdpfpf0x().b[3][0]++;
        cov_29kdpfpf0x().s[17]++;
        this._segments.push(undefined);
        /* istanbul ignore next */
        cov_29kdpfpf0x().s[18]++;
        continue;
      } else
      /* istanbul ignore next */
      {
        cov_29kdpfpf0x().b[3][1]++;
      }
      cov_29kdpfpf0x().s[19]++;
      segmenterIndex++;
      /* istanbul ignore next */
      cov_29kdpfpf0x().s[20]++;
      this._segments.push(segment);
    }
  }
  getSegmentAtIndex(index) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[5]++;
    cov_29kdpfpf0x().s[21]++;
    return this._segments[index]?.segment;
  }
  getSegmentData(index) {
    /* istanbul ignore next */
    cov_29kdpfpf0x().f[6]++;
    cov_29kdpfpf0x().s[22]++;
    return this._segments[index];
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjlrZHBmcGYweCIsImFjdHVhbENvdmVyYWdlIiwic2FmZUludGwiLCJjcmVhdGVDb250ZW50U2VnbWVudGVyIiwibGluZURhdGEiLCJvcHRpb25zIiwiZiIsInMiLCJiIiwiaXNCYXNpY0FTQ0lJIiwidXNlTW9ub3NwYWNlT3B0aW1pemF0aW9ucyIsIkFzY2lpQ29udGVudFNlZ21lbnRlciIsIkdyYXBoZW1lQ29udGVudFNlZ21lbnRlciIsIl9jb250ZW50IiwiY29uc3RydWN0b3IiLCJjb250ZW50IiwiZ2V0U2VnbWVudEF0SW5kZXgiLCJpbmRleCIsImdldFNlZ21lbnREYXRhIiwidW5kZWZpbmVkIiwiX3NlZ21lbnRzIiwic2VnbWVudGVyIiwiU2VnbWVudGVyIiwiZ3JhbnVsYXJpdHkiLCJ2YWx1ZSIsInNlZ21lbnRlZENvbnRlbnQiLCJBcnJheSIsImZyb20iLCJzZWdtZW50Iiwic2VnbWVudGVySW5kZXgiLCJ4IiwibGVuZ3RoIiwicHVzaCJdLCJzb3VyY2VzIjpbIi9ob21lL3VzZXIvRGVza3RvcC9NaW50TWluZC9zcmMvdnMvZWRpdG9yL2Jyb3dzZXIvZ3B1L2NvbnRlbnRTZWdtZW50ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmltcG9ydCB7IHNhZmVJbnRsIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZGF0ZS5qcyc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoZW1lSXRlcmF0b3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzJztcbmltcG9ydCB0eXBlIHsgVmlld0xpbmVSZW5kZXJpbmdEYXRhIH0gZnJvbSAnLi4vLi4vY29tbW9uL3ZpZXdNb2RlbC5qcyc7XG5pbXBvcnQgdHlwZSB7IFZpZXdMaW5lT3B0aW9ucyB9IGZyb20gJy4uL3ZpZXdQYXJ0cy92aWV3TGluZXMvdmlld0xpbmVPcHRpb25zLmpzJztcblxuZXhwb3J0IGludGVyZmFjZSBJQ29udGVudFNlZ21lbnRlciB7XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBjb250ZW50IHNlZ21lbnQgYXQgYW4gaW5kZXggd2l0aGluIHRoZSBsaW5lIGRhdGEncyBjb250ZW50cy4gVGhpcyB3aWxsIGJlIHVuZGVmaW5lZFxuXHQgKiB3aGVuIHRoZSBpbmRleCBzaG91bGQgbm90IGJlIHJlbmRlcmVkLCBpZS4gd2hlbiBpdCdzIHBhcnQgb2YgYW4gZWFybGllciBzZWdtZW50IGxpa2UgdGhlIHRhaWxcblx0ICogZW5kIG9mIGFuIGVtb2ppLCBvciB3aGVuIHRoZSBsaW5lIGlzIG5vdCB0aGF0IGxvbmcuXG5cdCAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggd2l0aGluIHRoZSBsaW5lIGRhdGEncyBjb250ZW50IHN0cmluZy5cblx0ICovXG5cdGdldFNlZ21lbnRBdEluZGV4KGluZGV4OiBudW1iZXIpOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdGdldFNlZ21lbnREYXRhKGluZGV4OiBudW1iZXIpOiBJbnRsLlNlZ21lbnREYXRhIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGVudFNlZ21lbnRlcihsaW5lRGF0YTogVmlld0xpbmVSZW5kZXJpbmdEYXRhLCBvcHRpb25zOiBWaWV3TGluZU9wdGlvbnMpOiBJQ29udGVudFNlZ21lbnRlciB7XG5cdGlmIChsaW5lRGF0YS5pc0Jhc2ljQVNDSUkgJiYgb3B0aW9ucy51c2VNb25vc3BhY2VPcHRpbWl6YXRpb25zKSB7XG5cdFx0cmV0dXJuIG5ldyBBc2NpaUNvbnRlbnRTZWdtZW50ZXIobGluZURhdGEpO1xuXHR9XG5cdHJldHVybiBuZXcgR3JhcGhlbWVDb250ZW50U2VnbWVudGVyKGxpbmVEYXRhKTtcbn1cblxuY2xhc3MgQXNjaWlDb250ZW50U2VnbWVudGVyIGltcGxlbWVudHMgSUNvbnRlbnRTZWdtZW50ZXIge1xuXHRwcml2YXRlIHJlYWRvbmx5IF9jb250ZW50OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IobGluZURhdGE6IFZpZXdMaW5lUmVuZGVyaW5nRGF0YSkge1xuXHRcdHRoaXMuX2NvbnRlbnQgPSBsaW5lRGF0YS5jb250ZW50O1xuXHR9XG5cblx0Z2V0U2VnbWVudEF0SW5kZXgoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuX2NvbnRlbnRbaW5kZXhdO1xuXHR9XG5cblx0Z2V0U2VnbWVudERhdGEoaW5kZXg6IG51bWJlcik6IEludGwuU2VnbWVudERhdGEgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cbn1cblxuLyoqXG4gKiBUaGlzIGlzIGEgbW9yZSBtb2Rlcm4gdmVyc2lvbiBvZiB7QGxpbmsgR3JhcGhlbWVJdGVyYXRvcn0sIHJlbHlpbmcgb24gYnJvd3NlciBBUElzIGluc3RlYWQgb2YgYVxuICogbWFudWFsIHRhYmxlIGFwcHJvYWNoLlxuICovXG5jbGFzcyBHcmFwaGVtZUNvbnRlbnRTZWdtZW50ZXIgaW1wbGVtZW50cyBJQ29udGVudFNlZ21lbnRlciB7XG5cdHByaXZhdGUgcmVhZG9ubHkgX3NlZ21lbnRzOiAoSW50bC5TZWdtZW50RGF0YSB8IHVuZGVmaW5lZClbXSA9IFtdO1xuXG5cdGNvbnN0cnVjdG9yKGxpbmVEYXRhOiBWaWV3TGluZVJlbmRlcmluZ0RhdGEpIHtcblx0XHRjb25zdCBjb250ZW50ID0gbGluZURhdGEuY29udGVudDtcblx0XHRjb25zdCBzZWdtZW50ZXIgPSBzYWZlSW50bC5TZWdtZW50ZXIodW5kZWZpbmVkLCB7IGdyYW51bGFyaXR5OiAnZ3JhcGhlbWUnIH0pLnZhbHVlO1xuXHRcdGNvbnN0IHNlZ21lbnRlZENvbnRlbnQgPSBBcnJheS5mcm9tKHNlZ21lbnRlci5zZWdtZW50KGNvbnRlbnQpKTtcblx0XHRsZXQgc2VnbWVudGVySW5kZXggPSAwO1xuXG5cdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBjb250ZW50Lmxlbmd0aDsgeCsrKSB7XG5cdFx0XHRjb25zdCBzZWdtZW50ID0gc2VnbWVudGVkQ29udGVudFtzZWdtZW50ZXJJbmRleF07XG5cblx0XHRcdC8vIE5vIG1vcmUgc2VnbWVudHMgaW4gdGhlIHN0cmluZyAoZWcuIGFuIGVtb2ppIGlzIHRoZSBsYXN0IHNlZ21lbnQpXG5cdFx0XHRpZiAoIXNlZ21lbnQpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRoZSBzZWdtZW50IGlzbid0IHJlbmRlcmFibGUgKGVnLiB0aGUgdGFpbCBlbmQgb2YgYW4gZW1vamkpXG5cdFx0XHRpZiAoc2VnbWVudC5pbmRleCAhPT0geCkge1xuXHRcdFx0XHR0aGlzLl9zZWdtZW50cy5wdXNoKHVuZGVmaW5lZCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWdtZW50ZXJJbmRleCsrO1xuXHRcdFx0dGhpcy5fc2VnbWVudHMucHVzaChzZWdtZW50KTtcblx0XHR9XG5cdH1cblxuXHRnZXRTZWdtZW50QXRJbmRleChpbmRleDogbnVtYmVyKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcblx0XHRyZXR1cm4gdGhpcy5fc2VnbWVudHNbaW5kZXhdPy5zZWdtZW50O1xuXHR9XG5cblx0Z2V0U2VnbWVudERhdGEoaW5kZXg6IG51bWJlcik6IEludGwuU2VnbWVudERhdGEgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiB0aGlzLl9zZWdtZW50c1tpbmRleF07XG5cdH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWlDRTtJQUFBQSxjQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxjQUFBO0FBakNGOzs7O0FBS0EsU0FBU0UsUUFBUSxRQUFRLDhCQUE4QjtBQWdCdkQsT0FBTSxTQUFVQyxzQkFBc0JBLENBQUNDLFFBQStCLEVBQUVDLE9BQXdCO0VBQUE7RUFBQUwsY0FBQSxHQUFBTSxDQUFBO0VBQUFOLGNBQUEsR0FBQU8sQ0FBQTtFQUMvRjtFQUFJO0VBQUEsQ0FBQVAs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