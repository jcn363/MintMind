{"version":3,"names":["cov_29kdpfpf0x","actualCoverage","safeIntl","createContentSegmenter","lineData","options","f","s","b","isBasicASCII","useMonospaceOptimizations","AsciiContentSegmenter","GraphemeContentSegmenter","_content","constructor","content","getSegmentAtIndex","index","getSegmentData","undefined","_segments","segmenter","Segmenter","granularity","value","segmentedContent","Array","from","segment","segmenterIndex","x","length","push"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/contentSegmenter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { safeIntl } from '../../../base/common/date.js';\nimport type { GraphemeIterator } from '../../../base/common/strings.js';\nimport type { ViewLineRenderingData } from '../../common/viewModel.js';\nimport type { ViewLineOptions } from '../viewParts/viewLines/viewLineOptions.js';\n\nexport interface IContentSegmenter {\n\t/**\n\t * Gets the content segment at an index within the line data's contents. This will be undefined\n\t * when the index should not be rendered, ie. when it's part of an earlier segment like the tail\n\t * end of an emoji, or when the line is not that long.\n\t * @param index The index within the line data's content string.\n\t */\n\tgetSegmentAtIndex(index: number): string | undefined;\n\tgetSegmentData(index: number): Intl.SegmentData | undefined;\n}\n\nexport function createContentSegmenter(lineData: ViewLineRenderingData, options: ViewLineOptions): IContentSegmenter {\n\tif (lineData.isBasicASCII && options.useMonospaceOptimizations) {\n\t\treturn new AsciiContentSegmenter(lineData);\n\t}\n\treturn new GraphemeContentSegmenter(lineData);\n}\n\nclass AsciiContentSegmenter implements IContentSegmenter {\n\tprivate readonly _content: string;\n\n\tconstructor(lineData: ViewLineRenderingData) {\n\t\tthis._content = lineData.content;\n\t}\n\n\tgetSegmentAtIndex(index: number): string {\n\t\treturn this._content[index];\n\t}\n\n\tgetSegmentData(index: number): Intl.SegmentData | undefined {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * This is a more modern version of {@link GraphemeIterator}, relying on browser APIs instead of a\n * manual table approach.\n */\nclass GraphemeContentSegmenter implements IContentSegmenter {\n\tprivate readonly _segments: (Intl.SegmentData | undefined)[] = [];\n\n\tconstructor(lineData: ViewLineRenderingData) {\n\t\tconst content = lineData.content;\n\t\tconst segmenter = safeIntl.Segmenter(undefined, { granularity: 'grapheme' }).value;\n\t\tconst segmentedContent = Array.from(segmenter.segment(content));\n\t\tlet segmenterIndex = 0;\n\n\t\tfor (let x = 0; x < content.length; x++) {\n\t\t\tconst segment = segmentedContent[segmenterIndex];\n\n\t\t\t// No more segments in the string (eg. an emoji is the last segment)\n\t\t\tif (!segment) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// The segment isn't renderable (eg. the tail end of an emoji)\n\t\t\tif (segment.index !== x) {\n\t\t\t\tthis._segments.push(undefined);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tsegmenterIndex++;\n\t\t\tthis._segments.push(segment);\n\t\t}\n\t}\n\n\tgetSegmentAtIndex(index: number): string | undefined {\n\t\treturn this._segments[index]?.segment;\n\t}\n\n\tgetSegmentData(index: number): Intl.SegmentData | undefined {\n\t\treturn this._segments[index];\n\t}\n}\n"],"mappings":"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","ignoreList":[]}