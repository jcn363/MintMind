{"version":3,"names":["cov_10534m246b","actualCoverage","coalesce","toDisposable","Registry","DefaultQuickAccessFilterValue","s","f","b","Extensions","Quickaccess","QuickAccessRegistry","providers","defaultProvider","undefined","registerQuickAccessProvider","provider","prefix","length","push","sort","providerA","providerB","splice","indexOf","getQuickAccessProviders","getQuickAccessProvider","result","find","startsWith","clear","add"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/quickinput/common/quickAccess.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { coalesce } from '../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { IDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { ItemActivation, IQuickNavigateConfiguration, IQuickPick, IQuickPickItem, QuickPickItem, IQuickPickSeparator } from './quickInput.js';\nimport { Registry } from '../../registry/common/platform.js';\n\n/**\n * Provider specific options for this particular showing of the\n * quick access.\n */\nexport interface IQuickAccessProviderRunOptions {\n\treadonly from?: string;\n\treadonly placeholder?: string;\n\t/**\n\t * A handler to invoke when an item is accepted for\n\t * this particular showing of the quick access.\n\t * @param item The item that was accepted.\n\t */\n\treadonly handleAccept?: (item: IQuickPickItem, isBackgroundAccept: boolean) => void;\n}\n\n/**\n * The specific options for the AnythingQuickAccessProvider. Put here to share between layers.\n */\nexport interface AnythingQuickAccessProviderRunOptions extends IQuickAccessProviderRunOptions {\n\treadonly includeHelp?: boolean;\n\treadonly filter?: (item: IQuickPickItem | IQuickPickSeparator) => boolean;\n\t/**\n\t * @deprecated - temporary for Dynamic Chat Variables (see usage) until it has built-in UX for file picking\n\t * Useful for adding items to the top of the list that might contain actions.\n\t */\n\treadonly additionPicks?: QuickPickItem[];\n}\n\nexport interface IQuickAccessOptions {\n\n\t/**\n\t * Allows to enable quick navigate support in quick input.\n\t */\n\treadonly quickNavigateConfiguration?: IQuickNavigateConfiguration;\n\n\t/**\n\t * Allows to configure a different item activation strategy.\n\t * By default the first item in the list will get activated.\n\t */\n\treadonly itemActivation?: ItemActivation;\n\n\t/**\n\t * Whether to take the input value as is and not restore it\n\t * from any existing value if quick access is visible.\n\t */\n\treadonly preserveValue?: boolean;\n\n\t/**\n\t * Provider specific options for this particular showing of the\n\t * quick access.\n\t */\n\treadonly providerOptions?: IQuickAccessProviderRunOptions;\n\n\t/**\n\t * An array of provider prefixes to enable for this\n\t * particular showing of the quick access.\n\t */\n\treadonly enabledProviderPrefixes?: string[];\n\n\t/**\n\t * A placeholder to use for this particular showing of the quick access.\n\t*/\n\treadonly placeholder?: string;\n}\n\nexport interface IQuickAccessController {\n\n\t/**\n\t * Open the quick access picker with the optional value prefilled.\n\t */\n\tshow(value?: string, options?: IQuickAccessOptions): void;\n\n\t/**\n\t * Same as `show()` but instead of executing the selected pick item,\n\t * it will be returned. May return `undefined` in case no item was\n\t * picked by the user.\n\t */\n\tpick(value?: string, options?: IQuickAccessOptions): Promise<IQuickPickItem[] | undefined>;\n}\n\nexport enum DefaultQuickAccessFilterValue {\n\n\t/**\n\t * Keep the value as it is given to quick access.\n\t */\n\tPRESERVE = 0,\n\n\t/**\n\t * Use the value that was used last time something was accepted from the picker.\n\t */\n\tLAST = 1\n}\n\nexport interface IQuickAccessProvider {\n\n\t/**\n\t * Allows to set a default filter value when the provider opens. This can be:\n\t * - `undefined` to not specify any default value\n\t * - `DefaultFilterValues.PRESERVE` to use the value that was last typed\n\t * - `string` for the actual value to use\n\t *\n\t * Note: the default filter will only be used if quick access was opened with\n\t * the exact prefix of the provider. Otherwise the filter value is preserved.\n\t */\n\treadonly defaultFilterValue?: string | DefaultQuickAccessFilterValue;\n\n\t/**\n\t * Called whenever a prefix was typed into quick pick that matches the provider.\n\t *\n\t * @param picker the picker to use for showing provider results. The picker is\n\t * automatically shown after the method returns, no need to call `show()`.\n\t * @param token providers have to check the cancellation token everytime after\n\t * a long running operation or from event handlers because it could be that the\n\t * picker has been closed or changed meanwhile. The token can be used to find out\n\t * that the picker was closed without picking an entry (e.g. was canceled by the user).\n\t * @param options additional configuration specific for this provider that will\n\t * influence what picks will be shown.\n\t * @return a disposable that will automatically be disposed when the picker\n\t * closes or is replaced by another picker.\n\t */\n\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken, options?: IQuickAccessProviderRunOptions): IDisposable;\n}\n\nexport interface IQuickAccessProviderHelp {\n\n\t/**\n\t * The prefix to show for the help entry. If not provided,\n\t * the prefix used for registration will be taken.\n\t */\n\treadonly prefix?: string;\n\n\t/**\n\t * A description text to help understand the intent of the provider.\n\t */\n\treadonly description: string;\n\n\t/**\n\t * The command to bring up this quick access provider.\n\t */\n\treadonly commandId?: string;\n\n\t/**\n\t * The order of help entries in the Command Center.\n\t * Lower values will be placed above higher values.\n\t * No value will hide this help entry from the Command Center.\n\t */\n\treadonly commandCenterOrder?: number;\n\n\t/**\n\t * An optional label to use for the Command Center entry. If not set\n\t * the description will be used instead.\n\t */\n\treadonly commandCenterLabel?: string;\n}\n\nexport interface IQuickAccessProviderDescriptor {\n\n\t/**\n\t * The actual provider that will be instantiated as needed.\n\t */\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\treadonly ctor: { new(...services: any /* TS BrandedService but no clue how to type this properly */[]): IQuickAccessProvider };\n\n\t/**\n\t * The prefix for quick access picker to use the provider for.\n\t */\n\treadonly prefix: string;\n\n\t/**\n\t * A placeholder to use for the input field when the provider is active.\n\t * This will also be read out by screen readers and thus helps for\n\t * accessibility.\n\t */\n\treadonly placeholder?: string;\n\n\t/**\n\t * Documentation for the provider in the quick access help.\n\t */\n\treadonly helpEntries: IQuickAccessProviderHelp[];\n\n\t/**\n\t * A context key that will be set automatically when the\n\t * picker for the provider is showing.\n\t */\n\treadonly contextKey?: string;\n}\n\nexport const Extensions = {\n\tQuickaccess: 'workbench.contributions.quickaccess'\n};\n\nexport interface IQuickAccessRegistry {\n\n\t/**\n\t * Registers a quick access provider to the platform.\n\t */\n\tregisterQuickAccessProvider(provider: IQuickAccessProviderDescriptor): IDisposable;\n\n\t/**\n\t * Get all registered quick access providers.\n\t */\n\tgetQuickAccessProviders(): IQuickAccessProviderDescriptor[];\n\n\t/**\n\t * Get a specific quick access provider for a given prefix.\n\t */\n\tgetQuickAccessProvider(prefix: string): IQuickAccessProviderDescriptor | undefined;\n}\n\nexport class QuickAccessRegistry implements IQuickAccessRegistry {\n\n\tprivate providers: IQuickAccessProviderDescriptor[] = [];\n\tprivate defaultProvider: IQuickAccessProviderDescriptor | undefined = undefined;\n\n\tregisterQuickAccessProvider(provider: IQuickAccessProviderDescriptor): IDisposable {\n\n\t\t// Extract the default provider when no prefix is present\n\t\tif (provider.prefix.length === 0) {\n\t\t\tthis.defaultProvider = provider;\n\t\t} else {\n\t\t\tthis.providers.push(provider);\n\t\t}\n\n\t\t// sort the providers by decreasing prefix length, such that longer\n\t\t// prefixes take priority: 'ext' vs 'ext install' - the latter should win\n\t\tthis.providers.sort((providerA, providerB) => providerB.prefix.length - providerA.prefix.length);\n\n\t\treturn toDisposable(() => {\n\t\t\tthis.providers.splice(this.providers.indexOf(provider), 1);\n\n\t\t\tif (this.defaultProvider === provider) {\n\t\t\t\tthis.defaultProvider = undefined;\n\t\t\t}\n\t\t});\n\t}\n\n\tgetQuickAccessProviders(): IQuickAccessProviderDescriptor[] {\n\t\treturn coalesce([this.defaultProvider, ...this.providers]);\n\t}\n\n\tgetQuickAccessProvider(prefix: string): IQuickAccessProviderDescriptor | undefined {\n\t\tconst result = prefix ? (this.providers.find(provider => prefix.startsWith(provider.prefix)) || undefined) : undefined;\n\n\t\treturn result || this.defaultProvider;\n\t}\n\n\tclear(): Function {\n\t\tconst providers = [...this.providers];\n\t\tconst defaultProvider = this.defaultProvider;\n\n\t\tthis.providers = [];\n\t\tthis.defaultProvider = undefined;\n\n\t\treturn () => {\n\t\t\tthis.providers = providers;\n\t\t\tthis.defaultProvider = defaultProvider;\n\t\t};\n\t}\n}\n\nRegistry.add(Extensions.Quickaccess, new QuickAccessRegistry());\n"],"mappings":"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","ignoreList":[]}