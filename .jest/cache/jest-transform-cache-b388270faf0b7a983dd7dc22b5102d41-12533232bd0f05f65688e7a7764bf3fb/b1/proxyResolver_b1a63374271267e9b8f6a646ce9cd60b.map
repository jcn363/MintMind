{"version":3,"names":["cov_25u2bbtitm","actualCoverage","URI","LogLevel","LogServiceLevel","createHttpPatch","createProxyResolver","createTlsPatch","createNetPatch","loadSystemCertificates","createRequire","lookupKerberosAuthorization","proxyAgent","require","s","import","meta","url","http","https","tls","net","systemCertificatesV2Default","useElectronFetchDefault","connectProxyResolver","extHostWorkspace","configProvider","extensionService","extHostLogService","mainThreadTelemetry","initData","disposables","f","isRemote","remote","useHostProxyDefault","b","environment","useHostProxy","fallbackToLocalKerberos","loadLocalCertificates","isUseHostProxyEnabled","getConfiguration","get","timedResolveProxy","createTimedResolveProxy","params","resolveProxy","lookupProxyAuthorization","bind","undefined","getProxyURL","getExtHostConfigValue","getProxySupport","getNoProxyConfig","isAdditionalFetchSupportEnabled","addCertificatesV1","certSettingV1","addCertificatesV2","certSettingV2","loadSystemCertificatesFromNode","log","getLogLevel","level","getLevel","Trace","Debug","Info","Warning","Error","Off","never","error","proxyResolveTelemetry","getNetworkInterfaceCheckInterval","intervalSeconds","loadAdditionalCertificates","useNodeSystemCerts","promises","push","trace","certs","loadCertificates","then","length","extensionTestsLocationURI","globalAgent","testCertificates","Promise","resolve","all","flat","env","process","resolveProxyWithRequest","resolveProxyURL","target","default","patchGlobalFetch","lookup","createPatchedModules","configureModuleLoading","unsafeHeaders","globalThis","__vscodeOriginalFetch","originalFetch","fetch","patchedFetch","createFetchPatch","__vscodePatchedFetch","useElectronFetch","add","onDidChangeConfiguration","e","affectsConfiguration","input","init","getRequestProperty","name","urlString","toString","isDataUrl","startsWith","recordFetchFeatureUse","isBlobUrl","isManualRedirect","integrity","response","monitorResponseProperties","headers","Headers","header","delete","electronInput","URL","electron","originalUrl","Object","defineProperty","originalType","type","fetchFeatureUse","typeProperty","data","blob","manualRedirect","timer","enableFeatureUseTelemetry","feature","clearTimeout","setTimeout","$publicLog2","unref","proxyResolveStats","count","totalDuration","minDuration","Number","MAX_SAFE_INTEGER","maxDuration","lastSentTime","telemetryInterval","sendProxyResolveStats","avgDuration","Date","now","startTime","performance","duration","Math","min","max","mergeModules","module","patch","__vscodeOriginal","assign","modulesCache","Map","getExtensionPathIndex","extensionPaths","node_module","original","_load","load","request","parent","isMain","apply","arguments","ext","findSubstr","file","filename","cache","set","undici","patchUndici","mod","proxyAuthenticateCache","basicAuthCache","proxyURL","proxyAuthenticate","state","cached","authenticate","Array","isArray","sendTelemetry","some","a","test","kerberosRequested","spnConfig","err","debug","auth","basicAuthHeader","find","cachedAuth","basicAuthCacheUsed","basicAuthAttempt","realm","exec","authInfo","scheme","host","hostname","port","isProxy","attempt","credentials","lookupAuthorization","Buffer","from","username","password","telemetrySent","enableProxyAuthenticationTelemetry","authenticationType","map","split","join","extensionHostType","key","fallback","values","inspect","globalLocalValue","defaultValue"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/node/proxyResolver.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IExtHostWorkspaceProvider } from '../common/extHostWorkspace.js';\nimport { ConfigurationInspect, ExtHostConfigProvider } from '../common/extHostConfiguration.js';\nimport { MainThreadTelemetryShape } from '../common/extHost.protocol.js';\nimport { IExtensionHostInitData } from '../../services/extensions/common/extensionHostProtocol.js';\nimport { ExtHostExtensionService } from './extHostExtensionService.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ILogService, LogLevel as LogServiceLevel } from '../../../platform/log/common/log.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { LogLevel, createHttpPatch, createProxyResolver, createTlsPatch, ProxySupportSetting, ProxyAgentParams, createNetPatch, loadSystemCertificates, ResolveProxyWithRequest } from '@vscode/proxy-agent';\nimport { AuthInfo } from '../../../platform/request/common/request.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { createRequire } from 'node:module';\nimport type * as undiciType from 'undici-types';\nimport type * as tlsType from 'tls';\nimport { lookupKerberosAuthorization } from '../../../platform/request/node/requestService.js';\nimport * as proxyAgent from '@vscode/proxy-agent';\n\nconst require = createRequire(import.meta.url);\nconst http = require('http');\nconst https = require('https');\nconst tls: typeof tlsType = require('tls');\nconst net = require('net');\n\nconst systemCertificatesV2Default = false;\nconst useElectronFetchDefault = false;\n\nexport function connectProxyResolver(\n\textHostWorkspace: IExtHostWorkspaceProvider,\n\tconfigProvider: ExtHostConfigProvider,\n\textensionService: ExtHostExtensionService,\n\textHostLogService: ILogService,\n\tmainThreadTelemetry: MainThreadTelemetryShape,\n\tinitData: IExtensionHostInitData,\n\tdisposables: DisposableStore,\n) {\n\n\tconst isRemote = initData.remote.isRemote;\n\tconst useHostProxyDefault = initData.environment.useHostProxy ?? !isRemote;\n\tconst fallbackToLocalKerberos = useHostProxyDefault;\n\tconst loadLocalCertificates = useHostProxyDefault;\n\tconst isUseHostProxyEnabled = () => !isRemote || configProvider.getConfiguration('http').get<boolean>('useLocalProxyConfiguration', useHostProxyDefault);\n\tconst timedResolveProxy = createTimedResolveProxy(extHostWorkspace, mainThreadTelemetry);\n\tconst params: ProxyAgentParams = {\n\t\tresolveProxy: timedResolveProxy,\n\t\tlookupProxyAuthorization: lookupProxyAuthorization.bind(undefined, extHostWorkspace, extHostLogService, mainThreadTelemetry, configProvider, {}, {}, initData.remote.isRemote, fallbackToLocalKerberos),\n\t\tgetProxyURL: () => getExtHostConfigValue<string>(configProvider, isRemote, 'http.proxy'),\n\t\tgetProxySupport: () => getExtHostConfigValue<ProxySupportSetting>(configProvider, isRemote, 'http.proxySupport') || 'off',\n\t\tgetNoProxyConfig: () => getExtHostConfigValue<string[]>(configProvider, isRemote, 'http.noProxy') || [],\n\t\tisAdditionalFetchSupportEnabled: () => getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.fetchAdditionalSupport', true),\n\t\taddCertificatesV1: () => certSettingV1(configProvider, isRemote),\n\t\taddCertificatesV2: () => certSettingV2(configProvider, isRemote),\n\t\tloadSystemCertificatesFromNode: () => getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.systemCertificatesNode', true),\n\t\tlog: extHostLogService,\n\t\tgetLogLevel: () => {\n\t\t\tconst level = extHostLogService.getLevel();\n\t\t\tswitch (level) {\n\t\t\t\tcase LogServiceLevel.Trace: return LogLevel.Trace;\n\t\t\t\tcase LogServiceLevel.Debug: return LogLevel.Debug;\n\t\t\t\tcase LogServiceLevel.Info: return LogLevel.Info;\n\t\t\t\tcase LogServiceLevel.Warning: return LogLevel.Warning;\n\t\t\t\tcase LogServiceLevel.Error: return LogLevel.Error;\n\t\t\t\tcase LogServiceLevel.Off: return LogLevel.Off;\n\t\t\t\tdefault: return never(level);\n\t\t\t}\n\t\t\tfunction never(level: never) {\n\t\t\t\textHostLogService.error('Unknown log level', level);\n\t\t\t\treturn LogLevel.Debug;\n\t\t\t}\n\t\t},\n\t\tproxyResolveTelemetry: () => { },\n\t\tisUseHostProxyEnabled,\n\t\tgetNetworkInterfaceCheckInterval: () => {\n\t\t\tconst intervalSeconds = getExtHostConfigValue<number>(configProvider, isRemote, 'http.experimental.networkInterfaceCheckInterval', 300);\n\t\t\treturn intervalSeconds * 1000;\n\t\t},\n\t\tloadAdditionalCertificates: async () => {\n\t\t\tconst useNodeSystemCerts = getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.systemCertificatesNode', true);\n\t\t\tconst promises: Promise<string[]>[] = [];\n\t\t\tif (isRemote) {\n\t\t\t\tpromises.push(loadSystemCertificates({\n\t\t\t\t\tloadSystemCertificatesFromNode: () => useNodeSystemCerts,\n\t\t\t\t\tlog: extHostLogService,\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (loadLocalCertificates) {\n\t\t\t\tif (!isRemote && useNodeSystemCerts) {\n\t\t\t\t\tpromises.push(loadSystemCertificates({\n\t\t\t\t\t\tloadSystemCertificatesFromNode: () => useNodeSystemCerts,\n\t\t\t\t\t\tlog: extHostLogService,\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\textHostLogService.trace('ProxyResolver#loadAdditionalCertificates: Loading certificates from main process');\n\t\t\t\t\tconst certs = extHostWorkspace.loadCertificates(); // Loading from main process to share cache.\n\t\t\t\t\tcerts.then(certs => extHostLogService.trace('ProxyResolver#loadAdditionalCertificates: Loaded certificates from main process', certs.length));\n\t\t\t\t\tpromises.push(certs);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Using https.globalAgent because it is shared with proxy.test.ts and mutable.\n\t\t\tif (initData.environment.extensionTestsLocationURI && https.globalAgent.testCertificates?.length) {\n\t\t\t\textHostLogService.trace('ProxyResolver#loadAdditionalCertificates: Loading test certificates');\n\t\t\t\tpromises.push(Promise.resolve(https.globalAgent.testCertificates as string[]));\n\t\t\t}\n\t\t\treturn (await Promise.all(promises)).flat();\n\t\t},\n\t\tenv: process.env,\n\t};\n\tconst { resolveProxyWithRequest, resolveProxyURL } = createProxyResolver(params);\n\t// eslint-disable-next-line local/code-no-any-casts\n\tconst target = (proxyAgent as any).default || proxyAgent;\n\ttarget.resolveProxyURL = resolveProxyURL;\n\n\tpatchGlobalFetch(params, configProvider, mainThreadTelemetry, initData, resolveProxyURL, disposables);\n\n\tconst lookup = createPatchedModules(params, resolveProxyWithRequest);\n\treturn configureModuleLoading(extensionService, lookup);\n}\n\nconst unsafeHeaders = [\n\t'content-length',\n\t'host',\n\t'trailer',\n\t'te',\n\t'upgrade',\n\t'cookie2',\n\t'keep-alive',\n\t'transfer-encoding',\n\t'set-cookie',\n];\n\nfunction patchGlobalFetch(params: ProxyAgentParams, configProvider: ExtHostConfigProvider, mainThreadTelemetry: MainThreadTelemetryShape, initData: IExtensionHostInitData, resolveProxyURL: (url: string) => Promise<string | undefined>, disposables: DisposableStore) {\n\t// eslint-disable-next-line local/code-no-any-casts\n\tif (!(globalThis as any).__vscodeOriginalFetch) {\n\t\tconst originalFetch = globalThis.fetch;\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t(globalThis as any).__vscodeOriginalFetch = originalFetch;\n\t\tconst patchedFetch = proxyAgent.createFetchPatch(params, originalFetch, resolveProxyURL);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t(globalThis as any).__vscodePatchedFetch = patchedFetch;\n\t\tlet useElectronFetch = false;\n\t\tif (!initData.remote.isRemote) {\n\t\t\tuseElectronFetch = configProvider.getConfiguration('http').get<boolean>('electronFetch', useElectronFetchDefault);\n\t\t\tdisposables.add(configProvider.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration('http.electronFetch')) {\n\t\t\t\t\tuseElectronFetch = configProvider.getConfiguration('http').get<boolean>('electronFetch', useElectronFetchDefault);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\n\t\tglobalThis.fetch = async function fetch(input: string | URL | Request, init?: RequestInit) {\n\t\t\tfunction getRequestProperty(name: keyof Request & keyof RequestInit) {\n\t\t\t\treturn init && name in init ? init[name] : typeof input === 'object' && 'cache' in input ? input[name] : undefined;\n\t\t\t}\n\t\t\t// Limitations: https://github.com/electron/electron/pull/36733#issuecomment-1405615494\n\t\t\t// net.fetch fails on manual redirect: https://github.com/electron/electron/issues/43715\n\t\t\tconst urlString = typeof input === 'string' ? input : 'cache' in input ? input.url : input.toString();\n\t\t\tconst isDataUrl = urlString.startsWith('data:');\n\t\t\tif (isDataUrl) {\n\t\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'data');\n\t\t\t}\n\t\t\tconst isBlobUrl = urlString.startsWith('blob:');\n\t\t\tif (isBlobUrl) {\n\t\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'blob');\n\t\t\t}\n\t\t\tconst isManualRedirect = getRequestProperty('redirect') === 'manual';\n\t\t\tif (isManualRedirect) {\n\t\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'manualRedirect');\n\t\t\t}\n\t\t\tconst integrity = getRequestProperty('integrity');\n\t\t\tif (integrity) {\n\t\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'integrity');\n\t\t\t}\n\t\t\tif (!useElectronFetch || isDataUrl || isBlobUrl || isManualRedirect || integrity) {\n\t\t\t\tconst response = await patchedFetch(input, init);\n\t\t\t\tmonitorResponseProperties(mainThreadTelemetry, response, urlString);\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\t// Unsupported headers: https://source.chromium.org/chromium/chromium/src/+/main:services/network/public/cpp/header_util.cc;l=32;drc=ee7299f8961a1b05a3554efcc496b6daa0d7f6e1\n\t\t\tif (init?.headers) {\n\t\t\t\tconst headers = new Headers(init.headers);\n\t\t\t\tfor (const header of unsafeHeaders) {\n\t\t\t\t\theaders.delete(header);\n\t\t\t\t}\n\t\t\t\tinit = { ...init, headers };\n\t\t\t}\n\t\t\t// Support for URL: https://github.com/electron/electron/issues/43712\n\t\t\tconst electronInput = input instanceof URL ? input.toString() : input;\n\t\t\tconst electron = require('electron');\n\t\t\tconst response = await electron.net.fetch(electronInput, init);\n\t\t\tmonitorResponseProperties(mainThreadTelemetry, response, urlString);\n\t\t\treturn response;\n\t\t};\n\t}\n}\n\nfunction monitorResponseProperties(mainThreadTelemetry: MainThreadTelemetryShape, response: Response, urlString: string) {\n\tconst originalUrl = response.url;\n\tObject.defineProperty(response, 'url', {\n\t\tget() {\n\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'url');\n\t\t\treturn originalUrl || urlString;\n\t\t}\n\t});\n\tconst originalType = response.type;\n\tObject.defineProperty(response, 'type', {\n\t\tget() {\n\t\t\trecordFetchFeatureUse(mainThreadTelemetry, 'typeProperty');\n\t\t\treturn originalType !== 'default' ? originalType : 'basic';\n\t\t}\n\t});\n}\n\ntype FetchFeatureUseClassification = {\n\towner: 'chrmarti';\n\tcomment: 'Data about fetch API use';\n\turl: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether the url property was used.' };\n\ttypeProperty: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether the type property was used.' };\n\tdata: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether a data URL was used.' };\n\tblob: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether a blob URL was used.' };\n\tintegrity: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether the integrity property was used.' };\n\tmanualRedirect: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether a manual redirect was used.' };\n};\n\ntype FetchFeatureUseEvent = {\n\turl: number;\n\ttypeProperty: number;\n\tdata: number;\n\tblob: number;\n\tintegrity: number;\n\tmanualRedirect: number;\n};\n\nconst fetchFeatureUse: FetchFeatureUseEvent = {\n\turl: 0,\n\ttypeProperty: 0,\n\tdata: 0,\n\tblob: 0,\n\tintegrity: 0,\n\tmanualRedirect: 0,\n};\n\nlet timer: Timeout | undefined;\nconst enableFeatureUseTelemetry = false;\nfunction recordFetchFeatureUse(mainThreadTelemetry: MainThreadTelemetryShape, feature: keyof typeof fetchFeatureUse) {\n\tif (enableFeatureUseTelemetry && !fetchFeatureUse[feature]++) {\n\t\tif (timer) {\n\t\t\tclearTimeout(timer);\n\t\t}\n\t\ttimer = setTimeout(() => {\n\t\t\tmainThreadTelemetry.$publicLog2<FetchFeatureUseEvent, FetchFeatureUseClassification>('fetchFeatureUse', fetchFeatureUse);\n\t\t}, 10000); // collect additional features for 10 seconds\n\t\t(timer as unknown as NodeJS.Timeout).unref?.();\n\t}\n}\n\ntype ProxyResolveStatsClassification = {\n\towner: 'chrmarti';\n\tcomment: 'Performance statistics for proxy resolution';\n\tcount: { classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth'; comment: 'Number of proxy resolution calls' };\n\ttotalDuration: { classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth'; comment: 'Total time spent in proxy resolution (ms)' };\n\tminDuration: { classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth'; comment: 'Minimum resolution time (ms)' };\n\tmaxDuration: { classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth'; comment: 'Maximum resolution time (ms)' };\n\tavgDuration: { classification: 'SystemMetaData'; purpose: 'PerformanceAndHealth'; comment: 'Average resolution time (ms)' };\n};\n\ntype ProxyResolveStatsEvent = {\n\tcount: number;\n\ttotalDuration: number;\n\tminDuration: number;\n\tmaxDuration: number;\n\tavgDuration: number;\n};\n\nconst proxyResolveStats = {\n\tcount: 0,\n\ttotalDuration: 0,\n\tminDuration: Number.MAX_SAFE_INTEGER,\n\tmaxDuration: 0,\n\tlastSentTime: 0,\n};\n\nconst telemetryInterval = 60 * 60 * 1000; // 1 hour\n\nfunction sendProxyResolveStats(mainThreadTelemetry: MainThreadTelemetryShape) {\n\tif (proxyResolveStats.count > 0) {\n\t\tconst avgDuration = proxyResolveStats.totalDuration / proxyResolveStats.count;\n\t\tmainThreadTelemetry.$publicLog2<ProxyResolveStatsEvent, ProxyResolveStatsClassification>('proxyResolveStats', {\n\t\t\tcount: proxyResolveStats.count,\n\t\t\ttotalDuration: proxyResolveStats.totalDuration,\n\t\t\tminDuration: proxyResolveStats.minDuration,\n\t\t\tmaxDuration: proxyResolveStats.maxDuration,\n\t\t\tavgDuration,\n\t\t});\n\t\t// Reset stats after sending\n\t\tproxyResolveStats.count = 0;\n\t\tproxyResolveStats.totalDuration = 0;\n\t\tproxyResolveStats.minDuration = Number.MAX_SAFE_INTEGER;\n\t\tproxyResolveStats.maxDuration = 0;\n\t}\n\tproxyResolveStats.lastSentTime = Date.now();\n}\n\nfunction createTimedResolveProxy(extHostWorkspace: IExtHostWorkspaceProvider, mainThreadTelemetry: MainThreadTelemetryShape) {\n\treturn async (url: string): Promise<string | undefined> => {\n\t\tconst startTime = performance.now();\n\t\ttry {\n\t\t\treturn await extHostWorkspace.resolveProxy(url);\n\t\t} finally {\n\t\t\tconst duration = performance.now() - startTime;\n\t\t\tproxyResolveStats.count++;\n\t\t\tproxyResolveStats.totalDuration += duration;\n\t\t\tproxyResolveStats.minDuration = Math.min(proxyResolveStats.minDuration, duration);\n\t\t\tproxyResolveStats.maxDuration = Math.max(proxyResolveStats.maxDuration, duration);\n\n\t\t\t// Send telemetry if at least an hour has passed since last send\n\t\t\tconst now = Date.now();\n\t\t\tif (now - proxyResolveStats.lastSentTime >= telemetryInterval) {\n\t\t\t\tsendProxyResolveStats(mainThreadTelemetry);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction createPatchedModules(params: ProxyAgentParams, resolveProxy: ResolveProxyWithRequest) {\n\n\tfunction mergeModules(module: any, patch: any) {\n\t\tconst target = module.default || module;\n\t\ttarget.__vscodeOriginal = Object.assign({}, target);\n\t\treturn Object.assign(target, patch);\n\t}\n\n\treturn {\n\t\thttp: mergeModules(http, createHttpPatch(params, http, resolveProxy)),\n\t\thttps: mergeModules(https, createHttpPatch(params, https, resolveProxy)),\n\t\tnet: mergeModules(net, createNetPatch(params, net)),\n\t\ttls: mergeModules(tls, createTlsPatch(params, tls))\n\t};\n}\n\nfunction certSettingV1(configProvider: ExtHostConfigProvider, isRemote: boolean) {\n\treturn !getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.experimental.systemCertificatesV2', systemCertificatesV2Default) && !!getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.systemCertificates');\n}\n\nfunction certSettingV2(configProvider: ExtHostConfigProvider, isRemote: boolean) {\n\treturn !!getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.experimental.systemCertificatesV2', systemCertificatesV2Default) && !!getExtHostConfigValue<boolean>(configProvider, isRemote, 'http.systemCertificates');\n}\n\nconst modulesCache = new Map<IExtensionDescription | undefined, { http?: typeof http; https?: typeof https; undici?: typeof undiciType }>();\nfunction configureModuleLoading(extensionService: ExtHostExtensionService, lookup: ReturnType<typeof createPatchedModules>): Promise<void> {\n\treturn extensionService.getExtensionPathIndex()\n\t\t.then(extensionPaths => {\n\t\t\tconst node_module = require('module');\n\t\t\tconst original = node_module._load;\n\t\t\tnode_module._load = function load(request: string, parent: { filename: string }, isMain: boolean) {\n\t\t\t\tif (request === 'net') {\n\t\t\t\t\treturn lookup.net;\n\t\t\t\t}\n\n\t\t\t\tif (request === 'tls') {\n\t\t\t\t\treturn lookup.tls;\n\t\t\t\t}\n\n\t\t\t\tif (request !== 'http' && request !== 'https' && request !== 'undici') {\n\t\t\t\t\treturn original.apply(this, arguments);\n\t\t\t\t}\n\n\t\t\t\tconst ext = extensionPaths.findSubstr(URI.file(parent.filename));\n\t\t\t\tlet cache = modulesCache.get(ext);\n\t\t\t\tif (!cache) {\n\t\t\t\t\tmodulesCache.set(ext, cache = {});\n\t\t\t\t}\n\t\t\t\tif (!cache[request]) {\n\t\t\t\t\tif (request === 'undici') {\n\t\t\t\t\t\tconst undici = original.apply(this, arguments);\n\t\t\t\t\t\tproxyAgent.patchUndici(undici);\n\t\t\t\t\t\tcache[request] = undici;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst mod = lookup[request];\n\t\t\t\t\t\tcache[request] = { ...mod }; // Copy to work around #93167.\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn cache[request];\n\t\t\t};\n\t\t});\n}\n\nasync function lookupProxyAuthorization(\n\textHostWorkspace: IExtHostWorkspaceProvider,\n\textHostLogService: ILogService,\n\tmainThreadTelemetry: MainThreadTelemetryShape,\n\tconfigProvider: ExtHostConfigProvider,\n\tproxyAuthenticateCache: Record<string, string | string[] | undefined>,\n\tbasicAuthCache: Record<string, string | undefined>,\n\tisRemote: boolean,\n\tfallbackToLocalKerberos: boolean,\n\tproxyURL: string,\n\tproxyAuthenticate: string | string[] | undefined,\n\tstate: { kerberosRequested?: boolean; basicAuthCacheUsed?: boolean; basicAuthAttempt?: number }\n): Promise<string | undefined> {\n\tconst cached = proxyAuthenticateCache[proxyURL];\n\tif (proxyAuthenticate) {\n\t\tproxyAuthenticateCache[proxyURL] = proxyAuthenticate;\n\t}\n\textHostLogService.trace('ProxyResolver#lookupProxyAuthorization callback', `proxyURL:${proxyURL}`, `proxyAuthenticate:${proxyAuthenticate}`, `proxyAuthenticateCache:${cached}`);\n\tconst header = proxyAuthenticate || cached;\n\tconst authenticate = Array.isArray(header) ? header : typeof header === 'string' ? [header] : [];\n\tsendTelemetry(mainThreadTelemetry, authenticate, isRemote);\n\tif (authenticate.some(a => /^(Negotiate|Kerberos)( |$)/i.test(a)) && !state.kerberosRequested) {\n\t\tstate.kerberosRequested = true;\n\n\t\ttry {\n\t\t\tconst spnConfig = getExtHostConfigValue<string>(configProvider, isRemote, 'http.proxyKerberosServicePrincipal');\n\t\t\tconst response = await lookupKerberosAuthorization(proxyURL, spnConfig, extHostLogService, 'ProxyResolver#lookupProxyAuthorization');\n\t\t\treturn 'Negotiate ' + response;\n\t\t} catch (err) {\n\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Kerberos authentication failed', err);\n\t\t}\n\n\t\tif (isRemote && fallbackToLocalKerberos) {\n\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Kerberos authentication lookup on host', `proxyURL:${proxyURL}`);\n\t\t\tconst auth = await extHostWorkspace.lookupKerberosAuthorization(proxyURL);\n\t\t\tif (auth) {\n\t\t\t\treturn 'Negotiate ' + auth;\n\t\t\t}\n\t\t}\n\t}\n\tconst basicAuthHeader = authenticate.find(a => /^Basic( |$)/i.test(a));\n\tif (basicAuthHeader) {\n\t\ttry {\n\t\t\tconst cachedAuth = basicAuthCache[proxyURL];\n\t\t\tif (cachedAuth) {\n\t\t\t\tif (state.basicAuthCacheUsed) {\n\t\t\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Basic authentication deleting cached credentials', `proxyURL:${proxyURL}`);\n\t\t\t\t\tdelete basicAuthCache[proxyURL];\n\t\t\t\t} else {\n\t\t\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Basic authentication using cached credentials', `proxyURL:${proxyURL}`);\n\t\t\t\t\tstate.basicAuthCacheUsed = true;\n\t\t\t\t\treturn cachedAuth;\n\t\t\t\t}\n\t\t\t}\n\t\t\tstate.basicAuthAttempt = (state.basicAuthAttempt || 0) + 1;\n\t\t\tconst realm = / realm=\"([^\"]+)\"/i.exec(basicAuthHeader)?.[1];\n\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Basic authentication lookup', `proxyURL:${proxyURL}`, `realm:${realm}`);\n\t\t\tconst url = new URL(proxyURL);\n\t\t\tconst authInfo: AuthInfo = {\n\t\t\t\tscheme: 'basic',\n\t\t\t\thost: url.hostname,\n\t\t\t\tport: Number(url.port),\n\t\t\t\trealm: realm || '',\n\t\t\t\tisProxy: true,\n\t\t\t\tattempt: state.basicAuthAttempt,\n\t\t\t};\n\t\t\tconst credentials = await extHostWorkspace.lookupAuthorization(authInfo);\n\t\t\tif (credentials) {\n\t\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Basic authentication received credentials', `proxyURL:${proxyURL}`, `realm:${realm}`);\n\t\t\t\tconst auth = 'Basic ' + Buffer.from(`${credentials.username}:${credentials.password}`).toString('base64');\n\t\t\t\tbasicAuthCache[proxyURL] = auth;\n\t\t\t\treturn auth;\n\t\t\t} else {\n\t\t\t\textHostLogService.debug('ProxyResolver#lookupProxyAuthorization Basic authentication received no credentials', `proxyURL:${proxyURL}`, `realm:${realm}`);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\textHostLogService.error('ProxyResolver#lookupProxyAuthorization Basic authentication failed', err);\n\t\t}\n\t}\n\treturn undefined;\n}\n\ntype ProxyAuthenticationClassification = {\n\towner: 'chrmarti';\n\tcomment: 'Data about proxy authentication requests';\n\tauthenticationType: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'Type of the authentication requested' };\n\textensionHostType: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Type of the extension host' };\n};\n\ntype ProxyAuthenticationEvent = {\n\tauthenticationType: string;\n\textensionHostType: string;\n};\n\nlet telemetrySent = false;\nconst enableProxyAuthenticationTelemetry = false;\nfunction sendTelemetry(mainThreadTelemetry: MainThreadTelemetryShape, authenticate: string[], isRemote: boolean) {\n\tif (!enableProxyAuthenticationTelemetry || telemetrySent || !authenticate.length) {\n\t\treturn;\n\t}\n\ttelemetrySent = true;\n\n\tmainThreadTelemetry.$publicLog2<ProxyAuthenticationEvent, ProxyAuthenticationClassification>('proxyAuthenticationRequest', {\n\t\tauthenticationType: authenticate.map(a => a.split(' ')[0]).join(','),\n\t\textensionHostType: isRemote ? 'remote' : 'local',\n\t});\n}\n\nfunction getExtHostConfigValue<T>(configProvider: ExtHostConfigProvider, isRemote: boolean, key: string, fallback: T): T;\nfunction getExtHostConfigValue<T>(configProvider: ExtHostConfigProvider, isRemote: boolean, key: string): T | undefined;\nfunction getExtHostConfigValue<T>(configProvider: ExtHostConfigProvider, isRemote: boolean, key: string, fallback?: T): T | undefined {\n\tif (isRemote) {\n\t\treturn configProvider.getConfiguration().get<T>(key) ?? fallback;\n\t}\n\tconst values: ConfigurationInspect<T> | undefined = configProvider.getConfiguration().inspect<T>(key);\n\treturn values?.globalLocalValue ?? values?.defaultValue ?? fallback;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}