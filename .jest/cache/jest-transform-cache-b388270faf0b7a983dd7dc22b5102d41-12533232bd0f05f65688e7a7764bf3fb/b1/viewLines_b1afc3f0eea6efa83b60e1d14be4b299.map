{"version":3,"names":["cov_25t0it8blf","actualCoverage","MOUSE_CURSOR_TEXT_CSS_CLASS_NAME","RunOnceScheduler","platform","applyFontInfo","HorizontalPosition","HorizontalRange","LineVisibleRanges","VisibleLinesCollection","PartFingerprints","ViewPart","DomReadingContext","ViewLine","Position","Range","ViewLineOptions","TextDirection","LastRenderedData","_currentVisibleRange","constructor","f","s","getCurrentVisibleRange","setCurrentVisibleRange","currentVisibleRange","HorizontalRevealRangeRequest","minimalReveal","lineNumber","startColumn","endColumn","startScrollTop","stopScrollTop","scrollType","type","minLineNumber","maxLineNumber","HorizontalRevealSelectionsRequest","selections","startLineNumber","endLineNumber","i","len","length","selection","Math","min","max","ViewLines","HORIZONTAL_EXTRA_PX","_linesContent","_textRangeRestingSpot","_visibleLines","domNode","_lineHeight","_typicalHalfwidthCharacterWidth","_isViewportWrapping","_revealHorizontalRightPadding","_cursorSurroundingLines","_cursorSurroundingLinesStyle","_canUseLayerHinting","_viewLineOptions","_maxLineWidth","_asyncUpdateLineWidths","_asyncCheckMonospaceFontAssumptions","_horizontalRevealRequest","_lastRenderedData","_stickyScrollEnabled","_maxNumberStickyLines","context","viewGpuContext","linesContent","conf","_context","configuration","options","fontInfo","get","wrappingInfo","typicalHalfwidthCharacterWidth","isViewportWrapping","theme","document","createElement","createLine","write","setClassName","_updateLineWidthsSlow","_checkMonospaceFontAssumptions","enabled","maxLineCount","dispose","getDomNode","onConfigurationChanged","e","hasChanged","b","_onOptionsMaybeChanged","newViewLineOptions","equals","getStartLineNumber","getEndLineNumber","line","getVisibleLine","onOptionsChanged","onCursorStateChanged","rendStartLineNumber","rendEndLineNumber","r","onSelectionChanged","onDecorationsChanged","onFlushed","shouldRender","useGpu","onLinesChanged","onLinesDeleted","onLinesInserted","onRevealRangeRequest","desiredScrollTop","_computeScrollTopToRevealRange","viewLayout","getFutureViewport","source","range","verticalType","newScrollPosition","validateScrollPosition","scrollTop","revealHorizontal","scrollLeft","getCurrentScrollTop","scrollTopDelta","abs","viewModel","setScrollPosition","onScrollChanged","scrollLeftChanged","scrollTopChanged","setWidth","scrollWidth","onTokensChanged","onZonesChanged","setMaxLineWidth","onThemeChanged","getPositionFromDOMInfo","spanNode","offset","viewLineDomNode","_getViewLineDomNode","_getLineNumberFor","getLineCount","getLineMaxColumn","column","getColumnOfNodeOffset","minColumn","getLineMinColumn","node","nodeType","className","CLASS_NAME","parentElement","getLineWidth","result","getWidth","_updateLineWidthsSlowIfDomDidLayout","linesVisibleRangesForRange","_range","includeNewLines","originalEndLineNumber","intersectRanges","visibleRanges","visibleRangesLen","domReadingContext","nextLineModelLineNumber","coordinatesConverter","convertViewPositionToModelPosition","continuesInNextLine","visibleLine","visibleRangesForLine","getVisibleRangesForRange","currentLineModelLineNumber","floatHorizontalRange","ranges","width","getTextDirection","RTL","left","outsideRenderedLine","from","_visibleRangesForLineRange","_lineIsRenderedRTL","isRenderedRTL","visibleRangeForPosition","position","updateLineWidths","_updateLineWidths","_updateLineWidthsFast","didDomLayout","isScheduled","cancel","fast","localMaxLineWidth","allWidthsComputed","getWidthIsFast","_ensureMaxLineWidth","longestLineNumber","longestWidth","needsMonospaceFontCheck","lineWidth","monospaceAssumptionsAreValid","onMonospaceAssumptionsInvalidated","prepareRender","Error","render","renderText","viewportData","renderLines","visibleRange","getScrollWidth","setHeight","getScrollHeight","horizontalRevealRequest","onDidRender","newScrollLeft","_computeScrollLeftToReveal","hasRTL","maxHorizontalOffset","schedule","isLinux","setLayerHinting","setContain","adjustedScrollTop","bigNumbersDelta","setTop","setLeft","getCurrentScrollLeft","iLineWidth","ceil","viewport","viewportStartY","top","viewportHeight","height","viewportEndY","boxIsSingleRange","boxStartY","boxEndY","getVerticalOffsetForLineNumber","shouldIgnoreScrollOff","paddingTop","paddingBottom","maxLinesInViewport","surroundingLines","newScrollTop","desiredGapAbove","minScrollTop","boxMiddleY","_computeMinimumScrolling","getCurrentViewport","layoutInfo","viewportStartX","viewportEndX","verticalScrollbarWidth","boxStartX","boxEndX","round","viewportStart","viewportEnd","boxStart","boxEnd","revealAtStart","revealAtEnd","viewportLength","boxLength"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/viewParts/viewLines/viewLines.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport { MOUSE_CURSOR_TEXT_CSS_CLASS_NAME } from '../../../../base/browser/ui/mouseCursor/mouseCursor.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { Constants } from '../../../../base/common/uint.js';\nimport './viewLines.css';\nimport { applyFontInfo } from '../../config/domFontInfo.js';\nimport { HorizontalPosition, HorizontalRange, IViewLines, LineVisibleRanges, VisibleRanges } from '../../view/renderingContext.js';\nimport { VisibleLinesCollection } from '../../view/viewLayer.js';\nimport { PartFingerprint, PartFingerprints, ViewPart } from '../../view/viewPart.js';\nimport { DomReadingContext } from './domReadingContext.js';\nimport { ViewLine } from './viewLine.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ScrollType } from '../../../common/editorCommon.js';\nimport * as viewEvents from '../../../common/viewEvents.js';\nimport { ViewportData } from '../../../common/viewLayout/viewLinesViewportData.js';\nimport { Viewport } from '../../../common/viewModel.js';\nimport { ViewContext } from '../../../common/viewModel/viewContext.js';\nimport { ViewLineOptions } from './viewLineOptions.js';\nimport type { ViewGpuContext } from '../../gpu/viewGpuContext.js';\nimport { TextDirection } from '../../../common/model.js';\n\nclass LastRenderedData {\n\n\tprivate _currentVisibleRange: Range;\n\n\tconstructor() {\n\t\tthis._currentVisibleRange = new Range(1, 1, 1, 1);\n\t}\n\n\tpublic getCurrentVisibleRange(): Range {\n\t\treturn this._currentVisibleRange;\n\t}\n\n\tpublic setCurrentVisibleRange(currentVisibleRange: Range): void {\n\t\tthis._currentVisibleRange = currentVisibleRange;\n\t}\n}\n\nclass HorizontalRevealRangeRequest {\n\tpublic readonly type = 'range';\n\tpublic readonly minLineNumber: number;\n\tpublic readonly maxLineNumber: number;\n\n\tconstructor(\n\t\tpublic readonly minimalReveal: boolean,\n\t\tpublic readonly lineNumber: number,\n\t\tpublic readonly startColumn: number,\n\t\tpublic readonly endColumn: number,\n\t\tpublic readonly startScrollTop: number,\n\t\tpublic readonly stopScrollTop: number,\n\t\tpublic readonly scrollType: ScrollType\n\t) {\n\t\tthis.minLineNumber = lineNumber;\n\t\tthis.maxLineNumber = lineNumber;\n\t}\n}\n\nclass HorizontalRevealSelectionsRequest {\n\tpublic readonly type = 'selections';\n\tpublic readonly minLineNumber: number;\n\tpublic readonly maxLineNumber: number;\n\n\tconstructor(\n\t\tpublic readonly minimalReveal: boolean,\n\t\tpublic readonly selections: Selection[],\n\t\tpublic readonly startScrollTop: number,\n\t\tpublic readonly stopScrollTop: number,\n\t\tpublic readonly scrollType: ScrollType\n\t) {\n\t\tlet minLineNumber = selections[0].startLineNumber;\n\t\tlet maxLineNumber = selections[0].endLineNumber;\n\t\tfor (let i = 1, len = selections.length; i < len; i++) {\n\t\t\tconst selection = selections[i];\n\t\t\tminLineNumber = Math.min(minLineNumber, selection.startLineNumber);\n\t\t\tmaxLineNumber = Math.max(maxLineNumber, selection.endLineNumber);\n\t\t}\n\t\tthis.minLineNumber = minLineNumber;\n\t\tthis.maxLineNumber = maxLineNumber;\n\t}\n}\n\ntype HorizontalRevealRequest = HorizontalRevealRangeRequest | HorizontalRevealSelectionsRequest;\n\n/**\n * The view lines part is responsible for rendering the actual content of a\n * file.\n */\nexport class ViewLines extends ViewPart implements IViewLines {\n\t/**\n\t * Adds this amount of pixels to the right of lines (no-one wants to type near the edge of the viewport)\n\t */\n\tprivate static readonly HORIZONTAL_EXTRA_PX = 30;\n\n\tprivate readonly _linesContent: FastDomNode<HTMLElement>;\n\tprivate readonly _textRangeRestingSpot: HTMLElement;\n\tprivate readonly _visibleLines: VisibleLinesCollection<ViewLine>;\n\tprivate readonly domNode: FastDomNode<HTMLElement>;\n\n\t// --- config\n\tprivate _lineHeight: number;\n\tprivate _typicalHalfwidthCharacterWidth: number;\n\tprivate _isViewportWrapping: boolean;\n\tprivate _revealHorizontalRightPadding: number;\n\tprivate _cursorSurroundingLines: number;\n\tprivate _cursorSurroundingLinesStyle: 'default' | 'all';\n\tprivate _canUseLayerHinting: boolean;\n\tprivate _viewLineOptions: ViewLineOptions;\n\n\t// --- width\n\tprivate _maxLineWidth: number;\n\tprivate readonly _asyncUpdateLineWidths: RunOnceScheduler;\n\tprivate readonly _asyncCheckMonospaceFontAssumptions: RunOnceScheduler;\n\n\tprivate _horizontalRevealRequest: HorizontalRevealRequest | null;\n\tprivate readonly _lastRenderedData: LastRenderedData;\n\n\t// Sticky Scroll\n\tprivate _stickyScrollEnabled: boolean;\n\tprivate _maxNumberStickyLines: number;\n\n\tconstructor(context: ViewContext, viewGpuContext: ViewGpuContext | undefined, linesContent: FastDomNode<HTMLElement>) {\n\t\tsuper(context);\n\n\t\tconst conf = this._context.configuration;\n\t\tconst options = this._context.configuration.options;\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\n\t\tthis._lineHeight = options.get(EditorOption.lineHeight);\n\t\tthis._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;\n\t\tthis._isViewportWrapping = wrappingInfo.isViewportWrapping;\n\t\tthis._revealHorizontalRightPadding = options.get(EditorOption.revealHorizontalRightPadding);\n\t\tthis._cursorSurroundingLines = options.get(EditorOption.cursorSurroundingLines);\n\t\tthis._cursorSurroundingLinesStyle = options.get(EditorOption.cursorSurroundingLinesStyle);\n\t\tthis._canUseLayerHinting = !options.get(EditorOption.disableLayerHinting);\n\t\tthis._viewLineOptions = new ViewLineOptions(conf, this._context.theme.type);\n\n\t\tthis._linesContent = linesContent;\n\t\tthis._textRangeRestingSpot = document.createElement('div');\n\t\tthis._visibleLines = new VisibleLinesCollection(this._context, {\n\t\t\tcreateLine: () => new ViewLine(viewGpuContext, this._viewLineOptions),\n\t\t});\n\t\tthis.domNode = this._visibleLines.domNode;\n\n\t\tPartFingerprints.write(this.domNode, PartFingerprint.ViewLines);\n\t\tthis.domNode.setClassName(`view-lines ${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`);\n\t\tapplyFontInfo(this.domNode, fontInfo);\n\n\t\t// --- width & height\n\t\tthis._maxLineWidth = 0;\n\t\tthis._asyncUpdateLineWidths = new RunOnceScheduler(() => {\n\t\t\tthis._updateLineWidthsSlow();\n\t\t}, 200);\n\t\tthis._asyncCheckMonospaceFontAssumptions = new RunOnceScheduler(() => {\n\t\t\tthis._checkMonospaceFontAssumptions();\n\t\t}, 2000);\n\n\t\tthis._lastRenderedData = new LastRenderedData();\n\n\t\tthis._horizontalRevealRequest = null;\n\n\t\t// sticky scroll widget\n\t\tthis._stickyScrollEnabled = options.get(EditorOption.stickyScroll).enabled;\n\t\tthis._maxNumberStickyLines = options.get(EditorOption.stickyScroll).maxLineCount;\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._asyncUpdateLineWidths.dispose();\n\t\tthis._asyncCheckMonospaceFontAssumptions.dispose();\n\t\tsuper.dispose();\n\t}\n\n\tpublic getDomNode(): FastDomNode<HTMLElement> {\n\t\treturn this.domNode;\n\t}\n\n\t// ---- begin view event handlers\n\n\tpublic override onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\tthis._visibleLines.onConfigurationChanged(e);\n\t\tif (e.hasChanged(EditorOption.wrappingInfo)) {\n\t\t\tthis._maxLineWidth = 0;\n\t\t}\n\n\t\tconst options = this._context.configuration.options;\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\n\t\tthis._lineHeight = options.get(EditorOption.lineHeight);\n\t\tthis._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;\n\t\tthis._isViewportWrapping = wrappingInfo.isViewportWrapping;\n\t\tthis._revealHorizontalRightPadding = options.get(EditorOption.revealHorizontalRightPadding);\n\t\tthis._cursorSurroundingLines = options.get(EditorOption.cursorSurroundingLines);\n\t\tthis._cursorSurroundingLinesStyle = options.get(EditorOption.cursorSurroundingLinesStyle);\n\t\tthis._canUseLayerHinting = !options.get(EditorOption.disableLayerHinting);\n\n\t\t// sticky scroll\n\t\tthis._stickyScrollEnabled = options.get(EditorOption.stickyScroll).enabled;\n\t\tthis._maxNumberStickyLines = options.get(EditorOption.stickyScroll).maxLineCount;\n\n\t\tapplyFontInfo(this.domNode, fontInfo);\n\n\t\tthis._onOptionsMaybeChanged();\n\n\t\tif (e.hasChanged(EditorOption.layoutInfo)) {\n\t\t\tthis._maxLineWidth = 0;\n\t\t}\n\n\t\treturn true;\n\t}\n\tprivate _onOptionsMaybeChanged(): boolean {\n\t\tconst conf = this._context.configuration;\n\n\t\tconst newViewLineOptions = new ViewLineOptions(conf, this._context.theme.type);\n\t\tif (!this._viewLineOptions.equals(newViewLineOptions)) {\n\t\t\tthis._viewLineOptions = newViewLineOptions;\n\n\t\t\tconst startLineNumber = this._visibleLines.getStartLineNumber();\n\t\t\tconst endLineNumber = this._visibleLines.getEndLineNumber();\n\t\t\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\t\t\tconst line = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\t\tline.onOptionsChanged(this._viewLineOptions);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\tpublic override onCursorStateChanged(e: viewEvents.ViewCursorStateChangedEvent): boolean {\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tlet r = false;\n\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\tr = this._visibleLines.getVisibleLine(lineNumber).onSelectionChanged() || r;\n\t\t}\n\t\treturn r;\n\t}\n\tpublic override onDecorationsChanged(e: viewEvents.ViewDecorationsChangedEvent): boolean {\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\tthis._visibleLines.getVisibleLine(lineNumber).onDecorationsChanged();\n\t\t}\n\t\treturn true;\n\t}\n\tpublic override onFlushed(e: viewEvents.ViewFlushedEvent): boolean {\n\t\tconst shouldRender = this._visibleLines.onFlushed(e, this._viewLineOptions.useGpu);\n\t\tthis._maxLineWidth = 0;\n\t\treturn shouldRender;\n\t}\n\tpublic override onLinesChanged(e: viewEvents.ViewLinesChangedEvent): boolean {\n\t\treturn this._visibleLines.onLinesChanged(e);\n\t}\n\tpublic override onLinesDeleted(e: viewEvents.ViewLinesDeletedEvent): boolean {\n\t\treturn this._visibleLines.onLinesDeleted(e);\n\t}\n\tpublic override onLinesInserted(e: viewEvents.ViewLinesInsertedEvent): boolean {\n\t\treturn this._visibleLines.onLinesInserted(e);\n\t}\n\tpublic override onRevealRangeRequest(e: viewEvents.ViewRevealRangeRequestEvent): boolean {\n\t\t// Using the future viewport here in order to handle multiple\n\t\t// incoming reveal range requests that might all desire to be animated\n\t\tconst desiredScrollTop = this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(), e.source, e.minimalReveal, e.range, e.selections, e.verticalType);\n\n\t\tif (desiredScrollTop === -1) {\n\t\t\t// marker to abort the reveal range request\n\t\t\treturn false;\n\t\t}\n\n\t\t// validate the new desired scroll top\n\t\tlet newScrollPosition = this._context.viewLayout.validateScrollPosition({ scrollTop: desiredScrollTop });\n\n\t\tif (e.revealHorizontal) {\n\t\t\tif (e.range && e.range.startLineNumber !== e.range.endLineNumber) {\n\t\t\t\t// Two or more lines? => scroll to base (That's how you see most of the two lines)\n\t\t\t\tnewScrollPosition = {\n\t\t\t\t\tscrollTop: newScrollPosition.scrollTop,\n\t\t\t\t\tscrollLeft: 0\n\t\t\t\t};\n\t\t\t} else if (e.range) {\n\t\t\t\t// We don't necessarily know the horizontal offset of this range since the line might not be in the view...\n\t\t\t\tthis._horizontalRevealRequest = new HorizontalRevealRangeRequest(e.minimalReveal, e.range.startLineNumber, e.range.startColumn, e.range.endColumn, this._context.viewLayout.getCurrentScrollTop(), newScrollPosition.scrollTop, e.scrollType);\n\t\t\t} else if (e.selections && e.selections.length > 0) {\n\t\t\t\tthis._horizontalRevealRequest = new HorizontalRevealSelectionsRequest(e.minimalReveal, e.selections, this._context.viewLayout.getCurrentScrollTop(), newScrollPosition.scrollTop, e.scrollType);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._horizontalRevealRequest = null;\n\t\t}\n\n\t\tconst scrollTopDelta = Math.abs(this._context.viewLayout.getCurrentScrollTop() - newScrollPosition.scrollTop);\n\t\tconst scrollType = (scrollTopDelta <= this._lineHeight ? ScrollType.Immediate : e.scrollType);\n\t\tthis._context.viewModel.viewLayout.setScrollPosition(newScrollPosition, scrollType);\n\n\t\treturn true;\n\t}\n\tpublic override onScrollChanged(e: viewEvents.ViewScrollChangedEvent): boolean {\n\t\tif (this._horizontalRevealRequest && e.scrollLeftChanged) {\n\t\t\t// cancel any outstanding horizontal reveal request if someone else scrolls horizontally.\n\t\t\tthis._horizontalRevealRequest = null;\n\t\t}\n\t\tif (this._horizontalRevealRequest && e.scrollTopChanged) {\n\t\t\tconst min = Math.min(this._horizontalRevealRequest.startScrollTop, this._horizontalRevealRequest.stopScrollTop);\n\t\t\tconst max = Math.max(this._horizontalRevealRequest.startScrollTop, this._horizontalRevealRequest.stopScrollTop);\n\t\t\tif (e.scrollTop < min || e.scrollTop > max) {\n\t\t\t\t// cancel any outstanding horizontal reveal request if someone else scrolls vertically.\n\t\t\t\tthis._horizontalRevealRequest = null;\n\t\t\t}\n\t\t}\n\t\tthis.domNode.setWidth(e.scrollWidth);\n\t\treturn this._visibleLines.onScrollChanged(e) || true;\n\t}\n\n\tpublic override onTokensChanged(e: viewEvents.ViewTokensChangedEvent): boolean {\n\t\treturn this._visibleLines.onTokensChanged(e);\n\t}\n\tpublic override onZonesChanged(e: viewEvents.ViewZonesChangedEvent): boolean {\n\t\tthis._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth);\n\t\treturn this._visibleLines.onZonesChanged(e);\n\t}\n\tpublic override onThemeChanged(e: viewEvents.ViewThemeChangedEvent): boolean {\n\t\treturn this._onOptionsMaybeChanged();\n\t}\n\n\t// ---- end view event handlers\n\n\t// ----------- HELPERS FOR OTHERS\n\n\tpublic getPositionFromDOMInfo(spanNode: HTMLElement, offset: number): Position | null {\n\t\tconst viewLineDomNode = this._getViewLineDomNode(spanNode);\n\t\tif (viewLineDomNode === null) {\n\t\t\t// Couldn't find view line node\n\t\t\treturn null;\n\t\t}\n\t\tconst lineNumber = this._getLineNumberFor(viewLineDomNode);\n\n\t\tif (lineNumber === -1) {\n\t\t\t// Couldn't find view line node\n\t\t\treturn null;\n\t\t}\n\n\t\tif (lineNumber < 1 || lineNumber > this._context.viewModel.getLineCount()) {\n\t\t\t// lineNumber is outside range\n\t\t\treturn null;\n\t\t}\n\n\t\tif (this._context.viewModel.getLineMaxColumn(lineNumber) === 1) {\n\t\t\t// Line is empty\n\t\t\treturn new Position(lineNumber, 1);\n\t\t}\n\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tif (lineNumber < rendStartLineNumber || lineNumber > rendEndLineNumber) {\n\t\t\t// Couldn't find line\n\t\t\treturn null;\n\t\t}\n\n\t\tlet column = this._visibleLines.getVisibleLine(lineNumber).getColumnOfNodeOffset(spanNode, offset);\n\t\tconst minColumn = this._context.viewModel.getLineMinColumn(lineNumber);\n\t\tif (column < minColumn) {\n\t\t\tcolumn = minColumn;\n\t\t}\n\t\treturn new Position(lineNumber, column);\n\t}\n\n\tprivate _getViewLineDomNode(node: HTMLElement | null): HTMLElement | null {\n\t\twhile (node && node.nodeType === 1) {\n\t\t\tif (node.className === ViewLine.CLASS_NAME) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.parentElement;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * @returns the line number of this view line dom node.\n\t */\n\tprivate _getLineNumberFor(domNode: HTMLElement): number {\n\t\tconst startLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst endLineNumber = this._visibleLines.getEndLineNumber();\n\t\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\t\tconst line = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\tif (domNode === line.getDomNode()) {\n\t\t\t\treturn lineNumber;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tpublic getLineWidth(lineNumber: number): number {\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tif (lineNumber < rendStartLineNumber || lineNumber > rendEndLineNumber) {\n\t\t\t// Couldn't find line\n\t\t\treturn -1;\n\t\t}\n\n\t\tconst context = new DomReadingContext(this.domNode.domNode, this._textRangeRestingSpot);\n\t\tconst result = this._visibleLines.getVisibleLine(lineNumber).getWidth(context);\n\t\tthis._updateLineWidthsSlowIfDomDidLayout(context);\n\n\t\treturn result;\n\t}\n\n\tpublic linesVisibleRangesForRange(_range: Range, includeNewLines: boolean): LineVisibleRanges[] | null {\n\t\tif (this.shouldRender()) {\n\t\t\t// Cannot read from the DOM because it is dirty\n\t\t\t// i.e. the model & the dom are out of sync, so I'd be reading something stale\n\t\t\treturn null;\n\t\t}\n\n\t\tconst originalEndLineNumber = _range.endLineNumber;\n\t\tconst range = Range.intersectRanges(_range, this._lastRenderedData.getCurrentVisibleRange());\n\t\tif (!range) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst visibleRanges: LineVisibleRanges[] = [];\n\t\tlet visibleRangesLen = 0;\n\t\tconst domReadingContext = new DomReadingContext(this.domNode.domNode, this._textRangeRestingSpot);\n\n\t\tlet nextLineModelLineNumber: number = 0;\n\t\tif (includeNewLines) {\n\t\t\tnextLineModelLineNumber = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(range.startLineNumber, 1)).lineNumber;\n\t\t}\n\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tfor (let lineNumber = range.startLineNumber; lineNumber <= range.endLineNumber; lineNumber++) {\n\n\t\t\tif (lineNumber < rendStartLineNumber || lineNumber > rendEndLineNumber) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst startColumn = lineNumber === range.startLineNumber ? range.startColumn : 1;\n\t\t\tconst continuesInNextLine = lineNumber !== originalEndLineNumber;\n\t\t\tconst endColumn = continuesInNextLine ? this._context.viewModel.getLineMaxColumn(lineNumber) : range.endColumn;\n\t\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\tconst visibleRangesForLine = visibleLine.getVisibleRangesForRange(lineNumber, startColumn, endColumn, domReadingContext);\n\n\t\t\tif (!visibleRangesForLine) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (includeNewLines && lineNumber < originalEndLineNumber) {\n\t\t\t\tconst currentLineModelLineNumber = nextLineModelLineNumber;\n\t\t\t\tnextLineModelLineNumber = this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(lineNumber + 1, 1)).lineNumber;\n\n\t\t\t\tif (currentLineModelLineNumber !== nextLineModelLineNumber) {\n\t\t\t\t\tconst floatHorizontalRange = visibleRangesForLine.ranges[visibleRangesForLine.ranges.length - 1];\n\t\t\t\t\tfloatHorizontalRange.width += this._typicalHalfwidthCharacterWidth;\n\t\t\t\t\tif (this._context.viewModel.getTextDirection(currentLineModelLineNumber) === TextDirection.RTL) {\n\t\t\t\t\t\tfloatHorizontalRange.left -= this._typicalHalfwidthCharacterWidth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvisibleRanges[visibleRangesLen++] = new LineVisibleRanges(visibleRangesForLine.outsideRenderedLine, lineNumber, HorizontalRange.from(visibleRangesForLine.ranges), continuesInNextLine);\n\t\t}\n\n\t\tthis._updateLineWidthsSlowIfDomDidLayout(domReadingContext);\n\n\t\tif (visibleRangesLen === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn visibleRanges;\n\t}\n\n\tprivate _visibleRangesForLineRange(lineNumber: number, startColumn: number, endColumn: number): VisibleRanges | null {\n\t\tif (this.shouldRender()) {\n\t\t\t// Cannot read from the DOM because it is dirty\n\t\t\t// i.e. the model & the dom are out of sync, so I'd be reading something stale\n\t\t\treturn null;\n\t\t}\n\n\t\tif (lineNumber < this._visibleLines.getStartLineNumber() || lineNumber > this._visibleLines.getEndLineNumber()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst domReadingContext = new DomReadingContext(this.domNode.domNode, this._textRangeRestingSpot);\n\t\tconst result = this._visibleLines.getVisibleLine(lineNumber).getVisibleRangesForRange(lineNumber, startColumn, endColumn, domReadingContext);\n\t\tthis._updateLineWidthsSlowIfDomDidLayout(domReadingContext);\n\n\t\treturn result;\n\t}\n\n\tprivate _lineIsRenderedRTL(lineNumber: number): boolean {\n\t\tif (lineNumber < this._visibleLines.getStartLineNumber() || lineNumber > this._visibleLines.getEndLineNumber()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\t\treturn visibleLine.isRenderedRTL();\n\t}\n\n\tpublic visibleRangeForPosition(position: Position): HorizontalPosition | null {\n\t\tconst visibleRanges = this._visibleRangesForLineRange(position.lineNumber, position.column, position.column);\n\t\tif (!visibleRanges) {\n\t\t\treturn null;\n\t\t}\n\t\treturn new HorizontalPosition(visibleRanges.outsideRenderedLine, visibleRanges.ranges[0].left);\n\t}\n\n\t// --- implementation\n\n\tpublic updateLineWidths(): void {\n\t\tthis._updateLineWidths(false);\n\t}\n\n\t/**\n\t * Updates the max line width if it is fast to compute.\n\t * Returns true if all lines were taken into account.\n\t * Returns false if some lines need to be reevaluated (in a slow fashion).\n\t */\n\tprivate _updateLineWidthsFast(): boolean {\n\t\treturn this._updateLineWidths(true);\n\t}\n\n\tprivate _updateLineWidthsSlow(): void {\n\t\tthis._updateLineWidths(false);\n\t}\n\n\t/**\n\t * Update the line widths using DOM layout information after someone else\n\t * has caused a synchronous layout.\n\t */\n\tprivate _updateLineWidthsSlowIfDomDidLayout(domReadingContext: DomReadingContext): void {\n\t\tif (!domReadingContext.didDomLayout) {\n\t\t\t// only proceed if we just did a layout\n\t\t\treturn;\n\t\t}\n\t\tif (!this._asyncUpdateLineWidths.isScheduled()) {\n\t\t\t// reading widths is not scheduled => widths are up-to-date\n\t\t\treturn;\n\t\t}\n\t\tthis._asyncUpdateLineWidths.cancel();\n\t\tthis._updateLineWidthsSlow();\n\t}\n\n\tprivate _updateLineWidths(fast: boolean): boolean {\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\n\t\tlet localMaxLineWidth = 1;\n\t\tlet allWidthsComputed = true;\n\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\n\t\t\tif (fast && !visibleLine.getWidthIsFast()) {\n\t\t\t\t// Cannot compute width in a fast way for this line\n\t\t\t\tallWidthsComputed = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlocalMaxLineWidth = Math.max(localMaxLineWidth, visibleLine.getWidth(null));\n\t\t}\n\n\t\tif (allWidthsComputed && rendStartLineNumber === 1 && rendEndLineNumber === this._context.viewModel.getLineCount()) {\n\t\t\t// we know the max line width for all the lines\n\t\t\tthis._maxLineWidth = 0;\n\t\t}\n\n\t\tthis._ensureMaxLineWidth(localMaxLineWidth);\n\n\t\treturn allWidthsComputed;\n\t}\n\n\tprivate _checkMonospaceFontAssumptions(): void {\n\t\t// Problems with monospace assumptions are more apparent for longer lines,\n\t\t// as small rounding errors start to sum up, so we will select the longest\n\t\t// line for a closer inspection\n\t\tlet longestLineNumber = -1;\n\t\tlet longestWidth = -1;\n\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\tif (visibleLine.needsMonospaceFontCheck()) {\n\t\t\t\tconst lineWidth = visibleLine.getWidth(null);\n\t\t\t\tif (lineWidth > longestWidth) {\n\t\t\t\t\tlongestWidth = lineWidth;\n\t\t\t\t\tlongestLineNumber = lineNumber;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (longestLineNumber === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._visibleLines.getVisibleLine(longestLineNumber).monospaceAssumptionsAreValid()) {\n\t\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\t\tvisibleLine.onMonospaceAssumptionsInvalidated();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic prepareRender(): void {\n\t\tthrow new Error('Not supported');\n\t}\n\n\tpublic render(): void {\n\t\tthrow new Error('Not supported');\n\t}\n\n\tpublic renderText(viewportData: ViewportData): void {\n\t\t// (1) render lines - ensures lines are in the DOM\n\t\tthis._visibleLines.renderLines(viewportData);\n\t\tthis._lastRenderedData.setCurrentVisibleRange(viewportData.visibleRange);\n\t\tthis.domNode.setWidth(this._context.viewLayout.getScrollWidth());\n\t\tthis.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(), 1000000));\n\n\t\t// (2) compute horizontal scroll position:\n\t\t//  - this must happen after the lines are in the DOM since it might need a line that rendered just now\n\t\t//  - it might change `scrollWidth` and `scrollLeft`\n\t\tif (this._horizontalRevealRequest) {\n\n\t\t\tconst horizontalRevealRequest = this._horizontalRevealRequest;\n\n\t\t\t// Check that we have the line that contains the horizontal range in the viewport\n\t\t\tif (viewportData.startLineNumber <= horizontalRevealRequest.minLineNumber && horizontalRevealRequest.maxLineNumber <= viewportData.endLineNumber) {\n\n\t\t\t\tthis._horizontalRevealRequest = null;\n\n\t\t\t\t// allow `visibleRangesForRange2` to work\n\t\t\t\tthis.onDidRender();\n\n\t\t\t\t// compute new scroll position\n\t\t\t\tconst newScrollLeft = this._computeScrollLeftToReveal(horizontalRevealRequest);\n\n\t\t\t\tif (newScrollLeft) {\n\t\t\t\t\tif (!this._isViewportWrapping && !newScrollLeft.hasRTL) {\n\t\t\t\t\t\t// ensure `scrollWidth` is large enough\n\t\t\t\t\t\tthis._ensureMaxLineWidth(newScrollLeft.maxHorizontalOffset);\n\t\t\t\t\t}\n\t\t\t\t\t// set `scrollLeft`\n\t\t\t\t\tthis._context.viewModel.viewLayout.setScrollPosition({\n\t\t\t\t\t\tscrollLeft: newScrollLeft.scrollLeft\n\t\t\t\t\t}, horizontalRevealRequest.scrollType);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update max line width (not so important, it is just so the horizontal scrollbar doesn't get too small)\n\t\tif (!this._updateLineWidthsFast()) {\n\t\t\t// Computing the width of some lines would be slow => delay it\n\t\t\tthis._asyncUpdateLineWidths.schedule();\n\t\t} else {\n\t\t\tthis._asyncUpdateLineWidths.cancel();\n\t\t}\n\n\t\tif (platform.isLinux && !this._asyncCheckMonospaceFontAssumptions.isScheduled()) {\n\t\t\tconst rendStartLineNumber = this._visibleLines.getStartLineNumber();\n\t\t\tconst rendEndLineNumber = this._visibleLines.getEndLineNumber();\n\t\t\tfor (let lineNumber = rendStartLineNumber; lineNumber <= rendEndLineNumber; lineNumber++) {\n\t\t\t\tconst visibleLine = this._visibleLines.getVisibleLine(lineNumber);\n\t\t\t\tif (visibleLine.needsMonospaceFontCheck()) {\n\t\t\t\t\tthis._asyncCheckMonospaceFontAssumptions.schedule();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (3) handle scrolling\n\t\tthis._linesContent.setLayerHinting(this._canUseLayerHinting);\n\t\tthis._linesContent.setContain('strict');\n\t\tconst adjustedScrollTop = this._context.viewLayout.getCurrentScrollTop() - viewportData.bigNumbersDelta;\n\t\tthis._linesContent.setTop(-adjustedScrollTop);\n\t\tthis._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft());\n\t}\n\n\t// --- width\n\n\tprivate _ensureMaxLineWidth(lineWidth: number): void {\n\t\tconst iLineWidth = Math.ceil(lineWidth);\n\t\tif (this._maxLineWidth < iLineWidth) {\n\t\t\tthis._maxLineWidth = iLineWidth;\n\t\t\tthis._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth);\n\t\t}\n\t}\n\n\tprivate _computeScrollTopToRevealRange(viewport: Viewport, source: string | null | undefined, minimalReveal: boolean, range: Range | null, selections: Selection[] | null, verticalType: viewEvents.VerticalRevealType): number {\n\t\tconst viewportStartY = viewport.top;\n\t\tconst viewportHeight = viewport.height;\n\t\tconst viewportEndY = viewportStartY + viewportHeight;\n\t\tlet boxIsSingleRange: boolean;\n\t\tlet boxStartY: number;\n\t\tlet boxEndY: number;\n\n\t\tif (selections && selections.length > 0) {\n\t\t\tlet minLineNumber = selections[0].startLineNumber;\n\t\t\tlet maxLineNumber = selections[0].endLineNumber;\n\t\t\tfor (let i = 1, len = selections.length; i < len; i++) {\n\t\t\t\tconst selection = selections[i];\n\t\t\t\tminLineNumber = Math.min(minLineNumber, selection.startLineNumber);\n\t\t\t\tmaxLineNumber = Math.max(maxLineNumber, selection.endLineNumber);\n\t\t\t}\n\t\t\tboxIsSingleRange = false;\n\t\t\tboxStartY = this._context.viewLayout.getVerticalOffsetForLineNumber(minLineNumber);\n\t\t\tboxEndY = this._context.viewLayout.getVerticalOffsetForLineNumber(maxLineNumber) + this._lineHeight;\n\t\t} else if (range) {\n\t\t\tboxIsSingleRange = true;\n\t\t\tboxStartY = this._context.viewLayout.getVerticalOffsetForLineNumber(range.startLineNumber);\n\t\t\tboxEndY = this._context.viewLayout.getVerticalOffsetForLineNumber(range.endLineNumber) + this._lineHeight;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\n\t\tconst shouldIgnoreScrollOff = (source === 'mouse' || minimalReveal) && this._cursorSurroundingLinesStyle === 'default';\n\n\t\tlet paddingTop: number = 0;\n\t\tlet paddingBottom: number = 0;\n\n\t\tif (!shouldIgnoreScrollOff) {\n\t\t\tconst maxLinesInViewport = (viewportHeight / this._lineHeight);\n\t\t\tconst surroundingLines = Math.max(this._cursorSurroundingLines, this._stickyScrollEnabled ? this._maxNumberStickyLines : 0);\n\t\t\tconst context = Math.min(maxLinesInViewport / 2, surroundingLines);\n\t\t\tpaddingTop = context * this._lineHeight;\n\t\t\tpaddingBottom = Math.max(0, (context - 1)) * this._lineHeight;\n\t\t} else {\n\t\t\tif (!minimalReveal) {\n\t\t\t\t// Reveal one more line above (this case is hit when dragging)\n\t\t\t\tpaddingTop = this._lineHeight;\n\t\t\t}\n\t\t}\n\t\tif (!minimalReveal) {\n\t\t\tif (verticalType === viewEvents.VerticalRevealType.Simple || verticalType === viewEvents.VerticalRevealType.Bottom) {\n\t\t\t\t// Reveal one line more when the last line would be covered by the scrollbar - arrow down case or revealing a line explicitly at bottom\n\t\t\t\tpaddingBottom += this._lineHeight;\n\t\t\t}\n\t\t}\n\n\t\tboxStartY -= paddingTop;\n\t\tboxEndY += paddingBottom;\n\t\tlet newScrollTop: number;\n\n\t\tif (boxEndY - boxStartY > viewportHeight) {\n\t\t\t// the box is larger than the viewport ... scroll to its top\n\t\t\tif (!boxIsSingleRange) {\n\t\t\t\t// do not reveal multiple cursors if there are more than fit the viewport\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tnewScrollTop = boxStartY;\n\t\t} else if (verticalType === viewEvents.VerticalRevealType.NearTop || verticalType === viewEvents.VerticalRevealType.NearTopIfOutsideViewport) {\n\t\t\tif (verticalType === viewEvents.VerticalRevealType.NearTopIfOutsideViewport && viewportStartY <= boxStartY && boxEndY <= viewportEndY) {\n\t\t\t\t// Box is already in the viewport... do nothing\n\t\t\t\tnewScrollTop = viewportStartY;\n\t\t\t} else {\n\t\t\t\t// We want a gap that is 20% of the viewport, but with a minimum of 5 lines\n\t\t\t\tconst desiredGapAbove = Math.max(5 * this._lineHeight, viewportHeight * 0.2);\n\t\t\t\t// Try to scroll just above the box with the desired gap\n\t\t\t\tconst desiredScrollTop = boxStartY - desiredGapAbove;\n\t\t\t\t// But ensure that the box is not pushed out of viewport\n\t\t\t\tconst minScrollTop = boxEndY - viewportHeight;\n\t\t\t\tnewScrollTop = Math.max(minScrollTop, desiredScrollTop);\n\t\t\t}\n\t\t} else if (verticalType === viewEvents.VerticalRevealType.Center || verticalType === viewEvents.VerticalRevealType.CenterIfOutsideViewport) {\n\t\t\tif (verticalType === viewEvents.VerticalRevealType.CenterIfOutsideViewport && viewportStartY <= boxStartY && boxEndY <= viewportEndY) {\n\t\t\t\t// Box is already in the viewport... do nothing\n\t\t\t\tnewScrollTop = viewportStartY;\n\t\t\t} else {\n\t\t\t\t// Box is outside the viewport... center it\n\t\t\t\tconst boxMiddleY = (boxStartY + boxEndY) / 2;\n\t\t\t\tnewScrollTop = Math.max(0, boxMiddleY - viewportHeight / 2);\n\t\t\t}\n\t\t} else {\n\t\t\tnewScrollTop = this._computeMinimumScrolling(viewportStartY, viewportEndY, boxStartY, boxEndY, verticalType === viewEvents.VerticalRevealType.Top, verticalType === viewEvents.VerticalRevealType.Bottom);\n\t\t}\n\n\t\treturn newScrollTop;\n\t}\n\n\tprivate _computeScrollLeftToReveal(horizontalRevealRequest: HorizontalRevealRequest): { scrollLeft: number; maxHorizontalOffset: number; hasRTL: boolean } | null {\n\n\t\tconst viewport = this._context.viewLayout.getCurrentViewport();\n\t\tconst layoutInfo = this._context.configuration.options.get(EditorOption.layoutInfo);\n\t\tconst viewportStartX = viewport.left;\n\t\tconst viewportEndX = viewportStartX + viewport.width - layoutInfo.verticalScrollbarWidth;\n\n\t\tlet boxStartX = Constants.MAX_SAFE_SMALL_INTEGER;\n\t\tlet boxEndX = 0;\n\t\tlet hasRTL = false;\n\t\tif (horizontalRevealRequest.type === 'range') {\n\t\t\thasRTL = this._lineIsRenderedRTL(horizontalRevealRequest.lineNumber);\n\t\t\tconst visibleRanges = this._visibleRangesForLineRange(horizontalRevealRequest.lineNumber, horizontalRevealRequest.startColumn, horizontalRevealRequest.endColumn);\n\t\t\tif (!visibleRanges) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfor (const visibleRange of visibleRanges.ranges) {\n\t\t\t\tboxStartX = Math.min(boxStartX, Math.round(visibleRange.left));\n\t\t\t\tboxEndX = Math.max(boxEndX, Math.round(visibleRange.left + visibleRange.width));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const selection of horizontalRevealRequest.selections) {\n\t\t\t\tif (selection.startLineNumber !== selection.endLineNumber) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tconst visibleRanges = this._visibleRangesForLineRange(selection.startLineNumber, selection.startColumn, selection.endColumn);\n\t\t\t\thasRTL ||= this._lineIsRenderedRTL(selection.startLineNumber);\n\t\t\t\tif (!visibleRanges) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tfor (const visibleRange of visibleRanges.ranges) {\n\t\t\t\t\tboxStartX = Math.min(boxStartX, Math.round(visibleRange.left));\n\t\t\t\t\tboxEndX = Math.max(boxEndX, Math.round(visibleRange.left + visibleRange.width));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!horizontalRevealRequest.minimalReveal) {\n\t\t\tboxStartX = Math.max(0, boxStartX - ViewLines.HORIZONTAL_EXTRA_PX);\n\t\t\tboxEndX += this._revealHorizontalRightPadding;\n\t\t}\n\n\t\tif (horizontalRevealRequest.type === 'selections' && boxEndX - boxStartX > viewport.width) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst newScrollLeft = this._computeMinimumScrolling(viewportStartX, viewportEndX, boxStartX, boxEndX);\n\t\treturn {\n\t\t\tscrollLeft: newScrollLeft,\n\t\t\tmaxHorizontalOffset: boxEndX,\n\t\t\thasRTL\n\t\t};\n\t}\n\n\tprivate _computeMinimumScrolling(viewportStart: number, viewportEnd: number, boxStart: number, boxEnd: number, revealAtStart?: boolean, revealAtEnd?: boolean): number {\n\t\tviewportStart = viewportStart | 0;\n\t\tviewportEnd = viewportEnd | 0;\n\t\tboxStart = boxStart | 0;\n\t\tboxEnd = boxEnd | 0;\n\t\trevealAtStart = !!revealAtStart;\n\t\trevealAtEnd = !!revealAtEnd;\n\n\t\tconst viewportLength = viewportEnd - viewportStart;\n\t\tconst boxLength = boxEnd - boxStart;\n\n\t\tif (boxLength < viewportLength) {\n\t\t\t// The box would fit in the viewport\n\n\t\t\tif (revealAtStart) {\n\t\t\t\treturn boxStart;\n\t\t\t}\n\n\t\t\tif (revealAtEnd) {\n\t\t\t\treturn Math.max(0, boxEnd - viewportLength);\n\t\t\t}\n\n\t\t\tif (boxStart < viewportStart) {\n\t\t\t\t// The box is above the viewport\n\t\t\t\treturn boxStart;\n\t\t\t} else if (boxEnd > viewportEnd) {\n\t\t\t\t// The box is below the viewport\n\t\t\t\treturn Math.max(0, boxEnd - viewportLength);\n\t\t\t}\n\t\t} else {\n\t\t\t// The box would not fit in the viewport\n\t\t\t// Reveal the beginning of the box\n\t\t\treturn boxStart;\n\t\t}\n\n\t\treturn viewportStart;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}