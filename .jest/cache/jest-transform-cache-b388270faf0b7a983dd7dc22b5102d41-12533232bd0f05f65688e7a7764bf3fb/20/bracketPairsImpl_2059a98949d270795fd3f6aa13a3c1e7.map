{"version":3,"names":["cov_2fwzvgt2ko","actualCoverage","CallbackIterable","compareBy","Emitter","Disposable","DisposableStore","MutableDisposable","Range","ignoreBracketsInToken","BracketsUtils","BracketPairsTree","BracketPairsTextModelPart","textModel","languageConfigurationService","bracketPairsTree","s","_register","onDidChangeEmitter","onDidChange","event","canBuildAST","f","maxSupportedDocumentLength","getValueLength","bracketsRequested","constructor","handleLanguageConfigurationServiceChange","e","b","languageId","value","object","didLanguageChange","clear","updateBracketPairsTree","handleDidChangeOptions","handleDidChangeLanguage","handleDidChangeContent","change","handleContentChanged","handleDidChangeBackgroundTokenizationState","handleDidChangeTokens","store","createDisposableRef","add","getLanguageConfiguration","fire","getBracketPairsInRange","range","empty","getBracketPairsInRangeWithMinIndentation","getBracketsInRange","onlyColorizedBrackets","findMatchingBracketUp","_bracket","_position","maxDuration","position","validatePosition","getLanguageIdAtPosition","lineNumber","column","closingBracketInfo","bracketsNew","getClosingBracketInfo","bracketPair","fromPositions","findLast","closes","openingBracketInfo","openingBracketRange","bracket","toLowerCase","bracketsSupport","brackets","data","textIsBracket","stripBracketSearchCanceled","_findMatchingBracketUp","createTimeBasedContinueBracketSearchPredicate","matchBracket","filter","item","closingBracketRange","undefined","containsPosition","findLastMaxBy","compareRangesUsingStarts","continueSearchPredicate","_matchBracket","_establishBracketSearchOffsets","lineTokens","modeBrackets","tokenIndex","tokenCount","getCount","currentLanguageId","getLanguageId","searchStartOffset","Math","max","maxBracketLength","i","tokenEndOffset","getEndOffset","getStandardTokenType","searchEndOffset","min","getLineContent","length","tokenStartOffset","getStartOffset","tokenization","getLineTokens","lineText","findTokenIndexAtOffset","currentModeBrackets","bestResult","foundBracket","findNextBracketInRange","forwardRegex","startColumn","endColumn","foundBracketText","substring","r","_matchFoundBracket","textIsOpenBracket","BracketSearchCanceled","prevTokenIndex","prevModeBrackets","findPrevBracketInRange","reversedRegex","isOpen","matched","_findMatchingBracketDown","getEndPosition","getStartPosition","reversedBracketRegex","count","totalCallCount","searchPrevMatchingBracketInRange","INSTANCE","hitText","isClose","prevSearchInToken","searchInToken","bracketRegex","searchNextMatchingBracketInRange","lineCount","getLineCount","findPrevBracket","getFirstBracketBefore","bracketConfig","tokenLanguageId","_toFoundBracket","findNextBracket","getFirstBracketAfter","findEnclosingBrackets","strictContainsRange","savedCounts","Map","counts","resetCounts","has","tmp","len","set","get","searchInRange","index","text","getValueInRange","bracketInfo","getBracketInfo","disposable","dispose","startTime","Date","now","_searchCanceledBrand","result"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CallbackIterable, compareBy } from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore, IDisposable, IReference, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { IPosition, Position } from '../../core/position.js';\nimport { Range } from '../../core/range.js';\nimport { ILanguageConfigurationService, LanguageConfigurationServiceChangeEvent } from '../../languages/languageConfigurationRegistry.js';\nimport { ignoreBracketsInToken } from '../../languages/supports.js';\nimport { LanguageBracketsConfiguration } from '../../languages/supports/languageBracketsConfiguration.js';\nimport { BracketsUtils, RichEditBracket, RichEditBrackets } from '../../languages/supports/richEditBrackets.js';\nimport { BracketPairsTree } from './bracketPairsTree/bracketPairsTree.js';\nimport { TextModel } from '../textModel.js';\nimport { BracketInfo, BracketPairInfo, BracketPairWithMinIndentationInfo, IBracketPairsTextModelPart, IFoundBracket } from '../../textModelBracketPairs.js';\nimport { IModelContentChangedEvent, IModelLanguageChangedEvent, IModelOptionsChangedEvent, IModelTokensChangedEvent } from '../../textModelEvents.js';\nimport { LineTokens } from '../../tokens/lineTokens.js';\n\nexport class BracketPairsTextModelPart extends Disposable implements IBracketPairsTextModelPart {\n\tprivate readonly bracketPairsTree = this._register(new MutableDisposable<IReference<BracketPairsTree>>());\n\n\tprivate readonly onDidChangeEmitter = new Emitter<void>();\n\tpublic readonly onDidChange = this.onDidChangeEmitter.event;\n\n\tprivate get canBuildAST() {\n\t\tconst maxSupportedDocumentLength = /* max lines */ 50_000 * /* average column count */ 100;\n\t\treturn this.textModel.getValueLength() <= maxSupportedDocumentLength;\n\t}\n\n\tprivate bracketsRequested = false;\n\n\tpublic constructor(\n\t\tprivate readonly textModel: TextModel,\n\t\tprivate readonly languageConfigurationService: ILanguageConfigurationService\n\t) {\n\t\tsuper();\n\t}\n\n\t//#region TextModel events\n\n\tpublic handleLanguageConfigurationServiceChange(e: LanguageConfigurationServiceChangeEvent): void {\n\t\tif (!e.languageId || this.bracketPairsTree.value?.object.didLanguageChange(e.languageId)) {\n\t\t\tthis.bracketPairsTree.clear();\n\t\t\tthis.updateBracketPairsTree();\n\t\t}\n\t}\n\n\tpublic handleDidChangeOptions(e: IModelOptionsChangedEvent): void {\n\t\tthis.bracketPairsTree.clear();\n\t\tthis.updateBracketPairsTree();\n\t}\n\n\tpublic handleDidChangeLanguage(e: IModelLanguageChangedEvent): void {\n\t\tthis.bracketPairsTree.clear();\n\t\tthis.updateBracketPairsTree();\n\t}\n\n\tpublic handleDidChangeContent(change: IModelContentChangedEvent) {\n\t\tthis.bracketPairsTree.value?.object.handleContentChanged(change);\n\t}\n\n\tpublic handleDidChangeBackgroundTokenizationState(): void {\n\t\tthis.bracketPairsTree.value?.object.handleDidChangeBackgroundTokenizationState();\n\t}\n\n\tpublic handleDidChangeTokens(e: IModelTokensChangedEvent): void {\n\t\tthis.bracketPairsTree.value?.object.handleDidChangeTokens(e);\n\t}\n\n\t//#endregion\n\n\tprivate updateBracketPairsTree() {\n\t\tif (this.bracketsRequested && this.canBuildAST) {\n\t\t\tif (!this.bracketPairsTree.value) {\n\t\t\t\tconst store = new DisposableStore();\n\n\t\t\t\tthis.bracketPairsTree.value = createDisposableRef(\n\t\t\t\t\tstore.add(\n\t\t\t\t\t\tnew BracketPairsTree(this.textModel, (languageId) => {\n\t\t\t\t\t\t\treturn this.languageConfigurationService.getLanguageConfiguration(languageId);\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t\tstore\n\t\t\t\t);\n\t\t\t\tstore.add(this.bracketPairsTree.value.object.onDidChange(e => this.onDidChangeEmitter.fire(e)));\n\t\t\t\tthis.onDidChangeEmitter.fire();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.bracketPairsTree.value) {\n\t\t\t\tthis.bracketPairsTree.clear();\n\t\t\t\t// Important: Don't call fire if there was no change!\n\t\t\t\tthis.onDidChangeEmitter.fire();\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns all bracket pairs that intersect the given range.\n\t * The result is sorted by the start position.\n\t*/\n\tpublic getBracketPairsInRange(range: Range): CallbackIterable<BracketPairInfo> {\n\t\tthis.bracketsRequested = true;\n\t\tthis.updateBracketPairsTree();\n\t\treturn this.bracketPairsTree.value?.object.getBracketPairsInRange(range, false) || CallbackIterable.empty;\n\t}\n\n\tpublic getBracketPairsInRangeWithMinIndentation(range: Range): CallbackIterable<BracketPairWithMinIndentationInfo> {\n\t\tthis.bracketsRequested = true;\n\t\tthis.updateBracketPairsTree();\n\t\treturn this.bracketPairsTree.value?.object.getBracketPairsInRange(range, true) || CallbackIterable.empty;\n\t}\n\n\tpublic getBracketsInRange(range: Range, onlyColorizedBrackets: boolean = false): CallbackIterable<BracketInfo> {\n\t\tthis.bracketsRequested = true;\n\t\tthis.updateBracketPairsTree();\n\t\treturn this.bracketPairsTree.value?.object.getBracketsInRange(range, onlyColorizedBrackets) || CallbackIterable.empty;\n\t}\n\n\tpublic findMatchingBracketUp(_bracket: string, _position: IPosition, maxDuration?: number): Range | null {\n\t\tconst position = this.textModel.validatePosition(_position);\n\t\tconst languageId = this.textModel.getLanguageIdAtPosition(position.lineNumber, position.column);\n\n\t\tif (this.canBuildAST) {\n\t\t\tconst closingBracketInfo = this.languageConfigurationService\n\t\t\t\t.getLanguageConfiguration(languageId)\n\t\t\t\t.bracketsNew.getClosingBracketInfo(_bracket);\n\n\t\t\tif (!closingBracketInfo) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst bracketPair = this.getBracketPairsInRange(Range.fromPositions(_position, _position)).findLast((b) =>\n\t\t\t\tclosingBracketInfo.closes(b.openingBracketInfo)\n\t\t\t);\n\n\t\t\tif (bracketPair) {\n\t\t\t\treturn bracketPair.openingBracketRange;\n\t\t\t}\n\t\t\treturn null;\n\t\t} else {\n\t\t\t// Fallback to old bracket matching code:\n\t\t\tconst bracket = _bracket.toLowerCase();\n\n\t\t\tconst bracketsSupport = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\n\t\t\tif (!bracketsSupport) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst data = bracketsSupport.textIsBracket[bracket];\n\n\t\t\tif (!data) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn stripBracketSearchCanceled(this._findMatchingBracketUp(data, position, createTimeBasedContinueBracketSearchPredicate(maxDuration)));\n\t\t}\n\t}\n\n\tpublic matchBracket(position: IPosition, maxDuration?: number): [Range, Range] | null {\n\t\tif (this.canBuildAST) {\n\t\t\tconst bracketPair =\n\t\t\t\tthis.getBracketPairsInRange(\n\t\t\t\t\tRange.fromPositions(position, position)\n\t\t\t\t).filter(\n\t\t\t\t\t(item) =>\n\t\t\t\t\t\titem.closingBracketRange !== undefined &&\n\t\t\t\t\t\t(item.openingBracketRange.containsPosition(position) ||\n\t\t\t\t\t\t\titem.closingBracketRange.containsPosition(position))\n\t\t\t\t).findLastMaxBy(\n\t\t\t\t\tcompareBy(\n\t\t\t\t\t\t(item) =>\n\t\t\t\t\t\t\titem.openingBracketRange.containsPosition(position)\n\t\t\t\t\t\t\t\t? item.openingBracketRange\n\t\t\t\t\t\t\t\t: item.closingBracketRange,\n\t\t\t\t\t\tRange.compareRangesUsingStarts\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tif (bracketPair) {\n\t\t\t\treturn [bracketPair.openingBracketRange, bracketPair.closingBracketRange!];\n\t\t\t}\n\t\t\treturn null;\n\t\t} else {\n\t\t\t// Fallback to old bracket matching code:\n\t\t\tconst continueSearchPredicate = createTimeBasedContinueBracketSearchPredicate(maxDuration);\n\t\t\treturn this._matchBracket(this.textModel.validatePosition(position), continueSearchPredicate);\n\t\t}\n\t}\n\n\tprivate _establishBracketSearchOffsets(position: Position, lineTokens: LineTokens, modeBrackets: RichEditBrackets, tokenIndex: number) {\n\t\tconst tokenCount = lineTokens.getCount();\n\t\tconst currentLanguageId = lineTokens.getLanguageId(tokenIndex);\n\n\t\t// limit search to not go before `maxBracketLength`\n\t\tlet searchStartOffset = Math.max(0, position.column - 1 - modeBrackets.maxBracketLength);\n\t\tfor (let i = tokenIndex - 1; i >= 0; i--) {\n\t\t\tconst tokenEndOffset = lineTokens.getEndOffset(i);\n\t\t\tif (tokenEndOffset <= searchStartOffset) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (ignoreBracketsInToken(lineTokens.getStandardTokenType(i)) || lineTokens.getLanguageId(i) !== currentLanguageId) {\n\t\t\t\tsearchStartOffset = tokenEndOffset;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// limit search to not go after `maxBracketLength`\n\t\tlet searchEndOffset = Math.min(lineTokens.getLineContent().length, position.column - 1 + modeBrackets.maxBracketLength);\n\t\tfor (let i = tokenIndex + 1; i < tokenCount; i++) {\n\t\t\tconst tokenStartOffset = lineTokens.getStartOffset(i);\n\t\t\tif (tokenStartOffset >= searchEndOffset) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (ignoreBracketsInToken(lineTokens.getStandardTokenType(i)) || lineTokens.getLanguageId(i) !== currentLanguageId) {\n\t\t\t\tsearchEndOffset = tokenStartOffset;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn { searchStartOffset, searchEndOffset };\n\t}\n\n\tprivate _matchBracket(position: Position, continueSearchPredicate: ContinueBracketSearchPredicate): [Range, Range] | null {\n\t\tconst lineNumber = position.lineNumber;\n\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\tconst tokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\tif (tokenIndex < 0) {\n\t\t\treturn null;\n\t\t}\n\t\tconst currentModeBrackets = this.languageConfigurationService.getLanguageConfiguration(lineTokens.getLanguageId(tokenIndex)).brackets;\n\n\t\t// check that the token is not to be ignored\n\t\tif (currentModeBrackets && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex))) {\n\n\t\t\tlet { searchStartOffset, searchEndOffset } = this._establishBracketSearchOffsets(position, lineTokens, currentModeBrackets, tokenIndex);\n\n\t\t\t// it might be the case that [currentTokenStart -> currentTokenEnd] contains multiple brackets\n\t\t\t// `bestResult` will contain the most right-side result\n\t\t\tlet bestResult: [Range, Range] | null = null;\n\t\t\twhile (true) {\n\t\t\t\tconst foundBracket = BracketsUtils.findNextBracketInRange(currentModeBrackets.forwardRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (!foundBracket) {\n\t\t\t\t\t// there are no more brackets in this text\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\t// check that we didn't hit a bracket too far away from position\n\t\t\t\tif (foundBracket.startColumn <= position.column && position.column <= foundBracket.endColumn) {\n\t\t\t\t\tconst foundBracketText = lineText.substring(foundBracket.startColumn - 1, foundBracket.endColumn - 1).toLowerCase();\n\t\t\t\t\tconst r = this._matchFoundBracket(foundBracket, currentModeBrackets.textIsBracket[foundBracketText], currentModeBrackets.textIsOpenBracket[foundBracketText], continueSearchPredicate);\n\t\t\t\t\tif (r) {\n\t\t\t\t\t\tif (r instanceof BracketSearchCanceled) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbestResult = r;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsearchStartOffset = foundBracket.endColumn - 1;\n\t\t\t}\n\n\t\t\tif (bestResult) {\n\t\t\t\treturn bestResult;\n\t\t\t}\n\t\t}\n\n\t\t// If position is in between two tokens, try also looking in the previous token\n\t\tif (tokenIndex > 0 && lineTokens.getStartOffset(tokenIndex) === position.column - 1) {\n\t\t\tconst prevTokenIndex = tokenIndex - 1;\n\t\t\tconst prevModeBrackets = this.languageConfigurationService.getLanguageConfiguration(lineTokens.getLanguageId(prevTokenIndex)).brackets;\n\n\t\t\t// check that previous token is not to be ignored\n\t\t\tif (prevModeBrackets && !ignoreBracketsInToken(lineTokens.getStandardTokenType(prevTokenIndex))) {\n\n\t\t\t\tconst { searchStartOffset, searchEndOffset } = this._establishBracketSearchOffsets(position, lineTokens, prevModeBrackets, prevTokenIndex);\n\n\t\t\t\tconst foundBracket = BracketsUtils.findPrevBracketInRange(prevModeBrackets.reversedRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\n\t\t\t\t// check that we didn't hit a bracket too far away from position\n\t\t\t\tif (foundBracket && foundBracket.startColumn <= position.column && position.column <= foundBracket.endColumn) {\n\t\t\t\t\tconst foundBracketText = lineText.substring(foundBracket.startColumn - 1, foundBracket.endColumn - 1).toLowerCase();\n\t\t\t\t\tconst r = this._matchFoundBracket(foundBracket, prevModeBrackets.textIsBracket[foundBracketText], prevModeBrackets.textIsOpenBracket[foundBracketText], continueSearchPredicate);\n\t\t\t\t\tif (r) {\n\t\t\t\t\t\tif (r instanceof BracketSearchCanceled) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn r;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate _matchFoundBracket(foundBracket: Range, data: RichEditBracket, isOpen: boolean, continueSearchPredicate: ContinueBracketSearchPredicate): [Range, Range] | null | BracketSearchCanceled {\n\t\tif (!data) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst matched = (\n\t\t\tisOpen\n\t\t\t\t? this._findMatchingBracketDown(data, foundBracket.getEndPosition(), continueSearchPredicate)\n\t\t\t\t: this._findMatchingBracketUp(data, foundBracket.getStartPosition(), continueSearchPredicate)\n\t\t);\n\n\t\tif (!matched) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (matched instanceof BracketSearchCanceled) {\n\t\t\treturn matched;\n\t\t}\n\n\t\treturn [foundBracket, matched];\n\t}\n\n\tprivate _findMatchingBracketUp(bracket: RichEditBracket, position: Position, continueSearchPredicate: ContinueBracketSearchPredicate): Range | null | BracketSearchCanceled {\n\t\t// console.log('_findMatchingBracketUp: ', 'bracket: ', JSON.stringify(bracket), 'startPosition: ', String(position));\n\n\t\tconst languageId = bracket.languageId;\n\t\tconst reversedBracketRegex = bracket.reversedRegex;\n\t\tlet count = -1;\n\n\t\tlet totalCallCount = 0;\n\t\tconst searchPrevMatchingBracketInRange = (lineNumber: number, lineText: string, searchStartOffset: number, searchEndOffset: number): Range | null | BracketSearchCanceled => {\n\t\t\twhile (true) {\n\t\t\t\tif (continueSearchPredicate && (++totalCallCount) % 100 === 0 && !continueSearchPredicate()) {\n\t\t\t\t\treturn BracketSearchCanceled.INSTANCE;\n\t\t\t\t}\n\t\t\t\tconst r = BracketsUtils.findPrevBracketInRange(reversedBracketRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (!r) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tconst hitText = lineText.substring(r.startColumn - 1, r.endColumn - 1).toLowerCase();\n\t\t\t\tif (bracket.isOpen(hitText)) {\n\t\t\t\t\tcount++;\n\t\t\t\t} else if (bracket.isClose(hitText)) {\n\t\t\t\t\tcount--;\n\t\t\t\t}\n\n\t\t\t\tif (count === 0) {\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\n\t\t\t\tsearchEndOffset = r.startColumn - 1;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\n\t\tfor (let lineNumber = position.lineNumber; lineNumber >= 1; lineNumber--) {\n\t\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\t\tconst tokenCount = lineTokens.getCount();\n\t\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\t\tlet tokenIndex = tokenCount - 1;\n\t\t\tlet searchStartOffset = lineText.length;\n\t\t\tlet searchEndOffset = lineText.length;\n\t\t\tif (lineNumber === position.lineNumber) {\n\t\t\t\ttokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\t\t\tsearchStartOffset = position.column - 1;\n\t\t\t\tsearchEndOffset = position.column - 1;\n\t\t\t}\n\n\t\t\tlet prevSearchInToken = true;\n\t\t\tfor (; tokenIndex >= 0; tokenIndex--) {\n\t\t\t\tconst searchInToken = (lineTokens.getLanguageId(tokenIndex) === languageId && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex)));\n\n\t\t\t\tif (searchInToken) {\n\t\t\t\t\t// this token should be searched\n\t\t\t\t\tif (prevSearchInToken) {\n\t\t\t\t\t\t// the previous token should be searched, simply extend searchStartOffset\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// the previous token should not be searched\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this token should not be searched\n\t\t\t\t\tif (prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = searchPrevMatchingBracketInRange(lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn r;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevSearchInToken = searchInToken;\n\t\t\t}\n\n\t\t\tif (prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\tconst r = searchPrevMatchingBracketInRange(lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (r) {\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate _findMatchingBracketDown(bracket: RichEditBracket, position: Position, continueSearchPredicate: ContinueBracketSearchPredicate): Range | null | BracketSearchCanceled {\n\t\t// console.log('_findMatchingBracketDown: ', 'bracket: ', JSON.stringify(bracket), 'startPosition: ', String(position));\n\n\t\tconst languageId = bracket.languageId;\n\t\tconst bracketRegex = bracket.forwardRegex;\n\t\tlet count = 1;\n\n\t\tlet totalCallCount = 0;\n\t\tconst searchNextMatchingBracketInRange = (lineNumber: number, lineText: string, searchStartOffset: number, searchEndOffset: number): Range | null | BracketSearchCanceled => {\n\t\t\twhile (true) {\n\t\t\t\tif (continueSearchPredicate && (++totalCallCount) % 100 === 0 && !continueSearchPredicate()) {\n\t\t\t\t\treturn BracketSearchCanceled.INSTANCE;\n\t\t\t\t}\n\t\t\t\tconst r = BracketsUtils.findNextBracketInRange(bracketRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (!r) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tconst hitText = lineText.substring(r.startColumn - 1, r.endColumn - 1).toLowerCase();\n\t\t\t\tif (bracket.isOpen(hitText)) {\n\t\t\t\t\tcount++;\n\t\t\t\t} else if (bracket.isClose(hitText)) {\n\t\t\t\t\tcount--;\n\t\t\t\t}\n\n\t\t\t\tif (count === 0) {\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\n\t\t\t\tsearchStartOffset = r.endColumn - 1;\n\t\t\t}\n\n\t\t\treturn null;\n\t\t};\n\n\t\tconst lineCount = this.textModel.getLineCount();\n\t\tfor (let lineNumber = position.lineNumber; lineNumber <= lineCount; lineNumber++) {\n\t\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\t\tconst tokenCount = lineTokens.getCount();\n\t\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\t\tlet tokenIndex = 0;\n\t\t\tlet searchStartOffset = 0;\n\t\t\tlet searchEndOffset = 0;\n\t\t\tif (lineNumber === position.lineNumber) {\n\t\t\t\ttokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\t\t\tsearchStartOffset = position.column - 1;\n\t\t\t\tsearchEndOffset = position.column - 1;\n\t\t\t}\n\n\t\t\tlet prevSearchInToken = true;\n\t\t\tfor (; tokenIndex < tokenCount; tokenIndex++) {\n\t\t\t\tconst searchInToken = (lineTokens.getLanguageId(tokenIndex) === languageId && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex)));\n\n\t\t\t\tif (searchInToken) {\n\t\t\t\t\t// this token should be searched\n\t\t\t\t\tif (prevSearchInToken) {\n\t\t\t\t\t\t// the previous token should be searched, simply extend searchEndOffset\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// the previous token should not be searched\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this token should not be searched\n\t\t\t\t\tif (prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = searchNextMatchingBracketInRange(lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn r;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevSearchInToken = searchInToken;\n\t\t\t}\n\n\t\t\tif (prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\tconst r = searchNextMatchingBracketInRange(lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (r) {\n\t\t\t\t\treturn r;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic findPrevBracket(_position: IPosition): IFoundBracket | null {\n\t\tconst position = this.textModel.validatePosition(_position);\n\n\t\tif (this.canBuildAST) {\n\t\t\tthis.bracketsRequested = true;\n\t\t\tthis.updateBracketPairsTree();\n\t\t\treturn this.bracketPairsTree.value?.object.getFirstBracketBefore(position) || null;\n\t\t}\n\n\t\tlet languageId: string | null = null;\n\t\tlet modeBrackets: RichEditBrackets | null = null;\n\t\tlet bracketConfig: LanguageBracketsConfiguration | null = null;\n\t\tfor (let lineNumber = position.lineNumber; lineNumber >= 1; lineNumber--) {\n\t\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\t\tconst tokenCount = lineTokens.getCount();\n\t\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\t\tlet tokenIndex = tokenCount - 1;\n\t\t\tlet searchStartOffset = lineText.length;\n\t\t\tlet searchEndOffset = lineText.length;\n\t\t\tif (lineNumber === position.lineNumber) {\n\t\t\t\ttokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\t\t\tsearchStartOffset = position.column - 1;\n\t\t\t\tsearchEndOffset = position.column - 1;\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tbracketConfig = this.languageConfigurationService.getLanguageConfiguration(languageId).bracketsNew;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet prevSearchInToken = true;\n\t\t\tfor (; tokenIndex >= 0; tokenIndex--) {\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\t// language id change!\n\t\t\t\t\tif (modeBrackets && bracketConfig && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = BracketsUtils.findPrevBracketInRange(modeBrackets.reversedRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevSearchInToken = false;\n\t\t\t\t\t}\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tbracketConfig = this.languageConfigurationService.getLanguageConfiguration(languageId).bracketsNew;\n\t\t\t\t}\n\n\t\t\t\tconst searchInToken = (!!modeBrackets && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex)));\n\n\t\t\t\tif (searchInToken) {\n\t\t\t\t\t// this token should be searched\n\t\t\t\t\tif (prevSearchInToken) {\n\t\t\t\t\t\t// the previous token should be searched, simply extend searchStartOffset\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// the previous token should not be searched\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this token should not be searched\n\t\t\t\t\tif (bracketConfig && modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = BracketsUtils.findPrevBracketInRange(modeBrackets.reversedRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevSearchInToken = searchInToken;\n\t\t\t}\n\n\t\t\tif (bracketConfig && modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\tconst r = BracketsUtils.findPrevBracketInRange(modeBrackets.reversedRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (r) {\n\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic findNextBracket(_position: IPosition): IFoundBracket | null {\n\t\tconst position = this.textModel.validatePosition(_position);\n\n\t\tif (this.canBuildAST) {\n\t\t\tthis.bracketsRequested = true;\n\t\t\tthis.updateBracketPairsTree();\n\t\t\treturn this.bracketPairsTree.value?.object.getFirstBracketAfter(position) || null;\n\t\t}\n\n\t\tconst lineCount = this.textModel.getLineCount();\n\n\t\tlet languageId: string | null = null;\n\t\tlet modeBrackets: RichEditBrackets | null = null;\n\t\tlet bracketConfig: LanguageBracketsConfiguration | null = null;\n\t\tfor (let lineNumber = position.lineNumber; lineNumber <= lineCount; lineNumber++) {\n\t\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\t\tconst tokenCount = lineTokens.getCount();\n\t\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\t\tlet tokenIndex = 0;\n\t\t\tlet searchStartOffset = 0;\n\t\t\tlet searchEndOffset = 0;\n\t\t\tif (lineNumber === position.lineNumber) {\n\t\t\t\ttokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\t\t\tsearchStartOffset = position.column - 1;\n\t\t\t\tsearchEndOffset = position.column - 1;\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tbracketConfig = this.languageConfigurationService.getLanguageConfiguration(languageId).bracketsNew;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet prevSearchInToken = true;\n\t\t\tfor (; tokenIndex < tokenCount; tokenIndex++) {\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\t// language id change!\n\t\t\t\t\tif (bracketConfig && modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = BracketsUtils.findNextBracketInRange(modeBrackets.forwardRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevSearchInToken = false;\n\t\t\t\t\t}\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tbracketConfig = this.languageConfigurationService.getLanguageConfiguration(languageId).bracketsNew;\n\t\t\t\t}\n\n\t\t\t\tconst searchInToken = (!!modeBrackets && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex)));\n\t\t\t\tif (searchInToken) {\n\t\t\t\t\t// this token should be searched\n\t\t\t\t\tif (prevSearchInToken) {\n\t\t\t\t\t\t// the previous token should be searched, simply extend searchEndOffset\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// the previous token should not be searched\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this token should not be searched\n\t\t\t\t\tif (bracketConfig && modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = BracketsUtils.findNextBracketInRange(modeBrackets.forwardRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevSearchInToken = searchInToken;\n\t\t\t}\n\n\t\t\tif (bracketConfig && modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\tconst r = BracketsUtils.findNextBracketInRange(modeBrackets.forwardRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (r) {\n\t\t\t\t\treturn this._toFoundBracket(bracketConfig, r);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic findEnclosingBrackets(_position: IPosition, maxDuration?: number): [Range, Range] | null {\n\t\tconst position = this.textModel.validatePosition(_position);\n\n\t\tif (this.canBuildAST) {\n\t\t\tconst range = Range.fromPositions(position);\n\t\t\tconst bracketPair =\n\t\t\t\tthis.getBracketPairsInRange(Range.fromPositions(position, position)).findLast(\n\t\t\t\t\t(item) => item.closingBracketRange !== undefined && item.range.strictContainsRange(range)\n\t\t\t\t);\n\t\t\tif (bracketPair) {\n\t\t\t\treturn [bracketPair.openingBracketRange, bracketPair.closingBracketRange!];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tconst continueSearchPredicate = createTimeBasedContinueBracketSearchPredicate(maxDuration);\n\t\tconst lineCount = this.textModel.getLineCount();\n\t\tconst savedCounts = new Map<string, number[]>();\n\n\t\tlet counts: number[] = [];\n\t\tconst resetCounts = (languageId: string, modeBrackets: RichEditBrackets | null) => {\n\t\t\tif (!savedCounts.has(languageId)) {\n\t\t\t\tconst tmp = [];\n\t\t\t\tfor (let i = 0, len = modeBrackets ? modeBrackets.brackets.length : 0; i < len; i++) {\n\t\t\t\t\ttmp[i] = 0;\n\t\t\t\t}\n\t\t\t\tsavedCounts.set(languageId, tmp);\n\t\t\t}\n\t\t\tcounts = savedCounts.get(languageId)!;\n\t\t};\n\n\t\tlet totalCallCount = 0;\n\t\tconst searchInRange = (modeBrackets: RichEditBrackets, lineNumber: number, lineText: string, searchStartOffset: number, searchEndOffset: number): [Range, Range] | null | BracketSearchCanceled => {\n\t\t\twhile (true) {\n\t\t\t\tif (continueSearchPredicate && (++totalCallCount) % 100 === 0 && !continueSearchPredicate()) {\n\t\t\t\t\treturn BracketSearchCanceled.INSTANCE;\n\t\t\t\t}\n\t\t\t\tconst r = BracketsUtils.findNextBracketInRange(modeBrackets.forwardRegex, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (!r) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tconst hitText = lineText.substring(r.startColumn - 1, r.endColumn - 1).toLowerCase();\n\t\t\t\tconst bracket = modeBrackets.textIsBracket[hitText];\n\t\t\t\tif (bracket) {\n\t\t\t\t\tif (bracket.isOpen(hitText)) {\n\t\t\t\t\t\tcounts[bracket.index]++;\n\t\t\t\t\t} else if (bracket.isClose(hitText)) {\n\t\t\t\t\t\tcounts[bracket.index]--;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (counts[bracket.index] === -1) {\n\t\t\t\t\t\treturn this._matchFoundBracket(r, bracket, false, continueSearchPredicate);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsearchStartOffset = r.endColumn - 1;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\n\t\tlet languageId: string | null = null;\n\t\tlet modeBrackets: RichEditBrackets | null = null;\n\t\tfor (let lineNumber = position.lineNumber; lineNumber <= lineCount; lineNumber++) {\n\t\t\tconst lineTokens = this.textModel.tokenization.getLineTokens(lineNumber);\n\t\t\tconst tokenCount = lineTokens.getCount();\n\t\t\tconst lineText = this.textModel.getLineContent(lineNumber);\n\n\t\t\tlet tokenIndex = 0;\n\t\t\tlet searchStartOffset = 0;\n\t\t\tlet searchEndOffset = 0;\n\t\t\tif (lineNumber === position.lineNumber) {\n\t\t\t\ttokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n\t\t\t\tsearchStartOffset = position.column - 1;\n\t\t\t\tsearchEndOffset = position.column - 1;\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tresetCounts(languageId, modeBrackets);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet prevSearchInToken = true;\n\t\t\tfor (; tokenIndex < tokenCount; tokenIndex++) {\n\t\t\t\tconst tokenLanguageId = lineTokens.getLanguageId(tokenIndex);\n\n\t\t\t\tif (languageId !== tokenLanguageId) {\n\t\t\t\t\t// language id change!\n\t\t\t\t\tif (modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = searchInRange(modeBrackets, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn stripBracketSearchCanceled(r);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevSearchInToken = false;\n\t\t\t\t\t}\n\t\t\t\t\tlanguageId = tokenLanguageId;\n\t\t\t\t\tmodeBrackets = this.languageConfigurationService.getLanguageConfiguration(languageId).brackets;\n\t\t\t\t\tresetCounts(languageId, modeBrackets);\n\t\t\t\t}\n\n\t\t\t\tconst searchInToken = (!!modeBrackets && !ignoreBracketsInToken(lineTokens.getStandardTokenType(tokenIndex)));\n\t\t\t\tif (searchInToken) {\n\t\t\t\t\t// this token should be searched\n\t\t\t\t\tif (prevSearchInToken) {\n\t\t\t\t\t\t// the previous token should be searched, simply extend searchEndOffset\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// the previous token should not be searched\n\t\t\t\t\t\tsearchStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\t\t\t\tsearchEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// this token should not be searched\n\t\t\t\t\tif (modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\t\t\tconst r = searchInRange(modeBrackets, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\t\t\tif (r) {\n\t\t\t\t\t\t\treturn stripBracketSearchCanceled(r);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprevSearchInToken = searchInToken;\n\t\t\t}\n\n\t\t\tif (modeBrackets && prevSearchInToken && searchStartOffset !== searchEndOffset) {\n\t\t\t\tconst r = searchInRange(modeBrackets, lineNumber, lineText, searchStartOffset, searchEndOffset);\n\t\t\t\tif (r) {\n\t\t\t\t\treturn stripBracketSearchCanceled(r);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate _toFoundBracket(bracketConfig: LanguageBracketsConfiguration, r: Range): IFoundBracket | null {\n\t\tif (!r) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet text = this.textModel.getValueInRange(r);\n\t\ttext = text.toLowerCase();\n\n\t\tconst bracketInfo = bracketConfig.getBracketInfo(text);\n\t\tif (!bracketInfo) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\trange: r,\n\t\t\tbracketInfo\n\t\t};\n\t}\n}\n\nfunction createDisposableRef<T>(object: T, disposable?: IDisposable): IReference<T> {\n\treturn {\n\t\tobject,\n\t\tdispose: () => disposable?.dispose(),\n\t};\n}\n\ntype ContinueBracketSearchPredicate = (() => boolean);\n\nfunction createTimeBasedContinueBracketSearchPredicate(maxDuration: number | undefined): ContinueBracketSearchPredicate {\n\tif (typeof maxDuration === 'undefined') {\n\t\treturn () => true;\n\t} else {\n\t\tconst startTime = Date.now();\n\t\treturn () => {\n\t\t\treturn (Date.now() - startTime <= maxDuration);\n\t\t};\n\t}\n}\n\nclass BracketSearchCanceled {\n\tpublic static INSTANCE = new BracketSearchCanceled();\n\t_searchCanceledBrand = undefined;\n\tprivate constructor() { }\n}\n\nfunction stripBracketSearchCanceled<T>(result: T | null | BracketSearchCanceled): T | null {\n\tif (result instanceof BracketSearchCanceled) {\n\t\treturn null;\n\t}\n\treturn result;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}