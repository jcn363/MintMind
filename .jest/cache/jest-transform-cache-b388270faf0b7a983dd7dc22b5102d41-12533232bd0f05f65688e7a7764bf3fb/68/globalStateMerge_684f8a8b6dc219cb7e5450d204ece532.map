{"version":3,"names":["cov_16awo93wdg","actualCoverage","objects","SYNC_SERVICE_URL_TYPE","merge","localStorage","remoteStorage","baseStorage","storageKeys","logService","f","s","b","remote","added","Object","keys","removed","updated","all","length","local","localToRemote","compare","size","baseToRemote","reduce","r","k","add","Set","baseToLocal","deepClone","isFirstTimeSync","key","values","has","unregistered","includes","remoteValue","machine","info","localValue","value","trace","push","result","from","to","fromKeys","toKeys","filter","value1","value2","equals"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/userDataSync/common/globalStateMerge.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IStringDictionary } from '../../../base/common/collections.js';\nimport * as objects from '../../../base/common/objects.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { IStorageValue, SYNC_SERVICE_URL_TYPE } from './userDataSync.js';\n\nexport interface IMergeResult {\n\tlocal: { added: IStringDictionary<IStorageValue>; removed: string[]; updated: IStringDictionary<IStorageValue> };\n\tremote: { added: string[]; removed: string[]; updated: string[]; all: IStringDictionary<IStorageValue> | null };\n}\n\nexport function merge(localStorage: IStringDictionary<IStorageValue>, remoteStorage: IStringDictionary<IStorageValue> | null, baseStorage: IStringDictionary<IStorageValue> | null, storageKeys: { machine: ReadonlyArray<string>; unregistered: ReadonlyArray<string> }, logService: ILogService): IMergeResult {\n\tif (!remoteStorage) {\n\t\treturn { remote: { added: Object.keys(localStorage), removed: [], updated: [], all: Object.keys(localStorage).length > 0 ? localStorage : null }, local: { added: {}, removed: [], updated: {} } };\n\t}\n\n\tconst localToRemote = compare(localStorage, remoteStorage);\n\tif (localToRemote.added.size === 0 && localToRemote.removed.size === 0 && localToRemote.updated.size === 0) {\n\t\t// No changes found between local and remote.\n\t\treturn { remote: { added: [], removed: [], updated: [], all: null }, local: { added: {}, removed: [], updated: {} } };\n\t}\n\n\tconst baseToRemote = baseStorage ? compare(baseStorage, remoteStorage) : { added: Object.keys(remoteStorage).reduce((r, k) => { r.add(k); return r; }, new Set<string>()), removed: new Set<string>(), updated: new Set<string>() };\n\tconst baseToLocal = baseStorage ? compare(baseStorage, localStorage) : { added: Object.keys(localStorage).reduce((r, k) => { r.add(k); return r; }, new Set<string>()), removed: new Set<string>(), updated: new Set<string>() };\n\n\tconst local: { added: IStringDictionary<IStorageValue>; removed: string[]; updated: IStringDictionary<IStorageValue> } = { added: {}, removed: [], updated: {} };\n\tconst remote: IStringDictionary<IStorageValue> = objects.deepClone(remoteStorage);\n\n\tconst isFirstTimeSync = !baseStorage;\n\n\t// Added in local\n\tfor (const key of baseToLocal.added.values()) {\n\t\t// If syncing for first time remote value gets precedence always,\n\t\t// except for sync service type key - local value takes precedence for this key\n\t\tif (key !== SYNC_SERVICE_URL_TYPE && isFirstTimeSync && baseToRemote.added.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tremote[key] = localStorage[key];\n\t}\n\n\t// Updated in local\n\tfor (const key of baseToLocal.updated.values()) {\n\t\tremote[key] = localStorage[key];\n\t}\n\n\t// Removed in local\n\tfor (const key of baseToLocal.removed.values()) {\n\t\t// Do not remove from remote if key is not registered.\n\t\tif (storageKeys.unregistered.includes(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\tdelete remote[key];\n\t}\n\n\t// Added in remote\n\tfor (const key of baseToRemote.added.values()) {\n\t\tconst remoteValue = remoteStorage[key];\n\t\tif (storageKeys.machine.includes(key)) {\n\t\t\tlogService.info(`GlobalState: Skipped adding ${key} in local storage because it is declared as machine scoped.`);\n\t\t\tcontinue;\n\t\t}\n\t\t// Skip if the value is also added in local from the time it is last synced\n\t\tif (baseStorage && baseToLocal.added.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst localValue = localStorage[key];\n\t\tif (localValue && localValue.value === remoteValue.value) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Local sync service type value takes precedence if syncing for first time\n\t\tif (key === SYNC_SERVICE_URL_TYPE && isFirstTimeSync && baseToLocal.added.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (localValue) {\n\t\t\tlocal.updated[key] = remoteValue;\n\t\t} else {\n\t\t\tlocal.added[key] = remoteValue;\n\t\t}\n\t}\n\n\t// Updated in Remote\n\tfor (const key of baseToRemote.updated.values()) {\n\t\tconst remoteValue = remoteStorage[key];\n\t\tif (storageKeys.machine.includes(key)) {\n\t\t\tlogService.info(`GlobalState: Skipped updating ${key} in local storage because it is declared as machine scoped.`);\n\t\t\tcontinue;\n\t\t}\n\t\t// Skip if the value is also updated or removed in local\n\t\tif (baseToLocal.updated.has(key) || baseToLocal.removed.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst localValue = localStorage[key];\n\t\tif (localValue && localValue.value === remoteValue.value) {\n\t\t\tcontinue;\n\t\t}\n\t\tlocal.updated[key] = remoteValue;\n\t}\n\n\t// Removed in remote\n\tfor (const key of baseToRemote.removed.values()) {\n\t\tif (storageKeys.machine.includes(key)) {\n\t\t\tlogService.trace(`GlobalState: Skipped removing ${key} in local storage because it is declared as machine scoped.`);\n\t\t\tcontinue;\n\t\t}\n\t\t// Skip if the value is also updated or removed in local\n\t\tif (baseToLocal.updated.has(key) || baseToLocal.removed.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\tlocal.removed.push(key);\n\t}\n\n\tconst result = compare(remoteStorage, remote);\n\treturn { local, remote: { added: [...result.added], updated: [...result.updated], removed: [...result.removed], all: result.added.size === 0 && result.removed.size === 0 && result.updated.size === 0 ? null : remote } };\n}\n\nfunction compare(from: IStringDictionary<any>, to: IStringDictionary<any>): { added: Set<string>; removed: Set<string>; updated: Set<string> } {\n\tconst fromKeys = Object.keys(from);\n\tconst toKeys = Object.keys(to);\n\tconst added = toKeys.filter(key => !fromKeys.includes(key)).reduce((r, key) => { r.add(key); return r; }, new Set<string>());\n\tconst removed = fromKeys.filter(key => !toKeys.includes(key)).reduce((r, key) => { r.add(key); return r; }, new Set<string>());\n\tconst updated: Set<string> = new Set<string>();\n\n\tfor (const key of fromKeys) {\n\t\tif (removed.has(key)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst value1 = from[key];\n\t\tconst value2 = to[key];\n\t\tif (!objects.equals(value1, value2)) {\n\t\t\tupdated.add(key);\n\t\t}\n\t}\n\n\treturn { added, removed, updated };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}