{"version":3,"names":["cov_1bc0o5s2r1","actualCoverage","getActiveWindow","observableValue","observableSignal","AnimatedValue","startValue","endValue","durationMs","_interpolationFunction","const","value","f","s","startTimeMs","Date","now","constructor","b","easeOutExpo","isFinished","getValue","timePassed","passedTime","start","length","totalDuration","Math","pow","easeOutCubic","linear","ObservableAnimatedValue","_value","initialValue","setAnimation","tx","set","changeAnimation","fn","get","reader","read","AnimationFrameScheduler","instance","invalidateOnNextAnimationFrame","_counter","_isScheduled","requestAnimationFrame","_update","trigger","undefined"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/animation.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveWindow } from '../../../../../base/browser/dom.js';\nimport { ISettableObservable, observableValue, ITransaction, IReader, observableSignal } from '../../../../../base/common/observable.js';\n\nexport class AnimatedValue {\n\tpublic static const(value: number): AnimatedValue {\n\t\treturn new AnimatedValue(value, value, 0);\n\t}\n\n\tpublic readonly startTimeMs = Date.now();\n\n\tconstructor(\n\t\tpublic readonly startValue: number,\n\t\tpublic readonly endValue: number,\n\t\tpublic readonly durationMs: number,\n\t\tprivate readonly _interpolationFunction: InterpolationFunction = easeOutExpo,\n\t) {\n\t\tif (startValue === endValue) {\n\t\t\tthis.durationMs = 0;\n\t\t}\n\t}\n\n\tisFinished(): boolean {\n\t\treturn Date.now() >= this.startTimeMs + this.durationMs;\n\t}\n\n\tgetValue(): number {\n\t\tconst timePassed = Date.now() - this.startTimeMs;\n\t\tif (timePassed >= this.durationMs) {\n\t\t\treturn this.endValue;\n\t\t}\n\t\tconst value = this._interpolationFunction(timePassed, this.startValue, this.endValue - this.startValue, this.durationMs);\n\t\treturn value;\n\t}\n}\n\ntype InterpolationFunction = (passedTime: number, start: number, length: number, totalDuration: number) => number;\n\nexport function easeOutExpo(passedTime: number, start: number, length: number, totalDuration: number): number {\n\treturn passedTime === totalDuration\n\t\t? start + length\n\t\t: length * (-Math.pow(2, -10 * passedTime / totalDuration) + 1) + start;\n}\n\nexport function easeOutCubic(passedTime: number, start: number, length: number, totalDuration: number): number {\n\treturn length * ((passedTime = passedTime / totalDuration - 1) * passedTime * passedTime + 1) + start;\n}\n\nexport function linear(passedTime: number, start: number, length: number, totalDuration: number): number {\n\treturn length * passedTime / totalDuration + start;\n}\n\nexport class ObservableAnimatedValue {\n\tpublic static const(value: number): ObservableAnimatedValue {\n\t\treturn new ObservableAnimatedValue(AnimatedValue.const(value));\n\t}\n\n\tprivate readonly _value: ISettableObservable<AnimatedValue>;\n\n\tconstructor(\n\t\tinitialValue: AnimatedValue,\n\t) {\n\t\tthis._value = observableValue(this, initialValue);\n\t}\n\n\tsetAnimation(value: AnimatedValue, tx: ITransaction | undefined): void {\n\t\tthis._value.set(value, tx);\n\t}\n\n\tchangeAnimation(fn: (prev: AnimatedValue) => AnimatedValue, tx: ITransaction | undefined): void {\n\t\tconst value = fn(this._value.get());\n\t\tthis._value.set(value, tx);\n\t}\n\n\tgetValue(reader: IReader | undefined): number {\n\t\tconst value = this._value.read(reader);\n\t\tif (!value.isFinished()) {\n\t\t\tAnimationFrameScheduler.instance.invalidateOnNextAnimationFrame(reader);\n\t\t}\n\t\treturn value.getValue();\n\t}\n}\n\nexport class AnimationFrameScheduler {\n\tpublic static instance = new AnimationFrameScheduler();\n\n\tprivate readonly _counter = observableSignal(this);\n\n\tprivate _isScheduled = false;\n\n\tpublic invalidateOnNextAnimationFrame(reader: IReader | undefined): void {\n\t\tthis._counter.read(reader);\n\t\tif (!this._isScheduled) {\n\t\t\tthis._isScheduled = true;\n\t\t\tgetActiveWindow().requestAnimationFrame(() => {\n\t\t\t\tthis._isScheduled = false;\n\t\t\t\tthis._update();\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate _update(): void {\n\t\tthis._counter.trigger(undefined);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}