{"version":3,"names":["cov_up3wg0tuo","actualCoverage","LcsDiff","getLeadingWhitespace","Range","TextReplacement","GhostText","GhostTextPart","singleTextRemoveCommonPrefix","computeGhostText","edit","model","mode","cursorPosition","previewSuffixLength","b","f","e","s","range","endLineNumber","startLineNumber","undefined","sourceLine","getLineContent","sourceIndentationLength","length","suggestionTouchesIndentation","startColumn","suggestionAddedIndentationLength","text","replacedIndentation","substring","startPosition","endPosition","getStartPosition","getEndPosition","newStartPosition","column","delta","rangeThatDoesNotReplaceIndentation","fromPositions","suggestionWithoutIndentationChange","startsWith","valueToBeReplaced","getValueInRange","changes","cachingDiff","lineNumber","parts","Array","filteredChanges","filter","c","originalLength","originalStart","previewStartInCompletionText","insertColumn","modifiedLength","modifiedEnd","modifiedStart","nonPreviewTextEnd","Math","max","min","nonPreviewText","italicText","push","lastRequest","originalValue","newValue","smartDiff","deletedChars","deletedCharacters","newChanges","sum","smartBracketMatching","getMaxCharCode","val","maxCharCode","i","len","charCode","charCodeAt","getUniqueCharCode","id","Error","getElements","source","level","group","characters","Int32Array","elements1","elements2","ComputeDiff"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/computeGhostText.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDiffChange, LcsDiff } from '../../../../../base/common/diff/diff.js';\nimport { getLeadingWhitespace } from '../../../../../base/common/strings.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { TextReplacement } from '../../../../common/core/edits/textEdit.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { GhostText, GhostTextPart } from './ghostText.js';\nimport { singleTextRemoveCommonPrefix } from './singleTextEditHelpers.js';\n\n/**\n * @param previewSuffixLength Sets where to split `inlineCompletion.text`.\n * \tIf the text is `hello` and the suffix length is 2, the non-preview part is `hel` and the preview-part is `lo`.\n*/\nexport function computeGhostText(\n\tedit: TextReplacement,\n\tmodel: ITextModel,\n\tmode: 'prefix' | 'subword' | 'subwordSmart',\n\tcursorPosition?: Position,\n\tpreviewSuffixLength = 0\n): GhostText | undefined {\n\tlet e = singleTextRemoveCommonPrefix(edit, model);\n\n\tif (e.range.endLineNumber !== e.range.startLineNumber) {\n\t\t// This edit might span multiple lines, but the first lines must be a common prefix.\n\t\treturn undefined;\n\t}\n\n\tconst sourceLine = model.getLineContent(e.range.startLineNumber);\n\tconst sourceIndentationLength = getLeadingWhitespace(sourceLine).length;\n\n\tconst suggestionTouchesIndentation = e.range.startColumn - 1 <= sourceIndentationLength;\n\tif (suggestionTouchesIndentation) {\n\t\t// source:      ··········[······abc]\n\t\t//                         ^^^^^^^^^ inlineCompletion.range\n\t\t//              ^^^^^^^^^^ ^^^^^^ sourceIndentationLength\n\t\t//                         ^^^^^^ replacedIndentation.length\n\t\t//                               ^^^ rangeThatDoesNotReplaceIndentation\n\t\t// inlineCompletion.text: '··foo'\n\t\t//                         ^^ suggestionAddedIndentationLength\n\t\tconst suggestionAddedIndentationLength = getLeadingWhitespace(e.text).length;\n\n\t\tconst replacedIndentation = sourceLine.substring(e.range.startColumn - 1, sourceIndentationLength);\n\n\t\tconst [startPosition, endPosition] = [e.range.getStartPosition(), e.range.getEndPosition()];\n\t\tconst newStartPosition = startPosition.column + replacedIndentation.length <= endPosition.column\n\t\t\t? startPosition.delta(0, replacedIndentation.length)\n\t\t\t: endPosition;\n\t\tconst rangeThatDoesNotReplaceIndentation = Range.fromPositions(newStartPosition, endPosition);\n\n\t\tconst suggestionWithoutIndentationChange = e.text.startsWith(replacedIndentation)\n\t\t\t// Adds more indentation without changing existing indentation: We can add ghost text for this\n\t\t\t? e.text.substring(replacedIndentation.length)\n\t\t\t// Changes or removes existing indentation. Only add ghost text for the non-indentation part.\n\t\t\t: e.text.substring(suggestionAddedIndentationLength);\n\n\t\te = new TextReplacement(rangeThatDoesNotReplaceIndentation, suggestionWithoutIndentationChange);\n\t}\n\n\t// This is a single line string\n\tconst valueToBeReplaced = model.getValueInRange(e.range);\n\n\tconst changes = cachingDiff(valueToBeReplaced, e.text);\n\n\tif (!changes) {\n\t\t// No ghost text in case the diff would be too slow to compute\n\t\treturn undefined;\n\t}\n\n\tconst lineNumber = e.range.startLineNumber;\n\n\tconst parts = new Array<GhostTextPart>();\n\n\tif (mode === 'prefix') {\n\t\tconst filteredChanges = changes.filter(c => c.originalLength === 0);\n\t\tif (filteredChanges.length > 1 || filteredChanges.length === 1 && filteredChanges[0].originalStart !== valueToBeReplaced.length) {\n\t\t\t// Prefixes only have a single change.\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tconst previewStartInCompletionText = e.text.length - previewSuffixLength;\n\n\tfor (const c of changes) {\n\t\tconst insertColumn = e.range.startColumn + c.originalStart + c.originalLength;\n\n\t\tif (mode === 'subwordSmart' && cursorPosition && cursorPosition.lineNumber === e.range.startLineNumber && insertColumn < cursorPosition.column) {\n\t\t\t// No ghost text before cursor\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (c.originalLength > 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (c.modifiedLength === 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst modifiedEnd = c.modifiedStart + c.modifiedLength;\n\t\tconst nonPreviewTextEnd = Math.max(c.modifiedStart, Math.min(modifiedEnd, previewStartInCompletionText));\n\t\tconst nonPreviewText = e.text.substring(c.modifiedStart, nonPreviewTextEnd);\n\t\tconst italicText = e.text.substring(nonPreviewTextEnd, Math.max(c.modifiedStart, modifiedEnd));\n\n\t\tif (nonPreviewText.length > 0) {\n\t\t\tparts.push(new GhostTextPart(insertColumn, nonPreviewText, false));\n\t\t}\n\t\tif (italicText.length > 0) {\n\t\t\tparts.push(new GhostTextPart(insertColumn, italicText, true));\n\t\t}\n\t}\n\n\treturn new GhostText(lineNumber, parts);\n}\n\nlet lastRequest: { originalValue: string; newValue: string; changes: readonly IDiffChange[] | undefined } | undefined = undefined;\nfunction cachingDiff(originalValue: string, newValue: string): readonly IDiffChange[] | undefined {\n\tif (lastRequest?.originalValue === originalValue && lastRequest?.newValue === newValue) {\n\t\treturn lastRequest?.changes;\n\t} else {\n\t\tlet changes = smartDiff(originalValue, newValue, true);\n\t\tif (changes) {\n\t\t\tconst deletedChars = deletedCharacters(changes);\n\t\t\tif (deletedChars > 0) {\n\t\t\t\t// For performance reasons, don't compute diff if there is nothing to improve\n\t\t\t\tconst newChanges = smartDiff(originalValue, newValue, false);\n\t\t\t\tif (newChanges && deletedCharacters(newChanges) < deletedChars) {\n\t\t\t\t\t// Disabling smartness seems to be better here\n\t\t\t\t\tchanges = newChanges;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlastRequest = {\n\t\t\toriginalValue,\n\t\t\tnewValue,\n\t\t\tchanges\n\t\t};\n\t\treturn changes;\n\t}\n}\n\nfunction deletedCharacters(changes: readonly IDiffChange[]): number {\n\tlet sum = 0;\n\tfor (const c of changes) {\n\t\tsum += c.originalLength;\n\t}\n\treturn sum;\n}\n\n/**\n * When matching `if ()` with `if (f() = 1) { g(); }`,\n * align it like this:        `if (       )`\n * Not like this:\t\t\t  `if (  )`\n * Also not like this:\t\t  `if (             )`.\n *\n * The parenthesis are preprocessed to ensure that they match correctly.\n */\nexport function smartDiff(originalValue: string, newValue: string, smartBracketMatching: boolean): (readonly IDiffChange[]) | undefined {\n\tif (originalValue.length > 5000 || newValue.length > 5000) {\n\t\t// We don't want to work on strings that are too big\n\t\treturn undefined;\n\t}\n\n\tfunction getMaxCharCode(val: string): number {\n\t\tlet maxCharCode = 0;\n\t\tfor (let i = 0, len = val.length; i < len; i++) {\n\t\t\tconst charCode = val.charCodeAt(i);\n\t\t\tif (charCode > maxCharCode) {\n\t\t\t\tmaxCharCode = charCode;\n\t\t\t}\n\t\t}\n\t\treturn maxCharCode;\n\t}\n\n\tconst maxCharCode = Math.max(getMaxCharCode(originalValue), getMaxCharCode(newValue));\n\tfunction getUniqueCharCode(id: number): number {\n\t\tif (id < 0) {\n\t\t\tthrow new Error('unexpected');\n\t\t}\n\t\treturn maxCharCode + id + 1;\n\t}\n\n\tfunction getElements(source: string): Int32Array {\n\t\tlet level = 0;\n\t\tlet group = 0;\n\t\tconst characters = new Int32Array(source.length);\n\t\tfor (let i = 0, len = source.length; i < len; i++) {\n\t\t\t// TODO support more brackets\n\t\t\tif (smartBracketMatching && source[i] === '(') {\n\t\t\t\tconst id = group * 100 + level;\n\t\t\t\tcharacters[i] = getUniqueCharCode(2 * id);\n\t\t\t\tlevel++;\n\t\t\t} else if (smartBracketMatching && source[i] === ')') {\n\t\t\t\tlevel = Math.max(level - 1, 0);\n\t\t\t\tconst id = group * 100 + level;\n\t\t\t\tcharacters[i] = getUniqueCharCode(2 * id + 1);\n\t\t\t\tif (level === 0) {\n\t\t\t\t\tgroup++;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcharacters[i] = source.charCodeAt(i);\n\t\t\t}\n\t\t}\n\t\treturn characters;\n\t}\n\n\tconst elements1 = getElements(originalValue);\n\tconst elements2 = getElements(newValue);\n\n\treturn new LcsDiff({ getElements: () => elements1 }, { getElements: () => elements2 }).ComputeDiff(false).changes;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBS;IAAAA,aAAA,YA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","ignoreList":[]}