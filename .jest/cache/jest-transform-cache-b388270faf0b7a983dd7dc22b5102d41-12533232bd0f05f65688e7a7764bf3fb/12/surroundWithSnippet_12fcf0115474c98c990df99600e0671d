eb1292681cf3638328a0acdf97467f5a
/* istanbul ignore next */
function cov_6fbo3pxia() {
  var path = "/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet.ts";
  var hash = "d70568d52ecb4fd8868abf9d2e9f733c855599a0";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet.ts",
    statementMap: {
      "0": {
        start: {
          line: 15,
          column: 35
        },
        end: {
          line: 15,
          column: 43
        }
      },
      "1": {
        start: {
          line: 16,
          column: 4
        },
        end: {
          line: 16,
          column: 51
        }
      },
      "2": {
        start: {
          line: 17,
          column: 23
        },
        end: {
          line: 17,
          column: 72
        }
      },
      "3": {
        start: {
          line: 18,
          column: 24
        },
        end: {
          line: 18,
          column: 129
        }
      },
      "4": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 19,
          column: 64
        }
      },
      "5": {
        start: {
          line: 19,
          column: 41
        },
        end: {
          line: 19,
          column: 62
        }
      },
      "6": {
        start: {
          line: 22,
          column: 21
        },
        end: {
          line: 25,
          column: 5
        }
      },
      "7": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 31,
          column: 11
        }
      },
      "8": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 36,
          column: 9
        }
      },
      "9": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 35,
          column: 19
        }
      },
      "10": {
        start: {
          line: 37,
          column: 29
        },
        end: {
          line: 37,
          column: 64
        }
      },
      "11": {
        start: {
          line: 38,
          column: 32
        },
        end: {
          line: 38,
          column: 62
        }
      },
      "12": {
        start: {
          line: 39,
          column: 33
        },
        end: {
          line: 39,
          column: 64
        }
      },
      "13": {
        start: {
          line: 40,
          column: 25
        },
        end: {
          line: 40,
          column: 118
        }
      },
      "14": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "15": {
        start: {
          line: 42,
          column: 12
        },
        end: {
          line: 42,
          column: 19
        }
      },
      "16": {
        start: {
          line: 44,
          column: 24
        },
        end: {
          line: 44,
          column: 80
        }
      },
      "17": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 47,
          column: 9
        }
      },
      "18": {
        start: {
          line: 46,
          column: 12
        },
        end: {
          line: 46,
          column: 19
        }
      },
      "19": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 51,
          column: 9
        }
      },
      "20": {
        start: {
          line: 50,
          column: 12
        },
        end: {
          line: 50,
          column: 62
        }
      },
      "21": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 52,
          column: 23
        }
      },
      "22": {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 87
        }
      },
      "23": {
        start: {
          line: 54,
          column: 8
        },
        end: {
          line: 54,
          column: 54
        }
      }
    },
    fnMap: {
      "0": {
        name: "getSurroundableSnippets",
        decl: {
          start: {
            line: 14,
            column: 22
          },
          end: {
            line: 14,
            column: 45
          }
        },
        loc: {
          start: {
            line: 14,
            column: 105
          },
          end: {
            line: 20,
            column: 1
          }
        },
        line: 14
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 19,
            column: 30
          },
          end: {
            line: 19,
            column: 31
          }
        },
        loc: {
          start: {
            line: 19,
            column: 41
          },
          end: {
            line: 19,
            column: 62
          }
        },
        line: 19
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 26,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        loc: {
          start: {
            line: 26,
            column: 18
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 26
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 33,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        loc: {
          start: {
            line: 33,
            column: 45
          },
          end: {
            line: 55,
            column: 5
          }
        },
        line: 33
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 36,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "1": {
        loc: {
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 41,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 41
      },
      "2": {
        loc: {
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 47,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 47,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "3": {
        loc: {
          start: {
            line: 49,
            column: 8
          },
          end: {
            line: 51,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 49,
            column: 8
          },
          end: {
            line: 51,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 49
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0]
    },
    inputSourceMap: {
      file: "/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet.ts",
      mappings: "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",
      names: [],
      sources: ["/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet.ts"],
      sourcesContent: ["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { EditorContextKeys } from '../../../../../editor/common/editorContextKeys.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { SnippetEditorAction } from './abstractSnippetsActions.js';\nimport { pickSnippet } from '../snippetPicker.js';\nimport { Snippet } from '../snippetsFile.js';\nimport { ISnippetsService } from '../snippets.js';\nimport { localize2 } from '../../../../../nls.js';\n\nexport async function getSurroundableSnippets(snippetsService: ISnippetsService, model: ITextModel, position: Position, includeDisabledSnippets: boolean): Promise<Snippet[]> {\n\n\tconst { lineNumber, column } = position;\n\tmodel.tokenization.tokenizeIfCheap(lineNumber);\n\tconst languageId = model.getLanguageIdAtPosition(lineNumber, column);\n\n\tconst allSnippets = await snippetsService.getSnippets(languageId, { includeNoPrefixSnippets: true, includeDisabledSnippets });\n\treturn allSnippets.filter(snippet => snippet.usesSelection);\n}\n\nexport class SurroundWithSnippetEditorAction extends SnippetEditorAction {\n\n\tstatic readonly options = {\n\t\tid: 'editor.action.surroundWithSnippet',\n\t\ttitle: localize2('label', \"Surround with Snippet...\")\n\t};\n\n\tconstructor() {\n\t\tsuper({\n\t\t\t...SurroundWithSnippetEditorAction.options,\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.writable,\n\t\t\t\tEditorContextKeys.hasNonEmptySelection\n\t\t\t),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst snippetsService = accessor.get(ISnippetsService);\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\n\t\tconst snippets = await getSurroundableSnippets(snippetsService, editor.getModel(), editor.getPosition(), true);\n\t\tif (!snippets.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst snippet = await instaService.invokeFunction(pickSnippet, snippets);\n\t\tif (!snippet) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet clipboardText: string | undefined;\n\t\tif (snippet.needsClipboard) {\n\t\t\tclipboardText = await clipboardService.readText();\n\t\t}\n\n\t\teditor.focus();\n\t\tSnippetController2.get(editor)?.insert(snippet.codeSnippet, { clipboardText });\n\t\tsnippetsService.updateUsageTimestamp(snippet);\n\t}\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "d70568d52ecb4fd8868abf9d2e9f733c855599a0"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_6fbo3pxia = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_6fbo3pxia();
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
import { EditorContextKeys } from '../../../../../editor/common/editorContextKeys.js';
import { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';
import { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';
import { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';
import { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';
import { SnippetEditorAction } from './abstractSnippetsActions.js';
import { pickSnippet } from '../snippetPicker.js';
import { ISnippetsService } from '../snippets.js';
import { localize2 } from '../../../../../nls.js';
export async function getSurroundableSnippets(snippetsService, model, position, includeDisabledSnippets) {
  /* istanbul ignore next */
  cov_6fbo3pxia().f[0]++;
  const {
    lineNumber,
    column
  } =
  /* istanbul ignore next */
  (cov_6fbo3pxia().s[0]++, position);
  /* istanbul ignore next */
  cov_6fbo3pxia().s[1]++;
  model.tokenization.tokenizeIfCheap(lineNumber);
  const languageId =
  /* istanbul ignore next */
  (cov_6fbo3pxia().s[2]++, model.getLanguageIdAtPosition(lineNumber, column));
  const allSnippets =
  /* istanbul ignore next */
  (cov_6fbo3pxia().s[3]++, await snippetsService.getSnippets(languageId, {
    includeNoPrefixSnippets: true,
    includeDisabledSnippets
  }));
  /* istanbul ignore next */
  cov_6fbo3pxia().s[4]++;
  return allSnippets.filter(snippet => {
    /* istanbul ignore next */
    cov_6fbo3pxia().f[1]++;
    cov_6fbo3pxia().s[5]++;
    return snippet.usesSelection;
  });
}
export class SurroundWithSnippetEditorAction extends SnippetEditorAction {
  static options =
  /* istanbul ignore next */
  (cov_6fbo3pxia().s[6]++, {
    id: 'editor.action.surroundWithSnippet',
    title: localize2('label', "Surround with Snippet...")
  });
  constructor() {
    /* istanbul ignore next */
    cov_6fbo3pxia().f[2]++;
    cov_6fbo3pxia().s[7]++;
    super({
      ...SurroundWithSnippetEditorAction.options,
      precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasNonEmptySelection),
      f1: true
    });
  }
  async runEditorCommand(accessor, editor) {
    /* istanbul ignore next */
    cov_6fbo3pxia().f[3]++;
    cov_6fbo3pxia().s[8]++;
    if (!editor.hasModel()) {
      /* istanbul ignore next */
      cov_6fbo3pxia().b[0][0]++;
      cov_6fbo3pxia().s[9]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_6fbo3pxia().b[0][1]++;
    }
    const instaService =
    /* istanbul ignore next */
    (cov_6fbo3pxia().s[10]++, accessor.get(IInstantiationService));
    const snippetsService =
    /* istanbul ignore next */
    (cov_6fbo3pxia().s[11]++, accessor.get(ISnippetsService));
    const clipboardService =
    /* istanbul ignore next */
    (cov_6fbo3pxia().s[12]++, accessor.get(IClipboardService));
    const snippets =
    /* istanbul ignore next */
    (cov_6fbo3pxia().s[13]++, await getSurroundableSnippets(snippetsService, editor.getModel(), editor.getPosition(), true));
    /* istanbul ignore next */
    cov_6fbo3pxia().s[14]++;
    if (!snippets.length) {
      /* istanbul ignore next */
      cov_6fbo3pxia().b[1][0]++;
      cov_6fbo3pxia().s[15]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_6fbo3pxia().b[1][1]++;
    }
    const snippet =
    /* istanbul ignore next */
    (cov_6fbo3pxia().s[16]++, await instaService.invokeFunction(pickSnippet, snippets));
    /* istanbul ignore next */
    cov_6fbo3pxia().s[17]++;
    if (!snippet) {
      /* istanbul ignore next */
      cov_6fbo3pxia().b[2][0]++;
      cov_6fbo3pxia().s[18]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_6fbo3pxia().b[2][1]++;
    }
    let clipboardText;
    /* istanbul ignore next */
    cov_6fbo3pxia().s[19]++;
    if (snippet.needsClipboard) {
      /* istanbul ignore next */
      cov_6fbo3pxia().b[3][0]++;
      cov_6fbo3pxia().s[20]++;
      clipboardText = await clipboardService.readText();
    } else
    /* istanbul ignore next */
    {
      cov_6fbo3pxia().b[3][1]++;
    }
    cov_6fbo3pxia().s[21]++;
    editor.focus();
    /* istanbul ignore next */
    cov_6fbo3pxia().s[22]++;
    SnippetController2.get(editor)?.insert(snippet.codeSnippet, {
      clipboardText
    });
    /* istanbul ignore next */
    cov_6fbo3pxia().s[23]++;
    snippetsService.updateUsageTimestamp(snippet);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfNmZibzNweGlhIiwiYWN0dWFsQ292ZXJhZ2UiLCJFZGl0b3JDb250ZXh0S2V5cyIsIlNuaXBwZXRDb250cm9sbGVyMiIsIklDbGlwYm9hcmRTZXJ2aWNlIiwiQ29udGV4dEtleUV4cHIiLCJJSW5zdGFudGlhdGlvblNlcnZpY2UiLCJTbmlwcGV0RWRpdG9yQWN0aW9uIiwicGlja1NuaXBwZXQiLCJJU25pcHBldHNTZXJ2aWNlIiwibG9jYWxpemUyIiwiZ2V0U3Vycm91bmRhYmxlU25pcHBldHMiLCJzbmlwcGV0c1NlcnZpY2UiLCJtb2RlbCIsInBvc2l0aW9uIiwiaW5jbHVkZURpc2FibGVkU25pcHBldHMiLCJmIiwibGluZU51bWJlciIsImNvbHVtbiIsInMiLCJ0b2tlbml6YXRpb24iLCJ0b2tlbml6ZUlmQ2hlYXAiLCJsYW5ndWFnZUlkIiwiZ2V0TGFuZ3VhZ2VJZEF0UG9zaXRpb24iLCJhbGxTbmlwcGV0cyIsImdldFNuaXBwZXRzIiwiaW5jbHVkZU5vUHJlZml4U25pcHBldHMiLCJmaWx0ZXIiLCJzbmlwcGV0IiwidXNlc1NlbGVjdGlvbiIsIlN1cnJvdW5kV2l0aFNuaXBwZXRFZGl0b3JBY3Rpb24iLCJvcHRpb25zIiwiaWQiLCJ0aXRsZSIsImNvbnN0cnVjdG9yIiwicHJlY29uZGl0aW9uIiwiYW5kIiwid3JpdGFibGUiLCJoYXNOb25FbXB0eVNlbGVjdGlvbiIsImYxIiwicnVuRWRpdG9yQ29tbWFuZCIsImFjY2Vzc29yIiwiZWRpdG9yIiwiaGFzTW9kZWwiLCJiIiwiaW5zdGFTZXJ2aWNlIiwiZ2V0IiwiY2xpcGJvYXJkU2VydmljZSIsInNuaXBwZXRzIiwiZ2V0TW9kZWwiLCJnZXRQb3NpdGlvbiIsImxlbmd0aCIsImludm9rZUZ1bmN0aW9uIiwiY2xpcGJvYXJkVGV4dCIsIm5lZWRzQ2xpcGJvYXJkIiwicmVhZFRleHQiLCJmb2N1cyIsImluc2VydCIsImNvZGVTbmlwcGV0IiwidXBkYXRlVXNhZ2VUaW1lc3RhbXAiXSwic291cmNlcyI6WyIvaG9tZS91c2VyL0Rlc2t0b3AvTWludE1pbmQvc3JjL3ZzL3dvcmtiZW5jaC9jb250cmliL3NuaXBwZXRzL2Jyb3dzZXIvY29tbWFuZHMvc3Vycm91bmRXaXRoU25pcHBldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuaW1wb3J0IHsgSUNvZGVFZGl0b3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9lZGl0b3IvYnJvd3Nlci9lZGl0b3JCcm93c2VyLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZWRpdG9yL2NvbW1vbi9jb3JlL3Bvc2l0aW9uLmpzJztcbmltcG9ydCB7IEVkaXRvckNvbnRleHRLZXlzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZWRpdG9yL2NvbW1vbi9lZGl0b3JDb250ZXh0S2V5cy5qcyc7XG5pbXBvcnQgeyBJVGV4dE1vZGVsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vZWRpdG9yL2NvbW1vbi9tb2RlbC5qcyc7XG5pbXBvcnQgeyBTbmlwcGV0Q29udHJvbGxlcjIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9lZGl0b3IvY29udHJpYi9zbmlwcGV0L2Jyb3dzZXIvc25pcHBldENvbnRyb2xsZXIyLmpzJztcbmltcG9ydCB7IElDbGlwYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGxhdGZvcm0vY2xpcGJvYXJkL2NvbW1vbi9jbGlwYm9hcmRTZXJ2aWNlLmpzJztcbmltcG9ydCB7IENvbnRleHRLZXlFeHByIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vcGxhdGZvcm0vY29udGV4dGtleS9jb21tb24vY29udGV4dGtleS5qcyc7XG5pbXBvcnQgeyBJSW5zdGFudGlhdGlvblNlcnZpY2UsIFNlcnZpY2VzQWNjZXNzb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9wbGF0Zm9ybS9pbnN0YW50aWF0aW9uL2NvbW1vbi9pbnN0YW50aWF0aW9uLmpzJztcbmltcG9ydCB7IFNuaXBwZXRFZGl0b3JBY3Rpb24gfSBmcm9tICcuL2Fic3RyYWN0U25pcHBldHNBY3Rpb25zLmpzJztcbmltcG9ydCB7IHBpY2tTbmlwcGV0IH0gZnJvbSAnLi4vc25pcHBldFBpY2tlci5qcyc7XG5pbXBvcnQgeyBTbmlwcGV0IH0gZnJvbSAnLi4vc25pcHBldHNGaWxlLmpzJztcbmltcG9ydCB7IElTbmlwcGV0c1NlcnZpY2UgfSBmcm9tICcuLi9zbmlwcGV0cy5qcyc7XG5pbXBvcnQgeyBsb2NhbGl6ZTIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9ubHMuanMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3Vycm91bmRhYmxlU25pcHBldHMoc25pcHBldHNTZXJ2aWNlOiBJU25pcHBldHNTZXJ2aWNlLCBtb2RlbDogSVRleHRNb2RlbCwgcG9zaXRpb246IFBvc2l0aW9uLCBpbmNsdWRlRGlzYWJsZWRTbmlwcGV0czogYm9vbGVhbik6IFByb21pc2U8U25pcHBldFtdPiB7XG5cblx0Y29uc3QgeyBsaW5lTnVtYmVyLCBjb2x1bW4gfSA9IHBvc2l0aW9uO1xuXHRtb2RlbC50b2tlbml6YXRpb24udG9rZW5pemVJZkNoZWFwKGxpbmVOdW1iZXIpO1xuXHRjb25zdCBsYW5ndWFnZUlkID0gbW9kZWwuZ2V0TGFuZ3VhZ2VJZEF0UG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKTtcblxuXHRjb25zdCBhbGxTbmlwcGV0cyA9IGF3YWl0IHNuaXBwZXRzU2VydmljZS5nZXRTbmlwcGV0cyhsYW5ndWFnZUlkLCB7IGluY2x1ZGVOb1ByZWZpeFNuaXBwZXRzOiB0cnVlLCBpbmNsdWRlRGlzYWJsZWRTbmlwcGV0cyB9KTtcblx0cmV0dXJuIGFsbFNuaXBwZXRzLmZpbHRlcihzbmlwcGV0ID0+IHNuaXBwZXQudXNlc1NlbGVjdGlvbik7XG59XG5cbmV4cG9ydCBjbGFzcyBTdXJyb3VuZFdpdGhTbmlwcGV0RWRpdG9yQWN0aW9uIGV4dGVuZHMgU25pcHBldEVkaXRvckFjdGlvbiB7XG5cblx0c3RhdGljIHJlYWRvbmx5IG9wdGlvbnMgPSB7XG5cdFx0aWQ6ICdlZGl0b3IuYWN0aW9uLnN1cnJvdW5kV2l0aFNuaXBwZXQnLFxuXHRcdHRpdGxlOiBsb2NhbGl6ZTIoJ2xhYmVsJywgXCJTdXJyb3VuZCB3aXRoIFNuaXBwZXQuLi5cIilcblx0fTtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcih7XG5cdFx0XHQuLi5TdXJyb3VuZFdpdGhTbmlwcGV0RWRpdG9yQWN0aW9uLm9wdGlvbnMsXG5cdFx0XHRwcmVjb25kaXRpb246IENvbnRleHRLZXlFeHByLmFuZChcblx0XHRcdFx0RWRpdG9yQ29udGV4dEtleXMud3JpdGFibGUsXG5cdFx0XHRcdEVkaXRvckNvbnRleHRLZXlzLmhhc05vbkVtcHR5U2VsZWN0aW9uXG5cdFx0XHQpLFxuXHRcdFx0ZjE6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBydW5FZGl0b3JDb21tYW5kKGFjY2Vzc29yOiBTZXJ2aWNlc0FjY2Vzc29yLCBlZGl0b3I6IElDb2RlRWRpdG9yKSB7XG5cdFx0aWYgKCFlZGl0b3IuaGFzTW9kZWwoKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IGluc3RhU2VydmljZSA9IGFjY2Vzc29yLmdldChJSW5zdGFudGlhdGlvblNlcnZpY2UpO1xuXHRcdGNvbnN0IHNuaXBwZXRzU2VydmljZSA9IGFjY2Vzc29yLmdldChJU25pcHBldHNTZXJ2aWNlKTtcblx0XHRjb25zdCBjbGlwYm9hcmRTZXJ2aWNlID0gYWNjZXNzb3IuZ2V0KElDbGlwYm9hcmRTZXJ2aWNlKTtcblxuXHRcdGNvbnN0IHNuaXBwZXRzID0gYXdhaXQgZ2V0U3Vycm91bmRhYmxlU25pcHBldHMoc25pcHBldHNTZXJ2aWNlLCBlZGl0b3IuZ2V0TW9kZWwoKSwgZWRpdG9yLmdldFBvc2l0aW9uKCksIHRydWUpO1xuXHRcdGlmICghc25pcHBldHMubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc25pcHBldCA9IGF3YWl0IGluc3RhU2VydmljZS5pbnZva2VGdW5jdGlvbihwaWNrU25pcHBldCwgc25pcHBldHMpO1xuXHRcdGlmICghc25pcHBldCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBjbGlwYm9hcmRUZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdFx0aWYgKHNuaXBwZXQubmVlZHNDbGlwYm9hcmQpIHtcblx0XHRcdGNsaXBib2FyZFRleHQgPSBhd2FpdCBjbGlwYm9hcmRTZXJ2aWNlLnJlYWRUZXh0KCk7XG5cdFx0fVxuXG5cdFx0ZWRpdG9yLmZvY3VzKCk7XG5cdFx0U25pcHBldENvbnRyb2xsZXIyLmdldChlZGl0b3IpPy5pbnNlcnQoc25pcHBldC5jb2RlU25pcHBldCwgeyBjbGlwYm9hcmRUZXh0IH0pO1xuXHRcdHNuaXBwZXRzU2VydmljZS51cGRhdGVVc2FnZVRpbWVzdGFtcChzbmlwcGV0KTtcblx0fVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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