{"version":3,"names":["cov_6fbo3pxia","actualCoverage","EditorContextKeys","SnippetController2","IClipboardService","ContextKeyExpr","IInstantiationService","SnippetEditorAction","pickSnippet","ISnippetsService","localize2","getSurroundableSnippets","snippetsService","model","position","includeDisabledSnippets","f","lineNumber","column","s","tokenization","tokenizeIfCheap","languageId","getLanguageIdAtPosition","allSnippets","getSnippets","includeNoPrefixSnippets","filter","snippet","usesSelection","SurroundWithSnippetEditorAction","options","id","title","constructor","precondition","and","writable","hasNonEmptySelection","f1","runEditorCommand","accessor","editor","hasModel","b","instaService","get","clipboardService","snippets","getModel","getPosition","length","invokeFunction","clipboardText","needsClipboard","readText","focus","insert","codeSnippet","updateUsageTimestamp"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/snippets/browser/commands/surroundWithSnippet.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { EditorContextKeys } from '../../../../../editor/common/editorContextKeys.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { SnippetEditorAction } from './abstractSnippetsActions.js';\nimport { pickSnippet } from '../snippetPicker.js';\nimport { Snippet } from '../snippetsFile.js';\nimport { ISnippetsService } from '../snippets.js';\nimport { localize2 } from '../../../../../nls.js';\n\nexport async function getSurroundableSnippets(snippetsService: ISnippetsService, model: ITextModel, position: Position, includeDisabledSnippets: boolean): Promise<Snippet[]> {\n\n\tconst { lineNumber, column } = position;\n\tmodel.tokenization.tokenizeIfCheap(lineNumber);\n\tconst languageId = model.getLanguageIdAtPosition(lineNumber, column);\n\n\tconst allSnippets = await snippetsService.getSnippets(languageId, { includeNoPrefixSnippets: true, includeDisabledSnippets });\n\treturn allSnippets.filter(snippet => snippet.usesSelection);\n}\n\nexport class SurroundWithSnippetEditorAction extends SnippetEditorAction {\n\n\tstatic readonly options = {\n\t\tid: 'editor.action.surroundWithSnippet',\n\t\ttitle: localize2('label', \"Surround with Snippet...\")\n\t};\n\n\tconstructor() {\n\t\tsuper({\n\t\t\t...SurroundWithSnippetEditorAction.options,\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tEditorContextKeys.writable,\n\t\t\t\tEditorContextKeys.hasNonEmptySelection\n\t\t\t),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync runEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor) {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst snippetsService = accessor.get(ISnippetsService);\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\n\t\tconst snippets = await getSurroundableSnippets(snippetsService, editor.getModel(), editor.getPosition(), true);\n\t\tif (!snippets.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst snippet = await instaService.invokeFunction(pickSnippet, snippets);\n\t\tif (!snippet) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet clipboardText: string | undefined;\n\t\tif (snippet.needsClipboard) {\n\t\t\tclipboardText = await clipboardService.readText();\n\t\t}\n\n\t\teditor.focus();\n\t\tSnippetController2.get(editor)?.insert(snippet.codeSnippet, { clipboardText });\n\t\tsnippetsService.updateUsageTimestamp(snippet);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}