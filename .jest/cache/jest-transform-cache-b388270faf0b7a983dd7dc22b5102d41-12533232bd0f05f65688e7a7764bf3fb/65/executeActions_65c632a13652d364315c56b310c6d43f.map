{"version":3,"names":["cov_1h1li92aag","actualCoverage","Iterable","isEqual","ThemeIcon","ILanguageService","localize","localize2","MenuId","MenuRegistry","registerAction2","IConfigurationService","ContextKeyExpr","IDebugService","CTX_INLINE_CHAT_FOCUSED","insertCell","CELL_TITLE_CELL_GROUP_ID","NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT","NotebookAction","NotebookCellAction","NotebookMultiCellAction","cellExecutionArgs","getContextFromActiveEditor","getContextFromUri","parseMultiCellExecutionArgs","CellEditState","CellFocusMode","EXECUTE_CELL_COMMAND_ID","ScrollToRevealBehavior","icons","CellKind","CellUri","NotebookSetting","NOTEBOOK_CELL_EXECUTING","NOTEBOOK_CELL_EXECUTION_STATE","NOTEBOOK_CELL_LIST_FOCUSED","NOTEBOOK_CELL_TYPE","NOTEBOOK_HAS_RUNNING_CELL","NOTEBOOK_HAS_SOMETHING_RUNNING","NOTEBOOK_INTERRUPTIBLE_KERNEL","NOTEBOOK_IS_ACTIVE_EDITOR","NOTEBOOK_KERNEL_COUNT","NOTEBOOK_KERNEL_SOURCE_COUNT","NOTEBOOK_LAST_CELL_FAILED","NOTEBOOK_MISSING_KERNEL_EXTENSION","NotebookEditorInput","INotebookExecutionStateService","IEditorGroupsService","IEditorService","CodeCellViewModel","EXECUTE_NOTEBOOK_COMMAND_ID","s","CANCEL_NOTEBOOK_COMMAND_ID","INTERRUPT_NOTEBOOK_COMMAND_ID","CANCEL_CELL_COMMAND_ID","EXECUTE_CELL_FOCUS_CONTAINER_COMMAND_ID","EXECUTE_CELL_SELECT_BELOW","EXECUTE_CELL_INSERT_BELOW","EXECUTE_CELL_AND_BELOW","EXECUTE_CELLS_ABOVE","RENDER_ALL_MARKDOWN_CELLS","REVEAL_RUNNING_CELL","REVEAL_LAST_FAILED_CELL","executeCondition","and","isEqualTo","or","greater","key","executeThisCellCondition","toNegated","executeSectionCondition","renderAllMarkdownCells","context","f","i","notebookEditor","getLength","cell","cellAt","cellKind","Markup","b","updateEditState","Preview","runCell","editorGroupsService","editorService","group","activeGroup","activeEditor","pinEditor","autoReveal","selectedCells","length","openEditor","resource","textModel","uri","options","revealIfOpened","ui","handleAutoReveal","executeNotebookCells","single","firstCell","foundEditor","undefined","codeEditor","codeEditors","getModel","SMART_VIEWPORT_TOP_REVEAL_PADDING","SMART_VIEWPORT_BOTTOM_REVEAL_PADDING","focusNotebookCell","skipReveal","cellIndex","getCellIndex","revealCellRangeInView","start","end","cellEditorScrollTop","getAbsoluteTopOfElement","cellEditorScrollBottom","layoutInfo","outputContainerOffset","cellOutputHeight","outputTotalHeight","cellOutputScrollBottom","getAbsoluteBottomOfElement","viewportHeight","getLayoutInfo","height","viewportHeight34","viewportHeight66","totalHeight","isFullyVisible","scrollTop","scrollBottom","isEditorBottomVisible","revealWithTopPadding","position","setScrollTop","revealWithNoPadding","revealWithBottomPadding","RenderAllMarkdownCellsAction","constructor","id","title","runWithContext","accessor","ExecuteNotebookAction","icon","executeAllIcon","metadata","description","args","name","menu","EditorTitle","order","when","notEquals","NotebookToolbar","negate","equals","getEditorContextFromArgsOrActive","get","editor","findEditors","typeId","ID","editorId","viewType","at","editorGroupService","getGroup","groupId","ExecuteCell","precondition","keybinding","primary","win","weight","NotebookCellExecutePrimary","executeIcon","parseArgs","ExecuteAboveCells","NotebookCellExecute","consolidatedRunButton","NotebookCellTitle","executeAboveIcon","endCellIdx","Math","min","map","range","cells","getCellsInRange","ExecuteCellAndBelow","executeBelowIcon","startCellIdx","ExecuteCellFocusContainer","cellCancelCondition","CancelExecuteCell","stopIcon","schema","items","cancelNotebookCells","ExecuteCellSelectBelow","idx","languageService","config","scrollBehavior","getValue","scrollToRevealCell","focusOptions","revealBehavior","fullCell","firstLine","nextCell","newCell","Code","ExecuteCellInsertBelow","newFocusMode","focusMode","Editor","CancelNotebook","CancelAllNotebook","InterruptNotebook","InteractiveToolbar","appendMenuItem","submenu","NotebookCellExecuteGoTo","modify","executingStateIcon","RevealRunningCellAction","tooltip","shortTitle","notebookExecutionStateService","notebook","executingCells","getCellExecutionsForNotebook","topStackFrameCell","findCellAtTopFrame","focusHandle","cellHandle","getCellByHandle","debugService","session","getSessions","thread","getAllThreads","sf","getTopStackFrame","parsed","parse","source","toString","handle","RevealLastFailedCellAction","errorStateIcon","lastFailedCellHandle","getLastFailedCellForNotebook","lastFailedCell"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/controller/executeActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Iterable } from '../../../../../base/common/iterator.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { URI, UriComponents } from '../../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IDebugService } from '../../../debug/common/debug.js';\nimport { CTX_INLINE_CHAT_FOCUSED } from '../../../inlineChat/common/inlineChat.js';\nimport { insertCell } from './cellOperations.js';\nimport { CELL_TITLE_CELL_GROUP_ID, CellToolbarOrder, INotebookActionContext, INotebookCellActionContext, INotebookCellToolbarActionContext, INotebookCommandContext, NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT, NotebookAction, NotebookCellAction, NotebookMultiCellAction, cellExecutionArgs, getContextFromActiveEditor, getContextFromUri, parseMultiCellExecutionArgs } from './coreActions.js';\nimport { CellEditState, CellFocusMode, EXECUTE_CELL_COMMAND_ID, IActiveNotebookEditor, ICellViewModel, IFocusNotebookCellOptions, ScrollToRevealBehavior } from '../notebookBrowser.js';\nimport * as icons from '../notebookIcons.js';\nimport { CellKind, CellUri, NotebookSetting } from '../../common/notebookCommon.js';\nimport { NOTEBOOK_CELL_EXECUTING, NOTEBOOK_CELL_EXECUTION_STATE, NOTEBOOK_CELL_LIST_FOCUSED, NOTEBOOK_CELL_TYPE, NOTEBOOK_HAS_RUNNING_CELL, NOTEBOOK_HAS_SOMETHING_RUNNING, NOTEBOOK_INTERRUPTIBLE_KERNEL, NOTEBOOK_IS_ACTIVE_EDITOR, NOTEBOOK_KERNEL_COUNT, NOTEBOOK_KERNEL_SOURCE_COUNT, NOTEBOOK_LAST_CELL_FAILED, NOTEBOOK_MISSING_KERNEL_EXTENSION } from '../../common/notebookContextKeys.js';\nimport { NotebookEditorInput } from '../../common/notebookEditorInput.js';\nimport { INotebookExecutionStateService } from '../../common/notebookExecutionStateService.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { CodeCellViewModel } from '../viewModel/codeCellViewModel.js';\n\nconst EXECUTE_NOTEBOOK_COMMAND_ID = 'notebook.execute';\nconst CANCEL_NOTEBOOK_COMMAND_ID = 'notebook.cancelExecution';\nconst INTERRUPT_NOTEBOOK_COMMAND_ID = 'notebook.interruptExecution';\nconst CANCEL_CELL_COMMAND_ID = 'notebook.cell.cancelExecution';\nconst EXECUTE_CELL_FOCUS_CONTAINER_COMMAND_ID = 'notebook.cell.executeAndFocusContainer';\nconst EXECUTE_CELL_SELECT_BELOW = 'notebook.cell.executeAndSelectBelow';\nconst EXECUTE_CELL_INSERT_BELOW = 'notebook.cell.executeAndInsertBelow';\nconst EXECUTE_CELL_AND_BELOW = 'notebook.cell.executeCellAndBelow';\nconst EXECUTE_CELLS_ABOVE = 'notebook.cell.executeCellsAbove';\nconst RENDER_ALL_MARKDOWN_CELLS = 'notebook.renderAllMarkdownCells';\nconst REVEAL_RUNNING_CELL = 'notebook.revealRunningCell';\nconst REVEAL_LAST_FAILED_CELL = 'notebook.revealLastFailedCell';\n\n// If this changes, update getCodeCellExecutionContextKeyService to match\nexport const executeCondition = ContextKeyExpr.and(\n\tNOTEBOOK_CELL_TYPE.isEqualTo('code'),\n\tContextKeyExpr.or(\n\t\tContextKeyExpr.greater(NOTEBOOK_KERNEL_COUNT.key, 0),\n\t\tContextKeyExpr.greater(NOTEBOOK_KERNEL_SOURCE_COUNT.key, 0),\n\t\tNOTEBOOK_MISSING_KERNEL_EXTENSION\n\t));\n\nexport const executeThisCellCondition = ContextKeyExpr.and(\n\texecuteCondition,\n\tNOTEBOOK_CELL_EXECUTING.toNegated());\n\nexport const executeSectionCondition = ContextKeyExpr.and(\n\tNOTEBOOK_CELL_TYPE.isEqualTo('markup'),\n);\n\nfunction renderAllMarkdownCells(context: INotebookActionContext): void {\n\tfor (let i = 0; i < context.notebookEditor.getLength(); i++) {\n\t\tconst cell = context.notebookEditor.cellAt(i);\n\n\t\tif (cell.cellKind === CellKind.Markup) {\n\t\t\tcell.updateEditState(CellEditState.Preview, 'renderAllMarkdownCells');\n\t\t}\n\t}\n}\n\nasync function runCell(editorGroupsService: IEditorGroupsService, context: INotebookActionContext, editorService?: IEditorService): Promise<void> {\n\tconst group = editorGroupsService.activeGroup;\n\n\tif (group) {\n\t\tif (group.activeEditor) {\n\t\t\tgroup.pinEditor(group.activeEditor);\n\t\t}\n\t}\n\n\t// If auto-reveal is enabled, ensure the notebook editor is visible before revealing cells\n\tif (context.autoReveal && (context.cell || context.selectedCells?.length) && editorService) {\n\t\teditorService.openEditor({ resource: context.notebookEditor.textModel.uri, options: { revealIfOpened: true } });\n\t}\n\n\tif (context.ui && context.cell) {\n\t\tif (context.autoReveal) {\n\t\t\thandleAutoReveal(context.cell, context.notebookEditor);\n\t\t}\n\t\tawait context.notebookEditor.executeNotebookCells(Iterable.single(context.cell));\n\t} else if (context.selectedCells?.length || context.cell) {\n\t\tconst selectedCells = context.selectedCells?.length ? context.selectedCells : [context.cell!];\n\t\tconst firstCell = selectedCells[0];\n\n\t\tif (firstCell && context.autoReveal) {\n\t\t\thandleAutoReveal(firstCell, context.notebookEditor);\n\t\t}\n\t\tawait context.notebookEditor.executeNotebookCells(selectedCells);\n\t}\n\n\tlet foundEditor: ICodeEditor | undefined = undefined;\n\tfor (const [, codeEditor] of context.notebookEditor.codeEditors) {\n\t\tif (isEqual(codeEditor.getModel()?.uri, (context.cell ?? context.selectedCells?.[0])?.uri)) {\n\t\t\tfoundEditor = codeEditor;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!foundEditor) {\n\t\treturn;\n\t}\n}\n\nconst SMART_VIEWPORT_TOP_REVEAL_PADDING = 20; // enough to not cut off top of cell toolbar\nconst SMART_VIEWPORT_BOTTOM_REVEAL_PADDING = 60; // enough to show full bottom of output element + tiny buffer below that vertical bar\nfunction handleAutoReveal(cell: ICellViewModel, notebookEditor: IActiveNotebookEditor): void {\n\t// always focus the container, blue bar is a good visual aid in tracking what's happening\n\tnotebookEditor.focusNotebookCell(cell, 'container', { skipReveal: true });\n\n\t// Handle markup cells with simple reveal\n\tif (cell.cellKind === CellKind.Markup) {\n\t\tconst cellIndex = notebookEditor.getCellIndex(cell);\n\t\tnotebookEditor.revealCellRangeInView({ start: cellIndex, end: cellIndex + 1 });\n\t\treturn;\n\t}\n\n\t// Ensure we're working with a code cell - we need the CodeCellViewModel type for accessing layout properties like outputTotalHeight\n\tif (!(cell instanceof CodeCellViewModel)) {\n\t\treturn;\n\t}\n\n\t// Get all dimensions\n\tconst cellEditorScrollTop = notebookEditor.getAbsoluteTopOfElement(cell);\n\tconst cellEditorScrollBottom = cellEditorScrollTop + cell.layoutInfo.outputContainerOffset;\n\n\tconst cellOutputHeight = cell.layoutInfo.outputTotalHeight;\n\tconst cellOutputScrollBottom = notebookEditor.getAbsoluteBottomOfElement(cell);\n\n\tconst viewportHeight = notebookEditor.getLayoutInfo().height;\n\tconst viewportHeight34 = viewportHeight * 0.34;\n\tconst viewportHeight66 = viewportHeight * 0.66;\n\n\tconst totalHeight = cell.layoutInfo.totalHeight;\n\n\tconst isFullyVisible = cellEditorScrollTop >= notebookEditor.scrollTop && cellOutputScrollBottom <= notebookEditor.scrollBottom;\n\tconst isEditorBottomVisible = ((cellEditorScrollBottom - 25 /* padding for the cell status bar */) >= notebookEditor.scrollTop) &&\n\t\t((cellEditorScrollBottom + 25 /* padding to see a sliver of the beginning of outputs */) <= notebookEditor.scrollBottom);\n\n\t// Common scrolling functions\n\tconst revealWithTopPadding = (position: number) => { notebookEditor.setScrollTop(position - SMART_VIEWPORT_TOP_REVEAL_PADDING); };\n\tconst revealWithNoPadding = (position: number) => { notebookEditor.setScrollTop(position); };\n\tconst revealWithBottomPadding = (position: number) => { notebookEditor.setScrollTop(position + SMART_VIEWPORT_BOTTOM_REVEAL_PADDING); };\n\n\t// CASE 0: Total is already visible\n\tif (isFullyVisible) {\n\t\treturn;\n\t}\n\n\t// CASE 1: Total fits within viewport\n\tif (totalHeight <= viewportHeight && !isEditorBottomVisible) {\n\t\trevealWithTopPadding(cellEditorScrollTop);\n\t\treturn;\n\t}\n\n\t// CASE 2: Total doesn't fit in the viewport\n\tif (totalHeight > viewportHeight && !isEditorBottomVisible) {\n\t\tif (cellOutputHeight > 0 && cellOutputHeight >= viewportHeight66) {\n\t\t\t// has large outputs -- Show 34% editor, 66% output\n\t\t\trevealWithNoPadding(cellEditorScrollBottom - viewportHeight34);\n\t\t} else if (cellOutputHeight > 0) {\n\t\t\t// has small outputs -- Show output at viewport bottom\n\t\t\trevealWithBottomPadding(cellOutputScrollBottom - viewportHeight);\n\t\t} else {\n\t\t\t// No outputs, just big cell -- put editor bottom @ 2/3 of viewport height\n\t\t\trevealWithNoPadding(cellEditorScrollBottom - viewportHeight66);\n\t\t}\n\t}\n}\n\nregisterAction2(class RenderAllMarkdownCellsAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: RENDER_ALL_MARKDOWN_CELLS,\n\t\t\ttitle: localize('notebookActions.renderMarkdown', \"Render All Markdown Cells\"),\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\trenderAllMarkdownCells(context);\n\t}\n});\n\nregisterAction2(class ExecuteNotebookAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.executeNotebook', \"Run All\"),\n\t\t\ticon: icons.executeAllIcon,\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.executeNotebook', \"Run All\"),\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'uri',\n\t\t\t\t\t\tdescription: 'The document uri'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tContextKeyExpr.or(NOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(), NOTEBOOK_HAS_SOMETHING_RUNNING.toNegated()),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING.toNegated(),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tContextKeyExpr.and(NOTEBOOK_HAS_SOMETHING_RUNNING, NOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated())?.negate(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\toverride getEditorContextFromArgsOrActive(accessor: ServicesAccessor, context?: UriComponents): INotebookActionContext | undefined {\n\t\treturn getContextFromUri(accessor, context) ?? getContextFromActiveEditor(accessor.get(IEditorService));\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\trenderAllMarkdownCells(context);\n\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editor = editorService.findEditors({\n\t\t\tresource: context.notebookEditor.textModel.uri,\n\t\t\ttypeId: NotebookEditorInput.ID,\n\t\t\teditorId: context.notebookEditor.textModel.viewType\n\t\t}).at(0);\n\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\n\t\tif (editor) {\n\t\t\tconst group = editorGroupService.getGroup(editor.groupId);\n\t\t\tgroup?.pinEditor(editor.editor);\n\t\t}\n\n\t\treturn context.notebookEditor.executeNotebookCells();\n\t}\n});\n\nregisterAction2(class ExecuteCell extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_COMMAND_ID,\n\t\t\tprecondition: executeThisCellCondition,\n\t\t\ttitle: localize('notebookActions.execute', \"Execute Cell\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: NOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\tprimary: KeyMod.WinCtrl | KeyCode.Enter,\n\t\t\t\twin: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Enter\n\t\t\t\t},\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookCellExecutePrimary,\n\t\t\t\twhen: executeThisCellCondition,\n\t\t\t\tgroup: 'inline'\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.execute', \"Execute Cell\"),\n\t\t\t\targs: cellExecutionArgs\n\t\t\t},\n\t\t\ticon: icons.executeIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t}\n\n\t\tawait runCell(editorGroupsService, context, editorService);\n\t}\n});\n\nregisterAction2(class ExecuteAboveCells extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELLS_ABOVE,\n\t\t\tprecondition: executeCondition,\n\t\t\ttitle: localize('notebookActions.executeAbove', \"Execute Above Cells\"),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecute,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, true))\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellTitle,\n\t\t\t\t\torder: CellToolbarOrder.ExecuteAboveCells,\n\t\t\t\t\tgroup: CELL_TITLE_CELL_GROUP_ID,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, false))\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: icons.executeAboveIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tlet endCellIdx: number | undefined = undefined;\n\t\tif (context.ui) {\n\t\t\tendCellIdx = context.notebookEditor.getCellIndex(context.cell);\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tendCellIdx = Math.min(...context.selectedCells.map(cell => context.notebookEditor.getCellIndex(cell)));\n\t\t}\n\n\t\tif (typeof endCellIdx === 'number') {\n\t\t\tconst range = { start: 0, end: endCellIdx };\n\t\t\tconst cells = context.notebookEditor.getCellsInRange(range);\n\t\t\tcontext.notebookEditor.executeNotebookCells(cells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellAndBelow extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_AND_BELOW,\n\t\t\tprecondition: executeCondition,\n\t\t\ttitle: localize('notebookActions.executeBelow', \"Execute Cell and Below\"),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecute,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, true))\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellTitle,\n\t\t\t\t\torder: CellToolbarOrder.ExecuteCellAndBelow,\n\t\t\t\t\tgroup: CELL_TITLE_CELL_GROUP_ID,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, false))\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: icons.executeBelowIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tlet startCellIdx: number | undefined = undefined;\n\t\tif (context.ui) {\n\t\t\tstartCellIdx = context.notebookEditor.getCellIndex(context.cell);\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tstartCellIdx = Math.min(...context.selectedCells.map(cell => context.notebookEditor.getCellIndex(cell)));\n\t\t}\n\n\t\tif (typeof startCellIdx === 'number') {\n\t\t\tconst range = { start: startCellIdx, end: context.notebookEditor.getLength() };\n\t\t\tconst cells = context.notebookEditor.getCellsInRange(range);\n\t\t\tcontext.notebookEditor.executeNotebookCells(cells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellFocusContainer extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_FOCUS_CONTAINER_COMMAND_ID,\n\t\t\tprecondition: executeThisCellCondition,\n\t\t\ttitle: localize('notebookActions.executeAndFocusContainer', \"Execute Cell and Focus Container\"),\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.executeAndFocusContainer', \"Execute Cell and Focus Container\"),\n\t\t\t\targs: cellExecutionArgs\n\t\t\t},\n\t\t\ticon: icons.executeIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tconst firstCell = context.selectedCells[0];\n\n\t\t\tif (firstCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(firstCell, 'container', { skipReveal: true });\n\t\t\t}\n\t\t}\n\n\t\tawait runCell(editorGroupsService, context, editorService);\n\t}\n});\n\nconst cellCancelCondition = ContextKeyExpr.or(\n\tContextKeyExpr.equals(NOTEBOOK_CELL_EXECUTION_STATE.key, 'executing'),\n\tContextKeyExpr.equals(NOTEBOOK_CELL_EXECUTION_STATE.key, 'pending'),\n);\n\nregisterAction2(class CancelExecuteCell extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CANCEL_CELL_COMMAND_ID,\n\t\t\tprecondition: cellCancelCondition,\n\t\t\ttitle: localize('notebookActions.cancel', \"Stop Cell Execution\"),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookCellExecutePrimary,\n\t\t\t\twhen: cellCancelCondition,\n\t\t\t\tgroup: 'inline'\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.cancel', \"Stop Cell Execution\"),\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'options',\n\t\t\t\t\t\tdescription: 'The cell range options',\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t'required': ['ranges'],\n\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t'ranges': {\n\t\t\t\t\t\t\t\t\t'type': 'array',\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t\t\t\t\t'required': ['start', 'end'],\n\t\t\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t\t\t'start': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t'end': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'document': {\n\t\t\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t\t\t'description': 'The document uri',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t\treturn context.notebookEditor.cancelNotebookCells(Iterable.single(context.cell));\n\t\t} else {\n\t\t\treturn context.notebookEditor.cancelNotebookCells(context.selectedCells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellSelectBelow extends NotebookCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_SELECT_BELOW,\n\t\t\tprecondition: ContextKeyExpr.or(executeThisCellCondition, NOTEBOOK_CELL_TYPE.isEqualTo('markup')),\n\t\t\ttitle: localize('notebookActions.executeAndSelectBelow', \"Execute Notebook Cell and Select Below\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tNOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\t\tCTX_INLINE_CHAT_FOCUSED.negate()\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCellActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst idx = context.notebookEditor.getCellIndex(context.cell);\n\t\tif (typeof idx !== 'number') {\n\t\t\treturn;\n\t\t}\n\t\tconst languageService = accessor.get(ILanguageService);\n\n\t\tconst config = accessor.get(IConfigurationService);\n\t\tconst scrollBehavior = config.getValue(NotebookSetting.scrollToRevealCell);\n\t\tlet focusOptions: IFocusNotebookCellOptions;\n\t\tif (scrollBehavior === 'none') {\n\t\t\tfocusOptions = { skipReveal: true };\n\t\t} else {\n\t\t\tfocusOptions = {\n\t\t\t\trevealBehavior: scrollBehavior === 'fullCell' ? ScrollToRevealBehavior.fullCell : ScrollToRevealBehavior.firstLine\n\t\t\t};\n\t\t}\n\n\t\tif (context.cell.cellKind === CellKind.Markup) {\n\t\t\tconst nextCell = context.notebookEditor.cellAt(idx + 1);\n\t\t\tcontext.cell.updateEditState(CellEditState.Preview, EXECUTE_CELL_SELECT_BELOW);\n\t\t\tif (nextCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(nextCell, 'container', focusOptions);\n\t\t\t} else {\n\t\t\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, CellKind.Markup, 'below');\n\n\t\t\t\tif (newCell) {\n\t\t\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor', focusOptions);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst nextCell = context.notebookEditor.cellAt(idx + 1);\n\t\t\tif (nextCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(nextCell, 'container', focusOptions);\n\t\t\t} else {\n\t\t\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, CellKind.Code, 'below');\n\n\t\t\t\tif (newCell) {\n\t\t\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor', focusOptions);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn runCell(editorGroupsService, context, editorService);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellInsertBelow extends NotebookCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_INSERT_BELOW,\n\t\t\tprecondition: ContextKeyExpr.or(executeThisCellCondition, NOTEBOOK_CELL_TYPE.isEqualTo('markup')),\n\t\t\ttitle: localize('notebookActions.executeAndInsertBelow', \"Execute Notebook Cell and Insert Below\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: NOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCellActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst idx = context.notebookEditor.getCellIndex(context.cell);\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst newFocusMode = context.cell.focusMode === CellFocusMode.Editor ? 'editor' : 'container';\n\n\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, context.cell.cellKind, 'below');\n\t\tif (newCell) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, newFocusMode);\n\t\t}\n\n\t\tif (context.cell.cellKind === CellKind.Markup) {\n\t\t\tcontext.cell.updateEditState(CellEditState.Preview, EXECUTE_CELL_INSERT_BELOW);\n\t\t} else {\n\t\t\trunCell(editorGroupsService, context, editorService);\n\t\t}\n\t}\n});\n\nclass CancelNotebook extends NotebookAction {\n\toverride getEditorContextFromArgsOrActive(accessor: ServicesAccessor, context?: UriComponents): INotebookActionContext | undefined {\n\t\treturn getContextFromUri(accessor, context) ?? getContextFromActiveEditor(accessor.get(IEditorService));\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\treturn context.notebookEditor.cancelNotebookCells();\n\t}\n}\n\nregisterAction2(class CancelAllNotebook extends CancelNotebook {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CANCEL_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize2('notebookActions.cancelNotebook', \"Stop Execution\"),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n});\n\nregisterAction2(class InterruptNotebook extends CancelNotebook {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: INTERRUPT_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize2('notebookActions.interruptNotebook', \"Interrupt\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL\n\t\t\t),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL,\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL,\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.InteractiveToolbar,\n\t\t\t\t\tgroup: 'navigation/execute'\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n});\n\n\nMenuRegistry.appendMenuItem(MenuId.NotebookToolbar, {\n\ttitle: localize('revealRunningCellShort', \"Go To\"),\n\tsubmenu: MenuId.NotebookCellExecuteGoTo,\n\tgroup: 'navigation/execute',\n\torder: 20,\n\ticon: ThemeIcon.modify(icons.executingStateIcon, 'spin')\n});\n\nregisterAction2(class RevealRunningCellAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: REVEAL_RUNNING_CELL,\n\t\t\ttitle: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\ttooltip: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\tshortTitle: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\tprecondition: NOTEBOOK_HAS_RUNNING_CELL,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecuteGoTo,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\torder: 20\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.InteractiveToolbar,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.equals('activeEditor', 'workbench.editor.interactive')\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 10\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: ThemeIcon.modify(icons.executingStateIcon, 'spin')\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst notebookExecutionStateService = accessor.get(INotebookExecutionStateService);\n\t\tconst notebook = context.notebookEditor.textModel.uri;\n\t\tconst executingCells = notebookExecutionStateService.getCellExecutionsForNotebook(notebook);\n\t\tif (executingCells[0]) {\n\t\t\tconst topStackFrameCell = this.findCellAtTopFrame(accessor, notebook);\n\t\t\tconst focusHandle = topStackFrameCell ?? executingCells[0].cellHandle;\n\t\t\tconst cell = context.notebookEditor.getCellByHandle(focusHandle);\n\t\t\tif (cell) {\n\t\t\t\tcontext.notebookEditor.focusNotebookCell(cell, 'container');\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate findCellAtTopFrame(accessor: ServicesAccessor, notebook: URI): number | undefined {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tfor (const session of debugService.getModel().getSessions()) {\n\t\t\tfor (const thread of session.getAllThreads()) {\n\t\t\t\tconst sf = thread.getTopStackFrame();\n\t\t\t\tif (sf) {\n\t\t\t\t\tconst parsed = CellUri.parse(sf.source.uri);\n\t\t\t\t\tif (parsed && parsed.notebook.toString() === notebook.toString()) {\n\t\t\t\t\t\treturn parsed.handle;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n});\n\nregisterAction2(class RevealLastFailedCellAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: REVEAL_LAST_FAILED_CELL,\n\t\t\ttitle: localize('revealLastFailedCell', \"Go to Most Recently Failed Cell\"),\n\t\t\ttooltip: localize('revealLastFailedCell', \"Go to Most Recently Failed Cell\"),\n\t\t\tshortTitle: localize('revealLastFailedCellShort', \"Go to Most Recently Failed Cell\"),\n\t\t\tprecondition: NOTEBOOK_LAST_CELL_FAILED,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_LAST_CELL_FAILED,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecuteGoTo,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_LAST_CELL_FAILED,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\torder: 20\n\t\t\t\t},\n\t\t\t],\n\t\t\ticon: icons.errorStateIcon,\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst notebookExecutionStateService = accessor.get(INotebookExecutionStateService);\n\t\tconst notebook = context.notebookEditor.textModel.uri;\n\t\tconst lastFailedCellHandle = notebookExecutionStateService.getLastFailedCellForNotebook(notebook);\n\t\tif (lastFailedCellHandle !== undefined) {\n\t\t\tconst lastFailedCell = context.notebookEditor.getCellByHandle(lastFailedCellHandle);\n\t\t\tif (lastFailedCell) {\n\t\t\t\tcontext.notebookEditor.focusNotebookCell(lastFailedCell, 'container');\n\t\t\t}\n\t\t}\n\t}\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}