{"version":3,"names":["parse","Mimes","Schemas","basename","posix","DataUri","startsWithUTF8BOM","PLAINTEXT_LANGUAGE_ID","registeredAssociations","cov_2192qk8tnt","s","nonUserRegisteredAssociations","userRegisteredAssociations","registerPlatformLanguageAssociation","association","warnOnOverwrite","b","f","_registerLanguageAssociation","registerConfiguredLanguageAssociation","userConfigured","associationItem","toLanguageAssociationItem","push","forEach","a","mime","extension","console","warn","filename","filepattern","firstline","id","filenameLowercase","toLowerCase","undefined","extensionLowercase","filepatternLowercase","filepatternOnPath","indexOf","sep","clearPlatformLanguageAssociations","filter","clearConfiguredLanguageAssociations","getMimeTypes","resource","firstLine","getAssociations","map","item","getLanguageIds","path","scheme","file","fsPath","data","metadata","parseMetaData","get","META_DATA_LABEL","vscodeNotebookCell","unknown","configuredLanguage","getAssociationByPath","text","registeredLanguage","firstlineLanguage","getAssociationByFirstline","associations","filenameMatch","patternMatch","extensionMatch","i","length","target","endsWith","substr","matches","match"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/services/languagesAssociations.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ParsedPattern, parse } from '../../../base/common/glob.js';\nimport { Mimes } from '../../../base/common/mime.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { basename, posix } from '../../../base/common/path.js';\nimport { DataUri } from '../../../base/common/resources.js';\nimport { startsWithUTF8BOM } from '../../../base/common/strings.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\n\nexport interface ILanguageAssociation {\n\treadonly id: string;\n\treadonly mime: string;\n\treadonly filename?: string;\n\treadonly extension?: string;\n\treadonly filepattern?: string;\n\treadonly firstline?: RegExp;\n}\n\ninterface ILanguageAssociationItem extends ILanguageAssociation {\n\treadonly userConfigured: boolean;\n\treadonly filenameLowercase?: string;\n\treadonly extensionLowercase?: string;\n\treadonly filepatternLowercase?: ParsedPattern;\n\treadonly filepatternOnPath?: boolean;\n}\n\nlet registeredAssociations: ILanguageAssociationItem[] = [];\nlet nonUserRegisteredAssociations: ILanguageAssociationItem[] = [];\nlet userRegisteredAssociations: ILanguageAssociationItem[] = [];\n\n/**\n * Associate a language to the registry (platform).\n * * **NOTE**: This association will lose over associations registered using `registerConfiguredLanguageAssociation`.\n * * **NOTE**: Use `clearPlatformLanguageAssociations` to remove all associations registered using this function.\n */\nexport function registerPlatformLanguageAssociation(association: ILanguageAssociation, warnOnOverwrite = false): void {\n\t_registerLanguageAssociation(association, false, warnOnOverwrite);\n}\n\n/**\n * Associate a language to the registry (configured).\n * * **NOTE**: This association will win over associations registered using `registerPlatformLanguageAssociation`.\n * * **NOTE**: Use `clearConfiguredLanguageAssociations` to remove all associations registered using this function.\n */\nexport function registerConfiguredLanguageAssociation(association: ILanguageAssociation): void {\n\t_registerLanguageAssociation(association, true, false);\n}\n\nfunction _registerLanguageAssociation(association: ILanguageAssociation, userConfigured: boolean, warnOnOverwrite: boolean): void {\n\n\t// Register\n\tconst associationItem = toLanguageAssociationItem(association, userConfigured);\n\tregisteredAssociations.push(associationItem);\n\tif (!associationItem.userConfigured) {\n\t\tnonUserRegisteredAssociations.push(associationItem);\n\t} else {\n\t\tuserRegisteredAssociations.push(associationItem);\n\t}\n\n\t// Check for conflicts unless this is a user configured association\n\tif (warnOnOverwrite && !associationItem.userConfigured) {\n\t\tregisteredAssociations.forEach(a => {\n\t\t\tif (a.mime === associationItem.mime || a.userConfigured) {\n\t\t\t\treturn; // same mime or userConfigured is ok\n\t\t\t}\n\n\t\t\tif (associationItem.extension && a.extension === associationItem.extension) {\n\t\t\t\tconsole.warn(`Overwriting extension <<${associationItem.extension}>> to now point to mime <<${associationItem.mime}>>`);\n\t\t\t}\n\n\t\t\tif (associationItem.filename && a.filename === associationItem.filename) {\n\t\t\t\tconsole.warn(`Overwriting filename <<${associationItem.filename}>> to now point to mime <<${associationItem.mime}>>`);\n\t\t\t}\n\n\t\t\tif (associationItem.filepattern && a.filepattern === associationItem.filepattern) {\n\t\t\t\tconsole.warn(`Overwriting filepattern <<${associationItem.filepattern}>> to now point to mime <<${associationItem.mime}>>`);\n\t\t\t}\n\n\t\t\tif (associationItem.firstline && a.firstline === associationItem.firstline) {\n\t\t\t\tconsole.warn(`Overwriting firstline <<${associationItem.firstline}>> to now point to mime <<${associationItem.mime}>>`);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction toLanguageAssociationItem(association: ILanguageAssociation, userConfigured: boolean): ILanguageAssociationItem {\n\treturn {\n\t\tid: association.id,\n\t\tmime: association.mime,\n\t\tfilename: association.filename,\n\t\textension: association.extension,\n\t\tfilepattern: association.filepattern,\n\t\tfirstline: association.firstline,\n\t\tuserConfigured: userConfigured,\n\t\tfilenameLowercase: association.filename ? association.filename.toLowerCase() : undefined,\n\t\textensionLowercase: association.extension ? association.extension.toLowerCase() : undefined,\n\t\tfilepatternLowercase: association.filepattern ? parse(association.filepattern.toLowerCase()) : undefined,\n\t\tfilepatternOnPath: association.filepattern ? association.filepattern.indexOf(posix.sep) >= 0 : false\n\t};\n}\n\n/**\n * Clear language associations from the registry (platform).\n */\nexport function clearPlatformLanguageAssociations(): void {\n\tregisteredAssociations = registeredAssociations.filter(a => a.userConfigured);\n\tnonUserRegisteredAssociations = [];\n}\n\n/**\n * Clear language associations from the registry (configured).\n */\nexport function clearConfiguredLanguageAssociations(): void {\n\tregisteredAssociations = registeredAssociations.filter(a => !a.userConfigured);\n\tuserRegisteredAssociations = [];\n}\n\ninterface IdAndMime {\n\tid: string;\n\tmime: string;\n}\n\n/**\n * Given a file, return the best matching mime types for it\n * based on the registered language associations.\n */\nexport function getMimeTypes(resource: URI | null, firstLine?: string): string[] {\n\treturn getAssociations(resource, firstLine).map(item => item.mime);\n}\n\n/**\n * @see `getMimeTypes`\n */\nexport function getLanguageIds(resource: URI | null, firstLine?: string): string[] {\n\treturn getAssociations(resource, firstLine).map(item => item.id);\n}\n\nfunction getAssociations(resource: URI | null, firstLine?: string): IdAndMime[] {\n\tlet path: string | undefined;\n\tif (resource) {\n\t\tswitch (resource.scheme) {\n\t\t\tcase Schemas.file:\n\t\t\t\tpath = resource.fsPath;\n\t\t\t\tbreak;\n\t\t\tcase Schemas.data: {\n\t\t\t\tconst metadata = DataUri.parseMetaData(resource);\n\t\t\t\tpath = metadata.get(DataUri.META_DATA_LABEL);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase Schemas.vscodeNotebookCell:\n\t\t\t\t// File path not relevant for language detection of cell\n\t\t\t\tpath = undefined;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tpath = resource.path;\n\t\t}\n\t}\n\n\tif (!path) {\n\t\treturn [{ id: 'unknown', mime: Mimes.unknown }];\n\t}\n\n\tpath = path.toLowerCase();\n\n\tconst filename = basename(path);\n\n\t// 1.) User configured mappings have highest priority\n\tconst configuredLanguage = getAssociationByPath(path, filename, userRegisteredAssociations);\n\tif (configuredLanguage) {\n\t\treturn [configuredLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n\t}\n\n\t// 2.) Registered mappings have middle priority\n\tconst registeredLanguage = getAssociationByPath(path, filename, nonUserRegisteredAssociations);\n\tif (registeredLanguage) {\n\t\treturn [registeredLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n\t}\n\n\t// 3.) Firstline has lowest priority\n\tif (firstLine) {\n\t\tconst firstlineLanguage = getAssociationByFirstline(firstLine);\n\t\tif (firstlineLanguage) {\n\t\t\treturn [firstlineLanguage, { id: PLAINTEXT_LANGUAGE_ID, mime: Mimes.text }];\n\t\t}\n\t}\n\n\treturn [{ id: 'unknown', mime: Mimes.unknown }];\n}\n\nfunction getAssociationByPath(path: string, filename: string, associations: ILanguageAssociationItem[]): ILanguageAssociationItem | undefined {\n\tlet filenameMatch: ILanguageAssociationItem | undefined = undefined;\n\tlet patternMatch: ILanguageAssociationItem | undefined = undefined;\n\tlet extensionMatch: ILanguageAssociationItem | undefined = undefined;\n\n\t// We want to prioritize associations based on the order they are registered so that the last registered\n\t// association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074\n\tfor (let i = associations.length - 1; i >= 0; i--) {\n\t\tconst association = associations[i];\n\n\t\t// First exact name match\n\t\tif (filename === association.filenameLowercase) {\n\t\t\tfilenameMatch = association;\n\t\t\tbreak; // take it!\n\t\t}\n\n\t\t// Longest pattern match\n\t\tif (association.filepattern) {\n\t\t\tif (!patternMatch || association.filepattern.length > patternMatch.filepattern!.length) {\n\t\t\t\tconst target = association.filepatternOnPath ? path : filename; // match on full path if pattern contains path separator\n\t\t\t\tif (association.filepatternLowercase?.(target)) {\n\t\t\t\t\tpatternMatch = association;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Longest extension match\n\t\tif (association.extension) {\n\t\t\tif (!extensionMatch || association.extension.length > extensionMatch.extension!.length) {\n\t\t\t\tif (filename.endsWith(association.extensionLowercase!)) {\n\t\t\t\t\textensionMatch = association;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 1.) Exact name match has second highest priority\n\tif (filenameMatch) {\n\t\treturn filenameMatch;\n\t}\n\n\t// 2.) Match on pattern\n\tif (patternMatch) {\n\t\treturn patternMatch;\n\t}\n\n\t// 3.) Match on extension comes next\n\tif (extensionMatch) {\n\t\treturn extensionMatch;\n\t}\n\n\treturn undefined;\n}\n\nfunction getAssociationByFirstline(firstLine: string): ILanguageAssociationItem | undefined {\n\tif (startsWithUTF8BOM(firstLine)) {\n\t\tfirstLine = firstLine.substr(1);\n\t}\n\n\tif (firstLine.length > 0) {\n\n\t\t// We want to prioritize associations based on the order they are registered so that the last registered\n\t\t// association wins over all other. This is for https://github.com/microsoft/vscode/issues/20074\n\t\tfor (let i = registeredAssociations.length - 1; i >= 0; i--) {\n\t\t\tconst association = registeredAssociations[i];\n\t\t\tif (!association.firstline) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst matches = firstLine.match(association.firstline);\n\t\t\tif (matches && matches.length > 0) {\n\t\t\t\treturn association;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn undefined;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}