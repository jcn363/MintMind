{"version":3,"names":["cov_2kqv5fsm5m","actualCoverage","GlyphMarginLane","MAX_LANE","s","Right","GlyphMarginLanesModel","lanes","persist","_requiredLanes","constructor","maxLine","f","Uint8Array","Math","ceil","reset","bytes","length","b","fill","requiredLanes","push","lane","range","i","startLineNumber","endLineNumber","bit","max","countAtLine","getLanesAtLine","lineNumber","Center","count"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/viewModel/glyphLanesModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Range } from '../core/range.js';\nimport { GlyphMarginLane, IGlyphMarginLanesModel } from '../model.js';\n\n\nconst MAX_LANE = GlyphMarginLane.Right;\n\nexport class GlyphMarginLanesModel implements IGlyphMarginLanesModel {\n\tprivate lanes: Uint8Array;\n\tprivate persist = 0;\n\tprivate _requiredLanes = 1; // always render at least one lane\n\n\tconstructor(maxLine: number) {\n\t\tthis.lanes = new Uint8Array(Math.ceil(((maxLine + 1) * MAX_LANE) / 8));\n\t}\n\n\tpublic reset(maxLine: number) {\n\t\tconst bytes = Math.ceil(((maxLine + 1) * MAX_LANE) / 8);\n\t\tif (this.lanes.length < bytes) {\n\t\t\tthis.lanes = new Uint8Array(bytes);\n\t\t} else {\n\t\t\tthis.lanes.fill(0);\n\t\t}\n\t\tthis._requiredLanes = 1;\n\t}\n\n\tpublic get requiredLanes() {\n\t\treturn this._requiredLanes;\n\t}\n\n\tpublic push(lane: GlyphMarginLane, range: Range, persist?: boolean): void {\n\t\tif (persist) {\n\t\t\tthis.persist |= (1 << (lane - 1));\n\t\t}\n\t\tfor (let i = range.startLineNumber; i <= range.endLineNumber; i++) {\n\t\t\tconst bit = (MAX_LANE * i) + (lane - 1);\n\t\t\tthis.lanes[bit >>> 3] |= (1 << (bit % 8));\n\t\t\tthis._requiredLanes = Math.max(this._requiredLanes, this.countAtLine(i));\n\t\t}\n\t}\n\n\tpublic getLanesAtLine(lineNumber: number): GlyphMarginLane[] {\n\t\tconst lanes: GlyphMarginLane[] = [];\n\t\tlet bit = MAX_LANE * lineNumber;\n\t\tfor (let i = 0; i < MAX_LANE; i++) {\n\t\t\tif (this.persist & (1 << i) || this.lanes[bit >>> 3] & (1 << (bit % 8))) {\n\t\t\t\tlanes.push(i + 1);\n\t\t\t}\n\t\t\tbit++;\n\t\t}\n\n\t\treturn lanes.length ? lanes : [GlyphMarginLane.Center];\n\t}\n\n\tprivate countAtLine(lineNumber: number): number {\n\t\tlet bit = MAX_LANE * lineNumber;\n\t\tlet count = 0;\n\t\tfor (let i = 0; i < MAX_LANE; i++) {\n\t\t\tif (this.persist & (1 << i) || this.lanes[bit >>> 3] & (1 << (bit % 8))) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t\tbit++;\n\t\t}\n\t\treturn count;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}