{"version":3,"names":["cov_ps6bvec45","actualCoverage","PageCoordinates","PartFingerprints","ViewLine","Position","Range","EditorRange","CursorColumns","dom","AtomicTabMoveOperations","TextDirection","Lazy","UnknownHitTestResult","hitTarget","type","s","constructor","b","f","ContentHitTestResult","position","spanNode","injectedText","HitTestResult","createFromDOMInfo","ctx","offset","getPositionFromDOMInfo","PointerHandlerLastRenderData","lastViewCursorsRenderData","lastTextareaPosition","MouseTarget","_deduceRage","range","lineNumber","column","createUnknown","element","mouseColumn","createTextarea","createMargin","detail","createViewZone","createContentText","createContentEmpty","createContentWidget","createScrollbar","createOverlayWidget","createOutsideEditor","outsidePosition","outsideDistance","_typeToString","toString","target","JSON","stringify","ElementPath","isTextArea","path","length","isChildOfViewLines","isStrictChildOfViewLines","isChildOfScrollableElement","isChildOfMinimap","isChildOfContentWidgets","isChildOfOverflowGuard","isChildOfOverflowingContentWidgets","isChildOfOverlayWidgets","isChildOfOverflowingOverlayWidgets","HitTestContext","viewModel","layoutInfo","viewDomNode","viewLinesGpu","lineHeight","stickyTabStops","typicalHalfwidthCharacterWidth","lastRenderData","_context","_viewHelper","context","viewHelper","options","configuration","get","getZoneAtCoord","mouseVerticalOffset","viewZoneWhitespace","viewLayout","getWhitespaceAtVerticalOffset","viewZoneMiddle","verticalOffset","height","lineCount","getLineCount","positionBefore","positionAfter","afterLineNumber","getLineMaxColumn","viewZoneId","id","getFullLineRangeAtCoord","isAfterLines","maxLineColumn","getLineNumberAtVerticalOffset","isInTopPadding","isInBottomPadding","getVerticalOffsetForLineNumber","findAttribute","attr","_findAttribute","stopAt","ownerDocument","body","hasAttribute","getAttribute","parentNode","getLineWidth","isRtl","getTextDirection","RTL","visibleRangeForPosition","getCurrentScrollTop","getCurrentScrollLeft","BareHitTestRequest","editorPos","pos","relativePos","isInMarginArea","isInContentArea","mouseContentHorizontalOffset","Math","max","y","x","contentLeft","glyphMarginLeft","MouseTargetFactory","_getMouseColumn","HitTestRequest","_ctx","_eventTarget","hitTestResult","doHitTest","_useHitTestTarget","_targetPathCacheElement","_targetPathCacheValue","Uint8Array","value","targetPath","collect","eventTarget","hasEventTarget","Boolean","outerHTML","wouldBenefitFromHitTestTargetSwitch","switchToHitTestTarget","visibleColumnFromColumn","getLineContent","model","getOptions","tabSize","fulfillUnknown","fulfillTextarea","fulfillMargin","fulfillViewZone","fulfillContentText","fulfillContentEmpty","fulfillContentWidget","fulfillScrollbar","fulfillOverlayWidget","EMPTY_CONTENT_AFTER_LINES","createEmptyContentDataInLines","horizontalDistanceToText","mouseTargetIsWidget","e","t","createMouseTarget","request","r","_createMouseTarget","_snapToSoftTabBoundary","fromPositions","plusRange","err","resolvedRequest","result","_hitTestContentWidget","_hitTestOverlayWidget","_hitTestMinimap","_hitTestScrollbarSlider","_hitTestViewZone","_hitTestMargin","_hitTestViewCursor","_hitTestTextArea","_hitTestViewLines","_hitTestScrollbar","widgetId","d","domNode","mightBeForeignElement","width","cursorVerticalOffset","viewZoneData","mouseTargetType","res","getStartPosition","abs","glyphMarginWidth","lineNumbersWidth","offsetX","modelCoordinate","coordinatesConverter","convertViewPositionToModelPosition","lanes","glyphLanes","getLanesAtLine","glyphMarginLane","floor","lineLength","getLineLength","lineWidth","contentWidth","verticalScrollbarWidth","getPositionAtCoordinate","createMouseTargetFromHitTestPosition","possibleLineNumber","maxColumn","nodeType","className","test","getMouseColumn","chars","round","visibleRange","columnHorizontalOffset","left","points","push","lineMaxColumn","sort","a","mouseCoordinates","toClientCoordinates","getWindow","spanNodeClientRect","getBoundingClientRect","mouseIsOverSpanNode","clientX","right","rng","i","prev","curr","prevDelta","nextDelta","_doHitTestWithCaretRangeFromPoint","lineStartVerticalOffset","lineEndVerticalOffset","isBelowLastLine","lineCenteredVerticalOffset","adjustedPageY","adjustedPage","_actualDoHitTestWithCaretRangeFromPoint","coords","shadowRoot","getShadowRoot","caretRangeFromPoint","shadowCaretRangeFromPoint","clientY","startContainer","TEXT_NODE","parent1","parent2","parent3","parent3ClassName","ELEMENT_NODE","CLASS_NAME","startOffset","parent2ClassName","textContent","_doHitTestWithCaretPositionFromPoint","hitResult","caretPositionFromPoint","offsetNode","parent1ClassName","tokenSpan","childNodes","min","lineContent","newPosition","atomicPosition","getInjectedTextAt","normalizedPosition","normalizePosition","equals","document","createRange","el","elementFromPoint","hasChildNodes","firstChild","lastChild","rect","elWindow","fontStyle","getComputedStyle","getPropertyValue","fontVariant","fontWeight","fontSize","fontFamily","font","text","innerText","pixelCursor","step","charWidthReader","CharWidthReader","getInstance","getCharWidth","charAt","setStart","setEnd","_INSTANCE","_cache","_canvas","createElement","char","cacheKey","getContext","metrics","measureText"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/controller/mouseTarget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IPointerHandlerHelper } from './mouseHandler.js';\nimport { IMouseTargetContentEmptyData, IMouseTargetMarginData, IMouseTarget, IMouseTargetContentEmpty, IMouseTargetContentText, IMouseTargetContentWidget, IMouseTargetMargin, IMouseTargetOutsideEditor, IMouseTargetOverlayWidget, IMouseTargetScrollbar, IMouseTargetTextarea, IMouseTargetUnknown, IMouseTargetViewZone, IMouseTargetContentTextData, IMouseTargetViewZoneData, MouseTargetType } from '../editorBrowser.js';\nimport { ClientCoordinates, EditorMouseEvent, EditorPagePosition, PageCoordinates, CoordinatesRelativeToEditor } from '../editorDom.js';\nimport { PartFingerprint, PartFingerprints } from '../view/viewPart.js';\nimport { ViewLine } from '../viewParts/viewLines/viewLine.js';\nimport { IViewCursorRenderData } from '../viewParts/viewCursors/viewCursor.js';\nimport { EditorLayoutInfo, EditorOption } from '../../common/config/editorOptions.js';\nimport { Position } from '../../common/core/position.js';\nimport { Range as EditorRange } from '../../common/core/range.js';\nimport { HorizontalPosition } from '../view/renderingContext.js';\nimport { ViewContext } from '../../common/viewModel/viewContext.js';\nimport { IViewModel } from '../../common/viewModel.js';\nimport { CursorColumns } from '../../common/core/cursorColumns.js';\nimport * as dom from '../../../base/browser/dom.js';\nimport { AtomicTabMoveOperations, Direction } from '../../common/cursor/cursorAtomicMoveOperations.js';\nimport { PositionAffinity, TextDirection } from '../../common/model.js';\nimport { InjectedText } from '../../common/modelLineProjectionData.js';\nimport { Mutable } from '../../../base/common/types.js';\nimport { Lazy } from '../../../base/common/lazy.js';\nimport type { ViewLinesGpu } from '../viewParts/viewLinesGpu/viewLinesGpu.js';\n\nconst enum HitTestResultType {\n\tUnknown,\n\tContent,\n}\n\nclass UnknownHitTestResult {\n\treadonly type = HitTestResultType.Unknown;\n\tconstructor(\n\t\treadonly hitTarget: HTMLElement | null = null\n\t) { }\n}\n\nclass ContentHitTestResult {\n\treadonly type = HitTestResultType.Content;\n\n\tget hitTarget(): HTMLElement { return this.spanNode; }\n\n\tconstructor(\n\t\treadonly position: Position,\n\t\treadonly spanNode: HTMLElement,\n\t\treadonly injectedText: InjectedText | null,\n\t) { }\n}\n\ntype HitTestResult = UnknownHitTestResult | ContentHitTestResult;\n\nnamespace HitTestResult {\n\texport function createFromDOMInfo(ctx: HitTestContext, spanNode: HTMLElement, offset: number): HitTestResult {\n\t\tconst position = ctx.getPositionFromDOMInfo(spanNode, offset);\n\t\tif (position) {\n\t\t\treturn new ContentHitTestResult(position, spanNode, null);\n\t\t}\n\t\treturn new UnknownHitTestResult(spanNode);\n\t}\n}\n\nexport class PointerHandlerLastRenderData {\n\tconstructor(\n\t\tpublic readonly lastViewCursorsRenderData: IViewCursorRenderData[],\n\t\tpublic readonly lastTextareaPosition: Position | null\n\t) { }\n}\n\nexport class MouseTarget {\n\n\tprivate static _deduceRage(position: Position): EditorRange;\n\tprivate static _deduceRage(position: Position, range: EditorRange | null): EditorRange;\n\tprivate static _deduceRage(position: Position | null): EditorRange | null;\n\tprivate static _deduceRage(position: Position | null, range: EditorRange | null = null): EditorRange | null {\n\t\tif (!range && position) {\n\t\t\treturn new EditorRange(position.lineNumber, position.column, position.lineNumber, position.column);\n\t\t}\n\t\treturn range ?? null;\n\t}\n\tpublic static createUnknown(element: HTMLElement | null, mouseColumn: number, position: Position | null): IMouseTargetUnknown {\n\t\treturn { type: MouseTargetType.UNKNOWN, element, mouseColumn, position, range: this._deduceRage(position) };\n\t}\n\tpublic static createTextarea(element: HTMLElement | null, mouseColumn: number): IMouseTargetTextarea {\n\t\treturn { type: MouseTargetType.TEXTAREA, element, mouseColumn, position: null, range: null };\n\t}\n\tpublic static createMargin(type: MouseTargetType.GUTTER_GLYPH_MARGIN | MouseTargetType.GUTTER_LINE_NUMBERS | MouseTargetType.GUTTER_LINE_DECORATIONS, element: HTMLElement | null, mouseColumn: number, position: Position, range: EditorRange, detail: IMouseTargetMarginData): IMouseTargetMargin {\n\t\treturn { type, element, mouseColumn, position, range, detail };\n\t}\n\tpublic static createViewZone(type: MouseTargetType.GUTTER_VIEW_ZONE | MouseTargetType.CONTENT_VIEW_ZONE, element: HTMLElement | null, mouseColumn: number, position: Position, detail: IMouseTargetViewZoneData): IMouseTargetViewZone {\n\t\treturn { type, element, mouseColumn, position, range: this._deduceRage(position), detail };\n\t}\n\tpublic static createContentText(element: HTMLElement | null, mouseColumn: number, position: Position, range: EditorRange | null, detail: IMouseTargetContentTextData): IMouseTargetContentText {\n\t\treturn { type: MouseTargetType.CONTENT_TEXT, element, mouseColumn, position, range: this._deduceRage(position, range), detail };\n\t}\n\tpublic static createContentEmpty(element: HTMLElement | null, mouseColumn: number, position: Position, detail: IMouseTargetContentEmptyData): IMouseTargetContentEmpty {\n\t\treturn { type: MouseTargetType.CONTENT_EMPTY, element, mouseColumn, position, range: this._deduceRage(position), detail };\n\t}\n\tpublic static createContentWidget(element: HTMLElement | null, mouseColumn: number, detail: string): IMouseTargetContentWidget {\n\t\treturn { type: MouseTargetType.CONTENT_WIDGET, element, mouseColumn, position: null, range: null, detail };\n\t}\n\tpublic static createScrollbar(element: HTMLElement | null, mouseColumn: number, position: Position): IMouseTargetScrollbar {\n\t\treturn { type: MouseTargetType.SCROLLBAR, element, mouseColumn, position, range: this._deduceRage(position) };\n\t}\n\tpublic static createOverlayWidget(element: HTMLElement | null, mouseColumn: number, detail: string): IMouseTargetOverlayWidget {\n\t\treturn { type: MouseTargetType.OVERLAY_WIDGET, element, mouseColumn, position: null, range: null, detail };\n\t}\n\tpublic static createOutsideEditor(mouseColumn: number, position: Position, outsidePosition: 'above' | 'below' | 'left' | 'right', outsideDistance: number): IMouseTargetOutsideEditor {\n\t\treturn { type: MouseTargetType.OUTSIDE_EDITOR, element: null, mouseColumn, position, range: this._deduceRage(position), outsidePosition, outsideDistance };\n\t}\n\n\tprivate static _typeToString(type: MouseTargetType): string {\n\t\tif (type === MouseTargetType.TEXTAREA) {\n\t\t\treturn 'TEXTAREA';\n\t\t}\n\t\tif (type === MouseTargetType.GUTTER_GLYPH_MARGIN) {\n\t\t\treturn 'GUTTER_GLYPH_MARGIN';\n\t\t}\n\t\tif (type === MouseTargetType.GUTTER_LINE_NUMBERS) {\n\t\t\treturn 'GUTTER_LINE_NUMBERS';\n\t\t}\n\t\tif (type === MouseTargetType.GUTTER_LINE_DECORATIONS) {\n\t\t\treturn 'GUTTER_LINE_DECORATIONS';\n\t\t}\n\t\tif (type === MouseTargetType.GUTTER_VIEW_ZONE) {\n\t\t\treturn 'GUTTER_VIEW_ZONE';\n\t\t}\n\t\tif (type === MouseTargetType.CONTENT_TEXT) {\n\t\t\treturn 'CONTENT_TEXT';\n\t\t}\n\t\tif (type === MouseTargetType.CONTENT_EMPTY) {\n\t\t\treturn 'CONTENT_EMPTY';\n\t\t}\n\t\tif (type === MouseTargetType.CONTENT_VIEW_ZONE) {\n\t\t\treturn 'CONTENT_VIEW_ZONE';\n\t\t}\n\t\tif (type === MouseTargetType.CONTENT_WIDGET) {\n\t\t\treturn 'CONTENT_WIDGET';\n\t\t}\n\t\tif (type === MouseTargetType.OVERVIEW_RULER) {\n\t\t\treturn 'OVERVIEW_RULER';\n\t\t}\n\t\tif (type === MouseTargetType.SCROLLBAR) {\n\t\t\treturn 'SCROLLBAR';\n\t\t}\n\t\tif (type === MouseTargetType.OVERLAY_WIDGET) {\n\t\t\treturn 'OVERLAY_WIDGET';\n\t\t}\n\t\treturn 'UNKNOWN';\n\t}\n\n\tpublic static toString(target: IMouseTarget): string {\n\t\treturn this._typeToString(target.type) + ': ' + target.position + ' - ' + target.range + ' - ' + JSON.stringify((target as unknown as Record<string, unknown>).detail);\n\t}\n}\n\nclass ElementPath {\n\n\tpublic static isTextArea(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length === 2\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[1] === PartFingerprint.TextArea\n\t\t);\n\t}\n\n\tpublic static isChildOfViewLines(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 4\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[3] === PartFingerprint.ViewLines\n\t\t);\n\t}\n\n\tpublic static isStrictChildOfViewLines(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length > 4\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[3] === PartFingerprint.ViewLines\n\t\t);\n\t}\n\n\tpublic static isChildOfScrollableElement(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 2\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[1] === PartFingerprint.ScrollableElement\n\t\t);\n\t}\n\n\tpublic static isChildOfMinimap(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 2\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[1] === PartFingerprint.Minimap\n\t\t);\n\t}\n\n\tpublic static isChildOfContentWidgets(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 4\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[3] === PartFingerprint.ContentWidgets\n\t\t);\n\t}\n\n\tpublic static isChildOfOverflowGuard(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 1\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t);\n\t}\n\n\tpublic static isChildOfOverflowingContentWidgets(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 1\n\t\t\t&& path[0] === PartFingerprint.OverflowingContentWidgets\n\t\t);\n\t}\n\n\tpublic static isChildOfOverlayWidgets(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 2\n\t\t\t&& path[0] === PartFingerprint.OverflowGuard\n\t\t\t&& path[1] === PartFingerprint.OverlayWidgets\n\t\t);\n\t}\n\n\tpublic static isChildOfOverflowingOverlayWidgets(path: Uint8Array): boolean {\n\t\treturn (\n\t\t\tpath.length >= 1\n\t\t\t&& path[0] === PartFingerprint.OverflowingOverlayWidgets\n\t\t);\n\t}\n}\n\nexport class HitTestContext {\n\n\tpublic readonly viewModel: IViewModel;\n\tpublic readonly layoutInfo: EditorLayoutInfo;\n\tpublic readonly viewDomNode: HTMLElement;\n\tpublic readonly viewLinesGpu: ViewLinesGpu | undefined;\n\tpublic readonly lineHeight: number;\n\tpublic readonly stickyTabStops: boolean;\n\tpublic readonly typicalHalfwidthCharacterWidth: number;\n\tpublic readonly lastRenderData: PointerHandlerLastRenderData;\n\n\tprivate readonly _context: ViewContext;\n\tprivate readonly _viewHelper: IPointerHandlerHelper;\n\n\tconstructor(context: ViewContext, viewHelper: IPointerHandlerHelper, lastRenderData: PointerHandlerLastRenderData) {\n\t\tthis.viewModel = context.viewModel;\n\t\tconst options = context.configuration.options;\n\t\tthis.layoutInfo = options.get(EditorOption.layoutInfo);\n\t\tthis.viewDomNode = viewHelper.viewDomNode;\n\t\tthis.viewLinesGpu = viewHelper.viewLinesGpu;\n\t\tthis.lineHeight = options.get(EditorOption.lineHeight);\n\t\tthis.stickyTabStops = options.get(EditorOption.stickyTabStops);\n\t\tthis.typicalHalfwidthCharacterWidth = options.get(EditorOption.fontInfo).typicalHalfwidthCharacterWidth;\n\t\tthis.lastRenderData = lastRenderData;\n\t\tthis._context = context;\n\t\tthis._viewHelper = viewHelper;\n\t}\n\n\tpublic getZoneAtCoord(mouseVerticalOffset: number): IMouseTargetViewZoneData | null {\n\t\treturn HitTestContext.getZoneAtCoord(this._context, mouseVerticalOffset);\n\t}\n\n\tpublic static getZoneAtCoord(context: ViewContext, mouseVerticalOffset: number): IMouseTargetViewZoneData | null {\n\t\t// The target is either a view zone or the empty space after the last view-line\n\t\tconst viewZoneWhitespace = context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);\n\n\t\tif (viewZoneWhitespace) {\n\t\t\tconst viewZoneMiddle = viewZoneWhitespace.verticalOffset + viewZoneWhitespace.height / 2;\n\t\t\tconst lineCount = context.viewModel.getLineCount();\n\t\t\tlet positionBefore: Position | null = null;\n\t\t\tlet position: Position | null;\n\t\t\tlet positionAfter: Position | null = null;\n\n\t\t\tif (viewZoneWhitespace.afterLineNumber !== lineCount) {\n\t\t\t\t// There are more lines after this view zone\n\t\t\t\tpositionAfter = new Position(viewZoneWhitespace.afterLineNumber + 1, 1);\n\t\t\t}\n\t\t\tif (viewZoneWhitespace.afterLineNumber > 0) {\n\t\t\t\t// There are more lines above this view zone\n\t\t\t\tpositionBefore = new Position(viewZoneWhitespace.afterLineNumber, context.viewModel.getLineMaxColumn(viewZoneWhitespace.afterLineNumber));\n\t\t\t}\n\n\t\t\tif (positionAfter === null) {\n\t\t\t\tposition = positionBefore;\n\t\t\t} else if (positionBefore === null) {\n\t\t\t\tposition = positionAfter;\n\t\t\t} else if (mouseVerticalOffset < viewZoneMiddle) {\n\t\t\t\tposition = positionBefore;\n\t\t\t} else {\n\t\t\t\tposition = positionAfter;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tviewZoneId: viewZoneWhitespace.id,\n\t\t\t\tafterLineNumber: viewZoneWhitespace.afterLineNumber,\n\t\t\t\tpositionBefore: positionBefore,\n\t\t\t\tpositionAfter: positionAfter,\n\t\t\t\tposition: position!\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic getFullLineRangeAtCoord(mouseVerticalOffset: number): { range: EditorRange; isAfterLines: boolean } {\n\t\tif (this._context.viewLayout.isAfterLines(mouseVerticalOffset)) {\n\t\t\t// Below the last line\n\t\t\tconst lineNumber = this._context.viewModel.getLineCount();\n\t\t\tconst maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n\t\t\treturn {\n\t\t\t\trange: new EditorRange(lineNumber, maxLineColumn, lineNumber, maxLineColumn),\n\t\t\t\tisAfterLines: true\n\t\t\t};\n\t\t}\n\n\t\tconst lineNumber = this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n\t\tconst maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n\t\treturn {\n\t\t\trange: new EditorRange(lineNumber, 1, lineNumber, maxLineColumn),\n\t\t\tisAfterLines: false\n\t\t};\n\t}\n\n\tpublic getLineNumberAtVerticalOffset(mouseVerticalOffset: number): number {\n\t\treturn this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n\t}\n\n\tpublic isAfterLines(mouseVerticalOffset: number): boolean {\n\t\treturn this._context.viewLayout.isAfterLines(mouseVerticalOffset);\n\t}\n\n\tpublic isInTopPadding(mouseVerticalOffset: number): boolean {\n\t\treturn this._context.viewLayout.isInTopPadding(mouseVerticalOffset);\n\t}\n\n\tpublic isInBottomPadding(mouseVerticalOffset: number): boolean {\n\t\treturn this._context.viewLayout.isInBottomPadding(mouseVerticalOffset);\n\t}\n\n\tpublic getVerticalOffsetForLineNumber(lineNumber: number): number {\n\t\treturn this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber);\n\t}\n\n\tpublic findAttribute(element: Element, attr: string): string | null {\n\t\treturn HitTestContext._findAttribute(element, attr, this._viewHelper.viewDomNode);\n\t}\n\n\tprivate static _findAttribute(element: Element, attr: string, stopAt: Element): string | null {\n\t\twhile (element && element !== element.ownerDocument.body) {\n\t\t\tif (element.hasAttribute && element.hasAttribute(attr)) {\n\t\t\t\treturn element.getAttribute(attr);\n\t\t\t}\n\t\t\tif (element === stopAt) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\telement = <Element>element.parentNode;\n\t\t}\n\t\treturn null;\n\t}\n\n\tpublic getLineWidth(lineNumber: number): number {\n\t\treturn this._viewHelper.getLineWidth(lineNumber);\n\t}\n\n\tpublic isRtl(lineNumber: number): boolean {\n\t\treturn this.viewModel.getTextDirection(lineNumber) === TextDirection.RTL;\n\n\t}\n\n\tpublic visibleRangeForPosition(lineNumber: number, column: number): HorizontalPosition | null {\n\t\treturn this._viewHelper.visibleRangeForPosition(lineNumber, column);\n\t}\n\n\tpublic getPositionFromDOMInfo(spanNode: HTMLElement, offset: number): Position | null {\n\t\treturn this._viewHelper.getPositionFromDOMInfo(spanNode, offset);\n\t}\n\n\tpublic getCurrentScrollTop(): number {\n\t\treturn this._context.viewLayout.getCurrentScrollTop();\n\t}\n\n\tpublic getCurrentScrollLeft(): number {\n\t\treturn this._context.viewLayout.getCurrentScrollLeft();\n\t}\n}\n\nabstract class BareHitTestRequest {\n\n\tpublic readonly editorPos: EditorPagePosition;\n\tpublic readonly pos: PageCoordinates;\n\tpublic readonly relativePos: CoordinatesRelativeToEditor;\n\tpublic readonly mouseVerticalOffset: number;\n\tpublic readonly isInMarginArea: boolean;\n\tpublic readonly isInContentArea: boolean;\n\tpublic readonly mouseContentHorizontalOffset: number;\n\n\tprotected readonly mouseColumn: number;\n\n\tconstructor(ctx: HitTestContext, editorPos: EditorPagePosition, pos: PageCoordinates, relativePos: CoordinatesRelativeToEditor) {\n\t\tthis.editorPos = editorPos;\n\t\tthis.pos = pos;\n\t\tthis.relativePos = relativePos;\n\n\t\tthis.mouseVerticalOffset = Math.max(0, ctx.getCurrentScrollTop() + this.relativePos.y);\n\t\tthis.mouseContentHorizontalOffset = ctx.getCurrentScrollLeft() + this.relativePos.x - ctx.layoutInfo.contentLeft;\n\t\tthis.isInMarginArea = (this.relativePos.x < ctx.layoutInfo.contentLeft && this.relativePos.x >= ctx.layoutInfo.glyphMarginLeft);\n\t\tthis.isInContentArea = !this.isInMarginArea;\n\t\tthis.mouseColumn = Math.max(0, MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset, ctx.typicalHalfwidthCharacterWidth));\n\t}\n}\n\nclass HitTestRequest extends BareHitTestRequest {\n\tprivate readonly _ctx: HitTestContext;\n\tprivate readonly _eventTarget: HTMLElement | null;\n\tpublic readonly hitTestResult = new Lazy(() => MouseTargetFactory.doHitTest(this._ctx, this));\n\tprivate _useHitTestTarget: boolean;\n\tprivate _targetPathCacheElement: HTMLElement | null = null;\n\tprivate _targetPathCacheValue: Uint8Array = new Uint8Array(0);\n\n\tpublic get target(): HTMLElement | null {\n\t\tif (this._useHitTestTarget) {\n\t\t\treturn this.hitTestResult.value.hitTarget;\n\t\t}\n\t\treturn this._eventTarget;\n\t}\n\n\tpublic get targetPath(): Uint8Array {\n\t\tif (this._targetPathCacheElement !== this.target) {\n\t\t\tthis._targetPathCacheElement = this.target;\n\t\t\tthis._targetPathCacheValue = PartFingerprints.collect(this.target, this._ctx.viewDomNode);\n\t\t}\n\t\treturn this._targetPathCacheValue;\n\t}\n\n\tconstructor(ctx: HitTestContext, editorPos: EditorPagePosition, pos: PageCoordinates, relativePos: CoordinatesRelativeToEditor, eventTarget: HTMLElement | null) {\n\t\tsuper(ctx, editorPos, pos, relativePos);\n\t\tthis._ctx = ctx;\n\t\tthis._eventTarget = eventTarget;\n\n\t\t// If no event target is passed in, we will use the hit test target\n\t\tconst hasEventTarget = Boolean(this._eventTarget);\n\t\tthis._useHitTestTarget = !hasEventTarget;\n\t}\n\n\tpublic override toString(): string {\n\t\treturn `pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\\n\\ttarget: ${this.target ? this.target.outerHTML : null}`;\n\t}\n\n\tpublic get wouldBenefitFromHitTestTargetSwitch(): boolean {\n\t\treturn (\n\t\t\t!this._useHitTestTarget\n\t\t\t&& this.hitTestResult.value.hitTarget !== null\n\t\t\t&& this.target !== this.hitTestResult.value.hitTarget\n\t\t);\n\t}\n\n\tpublic switchToHitTestTarget(): void {\n\t\tthis._useHitTestTarget = true;\n\t}\n\n\tprivate _getMouseColumn(position: Position | null = null): number {\n\t\tif (position && position.column < this._ctx.viewModel.getLineMaxColumn(position.lineNumber)) {\n\t\t\t// Most likely, the line contains foreign decorations...\n\t\t\treturn CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(position.lineNumber), position.column, this._ctx.viewModel.model.getOptions().tabSize) + 1;\n\t\t}\n\t\treturn this.mouseColumn;\n\t}\n\n\tpublic fulfillUnknown(position: Position | null = null): IMouseTargetUnknown {\n\t\treturn MouseTarget.createUnknown(this.target, this._getMouseColumn(position), position);\n\t}\n\tpublic fulfillTextarea(): IMouseTargetTextarea {\n\t\treturn MouseTarget.createTextarea(this.target, this._getMouseColumn());\n\t}\n\tpublic fulfillMargin(type: MouseTargetType.GUTTER_GLYPH_MARGIN | MouseTargetType.GUTTER_LINE_NUMBERS | MouseTargetType.GUTTER_LINE_DECORATIONS, position: Position, range: EditorRange, detail: IMouseTargetMarginData): IMouseTargetMargin {\n\t\treturn MouseTarget.createMargin(type, this.target, this._getMouseColumn(position), position, range, detail);\n\t}\n\tpublic fulfillViewZone(type: MouseTargetType.GUTTER_VIEW_ZONE | MouseTargetType.CONTENT_VIEW_ZONE, position: Position, detail: IMouseTargetViewZoneData): IMouseTargetViewZone {\n\t\t// Always return the usual mouse column for a view zone.\n\t\treturn MouseTarget.createViewZone(type, this.target, this._getMouseColumn(), position, detail);\n\t}\n\tpublic fulfillContentText(position: Position, range: EditorRange | null, detail: IMouseTargetContentTextData): IMouseTargetContentText {\n\t\treturn MouseTarget.createContentText(this.target, this._getMouseColumn(position), position, range, detail);\n\t}\n\tpublic fulfillContentEmpty(position: Position, detail: IMouseTargetContentEmptyData): IMouseTargetContentEmpty {\n\t\treturn MouseTarget.createContentEmpty(this.target, this._getMouseColumn(position), position, detail);\n\t}\n\tpublic fulfillContentWidget(detail: string): IMouseTargetContentWidget {\n\t\treturn MouseTarget.createContentWidget(this.target, this._getMouseColumn(), detail);\n\t}\n\tpublic fulfillScrollbar(position: Position): IMouseTargetScrollbar {\n\t\treturn MouseTarget.createScrollbar(this.target, this._getMouseColumn(position), position);\n\t}\n\tpublic fulfillOverlayWidget(detail: string): IMouseTargetOverlayWidget {\n\t\treturn MouseTarget.createOverlayWidget(this.target, this._getMouseColumn(), detail);\n\t}\n}\n\ninterface ResolvedHitTestRequest extends HitTestRequest {\n\treadonly target: HTMLElement;\n}\n\nconst EMPTY_CONTENT_AFTER_LINES: IMouseTargetContentEmptyData = { isAfterLines: true };\n\nfunction createEmptyContentDataInLines(horizontalDistanceToText: number): IMouseTargetContentEmptyData {\n\treturn {\n\t\tisAfterLines: false,\n\t\thorizontalDistanceToText: horizontalDistanceToText\n\t};\n}\n\nexport class MouseTargetFactory {\n\n\tprivate readonly _context: ViewContext;\n\tprivate readonly _viewHelper: IPointerHandlerHelper;\n\n\tconstructor(context: ViewContext, viewHelper: IPointerHandlerHelper) {\n\t\tthis._context = context;\n\t\tthis._viewHelper = viewHelper;\n\t}\n\n\tpublic mouseTargetIsWidget(e: EditorMouseEvent): boolean {\n\t\tconst t = <Element>e.target;\n\t\tconst path = PartFingerprints.collect(t, this._viewHelper.viewDomNode);\n\n\t\t// Is it a content widget?\n\t\tif (ElementPath.isChildOfContentWidgets(path) || ElementPath.isChildOfOverflowingContentWidgets(path)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Is it an overlay widget?\n\t\tif (ElementPath.isChildOfOverlayWidgets(path) || ElementPath.isChildOfOverflowingOverlayWidgets(path)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpublic createMouseTarget(lastRenderData: PointerHandlerLastRenderData, editorPos: EditorPagePosition, pos: PageCoordinates, relativePos: CoordinatesRelativeToEditor, target: HTMLElement | null): IMouseTarget {\n\t\tconst ctx = new HitTestContext(this._context, this._viewHelper, lastRenderData);\n\t\tconst request = new HitTestRequest(ctx, editorPos, pos, relativePos, target);\n\t\ttry {\n\t\t\tconst r = MouseTargetFactory._createMouseTarget(ctx, request);\n\n\t\t\tif (r.type === MouseTargetType.CONTENT_TEXT) {\n\t\t\t\t// Snap to the nearest soft tab boundary if atomic soft tabs are enabled.\n\t\t\t\tif (ctx.stickyTabStops && r.position !== null) {\n\t\t\t\t\tconst position = MouseTargetFactory._snapToSoftTabBoundary(r.position, ctx.viewModel);\n\t\t\t\t\tconst range = EditorRange.fromPositions(position, position).plusRange(r.range);\n\t\t\t\t\treturn request.fulfillContentText(position, range, r.detail);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// console.log(MouseTarget.toString(r));\n\t\t\treturn r;\n\t\t} catch (err) {\n\t\t\t// console.log(err);\n\t\t\treturn request.fulfillUnknown();\n\t\t}\n\t}\n\n\tprivate static _createMouseTarget(ctx: HitTestContext, request: HitTestRequest): IMouseTarget {\n\n\t\t// console.log(`${domHitTestExecuted ? '=>' : ''}CAME IN REQUEST: ${request}`);\n\n\t\tif (request.target === null) {\n\t\t\t// No target\n\t\t\treturn request.fulfillUnknown();\n\t\t}\n\n\t\t// we know for a fact that request.target is not null\n\t\tconst resolvedRequest = <ResolvedHitTestRequest>request;\n\n\t\tlet result: IMouseTarget | null = null;\n\n\t\tif (!ElementPath.isChildOfOverflowGuard(request.targetPath) && !ElementPath.isChildOfOverflowingContentWidgets(request.targetPath) && !ElementPath.isChildOfOverflowingOverlayWidgets(request.targetPath)) {\n\t\t\t// We only render dom nodes inside the overflow guard or in the overflowing content widgets\n\t\t\tresult = result || request.fulfillUnknown();\n\t\t}\n\n\t\tresult = result || MouseTargetFactory._hitTestContentWidget(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestOverlayWidget(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestMinimap(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestScrollbarSlider(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestViewZone(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestMargin(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestViewCursor(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestTextArea(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestViewLines(ctx, resolvedRequest);\n\t\tresult = result || MouseTargetFactory._hitTestScrollbar(ctx, resolvedRequest);\n\n\t\treturn (result || request.fulfillUnknown());\n\t}\n\n\tprivate static _hitTestContentWidget(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\t// Is it a content widget?\n\t\tif (ElementPath.isChildOfContentWidgets(request.targetPath) || ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)) {\n\t\t\tconst widgetId = ctx.findAttribute(request.target, 'widgetId');\n\t\t\tif (widgetId) {\n\t\t\t\treturn request.fulfillContentWidget(widgetId);\n\t\t\t} else {\n\t\t\t\treturn request.fulfillUnknown();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestOverlayWidget(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\t// Is it an overlay widget?\n\t\tif (ElementPath.isChildOfOverlayWidgets(request.targetPath) || ElementPath.isChildOfOverflowingOverlayWidgets(request.targetPath)) {\n\t\t\tconst widgetId = ctx.findAttribute(request.target, 'widgetId');\n\t\t\tif (widgetId) {\n\t\t\t\treturn request.fulfillOverlayWidget(widgetId);\n\t\t\t} else {\n\t\t\t\treturn request.fulfillUnknown();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestViewCursor(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\n\t\tif (request.target) {\n\t\t\t// Check if we've hit a painted cursor\n\t\t\tconst lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n\n\t\t\tfor (const d of lastViewCursorsRenderData) {\n\n\t\t\t\tif (request.target === d.domNode) {\n\t\t\t\t\treturn request.fulfillContentText(d.position, null, { mightBeForeignElement: false, injectedText: null });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (request.isInContentArea) {\n\t\t\t// Edge has a bug when hit-testing the exact position of a cursor,\n\t\t\t// instead of returning the correct dom node, it returns the\n\t\t\t// first or last rendered view line dom node, therefore help it out\n\t\t\t// and first check if we are on top of a cursor\n\n\t\t\tconst lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n\t\t\tconst mouseContentHorizontalOffset = request.mouseContentHorizontalOffset;\n\t\t\tconst mouseVerticalOffset = request.mouseVerticalOffset;\n\n\t\t\tfor (const d of lastViewCursorsRenderData) {\n\n\t\t\t\tif (mouseContentHorizontalOffset < d.contentLeft) {\n\t\t\t\t\t// mouse position is to the left of the cursor\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (mouseContentHorizontalOffset > d.contentLeft + d.width) {\n\t\t\t\t\t// mouse position is to the right of the cursor\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst cursorVerticalOffset = ctx.getVerticalOffsetForLineNumber(d.position.lineNumber);\n\n\t\t\t\tif (\n\t\t\t\t\tcursorVerticalOffset <= mouseVerticalOffset\n\t\t\t\t\t&& mouseVerticalOffset <= cursorVerticalOffset + d.height\n\t\t\t\t) {\n\t\t\t\t\treturn request.fulfillContentText(d.position, null, { mightBeForeignElement: false, injectedText: null });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestViewZone(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\tconst viewZoneData = ctx.getZoneAtCoord(request.mouseVerticalOffset);\n\t\tif (viewZoneData) {\n\t\t\tconst mouseTargetType = (request.isInContentArea ? MouseTargetType.CONTENT_VIEW_ZONE : MouseTargetType.GUTTER_VIEW_ZONE);\n\t\t\treturn request.fulfillViewZone(mouseTargetType, viewZoneData.position, viewZoneData);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestTextArea(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\t// Is it the textarea?\n\t\tif (ElementPath.isTextArea(request.targetPath)) {\n\t\t\tif (ctx.lastRenderData.lastTextareaPosition) {\n\t\t\t\treturn request.fulfillContentText(ctx.lastRenderData.lastTextareaPosition, null, { mightBeForeignElement: false, injectedText: null });\n\t\t\t}\n\t\t\treturn request.fulfillTextarea();\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestMargin(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\tif (request.isInMarginArea) {\n\t\t\tconst res = ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset);\n\t\t\tconst pos = res.range.getStartPosition();\n\t\t\tlet offset = Math.abs(request.relativePos.x);\n\t\t\tconst detail: Mutable<IMouseTargetMarginData> = {\n\t\t\t\tisAfterLines: res.isAfterLines,\n\t\t\t\tglyphMarginLeft: ctx.layoutInfo.glyphMarginLeft,\n\t\t\t\tglyphMarginWidth: ctx.layoutInfo.glyphMarginWidth,\n\t\t\t\tlineNumbersWidth: ctx.layoutInfo.lineNumbersWidth,\n\t\t\t\toffsetX: offset\n\t\t\t};\n\n\t\t\toffset -= ctx.layoutInfo.glyphMarginLeft;\n\n\t\t\tif (offset <= ctx.layoutInfo.glyphMarginWidth) {\n\t\t\t\t// On the glyph margin\n\t\t\t\tconst modelCoordinate = ctx.viewModel.coordinatesConverter.convertViewPositionToModelPosition(res.range.getStartPosition());\n\t\t\t\tconst lanes = ctx.viewModel.glyphLanes.getLanesAtLine(modelCoordinate.lineNumber);\n\t\t\t\tdetail.glyphMarginLane = lanes[Math.floor(offset / ctx.lineHeight)];\n\t\t\t\treturn request.fulfillMargin(MouseTargetType.GUTTER_GLYPH_MARGIN, pos, res.range, detail);\n\t\t\t}\n\t\t\toffset -= ctx.layoutInfo.glyphMarginWidth;\n\n\t\t\tif (offset <= ctx.layoutInfo.lineNumbersWidth) {\n\t\t\t\t// On the line numbers\n\t\t\t\treturn request.fulfillMargin(MouseTargetType.GUTTER_LINE_NUMBERS, pos, res.range, detail);\n\t\t\t}\n\t\t\toffset -= ctx.layoutInfo.lineNumbersWidth;\n\n\t\t\t// On the line decorations\n\t\t\treturn request.fulfillMargin(MouseTargetType.GUTTER_LINE_DECORATIONS, pos, res.range, detail);\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestViewLines(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\tif (!ElementPath.isChildOfViewLines(request.targetPath)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (ctx.isInTopPadding(request.mouseVerticalOffset)) {\n\t\t\treturn request.fulfillContentEmpty(new Position(1, 1), EMPTY_CONTENT_AFTER_LINES);\n\t\t}\n\n\t\t// Check if it is below any lines and any view zones\n\t\tif (ctx.isAfterLines(request.mouseVerticalOffset) || ctx.isInBottomPadding(request.mouseVerticalOffset)) {\n\t\t\t// This most likely indicates it happened after the last view-line\n\t\t\tconst lineCount = ctx.viewModel.getLineCount();\n\t\t\tconst maxLineColumn = ctx.viewModel.getLineMaxColumn(lineCount);\n\t\t\treturn request.fulfillContentEmpty(new Position(lineCount, maxLineColumn), EMPTY_CONTENT_AFTER_LINES);\n\t\t}\n\n\t\t// Check if we are hitting a view-line (can happen in the case of inline decorations on empty lines)\n\t\t// See https://github.com/microsoft/vscode/issues/46942\n\t\tif (ElementPath.isStrictChildOfViewLines(request.targetPath)) {\n\t\t\tconst lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\t\tconst lineLength = ctx.viewModel.getLineLength(lineNumber);\n\t\t\tconst lineWidth = ctx.getLineWidth(lineNumber);\n\t\t\tif (lineLength === 0) {\n\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\treturn request.fulfillContentEmpty(new Position(lineNumber, 1), detail);\n\t\t\t}\n\n\t\t\tconst isRtl = ctx.isRtl(lineNumber);\n\t\t\tif (isRtl) {\n\t\t\t\tif (request.mouseContentHorizontalOffset + lineWidth <= ctx.layoutInfo.contentWidth - ctx.layoutInfo.verticalScrollbarWidth) {\n\t\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\t\tconst pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n\t\t\t\t\treturn request.fulfillContentEmpty(pos, detail);\n\t\t\t\t}\n\t\t\t} else if (request.mouseContentHorizontalOffset >= lineWidth) {\n\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\tconst pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n\t\t\t\treturn request.fulfillContentEmpty(pos, detail);\n\t\t\t}\n\t\t} else {\n\t\t\tif (ctx.viewLinesGpu) {\n\t\t\t\tconst lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\t\t\tif (ctx.viewModel.getLineLength(lineNumber) === 0) {\n\t\t\t\t\tconst lineWidth = ctx.getLineWidth(lineNumber);\n\t\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\t\treturn request.fulfillContentEmpty(new Position(lineNumber, 1), detail);\n\t\t\t\t}\n\n\t\t\t\tconst lineWidth = ctx.getLineWidth(lineNumber);\n\t\t\t\tconst isRtl = ctx.isRtl(lineNumber);\n\t\t\t\tif (isRtl) {\n\t\t\t\t\tif (request.mouseContentHorizontalOffset + lineWidth <= ctx.layoutInfo.contentWidth - ctx.layoutInfo.verticalScrollbarWidth) {\n\t\t\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\t\t\tconst pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n\t\t\t\t\t\treturn request.fulfillContentEmpty(pos, detail);\n\t\t\t\t\t}\n\t\t\t\t} else if (request.mouseContentHorizontalOffset >= lineWidth) {\n\t\t\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\t\t\tconst pos = new Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n\t\t\t\t\treturn request.fulfillContentEmpty(pos, detail);\n\t\t\t\t}\n\n\t\t\t\tconst position = ctx.viewLinesGpu.getPositionAtCoordinate(lineNumber, request.mouseContentHorizontalOffset);\n\t\t\t\tif (position) {\n\t\t\t\t\tconst detail: IMouseTargetContentTextData = {\n\t\t\t\t\t\tinjectedText: null,\n\t\t\t\t\t\tmightBeForeignElement: false\n\t\t\t\t\t};\n\t\t\t\t\treturn request.fulfillContentText(position, EditorRange.fromPositions(position, position), detail);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Do the hit test (if not already done)\n\t\tconst hitTestResult = request.hitTestResult.value;\n\n\t\tif (hitTestResult.type === HitTestResultType.Content) {\n\t\t\treturn MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx, request, hitTestResult.spanNode, hitTestResult.position, hitTestResult.injectedText);\n\t\t}\n\n\t\t// We didn't hit content...\n\t\tif (request.wouldBenefitFromHitTestTargetSwitch) {\n\t\t\t// We actually hit something different... Give it one last change by trying again with this new target\n\t\t\trequest.switchToHitTestTarget();\n\t\t\treturn this._createMouseTarget(ctx, request);\n\t\t}\n\n\t\t// We have tried everything...\n\t\treturn request.fulfillUnknown();\n\t}\n\n\tprivate static _hitTestMinimap(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\tif (ElementPath.isChildOfMinimap(request.targetPath)) {\n\t\t\tconst possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\t\tconst maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n\t\t\treturn request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestScrollbarSlider(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\tif (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n\t\t\tif (request.target && request.target.nodeType === 1) {\n\t\t\t\tconst className = request.target.className;\n\t\t\t\tif (className && /\\b(slider|scrollbar)\\b/.test(className)) {\n\t\t\t\t\tconst possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\t\t\t\tconst maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n\t\t\t\t\treturn request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static _hitTestScrollbar(ctx: HitTestContext, request: ResolvedHitTestRequest): IMouseTarget | null {\n\t\t// Is it the overview ruler?\n\t\t// Is it a child of the scrollable element?\n\t\tif (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n\t\t\tconst possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\t\tconst maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n\t\t\treturn request.fulfillScrollbar(new Position(possibleLineNumber, maxColumn));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic getMouseColumn(relativePos: CoordinatesRelativeToEditor): number {\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\tconst mouseContentHorizontalOffset = this._context.viewLayout.getCurrentScrollLeft() + relativePos.x - layoutInfo.contentLeft;\n\t\treturn MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset, options.get(EditorOption.fontInfo).typicalHalfwidthCharacterWidth);\n\t}\n\n\tpublic static _getMouseColumn(mouseContentHorizontalOffset: number, typicalHalfwidthCharacterWidth: number): number {\n\t\tif (mouseContentHorizontalOffset < 0) {\n\t\t\treturn 1;\n\t\t}\n\t\tconst chars = Math.round(mouseContentHorizontalOffset / typicalHalfwidthCharacterWidth);\n\t\treturn (chars + 1);\n\t}\n\n\tprivate static createMouseTargetFromHitTestPosition(ctx: HitTestContext, request: HitTestRequest, spanNode: HTMLElement, pos: Position, injectedText: InjectedText | null): IMouseTarget {\n\t\tconst lineNumber = pos.lineNumber;\n\t\tconst column = pos.column;\n\n\t\tconst lineWidth = ctx.getLineWidth(lineNumber);\n\n\t\tif (request.mouseContentHorizontalOffset > lineWidth) {\n\t\t\tconst detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n\t\t\treturn request.fulfillContentEmpty(pos, detail);\n\t\t}\n\n\t\tconst visibleRange = ctx.visibleRangeForPosition(lineNumber, column);\n\n\t\tif (!visibleRange) {\n\t\t\treturn request.fulfillUnknown(pos);\n\t\t}\n\n\t\tconst columnHorizontalOffset = visibleRange.left;\n\n\t\tif (Math.abs(request.mouseContentHorizontalOffset - columnHorizontalOffset) < 1) {\n\t\t\treturn request.fulfillContentText(pos, null, { mightBeForeignElement: !!injectedText, injectedText });\n\t\t}\n\n\t\t// Let's define a, b, c and check if the offset is in between them...\n\t\tinterface OffsetColumn { offset: number; column: number }\n\n\t\tconst points: OffsetColumn[] = [];\n\t\tpoints.push({ offset: visibleRange.left, column: column });\n\t\tif (column > 1) {\n\t\t\tconst visibleRange = ctx.visibleRangeForPosition(lineNumber, column - 1);\n\t\t\tif (visibleRange) {\n\t\t\t\tpoints.push({ offset: visibleRange.left, column: column - 1 });\n\t\t\t}\n\t\t}\n\t\tconst lineMaxColumn = ctx.viewModel.getLineMaxColumn(lineNumber);\n\t\tif (column < lineMaxColumn) {\n\t\t\tconst visibleRange = ctx.visibleRangeForPosition(lineNumber, column + 1);\n\t\t\tif (visibleRange) {\n\t\t\t\tpoints.push({ offset: visibleRange.left, column: column + 1 });\n\t\t\t}\n\t\t}\n\n\t\tpoints.sort((a, b) => a.offset - b.offset);\n\n\t\tconst mouseCoordinates = request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode));\n\t\tconst spanNodeClientRect = spanNode.getBoundingClientRect();\n\t\tconst mouseIsOverSpanNode = (spanNodeClientRect.left <= mouseCoordinates.clientX && mouseCoordinates.clientX <= spanNodeClientRect.right);\n\n\t\tlet rng: EditorRange | null = null;\n\n\t\tfor (let i = 1; i < points.length; i++) {\n\t\t\tconst prev = points[i - 1];\n\t\t\tconst curr = points[i];\n\t\t\tif (prev.offset <= request.mouseContentHorizontalOffset && request.mouseContentHorizontalOffset <= curr.offset) {\n\t\t\t\trng = new EditorRange(lineNumber, prev.column, lineNumber, curr.column);\n\n\t\t\t\t// See https://github.com/microsoft/vscode/issues/152819\n\t\t\t\t// Due to the use of zwj, the browser's hit test result is skewed towards the left\n\t\t\t\t// Here we try to correct that if the mouse horizontal offset is closer to the right than the left\n\n\t\t\t\tconst prevDelta = Math.abs(prev.offset - request.mouseContentHorizontalOffset);\n\t\t\t\tconst nextDelta = Math.abs(curr.offset - request.mouseContentHorizontalOffset);\n\n\t\t\t\tpos = (\n\t\t\t\t\tprevDelta < nextDelta\n\t\t\t\t\t\t? new Position(lineNumber, prev.column)\n\t\t\t\t\t\t: new Position(lineNumber, curr.column)\n\t\t\t\t);\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn request.fulfillContentText(pos, rng, { mightBeForeignElement: !mouseIsOverSpanNode || !!injectedText, injectedText });\n\t}\n\n\t/**\n\t * Most probably WebKit browsers and Edge\n\t */\n\tprivate static _doHitTestWithCaretRangeFromPoint(ctx: HitTestContext, request: BareHitTestRequest): HitTestResult {\n\n\t\t// In Chrome, especially on Linux it is possible to click between lines,\n\t\t// so try to adjust the `hity` below so that it lands in the center of a line\n\t\tconst lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n\t\tconst lineStartVerticalOffset = ctx.getVerticalOffsetForLineNumber(lineNumber);\n\t\tconst lineEndVerticalOffset = lineStartVerticalOffset + ctx.lineHeight;\n\n\t\tconst isBelowLastLine = (\n\t\t\tlineNumber === ctx.viewModel.getLineCount()\n\t\t\t&& request.mouseVerticalOffset > lineEndVerticalOffset\n\t\t);\n\n\t\tif (!isBelowLastLine) {\n\t\t\tconst lineCenteredVerticalOffset = Math.floor((lineStartVerticalOffset + lineEndVerticalOffset) / 2);\n\t\t\tlet adjustedPageY = request.pos.y + (lineCenteredVerticalOffset - request.mouseVerticalOffset);\n\n\t\t\tif (adjustedPageY <= request.editorPos.y) {\n\t\t\t\tadjustedPageY = request.editorPos.y + 1;\n\t\t\t}\n\t\t\tif (adjustedPageY >= request.editorPos.y + request.editorPos.height) {\n\t\t\t\tadjustedPageY = request.editorPos.y + request.editorPos.height - 1;\n\t\t\t}\n\n\t\t\tconst adjustedPage = new PageCoordinates(request.pos.x, adjustedPageY);\n\n\t\t\tconst r = this._actualDoHitTestWithCaretRangeFromPoint(ctx, adjustedPage.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n\t\t\tif (r.type === HitTestResultType.Content) {\n\t\t\t\treturn r;\n\t\t\t}\n\t\t}\n\n\t\t// Also try to hit test without the adjustment (for the edge cases that we are near the top or bottom)\n\t\treturn this._actualDoHitTestWithCaretRangeFromPoint(ctx, request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n\t}\n\n\tprivate static _actualDoHitTestWithCaretRangeFromPoint(ctx: HitTestContext, coords: ClientCoordinates): HitTestResult {\n\t\tconst shadowRoot = dom.getShadowRoot(ctx.viewDomNode);\n\t\tlet range: Range;\n\t\tif (shadowRoot) {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\t\tif (typeof (<any>shadowRoot).caretRangeFromPoint === 'undefined') {\n\t\t\t\trange = shadowCaretRangeFromPoint(shadowRoot, coords.clientX, coords.clientY);\n\t\t\t} else {\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\t\t\trange = (<any>shadowRoot).caretRangeFromPoint(coords.clientX, coords.clientY);\n\t\t\t}\n\t\t} else {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\t\trange = (<any>ctx.viewDomNode.ownerDocument).caretRangeFromPoint(coords.clientX, coords.clientY);\n\t\t}\n\n\t\tif (!range || !range.startContainer) {\n\t\t\treturn new UnknownHitTestResult();\n\t\t}\n\n\t\t// Chrome always hits a TEXT_NODE, while Edge sometimes hits a token span\n\t\tconst startContainer = range.startContainer;\n\n\t\tif (startContainer.nodeType === startContainer.TEXT_NODE) {\n\t\t\t// startContainer is expected to be the token text\n\t\t\tconst parent1 = startContainer.parentNode; // expected to be the token span\n\t\t\tconst parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line container span\n\t\t\tconst parent3 = parent2 ? parent2.parentNode : null; // expected to be the view line div\n\t\t\tconst parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? (<HTMLElement>parent3).className : null;\n\n\t\t\tif (parent3ClassName === ViewLine.CLASS_NAME) {\n\t\t\t\treturn HitTestResult.createFromDOMInfo(ctx, <HTMLElement>parent1, range.startOffset);\n\t\t\t} else {\n\t\t\t\treturn new UnknownHitTestResult(<HTMLElement>startContainer.parentNode);\n\t\t\t}\n\t\t} else if (startContainer.nodeType === startContainer.ELEMENT_NODE) {\n\t\t\t// startContainer is expected to be the token span\n\t\t\tconst parent1 = startContainer.parentNode; // expected to be the view line container span\n\t\t\tconst parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line div\n\t\t\tconst parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? (<HTMLElement>parent2).className : null;\n\n\t\t\tif (parent2ClassName === ViewLine.CLASS_NAME) {\n\t\t\t\treturn HitTestResult.createFromDOMInfo(ctx, <HTMLElement>startContainer, (<HTMLElement>startContainer).textContent.length);\n\t\t\t} else {\n\t\t\t\treturn new UnknownHitTestResult(<HTMLElement>startContainer);\n\t\t\t}\n\t\t}\n\n\t\treturn new UnknownHitTestResult();\n\t}\n\n\t/**\n\t * Most probably Gecko\n\t */\n\tprivate static _doHitTestWithCaretPositionFromPoint(ctx: HitTestContext, coords: ClientCoordinates): HitTestResult {\n\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\tconst hitResult: { offsetNode: Node; offset: number } = (<any>ctx.viewDomNode.ownerDocument).caretPositionFromPoint(coords.clientX, coords.clientY);\n\n\t\tif (hitResult.offsetNode.nodeType === hitResult.offsetNode.TEXT_NODE) {\n\t\t\t// offsetNode is expected to be the token text\n\t\t\tconst parent1 = hitResult.offsetNode.parentNode; // expected to be the token span\n\t\t\tconst parent2 = parent1 ? parent1.parentNode : null; // expected to be the view line container span\n\t\t\tconst parent3 = parent2 ? parent2.parentNode : null; // expected to be the view line div\n\t\t\tconst parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? (<HTMLElement>parent3).className : null;\n\n\t\t\tif (parent3ClassName === ViewLine.CLASS_NAME) {\n\t\t\t\treturn HitTestResult.createFromDOMInfo(ctx, <HTMLElement>hitResult.offsetNode.parentNode, hitResult.offset);\n\t\t\t} else {\n\t\t\t\treturn new UnknownHitTestResult(<HTMLElement>hitResult.offsetNode.parentNode);\n\t\t\t}\n\t\t}\n\n\t\t// For inline decorations, Gecko sometimes returns the `<span>` of the line and the offset is the `<span>` with the inline decoration\n\t\t// Some other times, it returns the `<span>` with the inline decoration\n\t\tif (hitResult.offsetNode.nodeType === hitResult.offsetNode.ELEMENT_NODE) {\n\t\t\tconst parent1 = hitResult.offsetNode.parentNode;\n\t\t\tconst parent1ClassName = parent1 && parent1.nodeType === parent1.ELEMENT_NODE ? (<HTMLElement>parent1).className : null;\n\t\t\tconst parent2 = parent1 ? parent1.parentNode : null;\n\t\t\tconst parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? (<HTMLElement>parent2).className : null;\n\n\t\t\tif (parent1ClassName === ViewLine.CLASS_NAME) {\n\t\t\t\t// it returned the `<span>` of the line and the offset is the `<span>` with the inline decoration\n\t\t\t\tconst tokenSpan = hitResult.offsetNode.childNodes[Math.min(hitResult.offset, hitResult.offsetNode.childNodes.length - 1)];\n\t\t\t\tif (tokenSpan) {\n\t\t\t\t\treturn HitTestResult.createFromDOMInfo(ctx, <HTMLElement>tokenSpan, 0);\n\t\t\t\t}\n\t\t\t} else if (parent2ClassName === ViewLine.CLASS_NAME) {\n\t\t\t\t// it returned the `<span>` with the inline decoration\n\t\t\t\treturn HitTestResult.createFromDOMInfo(ctx, <HTMLElement>hitResult.offsetNode, 0);\n\t\t\t}\n\t\t}\n\n\t\treturn new UnknownHitTestResult(<HTMLElement>hitResult.offsetNode);\n\t}\n\n\tprivate static _snapToSoftTabBoundary(position: Position, viewModel: IViewModel): Position {\n\t\tconst lineContent = viewModel.getLineContent(position.lineNumber);\n\t\tconst { tabSize } = viewModel.model.getOptions();\n\t\tconst newPosition = AtomicTabMoveOperations.atomicPosition(lineContent, position.column - 1, tabSize, Direction.Nearest);\n\t\tif (newPosition !== -1) {\n\t\t\treturn new Position(position.lineNumber, newPosition + 1);\n\t\t}\n\t\treturn position;\n\t}\n\n\tpublic static doHitTest(ctx: HitTestContext, request: BareHitTestRequest): HitTestResult {\n\n\t\tlet result: HitTestResult = new UnknownHitTestResult();\n\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\tif (typeof (<any>ctx.viewDomNode.ownerDocument).caretRangeFromPoint === 'function') {\n\t\t\tresult = this._doHitTestWithCaretRangeFromPoint(ctx, request);\n\t\t\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\t\t} else if ((<any>ctx.viewDomNode.ownerDocument).caretPositionFromPoint) {\n\t\t\tresult = this._doHitTestWithCaretPositionFromPoint(ctx, request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n\t\t}\n\t\tif (result.type === HitTestResultType.Content) {\n\t\t\tconst injectedText = ctx.viewModel.getInjectedTextAt(result.position);\n\n\t\t\tconst normalizedPosition = ctx.viewModel.normalizePosition(result.position, PositionAffinity.None);\n\t\t\tif (injectedText || !normalizedPosition.equals(result.position)) {\n\t\t\t\tresult = new ContentHitTestResult(normalizedPosition, result.spanNode, injectedText);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nfunction shadowCaretRangeFromPoint(shadowRoot: ShadowRoot, x: number, y: number): Range {\n\tconst range = document.createRange();\n\n\t// Get the element under the point\n\t// eslint-disable-next-line local/code-no-any-casts, @typescript-eslint/no-explicit-any\n\tlet el: HTMLElement | null = (<any>shadowRoot).elementFromPoint(x, y);\n\t// When el is not null, it may be div.monaco-mouse-cursor-text Element, which has not childNodes, we don't need to handle it.\n\tif (el?.hasChildNodes()) {\n\t\t// Get the last child of the element until its firstChild is a text node\n\t\t// This assumes that the pointer is on the right of the line, out of the tokens\n\t\t// and that we want to get the offset of the last token of the line\n\t\twhile (el && el.firstChild && el.firstChild.nodeType !== el.firstChild.TEXT_NODE && el.lastChild && el.lastChild.firstChild) {\n\t\t\tel = <HTMLElement>el.lastChild;\n\t\t}\n\n\t\t// Grab its rect\n\t\tconst rect = el.getBoundingClientRect();\n\n\t\t// And its font (the computed shorthand font property might be empty, see #3217)\n\t\tconst elWindow = dom.getWindow(el);\n\t\tconst fontStyle = elWindow.getComputedStyle(el, null).getPropertyValue('font-style');\n\t\tconst fontVariant = elWindow.getComputedStyle(el, null).getPropertyValue('font-variant');\n\t\tconst fontWeight = elWindow.getComputedStyle(el, null).getPropertyValue('font-weight');\n\t\tconst fontSize = elWindow.getComputedStyle(el, null).getPropertyValue('font-size');\n\t\tconst lineHeight = elWindow.getComputedStyle(el, null).getPropertyValue('line-height');\n\t\tconst fontFamily = elWindow.getComputedStyle(el, null).getPropertyValue('font-family');\n\t\tconst font = `${fontStyle} ${fontVariant} ${fontWeight} ${fontSize}/${lineHeight} ${fontFamily}`;\n\n\t\t// And also its txt content\n\t\tconst text = el.innerText;\n\n\t\t// Position the pixel cursor at the left of the element\n\t\tlet pixelCursor = rect.left;\n\t\tlet offset = 0;\n\t\tlet step: number;\n\n\t\t// If the point is on the right of the box put the cursor after the last character\n\t\tif (x > rect.left + rect.width) {\n\t\t\toffset = text.length;\n\t\t} else {\n\t\t\tconst charWidthReader = CharWidthReader.getInstance();\n\t\t\t// Goes through all the characters of the innerText, and checks if the x of the point\n\t\t\t// belongs to the character.\n\t\t\tfor (let i = 0; i < text.length + 1; i++) {\n\t\t\t\t// The step is half the width of the character\n\t\t\t\tstep = charWidthReader.getCharWidth(text.charAt(i), font) / 2;\n\t\t\t\t// Move to the center of the character\n\t\t\t\tpixelCursor += step;\n\t\t\t\t// If the x of the point is smaller that the position of the cursor, the point is over that character\n\t\t\t\tif (x < pixelCursor) {\n\t\t\t\t\toffset = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// Move between the current character and the next\n\t\t\t\tpixelCursor += step;\n\t\t\t}\n\t\t}\n\n\t\t// Creates a range with the text node of the element and set the offset found\n\t\trange.setStart(el.firstChild!, offset);\n\t\trange.setEnd(el.firstChild!, offset);\n\t}\n\n\treturn range;\n}\n\nclass CharWidthReader {\n\tprivate static _INSTANCE: CharWidthReader | null = null;\n\n\tpublic static getInstance(): CharWidthReader {\n\t\tif (!CharWidthReader._INSTANCE) {\n\t\t\tCharWidthReader._INSTANCE = new CharWidthReader();\n\t\t}\n\t\treturn CharWidthReader._INSTANCE;\n\t}\n\n\tprivate readonly _cache: { [cacheKey: string]: number };\n\tprivate readonly _canvas: HTMLCanvasElement;\n\n\tprivate constructor() {\n\t\tthis._cache = {};\n\t\tthis._canvas = document.createElement('canvas');\n\t}\n\n\tpublic getCharWidth(char: string, font: string): number {\n\t\tconst cacheKey = char + font;\n\t\tif (this._cache[cacheKey]) {\n\t\t\treturn this._cache[cacheKey];\n\t\t}\n\n\t\tconst context = this._canvas.getContext('2d')!;\n\t\tcontext.font = font;\n\t\tconst metrics = context.measureText(char);\n\t\tconst width = metrics.width;\n\t\tthis._cache[cacheKey] = width;\n\t\treturn width;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}