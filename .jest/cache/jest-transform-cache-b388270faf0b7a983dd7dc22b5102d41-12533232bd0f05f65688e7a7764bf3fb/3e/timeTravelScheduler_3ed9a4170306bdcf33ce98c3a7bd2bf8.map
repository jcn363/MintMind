{"version":3,"names":["cov_1snsqv962p","actualCoverage","compareBy","numberComparator","tieBreakComparators","Emitter","Event","Disposable","setTimeout0","setTimeout0IsFaster","scheduledTaskComparator","s","i","f","time","id","TimeTravelScheduler","taskCounter","_nowMs","queue","SimplePriorityQueue","taskScheduledEmitter","onTaskScheduled","event","constructor","startTimeMs","schedule","task","b","Error","extendedTask","add","fire","dispose","remove","now","hasScheduledTasks","length","getScheduledTasks","toSortedArray","runNext","removeMin","run","installGlobally","overwriteGlobals","AsyncSchedulerProcessor","scheduler","isProcessing","_history","Array","history","maxTaskCount","useSetImmediate","queueEmptyEmitter","onTaskQueueEmpty","lastError","options","_register","Promise","resolve","then","originalGlobalValues","setImmediate","process","setTimeout","executedTask","push","lastTasks","slice","Math","max","map","h","source","toString","stackTrace","e","join","waitForEmptyQueue","error","undefined","toPromise","runWithFakedTimers","fn","useFakeTimers","startTime","schedulerProcessor","globalInstallDisposable","didThrow","result","globalThis","bind","clearTimeout","setInterval","clearInterval","clearImmediate","requestAnimationFrame","cancelAnimationFrame","Date","handler","timeout","stack","interval","validatedHandler","iterCount","disposed","lastDisposable","curIter","timeoutId","createDateClass","Object","assign","OriginalDate","SchedulerDate","args","prop","hasOwnProperty","prototype","parse","UTC","toUTCString","compare","isSorted","items","value","idx","indexOf","splice","ensureSorted","shift","getMin","sort"],"sources":["/home/user/Desktop/MintMind/src/vs/base/test/common/timeTravelScheduler.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareBy, numberComparator, tieBreakComparators } from '../../common/arrays.js';\nimport { Emitter, Event } from '../../common/event.js';\nimport { Disposable, IDisposable } from '../../common/lifecycle.js';\nimport { setTimeout0, setTimeout0IsFaster } from '../../common/platform.js';\n\nexport type TimeOffset = number;\n\nexport interface Scheduler {\n\tschedule(task: ScheduledTask): IDisposable;\n\tget now(): TimeOffset;\n}\n\nexport interface ScheduledTask {\n\treadonly time: TimeOffset;\n\treadonly source: ScheduledTaskSource;\n\n\trun(): void;\n}\n\nexport interface ScheduledTaskSource {\n\ttoString(): string;\n\treadonly stackTrace: string | undefined;\n}\n\ninterface ExtendedScheduledTask extends ScheduledTask {\n\tid: number;\n}\n\nconst scheduledTaskComparator = tieBreakComparators<ExtendedScheduledTask>(\n\tcompareBy(i => i.time, numberComparator),\n\tcompareBy(i => i.id, numberComparator),\n);\n\nexport class TimeTravelScheduler implements Scheduler {\n\tprivate taskCounter = 0;\n\tprivate _nowMs: TimeOffset = 0;\n\tprivate readonly queue: PriorityQueue<ExtendedScheduledTask> = new SimplePriorityQueue<ExtendedScheduledTask>([], scheduledTaskComparator);\n\n\tprivate readonly taskScheduledEmitter = new Emitter<{ task: ScheduledTask }>();\n\tpublic readonly onTaskScheduled = this.taskScheduledEmitter.event;\n\n\tconstructor(startTimeMs: number) {\n\t\tthis._nowMs = startTimeMs;\n\t}\n\n\tschedule(task: ScheduledTask): IDisposable {\n\t\tif (task.time < this._nowMs) {\n\t\t\tthrow new Error(`Scheduled time (${task.time}) must be equal to or greater than the current time (${this._nowMs}).`);\n\t\t}\n\t\tconst extendedTask: ExtendedScheduledTask = { ...task, id: this.taskCounter++ };\n\t\tthis.queue.add(extendedTask);\n\t\tthis.taskScheduledEmitter.fire({ task });\n\t\treturn { dispose: () => this.queue.remove(extendedTask) };\n\t}\n\n\tget now(): TimeOffset {\n\t\treturn this._nowMs;\n\t}\n\n\tget hasScheduledTasks(): boolean {\n\t\treturn this.queue.length > 0;\n\t}\n\n\tgetScheduledTasks(): readonly ScheduledTask[] {\n\t\treturn this.queue.toSortedArray();\n\t}\n\n\trunNext(): ScheduledTask | undefined {\n\t\tconst task = this.queue.removeMin();\n\t\tif (task) {\n\t\t\tthis._nowMs = task.time;\n\t\t\ttask.run();\n\t\t}\n\n\t\treturn task;\n\t}\n\n\tinstallGlobally(): IDisposable {\n\t\treturn overwriteGlobals(this);\n\t}\n}\n\nexport class AsyncSchedulerProcessor extends Disposable {\n\tprivate isProcessing = false;\n\tprivate readonly _history = new Array<ScheduledTask>();\n\tpublic get history(): readonly ScheduledTask[] { return this._history; }\n\n\tprivate readonly maxTaskCount: number;\n\tprivate readonly useSetImmediate: boolean;\n\n\tprivate readonly queueEmptyEmitter = new Emitter<void>();\n\tpublic readonly onTaskQueueEmpty = this.queueEmptyEmitter.event;\n\n\tprivate lastError: Error | undefined;\n\n\tconstructor(private readonly scheduler: TimeTravelScheduler, options?: { useSetImmediate?: boolean; maxTaskCount?: number }) {\n\t\tsuper();\n\n\t\tthis.maxTaskCount = options && options.maxTaskCount ? options.maxTaskCount : 100;\n\t\tthis.useSetImmediate = options && options.useSetImmediate ? options.useSetImmediate : false;\n\n\t\tthis._register(scheduler.onTaskScheduled(() => {\n\t\t\tif (this.isProcessing) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.isProcessing = true;\n\t\t\t\tthis.schedule();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate schedule() {\n\t\t// This allows promises created by a previous task to settle and schedule tasks before the next task is run.\n\t\t// Tasks scheduled in those promises might have to run before the current next task.\n\t\tPromise.resolve().then(() => {\n\t\t\tif (this.useSetImmediate) {\n\t\t\t\toriginalGlobalValues.setImmediate(() => this.process());\n\t\t\t} else if (setTimeout0IsFaster) {\n\t\t\t\tsetTimeout0(() => this.process());\n\t\t\t} else {\n\t\t\t\toriginalGlobalValues.setTimeout(() => this.process());\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate process() {\n\t\tconst executedTask = this.scheduler.runNext();\n\t\tif (executedTask) {\n\t\t\tthis._history.push(executedTask);\n\n\t\t\tif (this.history.length >= this.maxTaskCount && this.scheduler.hasScheduledTasks) {\n\t\t\t\tconst lastTasks = this._history.slice(Math.max(0, this.history.length - 10)).map(h => `${h.source.toString()}: ${h.source.stackTrace}`);\n\t\t\t\tconst e = new Error(`Queue did not get empty after processing ${this.history.length} items. These are the last ${lastTasks.length} scheduled tasks:\\n${lastTasks.join('\\n\\n\\n')}`);\n\t\t\t\tthis.lastError = e;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\n\t\tif (this.scheduler.hasScheduledTasks) {\n\t\t\tthis.schedule();\n\t\t} else {\n\t\t\tthis.isProcessing = false;\n\t\t\tthis.queueEmptyEmitter.fire();\n\t\t}\n\t}\n\n\twaitForEmptyQueue(): Promise<void> {\n\t\tif (this.lastError) {\n\t\t\tconst error = this.lastError;\n\t\t\tthis.lastError = undefined;\n\t\t\tthrow error;\n\t\t}\n\t\tif (!this.isProcessing) {\n\t\t\treturn Promise.resolve();\n\t\t} else {\n\t\t\treturn Event.toPromise(this.onTaskQueueEmpty).then(() => {\n\t\t\t\tif (this.lastError) {\n\t\t\t\t\tthrow this.lastError;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\n\nexport async function runWithFakedTimers<T>(options: { startTime?: number; useFakeTimers?: boolean; useSetImmediate?: boolean; maxTaskCount?: number }, fn: () => Promise<T>): Promise<T> {\n\tconst useFakeTimers = options.useFakeTimers === undefined ? true : options.useFakeTimers;\n\tif (!useFakeTimers) {\n\t\treturn fn();\n\t}\n\n\tconst scheduler = new TimeTravelScheduler(options.startTime ?? 0);\n\tconst schedulerProcessor = new AsyncSchedulerProcessor(scheduler, { useSetImmediate: options.useSetImmediate, maxTaskCount: options.maxTaskCount });\n\tconst globalInstallDisposable = scheduler.installGlobally();\n\n\tlet didThrow = true;\n\tlet result: T;\n\ttry {\n\t\tresult = await fn();\n\t\tdidThrow = false;\n\t} finally {\n\t\tglobalInstallDisposable.dispose();\n\n\t\ttry {\n\t\t\tif (!didThrow) {\n\t\t\t\t// We process the remaining scheduled tasks.\n\t\t\t\t// The global override is no longer active, so during this, no more tasks will be scheduled.\n\t\t\t\tawait schedulerProcessor.waitForEmptyQueue();\n\t\t\t}\n\t\t} finally {\n\t\t\tschedulerProcessor.dispose();\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport const originalGlobalValues = {\n\tsetTimeout: globalThis.setTimeout.bind(globalThis),\n\tclearTimeout: globalThis.clearTimeout.bind(globalThis),\n\tsetInterval: globalThis.setInterval.bind(globalThis),\n\tclearInterval: globalThis.clearInterval.bind(globalThis),\n\tsetImmediate: globalThis.setImmediate?.bind(globalThis),\n\tclearImmediate: globalThis.clearImmediate?.bind(globalThis),\n\trequestAnimationFrame: globalThis.requestAnimationFrame?.bind(globalThis),\n\tcancelAnimationFrame: globalThis.cancelAnimationFrame?.bind(globalThis),\n\tDate: globalThis.Date,\n};\n\nfunction setTimeout(scheduler: Scheduler, handler: TimerHandler, timeout: number = 0): IDisposable {\n\tif (typeof handler === 'string') {\n\t\tthrow new Error('String handler args should not be used and are not supported');\n\t}\n\n\treturn scheduler.schedule({\n\t\ttime: scheduler.now + timeout,\n\t\trun: () => {\n\t\t\thandler();\n\t\t},\n\t\tsource: {\n\t\t\ttoString() { return 'setTimeout'; },\n\t\t\tstackTrace: new Error().stack,\n\t\t}\n\t});\n}\n\nfunction setInterval(scheduler: Scheduler, handler: TimerHandler, interval: number): IDisposable {\n\tif (typeof handler === 'string') {\n\t\tthrow new Error('String handler args should not be used and are not supported');\n\t}\n\tconst validatedHandler = handler;\n\n\tlet iterCount = 0;\n\tconst stackTrace = new Error().stack;\n\n\tlet disposed = false;\n\tlet lastDisposable: IDisposable;\n\n\tfunction schedule(): void {\n\t\titerCount++;\n\t\tconst curIter = iterCount;\n\t\tlastDisposable = scheduler.schedule({\n\t\t\ttime: scheduler.now + interval,\n\t\t\trun() {\n\t\t\t\tif (!disposed) {\n\t\t\t\t\tschedule();\n\t\t\t\t\tvalidatedHandler();\n\t\t\t\t}\n\t\t\t},\n\t\t\tsource: {\n\t\t\t\ttoString() { return `setInterval (iteration ${curIter})`; },\n\t\t\t\tstackTrace,\n\t\t\t}\n\t\t});\n\t}\n\n\tschedule();\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tif (disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdisposed = true;\n\t\t\tlastDisposable.dispose();\n\t\t}\n\t};\n}\n\nfunction overwriteGlobals(scheduler: Scheduler): IDisposable {\n\t// eslint-disable-next-line local/code-no-any-casts\n\tglobalThis.setTimeout = ((handler: TimerHandler, timeout?: number) => setTimeout(scheduler, handler, timeout)) as any;\n\tglobalThis.clearTimeout = (timeoutId: any) => {\n\t\tif (typeof timeoutId === 'object' && timeoutId && 'dispose' in timeoutId) {\n\t\t\ttimeoutId.dispose();\n\t\t} else {\n\t\t\toriginalGlobalValues.clearTimeout(timeoutId);\n\t\t}\n\t};\n\n\t// eslint-disable-next-line local/code-no-any-casts\n\tglobalThis.setInterval = ((handler: TimerHandler, timeout: number) => setInterval(scheduler, handler, timeout)) as any;\n\tglobalThis.clearInterval = (timeoutId: any) => {\n\t\tif (typeof timeoutId === 'object' && timeoutId && 'dispose' in timeoutId) {\n\t\t\ttimeoutId.dispose();\n\t\t} else {\n\t\t\toriginalGlobalValues.clearInterval(timeoutId);\n\t\t}\n\t};\n\n\tglobalThis.Date = createDateClass(scheduler);\n\n\treturn {\n\t\tdispose: () => {\n\t\t\tObject.assign(globalThis, originalGlobalValues);\n\t\t}\n\t};\n}\n\nfunction createDateClass(scheduler: Scheduler): DateConstructor {\n\tconst OriginalDate = originalGlobalValues.Date;\n\n\tfunction SchedulerDate(this: any, ...args: any): any {\n\t\t// the Date constructor called as a function, ref Ecma-262 Edition 5.1, section 15.9.2.\n\t\t// This remains so in the 10th edition of 2019 as well.\n\t\tif (!(this instanceof SchedulerDate)) {\n\t\t\treturn new OriginalDate(scheduler.now).toString();\n\t\t}\n\n\t\t// if Date is called as a constructor with 'new' keyword\n\t\tif (args.length === 0) {\n\t\t\treturn new OriginalDate(scheduler.now);\n\t\t}\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\treturn new (OriginalDate as any)(...args);\n\t}\n\n\tfor (const prop in OriginalDate) {\n\t\tif (OriginalDate.hasOwnProperty(prop)) {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t(SchedulerDate as any)[prop] = (OriginalDate as any)[prop];\n\t\t}\n\t}\n\n\tSchedulerDate.now = function now() {\n\t\treturn scheduler.now;\n\t};\n\tSchedulerDate.toString = function toString() {\n\t\treturn OriginalDate.toString();\n\t};\n\tSchedulerDate.prototype = OriginalDate.prototype;\n\tSchedulerDate.parse = OriginalDate.parse;\n\tSchedulerDate.UTC = OriginalDate.UTC;\n\tSchedulerDate.prototype.toUTCString = OriginalDate.prototype.toUTCString;\n\n\t// eslint-disable-next-line local/code-no-any-casts\n\treturn SchedulerDate as any;\n}\n\ninterface PriorityQueue<T> {\n\tlength: number;\n\tadd(value: T): void;\n\tremove(value: T): void;\n\n\tremoveMin(): T | undefined;\n\ttoSortedArray(): T[];\n}\n\nclass SimplePriorityQueue<T> implements PriorityQueue<T> {\n\tprivate isSorted = false;\n\tprivate items: T[];\n\n\tconstructor(items: T[], private readonly compare: (a: T, b: T) => number) {\n\t\tthis.items = items;\n\t}\n\n\tget length(): number {\n\t\treturn this.items.length;\n\t}\n\n\tadd(value: T): void {\n\t\tthis.items.push(value);\n\t\tthis.isSorted = false;\n\t}\n\n\tremove(value: T): void {\n\t\tconst idx = this.items.indexOf(value);\n\t\tif (idx !== -1) {\n\t\t\tthis.items.splice(idx, 1);\n\t\t\tthis.isSorted = false;\n\t\t}\n\t}\n\n\tremoveMin(): T | undefined {\n\t\tthis.ensureSorted();\n\t\treturn this.items.shift();\n\t}\n\n\tgetMin(): T | undefined {\n\t\tthis.ensureSorted();\n\t\treturn this.items[0];\n\t}\n\n\ttoSortedArray(): T[] {\n\t\tthis.ensureSorted();\n\t\treturn [...this.items];\n\t}\n\n\tprivate ensureSorted() {\n\t\tif (!this.isSorted) {\n\t\t\tthis.items.sort(this.compare);\n\t\t\tthis.isSorted = true;\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}