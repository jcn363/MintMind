{"version":3,"names":["cov_1aynfjixad","actualCoverage","Codicon","KeyChord","localize","localize2","MenuId","MenuRegistry","registerAction2","ICommandService","IConfigurationService","ContextKeyExpr","InputFocusedContextKey","CTX_INLINE_CHAT_REQUEST_IN_PROGRESS","CTX_INLINE_CHAT_RESPONSE_TYPE","CTX_INLINE_CHAT_VISIBLE","MENU_INLINE_CHAT_WIDGET_STATUS","CTX_NOTEBOOK_CHAT_HAS_AGENT","NotebookAction","getContextFromActiveEditor","getEditorFromArgsOrActivePane","insertNewCell","CellKind","NotebookSetting","NOTEBOOK_EDITOR_EDITABLE","NOTEBOOK_EDITOR_FOCUSED","Iterable","IEditorService","ChatContextKeys","InlineChatController","EditorAction2","startChat","accessor","context","index","input","autoSend","source","f","configurationService","s","get","commandService","b","getValue","cellGenerate","cellChat","activeCell","notebookEditor","getActiveCell","targetCell","getTextLength","Code","enableAutoLanguageDetection","revealFirstLineIfOutsideViewport","codeEditor","codeEditors","find","ce","focus","executeCommand","constructor","id","title","value","original","tooltip","metadata","description","args","name","schema","type","required","properties","f1","keybinding","when","and","isEqualTo","not","or","equals","weight","primary","secondary","menu","NotebookCellBetween","group","order","getEditorContextFromArgsOrActive","firstArg","undefined","cell","cellAt","runWithContext","Math","max","getCellIndex","NotebookCellListTop","appendMenuItem","NotebookToolbar","command","icon","sparkle","notEquals","AcceptChangesAndRun","shortTitle","check","precondition","inputHasText","toNegated","runEditorCommand","editor","ctrl","matchedCell","e","acceptSession","executeNotebookCells","single"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/controller/chat/cellChatActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../../../base/common/keyCodes.js';\nimport { localize, localize2 } from '../../../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../../platform/contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../../../../../platform/contextkey/common/contextkeys.js';\nimport { ServicesAccessor } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { CTX_INLINE_CHAT_REQUEST_IN_PROGRESS, CTX_INLINE_CHAT_RESPONSE_TYPE, CTX_INLINE_CHAT_VISIBLE, InlineChatResponseType, MENU_INLINE_CHAT_WIDGET_STATUS } from '../../../../inlineChat/common/inlineChat.js';\nimport { CTX_NOTEBOOK_CHAT_HAS_AGENT } from './notebookChatContext.js';\nimport { INotebookActionContext, NotebookAction, getContextFromActiveEditor, getEditorFromArgsOrActivePane } from '../coreActions.js';\nimport { insertNewCell } from '../insertCellActions.js';\nimport { CellKind, NotebookSetting } from '../../../common/notebookCommon.js';\nimport { NOTEBOOK_EDITOR_EDITABLE, NOTEBOOK_EDITOR_FOCUSED } from '../../../common/notebookContextKeys.js';\nimport { Iterable } from '../../../../../../base/common/iterator.js';\nimport { ICodeEditor } from '../../../../../../editor/browser/editorBrowser.js';\nimport { IEditorService } from '../../../../../services/editor/common/editorService.js';\nimport { ChatContextKeys } from '../../../../chat/common/chatContextKeys.js';\nimport { InlineChatController } from '../../../../inlineChat/browser/inlineChatController.js';\nimport { EditorAction2 } from '../../../../../../editor/browser/editorExtensions.js';\n\ninterface IInsertCellWithChatArgs extends INotebookActionContext {\n\tinput?: string;\n\tautoSend?: boolean;\n\tsource?: string;\n}\n\nasync function startChat(accessor: ServicesAccessor, context: INotebookActionContext, index: number, input?: string, autoSend?: boolean, source?: string) {\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst commandService = accessor.get(ICommandService);\n\n\tif (configurationService.getValue<boolean>(NotebookSetting.cellGenerate) || configurationService.getValue<boolean>(NotebookSetting.cellChat)) {\n\t\tconst activeCell = context.notebookEditor.getActiveCell();\n\t\tconst targetCell = activeCell?.getTextLength() === 0 && source !== 'insertToolbar' ? activeCell : (await insertNewCell(accessor, context, CellKind.Code, 'below', true));\n\n\t\tif (targetCell) {\n\t\t\ttargetCell.enableAutoLanguageDetection();\n\t\t\tawait context.notebookEditor.revealFirstLineIfOutsideViewport(targetCell);\n\t\t\tconst codeEditor = context.notebookEditor.codeEditors.find(ce => ce[0] === targetCell)?.[1];\n\t\t\tif (codeEditor) {\n\t\t\t\tcodeEditor.focus();\n\t\t\t\tcommandService.executeCommand('inlineChat.start');\n\t\t\t}\n\t\t}\n\t}\n}\n\nregisterAction2(class extends NotebookAction {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.cell.chat.start',\n\t\t\t\ttitle: {\n\t\t\t\t\tvalue: '$(sparkle) ' + localize('notebookActions.menu.insertCodeCellWithChat', \"Generate\"),\n\t\t\t\t\toriginal: '$(sparkle) Generate',\n\t\t\t\t},\n\t\t\t\ttooltip: localize('notebookActions.menu.insertCodeCellWithChat.tooltip', \"Start Chat to Generate Code\"),\n\t\t\t\tmetadata: {\n\t\t\t\t\tdescription: localize('notebookActions.menu.insertCodeCellWithChat.tooltip', \"Start Chat to Generate Code\"),\n\t\t\t\t\targs: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'args',\n\t\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\trequired: ['index'],\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t'index': {\n\t\t\t\t\t\t\t\t\t\ttype: 'number'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'input': {\n\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'autoSend': {\n\t\t\t\t\t\t\t\t\t\ttype: 'boolean'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tf1: false,\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_EDITOR_FOCUSED,\n\t\t\t\t\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\t\t\t\t\tContextKeyExpr.not(InputFocusedContextKey),\n\t\t\t\t\t\tCTX_NOTEBOOK_CHAT_HAS_AGENT,\n\t\t\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellChat}`, true),\n\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellGenerate}`, true)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyI,\n\t\t\t\t\tsecondary: [KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyI)],\n\t\t\t\t},\n\t\t\t\tmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.NotebookCellBetween,\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t\torder: -1,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\t\t\t\t\t\tCTX_NOTEBOOK_CHAT_HAS_AGENT,\n\t\t\t\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellChat}`, true),\n\t\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellGenerate}`, true)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t}\n\n\toverride getEditorContextFromArgsOrActive(accessor: ServicesAccessor, ...args: any[]): IInsertCellWithChatArgs | undefined {\n\t\tconst [firstArg] = args;\n\t\tif (!firstArg) {\n\t\t\tconst notebookEditor = getEditorFromArgsOrActivePane(accessor);\n\t\t\tif (!notebookEditor) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst activeCell = notebookEditor.getActiveCell();\n\t\t\tif (!activeCell) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcell: activeCell,\n\t\t\t\tnotebookEditor,\n\t\t\t\tinput: undefined,\n\t\t\t\tautoSend: undefined\n\t\t\t};\n\t\t}\n\n\t\tif (typeof firstArg !== 'object' || typeof firstArg.index !== 'number') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst notebookEditor = getEditorFromArgsOrActivePane(accessor);\n\t\tif (!notebookEditor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst cell = firstArg.index <= 0 ? undefined : notebookEditor.cellAt(firstArg.index - 1);\n\n\t\treturn {\n\t\t\tcell,\n\t\t\tnotebookEditor,\n\t\t\tinput: firstArg.input,\n\t\t\tautoSend: firstArg.autoSend\n\t\t};\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: IInsertCellWithChatArgs) {\n\t\tconst index = Math.max(0, context.cell ? context.notebookEditor.getCellIndex(context.cell) + 1 : 0);\n\t\tawait startChat(accessor, context, index, context.input, context.autoSend, context.source);\n\t}\n});\n\nregisterAction2(class extends NotebookAction {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'notebook.cell.chat.startAtTop',\n\t\t\t\ttitle: {\n\t\t\t\t\tvalue: '$(sparkle) ' + localize('notebookActions.menu.insertCodeCellWithChat', \"Generate\"),\n\t\t\t\t\toriginal: '$(sparkle) Generate',\n\t\t\t\t},\n\t\t\t\ttooltip: localize('notebookActions.menu.insertCodeCellWithChat.tooltip', \"Start Chat to Generate Code\"),\n\t\t\t\tf1: false,\n\t\t\t\tmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.NotebookCellListTop,\n\t\t\t\t\t\tgroup: 'inline',\n\t\t\t\t\t\torder: -1,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\t\t\t\t\t\tCTX_NOTEBOOK_CHAT_HAS_AGENT,\n\t\t\t\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellChat}`, true),\n\t\t\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellGenerate}`, true)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext) {\n\t\tawait startChat(accessor, context, 0, '', false);\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookToolbar, {\n\tcommand: {\n\t\tid: 'notebook.cell.chat.start',\n\t\ticon: Codicon.sparkle,\n\t\ttitle: localize('notebookActions.menu.insertCode.ontoolbar', \"Generate\"),\n\t\ttooltip: localize('notebookActions.menu.insertCode.tooltip', \"Start Chat to Generate Code\")\n\t},\n\torder: -10,\n\tgroup: 'navigation/add',\n\twhen: ContextKeyExpr.and(\n\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'betweenCells'),\n\t\tContextKeyExpr.notEquals('config.notebook.insertToolbarLocation', 'hidden'),\n\t\tCTX_NOTEBOOK_CHAT_HAS_AGENT,\n\t\tContextKeyExpr.or(\n\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellChat}`, true),\n\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.cellGenerate}`, true)\n\t\t)\n\t)\n});\n\nexport class AcceptChangesAndRun extends EditorAction2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.inlineChat.acceptChangesAndRun',\n\t\t\ttitle: localize2('notebook.apply1', \"Accept and Run\"),\n\t\t\tshortTitle: localize('notebook.apply2', 'Accept & Run'),\n\t\t\ttooltip: localize('notebook.apply3', 'Accept the changes and run the cell'),\n\t\t\ticon: Codicon.check,\n\t\t\tf1: true,\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\t\t\tCTX_INLINE_CHAT_VISIBLE,\n\t\t\t),\n\t\t\tkeybinding: undefined,\n\t\t\tmenu: [{\n\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_STATUS,\n\t\t\t\tgroup: '0_main',\n\t\t\t\torder: 2,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tNOTEBOOK_EDITOR_EDITABLE.isEqualTo(true),\n\t\t\t\t\tChatContextKeys.inputHasText.toNegated(),\n\t\t\t\t\tCTX_INLINE_CHAT_REQUEST_IN_PROGRESS.toNegated(),\n\t\t\t\t\tCTX_INLINE_CHAT_RESPONSE_TYPE.isEqualTo(InlineChatResponseType.MessagesAndEdits)\n\t\t\t\t)\n\t\t\t}]\n\t\t});\n\t}\n\n\toverride runEditorCommand(accessor: ServicesAccessor, codeEditor: ICodeEditor) {\n\t\tconst editor = getContextFromActiveEditor(accessor.get(IEditorService));\n\t\tconst ctrl = InlineChatController.get(codeEditor);\n\n\t\tif (!editor || !ctrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst matchedCell = editor.notebookEditor.codeEditors.find(e => e[1] === codeEditor);\n\t\tconst cell = matchedCell?.[0];\n\n\t\tif (!cell) {\n\t\t\treturn;\n\t\t}\n\n\t\tctrl.acceptSession();\n\t\treturn editor.notebookEditor.executeNotebookCells(Iterable.single(cell));\n\t}\n}\nregisterAction2(AcceptChangesAndRun);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}