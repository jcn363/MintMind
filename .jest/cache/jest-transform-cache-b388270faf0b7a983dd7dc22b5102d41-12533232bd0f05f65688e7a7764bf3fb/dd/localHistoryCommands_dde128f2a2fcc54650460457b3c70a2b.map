{"version":3,"names":["cov_1s8x8z2mk5","actualCoverage","localize","localize2","URI","Event","Schemas","toErrorMessage","CancellationToken","CancellationTokenSource","IWorkingCopyHistoryService","API_OPEN_DIFF_EDITOR_COMMAND_ID","LocalHistoryFileSystemProvider","ContextKeyExpr","IContextKeyService","RawContextKey","registerAction2","Action2","MenuId","MenuRegistry","basename","basenameOrAuthority","dirname","ICommandService","EditorResourceAccessor","SaveSourceRegistry","SideBySideEditor","IFileService","IWorkingCopyService","IDialogService","IEditorService","ActiveEditorContext","ResourceContextKey","IQuickInputService","getIconClasses","IModelService","ILanguageService","ILabelService","coalesce","getLocalHistoryDateFormatter","LOCAL_HISTORY_ICON_RESTORE","LOCAL_HISTORY_MENU_CONTEXT_KEY","IPathService","ResourceSet","IHistoryService","DisposableStore","LOCAL_HISTORY_CATEGORY","s","CTX_LOCAL_HISTORY_ENABLED","has","COMPARE_WITH_FILE_LABEL","constructor","f","id","title","menu","TimelineItemContext","group","order","when","run","accessor","item","commandService","get","workingCopyHistoryService","entry","findLocalHistoryEntry","b","executeCommand","toDiffEditorArguments","workingCopy","resource","editorService","previous","openEntry","itemSelectedForCompare","undefined","LocalHistoryItemSelectedForCompare","contextKeyService","bindTo","set","and","selectedEntry","RESTORE_CONTENTS_LABEL","EditorTitle","Scheme","isEqualTo","SCHEMA","icon","uri","associatedResource","location","fromLocalHistoryFileSystem","restore","handle","restoreSaveSource","registerSource","fileService","dialogService","workingCopyService","confirmed","confirm","type","message","detail","primaryButton","key","comment","workingCopies","getAll","isDirty","revert","soft","cloneFile","error","force","openEditor","addEntry","source","None","closeEntry","f1","category","precondition","quickInputService","modelService","languageService","labelService","historyService","resourcePickerDisposables","resourcePicker","add","createQuickPick","cts","onDidHide","dispose","busy","show","resources","token","recentEditorResources","getHistory","map","resourcesSortedByRecency","push","delete","sort","r1","r2","fsPath","placeholder","matchOnLabel","matchOnDescription","items","label","description","getUriLabel","relative","iconClasses","toPromise","onDidAccept","selectedItems","at","entryPickerDisposables","entryPicker","entries","getEntries","canAcceptInBackground","Array","from","reverse","getSourceLabel","toLocalHistoryEntryDateLabel","timestamp","e","inBackground","selectedItem","resourceExists","exists","preserveFocus","appendMenuItem","TimelineTitle","command","disposables","inputBox","createInputBox","ignoreFocusOut","value","updateEntry","name","removeEntry","removeAll","pathService","getOriginalUri","activeEditor","supportSideBySide","PRIMARY","scheme","defaultUriScheme","vscodeUserData","getUriBasenameLabel","entrySource","options","toLocalHistoryFileSystem","editors","findEditors","ANY","closeEditors","arg1","arg2","originalResource","modifiedResource","isUri","modified","descriptor","currentEntry","previousEntry","i","length","SEP","format","replace"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/localHistory/browser/localHistoryCommands.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../nls.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { toErrorMessage } from '../../../../base/common/errorMessage.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { IWorkingCopyHistoryEntry, IWorkingCopyHistoryService } from '../../../services/workingCopy/common/workingCopyHistory.js';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID } from '../../../browser/parts/editor/editorCommands.js';\nimport { LocalHistoryFileSystemProvider } from './localHistoryFileSystemProvider.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { registerAction2, Action2, MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { basename, basenameOrAuthority, dirname } from '../../../../base/common/resources.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { EditorResourceAccessor, SaveSourceRegistry, SideBySideEditor } from '../../../common/editor.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IWorkingCopyService } from '../../../services/workingCopy/common/workingCopyService.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ActiveEditorContext, ResourceContextKey } from '../../../common/contextkeys.js';\nimport { IQuickInputService, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { getIconClasses } from '../../../../editor/common/services/getIconClasses.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { getLocalHistoryDateFormatter, LOCAL_HISTORY_ICON_RESTORE, LOCAL_HISTORY_MENU_CONTEXT_KEY } from './localHistory.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { ResourceSet } from '../../../../base/common/map.js';\nimport { IHistoryService } from '../../../services/history/common/history.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IEditorOptions } from '../../../../platform/editor/common/editor.js';\n\nconst LOCAL_HISTORY_CATEGORY = localize2('localHistory.category', 'Local History');\nconst CTX_LOCAL_HISTORY_ENABLED = ContextKeyExpr.has('config.workbench.localHistory.enabled');\n\nexport interface ITimelineCommandArgument {\n\turi: URI;\n\thandle: string;\n}\n\n//#region Compare with File\n\nexport const COMPARE_WITH_FILE_LABEL = localize2('localHistory.compareWithFile', 'Compare with File');\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.compareWithFile',\n\t\t\ttitle: COMPARE_WITH_FILE_LABEL,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '1_compare',\n\t\t\t\torder: 1,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\t\t\treturn commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, ...toDiffEditorArguments(entry, entry.workingCopy.resource));\n\t\t}\n\t}\n});\n\n//#endregion\n\n//#region Compare with Previous\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.compareWithPrevious',\n\t\t\ttitle: localize2('localHistory.compareWithPrevious', 'Compare with Previous'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '1_compare',\n\t\t\t\torder: 2,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst { entry, previous } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\n\t\t\t// Without a previous entry, just show the entry directly\n\t\t\tif (!previous) {\n\t\t\t\treturn openEntry(entry, editorService);\n\t\t\t}\n\n\t\t\t// Open real diff editor\n\t\t\treturn commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, ...toDiffEditorArguments(previous, entry));\n\t\t}\n\t}\n});\n\n//#endregion\n\n//#region Select for Compare / Compare with Selected\n\nlet itemSelectedForCompare: ITimelineCommandArgument | undefined = undefined;\n\nconst LocalHistoryItemSelectedForCompare = new RawContextKey<boolean>('localHistoryItemSelectedForCompare', false, true);\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.selectForCompare',\n\t\t\ttitle: localize2('localHistory.selectForCompare', 'Select for Compare'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '2_compare_with',\n\t\t\t\torder: 2,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\t\t\titemSelectedForCompare = item;\n\t\t\tLocalHistoryItemSelectedForCompare.bindTo(contextKeyService).set(true);\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.compareWithSelected',\n\t\t\ttitle: localize2('localHistory.compareWithSelected', 'Compare with Selected'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '2_compare_with',\n\t\t\t\torder: 1,\n\t\t\t\twhen: ContextKeyExpr.and(LOCAL_HISTORY_MENU_CONTEXT_KEY, LocalHistoryItemSelectedForCompare)\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst commandService = accessor.get(ICommandService);\n\n\t\tif (!itemSelectedForCompare) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectedEntry = (await findLocalHistoryEntry(workingCopyHistoryService, itemSelectedForCompare)).entry;\n\t\tif (!selectedEntry) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\t\t\treturn commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, ...toDiffEditorArguments(selectedEntry, entry));\n\t\t}\n\t}\n});\n\n//#endregion\n\n//#region Show Contents\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.open',\n\t\t\ttitle: localize2('localHistory.open', 'Show Contents'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '3_contents',\n\t\t\t\torder: 1,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\t\t\treturn openEntry(entry, editorService);\n\t\t}\n\t}\n});\n\n//#region Restore Contents\n\nconst RESTORE_CONTENTS_LABEL = localize2('localHistory.restore', 'Restore Contents');\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.restoreViaEditor',\n\t\t\ttitle: RESTORE_CONTENTS_LABEL,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: -10,\n\t\t\t\twhen: ResourceContextKey.Scheme.isEqualTo(LocalHistoryFileSystemProvider.SCHEMA)\n\t\t\t},\n\t\t\ticon: LOCAL_HISTORY_ICON_RESTORE\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, uri: URI): Promise<void> {\n\t\tconst { associatedResource, location } = LocalHistoryFileSystemProvider.fromLocalHistoryFileSystem(uri);\n\n\t\treturn restore(accessor, { uri: associatedResource, handle: basenameOrAuthority(location) });\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.restore',\n\t\t\ttitle: RESTORE_CONTENTS_LABEL,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '3_contents',\n\t\t\t\torder: 2,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\treturn restore(accessor, item);\n\t}\n});\n\nconst restoreSaveSource = SaveSourceRegistry.registerSource('localHistoryRestore.source', localize('localHistoryRestore.source', \"File Restored\"));\n\nasync function restore(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\tconst fileService = accessor.get(IFileService);\n\tconst dialogService = accessor.get(IDialogService);\n\tconst workingCopyService = accessor.get(IWorkingCopyService);\n\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\tconst editorService = accessor.get(IEditorService);\n\n\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\tif (entry) {\n\n\t\t// Ask for confirmation\n\t\tconst { confirmed } = await dialogService.confirm({\n\t\t\ttype: 'warning',\n\t\t\tmessage: localize('confirmRestoreMessage', \"Do you want to restore the contents of '{0}'?\", basename(entry.workingCopy.resource)),\n\t\t\tdetail: localize('confirmRestoreDetail', \"Restoring will discard any unsaved changes.\"),\n\t\t\tprimaryButton: localize({ key: 'restoreButtonLabel', comment: ['&& denotes a mnemonic'] }, \"&&Restore\")\n\t\t});\n\n\t\tif (!confirmed) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Revert all dirty working copies for target\n\t\tconst workingCopies = workingCopyService.getAll(entry.workingCopy.resource);\n\t\tif (workingCopies) {\n\t\t\tfor (const workingCopy of workingCopies) {\n\t\t\t\tif (workingCopy.isDirty()) {\n\t\t\t\t\tawait workingCopy.revert({ soft: true });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Replace target with contents of history entry\n\t\ttry {\n\t\t\tawait fileService.cloneFile(entry.location, entry.workingCopy.resource);\n\t\t} catch (error) {\n\n\t\t\t// It is possible that we fail to copy the history entry to the\n\t\t\t// destination, for example when the destination is write protected.\n\t\t\t// In that case tell the user and return, it is still possible for\n\t\t\t// the user to manually copy the changes over from the diff editor.\n\n\t\t\tawait dialogService.error(localize('unableToRestore', \"Unable to restore '{0}'.\", basename(entry.workingCopy.resource)), toErrorMessage(error));\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Restore all working copies for target\n\t\tif (workingCopies) {\n\t\t\tfor (const workingCopy of workingCopies) {\n\t\t\t\tawait workingCopy.revert({ force: true });\n\t\t\t}\n\t\t}\n\n\t\t// Open target\n\t\tawait editorService.openEditor({ resource: entry.workingCopy.resource });\n\n\t\t// Add new entry\n\t\tawait workingCopyHistoryService.addEntry({\n\t\t\tresource: entry.workingCopy.resource,\n\t\t\tsource: restoreSaveSource\n\t\t}, CancellationToken.None);\n\n\t\t// Close source\n\t\tawait closeEntry(entry, editorService);\n\t}\n}\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.restoreViaPicker',\n\t\t\ttitle: localize2('localHistory.restoreViaPicker', 'Find Entry to Restore'),\n\t\t\tf1: true,\n\t\t\tcategory: LOCAL_HISTORY_CATEGORY,\n\t\t\tprecondition: CTX_LOCAL_HISTORY_ENABLED\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst modelService = accessor.get(IModelService);\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst labelService = accessor.get(ILabelService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst historyService = accessor.get(IHistoryService);\n\n\t\t// Show all resources with associated history entries in picker\n\t\t// with progress because this operation will take longer the more\n\t\t// files have been saved overall.\n\t\t//\n\t\t// Sort the resources by history to put more relevant entries\n\t\t// to the top.\n\n\t\tconst resourcePickerDisposables = new DisposableStore();\n\t\tconst resourcePicker = resourcePickerDisposables.add(quickInputService.createQuickPick<IQuickPickItem & { resource: URI }>());\n\n\t\tlet cts = new CancellationTokenSource();\n\t\tresourcePickerDisposables.add(resourcePicker.onDidHide(() => cts.dispose(true)));\n\n\t\tresourcePicker.busy = true;\n\t\tresourcePicker.show();\n\n\t\tconst resources = new ResourceSet(await workingCopyHistoryService.getAll(cts.token));\n\t\tconst recentEditorResources = new ResourceSet(coalesce(historyService.getHistory().map(({ resource }) => resource)));\n\n\t\tconst resourcesSortedByRecency: URI[] = [];\n\t\tfor (const resource of recentEditorResources) {\n\t\t\tif (resources.has(resource)) {\n\t\t\t\tresourcesSortedByRecency.push(resource);\n\t\t\t\tresources.delete(resource);\n\t\t\t}\n\t\t}\n\t\tresourcesSortedByRecency.push(...[...resources].sort((r1, r2) => r1.fsPath < r2.fsPath ? -1 : 1));\n\n\t\tresourcePicker.busy = false;\n\t\tresourcePicker.placeholder = localize('restoreViaPicker.filePlaceholder', \"Select the file to show local history for\");\n\t\tresourcePicker.matchOnLabel = true;\n\t\tresourcePicker.matchOnDescription = true;\n\t\tresourcePicker.items = [...resourcesSortedByRecency].map(resource => ({\n\t\t\tresource,\n\t\t\tlabel: basenameOrAuthority(resource),\n\t\t\tdescription: labelService.getUriLabel(dirname(resource), { relative: true }),\n\t\t\ticonClasses: getIconClasses(modelService, languageService, resource)\n\t\t}));\n\n\t\tawait Event.toPromise(resourcePicker.onDidAccept);\n\t\tresourcePickerDisposables.dispose();\n\n\t\tconst resource = resourcePicker.selectedItems.at(0)?.resource;\n\t\tif (!resource) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Show all entries for the picked resource in another picker\n\t\t// and open the entry in the end that was selected by the user\n\n\t\tconst entryPickerDisposables = new DisposableStore();\n\t\tconst entryPicker = entryPickerDisposables.add(quickInputService.createQuickPick<IQuickPickItem & { entry: IWorkingCopyHistoryEntry }>());\n\n\t\tcts = new CancellationTokenSource();\n\t\tentryPickerDisposables.add(entryPicker.onDidHide(() => cts.dispose(true)));\n\n\t\tentryPicker.busy = true;\n\t\tentryPicker.show();\n\n\t\tconst entries = await workingCopyHistoryService.getEntries(resource, cts.token);\n\n\t\tentryPicker.busy = false;\n\t\tentryPicker.canAcceptInBackground = true;\n\t\tentryPicker.placeholder = localize('restoreViaPicker.entryPlaceholder', \"Select the local history entry to open\");\n\t\tentryPicker.matchOnLabel = true;\n\t\tentryPicker.matchOnDescription = true;\n\t\tentryPicker.items = Array.from(entries).reverse().map(entry => ({\n\t\t\tentry,\n\t\t\tlabel: `$(circle-outline) ${SaveSourceRegistry.getSourceLabel(entry.source)}`,\n\t\t\tdescription: toLocalHistoryEntryDateLabel(entry.timestamp)\n\t\t}));\n\n\t\tentryPickerDisposables.add(entryPicker.onDidAccept(async e => {\n\t\t\tif (!e.inBackground) {\n\t\t\t\tentryPickerDisposables.dispose();\n\t\t\t}\n\n\t\t\tconst selectedItem = entryPicker.selectedItems.at(0);\n\t\t\tif (!selectedItem) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst resourceExists = await fileService.exists(selectedItem.entry.workingCopy.resource);\n\t\t\tif (resourceExists) {\n\t\t\t\treturn commandService.executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, ...toDiffEditorArguments(selectedItem.entry, selectedItem.entry.workingCopy.resource, { preserveFocus: e.inBackground }));\n\t\t\t}\n\n\t\t\treturn openEntry(selectedItem.entry, editorService, { preserveFocus: e.inBackground });\n\t\t}));\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.TimelineTitle, { command: { id: 'workbench.action.localHistory.restoreViaPicker', title: localize2('localHistory.restoreViaPickerMenu', 'Local History: Find Entry to Restore...') }, group: 'submenu', order: 1, when: CTX_LOCAL_HISTORY_ENABLED });\n\n//#endregion\n\n//#region Rename\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.rename',\n\t\t\ttitle: localize2('localHistory.rename', 'Rename'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '5_edit',\n\t\t\t\torder: 1,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tconst inputBox = disposables.add(quickInputService.createInputBox());\n\t\t\tinputBox.title = localize('renameLocalHistoryEntryTitle', \"Rename Local History Entry\");\n\t\t\tinputBox.ignoreFocusOut = true;\n\t\t\tinputBox.placeholder = localize('renameLocalHistoryPlaceholder', \"Enter the new name of the local history entry\");\n\t\t\tinputBox.value = SaveSourceRegistry.getSourceLabel(entry.source);\n\t\t\tinputBox.show();\n\t\t\tdisposables.add(inputBox.onDidAccept(() => {\n\t\t\t\tif (inputBox.value) {\n\t\t\t\t\tworkingCopyHistoryService.updateEntry(entry, { source: inputBox.value }, CancellationToken.None);\n\t\t\t\t}\n\t\t\t\tdisposables.dispose();\n\t\t\t}));\n\t\t}\n\t}\n});\n\n//#endregion\n\n//#region Delete\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.delete',\n\t\t\ttitle: localize2('localHistory.delete', 'Delete'),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.TimelineItemContext,\n\t\t\t\tgroup: '5_edit',\n\t\t\t\torder: 2,\n\t\t\t\twhen: LOCAL_HISTORY_MENU_CONTEXT_KEY\n\t\t\t}\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, item: ITimelineCommandArgument): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst dialogService = accessor.get(IDialogService);\n\n\t\tconst { entry } = await findLocalHistoryEntry(workingCopyHistoryService, item);\n\t\tif (entry) {\n\n\t\t\t// Ask for confirmation\n\t\t\tconst { confirmed } = await dialogService.confirm({\n\t\t\t\ttype: 'warning',\n\t\t\t\tmessage: localize('confirmDeleteMessage', \"Do you want to delete the local history entry of '{0}' from {1}?\", entry.workingCopy.name, toLocalHistoryEntryDateLabel(entry.timestamp)),\n\t\t\t\tdetail: localize('confirmDeleteDetail', \"This action is irreversible!\"),\n\t\t\t\tprimaryButton: localize({ key: 'deleteButtonLabel', comment: ['&& denotes a mnemonic'] }, \"&&Delete\"),\n\t\t\t});\n\n\t\t\tif (!confirmed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Remove via service\n\t\t\tawait workingCopyHistoryService.removeEntry(entry, CancellationToken.None);\n\n\t\t\t// Close any opened editors\n\t\t\tawait closeEntry(entry, editorService);\n\t\t}\n\t}\n});\n\n//#endregion\n\n//#region Delete All\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.deleteAll',\n\t\t\ttitle: localize2('localHistory.deleteAll', 'Delete All'),\n\t\t\tf1: true,\n\t\t\tcategory: LOCAL_HISTORY_CATEGORY,\n\t\t\tprecondition: CTX_LOCAL_HISTORY_ENABLED\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst dialogService = accessor.get(IDialogService);\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\n\t\t// Ask for confirmation\n\t\tconst { confirmed } = await dialogService.confirm({\n\t\t\ttype: 'warning',\n\t\t\tmessage: localize('confirmDeleteAllMessage', \"Do you want to delete all entries of all files in local history?\"),\n\t\t\tdetail: localize('confirmDeleteAllDetail', \"This action is irreversible!\"),\n\t\t\tprimaryButton: localize({ key: 'deleteAllButtonLabel', comment: ['&& denotes a mnemonic'] }, \"&&Delete All\"),\n\t\t});\n\n\t\tif (!confirmed) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remove via service\n\t\tawait workingCopyHistoryService.removeAll(CancellationToken.None);\n\t}\n});\n\n//#endregion\n\n//#region Create\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.localHistory.create',\n\t\t\ttitle: localize2('localHistory.create', 'Create Entry'),\n\t\t\tf1: true,\n\t\t\tcategory: LOCAL_HISTORY_CATEGORY,\n\t\t\tprecondition: ContextKeyExpr.and(CTX_LOCAL_HISTORY_ENABLED, ActiveEditorContext)\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst workingCopyHistoryService = accessor.get(IWorkingCopyHistoryService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst labelService = accessor.get(ILabelService);\n\t\tconst pathService = accessor.get(IPathService);\n\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(editorService.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tif (resource?.scheme !== pathService.defaultUriScheme && resource?.scheme !== Schemas.vscodeUserData) {\n\t\t\treturn; // only enable for selected schemes\n\t\t}\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst inputBox = disposables.add(quickInputService.createInputBox());\n\t\tinputBox.title = localize('createLocalHistoryEntryTitle', \"Create Local History Entry\");\n\t\tinputBox.ignoreFocusOut = true;\n\t\tinputBox.placeholder = localize('createLocalHistoryPlaceholder', \"Enter the new name of the local history entry for '{0}'\", labelService.getUriBasenameLabel(resource));\n\t\tinputBox.show();\n\t\tdisposables.add(inputBox.onDidAccept(async () => {\n\t\t\tconst entrySource = inputBox.value;\n\t\t\tdisposables.dispose();\n\n\t\t\tif (entrySource) {\n\t\t\t\tawait workingCopyHistoryService.addEntry({ resource, source: inputBox.value }, CancellationToken.None);\n\t\t\t}\n\t\t}));\n\t}\n});\n\n//#endregion\n\n//#region Helpers\n\nasync function openEntry(entry: IWorkingCopyHistoryEntry, editorService: IEditorService, options?: IEditorOptions): Promise<void> {\n\tconst resource = LocalHistoryFileSystemProvider.toLocalHistoryFileSystem({ location: entry.location, associatedResource: entry.workingCopy.resource });\n\n\tawait editorService.openEditor({\n\t\tresource,\n\t\tlabel: localize('localHistoryEditorLabel', \"{0} ({1} • {2})\", entry.workingCopy.name, SaveSourceRegistry.getSourceLabel(entry.source), toLocalHistoryEntryDateLabel(entry.timestamp)),\n\t\toptions\n\t});\n}\n\nasync function closeEntry(entry: IWorkingCopyHistoryEntry, editorService: IEditorService): Promise<void> {\n\tconst resource = LocalHistoryFileSystemProvider.toLocalHistoryFileSystem({ location: entry.location, associatedResource: entry.workingCopy.resource });\n\n\tconst editors = editorService.findEditors(resource, { supportSideBySide: SideBySideEditor.ANY });\n\tawait editorService.closeEditors(editors, { preserveFocus: true });\n}\n\nexport function toDiffEditorArguments(entry: IWorkingCopyHistoryEntry, resource: URI, options?: IEditorOptions): unknown[];\nexport function toDiffEditorArguments(previousEntry: IWorkingCopyHistoryEntry, entry: IWorkingCopyHistoryEntry, options?: IEditorOptions): unknown[];\nexport function toDiffEditorArguments(arg1: IWorkingCopyHistoryEntry, arg2: IWorkingCopyHistoryEntry | URI, options?: IEditorOptions): unknown[] {\n\n\t// Left hand side is always a working copy history entry\n\tconst originalResource = LocalHistoryFileSystemProvider.toLocalHistoryFileSystem({ location: arg1.location, associatedResource: arg1.workingCopy.resource });\n\n\tlet label: string;\n\n\t// Right hand side depends on how the method was called\n\t// and is either another working copy history entry\n\t// or the file on disk.\n\n\tlet modifiedResource: URI;\n\n\t// Compare with file on disk\n\tif (URI.isUri(arg2)) {\n\t\tconst resource = arg2;\n\n\t\tmodifiedResource = resource;\n\t\tlabel = localize('localHistoryCompareToFileEditorLabel', \"{0} ({1} • {2}) ↔ {3}\", arg1.workingCopy.name, SaveSourceRegistry.getSourceLabel(arg1.source), toLocalHistoryEntryDateLabel(arg1.timestamp), arg1.workingCopy.name);\n\t}\n\n\t// Compare with another entry\n\telse {\n\t\tconst modified = arg2;\n\n\t\tmodifiedResource = LocalHistoryFileSystemProvider.toLocalHistoryFileSystem({ location: modified.location, associatedResource: modified.workingCopy.resource });\n\t\tlabel = localize('localHistoryCompareToPreviousEditorLabel', \"{0} ({1} • {2}) ↔ {3} ({4} • {5})\", arg1.workingCopy.name, SaveSourceRegistry.getSourceLabel(arg1.source), toLocalHistoryEntryDateLabel(arg1.timestamp), modified.workingCopy.name, SaveSourceRegistry.getSourceLabel(modified.source), toLocalHistoryEntryDateLabel(modified.timestamp));\n\t}\n\n\treturn [\n\t\toriginalResource,\n\t\tmodifiedResource,\n\t\tlabel,\n\t\toptions ? [undefined, options] : undefined\n\t];\n}\n\nexport async function findLocalHistoryEntry(workingCopyHistoryService: IWorkingCopyHistoryService, descriptor: ITimelineCommandArgument): Promise<{ entry: IWorkingCopyHistoryEntry | undefined; previous: IWorkingCopyHistoryEntry | undefined }> {\n\tconst entries = await workingCopyHistoryService.getEntries(descriptor.uri, CancellationToken.None);\n\n\tlet currentEntry: IWorkingCopyHistoryEntry | undefined = undefined;\n\tlet previousEntry: IWorkingCopyHistoryEntry | undefined = undefined;\n\tfor (let i = 0; i < entries.length; i++) {\n\t\tconst entry = entries[i];\n\n\t\tif (entry.id === descriptor.handle) {\n\t\t\tcurrentEntry = entry;\n\t\t\tpreviousEntry = entries[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn {\n\t\tentry: currentEntry,\n\t\tprevious: previousEntry\n\t};\n}\n\nconst SEP = /\\//g;\nfunction toLocalHistoryEntryDateLabel(timestamp: number): string {\n\treturn `${getLocalHistoryDateFormatter().format(timestamp).replace(SEP, '-')}`; // preserving `/` will break editor labels, so replace it with a non-path symbol\n}\n\n//#endregion\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}