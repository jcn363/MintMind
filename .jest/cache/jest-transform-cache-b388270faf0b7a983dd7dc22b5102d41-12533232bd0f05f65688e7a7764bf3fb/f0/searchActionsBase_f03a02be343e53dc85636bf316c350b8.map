{"version":3,"names":["cov_2r2bj827rf","actualCoverage","DOM","nls","VIEW_ID","isSearchTreeMatch","isSearchTreeFileMatch","isSearchTreeFolderMatch","searchComparer","category","s","localize2","isSearchViewFocused","viewsService","f","searchView","getSearchView","b","isAncestorOfActiveElement","getContainer","appendKeyBindingLabel","label","inputKeyBinding","doAppendKeyBindingLabel","getActiveViewWithId","getElementsToOperateOn","viewer","currElement","sortConfig","elements","getSelection","filter","x","sort","a","sortOrder","length","includes","shouldRefocus","focusElement","hasDownstreamMatch","elem","matches","getDownstreamFileMatch","resource","parent","openSearchView","focus","openView","then","view","undefined","keyBinding","getLabel"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/search/browser/searchActionsBase.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../base/browser/dom.js';\nimport { ResolvedKeybinding } from '../../../../base/common/keybindings.js';\nimport * as nls from '../../../../nls.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { SearchView } from './searchView.js';\nimport { ISearchConfigurationProperties, VIEW_ID } from '../../../services/search/common/search.js';\nimport { isSearchTreeMatch, RenderableMatch, ISearchResult, isSearchTreeFileMatch, isSearchTreeFolderMatch } from './searchTreeModel/searchTreeCommon.js';\nimport { searchComparer } from './searchCompare.js';\n\nexport const category = nls.localize2('search', \"Search\");\n\nexport function isSearchViewFocused(viewsService: IViewsService): boolean {\n\tconst searchView = getSearchView(viewsService);\n\treturn !!(searchView && DOM.isAncestorOfActiveElement(searchView.getContainer()));\n}\n\nexport function appendKeyBindingLabel(label: string, inputKeyBinding: ResolvedKeybinding | undefined): string {\n\treturn doAppendKeyBindingLabel(label, inputKeyBinding);\n}\n\nexport function getSearchView(viewsService: IViewsService): SearchView | undefined {\n\treturn viewsService.getActiveViewWithId(VIEW_ID) as SearchView;\n}\n\nexport function getElementsToOperateOn(viewer: WorkbenchCompressibleAsyncDataTree<ISearchResult, RenderableMatch, void>, currElement: RenderableMatch | undefined, sortConfig: ISearchConfigurationProperties): RenderableMatch[] {\n\tlet elements: RenderableMatch[] = viewer.getSelection().filter((x): x is RenderableMatch => x !== null).sort((a, b) => searchComparer(a, b, sortConfig.sortOrder));\n\n\t// if selection doesn't include multiple elements, just return current focus element.\n\tif (currElement && !(elements.length > 1 && elements.includes(currElement))) {\n\t\telements = [currElement];\n\t}\n\n\treturn elements;\n}\n\n/**\n * @param elements elements that are going to be removed\n * @param focusElement element that is focused\n * @returns whether we need to re-focus on a remove\n */\nexport function shouldRefocus(elements: RenderableMatch[], focusElement: RenderableMatch | undefined) {\n\tif (!focusElement) {\n\t\treturn false;\n\t}\n\treturn !focusElement || elements.includes(focusElement) || hasDownstreamMatch(elements, focusElement);\n}\n\nfunction hasDownstreamMatch(elements: RenderableMatch[], focusElement: RenderableMatch) {\n\tfor (const elem of elements) {\n\t\tif ((isSearchTreeFileMatch(elem) && isSearchTreeMatch(focusElement) && elem.matches().includes(focusElement)) ||\n\t\t\t(isSearchTreeFolderMatch(elem) && (\n\t\t\t\t(isSearchTreeFileMatch(focusElement) && elem.getDownstreamFileMatch(focusElement.resource)) ||\n\t\t\t\t(isSearchTreeMatch(focusElement) && elem.getDownstreamFileMatch(focusElement.parent().resource))\n\t\t\t))) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n\n}\n\nexport function openSearchView(viewsService: IViewsService, focus?: boolean): Promise<SearchView | undefined> {\n\treturn viewsService.openView(VIEW_ID, focus).then(view => (view as SearchView ?? undefined));\n}\n\nfunction doAppendKeyBindingLabel(label: string, keyBinding: ResolvedKeybinding | undefined): string {\n\treturn keyBinding ? label + ' (' + keyBinding.getLabel() + ')' : label;\n}\n\n"],"mappings":"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","ignoreList":[]}