{"version":3,"names":["cov_1oxp1ttzwg","actualCoverage","Emitter","Disposable","BufferMarkCapability","_terminal","type","s","_idToMarkerMap","Map","_anonymousMarkers","_onMarkAdded","_register","onMarkAdded","event","constructor","f","markers","m","values","addMark","properties","marker","b","registerMarker","id","set","onDispose","delete","fire","hidden","hoverMessage","getMark","get"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/terminal/common/capabilities/bufferMarkCapability.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IBufferMarkCapability, TerminalCapability, IMarkProperties } from './capabilities.js';\nimport type { IMarker, Terminal } from '@xterm/headless';\n\n/**\n * Manages \"marks\" in the buffer which are lines that are tracked when lines are added to or removed\n * from the buffer.\n */\nexport class BufferMarkCapability extends Disposable implements IBufferMarkCapability {\n\n\treadonly type = TerminalCapability.BufferMarkDetection;\n\n\tprivate _idToMarkerMap: Map<string, IMarker> = new Map();\n\tprivate _anonymousMarkers: Map<number, IMarker> = new Map();\n\n\tprivate readonly _onMarkAdded = this._register(new Emitter<IMarkProperties>());\n\treadonly onMarkAdded = this._onMarkAdded.event;\n\n\tconstructor(\n\t\tprivate readonly _terminal: Terminal\n\t) {\n\t\tsuper();\n\t}\n\n\t*markers(): IterableIterator<IMarker> {\n\t\tfor (const m of this._idToMarkerMap.values()) {\n\t\t\tyield m;\n\t\t}\n\t\tfor (const m of this._anonymousMarkers.values()) {\n\t\t\tyield m;\n\t\t}\n\t}\n\n\taddMark(properties?: IMarkProperties): void {\n\t\tconst marker = properties?.marker || this._terminal.registerMarker();\n\t\tconst id = properties?.id;\n\t\tif (!marker) {\n\t\t\treturn;\n\t\t}\n\t\tif (id) {\n\t\t\tthis._idToMarkerMap.set(id, marker);\n\t\t\tmarker.onDispose(() => this._idToMarkerMap.delete(id));\n\t\t} else {\n\t\t\tthis._anonymousMarkers.set(marker.id, marker);\n\t\t\tmarker.onDispose(() => this._anonymousMarkers.delete(marker.id));\n\t\t}\n\t\tthis._onMarkAdded.fire({ marker, id, hidden: properties?.hidden, hoverMessage: properties?.hoverMessage });\n\t}\n\n\tgetMark(id: string): IMarker | undefined {\n\t\treturn this._idToMarkerMap.get(id);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}