{"version":3,"names":["cov_1vhlmzizmr","actualCoverage","onUnexpectedError","ExtensionIdentifier","ImplicitActivationEventsImpl","_generators","s","Map","_cache","WeakMap","register","extensionPointName","generator","f","set","readActivationEvents","extensionDescription","has","b","_readActivationEvents","get","createActivationEventsMap","extensionDescriptions","result","Object","create","activationEvents","length","toKey","identifier","desc","main","browser","Array","isArray","slice","i","contributes","extPointName","contrib","contribArr","push","err","ImplicitActivationEvents"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/extensionManagement/common/implicitActivationEvents.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../base/common/errors.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../extensions/common/extensions.js';\n\nexport interface IActivationEventsGenerator<T> {\n\t(contributions: readonly T[]): Iterable<string>;\n}\n\nexport class ImplicitActivationEventsImpl {\n\n\tprivate readonly _generators = new Map<string, IActivationEventsGenerator<any>>();\n\tprivate readonly _cache = new WeakMap<IExtensionDescription, string[]>();\n\n\tpublic register<T>(extensionPointName: string, generator: IActivationEventsGenerator<T>): void {\n\t\tthis._generators.set(extensionPointName, generator);\n\t}\n\n\t/**\n\t * This can run correctly only on the renderer process because that is the only place\n\t * where all extension points and all implicit activation events generators are known.\n\t */\n\tpublic readActivationEvents(extensionDescription: IExtensionDescription): string[] {\n\t\tif (!this._cache.has(extensionDescription)) {\n\t\t\tthis._cache.set(extensionDescription, this._readActivationEvents(extensionDescription));\n\t\t}\n\t\treturn this._cache.get(extensionDescription)!;\n\t}\n\n\t/**\n\t * This can run correctly only on the renderer process because that is the only place\n\t * where all extension points and all implicit activation events generators are known.\n\t */\n\tpublic createActivationEventsMap(extensionDescriptions: IExtensionDescription[]): { [extensionId: string]: string[] } {\n\t\tconst result: { [extensionId: string]: string[] } = Object.create(null);\n\t\tfor (const extensionDescription of extensionDescriptions) {\n\t\t\tconst activationEvents = this.readActivationEvents(extensionDescription);\n\t\t\tif (activationEvents.length > 0) {\n\t\t\t\tresult[ExtensionIdentifier.toKey(extensionDescription.identifier)] = activationEvents;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _readActivationEvents(desc: IExtensionDescription): string[] {\n\t\tif (typeof desc.main === 'undefined' && typeof desc.browser === 'undefined') {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst activationEvents: string[] = (Array.isArray(desc.activationEvents) ? desc.activationEvents.slice(0) : []);\n\n\t\tfor (let i = 0; i < activationEvents.length; i++) {\n\t\t\t// TODO@joao: there's no easy way to contribute this\n\t\t\tif (activationEvents[i] === 'onUri') {\n\t\t\t\tactivationEvents[i] = `onUri:${ExtensionIdentifier.toKey(desc.identifier)}`;\n\t\t\t}\n\t\t}\n\n\t\tif (!desc.contributes) {\n\t\t\t// no implicit activation events\n\t\t\treturn activationEvents;\n\t\t}\n\n\t\tfor (const extPointName in desc.contributes) {\n\t\t\tconst generator = this._generators.get(extPointName);\n\t\t\tif (!generator) {\n\t\t\t\t// There's no generator for this extension point\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconst contrib = (desc.contributes as any)[extPointName];\n\t\t\tconst contribArr = Array.isArray(contrib) ? contrib : [contrib];\n\t\t\ttry {\n\t\t\t\tactivationEvents.push(...generator(contribArr));\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\n\t\treturn activationEvents;\n\t}\n}\n\nexport const ImplicitActivationEvents: ImplicitActivationEventsImpl = new ImplicitActivationEventsImpl();\n"],"mappings":"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","ignoreList":[]}