{"version":3,"names":["cov_yv3ziy5di","actualCoverage","fs","os","cp","join","hasWSLFeaturePromise","hasWSLFeatureInstalled","refresh","b","f","s","undefined","testWSLFeatureInstalled","windowsBuildNumber","getWindowsBuildNumber","wslExePath","getWSLExecutablePath","Promise","execFile","err","e","dllPath","getLxssManagerDllPath","promises","stat","isFile","osVersion","exec","release","parseInt","getSystem32Path","subPath","systemRoot","process","env","is32ProcessOn64Windows","hasOwnProperty"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/remote/node/wsl.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport * as os from 'os';\nimport * as cp from 'child_process';\nimport { join } from '../../../base/common/path.js';\n\nlet hasWSLFeaturePromise: Promise<boolean> | undefined;\n\nexport async function hasWSLFeatureInstalled(refresh = false): Promise<boolean> {\n\tif (hasWSLFeaturePromise === undefined || refresh) {\n\t\thasWSLFeaturePromise = testWSLFeatureInstalled();\n\t}\n\treturn hasWSLFeaturePromise;\n}\n\nasync function testWSLFeatureInstalled(): Promise<boolean> {\n\tconst windowsBuildNumber = getWindowsBuildNumber();\n\tif (windowsBuildNumber === undefined) {\n\t\treturn false;\n\t}\n\tif (windowsBuildNumber >= 22000) {\n\t\tconst wslExePath = getWSLExecutablePath();\n\t\tif (wslExePath) {\n\t\t\treturn new Promise<boolean>(s => {\n\t\t\t\ttry {\n\t\t\t\t\tcp.execFile(wslExePath, ['--status'], err => s(!err));\n\t\t\t\t} catch (e) {\n\t\t\t\t\ts(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} else {\n\t\tconst dllPath = getLxssManagerDllPath();\n\t\tif (dllPath) {\n\t\t\ttry {\n\t\t\t\tif ((await fs.promises.stat(dllPath)).isFile()) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction getWindowsBuildNumber(): number | undefined {\n\tconst osVersion = (/(\\d+)\\.(\\d+)\\.(\\d+)/g).exec(os.release());\n\tif (osVersion) {\n\t\treturn parseInt(osVersion[3]);\n\t}\n\treturn undefined;\n}\n\nfunction getSystem32Path(subPath: string): string | undefined {\n\tconst systemRoot = process.env['SystemRoot'];\n\tif (systemRoot) {\n\t\tconst is32ProcessOn64Windows = process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432');\n\t\treturn join(systemRoot, is32ProcessOn64Windows ? 'Sysnative' : 'System32', subPath);\n\t}\n\treturn undefined;\n}\n\nfunction getWSLExecutablePath(): string | undefined {\n\treturn getSystem32Path('wsl.exe');\n}\n\n/**\n * In builds < 22000 this dll inidcates that WSL is installed\n */\nfunction getLxssManagerDllPath(): string | undefined {\n\treturn getSystem32Path('lxss\\\\LxssManager.dll');\n}\n"],"mappings":"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","ignoreList":[]}