{"version":3,"names":["compareBy","numberComparator","groupBy","SetMap","createSingleCallFunction","Iterable","BugIndicatingError","onUnexpectedError","TRACK_DISPOSABLES","cov_fa2k2reni","s","disposableTracker","GCBasedDisposableTracker","_registry","FinalizationRegistry","heldValue","f","console","warn","trackDisposable","disposable","stack","Error","register","setParent","child","parent","b","unregister","markAsDisposed","markAsSingleton","DisposableTracker","idx","livingDisposables","Map","getDisposableData","d","val","get","source","isSingleton","value","set","data","x","delete","getRootParent","cache","cacheValue","result","getTrackedDisposables","rootParentCache","leaking","entries","filter","v","flatMap","k","computeLeakingDisposables","maxReported","preComputedLeaks","uncoveredLeakingObjs","leakingObjects","values","info","length","leakingObjsSet","Set","map","o","l","has","undefined","getStackTracePath","removePrefix","array","linesToRemove","some","regexp","match","shift","lines","split","p","trim","replace","reverse","stackTraceStarts","stackTracePath","i","add","slice","join","sort","message","stackTraceFormattedLines","line","starts","size","prevStarts","continuations","cont","Object","unshift","constructor","name","leaks","details","setDisposableTracker","tracker","__is_disposable_tracked__","setTimeout","log","Disposable","None","setParentOfDisposable","setParentOfDisposables","children","singleton","isDisposable","thing","dispose","arg","is","errors","e","push","AggregateError","Array","isArray","disposeIfDisposable","disposables","combinedDisposable","toDisposable","FunctionDisposable","_isDisposed","_fn","fn","DisposableStore","DISABLE_DISPOSED_WARNING","_toDispose","clear","isDisposed","deleteAndLeak","assertNotDisposed","freeze","_store","_register","MutableDisposable","_value","clearAndLeak","oldValue","MandatoryMutableDisposable","_disposable","initialValue","RefCountedDisposable","_counter","acquire","release","ReferenceCollection","references","key","args","reference","counter","object","createReferencedObject","destroyReferencedObject","AsyncReferenceCollection","referenceCollection","ref","error","ImmortalReference","disposeOnReturn","store","DisposableMap","clearAndDisposeAll","skipDisposeOnOverwrite","deleteAndDispose","keys","Symbol","iterator","thenIfNotDisposed","promise","then","disposed","thenRegisterOrDispose"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/lifecycle.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareBy, numberComparator } from './arrays.js';\nimport { groupBy } from './collections.js';\nimport { SetMap } from './map.js';\nimport { createSingleCallFunction } from './functional.js';\nimport { Iterable } from './iterator.js';\nimport { BugIndicatingError, onUnexpectedError } from './errors.js';\n\n// #region Disposable Tracking\n\n/**\n * Enables logging of potentially leaked disposables.\n *\n * A disposable is considered leaked if it is not disposed or not registered as the child of\n * another disposable. This tracking is very simple an only works for classes that either\n * extend Disposable or use a DisposableStore. This means there are a lot of false positives.\n */\nconst TRACK_DISPOSABLES = false;\nlet disposableTracker: IDisposableTracker | null = null;\n\nexport interface IDisposableTracker {\n\t/**\n\t * Is called on construction of a disposable.\n\t*/\n\ttrackDisposable(disposable: IDisposable): void;\n\n\t/**\n\t * Is called when a disposable is registered as child of another disposable (e.g. {@link DisposableStore}).\n\t * If parent is `null`, the disposable is removed from its former parent.\n\t*/\n\tsetParent(child: IDisposable, parent: IDisposable | null): void;\n\n\t/**\n\t * Is called after a disposable is disposed.\n\t*/\n\tmarkAsDisposed(disposable: IDisposable): void;\n\n\t/**\n\t * Indicates that the given object is a singleton which does not need to be disposed.\n\t*/\n\tmarkAsSingleton(disposable: IDisposable): void;\n}\n\nexport class GCBasedDisposableTracker implements IDisposableTracker {\n\n\tprivate readonly _registry = new FinalizationRegistry<string>(heldValue => {\n\t\tconsole.warn(`[LEAKED DISPOSABLE] ${heldValue}`);\n\t});\n\n\ttrackDisposable(disposable: IDisposable): void {\n\t\tconst stack = new Error('CREATED via:').stack!;\n\t\tthis._registry.register(disposable, stack, disposable);\n\t}\n\n\tsetParent(child: IDisposable, parent: IDisposable | null): void {\n\t\tif (parent) {\n\t\t\tthis._registry.unregister(child);\n\t\t} else {\n\t\t\tthis.trackDisposable(child);\n\t\t}\n\t}\n\n\tmarkAsDisposed(disposable: IDisposable): void {\n\t\tthis._registry.unregister(disposable);\n\t}\n\n\tmarkAsSingleton(disposable: IDisposable): void {\n\t\tthis._registry.unregister(disposable);\n\t}\n}\n\nexport interface DisposableInfo {\n\tvalue: IDisposable;\n\tsource: string | null;\n\tparent: IDisposable | null;\n\tisSingleton: boolean;\n\tidx: number;\n}\n\nexport class DisposableTracker implements IDisposableTracker {\n\tprivate static idx = 0;\n\n\tprivate readonly livingDisposables = new Map<IDisposable, DisposableInfo>();\n\n\tprivate getDisposableData(d: IDisposable): DisposableInfo {\n\t\tlet val = this.livingDisposables.get(d);\n\t\tif (!val) {\n\t\t\tval = { parent: null, source: null, isSingleton: false, value: d, idx: DisposableTracker.idx++ };\n\t\t\tthis.livingDisposables.set(d, val);\n\t\t}\n\t\treturn val;\n\t}\n\n\ttrackDisposable(d: IDisposable): void {\n\t\tconst data = this.getDisposableData(d);\n\t\tif (!data.source) {\n\t\t\tdata.source =\n\t\t\t\tnew Error().stack!;\n\t\t}\n\t}\n\n\tsetParent(child: IDisposable, parent: IDisposable | null): void {\n\t\tconst data = this.getDisposableData(child);\n\t\tdata.parent = parent;\n\t}\n\n\tmarkAsDisposed(x: IDisposable): void {\n\t\tthis.livingDisposables.delete(x);\n\t}\n\n\tmarkAsSingleton(disposable: IDisposable): void {\n\t\tthis.getDisposableData(disposable).isSingleton = true;\n\t}\n\n\tprivate getRootParent(data: DisposableInfo, cache: Map<DisposableInfo, DisposableInfo>): DisposableInfo {\n\t\tconst cacheValue = cache.get(data);\n\t\tif (cacheValue) {\n\t\t\treturn cacheValue;\n\t\t}\n\n\t\tconst result = data.parent ? this.getRootParent(this.getDisposableData(data.parent), cache) : data;\n\t\tcache.set(data, result);\n\t\treturn result;\n\t}\n\n\tgetTrackedDisposables(): IDisposable[] {\n\t\tconst rootParentCache = new Map<DisposableInfo, DisposableInfo>();\n\n\t\tconst leaking = [...this.livingDisposables.entries()]\n\t\t\t.filter(([, v]) => v.source !== null && !this.getRootParent(v, rootParentCache).isSingleton)\n\t\t\t.flatMap(([k]) => k);\n\n\t\treturn leaking;\n\t}\n\n\tcomputeLeakingDisposables(maxReported = 10, preComputedLeaks?: DisposableInfo[]): { leaks: DisposableInfo[]; details: string } | undefined {\n\t\tlet uncoveredLeakingObjs: DisposableInfo[] | undefined;\n\t\tif (preComputedLeaks) {\n\t\t\tuncoveredLeakingObjs = preComputedLeaks;\n\t\t} else {\n\t\t\tconst rootParentCache = new Map<DisposableInfo, DisposableInfo>();\n\n\t\t\tconst leakingObjects = [...this.livingDisposables.values()]\n\t\t\t\t.filter((info) => info.source !== null && !this.getRootParent(info, rootParentCache).isSingleton);\n\n\t\t\tif (leakingObjects.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst leakingObjsSet = new Set(leakingObjects.map(o => o.value));\n\n\t\t\t// Remove all objects that are a child of other leaking objects. Assumes there are no cycles.\n\t\t\tuncoveredLeakingObjs = leakingObjects.filter(l => {\n\t\t\t\treturn !(l.parent && leakingObjsSet.has(l.parent));\n\t\t\t});\n\n\t\t\tif (uncoveredLeakingObjs.length === 0) {\n\t\t\t\tthrow new Error('There are cyclic diposable chains!');\n\t\t\t}\n\t\t}\n\n\t\tif (!uncoveredLeakingObjs) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tfunction getStackTracePath(leaking: DisposableInfo): string[] {\n\t\t\tfunction removePrefix(array: string[], linesToRemove: (string | RegExp)[]) {\n\t\t\t\twhile (array.length > 0 && linesToRemove.some(regexp => typeof regexp === 'string' ? regexp === array[0] : array[0].match(regexp))) {\n\t\t\t\t\tarray.shift();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst lines = leaking.source!.split('\\n').map(p => p.trim().replace('at ', '')).filter(l => l !== '');\n\t\t\tremovePrefix(lines, ['Error', /^trackDisposable \\(.*\\)$/, /^DisposableTracker.trackDisposable \\(.*\\)$/]);\n\t\t\treturn lines.reverse();\n\t\t}\n\n\t\tconst stackTraceStarts = new SetMap<string, DisposableInfo>();\n\t\tfor (const leaking of uncoveredLeakingObjs) {\n\t\t\tconst stackTracePath = getStackTracePath(leaking);\n\t\t\tfor (let i = 0; i <= stackTracePath.length; i++) {\n\t\t\t\tstackTraceStarts.add(stackTracePath.slice(0, i).join('\\n'), leaking);\n\t\t\t}\n\t\t}\n\n\t\t// Put earlier leaks first\n\t\tuncoveredLeakingObjs.sort(compareBy(l => l.idx, numberComparator));\n\n\t\tlet message = '';\n\n\t\tlet i = 0;\n\t\tfor (const leaking of uncoveredLeakingObjs.slice(0, maxReported)) {\n\t\t\ti++;\n\t\t\tconst stackTracePath = getStackTracePath(leaking);\n\t\t\tconst stackTraceFormattedLines = [];\n\n\t\t\tfor (let i = 0; i < stackTracePath.length; i++) {\n\t\t\t\tlet line = stackTracePath[i];\n\t\t\t\tconst starts = stackTraceStarts.get(stackTracePath.slice(0, i + 1).join('\\n'));\n\t\t\t\tline = `(shared with ${starts.size}/${uncoveredLeakingObjs.length} leaks) at ${line}`;\n\n\t\t\t\tconst prevStarts = stackTraceStarts.get(stackTracePath.slice(0, i).join('\\n'));\n\t\t\t\tconst continuations = groupBy([...prevStarts].map(d => getStackTracePath(d)[i]), v => v);\n\t\t\t\tdelete continuations[stackTracePath[i]];\n\t\t\t\tfor (const [cont, set] of Object.entries(continuations)) {\n\t\t\t\t\tif (set) {\n\t\t\t\t\t\tstackTraceFormattedLines.unshift(`    - stacktraces of ${set.length} other leaks continue with ${cont}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tstackTraceFormattedLines.unshift(line);\n\t\t\t}\n\n\t\t\tmessage += `\\n\\n\\n==================== Leaking disposable ${i}/${uncoveredLeakingObjs.length}: ${leaking.value.constructor.name} ====================\\n${stackTraceFormattedLines.join('\\n')}\\n============================================================\\n\\n`;\n\t\t}\n\n\t\tif (uncoveredLeakingObjs.length > maxReported) {\n\t\t\tmessage += `\\n\\n\\n... and ${uncoveredLeakingObjs.length - maxReported} more leaking disposables\\n\\n`;\n\t\t}\n\n\t\treturn { leaks: uncoveredLeakingObjs, details: message };\n\t}\n}\n\nexport function setDisposableTracker(tracker: IDisposableTracker | null): void {\n\tdisposableTracker = tracker;\n}\n\nif (TRACK_DISPOSABLES) {\n\tconst __is_disposable_tracked__ = '__is_disposable_tracked__';\n\tsetDisposableTracker(new class implements IDisposableTracker {\n\t\ttrackDisposable(x: IDisposable): void {\n\t\t\tconst stack = new Error('Potentially leaked disposable').stack!;\n\t\t\tsetTimeout(() => {\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\tif (!(x as any)[__is_disposable_tracked__]) {\n\t\t\t\t\tconsole.log(stack);\n\t\t\t\t}\n\t\t\t}, 3000);\n\t\t}\n\n\t\tsetParent(child: IDisposable, parent: IDisposable | null): void {\n\t\t\tif (child && child !== Disposable.None) {\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t(child as any)[__is_disposable_tracked__] = true;\n\t\t\t\t} catch {\n\t\t\t\t\t// noop\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tmarkAsDisposed(disposable: IDisposable): void {\n\t\t\tif (disposable && disposable !== Disposable.None) {\n\t\t\t\ttry {\n\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t(disposable as any)[__is_disposable_tracked__] = true;\n\t\t\t\t} catch {\n\t\t\t\t\t// noop\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmarkAsSingleton(disposable: IDisposable): void { }\n\t});\n}\n\nexport function trackDisposable<T extends IDisposable>(x: T): T {\n\tdisposableTracker?.trackDisposable(x);\n\treturn x;\n}\n\nexport function markAsDisposed(disposable: IDisposable): void {\n\tdisposableTracker?.markAsDisposed(disposable);\n}\n\nfunction setParentOfDisposable(child: IDisposable, parent: IDisposable | null): void {\n\tdisposableTracker?.setParent(child, parent);\n}\n\nfunction setParentOfDisposables(children: IDisposable[], parent: IDisposable | null): void {\n\tif (!disposableTracker) {\n\t\treturn;\n\t}\n\tfor (const child of children) {\n\t\tdisposableTracker.setParent(child, parent);\n\t}\n}\n\n/**\n * Indicates that the given object is a singleton which does not need to be disposed.\n*/\nexport function markAsSingleton<T extends IDisposable>(singleton: T): T {\n\tdisposableTracker?.markAsSingleton(singleton);\n\treturn singleton;\n}\n\n// #endregion\n\n/**\n * An object that performs a cleanup operation when `.dispose()` is called.\n *\n * Some examples of how disposables are used:\n *\n * - An event listener that removes itself when `.dispose()` is called.\n * - A resource such as a file system watcher that cleans up the resource when `.dispose()` is called.\n * - The return value from registering a provider. When `.dispose()` is called, the provider is unregistered.\n */\nexport interface IDisposable {\n\tdispose(): void;\n}\n\n/**\n * Check if `thing` is {@link IDisposable disposable}.\n */\nexport function isDisposable<E>(thing: E): thing is E & IDisposable {\n\t// eslint-disable-next-line local/code-no-any-casts\n\treturn typeof thing === 'object' && thing !== null && typeof (<IDisposable><any>thing).dispose === 'function' && (<IDisposable><any>thing).dispose.length === 0;\n}\n\n/**\n * Disposes of the value(s) passed in.\n */\nexport function dispose<T extends IDisposable>(disposable: T): T;\nexport function dispose<T extends IDisposable>(disposable: T | undefined): T | undefined;\nexport function dispose<T extends IDisposable, A extends Iterable<T> = Iterable<T>>(disposables: A): A;\nexport function dispose<T extends IDisposable>(disposables: Array<T>): Array<T>;\nexport function dispose<T extends IDisposable>(disposables: ReadonlyArray<T>): ReadonlyArray<T>;\nexport function dispose<T extends IDisposable>(arg: T | Iterable<T> | undefined): any {\n\tif (Iterable.is(arg)) {\n\t\tconst errors: any[] = [];\n\n\t\tfor (const d of arg) {\n\t\t\tif (d) {\n\t\t\t\ttry {\n\t\t\t\t\td.dispose();\n\t\t\t\t} catch (e) {\n\t\t\t\t\terrors.push(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (errors.length === 1) {\n\t\t\tthrow errors[0];\n\t\t} else if (errors.length > 1) {\n\t\t\tthrow new AggregateError(errors, 'Encountered errors while disposing of store');\n\t\t}\n\n\t\treturn Array.isArray(arg) ? [] : arg;\n\t} else if (arg) {\n\t\targ.dispose();\n\t\treturn arg;\n\t}\n}\n\nexport function disposeIfDisposable<T extends IDisposable | object>(disposables: Array<T>): Array<T> {\n\tfor (const d of disposables) {\n\t\tif (isDisposable(d)) {\n\t\t\td.dispose();\n\t\t}\n\t}\n\treturn [];\n}\n\n/**\n * Combine multiple disposable values into a single {@link IDisposable}.\n */\nexport function combinedDisposable(...disposables: IDisposable[]): IDisposable {\n\tconst parent = toDisposable(() => dispose(disposables));\n\tsetParentOfDisposables(disposables, parent);\n\treturn parent;\n}\n\nclass FunctionDisposable implements IDisposable {\n\tprivate _isDisposed: boolean;\n\tprivate readonly _fn: () => void;\n\n\tconstructor(fn: () => void) {\n\t\tthis._isDisposed = false;\n\t\tthis._fn = fn;\n\t\ttrackDisposable(this);\n\t}\n\n\tdispose() {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this._fn) {\n\t\t\tthrow new Error(`Unbound disposable context: Need to use an arrow function to preserve the value of this`);\n\t\t}\n\t\tthis._isDisposed = true;\n\t\tmarkAsDisposed(this);\n\t\tthis._fn();\n\t}\n}\n\n/**\n * Turn a function that implements dispose into an {@link IDisposable}.\n *\n * @param fn Clean up function, guaranteed to be called only **once**.\n */\nexport function toDisposable(fn: () => void): IDisposable {\n\treturn new FunctionDisposable(fn);\n}\n\n/**\n * Manages a collection of disposable values.\n *\n * This is the preferred way to manage multiple disposables. A `DisposableStore` is safer to work with than an\n * `IDisposable[]` as it considers edge cases, such as registering the same value multiple times or adding an item to a\n * store that has already been disposed of.\n */\nexport class DisposableStore implements IDisposable {\n\n\tstatic DISABLE_DISPOSED_WARNING = false;\n\n\tprivate readonly _toDispose = new Set<IDisposable>();\n\tprivate _isDisposed = false;\n\n\tconstructor() {\n\t\ttrackDisposable(this);\n\t}\n\n\t/**\n\t * Dispose of all registered disposables and mark this object as disposed.\n\t *\n\t * Any future disposables added to this object will be disposed of on `add`.\n\t */\n\tpublic dispose(): void {\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tmarkAsDisposed(this);\n\t\tthis._isDisposed = true;\n\t\tthis.clear();\n\t}\n\n\t/**\n\t * @return `true` if this object has been disposed of.\n\t */\n\tpublic get isDisposed(): boolean {\n\t\treturn this._isDisposed;\n\t}\n\n\t/**\n\t * Dispose of all registered disposables but do not mark this object as disposed.\n\t */\n\tpublic clear(): void {\n\t\tif (this._toDispose.size === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tdispose(this._toDispose);\n\t\t} finally {\n\t\t\tthis._toDispose.clear();\n\t\t}\n\t}\n\n\t/**\n\t * Add a new {@link IDisposable disposable} to the collection.\n\t */\n\tpublic add<T extends IDisposable>(o: T): T {\n\t\tif (!o || o === Disposable.None) {\n\t\t\treturn o;\n\t\t}\n\t\tif ((o as unknown as DisposableStore) === this) {\n\t\t\tthrow new Error('Cannot register a disposable on itself!');\n\t\t}\n\n\t\tsetParentOfDisposable(o, this);\n\t\tif (this._isDisposed) {\n\t\t\tif (!DisposableStore.DISABLE_DISPOSED_WARNING) {\n\t\t\t\tconsole.warn(new Error('Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!').stack);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._toDispose.add(o);\n\t\t}\n\n\t\treturn o;\n\t}\n\n\t/**\n\t * Deletes a disposable from store and disposes of it. This will not throw or warn and proceed to dispose the\n\t * disposable even when the disposable is not part in the store.\n\t */\n\tpublic delete<T extends IDisposable>(o: T): void {\n\t\tif (!o) {\n\t\t\treturn;\n\t\t}\n\t\tif ((o as unknown as DisposableStore) === this) {\n\t\t\tthrow new Error('Cannot dispose a disposable on itself!');\n\t\t}\n\t\tthis._toDispose.delete(o);\n\t\to.dispose();\n\t}\n\n\t/**\n\t * Deletes the value from the store, but does not dispose it.\n\t */\n\tpublic deleteAndLeak<T extends IDisposable>(o: T): void {\n\t\tif (!o) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._toDispose.has(o)) {\n\t\t\tthis._toDispose.delete(o);\n\t\t\tsetParentOfDisposable(o, null);\n\t\t}\n\t}\n\n\tpublic assertNotDisposed(): void {\n\t\tif (this._isDisposed) {\n\t\t\tonUnexpectedError(new BugIndicatingError('Object disposed'));\n\t\t}\n\t}\n}\n\n/**\n * Abstract base class for a {@link IDisposable disposable} object.\n *\n * Subclasses can {@linkcode _register} disposables that will be automatically cleaned up when this object is disposed of.\n */\nexport abstract class Disposable implements IDisposable {\n\n\t/**\n\t * A disposable that does nothing when it is disposed of.\n\t *\n\t * TODO: This should not be a static property.\n\t */\n\tstatic readonly None = Object.freeze<IDisposable>({ dispose() { } });\n\n\tprotected readonly _store = new DisposableStore();\n\n\tconstructor() {\n\t\ttrackDisposable(this);\n\t\tsetParentOfDisposable(this._store, this);\n\t}\n\n\tpublic dispose(): void {\n\t\tmarkAsDisposed(this);\n\n\t\tthis._store.dispose();\n\t}\n\n\t/**\n\t * Adds `o` to the collection of disposables managed by this object.\n\t */\n\tprotected _register<T extends IDisposable>(o: T): T {\n\t\tif ((o as unknown as Disposable) === this) {\n\t\t\tthrow new Error('Cannot register a disposable on itself!');\n\t\t}\n\t\treturn this._store.add(o);\n\t}\n}\n\n/**\n * Manages the lifecycle of a disposable value that may be changed.\n *\n * This ensures that when the disposable value is changed, the previously held disposable is disposed of. You can\n * also register a `MutableDisposable` on a `Disposable` to ensure it is automatically cleaned up.\n */\nexport class MutableDisposable<T extends IDisposable> implements IDisposable {\n\tprivate _value?: T;\n\tprivate _isDisposed = false;\n\n\tconstructor() {\n\t\ttrackDisposable(this);\n\t}\n\n\t/**\n\t * Get the currently held disposable value, or `undefined` if this MutableDisposable has been disposed\n\t */\n\tget value(): T | undefined {\n\t\treturn this._isDisposed ? undefined : this._value;\n\t}\n\n\t/**\n\t * Set a new disposable value.\n\t *\n\t * Behaviour:\n\t * - If the MutableDisposable has been disposed, the setter is a no-op.\n\t * - If the new value is strictly equal to the current value, the setter is a no-op.\n\t * - Otherwise the previous value (if any) is disposed and the new value is stored.\n\t *\n\t * Related helpers:\n\t * - clear() resets the value to `undefined` (and disposes the previous value).\n\t * - clearAndLeak() returns the old value without disposing it and removes its parent.\n\t */\n\tset value(value: T | undefined) {\n\t\tif (this._isDisposed || value === this._value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._value?.dispose();\n\t\tif (value) {\n\t\t\tsetParentOfDisposable(value, this);\n\t\t}\n\t\tthis._value = value;\n\t}\n\n\t/**\n\t * Resets the stored value and disposed of the previously stored value.\n\t */\n\tclear(): void {\n\t\tthis.value = undefined;\n\t}\n\n\tdispose(): void {\n\t\tthis._isDisposed = true;\n\t\tmarkAsDisposed(this);\n\t\tthis._value?.dispose();\n\t\tthis._value = undefined;\n\t}\n\n\t/**\n\t * Clears the value, but does not dispose it.\n\t * The old value is returned.\n\t*/\n\tclearAndLeak(): T | undefined {\n\t\tconst oldValue = this._value;\n\t\tthis._value = undefined;\n\t\tif (oldValue) {\n\t\t\tsetParentOfDisposable(oldValue, null);\n\t\t}\n\t\treturn oldValue;\n\t}\n}\n\n/**\n * Manages the lifecycle of a disposable value that may be changed like {@link MutableDisposable}, but the value must\n * exist and cannot be undefined.\n */\nexport class MandatoryMutableDisposable<T extends IDisposable> implements IDisposable {\n\tprivate readonly _disposable = new MutableDisposable<T>();\n\tprivate _isDisposed = false;\n\n\tconstructor(initialValue: T) {\n\t\tthis._disposable.value = initialValue;\n\t}\n\n\tget value(): T {\n\t\treturn this._disposable.value!;\n\t}\n\n\tset value(value: T) {\n\t\tif (this._isDisposed || value === this._disposable.value) {\n\t\t\treturn;\n\t\t}\n\t\tthis._disposable.value = value;\n\t}\n\n\tdispose() {\n\t\tthis._isDisposed = true;\n\t\tthis._disposable.dispose();\n\t}\n}\n\nexport class RefCountedDisposable {\n\n\tprivate _counter: number = 1;\n\n\tconstructor(\n\t\tprivate readonly _disposable: IDisposable,\n\t) { }\n\n\tacquire() {\n\t\tthis._counter++;\n\t\treturn this;\n\t}\n\n\trelease() {\n\t\tif (--this._counter === 0) {\n\t\t\tthis._disposable.dispose();\n\t\t}\n\t\treturn this;\n\t}\n}\n\nexport interface IReference<T> extends IDisposable {\n\treadonly object: T;\n}\n\nexport abstract class ReferenceCollection<T> {\n\n\tprivate readonly references: Map<string, { readonly object: T; counter: number }> = new Map();\n\n\tacquire(key: string, ...args: unknown[]): IReference<T> {\n\t\tlet reference = this.references.get(key);\n\n\t\tif (!reference) {\n\t\t\treference = { counter: 0, object: this.createReferencedObject(key, ...args) };\n\t\t\tthis.references.set(key, reference);\n\t\t}\n\n\t\tconst { object } = reference;\n\t\tconst dispose = createSingleCallFunction(() => {\n\t\t\tif (--reference.counter === 0) {\n\t\t\t\tthis.destroyReferencedObject(key, reference.object);\n\t\t\t\tthis.references.delete(key);\n\t\t\t}\n\t\t});\n\n\t\treference.counter++;\n\n\t\treturn { object, dispose };\n\t}\n\n\tprotected abstract createReferencedObject(key: string, ...args: unknown[]): T;\n\tprotected abstract destroyReferencedObject(key: string, object: T): void;\n}\n\n/**\n * Unwraps a reference collection of promised values. Makes sure\n * references are disposed whenever promises get rejected.\n */\nexport class AsyncReferenceCollection<T> {\n\n\tconstructor(private referenceCollection: ReferenceCollection<Promise<T>>) { }\n\n\tasync acquire(key: string, ...args: any[]): Promise<IReference<T>> {\n\t\tconst ref = this.referenceCollection.acquire(key, ...args);\n\n\t\ttry {\n\t\t\tconst object = await ref.object;\n\n\t\t\treturn {\n\t\t\t\tobject,\n\t\t\t\tdispose: () => ref.dispose()\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tref.dispose();\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nexport class ImmortalReference<T> implements IReference<T> {\n\tconstructor(public object: T) { }\n\tdispose(): void { /* noop */ }\n}\n\nexport function disposeOnReturn(fn: (store: DisposableStore) => void): void {\n\tconst store = new DisposableStore();\n\ttry {\n\t\tfn(store);\n\t} finally {\n\t\tstore.dispose();\n\t}\n}\n\n/**\n * A map the manages the lifecycle of the values that it stores.\n */\nexport class DisposableMap<K, V extends IDisposable = IDisposable> implements IDisposable {\n\n\tprivate readonly _store = new Map<K, V>();\n\tprivate _isDisposed = false;\n\n\tconstructor() {\n\t\ttrackDisposable(this);\n\t}\n\n\t/**\n\t * Disposes of all stored values and mark this object as disposed.\n\t *\n\t * Trying to use this object after it has been disposed of is an error.\n\t */\n\tdispose(): void {\n\t\tmarkAsDisposed(this);\n\t\tthis._isDisposed = true;\n\t\tthis.clearAndDisposeAll();\n\t}\n\n\t/**\n\t * Disposes of all stored values and clear the map, but DO NOT mark this object as disposed.\n\t */\n\tclearAndDisposeAll(): void {\n\t\tif (!this._store.size) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tdispose(this._store.values());\n\t\t} finally {\n\t\t\tthis._store.clear();\n\t\t}\n\t}\n\n\thas(key: K): boolean {\n\t\treturn this._store.has(key);\n\t}\n\n\tget size(): number {\n\t\treturn this._store.size;\n\t}\n\n\tget(key: K): V | undefined {\n\t\treturn this._store.get(key);\n\t}\n\n\tset(key: K, value: V, skipDisposeOnOverwrite = false): void {\n\t\tif (this._isDisposed) {\n\t\t\tconsole.warn(new Error('Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!').stack);\n\t\t}\n\n\t\tif (!skipDisposeOnOverwrite) {\n\t\t\tthis._store.get(key)?.dispose();\n\t\t}\n\n\t\tthis._store.set(key, value);\n\t\tsetParentOfDisposable(value, this);\n\t}\n\n\t/**\n\t * Delete the value stored for `key` from this map and also dispose of it.\n\t */\n\tdeleteAndDispose(key: K): void {\n\t\tthis._store.get(key)?.dispose();\n\t\tthis._store.delete(key);\n\t}\n\n\t/**\n\t * Delete the value stored for `key` from this map but return it. The caller is\n\t * responsible for disposing of the value.\n\t */\n\tdeleteAndLeak(key: K): V | undefined {\n\t\tconst value = this._store.get(key);\n\t\tif (value) {\n\t\t\tsetParentOfDisposable(value, null);\n\t\t}\n\t\tthis._store.delete(key);\n\t\treturn value;\n\t}\n\n\tkeys(): IterableIterator<K> {\n\t\treturn this._store.keys();\n\t}\n\n\tvalues(): IterableIterator<V> {\n\t\treturn this._store.values();\n\t}\n\n\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\treturn this._store[Symbol.iterator]();\n\t}\n}\n\n/**\n * Call `then` on a Promise, unless the returned disposable is disposed.\n */\nexport function thenIfNotDisposed<T>(promise: Promise<T>, then: (result: T) => void): IDisposable {\n\tlet disposed = false;\n\tpromise.then(result => {\n\t\tif (disposed) {\n\t\t\treturn;\n\t\t}\n\t\tthen(result);\n\t});\n\treturn toDisposable(() => {\n\t\tdisposed = true;\n\t});\n}\n\n/**\n * Call `then` on a promise that resolves to a {@link IDisposable}, then either register the\n * disposable or register it to the {@link DisposableStore}, depending on whether the store is\n * disposed or not.\n */\nexport function thenRegisterOrDispose<T extends IDisposable>(promise: Promise<T>, store: DisposableStore): Promise<T> {\n\treturn promise.then(disposable => {\n\t\tif (store.isDisposed) {\n\t\t\tdisposable.dispose();\n\t\t} else {\n\t\t\tstore.add(disposable);\n\t\t}\n\t\treturn disposable;\n\t});\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}