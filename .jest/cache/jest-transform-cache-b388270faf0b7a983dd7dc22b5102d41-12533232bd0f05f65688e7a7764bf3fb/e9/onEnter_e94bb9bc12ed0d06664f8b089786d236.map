{"version":3,"names":["cov_13n2x1gb1z","actualCoverage","onUnexpectedError","strings","IndentAction","OnEnterSupport","_brackets","_regExpRules","constructor","opts","f","s","b","brackets","forEach","bracket","openRegExp","_createOpenBracketRegExp","closeRegExp","_createCloseBracketRegExp","push","open","close","onEnterRules","onEnter","autoIndent","previousLineText","beforeEnterText","afterEnterText","i","len","length","rule","regResult","reg","beforeText","text","afterText","every","obj","lastIndex","test","action","indentAction","IndentOutdent","Indent","str","escapeRegExpCharacters","charAt","_safeRegExp","def","RegExp","err"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languages/supports/onEnter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { CharacterPair, EnterAction, IndentAction, OnEnterRule } from '../languageConfiguration.js';\nimport { EditorAutoIndentStrategy } from '../../config/editorOptions.js';\n\nexport interface IOnEnterSupportOptions {\n\tbrackets?: CharacterPair[];\n\tonEnterRules?: OnEnterRule[];\n}\n\ninterface IProcessedBracketPair {\n\topen: string;\n\tclose: string;\n\topenRegExp: RegExp;\n\tcloseRegExp: RegExp;\n}\n\nexport class OnEnterSupport {\n\n\tprivate readonly _brackets: IProcessedBracketPair[];\n\tprivate readonly _regExpRules: OnEnterRule[];\n\n\tconstructor(opts: IOnEnterSupportOptions) {\n\t\topts = opts || {};\n\t\topts.brackets = opts.brackets || [\n\t\t\t['(', ')'],\n\t\t\t['{', '}'],\n\t\t\t['[', ']']\n\t\t];\n\n\t\tthis._brackets = [];\n\t\topts.brackets.forEach((bracket) => {\n\t\t\tconst openRegExp = OnEnterSupport._createOpenBracketRegExp(bracket[0]);\n\t\t\tconst closeRegExp = OnEnterSupport._createCloseBracketRegExp(bracket[1]);\n\t\t\tif (openRegExp && closeRegExp) {\n\t\t\t\tthis._brackets.push({\n\t\t\t\t\topen: bracket[0],\n\t\t\t\t\topenRegExp: openRegExp,\n\t\t\t\t\tclose: bracket[1],\n\t\t\t\t\tcloseRegExp: closeRegExp,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis._regExpRules = opts.onEnterRules || [];\n\t}\n\n\tpublic onEnter(autoIndent: EditorAutoIndentStrategy, previousLineText: string, beforeEnterText: string, afterEnterText: string): EnterAction | null {\n\t\t// (1): `regExpRules`\n\t\tif (autoIndent >= EditorAutoIndentStrategy.Advanced) {\n\t\t\tfor (let i = 0, len = this._regExpRules.length; i < len; i++) {\n\t\t\t\tconst rule = this._regExpRules[i];\n\t\t\t\tconst regResult = [{\n\t\t\t\t\treg: rule.beforeText,\n\t\t\t\t\ttext: beforeEnterText\n\t\t\t\t}, {\n\t\t\t\t\treg: rule.afterText,\n\t\t\t\t\ttext: afterEnterText\n\t\t\t\t}, {\n\t\t\t\t\treg: rule.previousLineText,\n\t\t\t\t\ttext: previousLineText\n\t\t\t\t}].every((obj): boolean => {\n\t\t\t\t\tif (!obj.reg) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tobj.reg.lastIndex = 0; // To disable the effect of the \"g\" flag.\n\t\t\t\t\treturn obj.reg.test(obj.text);\n\t\t\t\t});\n\n\t\t\t\tif (regResult) {\n\t\t\t\t\treturn rule.action;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (2): Special indent-outdent\n\t\tif (autoIndent >= EditorAutoIndentStrategy.Brackets) {\n\t\t\tif (beforeEnterText.length > 0 && afterEnterText.length > 0) {\n\t\t\t\tfor (let i = 0, len = this._brackets.length; i < len; i++) {\n\t\t\t\t\tconst bracket = this._brackets[i];\n\t\t\t\t\tif (bracket.openRegExp.test(beforeEnterText) && bracket.closeRegExp.test(afterEnterText)) {\n\t\t\t\t\t\treturn { indentAction: IndentAction.IndentOutdent };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\t// (4): Open bracket based logic\n\t\tif (autoIndent >= EditorAutoIndentStrategy.Brackets) {\n\t\t\tif (beforeEnterText.length > 0) {\n\t\t\t\tfor (let i = 0, len = this._brackets.length; i < len; i++) {\n\t\t\t\t\tconst bracket = this._brackets[i];\n\t\t\t\t\tif (bracket.openRegExp.test(beforeEnterText)) {\n\t\t\t\t\t\treturn { indentAction: IndentAction.Indent };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprivate static _createOpenBracketRegExp(bracket: string): RegExp | null {\n\t\tlet str = strings.escapeRegExpCharacters(bracket);\n\t\tif (!/\\B/.test(str.charAt(0))) {\n\t\t\tstr = '\\\\b' + str;\n\t\t}\n\t\tstr += '\\\\s*$';\n\t\treturn OnEnterSupport._safeRegExp(str);\n\t}\n\n\tprivate static _createCloseBracketRegExp(bracket: string): RegExp | null {\n\t\tlet str = strings.escapeRegExpCharacters(bracket);\n\t\tif (!/\\B/.test(str.charAt(str.length - 1))) {\n\t\t\tstr = str + '\\\\b';\n\t\t}\n\t\tstr = '^\\\\s*' + str;\n\t\treturn OnEnterSupport._safeRegExp(str);\n\t}\n\n\tprivate static _safeRegExp(def: string): RegExp | null {\n\t\ttry {\n\t\t\treturn new RegExp(def);\n\t\t} catch (err) {\n\t\t\tonUnexpectedError(err);\n\t\t\treturn null;\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}