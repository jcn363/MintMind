{"version":3,"names":["cov_2kw6jgib6l","actualCoverage","distinct","nls","RawContextKey","createDecorator","globMatchesResource","priorityToRank","RegisteredEditorPriority","ICustomEditorService","s","CONTEXT_ACTIVE_CUSTOM_EDITOR_ID","type","description","localize","CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE","CustomEditorInfo","id","displayName","providerDisplayName","priority","selector","constructor","descriptor","f","matches","resource","some","b","filenamePattern","CustomEditorInfoCollection","allEditors","editors","editor","length","defaultEditor","find","default","builtin","every","otherEditor","isLowerPriority","bestAvailableEditor","Array","from","sort","a"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/customEditor/common/customEditor.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { distinct } from '../../../../base/common/arrays.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { IDisposable, IReference } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport * as nls from '../../../../nls.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IRevertOptions, ISaveOptions } from '../../../common/editor.js';\nimport { globMatchesResource, priorityToRank, RegisteredEditorPriority } from '../../../services/editor/common/editorResolverService.js';\n\nexport const ICustomEditorService = createDecorator<ICustomEditorService>('customEditorService');\n\nexport const CONTEXT_ACTIVE_CUSTOM_EDITOR_ID = new RawContextKey<string>('activeCustomEditorId', '', {\n\ttype: 'string',\n\tdescription: nls.localize('context.customEditor', \"The viewType of the currently active custom editor.\"),\n});\n\nexport const CONTEXT_FOCUSED_CUSTOM_EDITOR_IS_EDITABLE = new RawContextKey<boolean>('focusedCustomEditorIsEditable', false);\n\nexport interface CustomEditorCapabilities {\n\treadonly supportsMultipleEditorsPerDocument?: boolean;\n}\n\nexport interface ICustomEditorService {\n\t_serviceBrand: any;\n\n\treadonly models: ICustomEditorModelManager;\n\n\tgetCustomEditor(viewType: string): CustomEditorInfo | undefined;\n\tgetAllCustomEditors(resource: URI): CustomEditorInfoCollection;\n\tgetContributedCustomEditors(resource: URI): CustomEditorInfoCollection;\n\tgetUserConfiguredCustomEditors(resource: URI): CustomEditorInfoCollection;\n\n\tregisterCustomEditorCapabilities(viewType: string, options: CustomEditorCapabilities): IDisposable;\n\tgetCustomEditorCapabilities(viewType: string): CustomEditorCapabilities | undefined;\n}\n\nexport interface ICustomEditorModelManager {\n\tgetAllModels(resource: URI): Promise<ICustomEditorModel[]>;\n\n\tget(resource: URI, viewType: string): Promise<ICustomEditorModel | undefined>;\n\n\ttryRetain(resource: URI, viewType: string): Promise<IReference<ICustomEditorModel>> | undefined;\n\n\tadd(resource: URI, viewType: string, model: Promise<ICustomEditorModel>): Promise<IReference<ICustomEditorModel>>;\n\n\tdisposeAllModelsForView(viewType: string): void;\n}\n\nexport interface ICustomEditorModel extends IDisposable {\n\treadonly viewType: string;\n\treadonly resource: URI;\n\treadonly backupId: string | undefined;\n\treadonly canHotExit: boolean;\n\n\tisReadonly(): boolean | IMarkdownString;\n\treadonly onDidChangeReadonly: Event<void>;\n\n\tisOrphaned(): boolean;\n\treadonly onDidChangeOrphaned: Event<void>;\n\n\tisDirty(): boolean;\n\treadonly onDidChangeDirty: Event<void>;\n\n\trevert(options?: IRevertOptions): Promise<void>;\n\n\tsaveCustomEditor(options?: ISaveOptions): Promise<URI | undefined>;\n\tsaveCustomEditorAs(resource: URI, targetResource: URI, currentOptions?: ISaveOptions): Promise<boolean>;\n}\n\nexport const enum CustomEditorPriority {\n\tdefault = 'default',\n\tbuiltin = 'builtin',\n\toption = 'option',\n}\n\nexport interface CustomEditorSelector {\n\treadonly filenamePattern?: string;\n}\n\nexport interface CustomEditorDescriptor {\n\treadonly id: string;\n\treadonly displayName: string;\n\treadonly providerDisplayName: string;\n\treadonly priority: RegisteredEditorPriority;\n\treadonly selector: readonly CustomEditorSelector[];\n}\n\nexport class CustomEditorInfo implements CustomEditorDescriptor {\n\n\tpublic readonly id: string;\n\tpublic readonly displayName: string;\n\tpublic readonly providerDisplayName: string;\n\tpublic readonly priority: RegisteredEditorPriority;\n\tpublic readonly selector: readonly CustomEditorSelector[];\n\n\tconstructor(descriptor: CustomEditorDescriptor) {\n\t\tthis.id = descriptor.id;\n\t\tthis.displayName = descriptor.displayName;\n\t\tthis.providerDisplayName = descriptor.providerDisplayName;\n\t\tthis.priority = descriptor.priority;\n\t\tthis.selector = descriptor.selector;\n\t}\n\n\tmatches(resource: URI): boolean {\n\t\treturn this.selector.some(selector => selector.filenamePattern && globMatchesResource(selector.filenamePattern, resource));\n\t}\n}\n\nexport class CustomEditorInfoCollection {\n\n\tpublic readonly allEditors: readonly CustomEditorInfo[];\n\n\tconstructor(\n\t\teditors: readonly CustomEditorInfo[],\n\t) {\n\t\tthis.allEditors = distinct(editors, editor => editor.id);\n\t}\n\n\tpublic get length(): number { return this.allEditors.length; }\n\n\t/**\n\t * Find the single default editor to use (if any) by looking at the editor's priority and the\n\t * other contributed editors.\n\t */\n\tpublic get defaultEditor(): CustomEditorInfo | undefined {\n\t\treturn this.allEditors.find(editor => {\n\t\t\tswitch (editor.priority) {\n\t\t\t\tcase RegisteredEditorPriority.default:\n\t\t\t\tcase RegisteredEditorPriority.builtin:\n\t\t\t\t\t// A default editor must have higher priority than all other contributed editors.\n\t\t\t\t\treturn this.allEditors.every(otherEditor =>\n\t\t\t\t\t\totherEditor === editor || isLowerPriority(otherEditor, editor));\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Find the best available editor to use.\n\t *\n\t * Unlike the `defaultEditor`, a bestAvailableEditor can exist even if there are other editors with\n\t * the same priority.\n\t */\n\tpublic get bestAvailableEditor(): CustomEditorInfo | undefined {\n\t\tconst editors = Array.from(this.allEditors).sort((a, b) => {\n\t\t\treturn priorityToRank(a.priority) - priorityToRank(b.priority);\n\t\t});\n\t\treturn editors[0];\n\t}\n}\n\nfunction isLowerPriority(otherEditor: CustomEditorInfo, editor: CustomEditorInfo): unknown {\n\treturn priorityToRank(otherEditor.priority) < priorityToRank(editor.priority);\n}\n"],"mappings":"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","ignoreList":[]}