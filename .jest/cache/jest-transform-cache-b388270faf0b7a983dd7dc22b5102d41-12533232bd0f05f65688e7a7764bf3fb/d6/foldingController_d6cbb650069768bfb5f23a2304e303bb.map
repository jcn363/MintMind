{"version":3,"names":["cov_15gath6uxn","actualCoverage","Disposable","DisposableStore","NOTEBOOK_EDITOR_FOCUSED","NOTEBOOK_IS_ACTIVE_EDITOR","getNotebookEditorFromEditorPane","FoldingModel","CellKind","registerNotebookContribution","registerAction2","Action2","ContextKeyExpr","InputFocusedContextKey","IEditorService","NOTEBOOK_ACTIONS_CATEGORY","localize","localize2","FoldingController","_notebookEditor","id","s","_foldingModel","_localStore","_register","constructor","f","onMouseUp","e","onDidChangeModel","clear","hasModel","b","add","onDidChangeCellState","source","editStateChanged","cell","cellKind","Markup","recompute","attachViewModel","getViewModel","onDidFoldingRegionChanged","_updateEditorFoldingRanges","saveViewState","getMemento","restoreViewState","state","applyMemento","setFoldingStateDown","index","levels","doCollapse","region","getRegionAtLine","regions","isCollapsed","push","regionsInside","getRegionsInside","r","level","forEach","setCollapsed","regionIndex","setFoldingStateUp","getAllRegionsAtLine","vm","updateFoldingRanges","hiddenRanges","getHiddenRanges","setHiddenAreas","event","target","viewModel","classList","contains","parent","parentElement","cellViewModel","modelIndex","getCellIndex","getFoldingState","focusElement","NOTEBOOK_FOLD_COMMAND_LABEL","NOTEBOOK_UNFOLD_COMMAND_LABEL","FOLDING_COMMAND_ARGS","args","isOptional","name","description","schema","title","category","keybinding","when","and","not","primary","mac","secondary","weight","metadata","precondition","f1","run","accessor","editorService","get","editor","activeEditorPane","direction","undefined","activeCell","getActiveCell","controller","getContribution","targetCell","getLength","cellAt","Code","viewIndex","getNearestVisibleCellIndexUpwards"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/controller/foldingController.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { NOTEBOOK_EDITOR_FOCUSED, NOTEBOOK_IS_ACTIVE_EDITOR } from '../../common/notebookContextKeys.js';\nimport { INotebookEditor, INotebookEditorMouseEvent, INotebookEditorContribution, getNotebookEditorFromEditorPane, CellFoldingState } from '../notebookBrowser.js';\nimport { FoldingModel } from '../viewModel/foldingModel.js'; import { CellKind } from '../../common/notebookCommon.js';\nimport { ICellRange } from '../../common/notebookRange.js';\nimport { registerNotebookContribution } from '../notebookEditorExtensions.js';\nimport { registerAction2, Action2 } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { InputFocusedContextKey } from '../../../../../platform/contextkey/common/contextkeys.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { NOTEBOOK_ACTIONS_CATEGORY } from './coreActions.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { FoldingRegion } from '../../../../../editor/contrib/folding/browser/foldingRanges.js';\nimport { ICommandMetadata } from '../../../../../platform/commands/common/commands.js';\nimport { NotebookViewModel } from '../viewModel/notebookViewModelImpl.js';\n\nexport class FoldingController extends Disposable implements INotebookEditorContribution {\n\tstatic id: string = 'workbench.notebook.foldingController';\n\n\tprivate _foldingModel: FoldingModel | null = null;\n\tprivate readonly _localStore = this._register(new DisposableStore());\n\n\tconstructor(private readonly _notebookEditor: INotebookEditor) {\n\t\tsuper();\n\n\t\tthis._register(this._notebookEditor.onMouseUp(e => { this.onMouseUp(e); }));\n\n\t\tthis._register(this._notebookEditor.onDidChangeModel(() => {\n\t\t\tthis._localStore.clear();\n\n\t\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._localStore.add(this._notebookEditor.onDidChangeCellState(e => {\n\t\t\t\tif (e.source.editStateChanged && e.cell.cellKind === CellKind.Markup) {\n\t\t\t\t\tthis._foldingModel?.recompute();\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis._foldingModel = new FoldingModel();\n\t\t\tthis._localStore.add(this._foldingModel);\n\t\t\tthis._foldingModel.attachViewModel(this._notebookEditor.getViewModel());\n\n\t\t\tthis._localStore.add(this._foldingModel.onDidFoldingRegionChanged(() => {\n\t\t\t\tthis._updateEditorFoldingRanges();\n\t\t\t}));\n\t\t}));\n\t}\n\n\tsaveViewState(): ICellRange[] {\n\t\treturn this._foldingModel?.getMemento() || [];\n\t}\n\n\trestoreViewState(state: ICellRange[] | undefined) {\n\t\tthis._foldingModel?.applyMemento(state || []);\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tsetFoldingStateDown(index: number, state: CellFoldingState, levels: number) {\n\t\tconst doCollapse = state === CellFoldingState.Collapsed;\n\t\tconst region = this._foldingModel!.getRegionAtLine(index + 1);\n\t\tconst regions: FoldingRegion[] = [];\n\t\tif (region) {\n\t\t\tif (region.isCollapsed !== doCollapse) {\n\t\t\t\tregions.push(region);\n\t\t\t}\n\t\t\tif (levels > 1) {\n\t\t\t\tconst regionsInside = this._foldingModel!.getRegionsInside(region, (r, level: number) => r.isCollapsed !== doCollapse && level < levels);\n\t\t\t\tregions.push(...regionsInside);\n\t\t\t}\n\t\t}\n\n\t\tregions.forEach(r => this._foldingModel!.setCollapsed(r.regionIndex, state === CellFoldingState.Collapsed));\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tsetFoldingStateUp(index: number, state: CellFoldingState, levels: number) {\n\t\tif (!this._foldingModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst regions = this._foldingModel.getAllRegionsAtLine(index + 1, (region, level) => region.isCollapsed !== (state === CellFoldingState.Collapsed) && level <= levels);\n\t\tregions.forEach(r => this._foldingModel!.setCollapsed(r.regionIndex, state === CellFoldingState.Collapsed));\n\t\tthis._updateEditorFoldingRanges();\n\t}\n\n\tprivate _updateEditorFoldingRanges() {\n\t\tif (!this._foldingModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst vm = this._notebookEditor.getViewModel() as NotebookViewModel;\n\n\t\tvm.updateFoldingRanges(this._foldingModel.regions);\n\t\tconst hiddenRanges = vm.getHiddenRanges();\n\t\tthis._notebookEditor.setHiddenAreas(hiddenRanges);\n\t}\n\n\tonMouseUp(e: INotebookEditorMouseEvent) {\n\t\tif (!e.event.target) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewModel = this._notebookEditor.getViewModel() as NotebookViewModel;\n\t\tconst target = e.event.target as HTMLElement;\n\n\t\tif (target.classList.contains('codicon-notebook-collapsed') || target.classList.contains('codicon-notebook-expanded')) {\n\t\t\tconst parent = target.parentElement as HTMLElement;\n\n\t\t\tif (!parent.classList.contains('notebook-folding-indicator')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// folding icon\n\n\t\t\tconst cellViewModel = e.target;\n\t\t\tconst modelIndex = viewModel.getCellIndex(cellViewModel);\n\t\t\tconst state = viewModel.getFoldingState(modelIndex);\n\n\t\t\tif (state === CellFoldingState.None) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setFoldingStateUp(modelIndex, state === CellFoldingState.Collapsed ? CellFoldingState.Expanded : CellFoldingState.Collapsed, 1);\n\t\t\tthis._notebookEditor.focusElement(cellViewModel);\n\t\t}\n\n\t\treturn;\n\t}\n\n\trecompute() {\n\t\tthis._foldingModel?.recompute();\n\t}\n}\n\nregisterNotebookContribution(FoldingController.id, FoldingController);\n\n\nconst NOTEBOOK_FOLD_COMMAND_LABEL = localize('fold.cell', \"Fold Cell\");\nconst NOTEBOOK_UNFOLD_COMMAND_LABEL = localize2('unfold.cell', \"Unfold Cell\");\n\nconst FOLDING_COMMAND_ARGS: Pick<ICommandMetadata, 'args'> = {\n\targs: [{\n\t\tisOptional: true,\n\t\tname: 'index',\n\t\tdescription: 'The cell index',\n\t\tschema: {\n\t\t\t'type': 'object',\n\t\t\t'required': ['index', 'direction'],\n\t\t\t'properties': {\n\t\t\t\t'index': {\n\t\t\t\t\t'type': 'number'\n\t\t\t\t},\n\t\t\t\t'direction': {\n\t\t\t\t\t'type': 'string',\n\t\t\t\t\t'enum': ['up', 'down'],\n\t\t\t\t\t'default': 'down'\n\t\t\t\t},\n\t\t\t\t'levels': {\n\t\t\t\t\t'type': 'number',\n\t\t\t\t\t'default': 1\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\t}]\n};\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.fold',\n\t\t\ttitle: localize2('fold.cell', \"Fold Cell\"),\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_EDITOR_FOCUSED, ContextKeyExpr.not(InputFocusedContextKey)),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketLeft,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.BracketLeft,\n\t\t\t\t\tsecondary: [KeyCode.LeftArrow],\n\t\t\t\t},\n\t\t\t\tsecondary: [KeyCode.LeftArrow],\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: NOTEBOOK_FOLD_COMMAND_LABEL,\n\t\t\t\targs: FOLDING_COMMAND_ARGS.args\n\t\t\t},\n\t\t\tprecondition: NOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, args?: { index: number; levels: number; direction: 'up' | 'down' }): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst levels = args && args.levels || 1;\n\t\tconst direction = args && args.direction === 'up' ? 'up' : 'down';\n\t\tlet index: number | undefined = undefined;\n\n\t\tif (args) {\n\t\t\tindex = args.index;\n\t\t} else {\n\t\t\tconst activeCell = editor.getActiveCell();\n\t\t\tif (!activeCell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tindex = editor.getCellIndex(activeCell);\n\t\t}\n\n\t\tconst controller = editor.getContribution<FoldingController>(FoldingController.id);\n\t\tif (index !== undefined) {\n\t\t\tconst targetCell = (index < 0 || index >= editor.getLength()) ? undefined : editor.cellAt(index);\n\t\t\tif (targetCell?.cellKind === CellKind.Code && direction === 'down') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (direction === 'up') {\n\t\t\t\tcontroller.setFoldingStateUp(index, CellFoldingState.Collapsed, levels);\n\t\t\t} else {\n\t\t\t\tcontroller.setFoldingStateDown(index, CellFoldingState.Collapsed, levels);\n\t\t\t}\n\n\t\t\tconst viewIndex = editor.getViewModel().getNearestVisibleCellIndexUpwards(index);\n\t\t\teditor.focusElement(editor.cellAt(viewIndex));\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.unfold',\n\t\t\ttitle: NOTEBOOK_UNFOLD_COMMAND_LABEL,\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_EDITOR_FOCUSED, ContextKeyExpr.not(InputFocusedContextKey)),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketRight,\n\t\t\t\tmac: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.BracketRight,\n\t\t\t\t\tsecondary: [KeyCode.RightArrow],\n\t\t\t\t},\n\t\t\t\tsecondary: [KeyCode.RightArrow],\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: NOTEBOOK_UNFOLD_COMMAND_LABEL,\n\t\t\t\targs: FOLDING_COMMAND_ARGS.args\n\t\t\t},\n\t\t\tprecondition: NOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, args?: { index: number; levels: number; direction: 'up' | 'down' }): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst levels = args && args.levels || 1;\n\t\tconst direction = args && args.direction === 'up' ? 'up' : 'down';\n\t\tlet index: number | undefined = undefined;\n\n\t\tif (args) {\n\t\t\tindex = args.index;\n\t\t} else {\n\t\t\tconst activeCell = editor.getActiveCell();\n\t\t\tif (!activeCell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tindex = editor.getCellIndex(activeCell);\n\t\t}\n\n\t\tconst controller = editor.getContribution<FoldingController>(FoldingController.id);\n\t\tif (index !== undefined) {\n\t\t\tif (direction === 'up') {\n\t\t\t\tcontroller.setFoldingStateUp(index, CellFoldingState.Expanded, levels);\n\t\t\t} else {\n\t\t\t\tcontroller.setFoldingStateDown(index, CellFoldingState.Expanded, levels);\n\t\t\t}\n\t\t}\n\t}\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}