{"version":3,"names":["cov_8vnk2ii6m","actualCoverage","Emitter","Disposable","observableValue","RENDERER_NOT_AVAILABLE","handle","s","CellOutputViewModel","cellViewModel","_outputRawData","_notebookService","_onDidResetRendererEmitter","_register","onDidResetRenderer","event","alwaysShow","visible","setVisible","b","force","f","set","undefined","outputHandle","model","_pickedMimeType","pickedMimeType","value","constructor","hasMultiMimeType","outputs","length","firstMimeType","mime","some","output","resolveMimeTypes","textModel","kernelProvides","mimeTypes","getOutputMimeTypeInfo","index","findIndex","mimeType","rendererId","isTrusted","Math","max","resetRenderer","bumpVersion","fire","toRawJSON"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/viewModel/cellOutputViewModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { observableValue } from '../../../../../base/common/observable.js';\nimport { ICellOutputViewModel, IGenericCellViewModel } from '../notebookBrowser.js';\nimport { NotebookTextModel } from '../../common/model/notebookTextModel.js';\nimport { ICellOutput, IOrderedMimeType, RENDERER_NOT_AVAILABLE } from '../../common/notebookCommon.js';\nimport { INotebookService } from '../../common/notebookService.js';\n\nlet handle = 0;\nexport class CellOutputViewModel extends Disposable implements ICellOutputViewModel {\n\tprivate _onDidResetRendererEmitter = this._register(new Emitter<void>());\n\treadonly onDidResetRenderer = this._onDidResetRendererEmitter.event;\n\n\tprivate alwaysShow = false;\n\tvisible = observableValue<boolean>('outputVisible', false);\n\tsetVisible(visible = true, force: boolean = false) {\n\t\tif (!visible && this.alwaysShow) {\n\t\t\t// we are forced to show, so no-op\n\t\t\treturn;\n\t\t}\n\n\t\tif (force && visible) {\n\t\t\tthis.alwaysShow = true;\n\t\t}\n\n\t\tthis.visible.set(visible, undefined);\n\t}\n\n\toutputHandle = handle++;\n\tget model(): ICellOutput {\n\t\treturn this._outputRawData;\n\t}\n\n\tprivate _pickedMimeType: IOrderedMimeType | undefined;\n\tget pickedMimeType() {\n\t\treturn this._pickedMimeType;\n\t}\n\n\tset pickedMimeType(value: IOrderedMimeType | undefined) {\n\t\tthis._pickedMimeType = value;\n\t}\n\n\tconstructor(\n\t\treadonly cellViewModel: IGenericCellViewModel,\n\t\tprivate readonly _outputRawData: ICellOutput,\n\t\tprivate readonly _notebookService: INotebookService\n\t) {\n\t\tsuper();\n\t}\n\n\thasMultiMimeType() {\n\t\tif (this._outputRawData.outputs.length < 2) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst firstMimeType = this._outputRawData.outputs[0].mime;\n\t\treturn this._outputRawData.outputs.some(output => output.mime !== firstMimeType);\n\t}\n\n\tresolveMimeTypes(textModel: NotebookTextModel, kernelProvides: readonly string[] | undefined): [readonly IOrderedMimeType[], number] {\n\t\tconst mimeTypes = this._notebookService.getOutputMimeTypeInfo(textModel, kernelProvides, this.model);\n\t\tconst index = mimeTypes.findIndex(mimeType => mimeType.rendererId !== RENDERER_NOT_AVAILABLE && mimeType.isTrusted);\n\n\t\treturn [mimeTypes, Math.max(index, 0)];\n\t}\n\n\tresetRenderer() {\n\t\t// reset the output renderer\n\t\tthis._pickedMimeType = undefined;\n\t\tthis.model.bumpVersion();\n\t\tthis._onDidResetRendererEmitter.fire();\n\t}\n\n\ttoRawJSON() {\n\t\treturn {\n\t\t\toutputs: this._outputRawData.outputs,\n\t\t\t// TODO@rebronix, no id, right?\n\t\t};\n\t}\n}\n"],"mappings":"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","ignoreList":[]}