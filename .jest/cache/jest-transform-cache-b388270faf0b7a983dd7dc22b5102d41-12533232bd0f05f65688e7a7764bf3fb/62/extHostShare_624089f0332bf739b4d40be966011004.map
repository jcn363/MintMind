{"version":3,"names":["cov_1i7p3woup0","actualCoverage","MainContext","DocumentSelector","Range","URI","ExtHostShare","uriTransformer","handlePool","s","proxy","providers","Map","constructor","mainContext","f","getProxy","MainThreadShare","$provideShare","handle","shareableItem","token","provider","get","result","provideShare","selection","to","resourceUri","revive","b","undefined","registerShareProvider","selector","set","$registerShareProvider","from","id","label","priority","dispose","$unregisterShareProvider","delete"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/api/common/extHostShare.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { ExtHostShareShape, IMainContext, IShareableItemDto, MainContext, MainThreadShareShape } from './extHost.protocol.js';\nimport { DocumentSelector, Range } from './extHostTypeConverters.js';\nimport { IURITransformer } from '../../../base/common/uriIpc.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\n\nexport class ExtHostShare implements ExtHostShareShape {\n\tprivate static handlePool: number = 0;\n\n\tprivate proxy: MainThreadShareShape;\n\tprivate providers: Map<number, vscode.ShareProvider> = new Map();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tprivate readonly uriTransformer: IURITransformer | undefined\n\t) {\n\t\tthis.proxy = mainContext.getProxy(MainContext.MainThreadShare);\n\t}\n\n\tasync $provideShare(handle: number, shareableItem: IShareableItemDto, token: CancellationToken): Promise<UriComponents | string | undefined> {\n\t\tconst provider = this.providers.get(handle);\n\t\tconst result = await provider?.provideShare({ selection: Range.to(shareableItem.selection), resourceUri: URI.revive(shareableItem.resourceUri) }, token);\n\t\treturn result ?? undefined;\n\t}\n\n\tregisterShareProvider(selector: vscode.DocumentSelector, provider: vscode.ShareProvider): vscode.Disposable {\n\t\tconst handle = ExtHostShare.handlePool++;\n\t\tthis.providers.set(handle, provider);\n\t\tthis.proxy.$registerShareProvider(handle, DocumentSelector.from(selector, this.uriTransformer), provider.id, provider.label, provider.priority);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.proxy.$unregisterShareProvider(handle);\n\t\t\t\tthis.providers.delete(handle);\n\t\t\t}\n\t\t};\n\t}\n}\n"],"mappings":"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","ignoreList":[]}