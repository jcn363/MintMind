{"version":3,"names":["cov_1f4g3yy5lm","actualCoverage","join","promises","mark","Promises","resolveNLSConfiguration","userLocale","osLocale","userDataPath","commit","nlsMetadataPath","f","s","b","process","env","startsWith","defaultNLSConfiguration","languagePacks","getLanguagePackConfigurations","resolvedLanguage","resolveLanguagePackLanguage","languagePack","mainLanguagePackPath","translations","hash","exists","languagePackId","globalLanguagePackCachePath","commitLanguagePackCachePath","languagePackMessagesFile","translationsConfigFile","languagePackCorruptMarkerFile","rm","recursive","force","maxRetries","result","defaultMessagesFile","messagesFile","corruptMarkerFile","locale","availableLanguages","_languagePackId","_languagePackSupport","_translationsConfigFile","_cacheRoot","_resolvedLanguagePackCoreLocation","_corruptedFile","touch","catch","nlsDefaultKeys","nlsDefaultMessages","nlsPackdata","Promise","all","readFile","then","content","JSON","parse","nlsResult","nlsIndex","moduleId","nlsKeys","moduleTranslations","contents","nlsKey","push","mkdir","writeFile","stringify","error","console","configFile","err","undefined","index","lastIndexOf","substring","path","date","Date","utimes"],"sources":["/home/user/Desktop/MintMind/src/vs/base/node/nls.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { join } from '../common/path.js';\nimport { promises } from 'fs';\nimport { mark } from '../common/performance.js';\nimport { ILanguagePacks, INLSConfiguration } from '../../nls.js';\nimport { Promises } from './pfs.js';\n\nexport interface IResolveNLSConfigurationContext {\n\n\t/**\n\t * Location where `nls.messages.json` and `nls.keys.json` are stored.\n\t */\n\treadonly nlsMetadataPath: string;\n\n\t/**\n\t * Path to the user data directory. Used as a cache for\n\t * language packs converted to the format we need.\n\t */\n\treadonly userDataPath: string;\n\n\t/**\n\t * Commit of the running application. Can be `undefined`\n\t * when not built.\n\t */\n\treadonly commit: string | undefined;\n\n\t/**\n\t * Locale as defined in `argv.json` or `app.getLocale()`.\n\t */\n\treadonly userLocale: string;\n\n\t/**\n\t * Locale as defined by the OS (e.g. `app.getPreferredSystemLanguages()`).\n\t */\n\treadonly osLocale: string;\n}\n\nexport async function resolveNLSConfiguration({ userLocale, osLocale, userDataPath, commit, nlsMetadataPath }: IResolveNLSConfigurationContext): Promise<INLSConfiguration> {\n\tmark('code/willGenerateNls');\n\n\tif (\n\t\tprocess.env['VSCODE_DEV'] ||\n\t\tuserLocale === 'pseudo' ||\n\t\tuserLocale.startsWith('en') ||\n\t\t!commit ||\n\t\t!userDataPath\n\t) {\n\t\treturn defaultNLSConfiguration(userLocale, osLocale, nlsMetadataPath);\n\t}\n\n\ttry {\n\t\tconst languagePacks = await getLanguagePackConfigurations(userDataPath);\n\t\tif (!languagePacks) {\n\t\t\treturn defaultNLSConfiguration(userLocale, osLocale, nlsMetadataPath);\n\t\t}\n\n\t\tconst resolvedLanguage = resolveLanguagePackLanguage(languagePacks, userLocale);\n\t\tif (!resolvedLanguage) {\n\t\t\treturn defaultNLSConfiguration(userLocale, osLocale, nlsMetadataPath);\n\t\t}\n\n\t\tconst languagePack = languagePacks[resolvedLanguage];\n\t\tconst mainLanguagePackPath = languagePack?.translations?.['vscode'];\n\t\tif (\n\t\t\t!languagePack ||\n\t\t\ttypeof languagePack.hash !== 'string' ||\n\t\t\t!languagePack.translations ||\n\t\t\ttypeof mainLanguagePackPath !== 'string' ||\n\t\t\t!(await Promises.exists(mainLanguagePackPath))\n\t\t) {\n\t\t\treturn defaultNLSConfiguration(userLocale, osLocale, nlsMetadataPath);\n\t\t}\n\n\t\tconst languagePackId = `${languagePack.hash}.${resolvedLanguage}`;\n\t\tconst globalLanguagePackCachePath = join(userDataPath, 'clp', languagePackId);\n\t\tconst commitLanguagePackCachePath = join(globalLanguagePackCachePath, commit);\n\t\tconst languagePackMessagesFile = join(commitLanguagePackCachePath, 'nls.messages.json');\n\t\tconst translationsConfigFile = join(globalLanguagePackCachePath, 'tcf.json');\n\t\tconst languagePackCorruptMarkerFile = join(globalLanguagePackCachePath, 'corrupted.info');\n\n\t\tif (await Promises.exists(languagePackCorruptMarkerFile)) {\n\t\t\tawait promises.rm(globalLanguagePackCachePath, { recursive: true, force: true, maxRetries: 3 }); // delete corrupted cache folder\n\t\t}\n\n\t\tconst result: INLSConfiguration = {\n\t\t\tuserLocale,\n\t\t\tosLocale,\n\t\t\tresolvedLanguage,\n\t\t\tdefaultMessagesFile: join(nlsMetadataPath, 'nls.messages.json'),\n\t\t\tlanguagePack: {\n\t\t\t\ttranslationsConfigFile,\n\t\t\t\tmessagesFile: languagePackMessagesFile,\n\t\t\t\tcorruptMarkerFile: languagePackCorruptMarkerFile\n\t\t\t},\n\n\t\t\t// NLS: below properties are a relic from old times only used by vscode-nls and deprecated\n\t\t\tlocale: userLocale,\n\t\t\tavailableLanguages: { '*': resolvedLanguage },\n\t\t\t_languagePackId: languagePackId,\n\t\t\t_languagePackSupport: true,\n\t\t\t_translationsConfigFile: translationsConfigFile,\n\t\t\t_cacheRoot: globalLanguagePackCachePath,\n\t\t\t_resolvedLanguagePackCoreLocation: commitLanguagePackCachePath,\n\t\t\t_corruptedFile: languagePackCorruptMarkerFile\n\t\t};\n\n\t\tif (await Promises.exists(languagePackMessagesFile)) {\n\t\t\ttouch(commitLanguagePackCachePath).catch(() => { }); // We don't wait for this. No big harm if we can't touch\n\t\t\tmark('code/didGenerateNls');\n\t\t\treturn result;\n\t\t}\n\n\t\tconst [\n\t\t\tnlsDefaultKeys,\n\t\t\tnlsDefaultMessages,\n\t\t\tnlsPackdata\n\t\t]:\n\t\t\t[Array<[string, string[]]>, string[], { contents: Record<string, Record<string, string>> }]\n\t\t\t//      ^moduleId ^nlsKeys                               ^moduleId      ^nlsKey ^nlsValue\n\t\t\t= await Promise.all([\n\t\t\t\tpromises.readFile(join(nlsMetadataPath, 'nls.keys.json'), 'utf-8').then(content => JSON.parse(content)),\n\t\t\t\tpromises.readFile(join(nlsMetadataPath, 'nls.messages.json'), 'utf-8').then(content => JSON.parse(content)),\n\t\t\t\tpromises.readFile(mainLanguagePackPath, 'utf-8').then(content => JSON.parse(content)),\n\t\t\t]);\n\n\t\tconst nlsResult: string[] = [];\n\n\t\t// We expect NLS messages to be in a flat array in sorted order as they\n\t\t// where produced during build time. We use `nls.keys.json` to know the\n\t\t// right order and then lookup the related message from the translation.\n\t\t// If a translation does not exist, we fallback to the default message.\n\n\t\tlet nlsIndex = 0;\n\t\tfor (const [moduleId, nlsKeys] of nlsDefaultKeys) {\n\t\t\tconst moduleTranslations = nlsPackdata.contents[moduleId];\n\t\t\tfor (const nlsKey of nlsKeys) {\n\t\t\t\tnlsResult.push(moduleTranslations?.[nlsKey] || nlsDefaultMessages[nlsIndex]);\n\t\t\t\tnlsIndex++;\n\t\t\t}\n\t\t}\n\n\t\tawait promises.mkdir(commitLanguagePackCachePath, { recursive: true });\n\n\t\tawait Promise.all([\n\t\t\tpromises.writeFile(languagePackMessagesFile, JSON.stringify(nlsResult), 'utf-8'),\n\t\t\tpromises.writeFile(translationsConfigFile, JSON.stringify(languagePack.translations), 'utf-8')\n\t\t]);\n\n\t\tmark('code/didGenerateNls');\n\n\t\treturn result;\n\t} catch (error) {\n\t\tconsole.error('Generating translation files failed.', error);\n\t}\n\n\treturn defaultNLSConfiguration(userLocale, osLocale, nlsMetadataPath);\n}\n\n/**\n * The `languagepacks.json` file is a JSON file that contains all metadata\n * about installed language extensions per language. Specifically, for\n * core (`vscode`) and all extensions it supports, it points to the related\n * translation files.\n *\n * The file is updated whenever a new language pack is installed or removed.\n */\nasync function getLanguagePackConfigurations(userDataPath: string): Promise<ILanguagePacks | undefined> {\n\tconst configFile = join(userDataPath, 'languagepacks.json');\n\ttry {\n\t\treturn JSON.parse(await promises.readFile(configFile, 'utf-8'));\n\t} catch (err) {\n\t\treturn undefined; // Do nothing. If we can't read the file we have no language pack config.\n\t}\n}\n\nfunction resolveLanguagePackLanguage(languagePacks: ILanguagePacks, locale: string | undefined): string | undefined {\n\ttry {\n\t\twhile (locale) {\n\t\t\tif (languagePacks[locale]) {\n\t\t\t\treturn locale;\n\t\t\t}\n\n\t\t\tconst index = locale.lastIndexOf('-');\n\t\t\tif (index > 0) {\n\t\t\t\tlocale = locale.substring(0, index);\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\t} catch (error) {\n\t\tconsole.error('Resolving language pack configuration failed.', error);\n\t}\n\n\treturn undefined;\n}\n\nfunction defaultNLSConfiguration(userLocale: string, osLocale: string, nlsMetadataPath: string): INLSConfiguration {\n\tmark('code/didGenerateNls');\n\n\treturn {\n\t\tuserLocale,\n\t\tosLocale,\n\t\tresolvedLanguage: 'en',\n\t\tdefaultMessagesFile: join(nlsMetadataPath, 'nls.messages.json'),\n\n\t\t// NLS: below 2 are a relic from old times only used by vscode-nls and deprecated\n\t\tlocale: userLocale,\n\t\tavailableLanguages: {}\n\t};\n}\n\n//#region fs helpers\n\nfunction touch(path: string): Promise<void> {\n\tconst date = new Date();\n\n\treturn promises.utimes(path, date, date);\n}\n\n//#endregion\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}