{"version":3,"names":["cov_77pw54g8j","actualCoverage","KeybindingParser","ContextKeyExpr","KeybindingIO","writeKeybindingItem","out","item","f","s","resolvedKeybinding","b","quotedSerializedKeybinding","JSON","stringify","getUserSettingsLabel","write","rightPaddedString","quotedSerializedWhen","when","serialize","quotedSerializeCommand","command","length","writeLine","commandArgs","readUserKeybindingItem","input","keybinding","key","parseKeybinding","deserialize","undefined","args","_sourceKey","str","minChars","Array","join","OutputBuilder","_lines","_currentLine","push","toString"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/keybinding/common/keybindingIO.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeybindingParser } from '../../../../base/common/keybindingParser.js';\nimport { Keybinding } from '../../../../base/common/keybindings.js';\nimport { ContextKeyExpr, ContextKeyExpression } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ResolvedKeybindingItem } from '../../../../platform/keybinding/common/resolvedKeybindingItem.js';\n\nexport interface IUserKeybindingItem {\n\tkeybinding: Keybinding | null;\n\tcommand: string | null;\n\tcommandArgs?: unknown;\n\twhen: ContextKeyExpression | undefined;\n\t_sourceKey: string | undefined; /** captures `key` field from `keybindings.json`; `this.keybinding !== null` implies `_sourceKey !== null` */\n}\n\nexport class KeybindingIO {\n\n\tpublic static writeKeybindingItem(out: OutputBuilder, item: ResolvedKeybindingItem): void {\n\t\tif (!item.resolvedKeybinding) {\n\t\t\treturn;\n\t\t}\n\t\tconst quotedSerializedKeybinding = JSON.stringify(item.resolvedKeybinding.getUserSettingsLabel());\n\t\tout.write(`{ \"key\": ${rightPaddedString(quotedSerializedKeybinding + ',', 25)} \"command\": `);\n\n\t\tconst quotedSerializedWhen = item.when ? JSON.stringify(item.when.serialize()) : '';\n\t\tconst quotedSerializeCommand = JSON.stringify(item.command);\n\t\tif (quotedSerializedWhen.length > 0) {\n\t\t\tout.write(`${quotedSerializeCommand},`);\n\t\t\tout.writeLine();\n\t\t\tout.write(`                                     \"when\": ${quotedSerializedWhen}`);\n\t\t} else {\n\t\t\tout.write(`${quotedSerializeCommand}`);\n\t\t}\n\t\tif (item.commandArgs) {\n\t\t\tout.write(',');\n\t\t\tout.writeLine();\n\t\t\tout.write(`                                     \"args\": ${JSON.stringify(item.commandArgs)}`);\n\t\t}\n\t\tout.write(' }');\n\t}\n\n\tpublic static readUserKeybindingItem(input: Object): IUserKeybindingItem {\n\t\tconst keybinding = 'key' in input && typeof input.key === 'string'\n\t\t\t? KeybindingParser.parseKeybinding(input.key)\n\t\t\t: null;\n\t\tconst when = 'when' in input && typeof input.when === 'string'\n\t\t\t? ContextKeyExpr.deserialize(input.when)\n\t\t\t: undefined;\n\t\tconst command = 'command' in input && typeof input.command === 'string'\n\t\t\t? input.command\n\t\t\t: null;\n\t\tconst commandArgs = 'args' in input && typeof input.args !== 'undefined'\n\t\t\t? input.args\n\t\t\t: undefined;\n\t\treturn {\n\t\t\tkeybinding,\n\t\t\tcommand,\n\t\t\tcommandArgs,\n\t\t\twhen,\n\t\t\t_sourceKey: 'key' in input && typeof input.key === 'string' ? input.key : undefined,\n\t\t};\n\t}\n}\n\nfunction rightPaddedString(str: string, minChars: number): string {\n\tif (str.length < minChars) {\n\t\treturn str + (new Array(minChars - str.length).join(' '));\n\t}\n\treturn str;\n}\n\nexport class OutputBuilder {\n\n\tprivate _lines: string[] = [];\n\tprivate _currentLine: string = '';\n\n\twrite(str: string): void {\n\t\tthis._currentLine += str;\n\t}\n\n\twriteLine(str: string = ''): void {\n\t\tthis._lines.push(this._currentLine + str);\n\t\tthis._currentLine = '';\n\t}\n\n\ttoString(): string {\n\t\tthis.writeLine();\n\t\treturn this._lines.join('\\n');\n\t}\n}\n"],"mappings":"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","ignoreList":[]}