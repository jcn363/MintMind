{"version":3,"names":["cov_1b2r888jxc","actualCoverage","compareBy","numberComparator","findFirstMax","Emitter","Event","Disposable","Position","Range","TextReplacement","SelectedSuggestionInfo","singleTextEditAugments","singleTextRemoveCommonPrefix","SnippetParser","SnippetSession","SuggestController","observableFromEvent","SuggestWidgetAdaptor","editor","suggestControllerPreselector","onWillAccept","isSuggestWidgetVisible","s","isShiftKeyPressed","_isActive","_currentSuggestItemInfo","undefined","selectedItem","f","_onDidSelectedItemChange","_register","onDidSelectedItemChange","event","constructor","onKeyDown","e","b","shiftKey","update","onKeyUp","suggestController","get","registerSelector","priority","select","model","pos","suggestItems","textModel","getModel","i","itemToPreselect","position","lift","candidates","map","suggestItem","index","suggestItemInfo","SuggestItemInfo","fromSuggestion","suggestItemTextEdit","getSingleTextEdit","valid","prefixLength","text","length","filter","item","result","isBoundToSuggestWidget","bindToSuggestWidget","widget","value","onDidShow","onDidHide","onDidFocus","once","onDidTrigger","onWillInsertSuggestItem","getPosition","newActive","newInlineCompletion","getSuggestItemInfo","suggestItemInfoEquals","fire","focusedItem","getFocusedItem","stopForceRenderingAbove","forceRenderingAbove","range","insertText","completionItemKind","isSnippetText","listIncomplete","toggleMode","completion","insertTextRules","snippet","parse","children","adjustWhitespace","toString","info","getOverwriteInfo","fromPositions","delta","overwriteBefore","Math","max","overwriteAfter","kind","container","incomplete","equals","other","equalsRange","toSelectedSuggestionInfo","a","ObservableSuggestWidgetAdapter","_editorObs","_handleSuggestAccepted","_suggestControllerPreselector","_suggestWidgetAdaptor","forceUpdate","_tx","cb"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/suggestWidgetAdapter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { compareBy, numberComparator } from '../../../../../base/common/arrays.js';\nimport { findFirstMax } from '../../../../../base/common/arraysFind.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { TextReplacement } from '../../../../common/core/edits/textEdit.js';\nimport { CompletionItemInsertTextRule, CompletionItemKind, SelectedSuggestionInfo } from '../../../../common/languages.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { singleTextEditAugments, singleTextRemoveCommonPrefix } from './singleTextEditHelpers.js';\nimport { SnippetParser } from '../../../snippet/browser/snippetParser.js';\nimport { SnippetSession } from '../../../snippet/browser/snippetSession.js';\nimport { CompletionItem } from '../../../suggest/browser/suggest.js';\nimport { SuggestController } from '../../../suggest/browser/suggestController.js';\nimport { ObservableCodeEditor } from '../../../../browser/observableCodeEditor.js';\nimport { observableFromEvent } from '../../../../../base/common/observable.js';\n\nexport class SuggestWidgetAdaptor extends Disposable {\n\tprivate isSuggestWidgetVisible: boolean = false;\n\tprivate isShiftKeyPressed = false;\n\tprivate _isActive = false;\n\tprivate _currentSuggestItemInfo: SuggestItemInfo | undefined = undefined;\n\tpublic get selectedItem(): SuggestItemInfo | undefined {\n\t\treturn this._currentSuggestItemInfo;\n\t}\n\tprivate _onDidSelectedItemChange = this._register(new Emitter<void>());\n\tpublic readonly onDidSelectedItemChange: Event<void> = this._onDidSelectedItemChange.event;\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\tprivate readonly suggestControllerPreselector: () => TextReplacement | undefined,\n\t\tprivate readonly onWillAccept: (item: SuggestItemInfo) => void,\n\t) {\n\t\tsuper();\n\n\t\t// See the command acceptAlternativeSelectedSuggestion that is bound to shift+tab\n\t\tthis._register(editor.onKeyDown(e => {\n\t\t\tif (e.shiftKey && !this.isShiftKeyPressed) {\n\t\t\t\tthis.isShiftKeyPressed = true;\n\t\t\t\tthis.update(this._isActive);\n\t\t\t}\n\t\t}));\n\t\tthis._register(editor.onKeyUp(e => {\n\t\t\tif (e.shiftKey && this.isShiftKeyPressed) {\n\t\t\t\tthis.isShiftKeyPressed = false;\n\t\t\t\tthis.update(this._isActive);\n\t\t\t}\n\t\t}));\n\n\t\tconst suggestController = SuggestController.get(this.editor);\n\t\tif (suggestController) {\n\t\t\tthis._register(suggestController.registerSelector({\n\t\t\t\tpriority: 100,\n\t\t\t\tselect: (model, pos, suggestItems) => {\n\t\t\t\t\tconst textModel = this.editor.getModel();\n\t\t\t\t\tif (!textModel) {\n\t\t\t\t\t\t// Should not happen\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst i = this.suggestControllerPreselector();\n\t\t\t\t\tconst itemToPreselect = i ? singleTextRemoveCommonPrefix(i, textModel) : undefined;\n\t\t\t\t\tif (!itemToPreselect) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tconst position = Position.lift(pos);\n\n\t\t\t\t\tconst candidates = suggestItems\n\t\t\t\t\t\t.map((suggestItem, index) => {\n\t\t\t\t\t\t\tconst suggestItemInfo = SuggestItemInfo.fromSuggestion(suggestController, textModel, position, suggestItem, this.isShiftKeyPressed);\n\t\t\t\t\t\t\tconst suggestItemTextEdit = singleTextRemoveCommonPrefix(suggestItemInfo.getSingleTextEdit(), textModel);\n\t\t\t\t\t\t\tconst valid = singleTextEditAugments(itemToPreselect, suggestItemTextEdit);\n\t\t\t\t\t\t\treturn { index, valid, prefixLength: suggestItemTextEdit.text.length, suggestItem };\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.filter(item => item && item.valid && item.prefixLength > 0);\n\n\t\t\t\t\tconst result = findFirstMax(\n\t\t\t\t\t\tcandidates,\n\t\t\t\t\t\tcompareBy(s => s.prefixLength, numberComparator)\n\t\t\t\t\t);\n\t\t\t\t\treturn result ? result.index : -1;\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tlet isBoundToSuggestWidget = false;\n\t\t\tconst bindToSuggestWidget = () => {\n\t\t\t\tif (isBoundToSuggestWidget) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisBoundToSuggestWidget = true;\n\n\t\t\t\tthis._register(suggestController.widget.value.onDidShow(() => {\n\t\t\t\t\tthis.isSuggestWidgetVisible = true;\n\t\t\t\t\tthis.update(true);\n\t\t\t\t}));\n\t\t\t\tthis._register(suggestController.widget.value.onDidHide(() => {\n\t\t\t\t\tthis.isSuggestWidgetVisible = false;\n\t\t\t\t\tthis.update(false);\n\t\t\t\t}));\n\t\t\t\tthis._register(suggestController.widget.value.onDidFocus(() => {\n\t\t\t\t\tthis.isSuggestWidgetVisible = true;\n\t\t\t\t\tthis.update(true);\n\t\t\t\t}));\n\t\t\t};\n\n\t\t\tthis._register(Event.once(suggestController.model.onDidTrigger)(e => {\n\t\t\t\tbindToSuggestWidget();\n\t\t\t}));\n\n\t\t\tthis._register(suggestController.onWillInsertSuggestItem(e => {\n\t\t\t\tconst position = this.editor.getPosition();\n\t\t\t\tconst model = this.editor.getModel();\n\t\t\t\tif (!position || !model) { return undefined; }\n\n\t\t\t\tconst suggestItemInfo = SuggestItemInfo.fromSuggestion(\n\t\t\t\t\tsuggestController,\n\t\t\t\t\tmodel,\n\t\t\t\t\tposition,\n\t\t\t\t\te.item,\n\t\t\t\t\tthis.isShiftKeyPressed\n\t\t\t\t);\n\n\t\t\t\tthis.onWillAccept(suggestItemInfo);\n\t\t\t}));\n\t\t}\n\t\tthis.update(this._isActive);\n\t}\n\n\tprivate update(newActive: boolean): void {\n\t\tconst newInlineCompletion = this.getSuggestItemInfo();\n\n\t\tif (this._isActive !== newActive || !suggestItemInfoEquals(this._currentSuggestItemInfo, newInlineCompletion)) {\n\t\t\tthis._isActive = newActive;\n\t\t\tthis._currentSuggestItemInfo = newInlineCompletion;\n\n\t\t\tthis._onDidSelectedItemChange.fire();\n\t\t}\n\t}\n\n\tprivate getSuggestItemInfo(): SuggestItemInfo | undefined {\n\t\tconst suggestController = SuggestController.get(this.editor);\n\t\tif (!suggestController || !this.isSuggestWidgetVisible) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst focusedItem = suggestController.widget.value.getFocusedItem();\n\t\tconst position = this.editor.getPosition();\n\t\tconst model = this.editor.getModel();\n\n\t\tif (!focusedItem || !position || !model) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn SuggestItemInfo.fromSuggestion(\n\t\t\tsuggestController,\n\t\t\tmodel,\n\t\t\tposition,\n\t\t\tfocusedItem.item,\n\t\t\tthis.isShiftKeyPressed\n\t\t);\n\t}\n\n\tpublic stopForceRenderingAbove(): void {\n\t\tconst suggestController = SuggestController.get(this.editor);\n\t\tsuggestController?.stopForceRenderingAbove();\n\t}\n\n\tpublic forceRenderingAbove(): void {\n\t\tconst suggestController = SuggestController.get(this.editor);\n\t\tsuggestController?.forceRenderingAbove();\n\t}\n}\n\nexport class SuggestItemInfo {\n\tpublic static fromSuggestion(suggestController: SuggestController, model: ITextModel, position: Position, item: CompletionItem, toggleMode: boolean): SuggestItemInfo {\n\t\tlet { insertText } = item.completion;\n\t\tlet isSnippetText = false;\n\t\tif (item.completion.insertTextRules! & CompletionItemInsertTextRule.InsertAsSnippet) {\n\t\t\tconst snippet = new SnippetParser().parse(insertText);\n\n\t\t\tif (snippet.children.length < 100) {\n\t\t\t\t// Adjust whitespace is expensive.\n\t\t\t\tSnippetSession.adjustWhitespace(model, position, true, snippet);\n\t\t\t}\n\n\t\t\tinsertText = snippet.toString();\n\t\t\tisSnippetText = true;\n\t\t}\n\n\t\tconst info = suggestController.getOverwriteInfo(item, toggleMode);\n\n\t\treturn new SuggestItemInfo(\n\t\t\tRange.fromPositions(\n\t\t\t\tposition.delta(0, -info.overwriteBefore),\n\t\t\t\tposition.delta(0, Math.max(info.overwriteAfter, 0))\n\t\t\t),\n\t\t\tinsertText,\n\t\t\titem.completion.kind,\n\t\t\tisSnippetText,\n\t\t\titem.container.incomplete ?? false,\n\t\t);\n\t}\n\n\tprivate constructor(\n\t\tpublic readonly range: Range,\n\t\tpublic readonly insertText: string,\n\t\tpublic readonly completionItemKind: CompletionItemKind,\n\t\tpublic readonly isSnippetText: boolean,\n\t\tpublic readonly listIncomplete: boolean,\n\t) { }\n\n\tpublic equals(other: SuggestItemInfo): boolean {\n\t\treturn this.range.equalsRange(other.range)\n\t\t\t&& this.insertText === other.insertText\n\t\t\t&& this.completionItemKind === other.completionItemKind\n\t\t\t&& this.isSnippetText === other.isSnippetText;\n\t}\n\n\tpublic toSelectedSuggestionInfo(): SelectedSuggestionInfo {\n\t\treturn new SelectedSuggestionInfo(this.range, this.insertText, this.completionItemKind, this.isSnippetText);\n\t}\n\n\tpublic getSingleTextEdit(): TextReplacement {\n\t\treturn new TextReplacement(this.range, this.insertText);\n\t}\n}\n\nfunction suggestItemInfoEquals(a: SuggestItemInfo | undefined, b: SuggestItemInfo | undefined): boolean {\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\treturn a.equals(b);\n}\n\nexport class ObservableSuggestWidgetAdapter extends Disposable {\n\tprivate readonly _suggestWidgetAdaptor;\n\n\tpublic readonly selectedItem;\n\n\tconstructor(\n\t\tprivate readonly _editorObs: ObservableCodeEditor,\n\n\t\tprivate readonly _handleSuggestAccepted: (item: SuggestItemInfo) => void,\n\t\tprivate readonly _suggestControllerPreselector: () => TextReplacement | undefined,\n\t) {\n\t\tsuper();\n\t\tthis._suggestWidgetAdaptor = this._register(new SuggestWidgetAdaptor(\n\t\t\tthis._editorObs.editor,\n\t\t\t() => {\n\t\t\t\tthis._editorObs.forceUpdate();\n\t\t\t\treturn this._suggestControllerPreselector();\n\t\t\t},\n\t\t\t(item) => this._editorObs.forceUpdate(_tx => {\n\t\t\t\t/** @description InlineCompletionsController.handleSuggestAccepted */\n\t\t\t\tthis._handleSuggestAccepted(item);\n\t\t\t})\n\t\t));\n\t\tthis.selectedItem = observableFromEvent(this, cb => this._suggestWidgetAdaptor.onDidSelectedItemChange(() => {\n\t\t\tthis._editorObs.forceUpdate(_tx => cb(undefined));\n\t\t}), () => this._suggestWidgetAdaptor.selectedItem);\n\t}\n\n\tpublic stopForceRenderingAbove(): void {\n\t\tthis._suggestWidgetAdaptor.stopForceRenderingAbove();\n\t}\n\n\tpublic forceRenderingAbove(): void {\n\t\tthis._suggestWidgetAdaptor.forceRenderingAbove();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}