{"version":3,"names":["Emitter","Iterable","LinkedList","ResourceMap","AbstractIncrementalTestCollection","MainThreadTestCollection","expandActual","testsByUrl","cov_97fz1lgk6","s","busyProvidersChangeEmitter","expandPromises","WeakMap","busyProviders","f","busyControllerCount","rootItems","roots","all","getIterator","rootIds","map","values","r","item","extId","onBusyProvidersChange","event","constructor","uriIdentityService","expand","testId","levels","test","items","get","b","Promise","resolve","existing","pendingLvl","prom","record","doneLvl","set","then","getNodeById","id","getNodeByUrl","uri","empty","getReviverDiff","ops","op","amount","pendingRootCount","queue","length","child","pop","push","controllerId","children","apply","diff","prevBusy","fire","clear","root","itemId","createItem","internal","Set","changeCollector","add","node","remove","delete","size","createChangeCollector"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/common/mainThreadTestCollection.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IMainThreadTestCollection } from './testService.js';\nimport { AbstractIncrementalTestCollection, ITestUriCanonicalizer, IncrementalChangeCollector, IncrementalTestCollectionItem, InternalTestItem, TestDiffOpType, TestsDiff } from './testTypes.js';\n\nexport class MainThreadTestCollection extends AbstractIncrementalTestCollection<IncrementalTestCollectionItem> implements IMainThreadTestCollection {\n\tprivate testsByUrl = new ResourceMap<Set<IncrementalTestCollectionItem>>();\n\n\tprivate busyProvidersChangeEmitter = new Emitter<number>();\n\tprivate expandPromises = new WeakMap<IncrementalTestCollectionItem, {\n\t\tpendingLvl: number;\n\t\tdoneLvl: number;\n\t\tprom: Promise<void>;\n\t}>();\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic get busyProviders() {\n\t\treturn this.busyControllerCount;\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic get rootItems() {\n\t\treturn this.roots;\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic get all() {\n\t\treturn this.getIterator();\n\t}\n\n\tpublic get rootIds() {\n\t\treturn Iterable.map(this.roots.values(), r => r.item.extId);\n\t}\n\n\tpublic readonly onBusyProvidersChange = this.busyProvidersChangeEmitter.event;\n\n\tconstructor(uriIdentityService: ITestUriCanonicalizer, private readonly expandActual: (id: string, levels: number) => Promise<void>) {\n\t\tsuper(uriIdentityService);\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic expand(testId: string, levels: number): Promise<void> {\n\t\tconst test = this.items.get(testId);\n\t\tif (!test) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\t// simple cache to avoid duplicate/unnecessary expansion calls\n\t\tconst existing = this.expandPromises.get(test);\n\t\tif (existing && existing.pendingLvl >= levels) {\n\t\t\treturn existing.prom;\n\t\t}\n\n\t\tconst prom = this.expandActual(test.item.extId, levels);\n\t\tconst record = { doneLvl: existing ? existing.doneLvl : -1, pendingLvl: levels, prom };\n\t\tthis.expandPromises.set(test, record);\n\n\t\treturn prom.then(() => {\n\t\t\trecord.doneLvl = levels;\n\t\t});\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic getNodeById(id: string) {\n\t\treturn this.items.get(id);\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic getNodeByUrl(uri: URI): Iterable<IncrementalTestCollectionItem> {\n\t\treturn this.testsByUrl.get(uri) || Iterable.empty();\n\t}\n\n\t/**\n\t * @inheritdoc\n\t */\n\tpublic getReviverDiff() {\n\t\tconst ops: TestsDiff = [{ op: TestDiffOpType.IncrementPendingExtHosts, amount: this.pendingRootCount }];\n\n\t\tconst queue = [this.rootIds];\n\t\twhile (queue.length) {\n\t\t\tfor (const child of queue.pop()!) {\n\t\t\t\tconst item = this.items.get(child)!;\n\t\t\t\tops.push({\n\t\t\t\t\top: TestDiffOpType.Add,\n\t\t\t\t\titem: {\n\t\t\t\t\t\tcontrollerId: item.controllerId,\n\t\t\t\t\t\texpand: item.expand,\n\t\t\t\t\t\titem: item.item,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tqueue.push(item.children);\n\t\t\t}\n\t\t}\n\n\t\treturn ops;\n\t}\n\n\t/**\n\t * Applies the diff to the collection.\n\t */\n\tpublic override apply(diff: TestsDiff) {\n\t\tconst prevBusy = this.busyControllerCount;\n\t\tsuper.apply(diff);\n\n\t\tif (prevBusy !== this.busyControllerCount) {\n\t\t\tthis.busyProvidersChangeEmitter.fire(this.busyControllerCount);\n\t\t}\n\t}\n\n\t/**\n\t * Clears everything from the collection, and returns a diff that applies\n\t * that action.\n\t */\n\tpublic clear() {\n\t\tconst ops: TestsDiff = [];\n\t\tfor (const root of this.roots) {\n\t\t\tops.push({ op: TestDiffOpType.Remove, itemId: root.item.extId });\n\t\t}\n\n\t\tthis.roots.clear();\n\t\tthis.items.clear();\n\n\t\treturn ops;\n\t}\n\n\t/**\n\t * @override\n\t */\n\tprotected createItem(internal: InternalTestItem): IncrementalTestCollectionItem {\n\t\treturn { ...internal, children: new Set() };\n\t}\n\n\tprivate readonly changeCollector: IncrementalChangeCollector<IncrementalTestCollectionItem> = {\n\t\tadd: node => {\n\t\t\tif (!node.item.uri) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst s = this.testsByUrl.get(node.item.uri);\n\t\t\tif (!s) {\n\t\t\t\tthis.testsByUrl.set(node.item.uri, new Set([node]));\n\t\t\t} else {\n\t\t\t\ts.add(node);\n\t\t\t}\n\t\t},\n\t\tremove: node => {\n\t\t\tif (!node.item.uri) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst s = this.testsByUrl.get(node.item.uri);\n\t\t\tif (!s) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ts.delete(node);\n\t\t\tif (s.size === 0) {\n\t\t\t\tthis.testsByUrl.delete(node.item.uri);\n\t\t\t}\n\t\t},\n\t};\n\n\tprotected override createChangeCollector(): IncrementalChangeCollector<IncrementalTestCollectionItem> {\n\t\treturn this.changeCollector;\n\t}\n\n\tprivate *getIterator() {\n\t\tconst queue = new LinkedList<Iterable<string>>();\n\t\tqueue.push(this.rootIds);\n\n\t\twhile (queue.size > 0) {\n\t\t\tfor (const id of queue.pop()!) {\n\t\t\t\tconst node = this.getNodeById(id)!;\n\t\t\t\tyield node;\n\t\t\t\tqueue.push(node.children);\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}