{"version":3,"names":["cov_3c7jrzyo7","actualCoverage","commonPrefixLength","Range","TextLength","TextReplacement","singleTextRemoveCommonPrefix","edit","model","validModelRange","f","modelRange","s","b","range","intersectRanges","normalizedText","text","replaceAll","valueToReplace","getValueInRange","commonPrefixLen","start","ofText","substring","addToPosition","getStartPosition","fromPositions","getEndPosition","singleTextEditAugments","base","startsWith","rangeExtends","extendingRange","rangeToExtend","equals","isBeforeOrEqual"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/inlineCompletions/browser/model/singleTextEditHelpers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { commonPrefixLength } from '../../../../../base/common/strings.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { TextLength } from '../../../../common/core/text/textLength.js';\nimport { TextReplacement } from '../../../../common/core/edits/textEdit.js';\nimport { EndOfLinePreference, ITextModel } from '../../../../common/model.js';\n\nexport function singleTextRemoveCommonPrefix(edit: TextReplacement, model: ITextModel, validModelRange?: Range): TextReplacement {\n\tconst modelRange = validModelRange ? edit.range.intersectRanges(validModelRange) : edit.range;\n\tif (!modelRange) {\n\t\treturn edit;\n\t}\n\tconst normalizedText = edit.text.replaceAll('\\r\\n', '\\n');\n\tconst valueToReplace = model.getValueInRange(modelRange, EndOfLinePreference.LF);\n\tconst commonPrefixLen = commonPrefixLength(valueToReplace, normalizedText);\n\tconst start = TextLength.ofText(valueToReplace.substring(0, commonPrefixLen)).addToPosition(edit.range.getStartPosition());\n\tconst text = normalizedText.substring(commonPrefixLen);\n\tconst range = Range.fromPositions(start, edit.range.getEndPosition());\n\treturn new TextReplacement(range, text);\n}\n\nexport function singleTextEditAugments(edit: TextReplacement, base: TextReplacement): boolean {\n\t// The augmented completion must replace the base range, but can replace even more\n\treturn edit.text.startsWith(base.text) && rangeExtends(edit.range, base.range);\n}\n\nfunction rangeExtends(extendingRange: Range, rangeToExtend: Range): boolean {\n\treturn rangeToExtend.getStartPosition().equals(extendingRange.getStartPosition())\n\t\t&& rangeToExtend.getEndPosition().isBeforeOrEqual(extendingRange.getEndPosition());\n}\n"],"mappings":"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","ignoreList":[]}