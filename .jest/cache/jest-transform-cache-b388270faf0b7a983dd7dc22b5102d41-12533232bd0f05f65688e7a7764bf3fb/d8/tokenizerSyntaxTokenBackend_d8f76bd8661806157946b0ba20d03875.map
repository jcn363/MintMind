{"version":3,"names":["cov_1ib7cvcj9w","actualCoverage","onUnexpectedError","Emitter","MutableDisposable","DisposableMap","countEOL","Position","LineRange","TokenizationRegistry","ContiguousMultilineTokensBuilder","ContiguousTokensStore","TokenizerWithStateStoreAndTextModel","DefaultBackgroundTokenizer","TrackingTokenizationStateStore","AbstractSyntaxTokenBackend","AttachedViewHandler","TokenizerSyntaxTokenBackend","getLanguageId","_tokenizer","s","_backgroundTokenizationState","_onDidChangeBackgroundTokenizationState","_register","onDidChangeBackgroundTokenizationState","event","_defaultBackgroundTokenizer","_backgroundTokenizer","_tokens","_languageIdCodec","_debugBackgroundTokens","_debugBackgroundStates","_debugBackgroundTokenizer","_attachedViewStates","constructor","languageIdCodec","textModel","attachedViews","f","onDidChange","e","languageId","changedLanguages","indexOf","b","todo_resetTokenization","onDidChangeVisibleRanges","view","state","existing","get","refreshRanges","lineRanges","set","handleStateChange","deleteAndDispose","fireTokenChangeEvent","flush","_textModel","getLineCount","_onDidChangeTokens","fire","semanticTokensApplied","ranges","fromLineNumber","toLineNumber","initializeTokenization","isTooLargeForTokenization","tokenizationSupport","initialState","getInitialState","clear","setTokens","tokens","backgroundTokenizationFinished","newState","setEndState","lineNumber","firstInvalidEndStateLineNumber","store","getFirstInvalidEndStateLineNumber","createBackgroundTokenizer","backgroundTokenizerShouldOnlyVerifyTokens","value","handleChanges","setMultilineTokens","undefined","refreshAllVisibleLineTokens","handleDidChangeAttached","handleDidChangeContent","isFlush","isEolChange","c","changes","eolCount","firstLineLength","text","acceptEdit","range","acceptChanges","length","joinMany","map","_","refreshRange","startLineNumber","endLineNumberExclusive","endLineNumber","Math","max","min","builder","heuristicTokens","tokenizeHeuristically","changedTokens","finalize","requestTokens","checkFinished","forceTokenization","updateTokensUntilLine","hasAccurateTokensForLine","isCheapToTokenize","getLineTokens","lineText","getLineContent","result","getTokens","getFirstInvalidEndStateLineNumberOrMax","backgroundResult","equals","reportMismatchingTokens","getTokenTypeIfInsertingCharacter","column","character","position","validatePosition","tokenizeLinesAt","lines","hasTokens"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/tokens/tokenizerSyntaxTokenBackend.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { MutableDisposable, DisposableMap } from '../../../../base/common/lifecycle.js';\nimport { countEOL } from '../../core/misc/eolCounter.js';\nimport { Position } from '../../core/position.js';\nimport { LineRange } from '../../core/ranges/lineRange.js';\nimport { StandardTokenType } from '../../encodedTokenAttributes.js';\nimport { IBackgroundTokenizer, IState, ILanguageIdCodec, TokenizationRegistry, ITokenizationSupport, IBackgroundTokenizationStore } from '../../languages.js';\nimport { IAttachedView } from '../../model.js';\nimport { IModelContentChangedEvent } from '../../textModelEvents.js';\nimport { BackgroundTokenizationState } from '../../tokenizationTextModelPart.js';\nimport { ContiguousMultilineTokens } from '../../tokens/contiguousMultilineTokens.js';\nimport { ContiguousMultilineTokensBuilder } from '../../tokens/contiguousMultilineTokensBuilder.js';\nimport { ContiguousTokensStore } from '../../tokens/contiguousTokensStore.js';\nimport { LineTokens } from '../../tokens/lineTokens.js';\nimport { TextModel } from '../textModel.js';\nimport { TokenizerWithStateStoreAndTextModel, DefaultBackgroundTokenizer, TrackingTokenizationStateStore } from '../textModelTokens.js';\nimport { AbstractSyntaxTokenBackend, AttachedViewHandler, AttachedViews } from './abstractSyntaxTokenBackend.js';\n\n/** For TextMate */\nexport class TokenizerSyntaxTokenBackend extends AbstractSyntaxTokenBackend {\n\tprivate _tokenizer: TokenizerWithStateStoreAndTextModel | null = null;\n\tprotected _backgroundTokenizationState: BackgroundTokenizationState = BackgroundTokenizationState.InProgress;\n\tprotected readonly _onDidChangeBackgroundTokenizationState: Emitter<void> = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeBackgroundTokenizationState: Event<void> = this._onDidChangeBackgroundTokenizationState.event;\n\n\tprivate _defaultBackgroundTokenizer: DefaultBackgroundTokenizer | null = null;\n\tprivate readonly _backgroundTokenizer = this._register(new MutableDisposable<IBackgroundTokenizer>());\n\n\tprivate readonly _tokens = new ContiguousTokensStore(this._languageIdCodec);\n\tprivate _debugBackgroundTokens: ContiguousTokensStore | undefined;\n\tprivate _debugBackgroundStates: TrackingTokenizationStateStore<IState> | undefined;\n\n\tprivate readonly _debugBackgroundTokenizer = this._register(new MutableDisposable<IBackgroundTokenizer>());\n\n\tprivate readonly _attachedViewStates = this._register(new DisposableMap<IAttachedView, AttachedViewHandler>());\n\n\tconstructor(\n\t\tlanguageIdCodec: ILanguageIdCodec,\n\t\ttextModel: TextModel,\n\t\tprivate readonly getLanguageId: () => string,\n\t\tattachedViews: AttachedViews,\n\t) {\n\t\tsuper(languageIdCodec, textModel);\n\n\t\tthis._register(TokenizationRegistry.onDidChange((e) => {\n\t\t\tconst languageId = this.getLanguageId();\n\t\t\tif (e.changedLanguages.indexOf(languageId) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.todo_resetTokenization();\n\t\t}));\n\n\t\tthis.todo_resetTokenization();\n\n\t\tthis._register(attachedViews.onDidChangeVisibleRanges(({ view, state }) => {\n\t\t\tif (state) {\n\t\t\t\tlet existing = this._attachedViewStates.get(view);\n\t\t\t\tif (!existing) {\n\t\t\t\t\texisting = new AttachedViewHandler(() => this.refreshRanges(existing!.lineRanges));\n\t\t\t\t\tthis._attachedViewStates.set(view, existing);\n\t\t\t\t}\n\t\t\t\texisting.handleStateChange(state);\n\t\t\t} else {\n\t\t\t\tthis._attachedViewStates.deleteAndDispose(view);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic todo_resetTokenization(fireTokenChangeEvent: boolean = true): void {\n\t\tthis._tokens.flush();\n\t\tthis._debugBackgroundTokens?.flush();\n\t\tif (this._debugBackgroundStates) {\n\t\t\tthis._debugBackgroundStates = new TrackingTokenizationStateStore(this._textModel.getLineCount());\n\t\t}\n\t\tif (fireTokenChangeEvent) {\n\t\t\tthis._onDidChangeTokens.fire({\n\t\t\t\tsemanticTokensApplied: false,\n\t\t\t\tranges: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfromLineNumber: 1,\n\t\t\t\t\t\ttoLineNumber: this._textModel.getLineCount(),\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\t}\n\n\t\tconst initializeTokenization = (): [ITokenizationSupport, IState] | [null, null] => {\n\t\t\tif (this._textModel.isTooLargeForTokenization()) {\n\t\t\t\treturn [null, null];\n\t\t\t}\n\t\t\tconst tokenizationSupport = TokenizationRegistry.get(this.getLanguageId());\n\t\t\tif (!tokenizationSupport) {\n\t\t\t\treturn [null, null];\n\t\t\t}\n\t\t\tlet initialState: IState;\n\t\t\ttry {\n\t\t\t\tinitialState = tokenizationSupport.getInitialState();\n\t\t\t} catch (e) {\n\t\t\t\tonUnexpectedError(e);\n\t\t\t\treturn [null, null];\n\t\t\t}\n\t\t\treturn [tokenizationSupport, initialState];\n\t\t};\n\n\t\tconst [tokenizationSupport, initialState] = initializeTokenization();\n\t\tif (tokenizationSupport && initialState) {\n\t\t\tthis._tokenizer = new TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(), tokenizationSupport, this._textModel, this._languageIdCodec);\n\t\t} else {\n\t\t\tthis._tokenizer = null;\n\t\t}\n\n\t\tthis._backgroundTokenizer.clear();\n\n\t\tthis._defaultBackgroundTokenizer = null;\n\t\tif (this._tokenizer) {\n\t\t\tconst b: IBackgroundTokenizationStore = {\n\t\t\t\tsetTokens: (tokens) => {\n\t\t\t\t\tthis.setTokens(tokens);\n\t\t\t\t},\n\t\t\t\tbackgroundTokenizationFinished: () => {\n\t\t\t\t\tif (this._backgroundTokenizationState === BackgroundTokenizationState.Completed) {\n\t\t\t\t\t\t// We already did a full tokenization and don't go back to progressing.\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst newState = BackgroundTokenizationState.Completed;\n\t\t\t\t\tthis._backgroundTokenizationState = newState;\n\t\t\t\t\tthis._onDidChangeBackgroundTokenizationState.fire();\n\t\t\t\t},\n\t\t\t\tsetEndState: (lineNumber, state) => {\n\t\t\t\t\tif (!this._tokenizer) { return; }\n\t\t\t\t\tconst firstInvalidEndStateLineNumber = this._tokenizer.store.getFirstInvalidEndStateLineNumber();\n\t\t\t\t\t// Don't accept states for definitely valid states, the renderer is ahead of the worker!\n\t\t\t\t\tif (firstInvalidEndStateLineNumber !== null && lineNumber >= firstInvalidEndStateLineNumber) {\n\t\t\t\t\t\tthis._tokenizer?.store.setEndState(lineNumber, state);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tif (tokenizationSupport && tokenizationSupport.createBackgroundTokenizer && !tokenizationSupport.backgroundTokenizerShouldOnlyVerifyTokens) {\n\t\t\t\tthis._backgroundTokenizer.value = tokenizationSupport.createBackgroundTokenizer(this._textModel, b);\n\t\t\t}\n\t\t\tif (!this._backgroundTokenizer.value && !this._textModel.isTooLargeForTokenization()) {\n\t\t\t\tthis._backgroundTokenizer.value = this._defaultBackgroundTokenizer =\n\t\t\t\t\tnew DefaultBackgroundTokenizer(this._tokenizer, b);\n\t\t\t\tthis._defaultBackgroundTokenizer.handleChanges();\n\t\t\t}\n\n\t\t\tif (tokenizationSupport?.backgroundTokenizerShouldOnlyVerifyTokens && tokenizationSupport.createBackgroundTokenizer) {\n\t\t\t\tthis._debugBackgroundTokens = new ContiguousTokensStore(this._languageIdCodec);\n\t\t\t\tthis._debugBackgroundStates = new TrackingTokenizationStateStore(this._textModel.getLineCount());\n\t\t\t\tthis._debugBackgroundTokenizer.clear();\n\t\t\t\tthis._debugBackgroundTokenizer.value = tokenizationSupport.createBackgroundTokenizer(this._textModel, {\n\t\t\t\t\tsetTokens: (tokens) => {\n\t\t\t\t\t\tthis._debugBackgroundTokens?.setMultilineTokens(tokens, this._textModel);\n\t\t\t\t\t},\n\t\t\t\t\tbackgroundTokenizationFinished() {\n\t\t\t\t\t\t// NO OP\n\t\t\t\t\t},\n\t\t\t\t\tsetEndState: (lineNumber, state) => {\n\t\t\t\t\t\tthis._debugBackgroundStates?.setEndState(lineNumber, state);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._debugBackgroundTokens = undefined;\n\t\t\t\tthis._debugBackgroundStates = undefined;\n\t\t\t\tthis._debugBackgroundTokenizer.value = undefined;\n\t\t\t}\n\t\t}\n\n\t\tthis.refreshAllVisibleLineTokens();\n\t}\n\n\tpublic handleDidChangeAttached() {\n\t\tthis._defaultBackgroundTokenizer?.handleChanges();\n\t}\n\n\tpublic handleDidChangeContent(e: IModelContentChangedEvent): void {\n\t\tif (e.isFlush) {\n\t\t\t// Don't fire the event, as the view might not have got the text change event yet\n\t\t\tthis.todo_resetTokenization(false);\n\t\t} else if (!e.isEolChange) { // We don't have to do anything on an EOL change\n\t\t\tfor (const c of e.changes) {\n\t\t\t\tconst [eolCount, firstLineLength] = countEOL(c.text);\n\n\t\t\t\tthis._tokens.acceptEdit(c.range, eolCount, firstLineLength);\n\t\t\t\tthis._debugBackgroundTokens?.acceptEdit(c.range, eolCount, firstLineLength);\n\t\t\t}\n\t\t\tthis._debugBackgroundStates?.acceptChanges(e.changes);\n\n\t\t\tif (this._tokenizer) {\n\t\t\t\tthis._tokenizer.store.acceptChanges(e.changes);\n\t\t\t}\n\t\t\tthis._defaultBackgroundTokenizer?.handleChanges();\n\t\t}\n\t}\n\n\tprivate setTokens(tokens: ContiguousMultilineTokens[]): { changes: { fromLineNumber: number; toLineNumber: number }[] } {\n\t\tconst { changes } = this._tokens.setMultilineTokens(tokens, this._textModel);\n\n\t\tif (changes.length > 0) {\n\t\t\tthis._onDidChangeTokens.fire({ semanticTokensApplied: false, ranges: changes, });\n\t\t}\n\n\t\treturn { changes: changes };\n\t}\n\n\tprivate refreshAllVisibleLineTokens(): void {\n\t\tconst ranges = LineRange.joinMany([...this._attachedViewStates].map(([_, s]) => s.lineRanges));\n\t\tthis.refreshRanges(ranges);\n\t}\n\n\tprivate refreshRanges(ranges: readonly LineRange[]): void {\n\t\tfor (const range of ranges) {\n\t\t\tthis.refreshRange(range.startLineNumber, range.endLineNumberExclusive - 1);\n\t\t}\n\t}\n\n\tprivate refreshRange(startLineNumber: number, endLineNumber: number): void {\n\t\tif (!this._tokenizer) {\n\t\t\treturn;\n\t\t}\n\n\t\tstartLineNumber = Math.max(1, Math.min(this._textModel.getLineCount(), startLineNumber));\n\t\tendLineNumber = Math.min(this._textModel.getLineCount(), endLineNumber);\n\n\t\tconst builder = new ContiguousMultilineTokensBuilder();\n\t\tconst { heuristicTokens } = this._tokenizer.tokenizeHeuristically(builder, startLineNumber, endLineNumber);\n\t\tconst changedTokens = this.setTokens(builder.finalize());\n\n\t\tif (heuristicTokens) {\n\t\t\t// We overrode tokens with heuristically computed ones.\n\t\t\t// Because old states might get reused (thus stopping invalidation),\n\t\t\t// we have to explicitly request the tokens for the changed ranges again.\n\t\t\tfor (const c of changedTokens.changes) {\n\t\t\t\tthis._backgroundTokenizer.value?.requestTokens(c.fromLineNumber, c.toLineNumber + 1);\n\t\t\t}\n\t\t}\n\n\t\tthis._defaultBackgroundTokenizer?.checkFinished();\n\t}\n\n\tpublic forceTokenization(lineNumber: number): void {\n\t\tconst builder = new ContiguousMultilineTokensBuilder();\n\t\tthis._tokenizer?.updateTokensUntilLine(builder, lineNumber);\n\t\tthis.setTokens(builder.finalize());\n\t\tthis._defaultBackgroundTokenizer?.checkFinished();\n\t}\n\n\tpublic hasAccurateTokensForLine(lineNumber: number): boolean {\n\t\tif (!this._tokenizer) {\n\t\t\treturn true;\n\t\t}\n\t\treturn this._tokenizer.hasAccurateTokensForLine(lineNumber);\n\t}\n\n\tpublic isCheapToTokenize(lineNumber: number): boolean {\n\t\tif (!this._tokenizer) {\n\t\t\treturn true;\n\t\t}\n\t\treturn this._tokenizer.isCheapToTokenize(lineNumber);\n\t}\n\n\tpublic getLineTokens(lineNumber: number): LineTokens {\n\t\tconst lineText = this._textModel.getLineContent(lineNumber);\n\t\tconst result = this._tokens.getTokens(\n\t\t\tthis._textModel.getLanguageId(),\n\t\t\tlineNumber - 1,\n\t\t\tlineText\n\t\t);\n\t\tif (this._debugBackgroundTokens && this._debugBackgroundStates && this._tokenizer) {\n\t\t\tif (this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax() > lineNumber && this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax() > lineNumber) {\n\t\t\t\tconst backgroundResult = this._debugBackgroundTokens.getTokens(\n\t\t\t\t\tthis._textModel.getLanguageId(),\n\t\t\t\t\tlineNumber - 1,\n\t\t\t\t\tlineText\n\t\t\t\t);\n\t\t\t\tif (!result.equals(backgroundResult) && this._debugBackgroundTokenizer.value?.reportMismatchingTokens) {\n\t\t\t\t\tthis._debugBackgroundTokenizer.value.reportMismatchingTokens(lineNumber);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tpublic getTokenTypeIfInsertingCharacter(lineNumber: number, column: number, character: string): StandardTokenType {\n\t\tif (!this._tokenizer) {\n\t\t\treturn StandardTokenType.Other;\n\t\t}\n\n\t\tconst position = this._textModel.validatePosition(new Position(lineNumber, column));\n\t\tthis.forceTokenization(position.lineNumber);\n\t\treturn this._tokenizer.getTokenTypeIfInsertingCharacter(position, character);\n\t}\n\n\n\tpublic tokenizeLinesAt(lineNumber: number, lines: string[]): LineTokens[] | null {\n\t\tif (!this._tokenizer) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.forceTokenization(lineNumber);\n\t\treturn this._tokenizer.tokenizeLinesAt(lineNumber, lines);\n\t}\n\n\tpublic get hasTokens(): boolean {\n\t\treturn this._tokens.hasTokens;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}