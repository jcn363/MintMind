{"version":3,"names":["cov_2krtq3e0n","actualCoverage","Range","Searcher","strings","assertNever","DEFAULT_WORD_REGEXP","getWordAtText","UnicodeTextModelHighlighter","computeUnicodeHighlights","model","options","range","f","startLine","s","b","startLineNumber","endLine","endLineNumber","getLineCount","codePointHighlighter","CodePointHighlighter","candidates","getCandidateCodePoints","regex","RegExp","buildRegExpCharClassExpr","Array","from","searcher","ranges","hasMore","m","ambiguousCharacterCount","invisibleCharacterCount","nonBasicAsciiCharacterCount","forLoop","lineNumber","lineCount","lineContent","getLineContent","lineLength","length","reset","next","startIndex","index","endIndex","charCodeBefore","charCodeAt","isHighSurrogate","str","substring","word","endColumn","highlightReason","shouldHighlightNonBasicASCII","MAX_RESULT_LENGTH","push","computeUnicodeHighlightReason","char","reason","kind","codePoint","codePointAt","primaryConfusable","ambiguousCharacters","getPrimaryConfusable","notAmbiguousInLocales","AmbiguousCharacters","getLocales","filter","l","getInstance","Set","allowedLocales","isAmbiguous","confusableWith","String","fromCodePoint","codePoints","flags","src","escapeRegExpCharacters","map","i","join","allowedCodePoints","constructor","nonBasicASCII","set","invisibleCharacters","cp","InvisibleCharacters","isAllowedInvisibleCharacter","add","getConfusableCodePoints","delete","character","wordContext","has","hasBasicASCIICharacters","hasNonConfusableNonBasicAsciiCharacter","isBasicASCII","isInvisibleCharacter"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/services/unicodeTextModelHighlighter.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IRange, Range } from '../core/range.js';\nimport { Searcher } from '../model/textModelSearch.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { IUnicodeHighlightsResult } from './editorWorker.js';\nimport { assertNever } from '../../../base/common/assert.js';\nimport { DEFAULT_WORD_REGEXP, getWordAtText } from '../core/wordHelper.js';\n\nexport class UnicodeTextModelHighlighter {\n\tpublic static computeUnicodeHighlights(model: IUnicodeCharacterSearcherTarget, options: UnicodeHighlighterOptions, range?: IRange): IUnicodeHighlightsResult {\n\t\tconst startLine = range ? range.startLineNumber : 1;\n\t\tconst endLine = range ? range.endLineNumber : model.getLineCount();\n\n\t\tconst codePointHighlighter = new CodePointHighlighter(options);\n\n\t\tconst candidates = codePointHighlighter.getCandidateCodePoints();\n\t\tlet regex: RegExp;\n\t\tif (candidates === 'allNonBasicAscii') {\n\t\t\tregex = new RegExp('[^\\\\t\\\\n\\\\r\\\\x20-\\\\x7E]', 'g');\n\t\t} else {\n\t\t\tregex = new RegExp(`${buildRegExpCharClassExpr(Array.from(candidates))}`, 'g');\n\t\t}\n\n\t\tconst searcher = new Searcher(null, regex);\n\t\tconst ranges: Range[] = [];\n\t\tlet hasMore = false;\n\t\tlet m: RegExpExecArray | null;\n\n\t\tlet ambiguousCharacterCount = 0;\n\t\tlet invisibleCharacterCount = 0;\n\t\tlet nonBasicAsciiCharacterCount = 0;\n\n\t\tforLoop:\n\t\tfor (let lineNumber = startLine, lineCount = endLine; lineNumber <= lineCount; lineNumber++) {\n\t\t\tconst lineContent = model.getLineContent(lineNumber);\n\t\t\tconst lineLength = lineContent.length;\n\n\t\t\t// Reset regex to search from the beginning\n\t\t\tsearcher.reset(0);\n\t\t\tdo {\n\t\t\t\tm = searcher.next(lineContent);\n\t\t\t\tif (m) {\n\t\t\t\t\tlet startIndex = m.index;\n\t\t\t\t\tlet endIndex = m.index + m[0].length;\n\n\t\t\t\t\t// Extend range to entire code point\n\t\t\t\t\tif (startIndex > 0) {\n\t\t\t\t\t\tconst charCodeBefore = lineContent.charCodeAt(startIndex - 1);\n\t\t\t\t\t\tif (strings.isHighSurrogate(charCodeBefore)) {\n\t\t\t\t\t\t\tstartIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (endIndex + 1 < lineLength) {\n\t\t\t\t\t\tconst charCodeBefore = lineContent.charCodeAt(endIndex - 1);\n\t\t\t\t\t\tif (strings.isHighSurrogate(charCodeBefore)) {\n\t\t\t\t\t\t\tendIndex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst str = lineContent.substring(startIndex, endIndex);\n\t\t\t\t\tlet word = getWordAtText(startIndex + 1, DEFAULT_WORD_REGEXP, lineContent, 0);\n\t\t\t\t\tif (word && word.endColumn <= startIndex + 1) {\n\t\t\t\t\t\t// The word does not include the problematic character, ignore the word\n\t\t\t\t\t\tword = null;\n\t\t\t\t\t}\n\t\t\t\t\tconst highlightReason = codePointHighlighter.shouldHighlightNonBasicASCII(str, word ? word.word : null);\n\n\t\t\t\t\tif (highlightReason !== SimpleHighlightReason.None) {\n\t\t\t\t\t\tif (highlightReason === SimpleHighlightReason.Ambiguous) {\n\t\t\t\t\t\t\tambiguousCharacterCount++;\n\t\t\t\t\t\t} else if (highlightReason === SimpleHighlightReason.Invisible) {\n\t\t\t\t\t\t\tinvisibleCharacterCount++;\n\t\t\t\t\t\t} else if (highlightReason === SimpleHighlightReason.NonBasicASCII) {\n\t\t\t\t\t\t\tnonBasicAsciiCharacterCount++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tassertNever(highlightReason);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst MAX_RESULT_LENGTH = 1000;\n\t\t\t\t\t\tif (ranges.length >= MAX_RESULT_LENGTH) {\n\t\t\t\t\t\t\thasMore = true;\n\t\t\t\t\t\t\tbreak forLoop;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tranges.push(new Range(lineNumber, startIndex + 1, lineNumber, endIndex + 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} while (m);\n\t\t}\n\t\treturn {\n\t\t\tranges,\n\t\t\thasMore,\n\t\t\tambiguousCharacterCount,\n\t\t\tinvisibleCharacterCount,\n\t\t\tnonBasicAsciiCharacterCount\n\t\t};\n\t}\n\n\tpublic static computeUnicodeHighlightReason(char: string, options: UnicodeHighlighterOptions): UnicodeHighlighterReason | null {\n\t\tconst codePointHighlighter = new CodePointHighlighter(options);\n\n\t\tconst reason = codePointHighlighter.shouldHighlightNonBasicASCII(char, null);\n\t\tswitch (reason) {\n\t\t\tcase SimpleHighlightReason.None:\n\t\t\t\treturn null;\n\t\t\tcase SimpleHighlightReason.Invisible:\n\t\t\t\treturn { kind: UnicodeHighlighterReasonKind.Invisible };\n\n\t\t\tcase SimpleHighlightReason.Ambiguous: {\n\t\t\t\tconst codePoint = char.codePointAt(0)!;\n\t\t\t\tconst primaryConfusable = codePointHighlighter.ambiguousCharacters.getPrimaryConfusable(codePoint)!;\n\t\t\t\tconst notAmbiguousInLocales =\n\t\t\t\t\tstrings.AmbiguousCharacters.getLocales().filter(\n\t\t\t\t\t\t(l) =>\n\t\t\t\t\t\t\t!strings.AmbiguousCharacters.getInstance(\n\t\t\t\t\t\t\t\tnew Set([...options.allowedLocales, l])\n\t\t\t\t\t\t\t).isAmbiguous(codePoint)\n\t\t\t\t\t);\n\t\t\t\treturn { kind: UnicodeHighlighterReasonKind.Ambiguous, confusableWith: String.fromCodePoint(primaryConfusable), notAmbiguousInLocales };\n\t\t\t}\n\t\t\tcase SimpleHighlightReason.NonBasicASCII:\n\t\t\t\treturn { kind: UnicodeHighlighterReasonKind.NonBasicAscii };\n\t\t}\n\t}\n}\n\nfunction buildRegExpCharClassExpr(codePoints: number[], flags?: string): string {\n\tconst src = `[${strings.escapeRegExpCharacters(\n\t\tcodePoints.map((i) => String.fromCodePoint(i)).join('')\n\t)}]`;\n\treturn src;\n}\n\nexport const enum UnicodeHighlighterReasonKind {\n\tAmbiguous, Invisible, NonBasicAscii\n}\n\nexport type UnicodeHighlighterReason = {\n\tkind: UnicodeHighlighterReasonKind.Ambiguous;\n\tconfusableWith: string;\n\tnotAmbiguousInLocales: string[];\n} | {\n\tkind: UnicodeHighlighterReasonKind.Invisible;\n} | {\n\tkind: UnicodeHighlighterReasonKind.NonBasicAscii;\n};\n\nclass CodePointHighlighter {\n\tprivate readonly allowedCodePoints: Set<number>;\n\tpublic readonly ambiguousCharacters: strings.AmbiguousCharacters;\n\tconstructor(private readonly options: UnicodeHighlighterOptions) {\n\t\tthis.allowedCodePoints = new Set(options.allowedCodePoints);\n\t\tthis.ambiguousCharacters = strings.AmbiguousCharacters.getInstance(new Set(options.allowedLocales));\n\t}\n\n\tpublic getCandidateCodePoints(): Set<number> | 'allNonBasicAscii' {\n\t\tif (this.options.nonBasicASCII) {\n\t\t\treturn 'allNonBasicAscii';\n\t\t}\n\n\t\tconst set = new Set<number>();\n\n\t\tif (this.options.invisibleCharacters) {\n\t\t\tfor (const cp of strings.InvisibleCharacters.codePoints) {\n\t\t\t\tif (!isAllowedInvisibleCharacter(String.fromCodePoint(cp))) {\n\t\t\t\t\tset.add(cp);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.ambiguousCharacters) {\n\t\t\tfor (const cp of this.ambiguousCharacters.getConfusableCodePoints()) {\n\t\t\t\tset.add(cp);\n\t\t\t}\n\t\t}\n\n\t\tfor (const cp of this.allowedCodePoints) {\n\t\t\tset.delete(cp);\n\t\t}\n\n\t\treturn set;\n\t}\n\n\tpublic shouldHighlightNonBasicASCII(character: string, wordContext: string | null): SimpleHighlightReason {\n\t\tconst codePoint = character.codePointAt(0)!;\n\n\t\tif (this.allowedCodePoints.has(codePoint)) {\n\t\t\treturn SimpleHighlightReason.None;\n\t\t}\n\n\t\tif (this.options.nonBasicASCII) {\n\t\t\treturn SimpleHighlightReason.NonBasicASCII;\n\t\t}\n\n\t\tlet hasBasicASCIICharacters = false;\n\t\tlet hasNonConfusableNonBasicAsciiCharacter = false;\n\t\tif (wordContext) {\n\t\t\tfor (const char of wordContext) {\n\t\t\t\tconst codePoint = char.codePointAt(0)!;\n\t\t\t\tconst isBasicASCII = strings.isBasicASCII(char);\n\t\t\t\thasBasicASCIICharacters = hasBasicASCIICharacters || isBasicASCII;\n\n\t\t\t\tif (\n\t\t\t\t\t!isBasicASCII &&\n\t\t\t\t\t!this.ambiguousCharacters.isAmbiguous(codePoint) &&\n\t\t\t\t\t!strings.InvisibleCharacters.isInvisibleCharacter(codePoint)\n\t\t\t\t) {\n\t\t\t\t\thasNonConfusableNonBasicAsciiCharacter = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t/* Don't allow mixing weird looking characters with ASCII */ !hasBasicASCIICharacters &&\n\t\t\t/* Is there an obviously weird looking character? */ hasNonConfusableNonBasicAsciiCharacter\n\t\t) {\n\t\t\treturn SimpleHighlightReason.None;\n\t\t}\n\n\t\tif (this.options.invisibleCharacters) {\n\t\t\t// TODO check for emojis\n\t\t\tif (!isAllowedInvisibleCharacter(character) && strings.InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n\t\t\t\treturn SimpleHighlightReason.Invisible;\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.ambiguousCharacters) {\n\t\t\tif (this.ambiguousCharacters.isAmbiguous(codePoint)) {\n\t\t\t\treturn SimpleHighlightReason.Ambiguous;\n\t\t\t}\n\t\t}\n\n\t\treturn SimpleHighlightReason.None;\n\t}\n}\n\nfunction isAllowedInvisibleCharacter(character: string): boolean {\n\treturn character === ' ' || character === '\\n' || character === '\\t';\n}\n\nconst enum SimpleHighlightReason {\n\tNone,\n\tNonBasicASCII,\n\tInvisible,\n\tAmbiguous\n}\n\nexport interface IUnicodeCharacterSearcherTarget {\n\tgetLineCount(): number;\n\tgetLineContent(lineNumber: number): string;\n}\n\nexport interface UnicodeHighlighterOptions {\n\tnonBasicASCII: boolean;\n\tambiguousCharacters: boolean;\n\tinvisibleCharacters: boolean;\n\tincludeComments: boolean;\n\tincludeStrings: boolean;\n\tallowedCodePoints: number[];\n\tallowedLocales: string[];\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}