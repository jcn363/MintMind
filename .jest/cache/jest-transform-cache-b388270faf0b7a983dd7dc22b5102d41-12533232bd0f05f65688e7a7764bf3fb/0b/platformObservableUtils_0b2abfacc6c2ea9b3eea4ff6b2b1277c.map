{"version":3,"names":["cov_12yv7yj2eh","actualCoverage","DisposableStore","DebugLocation","derivedOpts","observableFromEvent","observableFromEventOpts","observableConfigValue","key","defaultValue","configurationService","debugLocation","b","ofCaller","f","s","debugName","handleChange","onDidChangeConfiguration","e","affectsConfiguration","getValue","bindContextKey","service","computeValue","boundKey","bindTo","store","reader","value","set","recomputeInitiallyAndOnChange","observableContextKey","contextKeyService","undefined","onDidChangeContext","getContextKeyValue"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/observable/common/platformObservableUtils.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore, IDisposable } from '../../../base/common/lifecycle.js';\nimport { DebugLocation, derivedOpts, IObservable, IReader, observableFromEvent, observableFromEventOpts } from '../../../base/common/observable.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { ContextKeyValue, IContextKeyService, RawContextKey } from '../../contextkey/common/contextkey.js';\n\n/** Creates an observable update when a configuration key updates. */\nexport function observableConfigValue<T>(\n\tkey: string,\n\tdefaultValue: T,\n\tconfigurationService: IConfigurationService,\n\tdebugLocation = DebugLocation.ofCaller(),\n): IObservable<T> {\n\treturn observableFromEventOpts({ debugName: () => `Configuration Key \"${key}\"`, },\n\t\t(handleChange) => configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(key)) {\n\t\t\t\thandleChange(e);\n\t\t\t}\n\t\t}),\n\t\t() => configurationService.getValue<T>(key) ?? defaultValue,\n\t\tdebugLocation,\n\t);\n}\n\n/** Update the configuration key with a value derived from observables. */\nexport function bindContextKey<T extends ContextKeyValue>(\n\tkey: RawContextKey<T>,\n\tservice: IContextKeyService,\n\tcomputeValue: (reader: IReader) => T,\n\tdebugLocation = DebugLocation.ofCaller(),\n): IDisposable {\n\tconst boundKey = key.bindTo(service);\n\tconst store = new DisposableStore();\n\tderivedOpts({ debugName: () => `Set Context Key \"${key.key}\"` }, reader => {\n\t\tconst value = computeValue(reader);\n\t\tboundKey.set(value);\n\t\treturn value;\n\t}, debugLocation).recomputeInitiallyAndOnChange(store);\n\treturn store;\n}\n\n\nexport function observableContextKey<T>(key: string, contextKeyService: IContextKeyService, debugLocation = DebugLocation.ofCaller()): IObservable<T | undefined> {\n\treturn observableFromEvent(undefined, contextKeyService.onDidChangeContext, () => contextKeyService.getContextKeyValue<T>(key), debugLocation);\n}\n"],"mappings":"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","ignoreList":[]}