{"version":3,"names":["cov_1vhwigdf03","actualCoverage","nls","DisposableStore","IBulkEditService","ResourceTextEdit","Range","ITextModelService","Action2","registerAction2","IConfigurationService","ILogService","IQuickInputService","INotebookEditorService","NotebookSetting","isNotebookEditorInput","IEditorService","NotebookIndentUsingTabs","ID","s","constructor","f","id","title","localize","precondition","undefined","run","accessor","args","changeNotebookIndentation","NotebookIndentUsingSpaces","NotebookChangeTabDisplaySize","NotebookIndentationToSpacesAction","convertNotebookIndentation","NotebookIndentationToTabsAction","insertSpaces","displaySizeOnly","editorService","get","configurationService","notebookEditorService","quickInputService","activeInput","activeEditorPane","input","isNotebook","b","notebookEditor","retrieveExistingWidgetFromURI","resource","value","picks","map","n","toString","label","initialConfig","getValue","cellEditorOptionsCustomizations","initialInsertSpaces","setTimeout","pick","placeHolder","key","comment","then","pickedVal","parseInt","updateValue","tabsToSpaces","logService","textModelService","bulkEditService","notebookTextModel","textModel","disposable","Promise","all","cells","cell","ref","createModelReference","uri","add","textEditorModel","object","modelOpts","getOptions","edits","getIndentationEditOperations","tabSize","apply","code","initialIndentSize","initialTabSize","dispose","error","model","getLineCount","getLineMaxColumn","spaces","i","spacesRegExp","RegExp","lineNumber","lineCount","lastIndentationColumn","getLineFirstNonWhitespaceColumn","originalIndentationRange","originalIndentation","getValueInRange","newIndentation","replace","push","range","text"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/controller/notebookIndentationActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../../nls.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { IBulkEditService, ResourceTextEdit } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport { ITextModelService } from '../../../../../editor/common/services/resolverService.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\nimport { IQuickInputService } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { INotebookEditorService } from '../services/notebookEditorService.js';\nimport { NotebookSetting } from '../../common/notebookCommon.js';\nimport { isNotebookEditorInput } from '../../common/notebookEditorInput.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\n\nexport class NotebookIndentUsingTabs extends Action2 {\n\tpublic static readonly ID = 'notebook.action.indentUsingTabs';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: NotebookIndentUsingTabs.ID,\n\t\t\ttitle: nls.localize('indentUsingTabs', \"Indent Using Tabs\"),\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tchangeNotebookIndentation(accessor, false, false);\n\t}\n}\n\nexport class NotebookIndentUsingSpaces extends Action2 {\n\tpublic static readonly ID = 'notebook.action.indentUsingSpaces';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: NotebookIndentUsingSpaces.ID,\n\t\t\ttitle: nls.localize('indentUsingSpaces', \"Indent Using Spaces\"),\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tchangeNotebookIndentation(accessor, true, false);\n\t}\n}\n\nexport class NotebookChangeTabDisplaySize extends Action2 {\n\tpublic static readonly ID = 'notebook.action.changeTabDisplaySize';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: NotebookChangeTabDisplaySize.ID,\n\t\t\ttitle: nls.localize('changeTabDisplaySize', \"Change Tab Display Size\"),\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tchangeNotebookIndentation(accessor, true, true);\n\t}\n}\n\nexport class NotebookIndentationToSpacesAction extends Action2 {\n\tpublic static readonly ID = 'notebook.action.convertIndentationToSpaces';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: NotebookIndentationToSpacesAction.ID,\n\t\t\ttitle: nls.localize('convertIndentationToSpaces', \"Convert Indentation to Spaces\"),\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconvertNotebookIndentation(accessor, true);\n\t}\n}\n\nexport class NotebookIndentationToTabsAction extends Action2 {\n\tpublic static readonly ID = 'notebook.action.convertIndentationToTabs';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: NotebookIndentationToTabsAction.ID,\n\t\t\ttitle: nls.localize('convertIndentationToTabs', \"Convert Indentation to Tabs\"),\n\t\t\tprecondition: undefined,\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconvertNotebookIndentation(accessor, false);\n\t}\n}\n\nfunction changeNotebookIndentation(accessor: ServicesAccessor, insertSpaces: boolean, displaySizeOnly: boolean) {\n\tconst editorService = accessor.get(IEditorService);\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst notebookEditorService = accessor.get(INotebookEditorService);\n\tconst quickInputService = accessor.get(IQuickInputService);\n\n\t// keep this check here to pop on non-notebook actions\n\tconst activeInput = editorService.activeEditorPane?.input;\n\tconst isNotebook = isNotebookEditorInput(activeInput);\n\tif (!isNotebook) {\n\t\treturn;\n\t}\n\n\t// get notebook editor to access all codeEditors\n\tconst notebookEditor = notebookEditorService.retrieveExistingWidgetFromURI(activeInput.resource)?.value;\n\tif (!notebookEditor) {\n\t\treturn;\n\t}\n\n\tconst picks = [1, 2, 3, 4, 5, 6, 7, 8].map(n => ({\n\t\tid: n.toString(),\n\t\tlabel: n.toString(),\n\t}));\n\n\t// store the initial values of the configuration\n\t// eslint-disable-next-line local/code-no-any-casts\n\tconst initialConfig = configurationService.getValue(NotebookSetting.cellEditorOptionsCustomizations) as any;\n\tconst initialInsertSpaces = initialConfig['editor.insertSpaces'];\n\t// remove the initial values from the configuration\n\tdelete initialConfig['editor.indentSize'];\n\tdelete initialConfig['editor.tabSize'];\n\tdelete initialConfig['editor.insertSpaces'];\n\n\tsetTimeout(() => {\n\t\tquickInputService.pick(picks, { placeHolder: nls.localize({ key: 'selectTabWidth', comment: ['Tab corresponds to the tab key'] }, \"Select Tab Size for Current File\") }).then(pick => {\n\t\t\tif (pick) {\n\t\t\t\tconst pickedVal = parseInt(pick.label, 10);\n\t\t\t\tif (displaySizeOnly) {\n\t\t\t\t\tconfigurationService.updateValue(NotebookSetting.cellEditorOptionsCustomizations, {\n\t\t\t\t\t\t...initialConfig,\n\t\t\t\t\t\t'editor.tabSize': pickedVal,\n\t\t\t\t\t\t'editor.indentSize': pickedVal,\n\t\t\t\t\t\t'editor.insertSpaces': initialInsertSpaces\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconfigurationService.updateValue(NotebookSetting.cellEditorOptionsCustomizations, {\n\t\t\t\t\t\t...initialConfig,\n\t\t\t\t\t\t'editor.tabSize': pickedVal,\n\t\t\t\t\t\t'editor.indentSize': pickedVal,\n\t\t\t\t\t\t'editor.insertSpaces': insertSpaces\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\t}, 50/* quick input is sensitive to being opened so soon after another */);\n}\n\nfunction convertNotebookIndentation(accessor: ServicesAccessor, tabsToSpaces: boolean): void {\n\tconst editorService = accessor.get(IEditorService);\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst logService = accessor.get(ILogService);\n\tconst textModelService = accessor.get(ITextModelService);\n\tconst notebookEditorService = accessor.get(INotebookEditorService);\n\tconst bulkEditService = accessor.get(IBulkEditService);\n\n\t// keep this check here to pop on non-notebook\n\tconst activeInput = editorService.activeEditorPane?.input;\n\tconst isNotebook = isNotebookEditorInput(activeInput);\n\tif (!isNotebook) {\n\t\treturn;\n\t}\n\n\t// get notebook editor to access all codeEditors\n\tconst notebookTextModel = notebookEditorService.retrieveExistingWidgetFromURI(activeInput.resource)?.value?.textModel;\n\tif (!notebookTextModel) {\n\t\treturn;\n\t}\n\n\tconst disposable = new DisposableStore();\n\ttry {\n\t\tPromise.all(notebookTextModel.cells.map(async cell => {\n\t\t\tconst ref = await textModelService.createModelReference(cell.uri);\n\t\t\tdisposable.add(ref);\n\t\t\tconst textEditorModel = ref.object.textEditorModel;\n\n\t\t\tconst modelOpts = cell.textModel?.getOptions();\n\t\t\tif (!modelOpts) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst edits = getIndentationEditOperations(textEditorModel, modelOpts.tabSize, tabsToSpaces);\n\n\t\t\tbulkEditService.apply(edits, { label: nls.localize('convertIndentation', \"Convert Indentation\"), code: 'undoredo.convertIndentation', });\n\n\t\t})).then(() => {\n\t\t\t// store the initial values of the configuration\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconst initialConfig = configurationService.getValue(NotebookSetting.cellEditorOptionsCustomizations) as any;\n\t\t\tconst initialIndentSize = initialConfig['editor.indentSize'];\n\t\t\tconst initialTabSize = initialConfig['editor.tabSize'];\n\t\t\t// remove the initial values from the configuration\n\t\t\tdelete initialConfig['editor.indentSize'];\n\t\t\tdelete initialConfig['editor.tabSize'];\n\t\t\tdelete initialConfig['editor.insertSpaces'];\n\n\t\t\tconfigurationService.updateValue(NotebookSetting.cellEditorOptionsCustomizations, {\n\t\t\t\t...initialConfig,\n\t\t\t\t'editor.tabSize': initialTabSize,\n\t\t\t\t'editor.indentSize': initialIndentSize,\n\t\t\t\t'editor.insertSpaces': tabsToSpaces\n\t\t\t});\n\t\t\tdisposable.dispose();\n\t\t});\n\t} catch {\n\t\tlogService.error('Failed to convert indentation to spaces for notebook cells.');\n\t}\n}\n\nfunction getIndentationEditOperations(model: ITextModel, tabSize: number, tabsToSpaces: boolean): ResourceTextEdit[] {\n\tif (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\n\t\t// Model is empty\n\t\treturn [];\n\t}\n\n\tlet spaces = '';\n\tfor (let i = 0; i < tabSize; i++) {\n\t\tspaces += ' ';\n\t}\n\n\tconst spacesRegExp = new RegExp(spaces, 'gi');\n\n\tconst edits: ResourceTextEdit[] = [];\n\tfor (let lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++) {\n\t\tlet lastIndentationColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n\t\tif (lastIndentationColumn === 0) {\n\t\t\tlastIndentationColumn = model.getLineMaxColumn(lineNumber);\n\t\t}\n\n\t\tif (lastIndentationColumn === 1) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst originalIndentationRange = new Range(lineNumber, 1, lineNumber, lastIndentationColumn);\n\t\tconst originalIndentation = model.getValueInRange(originalIndentationRange);\n\t\tconst newIndentation = (\n\t\t\ttabsToSpaces\n\t\t\t\t? originalIndentation.replace(/\\t/ig, spaces)\n\t\t\t\t: originalIndentation.replace(spacesRegExp, '\\t')\n\t\t);\n\t\tedits.push(new ResourceTextEdit(model.uri, { range: originalIndentationRange, text: newIndentation }));\n\t}\n\treturn edits;\n}\n\nregisterAction2(NotebookIndentUsingSpaces);\nregisterAction2(NotebookIndentUsingTabs);\nregisterAction2(NotebookChangeTabDisplaySize);\nregisterAction2(NotebookIndentationToSpacesAction);\nregisterAction2(NotebookIndentationToTabsAction);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}