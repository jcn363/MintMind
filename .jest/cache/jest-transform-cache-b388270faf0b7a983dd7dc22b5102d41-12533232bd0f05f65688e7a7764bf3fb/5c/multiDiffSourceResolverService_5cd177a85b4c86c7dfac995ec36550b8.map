{"version":3,"names":["cov_84vwduaf9","actualCoverage","BugIndicatingError","toDisposable","createDecorator","IMultiDiffSourceResolverService","s","MultiDiffEditorItem","originalUri","modifiedUri","goToFileUri","goToFileEditorTitle","contextKeys","constructor","f","b","getKey","JSON","stringify","toString","MultiDiffSourceResolverService","_serviceBrand","_resolvers","Set","registerResolver","resolver","has","add","delete","resolve","uri","canHandleUri","resolveDiffSource","Promise","undefined"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/multiDiffEditor/browser/multiDiffSourceResolverService.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { IValueWithChangeEvent } from '../../../../base/common/event.js';\nimport { IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ContextKeyValue } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\n\nexport const IMultiDiffSourceResolverService = createDecorator<IMultiDiffSourceResolverService>('multiDiffSourceResolverService');\n\nexport interface IMultiDiffSourceResolverService {\n\treadonly _serviceBrand: undefined;\n\n\tregisterResolver(resolver: IMultiDiffSourceResolver): IDisposable;\n\n\tresolve(uri: URI): Promise<IResolvedMultiDiffSource | undefined>;\n}\n\nexport interface IMultiDiffSourceResolver {\n\tcanHandleUri(uri: URI): boolean;\n\n\tresolveDiffSource(uri: URI): Promise<IResolvedMultiDiffSource>;\n}\n\nexport interface IResolvedMultiDiffSource {\n\treadonly resources: IValueWithChangeEvent<readonly MultiDiffEditorItem[]>;\n\treadonly contextKeys?: Record<string, ContextKeyValue>;\n}\n\nexport class MultiDiffEditorItem {\n\tconstructor(\n\t\treadonly originalUri: URI | undefined,\n\t\treadonly modifiedUri: URI | undefined,\n\t\treadonly goToFileUri: URI | undefined,\n\t\treadonly goToFileEditorTitle?: string | undefined,\n\t\treadonly contextKeys?: Record<string, ContextKeyValue>\n\t) {\n\t\tif (!originalUri && !modifiedUri) {\n\t\t\tthrow new BugIndicatingError('Invalid arguments');\n\t\t}\n\t}\n\n\tgetKey(): string {\n\t\treturn JSON.stringify([this.modifiedUri?.toString(), this.originalUri?.toString()]);\n\t}\n}\n\nexport class MultiDiffSourceResolverService implements IMultiDiffSourceResolverService {\n\tpublic readonly _serviceBrand: undefined;\n\n\tprivate readonly _resolvers = new Set<IMultiDiffSourceResolver>();\n\n\tregisterResolver(resolver: IMultiDiffSourceResolver): IDisposable {\n\t\t// throw on duplicate\n\t\tif (this._resolvers.has(resolver)) {\n\t\t\tthrow new BugIndicatingError('Duplicate resolver');\n\t\t}\n\t\tthis._resolvers.add(resolver);\n\t\treturn toDisposable(() => this._resolvers.delete(resolver));\n\t}\n\n\tresolve(uri: URI): Promise<IResolvedMultiDiffSource | undefined> {\n\t\tfor (const resolver of this._resolvers) {\n\t\t\tif (resolver.canHandleUri(uri)) {\n\t\t\t\treturn resolver.resolveDiffSource(uri);\n\t\t\t}\n\t\t}\n\t\treturn Promise.resolve(undefined);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}