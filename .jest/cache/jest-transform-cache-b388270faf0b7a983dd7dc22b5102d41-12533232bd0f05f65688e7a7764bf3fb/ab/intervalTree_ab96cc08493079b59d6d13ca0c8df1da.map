{"version":3,"names":["cov_13lqe27fzg","actualCoverage","getNodeColor","node","f","s","metadata","setNodeColor","color","getNodeIsVisited","setNodeIsVisited","value","b","getNodeIsForValidation","setNodeIsForValidation","getNodeIsInGlyphMargin","setNodeIsInGlyphMargin","getNodeAffectsFont","setNodeAffectsFont","getNodeStickiness","_setNodeStickiness","stickiness","getCollapseOnReplaceEdit","setCollapseOnReplaceEdit","setNodeStickiness","IntervalNode","parent","left","right","start","end","delta","maxEnd","id","ownerId","options","cachedVersionId","cachedAbsoluteStart","cachedAbsoluteEnd","range","constructor","reset","versionId","setOptions","className","glyphMarginClassName","collapseOnReplaceEdit","affectsFont","setCachedOffsets","absoluteStart","absoluteEnd","detach","SENTINEL","IntervalTree","root","requestNormalizeDelta","intervalSearch","filterOwnerId","filterOutValidation","filterFontDecorations","onlyMarginDecorations","search","collectNodesFromOwner","collectNodesPostOrder","insert","rbTreeInsert","_normalizeDeltaIfNecessary","delete","rbTreeDelete","resolveNode","initialNode","nodeStart","nodeEnd","acceptReplace","offset","length","textLength","forceMoveMarkers","nodesOfInterest","searchForEditing","i","len","noOverlapReplace","nodeAcceptEdit","getAllInOrder","normalizeDelta","T","recomputeMaxEnd","adjustMarkerBeforeColumn","markerOffset","markerStickToPreviousCharacter","checkOffset","moveSemantics","nodeStickiness","startStickToPreviousCharacter","endStickToPreviousCharacter","deletingCnt","insertingCnt","commonLength","Math","min","startDone","endDone","deltaColumn","max","nodeMaxEnd","result","resultLen","editDelta","include","intervalStart","intervalEnd","newNode","treeInsert","recomputeMaxEndWalkToRoot","x","y","leftRotate","rightRotate","z","zAbsoluteStart","zAbsoluteEnd","cmp","intervalCompare","leftest","resetSentinel","yWasRed","w","computeMaxEnd","leftMaxEnd","rightMaxEnd","aStart","aEnd","bStart","bEnd"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/intervalTree.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Range } from '../core/range.js';\nimport { TrackedRangeStickiness, TrackedRangeStickiness as ActualTrackedRangeStickiness } from '../model.js';\nimport { ModelDecorationOptions } from './textModel.js';\n\n//\n// The red-black tree is based on the \"Introduction to Algorithms\" by Cormen, Leiserson and Rivest.\n//\n\nexport const enum ClassName {\n\tEditorHintDecoration = 'squiggly-hint',\n\tEditorInfoDecoration = 'squiggly-info',\n\tEditorWarningDecoration = 'squiggly-warning',\n\tEditorErrorDecoration = 'squiggly-error',\n\tEditorUnnecessaryDecoration = 'squiggly-unnecessary',\n\tEditorUnnecessaryInlineDecoration = 'squiggly-inline-unnecessary',\n\tEditorDeprecatedInlineDecoration = 'squiggly-inline-deprecated'\n}\n\nexport const enum NodeColor {\n\tBlack = 0,\n\tRed = 1,\n}\n\nconst enum Constants {\n\tColorMask = 0b00000001,\n\tColorMaskInverse = 0b11111110,\n\tColorOffset = 0,\n\n\tIsVisitedMask = 0b00000010,\n\tIsVisitedMaskInverse = 0b11111101,\n\tIsVisitedOffset = 1,\n\n\tIsForValidationMask = 0b00000100,\n\tIsForValidationMaskInverse = 0b11111011,\n\tIsForValidationOffset = 2,\n\n\tStickinessMask = 0b00011000,\n\tStickinessMaskInverse = 0b11100111,\n\tStickinessOffset = 3,\n\n\tCollapseOnReplaceEditMask = 0b00100000,\n\tCollapseOnReplaceEditMaskInverse = 0b11011111,\n\tCollapseOnReplaceEditOffset = 5,\n\n\tIsMarginMask = 0b01000000,\n\tIsMarginMaskInverse = 0b10111111,\n\tIsMarginOffset = 6,\n\n\tAffectsFontMask = 0b10000000,\n\tAffectsFontMaskInverse = 0b01111111,\n\tAffectsFontOffset = 7,\n\n\t/**\n\t * Due to how deletion works (in order to avoid always walking the right subtree of the deleted node),\n\t * the deltas for nodes can grow and shrink dramatically. It has been observed, in practice, that unless\n\t * the deltas are corrected, integer overflow will occur.\n\t *\n\t * The integer overflow occurs when 53 bits are used in the numbers, but we will try to avoid it as\n\t * a node's delta gets below a negative 30 bits number.\n\t *\n\t * MIN SMI (SMall Integer) as defined in v8.\n\t * one bit is lost for boxing/unboxing flag.\n\t * one bit is lost for sign flag.\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\n\t */\n\tMIN_SAFE_DELTA = -(1 << 30),\n\t/**\n\t * MAX SMI (SMall Integer) as defined in v8.\n\t * one bit is lost for boxing/unboxing flag.\n\t * one bit is lost for sign flag.\n\t * See https://thibaultlaurens.github.io/javascript/2013/04/29/how-the-v8-engine-works/#tagged-values\n\t */\n\tMAX_SAFE_DELTA = 1 << 30,\n}\n\nexport function getNodeColor(node: IntervalNode): NodeColor {\n\treturn ((node.metadata & Constants.ColorMask) >>> Constants.ColorOffset);\n}\nfunction setNodeColor(node: IntervalNode, color: NodeColor): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.ColorMaskInverse) | (color << Constants.ColorOffset)\n\t);\n}\nfunction getNodeIsVisited(node: IntervalNode): boolean {\n\treturn ((node.metadata & Constants.IsVisitedMask) >>> Constants.IsVisitedOffset) === 1;\n}\nfunction setNodeIsVisited(node: IntervalNode, value: boolean): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.IsVisitedMaskInverse) | ((value ? 1 : 0) << Constants.IsVisitedOffset)\n\t);\n}\nfunction getNodeIsForValidation(node: IntervalNode): boolean {\n\treturn ((node.metadata & Constants.IsForValidationMask) >>> Constants.IsForValidationOffset) === 1;\n}\nfunction setNodeIsForValidation(node: IntervalNode, value: boolean): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.IsForValidationMaskInverse) | ((value ? 1 : 0) << Constants.IsForValidationOffset)\n\t);\n}\nfunction getNodeIsInGlyphMargin(node: IntervalNode): boolean {\n\treturn ((node.metadata & Constants.IsMarginMask) >>> Constants.IsMarginOffset) === 1;\n}\nfunction setNodeIsInGlyphMargin(node: IntervalNode, value: boolean): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.IsMarginMaskInverse) | ((value ? 1 : 0) << Constants.IsMarginOffset)\n\t);\n}\nfunction getNodeAffectsFont(node: IntervalNode): boolean {\n\treturn ((node.metadata & Constants.AffectsFontMask) >>> Constants.AffectsFontOffset) === 1;\n}\nfunction setNodeAffectsFont(node: IntervalNode, value: boolean): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.AffectsFontMaskInverse) | ((value ? 1 : 0) << Constants.AffectsFontOffset)\n\t);\n}\nfunction getNodeStickiness(node: IntervalNode): TrackedRangeStickiness {\n\treturn ((node.metadata & Constants.StickinessMask) >>> Constants.StickinessOffset);\n}\nfunction _setNodeStickiness(node: IntervalNode, stickiness: TrackedRangeStickiness): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.StickinessMaskInverse) | (stickiness << Constants.StickinessOffset)\n\t);\n}\nfunction getCollapseOnReplaceEdit(node: IntervalNode): boolean {\n\treturn ((node.metadata & Constants.CollapseOnReplaceEditMask) >>> Constants.CollapseOnReplaceEditOffset) === 1;\n}\nfunction setCollapseOnReplaceEdit(node: IntervalNode, value: boolean): void {\n\tnode.metadata = (\n\t\t(node.metadata & Constants.CollapseOnReplaceEditMaskInverse) | ((value ? 1 : 0) << Constants.CollapseOnReplaceEditOffset)\n\t);\n}\nexport function setNodeStickiness(node: IntervalNode, stickiness: ActualTrackedRangeStickiness): void {\n\t_setNodeStickiness(node, <number>stickiness);\n}\n\nexport class IntervalNode {\n\n\t/**\n\t * contains binary encoded information for color, visited, isForValidation and stickiness.\n\t */\n\tpublic metadata: number;\n\n\tpublic parent: IntervalNode;\n\tpublic left: IntervalNode;\n\tpublic right: IntervalNode;\n\n\tpublic start: number;\n\tpublic end: number;\n\tpublic delta: number;\n\tpublic maxEnd: number;\n\n\tpublic id: string;\n\tpublic ownerId: number;\n\tpublic options: ModelDecorationOptions;\n\n\tpublic cachedVersionId: number;\n\tpublic cachedAbsoluteStart: number;\n\tpublic cachedAbsoluteEnd: number;\n\tpublic range: Range | null;\n\n\tconstructor(id: string, start: number, end: number) {\n\t\tthis.metadata = 0;\n\n\t\tthis.parent = this;\n\t\tthis.left = this;\n\t\tthis.right = this;\n\t\tsetNodeColor(this, NodeColor.Red);\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\t// FORCE_OVERFLOWING_TEST: this.delta = start;\n\t\tthis.delta = 0;\n\t\tthis.maxEnd = end;\n\n\t\tthis.id = id;\n\t\tthis.ownerId = 0;\n\t\tthis.options = null!;\n\t\tsetNodeIsForValidation(this, false);\n\t\tsetNodeIsInGlyphMargin(this, false);\n\t\t_setNodeStickiness(this, TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges);\n\t\tsetCollapseOnReplaceEdit(this, false);\n\t\tsetNodeAffectsFont(this, false);\n\n\t\tthis.cachedVersionId = 0;\n\t\tthis.cachedAbsoluteStart = start;\n\t\tthis.cachedAbsoluteEnd = end;\n\t\tthis.range = null;\n\n\t\tsetNodeIsVisited(this, false);\n\t}\n\n\tpublic reset(versionId: number, start: number, end: number, range: Range): void {\n\t\tthis.start = start;\n\t\tthis.end = end;\n\t\tthis.maxEnd = end;\n\t\tthis.cachedVersionId = versionId;\n\t\tthis.cachedAbsoluteStart = start;\n\t\tthis.cachedAbsoluteEnd = end;\n\t\tthis.range = range;\n\t}\n\n\tpublic setOptions(options: ModelDecorationOptions) {\n\t\tthis.options = options;\n\t\tconst className = this.options.className;\n\t\tsetNodeIsForValidation(this, (\n\t\t\tclassName === ClassName.EditorErrorDecoration\n\t\t\t|| className === ClassName.EditorWarningDecoration\n\t\t\t|| className === ClassName.EditorInfoDecoration\n\t\t));\n\t\tsetNodeIsInGlyphMargin(this, this.options.glyphMarginClassName !== null);\n\t\t_setNodeStickiness(this, <number>this.options.stickiness);\n\t\tsetCollapseOnReplaceEdit(this, this.options.collapseOnReplaceEdit);\n\t\tsetNodeAffectsFont(this, this.options.affectsFont ?? false);\n\t}\n\n\tpublic setCachedOffsets(absoluteStart: number, absoluteEnd: number, cachedVersionId: number): void {\n\t\tif (this.cachedVersionId !== cachedVersionId) {\n\t\t\tthis.range = null;\n\t\t}\n\t\tthis.cachedVersionId = cachedVersionId;\n\t\tthis.cachedAbsoluteStart = absoluteStart;\n\t\tthis.cachedAbsoluteEnd = absoluteEnd;\n\t}\n\n\tpublic detach(): void {\n\t\tthis.parent = null!;\n\t\tthis.left = null!;\n\t\tthis.right = null!;\n\t}\n}\n\nexport const SENTINEL: IntervalNode = new IntervalNode(null!, 0, 0);\nSENTINEL.parent = SENTINEL;\nSENTINEL.left = SENTINEL;\nSENTINEL.right = SENTINEL;\nsetNodeColor(SENTINEL, NodeColor.Black);\n\nexport class IntervalTree {\n\n\tpublic root: IntervalNode;\n\tpublic requestNormalizeDelta: boolean;\n\n\tconstructor() {\n\t\tthis.root = SENTINEL;\n\t\tthis.requestNormalizeDelta = false;\n\t}\n\n\tpublic intervalSearch(start: number, end: number, filterOwnerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, cachedVersionId: number, onlyMarginDecorations: boolean): IntervalNode[] {\n\t\tif (this.root === SENTINEL) {\n\t\t\treturn [];\n\t\t}\n\t\treturn intervalSearch(this, start, end, filterOwnerId, filterOutValidation, filterFontDecorations, cachedVersionId, onlyMarginDecorations);\n\t}\n\n\tpublic search(filterOwnerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, cachedVersionId: number, onlyMarginDecorations: boolean): IntervalNode[] {\n\t\tif (this.root === SENTINEL) {\n\t\t\treturn [];\n\t\t}\n\t\treturn search(this, filterOwnerId, filterOutValidation, filterFontDecorations, cachedVersionId, onlyMarginDecorations);\n\t}\n\n\t/**\n\t * Will not set `cachedAbsoluteStart` nor `cachedAbsoluteEnd` on the returned nodes!\n\t */\n\tpublic collectNodesFromOwner(ownerId: number): IntervalNode[] {\n\t\treturn collectNodesFromOwner(this, ownerId);\n\t}\n\n\t/**\n\t * Will not set `cachedAbsoluteStart` nor `cachedAbsoluteEnd` on the returned nodes!\n\t */\n\tpublic collectNodesPostOrder(): IntervalNode[] {\n\t\treturn collectNodesPostOrder(this);\n\t}\n\n\tpublic insert(node: IntervalNode): void {\n\t\trbTreeInsert(this, node);\n\t\tthis._normalizeDeltaIfNecessary();\n\t}\n\n\tpublic delete(node: IntervalNode): void {\n\t\trbTreeDelete(this, node);\n\t\tthis._normalizeDeltaIfNecessary();\n\t}\n\n\tpublic resolveNode(node: IntervalNode, cachedVersionId: number): void {\n\t\tconst initialNode = node;\n\t\tlet delta = 0;\n\t\twhile (node !== this.root) {\n\t\t\tif (node === node.parent.right) {\n\t\t\t\tdelta += node.parent.delta;\n\t\t\t}\n\t\t\tnode = node.parent;\n\t\t}\n\n\t\tconst nodeStart = initialNode.start + delta;\n\t\tconst nodeEnd = initialNode.end + delta;\n\t\tinitialNode.setCachedOffsets(nodeStart, nodeEnd, cachedVersionId);\n\t}\n\n\tpublic acceptReplace(offset: number, length: number, textLength: number, forceMoveMarkers: boolean): void {\n\t\t// Our strategy is to remove all directly impacted nodes, and then add them back to the tree.\n\n\t\t// (1) collect all nodes that are intersecting this edit as nodes of interest\n\t\tconst nodesOfInterest = searchForEditing(this, offset, offset + length);\n\n\t\t// (2) remove all nodes that are intersecting this edit\n\t\tfor (let i = 0, len = nodesOfInterest.length; i < len; i++) {\n\t\t\tconst node = nodesOfInterest[i];\n\t\t\trbTreeDelete(this, node);\n\t\t}\n\t\tthis._normalizeDeltaIfNecessary();\n\n\t\t// (3) edit all tree nodes except the nodes of interest\n\t\tnoOverlapReplace(this, offset, offset + length, textLength);\n\t\tthis._normalizeDeltaIfNecessary();\n\n\t\t// (4) edit the nodes of interest and insert them back in the tree\n\t\tfor (let i = 0, len = nodesOfInterest.length; i < len; i++) {\n\t\t\tconst node = nodesOfInterest[i];\n\t\t\tnode.start = node.cachedAbsoluteStart;\n\t\t\tnode.end = node.cachedAbsoluteEnd;\n\t\t\tnodeAcceptEdit(node, offset, (offset + length), textLength, forceMoveMarkers);\n\t\t\tnode.maxEnd = node.end;\n\t\t\trbTreeInsert(this, node);\n\t\t}\n\t\tthis._normalizeDeltaIfNecessary();\n\t}\n\n\tpublic getAllInOrder(): IntervalNode[] {\n\t\treturn search(this, 0, false, false, 0, false);\n\t}\n\n\tprivate _normalizeDeltaIfNecessary(): void {\n\t\tif (!this.requestNormalizeDelta) {\n\t\t\treturn;\n\t\t}\n\t\tthis.requestNormalizeDelta = false;\n\t\tnormalizeDelta(this);\n\t}\n}\n\n//#region Delta Normalization\nfunction normalizeDelta(T: IntervalTree): void {\n\tlet node = T.root;\n\tlet delta = 0;\n\twhile (node !== SENTINEL) {\n\n\t\tif (node.left !== SENTINEL && !getNodeIsVisited(node.left)) {\n\t\t\t// go left\n\t\t\tnode = node.left;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tdelta += node.delta;\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// handle current node\n\t\tnode.start = delta + node.start;\n\t\tnode.end = delta + node.end;\n\t\tnode.delta = 0;\n\t\trecomputeMaxEnd(node);\n\n\t\tsetNodeIsVisited(node, true);\n\n\t\t// going up from this node\n\t\tsetNodeIsVisited(node.left, false);\n\t\tsetNodeIsVisited(node.right, false);\n\t\tif (node === node.parent.right) {\n\t\t\tdelta -= node.parent.delta;\n\t\t}\n\t\tnode = node.parent;\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n}\n//#endregion\n\n//#region Editing\n\nconst enum MarkerMoveSemantics {\n\tMarkerDefined = 0,\n\tForceMove = 1,\n\tForceStay = 2\n}\n\nfunction adjustMarkerBeforeColumn(markerOffset: number, markerStickToPreviousCharacter: boolean, checkOffset: number, moveSemantics: MarkerMoveSemantics): boolean {\n\tif (markerOffset < checkOffset) {\n\t\treturn true;\n\t}\n\tif (markerOffset > checkOffset) {\n\t\treturn false;\n\t}\n\tif (moveSemantics === MarkerMoveSemantics.ForceMove) {\n\t\treturn false;\n\t}\n\tif (moveSemantics === MarkerMoveSemantics.ForceStay) {\n\t\treturn true;\n\t}\n\treturn markerStickToPreviousCharacter;\n}\n\n/**\n * This is a lot more complicated than strictly necessary to maintain the same behaviour\n * as when decorations were implemented using two markers.\n */\nexport function nodeAcceptEdit(node: IntervalNode, start: number, end: number, textLength: number, forceMoveMarkers: boolean): void {\n\tconst nodeStickiness = getNodeStickiness(node);\n\tconst startStickToPreviousCharacter = (\n\t\tnodeStickiness === TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges\n\t\t|| nodeStickiness === TrackedRangeStickiness.GrowsOnlyWhenTypingBefore\n\t);\n\tconst endStickToPreviousCharacter = (\n\t\tnodeStickiness === TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n\t\t|| nodeStickiness === TrackedRangeStickiness.GrowsOnlyWhenTypingBefore\n\t);\n\n\tconst deletingCnt = (end - start);\n\tconst insertingCnt = textLength;\n\tconst commonLength = Math.min(deletingCnt, insertingCnt);\n\n\tconst nodeStart = node.start;\n\tlet startDone = false;\n\n\tconst nodeEnd = node.end;\n\tlet endDone = false;\n\n\tif (start <= nodeStart && nodeEnd <= end && getCollapseOnReplaceEdit(node)) {\n\t\t// This edit encompasses the entire decoration range\n\t\t// and the decoration has asked to become collapsed\n\t\tnode.start = start;\n\t\tstartDone = true;\n\t\tnode.end = start;\n\t\tendDone = true;\n\t}\n\n\t{\n\t\tconst moveSemantics = forceMoveMarkers ? MarkerMoveSemantics.ForceMove : (deletingCnt > 0 ? MarkerMoveSemantics.ForceStay : MarkerMoveSemantics.MarkerDefined);\n\t\tif (!startDone && adjustMarkerBeforeColumn(nodeStart, startStickToPreviousCharacter, start, moveSemantics)) {\n\t\t\tstartDone = true;\n\t\t}\n\t\tif (!endDone && adjustMarkerBeforeColumn(nodeEnd, endStickToPreviousCharacter, start, moveSemantics)) {\n\t\t\tendDone = true;\n\t\t}\n\t}\n\n\tif (commonLength > 0 && !forceMoveMarkers) {\n\t\tconst moveSemantics = (deletingCnt > insertingCnt ? MarkerMoveSemantics.ForceStay : MarkerMoveSemantics.MarkerDefined);\n\t\tif (!startDone && adjustMarkerBeforeColumn(nodeStart, startStickToPreviousCharacter, start + commonLength, moveSemantics)) {\n\t\t\tstartDone = true;\n\t\t}\n\t\tif (!endDone && adjustMarkerBeforeColumn(nodeEnd, endStickToPreviousCharacter, start + commonLength, moveSemantics)) {\n\t\t\tendDone = true;\n\t\t}\n\t}\n\n\t{\n\t\tconst moveSemantics = forceMoveMarkers ? MarkerMoveSemantics.ForceMove : MarkerMoveSemantics.MarkerDefined;\n\t\tif (!startDone && adjustMarkerBeforeColumn(nodeStart, startStickToPreviousCharacter, end, moveSemantics)) {\n\t\t\tnode.start = start + insertingCnt;\n\t\t\tstartDone = true;\n\t\t}\n\t\tif (!endDone && adjustMarkerBeforeColumn(nodeEnd, endStickToPreviousCharacter, end, moveSemantics)) {\n\t\t\tnode.end = start + insertingCnt;\n\t\t\tendDone = true;\n\t\t}\n\t}\n\n\t// Finish\n\tconst deltaColumn = (insertingCnt - deletingCnt);\n\tif (!startDone) {\n\t\tnode.start = Math.max(0, nodeStart + deltaColumn);\n\t}\n\tif (!endDone) {\n\t\tnode.end = Math.max(0, nodeEnd + deltaColumn);\n\t}\n\n\tif (node.start > node.end) {\n\t\tnode.end = node.start;\n\t}\n}\n\nfunction searchForEditing(T: IntervalTree, start: number, end: number): IntervalNode[] {\n\t// https://en.wikipedia.org/wiki/Interval_tree#Augmented_tree\n\t// Now, it is known that two intervals A and B overlap only when both\n\t// A.low <= B.high and A.high >= B.low. When searching the trees for\n\t// nodes overlapping with a given interval, you can immediately skip:\n\t//  a) all nodes to the right of nodes whose low value is past the end of the given interval.\n\t//  b) all nodes that have their maximum 'high' value below the start of the given interval.\n\tlet node = T.root;\n\tlet delta = 0;\n\tlet nodeMaxEnd = 0;\n\tlet nodeStart = 0;\n\tlet nodeEnd = 0;\n\tconst result: IntervalNode[] = [];\n\tlet resultLen = 0;\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tif (node === node.parent.right) {\n\t\t\t\tdelta -= node.parent.delta;\n\t\t\t}\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!getNodeIsVisited(node.left)) {\n\t\t\t// first time seeing this node\n\t\t\tnodeMaxEnd = delta + node.maxEnd;\n\t\t\tif (nodeMaxEnd < start) {\n\t\t\t\t// cover case b) from above\n\t\t\t\t// there is no need to search this node or its children\n\t\t\t\tsetNodeIsVisited(node, true);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (node.left !== SENTINEL) {\n\t\t\t\t// go left\n\t\t\t\tnode = node.left;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// handle current node\n\t\tnodeStart = delta + node.start;\n\t\tif (nodeStart > end) {\n\t\t\t// cover case a) from above\n\t\t\t// there is no need to search this node or its right subtree\n\t\t\tsetNodeIsVisited(node, true);\n\t\t\tcontinue;\n\t\t}\n\n\t\tnodeEnd = delta + node.end;\n\t\tif (nodeEnd >= start) {\n\t\t\tnode.setCachedOffsets(nodeStart, nodeEnd, 0);\n\t\t\tresult[resultLen++] = node;\n\t\t}\n\t\tsetNodeIsVisited(node, true);\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tdelta += node.delta;\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n\n\treturn result;\n}\n\nfunction noOverlapReplace(T: IntervalTree, start: number, end: number, textLength: number): void {\n\t// https://en.wikipedia.org/wiki/Interval_tree#Augmented_tree\n\t// Now, it is known that two intervals A and B overlap only when both\n\t// A.low <= B.high and A.high >= B.low. When searching the trees for\n\t// nodes overlapping with a given interval, you can immediately skip:\n\t//  a) all nodes to the right of nodes whose low value is past the end of the given interval.\n\t//  b) all nodes that have their maximum 'high' value below the start of the given interval.\n\tlet node = T.root;\n\tlet delta = 0;\n\tlet nodeMaxEnd = 0;\n\tlet nodeStart = 0;\n\tconst editDelta = (textLength - (end - start));\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tif (node === node.parent.right) {\n\t\t\t\tdelta -= node.parent.delta;\n\t\t\t}\n\t\t\trecomputeMaxEnd(node);\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!getNodeIsVisited(node.left)) {\n\t\t\t// first time seeing this node\n\t\t\tnodeMaxEnd = delta + node.maxEnd;\n\t\t\tif (nodeMaxEnd < start) {\n\t\t\t\t// cover case b) from above\n\t\t\t\t// there is no need to search this node or its children\n\t\t\t\tsetNodeIsVisited(node, true);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (node.left !== SENTINEL) {\n\t\t\t\t// go left\n\t\t\t\tnode = node.left;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// handle current node\n\t\tnodeStart = delta + node.start;\n\t\tif (nodeStart > end) {\n\t\t\tnode.start += editDelta;\n\t\t\tnode.end += editDelta;\n\t\t\tnode.delta += editDelta;\n\t\t\tif (node.delta < Constants.MIN_SAFE_DELTA || node.delta > Constants.MAX_SAFE_DELTA) {\n\t\t\t\tT.requestNormalizeDelta = true;\n\t\t\t}\n\t\t\t// cover case a) from above\n\t\t\t// there is no need to search this node or its right subtree\n\t\t\tsetNodeIsVisited(node, true);\n\t\t\tcontinue;\n\t\t}\n\n\t\tsetNodeIsVisited(node, true);\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tdelta += node.delta;\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n}\n\n//#endregion\n\n//#region Searching\n\nfunction collectNodesFromOwner(T: IntervalTree, ownerId: number): IntervalNode[] {\n\tlet node = T.root;\n\tconst result: IntervalNode[] = [];\n\tlet resultLen = 0;\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (node.left !== SENTINEL && !getNodeIsVisited(node.left)) {\n\t\t\t// go left\n\t\t\tnode = node.left;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// handle current node\n\t\tif (node.ownerId === ownerId) {\n\t\t\tresult[resultLen++] = node;\n\t\t}\n\n\t\tsetNodeIsVisited(node, true);\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n\n\treturn result;\n}\n\nfunction collectNodesPostOrder(T: IntervalTree): IntervalNode[] {\n\tlet node = T.root;\n\tconst result: IntervalNode[] = [];\n\tlet resultLen = 0;\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (node.left !== SENTINEL && !getNodeIsVisited(node.left)) {\n\t\t\t// go left\n\t\t\tnode = node.left;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// handle current node\n\t\tresult[resultLen++] = node;\n\t\tsetNodeIsVisited(node, true);\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n\n\treturn result;\n}\n\nfunction search(T: IntervalTree, filterOwnerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, cachedVersionId: number, onlyMarginDecorations: boolean): IntervalNode[] {\n\tlet node = T.root;\n\tlet delta = 0;\n\tlet nodeStart = 0;\n\tlet nodeEnd = 0;\n\tconst result: IntervalNode[] = [];\n\tlet resultLen = 0;\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tif (node === node.parent.right) {\n\t\t\t\tdelta -= node.parent.delta;\n\t\t\t}\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (node.left !== SENTINEL && !getNodeIsVisited(node.left)) {\n\t\t\t// go left\n\t\t\tnode = node.left;\n\t\t\tcontinue;\n\t\t}\n\n\t\t// handle current node\n\t\tnodeStart = delta + node.start;\n\t\tnodeEnd = delta + node.end;\n\n\t\tnode.setCachedOffsets(nodeStart, nodeEnd, cachedVersionId);\n\n\t\tlet include = true;\n\t\tif (filterOwnerId && node.ownerId && node.ownerId !== filterOwnerId) {\n\t\t\tinclude = false;\n\t\t}\n\t\tif (filterOutValidation && getNodeIsForValidation(node)) {\n\t\t\tinclude = false;\n\t\t}\n\t\tif (filterFontDecorations && getNodeAffectsFont(node)) {\n\t\t\tinclude = false;\n\t\t}\n\t\tif (onlyMarginDecorations && !getNodeIsInGlyphMargin(node)) {\n\t\t\tinclude = false;\n\t\t}\n\n\t\tif (include) {\n\t\t\tresult[resultLen++] = node;\n\t\t}\n\n\t\tsetNodeIsVisited(node, true);\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tdelta += node.delta;\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n\n\treturn result;\n}\n\nfunction intervalSearch(T: IntervalTree, intervalStart: number, intervalEnd: number, filterOwnerId: number, filterOutValidation: boolean, filterFontDecorations: boolean, cachedVersionId: number, onlyMarginDecorations: boolean): IntervalNode[] {\n\t// https://en.wikipedia.org/wiki/Interval_tree#Augmented_tree\n\t// Now, it is known that two intervals A and B overlap only when both\n\t// A.low <= B.high and A.high >= B.low. When searching the trees for\n\t// nodes overlapping with a given interval, you can immediately skip:\n\t//  a) all nodes to the right of nodes whose low value is past the end of the given interval.\n\t//  b) all nodes that have their maximum 'high' value below the start of the given interval.\n\n\tlet node = T.root;\n\tlet delta = 0;\n\tlet nodeMaxEnd = 0;\n\tlet nodeStart = 0;\n\tlet nodeEnd = 0;\n\tconst result: IntervalNode[] = [];\n\tlet resultLen = 0;\n\twhile (node !== SENTINEL) {\n\t\tif (getNodeIsVisited(node)) {\n\t\t\t// going up from this node\n\t\t\tsetNodeIsVisited(node.left, false);\n\t\t\tsetNodeIsVisited(node.right, false);\n\t\t\tif (node === node.parent.right) {\n\t\t\t\tdelta -= node.parent.delta;\n\t\t\t}\n\t\t\tnode = node.parent;\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!getNodeIsVisited(node.left)) {\n\t\t\t// first time seeing this node\n\t\t\tnodeMaxEnd = delta + node.maxEnd;\n\t\t\tif (nodeMaxEnd < intervalStart) {\n\t\t\t\t// cover case b) from above\n\t\t\t\t// there is no need to search this node or its children\n\t\t\t\tsetNodeIsVisited(node, true);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (node.left !== SENTINEL) {\n\t\t\t\t// go left\n\t\t\t\tnode = node.left;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// handle current node\n\t\tnodeStart = delta + node.start;\n\t\tif (nodeStart > intervalEnd) {\n\t\t\t// cover case a) from above\n\t\t\t// there is no need to search this node or its right subtree\n\t\t\tsetNodeIsVisited(node, true);\n\t\t\tcontinue;\n\t\t}\n\n\t\tnodeEnd = delta + node.end;\n\n\t\tif (nodeEnd >= intervalStart) {\n\t\t\t// There is overlap\n\t\t\tnode.setCachedOffsets(nodeStart, nodeEnd, cachedVersionId);\n\n\t\t\tlet include = true;\n\t\t\tif (filterOwnerId && node.ownerId && node.ownerId !== filterOwnerId) {\n\t\t\t\tinclude = false;\n\t\t\t}\n\t\t\tif (filterOutValidation && getNodeIsForValidation(node)) {\n\t\t\t\tinclude = false;\n\t\t\t}\n\t\t\tif (filterFontDecorations && getNodeAffectsFont(node)) {\n\t\t\t\tinclude = false;\n\t\t\t}\n\t\t\tif (onlyMarginDecorations && !getNodeIsInGlyphMargin(node)) {\n\t\t\t\tinclude = false;\n\t\t\t}\n\n\t\t\tif (include) {\n\t\t\t\tresult[resultLen++] = node;\n\t\t\t}\n\t\t}\n\n\t\tsetNodeIsVisited(node, true);\n\n\t\tif (node.right !== SENTINEL && !getNodeIsVisited(node.right)) {\n\t\t\t// go right\n\t\t\tdelta += node.delta;\n\t\t\tnode = node.right;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tsetNodeIsVisited(T.root, false);\n\n\treturn result;\n}\n\n//#endregion\n\n//#region Insertion\nfunction rbTreeInsert(T: IntervalTree, newNode: IntervalNode): IntervalNode {\n\tif (T.root === SENTINEL) {\n\t\tnewNode.parent = SENTINEL;\n\t\tnewNode.left = SENTINEL;\n\t\tnewNode.right = SENTINEL;\n\t\tsetNodeColor(newNode, NodeColor.Black);\n\t\tT.root = newNode;\n\t\treturn T.root;\n\t}\n\n\ttreeInsert(T, newNode);\n\n\trecomputeMaxEndWalkToRoot(newNode.parent);\n\n\t// repair tree\n\tlet x = newNode;\n\twhile (x !== T.root && getNodeColor(x.parent) === NodeColor.Red) {\n\t\tif (x.parent === x.parent.parent.left) {\n\t\t\tconst y = x.parent.parent.right;\n\n\t\t\tif (getNodeColor(y) === NodeColor.Red) {\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(y, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent.parent, NodeColor.Red);\n\t\t\t\tx = x.parent.parent;\n\t\t\t} else {\n\t\t\t\tif (x === x.parent.right) {\n\t\t\t\t\tx = x.parent;\n\t\t\t\t\tleftRotate(T, x);\n\t\t\t\t}\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent.parent, NodeColor.Red);\n\t\t\t\trightRotate(T, x.parent.parent);\n\t\t\t}\n\t\t} else {\n\t\t\tconst y = x.parent.parent.left;\n\n\t\t\tif (getNodeColor(y) === NodeColor.Red) {\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(y, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent.parent, NodeColor.Red);\n\t\t\t\tx = x.parent.parent;\n\t\t\t} else {\n\t\t\t\tif (x === x.parent.left) {\n\t\t\t\t\tx = x.parent;\n\t\t\t\t\trightRotate(T, x);\n\t\t\t\t}\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent.parent, NodeColor.Red);\n\t\t\t\tleftRotate(T, x.parent.parent);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetNodeColor(T.root, NodeColor.Black);\n\n\treturn newNode;\n}\n\nfunction treeInsert(T: IntervalTree, z: IntervalNode): void {\n\tlet delta: number = 0;\n\tlet x = T.root;\n\tconst zAbsoluteStart = z.start;\n\tconst zAbsoluteEnd = z.end;\n\twhile (true) {\n\t\tconst cmp = intervalCompare(zAbsoluteStart, zAbsoluteEnd, x.start + delta, x.end + delta);\n\t\tif (cmp < 0) {\n\t\t\t// this node should be inserted to the left\n\t\t\t// => it is not affected by the node's delta\n\t\t\tif (x.left === SENTINEL) {\n\t\t\t\tz.start -= delta;\n\t\t\t\tz.end -= delta;\n\t\t\t\tz.maxEnd -= delta;\n\t\t\t\tx.left = z;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tx = x.left;\n\t\t\t}\n\t\t} else {\n\t\t\t// this node should be inserted to the right\n\t\t\t// => it is not affected by the node's delta\n\t\t\tif (x.right === SENTINEL) {\n\t\t\t\tz.start -= (delta + x.delta);\n\t\t\t\tz.end -= (delta + x.delta);\n\t\t\t\tz.maxEnd -= (delta + x.delta);\n\t\t\t\tx.right = z;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tdelta += x.delta;\n\t\t\t\tx = x.right;\n\t\t\t}\n\t\t}\n\t}\n\n\tz.parent = x;\n\tz.left = SENTINEL;\n\tz.right = SENTINEL;\n\tsetNodeColor(z, NodeColor.Red);\n}\n//#endregion\n\n//#region Deletion\nfunction rbTreeDelete(T: IntervalTree, z: IntervalNode): void {\n\n\tlet x: IntervalNode;\n\tlet y: IntervalNode;\n\n\t// RB-DELETE except we don't swap z and y in case c)\n\t// i.e. we always delete what's pointed at by z.\n\n\tif (z.left === SENTINEL) {\n\t\tx = z.right;\n\t\ty = z;\n\n\t\t// x's delta is no longer influenced by z's delta\n\t\tx.delta += z.delta;\n\t\tif (x.delta < Constants.MIN_SAFE_DELTA || x.delta > Constants.MAX_SAFE_DELTA) {\n\t\t\tT.requestNormalizeDelta = true;\n\t\t}\n\t\tx.start += z.delta;\n\t\tx.end += z.delta;\n\n\t} else if (z.right === SENTINEL) {\n\t\tx = z.left;\n\t\ty = z;\n\n\t} else {\n\t\ty = leftest(z.right);\n\t\tx = y.right;\n\n\t\t// y's delta is no longer influenced by z's delta,\n\t\t// but we don't want to walk the entire right-hand-side subtree of x.\n\t\t// we therefore maintain z's delta in y, and adjust only x\n\t\tx.start += y.delta;\n\t\tx.end += y.delta;\n\t\tx.delta += y.delta;\n\t\tif (x.delta < Constants.MIN_SAFE_DELTA || x.delta > Constants.MAX_SAFE_DELTA) {\n\t\t\tT.requestNormalizeDelta = true;\n\t\t}\n\n\t\ty.start += z.delta;\n\t\ty.end += z.delta;\n\t\ty.delta = z.delta;\n\t\tif (y.delta < Constants.MIN_SAFE_DELTA || y.delta > Constants.MAX_SAFE_DELTA) {\n\t\t\tT.requestNormalizeDelta = true;\n\t\t}\n\t}\n\n\tif (y === T.root) {\n\t\tT.root = x;\n\t\tsetNodeColor(x, NodeColor.Black);\n\n\t\tz.detach();\n\t\tresetSentinel();\n\t\trecomputeMaxEnd(x);\n\t\tT.root.parent = SENTINEL;\n\t\treturn;\n\t}\n\n\tconst yWasRed = (getNodeColor(y) === NodeColor.Red);\n\n\tif (y === y.parent.left) {\n\t\ty.parent.left = x;\n\t} else {\n\t\ty.parent.right = x;\n\t}\n\n\tif (y === z) {\n\t\tx.parent = y.parent;\n\t} else {\n\n\t\tif (y.parent === z) {\n\t\t\tx.parent = y;\n\t\t} else {\n\t\t\tx.parent = y.parent;\n\t\t}\n\n\t\ty.left = z.left;\n\t\ty.right = z.right;\n\t\ty.parent = z.parent;\n\t\tsetNodeColor(y, getNodeColor(z));\n\n\t\tif (z === T.root) {\n\t\t\tT.root = y;\n\t\t} else {\n\t\t\tif (z === z.parent.left) {\n\t\t\t\tz.parent.left = y;\n\t\t\t} else {\n\t\t\t\tz.parent.right = y;\n\t\t\t}\n\t\t}\n\n\t\tif (y.left !== SENTINEL) {\n\t\t\ty.left.parent = y;\n\t\t}\n\t\tif (y.right !== SENTINEL) {\n\t\t\ty.right.parent = y;\n\t\t}\n\t}\n\n\tz.detach();\n\n\tif (yWasRed) {\n\t\trecomputeMaxEndWalkToRoot(x.parent);\n\t\tif (y !== z) {\n\t\t\trecomputeMaxEndWalkToRoot(y);\n\t\t\trecomputeMaxEndWalkToRoot(y.parent);\n\t\t}\n\t\tresetSentinel();\n\t\treturn;\n\t}\n\n\trecomputeMaxEndWalkToRoot(x);\n\trecomputeMaxEndWalkToRoot(x.parent);\n\tif (y !== z) {\n\t\trecomputeMaxEndWalkToRoot(y);\n\t\trecomputeMaxEndWalkToRoot(y.parent);\n\t}\n\n\t// RB-DELETE-FIXUP\n\tlet w: IntervalNode;\n\twhile (x !== T.root && getNodeColor(x) === NodeColor.Black) {\n\n\t\tif (x === x.parent.left) {\n\t\t\tw = x.parent.right;\n\n\t\t\tif (getNodeColor(w) === NodeColor.Red) {\n\t\t\t\tsetNodeColor(w, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Red);\n\t\t\t\tleftRotate(T, x.parent);\n\t\t\t\tw = x.parent.right;\n\t\t\t}\n\n\t\t\tif (getNodeColor(w.left) === NodeColor.Black && getNodeColor(w.right) === NodeColor.Black) {\n\t\t\t\tsetNodeColor(w, NodeColor.Red);\n\t\t\t\tx = x.parent;\n\t\t\t} else {\n\t\t\t\tif (getNodeColor(w.right) === NodeColor.Black) {\n\t\t\t\t\tsetNodeColor(w.left, NodeColor.Black);\n\t\t\t\t\tsetNodeColor(w, NodeColor.Red);\n\t\t\t\t\trightRotate(T, w);\n\t\t\t\t\tw = x.parent.right;\n\t\t\t\t}\n\n\t\t\t\tsetNodeColor(w, getNodeColor(x.parent));\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(w.right, NodeColor.Black);\n\t\t\t\tleftRotate(T, x.parent);\n\t\t\t\tx = T.root;\n\t\t\t}\n\n\t\t} else {\n\t\t\tw = x.parent.left;\n\n\t\t\tif (getNodeColor(w) === NodeColor.Red) {\n\t\t\t\tsetNodeColor(w, NodeColor.Black);\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Red);\n\t\t\t\trightRotate(T, x.parent);\n\t\t\t\tw = x.parent.left;\n\t\t\t}\n\n\t\t\tif (getNodeColor(w.left) === NodeColor.Black && getNodeColor(w.right) === NodeColor.Black) {\n\t\t\t\tsetNodeColor(w, NodeColor.Red);\n\t\t\t\tx = x.parent;\n\n\t\t\t} else {\n\t\t\t\tif (getNodeColor(w.left) === NodeColor.Black) {\n\t\t\t\t\tsetNodeColor(w.right, NodeColor.Black);\n\t\t\t\t\tsetNodeColor(w, NodeColor.Red);\n\t\t\t\t\tleftRotate(T, w);\n\t\t\t\t\tw = x.parent.left;\n\t\t\t\t}\n\n\t\t\t\tsetNodeColor(w, getNodeColor(x.parent));\n\t\t\t\tsetNodeColor(x.parent, NodeColor.Black);\n\t\t\t\tsetNodeColor(w.left, NodeColor.Black);\n\t\t\t\trightRotate(T, x.parent);\n\t\t\t\tx = T.root;\n\t\t\t}\n\t\t}\n\t}\n\n\tsetNodeColor(x, NodeColor.Black);\n\tresetSentinel();\n}\n\nfunction leftest(node: IntervalNode): IntervalNode {\n\twhile (node.left !== SENTINEL) {\n\t\tnode = node.left;\n\t}\n\treturn node;\n}\n\nfunction resetSentinel(): void {\n\tSENTINEL.parent = SENTINEL;\n\tSENTINEL.delta = 0; // optional\n\tSENTINEL.start = 0; // optional\n\tSENTINEL.end = 0; // optional\n}\n//#endregion\n\n//#region Rotations\nfunction leftRotate(T: IntervalTree, x: IntervalNode): void {\n\tconst y = x.right;\t\t\t\t// set y.\n\n\ty.delta += x.delta;\t\t\t\t// y's delta is no longer influenced by x's delta\n\tif (y.delta < Constants.MIN_SAFE_DELTA || y.delta > Constants.MAX_SAFE_DELTA) {\n\t\tT.requestNormalizeDelta = true;\n\t}\n\ty.start += x.delta;\n\ty.end += x.delta;\n\n\tx.right = y.left;\t\t\t\t// turn y's left subtree into x's right subtree.\n\tif (y.left !== SENTINEL) {\n\t\ty.left.parent = x;\n\t}\n\ty.parent = x.parent;\t\t\t// link x's parent to y.\n\tif (x.parent === SENTINEL) {\n\t\tT.root = y;\n\t} else if (x === x.parent.left) {\n\t\tx.parent.left = y;\n\t} else {\n\t\tx.parent.right = y;\n\t}\n\n\ty.left = x;\t\t\t\t\t\t// put x on y's left.\n\tx.parent = y;\n\n\trecomputeMaxEnd(x);\n\trecomputeMaxEnd(y);\n}\n\nfunction rightRotate(T: IntervalTree, y: IntervalNode): void {\n\tconst x = y.left;\n\n\ty.delta -= x.delta;\n\tif (y.delta < Constants.MIN_SAFE_DELTA || y.delta > Constants.MAX_SAFE_DELTA) {\n\t\tT.requestNormalizeDelta = true;\n\t}\n\ty.start -= x.delta;\n\ty.end -= x.delta;\n\n\ty.left = x.right;\n\tif (x.right !== SENTINEL) {\n\t\tx.right.parent = y;\n\t}\n\tx.parent = y.parent;\n\tif (y.parent === SENTINEL) {\n\t\tT.root = x;\n\t} else if (y === y.parent.right) {\n\t\ty.parent.right = x;\n\t} else {\n\t\ty.parent.left = x;\n\t}\n\n\tx.right = y;\n\ty.parent = x;\n\n\trecomputeMaxEnd(y);\n\trecomputeMaxEnd(x);\n}\n//#endregion\n\n//#region max end computation\n\nfunction computeMaxEnd(node: IntervalNode): number {\n\tlet maxEnd = node.end;\n\tif (node.left !== SENTINEL) {\n\t\tconst leftMaxEnd = node.left.maxEnd;\n\t\tif (leftMaxEnd > maxEnd) {\n\t\t\tmaxEnd = leftMaxEnd;\n\t\t}\n\t}\n\tif (node.right !== SENTINEL) {\n\t\tconst rightMaxEnd = node.right.maxEnd + node.delta;\n\t\tif (rightMaxEnd > maxEnd) {\n\t\t\tmaxEnd = rightMaxEnd;\n\t\t}\n\t}\n\treturn maxEnd;\n}\n\nexport function recomputeMaxEnd(node: IntervalNode): void {\n\tnode.maxEnd = computeMaxEnd(node);\n}\n\nfunction recomputeMaxEndWalkToRoot(node: IntervalNode): void {\n\twhile (node !== SENTINEL) {\n\n\t\tconst maxEnd = computeMaxEnd(node);\n\n\t\tif (node.maxEnd === maxEnd) {\n\t\t\t// no need to go further\n\t\t\treturn;\n\t\t}\n\n\t\tnode.maxEnd = maxEnd;\n\t\tnode = node.parent;\n\t}\n}\n\n//#endregion\n\n//#region utils\nexport function intervalCompare(aStart: number, aEnd: number, bStart: number, bEnd: number): number {\n\tif (aStart === bStart) {\n\t\treturn aEnd - bEnd;\n\t}\n\treturn aStart - bStart;\n}\n//#endregion\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+FC;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AA/FD;;;;AAgFA,OAAM,SAAUE,YAAYA,CAACC,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC9C,OAAQ,CAACF,IAAI,CAACG,QAAQ,oCAAuB;AAC9C;AACA,SAASC,YAAYA,CAACJ,IAAkB,EAAEK,KAAgB;EAAA;EAAAR,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACzDF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,0CAAkCE,KAAK,iCACrD;AACF;AACA,SAASC,gBAAgBA,CAACN,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC3C,OAAQ,CAACF,IAAI,CAACG,QAAQ,wCAA2B,sCAAoC,CAAC;AACvF;AACA,SAASI,gBAAgBA,CAACP,IAAkB,EAAEQ,KAAc;EAAA;EAAAX,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC3DF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,8CAAsC,CAACK,KAAK;EAAA;EAAA,CAAAX,cAAA,GAAAY,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAY,CAAA,UAAG,CAAC,MAAC,iCACnE;AACF;AACA,SAASC,sBAAsBA,CAACV,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjD,OAAQ,CAACF,IAAI,CAACG,QAAQ,8CAAiC,4CAA0C,CAAC;AACnG;AACA,SAASQ,sBAAsBA,CAACX,IAAkB,EAAEQ,KAAc;EAAA;EAAAX,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjEF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,oDAA4C,CAACK,KAAK;EAAA;EAAA,CAAAX,cAAA,GAAAY,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAY,CAAA,UAAG,CAAC,MAAC,uCACzE;AACF;AACA,SAASG,sBAAsBA,CAACZ,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjD,OAAQ,CAACF,IAAI,CAACG,QAAQ,wCAA0B,qCAAmC,CAAC;AACrF;AACA,SAASU,sBAAsBA,CAACb,IAAkB,EAAEQ,KAAc;EAAA;EAAAX,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjEF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,6CAAqC,CAACK,KAAK;EAAA;EAAA,CAAAX,cAAA,GAAAY,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAY,CAAA,UAAG,CAAC,MAAC,gCAClE;AACF;AACA,SAASK,kBAAkBA,CAACd,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC7C,OAAQ,CAACF,IAAI,CAACG,QAAQ,4CAA6B,wCAAsC,CAAC;AAC3F;AACA,SAASY,kBAAkBA,CAACf,IAAkB,EAAEQ,KAAc;EAAA;EAAAX,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC7DF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,gDAAwC,CAACK,KAAK;EAAA;EAAA,CAAAX,cAAA,GAAAY,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAY,CAAA,UAAG,CAAC,MAAC,mCACrE;AACF;AACA,SAASO,iBAAiBA,CAAChB,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC5C,OAAQ,CAACF,IAAI,CAACG,QAAQ,0CAA4B;AACnD;AACA,SAASc,kBAAkBA,CAACjB,IAAkB,EAAEkB,UAAkC;EAAA;EAAArB,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjFF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,+CAAuCe,UAAU,sCAC/D;AACF;AACA,SAASC,wBAAwBA,CAACnB,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACnD,OAAQ,CAACF,IAAI,CAACG,QAAQ,qDAAuC,kDAAgD,CAAC;AAC/G;AACA,SAASiB,wBAAwBA,CAACpB,IAAkB,EAAEQ,KAAc;EAAA;EAAAX,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACnEF,IAAI,CAACG,QAAQ,GACXH,IAAI,CAACG,QAAQ,0DAAkD,CAACK,KAAK;EAAA;EAAA,CAAAX,cAAA,GAAAY,CAAA,UAAG,CAAC;EAAA;EAAA,CAAAZ,cAAA,GAAAY,CAAA,UAAG,CAAC,MAAC,6CAC/E;AACF;AACA,OAAM,SAAUY,iBAAiBA,CAACrB,IAAkB,EAAEkB,UAAwC;EAAA;EAAArB,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC7Fe,kBAAkB,CAACjB,IAAI,EAAUkB,UAAU,CAAC;AAC7C;AAEA,OAAM,MAAOI,YAAY;EAExB;;;EAGOnB,QAAQ;EAERoB,MAAM;EACNC,IAAI;EACJC,KAAK;EAELC,KAAK;EACLC,GAAG;EACHC,KAAK;EACLC,MAAM;EAENC,EAAE;EACFC,OAAO;EACPC,OAAO;EAEPC,eAAe;EACfC,mBAAmB;EACnBC,iBAAiB;EACjBC,KAAK;EAEZC,YAAYP,EAAU,EAAEJ,KAAa,EAAEC,GAAW;IAAA;IAAA9B,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACjD,IAAI,CAACC,QAAQ,GAAG,CAAC;IAAC;IAAAN,cAAA,GAAAK,CAAA;IAElB,IAAI,CAACqB,MAAM,GAAG,IAAI;IAAC;IAAA1B,cAAA,GAAAK,CAAA;IACnB,IAAI,CAACsB,IAAI,GAAG,IAAI;IAAC;IAAA3B,cAAA,GAAAK,CAAA;IACjB,IAAI,CAACuB,KAAK,GAAG,IAAI;IAAC;IAAA5B,cAAA,GAAAK,CAAA;IAClBE,YAAY,CAAC,IAAI,wBAAgB;IAAC;IAAAP,cAAA,GAAAK,CAAA;IAElC,IAAI,CAACwB,KAAK,GAAGA,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACnB,IAAI,CAACyB,GAAG,GAAGA,GAAG;IACd;IAAA;IAAA9B,cAAA,GAAAK,CAAA;IACA,IAAI,CAAC0B,KAAK,GAAG,CAAC;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACf,IAAI,CAAC2B,MAAM,GAAGF,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAElB,IAAI,CAAC4B,EAAE,GAAGA,EAAE;IAAC;IAAAjC,cAAA,GAAAK,CAAA;IACb,IAAI,CAAC6B,OAAO,GAAG,CAAC;IAAC;IAAAlC,cAAA,GAAAK,CAAA;IACjB,IAAI,CAAC8B,OAAO,GAAG,IAAK;IAAC;IAAAnC,cAAA,GAAAK,CAAA;IACrBS,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC;IAAC;IAAAd,cAAA,GAAAK,CAAA;IACpCW,sBAAsB,CAAC,IAAI,EAAE,KAAK,CAAC;IAAC;IAAAhB,cAAA,GAAAK,CAAA;IACpCe,kBAAkB,CAAC,IAAI,6DAAqD;IAAC;IAAApB,cAAA,GAAAK,CAAA;IAC7EkB,wBAAwB,CAAC,IAAI,EAAE,KAAK,CAAC;IAAC;IAAAvB,cAAA,GAAAK,CAAA;IACtCa,kBAAkB,CAAC,IAAI,EAAE,KAAK,CAAC;IAAC;IAAAlB,cAAA,GAAAK,CAAA;IAEhC,IAAI,CAAC+B,eAAe,GAAG,CAAC;IAAC;IAAApC,cAAA,GAAAK,CAAA;IACzB,IAAI,CAACgC,mBAAmB,GAAGR,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACjC,IAAI,CAACiC,iBAAiB,GAAGR,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAC7B,IAAI,CAACkC,KAAK,GAAG,IAAI;IAAC;IAAAvC,cAAA,GAAAK,CAAA;IAElBK,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC;EAC9B;EAEO+B,KAAKA,CAACC,SAAiB,EAAEb,KAAa,EAAEC,GAAW,EAAES,KAAY;IAAA;IAAAvC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACvE,IAAI,CAACwB,KAAK,GAAGA,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACnB,IAAI,CAACyB,GAAG,GAAGA,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IACf,IAAI,CAAC2B,MAAM,GAAGF,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAClB,IAAI,CAAC+B,eAAe,GAAGM,SAAS;IAAC;IAAA1C,cAAA,GAAAK,CAAA;IACjC,IAAI,CAACgC,mBAAmB,GAAGR,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACjC,IAAI,CAACiC,iBAAiB,GAAGR,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAC7B,IAAI,CAACkC,KAAK,GAAGA,KAAK;EACnB;EAEOI,UAAUA,CAACR,OAA+B;IAAA;IAAAnC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAChD,IAAI,CAAC8B,OAAO,GAAGA,OAAO;IACtB,MAAMS,SAAS;IAAA;IAAA,CAAA5C,cAAA,GAAAK,CAAA,QAAG,IAAI,CAAC8B,OAAO,CAACS,SAAS;IAAC;IAAA5C,cAAA,GAAAK,CAAA;IACzCS,sBAAsB,CAAC,IAAI;IAC1B;IAAA,CAAAd,cAAA,GAAAY,CAAA,UAAAgC,SAAS;IAAA;IAAA,CAAA5C,cAAA,GAAAY,CAAA,UACNgC,SAAS;IAAA;IAAA,CAAA5C,cAAA,GAAAY,CAAA,UACTgC,SAAS,0DACZ,CAAC;IAAC;IAAA5C,cAAA,GAAAK,CAAA;IACHW,sBAAsB,CAAC,IAAI,EAAE,IAAI,CAACmB,OAAO,CAACU,oBAAoB,KAAK,IAAI,CAAC;IAAC;IAAA7C,cAAA,GAAAK,CAAA;IACzEe,kBAAkB,CAAC,IAAI,EAAU,IAAI,CAACe,OAAO,CAACd,UAAU,CAAC;IAAC;IAAArB,cAAA,GAAAK,CAAA;IAC1DkB,wBAAwB,CAAC,IAAI,EAAE,IAAI,CAACY,OAAO,CAACW,qBAAqB,CAAC;IAAC;IAAA9C,cAAA,GAAAK,CAAA;IACnEa,kBAAkB,CAAC,IAAI;IAAE;IAAA,CAAAlB,cAAA,GAAAY,CAAA,cAAI,CAACuB,OAAO,CAACY,WAAW;IAAA;IAAA,CAAA/C,cAAA,GAAAY,CAAA,UAAI,KAAK,EAAC;EAC5D;EAEOoC,gBAAgBA,CAACC,aAAqB,EAAEC,WAAmB,EAAEd,eAAuB;IAAA;IAAApC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC1F,IAAI,IAAI,CAAC+B,eAAe,KAAKA,eAAe,EAAE;MAAA;MAAApC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7C,IAAI,CAACkC,KAAK,GAAG,IAAI;IAClB,CAAC;IAAA;IAAA;MAAAvC,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD,IAAI,CAAC+B,eAAe,GAAGA,eAAe;IAAC;IAAApC,cAAA,GAAAK,CAAA;IACvC,IAAI,CAACgC,mBAAmB,GAAGY,aAAa;IAAC;IAAAjD,cAAA,GAAAK,CAAA;IACzC,IAAI,CAACiC,iBAAiB,GAAGY,WAAW;EACrC;EAEOC,MAAMA,CAAA;IAAA;IAAAnD,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACZ,IAAI,CAACqB,MAAM,GAAG,IAAK;IAAC;IAAA1B,cAAA,GAAAK,CAAA;IACpB,IAAI,CAACsB,IAAI,GAAG,IAAK;IAAC;IAAA3B,cAAA,GAAAK,CAAA;IAClB,IAAI,CAACuB,KAAK,GAAG,IAAK;EACnB;;AAGD,OAAO,MAAMwB,QAAQ;AAAA;AAAA,CAAApD,cAAA,GAAAK,CAAA,QAAiB,IAAIoB,YAAY,CAAC,IAAK,EAAE,CAAC,EAAE,CAAC,CAAC;AAAC;AAAAzB,cAAA,GAAAK,CAAA;AACpE+C,QAAQ,CAAC1B,MAAM,GAAG0B,QAAQ;AAAC;AAAApD,cAAA,GAAAK,CAAA;AAC3B+C,QAAQ,CAACzB,IAAI,GAAGyB,QAAQ;AAAC;AAAApD,cAAA,GAAAK,CAAA;AACzB+C,QAAQ,CAACxB,KAAK,GAAGwB,QAAQ;AAAC;AAAApD,cAAA,GAAAK,CAAA;AAC1BE,YAAY,CAAC6C,QAAQ,0BAAkB;AAEvC,OAAM,MAAOC,YAAY;EAEjBC,IAAI;EACJC,qBAAqB;EAE5Bf,YAAA;IAAA;IAAAxC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACC,IAAI,CAACiD,IAAI,GAAGF,QAAQ;IAAC;IAAApD,cAAA,GAAAK,CAAA;IACrB,IAAI,CAACkD,qBAAqB,GAAG,KAAK;EACnC;EAEOC,cAAcA,CAAC3B,KAAa,EAAEC,GAAW,EAAE2B,aAAqB,EAAEC,mBAA4B,EAAEC,qBAA8B,EAAEvB,eAAuB,EAAEwB,qBAA8B;IAAA;IAAA5D,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC7L,IAAI,IAAI,CAACiD,IAAI,KAAKF,QAAQ,EAAE;MAAA;MAAApD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B,OAAO,EAAE;IACV,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD,OAAOmD,cAAc,CAAC,IAAI,EAAE3B,KAAK,EAAEC,GAAG,EAAE2B,aAAa,EAAEC,mBAAmB,EAAEC,qBAAqB,EAAEvB,eAAe,EAAEwB,qBAAqB,CAAC;EAC3I;EAEOC,MAAMA,CAACJ,aAAqB,EAAEC,mBAA4B,EAAEC,qBAA8B,EAAEvB,eAAuB,EAAEwB,qBAA8B;IAAA;IAAA5D,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACzJ,IAAI,IAAI,CAACiD,IAAI,KAAKF,QAAQ,EAAE;MAAA;MAAApD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B,OAAO,EAAE;IACV,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD,OAAOwD,MAAM,CAAC,IAAI,EAAEJ,aAAa,EAAEC,mBAAmB,EAAEC,qBAAqB,EAAEvB,eAAe,EAAEwB,qBAAqB,CAAC;EACvH;EAEA;;;EAGOE,qBAAqBA,CAAC5B,OAAe;IAAA;IAAAlC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC3C,OAAOyD,qBAAqB,CAAC,IAAI,EAAE5B,OAAO,CAAC;EAC5C;EAEA;;;EAGO6B,qBAAqBA,CAAA;IAAA;IAAA/D,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC3B,OAAO0D,qBAAqB,CAAC,IAAI,CAAC;EACnC;EAEOC,MAAMA,CAAC7D,IAAkB;IAAA;IAAAH,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC/B4D,YAAY,CAAC,IAAI,EAAE9D,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IACzB,IAAI,CAAC6D,0BAA0B,EAAE;EAClC;EAEOC,MAAMA,CAAChE,IAAkB;IAAA;IAAAH,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IAC/B+D,YAAY,CAAC,IAAI,EAAEjE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IACzB,IAAI,CAAC6D,0BAA0B,EAAE;EAClC;EAEOG,WAAWA,CAAClE,IAAkB,EAAEiC,eAAuB;IAAA;IAAApC,cAAA,GAAAI,CAAA;IAC7D,MAAMkE,WAAW;IAAA;IAAA,CAAAtE,cAAA,GAAAK,CAAA,QAAGF,IAAI;IACxB,IAAI4B,KAAK;IAAA;IAAA,CAAA/B,cAAA,GAAAK,CAAA,QAAG,CAAC;IAAC;IAAAL,cAAA,GAAAK,CAAA;IACd,OAAOF,IAAI,KAAK,IAAI,CAACmD,IAAI,EAAE;MAAA;MAAAtD,cAAA,GAAAK,CAAA;MAC1B,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;MAC3B,CAAC;MAAA;MAAA;QAAA/B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACDF,IAAI,GAAGA,IAAI,CAACuB,MAAM;IACnB;IAEA,MAAM6C,SAAS;IAAA;IAAA,CAAAvE,cAAA,GAAAK,CAAA,QAAGiE,WAAW,CAACzC,KAAK,GAAGE,KAAK;IAC3C,MAAMyC,OAAO;IAAA;IAAA,CAAAxE,cAAA,GAAAK,CAAA,QAAGiE,WAAW,CAACxC,GAAG,GAAGC,KAAK;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACxCiE,WAAW,CAACtB,gBAAgB,CAACuB,SAAS,EAAEC,OAAO,EAAEpC,eAAe,CAAC;EAClE;EAEOqC,aAAaA,CAACC,MAAc,EAAEC,MAAc,EAAEC,UAAkB,EAAEC,gBAAyB;IAAA;IAAA7E,cAAA,GAAAI,CAAA;IACjG;IAEA;IACA,MAAM0E,eAAe;IAAA;IAAA,CAAA9E,cAAA,GAAAK,CAAA,QAAG0E,gBAAgB,CAAC,IAAI,EAAEL,MAAM,EAAEA,MAAM,GAAGC,MAAM,CAAC;IAEvE;IAAA;IAAA3E,cAAA,GAAAK,CAAA;IACA,KAAK,IAAI2E,CAAC;MAAA;MAAA,CAAAhF,cAAA,GAAAK,CAAA,QAAG,CAAC,GAAE4E,GAAG;MAAA;MAAA,CAAAjF,cAAA,GAAAK,CAAA,QAAGyE,eAAe,CAACH,MAAM,GAAEK,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;MAC3D,MAAM7E,IAAI;MAAA;MAAA,CAAAH,cAAA,GAAAK,CAAA,QAAGyE,eAAe,CAACE,CAAC,CAAC;MAAC;MAAAhF,cAAA,GAAAK,CAAA;MAChC+D,YAAY,CAAC,IAAI,EAAEjE,IAAI,CAAC;IACzB;IAAC;IAAAH,cAAA,GAAAK,CAAA;IACD,IAAI,CAAC6D,0BAA0B,EAAE;IAEjC;IAAA;IAAAlE,cAAA,GAAAK,CAAA;IACA6E,gBAAgB,CAAC,IAAI,EAAER,MAAM,EAAEA,MAAM,GAAGC,MAAM,EAAEC,UAAU,CAAC;IAAC;IAAA5E,cAAA,GAAAK,CAAA;IAC5D,IAAI,CAAC6D,0BAA0B,EAAE;IAEjC;IAAA;IAAAlE,cAAA,GAAAK,CAAA;IACA,KAAK,IAAI2E,CAAC;MAAA;MAAA,CAAAhF,cAAA,GAAAK,CAAA,QAAG,CAAC,GAAE4E,GAAG;MAAA;MAAA,CAAAjF,cAAA,GAAAK,CAAA,QAAGyE,eAAe,CAACH,MAAM,GAAEK,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;MAC3D,MAAM7E,IAAI;MAAA;MAAA,CAAAH,cAAA,GAAAK,CAAA,QAAGyE,eAAe,CAACE,CAAC,CAAC;MAAC;MAAAhF,cAAA,GAAAK,CAAA;MAChCF,IAAI,CAAC0B,KAAK,GAAG1B,IAAI,CAACkC,mBAAmB;MAAC;MAAArC,cAAA,GAAAK,CAAA;MACtCF,IAAI,CAAC2B,GAAG,GAAG3B,IAAI,CAACmC,iBAAiB;MAAC;MAAAtC,cAAA,GAAAK,CAAA;MAClC8E,cAAc,CAAChF,IAAI,EAAEuE,MAAM,EAAGA,MAAM,GAAGC,MAAM,EAAGC,UAAU,EAAEC,gBAAgB,CAAC;MAAC;MAAA7E,cAAA,GAAAK,CAAA;MAC9EF,IAAI,CAAC6B,MAAM,GAAG7B,IAAI,CAAC2B,GAAG;MAAC;MAAA9B,cAAA,GAAAK,CAAA;MACvB4D,YAAY,CAAC,IAAI,EAAE9D,IAAI,CAAC;IACzB;IAAC;IAAAH,cAAA,GAAAK,CAAA;IACD,IAAI,CAAC6D,0BAA0B,EAAE;EAClC;EAEOkB,aAAaA,CAAA;IAAA;IAAApF,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACnB,OAAOwD,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,CAAC;EAC/C;EAEQK,0BAA0BA,CAAA;IAAA;IAAAlE,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAK,CAAA;IACjC,IAAI,CAAC,IAAI,CAACkD,qBAAqB,EAAE;MAAA;MAAAvD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAChC;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD,IAAI,CAACkD,qBAAqB,GAAG,KAAK;IAAC;IAAAvD,cAAA,GAAAK,CAAA;IACnCgF,cAAc,CAAC,IAAI,CAAC;EACrB;;AAGD;AACA,SAASA,cAAcA,CAACC,CAAe;EAAA;EAAAtF,cAAA,GAAAI,CAAA;EACtC,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,IAAIvB,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EACd,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IAEzB;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACwB,IAAI,KAAKyB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,GAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3D;MACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACjB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACA0B,KAAK,IAAI5B,IAAI,CAAC4B,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACpBF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAF,IAAI,CAAC0B,KAAK,GAAGE,KAAK,GAAG5B,IAAI,CAAC0B,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IAChCF,IAAI,CAAC2B,GAAG,GAAGC,KAAK,GAAG5B,IAAI,CAAC2B,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAC5BF,IAAI,CAAC4B,KAAK,GAAG,CAAC;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACfkF,eAAe,CAACpF,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAEtBK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAE5B;IAAA;IAAAH,cAAA,GAAAK,CAAA;IACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;IAAC;IAAA3B,cAAA,GAAAK,CAAA;IACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;IAAC;IAAA5B,cAAA,GAAAK,CAAA;IACpC,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;IAC3B,CAAC;IAAA;IAAA;MAAA/B,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACDF,IAAI,GAAGA,IAAI,CAACuB,MAAM;EACnB;EAAC;EAAA1B,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;AAChC;AAWA,SAASkC,wBAAwBA,CAACC,YAAoB,EAAEC,8BAAuC,EAAEC,WAAmB,EAAEC,aAAkC;EAAA;EAAA5F,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACvJ,IAAIoF,YAAY,GAAGE,WAAW,EAAE;IAAA;IAAA3F,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC/B,OAAO,IAAI;EACZ,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,IAAIoF,YAAY,GAAGE,WAAW,EAAE;IAAA;IAAA3F,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC/B,OAAO,KAAK;EACb,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,IAAIuF,aAAa,4CAAoC;IAAA;IAAA5F,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACpD,OAAO,KAAK;EACb,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,IAAIuF,aAAa,4CAAoC;IAAA;IAAA5F,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACpD,OAAO,IAAI;EACZ,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,OAAOqF,8BAA8B;AACtC;AAEA;;;;AAIA,OAAM,SAAUP,cAAcA,CAAChF,IAAkB,EAAE0B,KAAa,EAAEC,GAAW,EAAE8C,UAAkB,EAAEC,gBAAyB;EAAA;EAAA7E,cAAA,GAAAI,CAAA;EAC3H,MAAMyF,cAAc;EAAA;EAAA,CAAA7F,cAAA,GAAAK,CAAA,SAAGc,iBAAiB,CAAChB,IAAI,CAAC;EAC9C,MAAM2F,6BAA6B;EAAA;EAAA,CAAA9F,cAAA,GAAAK,CAAA;EAClC;EAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAiF,cAAc;EAAA;EAAA,CAAA7F,cAAA,GAAAY,CAAA,WACXiF,cAAc,+DACjB;EACD,MAAME,2BAA2B;EAAA;EAAA,CAAA/F,cAAA,GAAAK,CAAA;EAChC;EAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAiF,cAAc;EAAA;EAAA,CAAA7F,cAAA,GAAAY,CAAA,WACXiF,cAAc,+DACjB;EAED,MAAMG,WAAW;EAAA;EAAA,CAAAhG,cAAA,GAAAK,CAAA,SAAIyB,GAAG,GAAGD,KAAK,CAAC;EACjC,MAAMoE,YAAY;EAAA;EAAA,CAAAjG,cAAA,GAAAK,CAAA,SAAGuE,UAAU;EAC/B,MAAMsB,YAAY;EAAA;EAAA,CAAAlG,cAAA,GAAAK,CAAA,SAAG8F,IAAI,CAACC,GAAG,CAACJ,WAAW,EAAEC,YAAY,CAAC;EAExD,MAAM1B,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAK,CAAA,SAAGF,IAAI,CAAC0B,KAAK;EAC5B,IAAIwE,SAAS;EAAA;EAAA,CAAArG,cAAA,GAAAK,CAAA,SAAG,KAAK;EAErB,MAAMmE,OAAO;EAAA;EAAA,CAAAxE,cAAA,GAAAK,CAAA,SAAGF,IAAI,CAAC2B,GAAG;EACxB,IAAIwE,OAAO;EAAA;EAAA,CAAAtG,cAAA,GAAAK,CAAA,SAAG,KAAK;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAEpB;EAAI;EAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAiB,KAAK,IAAI0C,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAY,CAAA,WAAI4D,OAAO,IAAI1C,GAAG;EAAA;EAAA,CAAA9B,cAAA,GAAAY,CAAA,WAAIU,wBAAwB,CAACnB,IAAI,CAAC,GAAE;IAAA;IAAAH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC3E;IACA;IACAF,IAAI,CAAC0B,KAAK,GAAGA,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACnBgG,SAAS,GAAG,IAAI;IAAC;IAAArG,cAAA,GAAAK,CAAA;IACjBF,IAAI,CAAC2B,GAAG,GAAGD,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IACjBiG,OAAO,GAAG,IAAI;EACf,CAAC;EAAA;EAAA;IAAAtG,cAAA,GAAAY,CAAA;EAAA;EAED;IACC,MAAMgF,aAAa;IAAA;IAAA,CAAA5F,cAAA,GAAAK,CAAA,SAAGwE,gBAAgB;IAAA;IAAA,CAAA7E,cAAA,GAAAY,CAAA,WAAE;IAAA;IAAA,CAAAZ,cAAA,GAAAY,CAAA,WAAkCoF,WAAW,GAAG,CAAC;IAAA;IAAA,CAAAhG,cAAA,GAAAY,CAAA,WAAE;IAAA;IAAA,CAAAZ,cAAA,GAAAY,CAAA,WAAgC,2CAAmC;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IAC/J;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAACyF,SAAS;IAAA;IAAA,CAAArG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAACjB,SAAS,EAAEuB,6BAA6B,EAAEjE,KAAK,EAAE+D,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3GgG,SAAS,GAAG,IAAI;IACjB,CAAC;IAAA;IAAA;MAAArG,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAAC0F,OAAO;IAAA;IAAA,CAAAtG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAAChB,OAAO,EAAEuB,2BAA2B,EAAElE,KAAK,EAAE+D,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACrGiG,OAAO,GAAG,IAAI;IACf,CAAC;IAAA;IAAA;MAAAtG,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAED;EAAI;EAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAsF,YAAY,GAAG,CAAC;EAAA;EAAA,CAAAlG,cAAA,GAAAY,CAAA,WAAI,CAACiE,gBAAgB,GAAE;IAAA;IAAA7E,cAAA,GAAAY,CAAA;IAC1C,MAAMgF,aAAa;IAAA;IAAA,CAAA5F,cAAA,GAAAK,CAAA,SAAI2F,WAAW,GAAGC,YAAY;IAAA;IAAA,CAAAjG,cAAA,GAAAY,CAAA,WAAE;IAAA;IAAA,CAAAZ,cAAA,GAAAY,CAAA,WAAgC,2CAAmC;IAAC;IAAAZ,cAAA,GAAAK,CAAA;IACvH;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAACyF,SAAS;IAAA;IAAA,CAAArG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAACjB,SAAS,EAAEuB,6BAA6B,EAAEjE,KAAK,GAAGqE,YAAY,EAAEN,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC1HgG,SAAS,GAAG,IAAI;IACjB,CAAC;IAAA;IAAA;MAAArG,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAAC0F,OAAO;IAAA;IAAA,CAAAtG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAAChB,OAAO,EAAEuB,2BAA2B,EAAElE,KAAK,GAAGqE,YAAY,EAAEN,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACpHiG,OAAO,GAAG,IAAI;IACf,CAAC;IAAA;IAAA;MAAAtG,cAAA,GAAAY,CAAA;IAAA;EACF,CAAC;EAAA;EAAA;IAAAZ,cAAA,GAAAY,CAAA;EAAA;EAED;IACC,MAAMgF,aAAa;IAAA;IAAA,CAAA5F,cAAA,GAAAK,CAAA,SAAGwE,gBAAgB;IAAA;IAAA,CAAA7E,cAAA,GAAAY,CAAA,WAAE;IAAA;IAAA,CAAAZ,cAAA,GAAAY,CAAA,WAAgC;IAAmC;IAAAZ,cAAA,GAAAK,CAAA;IAC3G;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAACyF,SAAS;IAAA;IAAA,CAAArG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAACjB,SAAS,EAAEuB,6BAA6B,EAAEhE,GAAG,EAAE8D,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACzGF,IAAI,CAAC0B,KAAK,GAAGA,KAAK,GAAGoE,YAAY;MAAC;MAAAjG,cAAA,GAAAK,CAAA;MAClCgG,SAAS,GAAG,IAAI;IACjB,CAAC;IAAA;IAAA;MAAArG,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAAC0F,OAAO;IAAA;IAAA,CAAAtG,cAAA,GAAAY,CAAA,WAAI4E,wBAAwB,CAAChB,OAAO,EAAEuB,2BAA2B,EAAEjE,GAAG,EAAE8D,aAAa,CAAC,GAAE;MAAA;MAAA5F,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACnGF,IAAI,CAAC2B,GAAG,GAAGD,KAAK,GAAGoE,YAAY;MAAC;MAAAjG,cAAA,GAAAK,CAAA;MAChCiG,OAAO,GAAG,IAAI;IACf,CAAC;IAAA;IAAA;MAAAtG,cAAA,GAAAY,CAAA;IAAA;EACF;EAEA;EACA,MAAM2F,WAAW;EAAA;EAAA,CAAAvG,cAAA,GAAAK,CAAA,SAAI4F,YAAY,GAAGD,WAAW,CAAC;EAAC;EAAAhG,cAAA,GAAAK,CAAA;EACjD,IAAI,CAACgG,SAAS,EAAE;IAAA;IAAArG,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACfF,IAAI,CAAC0B,KAAK,GAAGsE,IAAI,CAACK,GAAG,CAAC,CAAC,EAAEjC,SAAS,GAAGgC,WAAW,CAAC;EAClD,CAAC;EAAA;EAAA;IAAAvG,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,IAAI,CAACiG,OAAO,EAAE;IAAA;IAAAtG,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACbF,IAAI,CAAC2B,GAAG,GAAGqE,IAAI,CAACK,GAAG,CAAC,CAAC,EAAEhC,OAAO,GAAG+B,WAAW,CAAC;EAC9C,CAAC;EAAA;EAAA;IAAAvG,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EAED,IAAIF,IAAI,CAAC0B,KAAK,GAAG1B,IAAI,CAAC2B,GAAG,EAAE;IAAA;IAAA9B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC1BF,IAAI,CAAC2B,GAAG,GAAG3B,IAAI,CAAC0B,KAAK;EACtB,CAAC;EAAA;EAAA;IAAA7B,cAAA,GAAAY,CAAA;EAAA;AACF;AAEA,SAASmE,gBAAgBA,CAACO,CAAe,EAAEzD,KAAa,EAAEC,GAAW;EAAA;EAAA9B,cAAA,GAAAI,CAAA;EACpE;EACA;EACA;EACA;EACA;EACA;EACA,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,IAAIvB,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAG,CAAC;EACb,IAAIoG,UAAU;EAAA;EAAA,CAAAzG,cAAA,GAAAK,CAAA,SAAG,CAAC;EAClB,IAAIkE,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACjB,IAAImE,OAAO;EAAA;EAAA,CAAAxE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACf,MAAMqG,MAAM;EAAA;EAAA,CAAA1G,cAAA,GAAAK,CAAA,SAAmB,EAAE;EACjC,IAAIsG,SAAS;EAAA;EAAA,CAAA3G,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAClB,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpC,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;MAC3B,CAAC;MAAA;MAAA;QAAA/B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACDF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED,IAAI,CAACI,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACjC;MACAoG,UAAU,GAAG1E,KAAK,GAAG5B,IAAI,CAAC6B,MAAM;MAAC;MAAAhC,cAAA,GAAAK,CAAA;MACjC,IAAIoG,UAAU,GAAG5E,KAAK,EAAE;QAAA;QAAA7B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACvB;QACA;QACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;QAAC;QAAAH,cAAA,GAAAK,CAAA;QAC7B;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED,IAAIF,IAAI,CAACwB,IAAI,KAAKyB,QAAQ,EAAE;QAAA;QAAApD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC3B;QACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;QAAC;QAAA3B,cAAA,GAAAK,CAAA;QACjB;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAkE,SAAS,GAAGxC,KAAK,GAAG5B,IAAI,CAAC0B,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IAC/B,IAAIkE,SAAS,GAAGzC,GAAG,EAAE;MAAA;MAAA9B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACpB;MACA;MACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;MAAC;MAAAH,cAAA,GAAAK,CAAA;MAC7B;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDmE,OAAO,GAAGzC,KAAK,GAAG5B,IAAI,CAAC2B,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAC3B,IAAImE,OAAO,IAAI3C,KAAK,EAAE;MAAA;MAAA7B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACrBF,IAAI,CAAC6C,gBAAgB,CAACuB,SAAS,EAAEC,OAAO,EAAE,CAAC,CAAC;MAAC;MAAAxE,cAAA,GAAAK,CAAA;MAC7CqG,MAAM,CAACC,SAAS,EAAE,CAAC,GAAGxG,IAAI;IAC3B,CAAC;IAAA;IAAA;MAAAH,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACDK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAE7B;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACA0B,KAAK,IAAI5B,IAAI,CAAC4B,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACpBF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEhC,OAAOqG,MAAM;AACd;AAEA,SAASxB,gBAAgBA,CAACI,CAAe,EAAEzD,KAAa,EAAEC,GAAW,EAAE8C,UAAkB;EAAA;EAAA5E,cAAA,GAAAI,CAAA;EACxF;EACA;EACA;EACA;EACA;EACA;EACA,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,IAAIvB,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAG,CAAC;EACb,IAAIoG,UAAU;EAAA;EAAA,CAAAzG,cAAA,GAAAK,CAAA,SAAG,CAAC;EAClB,IAAIkE,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACjB,MAAMuG,SAAS;EAAA;EAAA,CAAA5G,cAAA,GAAAK,CAAA,SAAIuE,UAAU,IAAI9C,GAAG,GAAGD,KAAK,CAAC,CAAC;EAAC;EAAA7B,cAAA,GAAAK,CAAA;EAC/C,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpC,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;MAC3B,CAAC;MAAA;MAAA;QAAA/B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACDkF,eAAe,CAACpF,IAAI,CAAC;MAAC;MAAAH,cAAA,GAAAK,CAAA;MACtBF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED,IAAI,CAACI,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACjC;MACAoG,UAAU,GAAG1E,KAAK,GAAG5B,IAAI,CAAC6B,MAAM;MAAC;MAAAhC,cAAA,GAAAK,CAAA;MACjC,IAAIoG,UAAU,GAAG5E,KAAK,EAAE;QAAA;QAAA7B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACvB;QACA;QACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;QAAC;QAAAH,cAAA,GAAAK,CAAA;QAC7B;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED,IAAIF,IAAI,CAACwB,IAAI,KAAKyB,QAAQ,EAAE;QAAA;QAAApD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC3B;QACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;QAAC;QAAA3B,cAAA,GAAAK,CAAA;QACjB;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAkE,SAAS,GAAGxC,KAAK,GAAG5B,IAAI,CAAC0B,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IAC/B,IAAIkE,SAAS,GAAGzC,GAAG,EAAE;MAAA;MAAA9B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACpBF,IAAI,CAAC0B,KAAK,IAAI+E,SAAS;MAAC;MAAA5G,cAAA,GAAAK,CAAA;MACxBF,IAAI,CAAC2B,GAAG,IAAI8E,SAAS;MAAC;MAAA5G,cAAA,GAAAK,CAAA;MACtBF,IAAI,CAAC4B,KAAK,IAAI6E,SAAS;MAAC;MAAA5G,cAAA,GAAAK,CAAA;MACxB;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAAC4B,KAAK;MAAA;MAAA,CAAA/B,cAAA,GAAAY,CAAA,WAA+BT,IAAI,CAAC4B,KAAK,+CAA6B;QAAA;QAAA/B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACnFiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;MAC/B,CAAC;MAAA;MAAA;QAAAvD,cAAA,GAAAY,CAAA;MAAA;MACD;MACA;MAAAZ,cAAA,GAAAK,CAAA;MACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;MAAC;MAAAH,cAAA,GAAAK,CAAA;MAC7B;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAE7B;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACA0B,KAAK,IAAI5B,IAAI,CAAC4B,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACpBF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;AAChC;AAEA;AAEA;AAEA,SAASQ,qBAAqBA,CAACwB,CAAe,EAAEpD,OAAe;EAAA;EAAAlC,cAAA,GAAAI,CAAA;EAC9D,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,MAAMoD,MAAM;EAAA;EAAA,CAAA1G,cAAA,GAAAK,CAAA,SAAmB,EAAE;EACjC,IAAIsG,SAAS;EAAA;EAAA,CAAA3G,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAClB,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpCF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACwB,IAAI,KAAKyB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,GAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3D;MACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACjB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACA,IAAIF,IAAI,CAAC+B,OAAO,KAAKA,OAAO,EAAE;MAAA;MAAAlC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7BqG,MAAM,CAACC,SAAS,EAAE,CAAC,GAAGxG,IAAI;IAC3B,CAAC;IAAA;IAAA;MAAAH,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAE7B;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACAF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEhC,OAAOqG,MAAM;AACd;AAEA,SAAS3C,qBAAqBA,CAACuB,CAAe;EAAA;EAAAtF,cAAA,GAAAI,CAAA;EAC7C,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,MAAMoD,MAAM;EAAA;EAAA,CAAA1G,cAAA,GAAAK,CAAA,SAAmB,EAAE;EACjC,IAAIsG,SAAS;EAAA;EAAA,CAAA3G,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAClB,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpCF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACwB,IAAI,KAAKyB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,GAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3D;MACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACjB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACAF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAqG,MAAM,CAACC,SAAS,EAAE,CAAC,GAAGxG,IAAI;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAC3BK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;EAC7B;EAAC;EAAAH,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEhC,OAAOqG,MAAM;AACd;AAEA,SAAS7C,MAAMA,CAACyB,CAAe,EAAE7B,aAAqB,EAAEC,mBAA4B,EAAEC,qBAA8B,EAAEvB,eAAuB,EAAEwB,qBAA8B;EAAA;EAAA5D,cAAA,GAAAI,CAAA;EAC5K,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,IAAIvB,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAG,CAAC;EACb,IAAIkE,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACjB,IAAImE,OAAO;EAAA;EAAA,CAAAxE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACf,MAAMqG,MAAM;EAAA;EAAA,CAAA1G,cAAA,GAAAK,CAAA,SAAmB,EAAE;EACjC,IAAIsG,SAAS;EAAA;EAAA,CAAA3G,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAClB,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpC,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;MAC3B,CAAC;MAAA;MAAA;QAAA/B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACDF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACwB,IAAI,KAAKyB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,GAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3D;MACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACjB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAkE,SAAS,GAAGxC,KAAK,GAAG5B,IAAI,CAAC0B,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IAC/BmE,OAAO,GAAGzC,KAAK,GAAG5B,IAAI,CAAC2B,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAE3BF,IAAI,CAAC6C,gBAAgB,CAACuB,SAAS,EAAEC,OAAO,EAAEpC,eAAe,CAAC;IAE1D,IAAIyE,OAAO;IAAA;IAAA,CAAA7G,cAAA,GAAAK,CAAA,SAAG,IAAI;IAAC;IAAAL,cAAA,GAAAK,CAAA;IACnB;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAA6C,aAAa;IAAA;IAAA,CAAAzD,cAAA,GAAAY,CAAA,WAAIT,IAAI,CAAC+B,OAAO;IAAA;IAAA,CAAAlC,cAAA,GAAAY,CAAA,WAAIT,IAAI,CAAC+B,OAAO,KAAKuB,aAAa,GAAE;MAAA;MAAAzD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACpEwG,OAAO,GAAG,KAAK;IAChB,CAAC;IAAA;IAAA;MAAA7G,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAA8C,mBAAmB;IAAA;IAAA,CAAA1D,cAAA,GAAAY,CAAA,WAAIC,sBAAsB,CAACV,IAAI,CAAC,GAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACxDwG,OAAO,GAAG,KAAK;IAChB,CAAC;IAAA;IAAA;MAAA7G,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAA+C,qBAAqB;IAAA;IAAA,CAAA3D,cAAA,GAAAY,CAAA,WAAIK,kBAAkB,CAACd,IAAI,CAAC,GAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACtDwG,OAAO,GAAG,KAAK;IAChB,CAAC;IAAA;IAAA;MAAA7G,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAgD,qBAAqB;IAAA;IAAA,CAAA5D,cAAA,GAAAY,CAAA,WAAI,CAACG,sBAAsB,CAACZ,IAAI,CAAC,GAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3DwG,OAAO,GAAG,KAAK;IAChB,CAAC;IAAA;IAAA;MAAA7G,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED,IAAIwG,OAAO,EAAE;MAAA;MAAA7G,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACZqG,MAAM,CAACC,SAAS,EAAE,CAAC,GAAGxG,IAAI;IAC3B,CAAC;IAAA;IAAA;MAAAH,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAE7B;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,WAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,WAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACA0B,KAAK,IAAI5B,IAAI,CAAC4B,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACpBF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEhC,OAAOqG,MAAM;AACd;AAEA,SAASlD,cAAcA,CAAC8B,CAAe,EAAEwB,aAAqB,EAAEC,WAAmB,EAAEtD,aAAqB,EAAEC,mBAA4B,EAAEC,qBAA8B,EAAEvB,eAAuB,EAAEwB,qBAA8B;EAAA;EAAA5D,cAAA,GAAAI,CAAA;EAChO;EACA;EACA;EACA;EACA;EACA;EAEA,IAAID,IAAI;EAAA;EAAA,CAAAH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACjB,IAAIvB,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAG,CAAC;EACb,IAAIoG,UAAU;EAAA;EAAA,CAAAzG,cAAA,GAAAK,CAAA,SAAG,CAAC;EAClB,IAAIkE,SAAS;EAAA;EAAA,CAAAvE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACjB,IAAImE,OAAO;EAAA;EAAA,CAAAxE,cAAA,GAAAK,CAAA,SAAG,CAAC;EACf,MAAMqG,MAAM;EAAA;EAAA,CAAA1G,cAAA,GAAAK,CAAA,SAAmB,EAAE;EACjC,IAAIsG,SAAS;EAAA;EAAA,CAAA3G,cAAA,GAAAK,CAAA,SAAG,CAAC;EAAC;EAAAL,cAAA,GAAAK,CAAA;EAClB,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IACzB,IAAII,gBAAgB,CAACN,IAAI,CAAC,EAAE;MAAA;MAAAH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACAK,gBAAgB,CAACP,IAAI,CAACwB,IAAI,EAAE,KAAK,CAAC;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACnCK,gBAAgB,CAACP,IAAI,CAACyB,KAAK,EAAE,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACpC,IAAIF,IAAI,KAAKA,IAAI,CAACuB,MAAM,CAACE,KAAK,EAAE;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B0B,KAAK,IAAI5B,IAAI,CAACuB,MAAM,CAACK,KAAK;MAC3B,CAAC;MAAA;MAAA;QAAA/B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACDF,IAAI,GAAGA,IAAI,CAACuB,MAAM;MAAC;MAAA1B,cAAA,GAAAK,CAAA;MACnB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAED,IAAI,CAACI,gBAAgB,CAACN,IAAI,CAACwB,IAAI,CAAC,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACjC;MACAoG,UAAU,GAAG1E,KAAK,GAAG5B,IAAI,CAAC6B,MAAM;MAAC;MAAAhC,cAAA,GAAAK,CAAA;MACjC,IAAIoG,UAAU,GAAGK,aAAa,EAAE;QAAA;QAAA9G,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC/B;QACA;QACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;QAAC;QAAAH,cAAA,GAAAK,CAAA;QAC7B;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED,IAAIF,IAAI,CAACwB,IAAI,KAAKyB,QAAQ,EAAE;QAAA;QAAApD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC3B;QACAF,IAAI,GAAGA,IAAI,CAACwB,IAAI;QAAC;QAAA3B,cAAA,GAAAK,CAAA;QACjB;MACD,CAAC;MAAA;MAAA;QAAAL,cAAA,GAAAY,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAY,CAAA;IAAA;IAED;IAAAZ,cAAA,GAAAK,CAAA;IACAkE,SAAS,GAAGxC,KAAK,GAAG5B,IAAI,CAAC0B,KAAK;IAAC;IAAA7B,cAAA,GAAAK,CAAA;IAC/B,IAAIkE,SAAS,GAAGwC,WAAW,EAAE;MAAA;MAAA/G,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC5B;MACA;MACAK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;MAAC;MAAAH,cAAA,GAAAK,CAAA;MAC7B;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDmE,OAAO,GAAGzC,KAAK,GAAG5B,IAAI,CAAC2B,GAAG;IAAC;IAAA9B,cAAA,GAAAK,CAAA;IAE3B,IAAImE,OAAO,IAAIsC,aAAa,EAAE;MAAA;MAAA9G,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7B;MACAF,IAAI,CAAC6C,gBAAgB,CAACuB,SAAS,EAAEC,OAAO,EAAEpC,eAAe,CAAC;MAE1D,IAAIyE,OAAO;MAAA;MAAA,CAAA7G,cAAA,GAAAK,CAAA,SAAG,IAAI;MAAC;MAAAL,cAAA,GAAAK,CAAA;MACnB;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,WAAA6C,aAAa;MAAA;MAAA,CAAAzD,cAAA,GAAAY,CAAA,WAAIT,IAAI,CAAC+B,OAAO;MAAA;MAAA,CAAAlC,cAAA,GAAAY,CAAA,WAAIT,IAAI,CAAC+B,OAAO,KAAKuB,aAAa,GAAE;QAAA;QAAAzD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACpEwG,OAAO,GAAG,KAAK;MAChB,CAAC;MAAA;MAAA;QAAA7G,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACD;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAA8C,mBAAmB;MAAA;MAAA,CAAA1D,cAAA,GAAAY,CAAA,YAAIC,sBAAsB,CAACV,IAAI,CAAC,GAAE;QAAA;QAAAH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACxDwG,OAAO,GAAG,KAAK;MAChB,CAAC;MAAA;MAAA;QAAA7G,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACD;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAA+C,qBAAqB;MAAA;MAAA,CAAA3D,cAAA,GAAAY,CAAA,YAAIK,kBAAkB,CAACd,IAAI,CAAC,GAAE;QAAA;QAAAH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACtDwG,OAAO,GAAG,KAAK;MAChB,CAAC;MAAA;MAAA;QAAA7G,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MACD;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAgD,qBAAqB;MAAA;MAAA,CAAA5D,cAAA,GAAAY,CAAA,YAAI,CAACG,sBAAsB,CAACZ,IAAI,CAAC,GAAE;QAAA;QAAAH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC3DwG,OAAO,GAAG,KAAK;MAChB,CAAC;MAAA;MAAA;QAAA7G,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED,IAAIwG,OAAO,EAAE;QAAA;QAAA7G,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACZqG,MAAM,CAACC,SAAS,EAAE,CAAC,GAAGxG,IAAI;MAC3B,CAAC;MAAA;MAAA;QAAAH,cAAA,GAAAY,CAAA;MAAA;IACF,CAAC;IAAA;IAAA;MAAAZ,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDK,gBAAgB,CAACP,IAAI,EAAE,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAE7B;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAT,IAAI,CAACyB,KAAK,KAAKwB,QAAQ;IAAA;IAAA,CAAApD,cAAA,GAAAY,CAAA,YAAI,CAACH,gBAAgB,CAACN,IAAI,CAACyB,KAAK,CAAC,GAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7D;MACA0B,KAAK,IAAI5B,IAAI,CAAC4B,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACpBF,IAAI,GAAGA,IAAI,CAACyB,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAClB;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDK,gBAAgB,CAAC4E,CAAC,CAAChC,IAAI,EAAE,KAAK,CAAC;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEhC,OAAOqG,MAAM;AACd;AAEA;AAEA;AACA,SAASzC,YAAYA,CAACqB,CAAe,EAAE0B,OAAqB;EAAA;EAAAhH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC3D,IAAIiF,CAAC,CAAChC,IAAI,KAAKF,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACxB2G,OAAO,CAACtF,MAAM,GAAG0B,QAAQ;IAAC;IAAApD,cAAA,GAAAK,CAAA;IAC1B2G,OAAO,CAACrF,IAAI,GAAGyB,QAAQ;IAAC;IAAApD,cAAA,GAAAK,CAAA;IACxB2G,OAAO,CAACpF,KAAK,GAAGwB,QAAQ;IAAC;IAAApD,cAAA,GAAAK,CAAA;IACzBE,YAAY,CAACyG,OAAO,0BAAkB;IAAC;IAAAhH,cAAA,GAAAK,CAAA;IACvCiF,CAAC,CAAChC,IAAI,GAAG0D,OAAO;IAAC;IAAAhH,cAAA,GAAAK,CAAA;IACjB,OAAOiF,CAAC,CAAChC,IAAI;EACd,CAAC;EAAA;EAAA;IAAAtD,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EAED4G,UAAU,CAAC3B,CAAC,EAAE0B,OAAO,CAAC;EAAC;EAAAhH,cAAA,GAAAK,CAAA;EAEvB6G,yBAAyB,CAACF,OAAO,CAACtF,MAAM,CAAC;EAEzC;EACA,IAAIyF,CAAC;EAAA;EAAA,CAAAnH,cAAA,GAAAK,CAAA,SAAG2G,OAAO;EAAC;EAAAhH,cAAA,GAAAK,CAAA;EAChB;EAAO;EAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAuG,CAAC,KAAK7B,CAAC,CAAChC,IAAI;EAAA;EAAA,CAAAtD,cAAA,GAAAY,CAAA,YAAIV,YAAY,CAACiH,CAAC,CAACzF,MAAM,CAAC,6BAAoB;IAAA;IAAA1B,cAAA,GAAAK,CAAA;IAChE,IAAI8G,CAAC,CAACzF,MAAM,KAAKyF,CAAC,CAACzF,MAAM,CAACA,MAAM,CAACC,IAAI,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MACtC,MAAMwG,CAAC;MAAA;MAAA,CAAApH,cAAA,GAAAK,CAAA,SAAG8G,CAAC,CAACzF,MAAM,CAACA,MAAM,CAACE,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAEhC,IAAIH,YAAY,CAACkH,CAAC,CAAC,4BAAoB;QAAA;QAAApH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACtCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC6G,CAAC,0BAAkB;QAAC;QAAApH,cAAA,GAAAK,CAAA;QACjCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,CAACA,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QAC7C8G,CAAC,GAAGA,CAAC,CAACzF,MAAM,CAACA,MAAM;MACpB,CAAC,MAAM;QAAA;QAAA1B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN,IAAI8G,CAAC,KAAKA,CAAC,CAACzF,MAAM,CAACE,KAAK,EAAE;UAAA;UAAA5B,cAAA,GAAAY,CAAA;UAAAZ,cAAA,GAAAK,CAAA;UACzB8G,CAAC,GAAGA,CAAC,CAACzF,MAAM;UAAC;UAAA1B,cAAA,GAAAK,CAAA;UACbgH,UAAU,CAAC/B,CAAC,EAAE6B,CAAC,CAAC;QACjB,CAAC;QAAA;QAAA;UAAAnH,cAAA,GAAAY,CAAA;QAAA;QAAAZ,cAAA,GAAAK,CAAA;QACDE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,CAACA,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QAC7CiH,WAAW,CAAChC,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAACA,MAAM,CAAC;MAChC;IACD,CAAC,MAAM;MAAA;MAAA1B,cAAA,GAAAY,CAAA;MACN,MAAMwG,CAAC;MAAA;MAAA,CAAApH,cAAA,GAAAK,CAAA,SAAG8G,CAAC,CAACzF,MAAM,CAACA,MAAM,CAACC,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MAE/B,IAAIH,YAAY,CAACkH,CAAC,CAAC,4BAAoB;QAAA;QAAApH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACtCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC6G,CAAC,0BAAkB;QAAC;QAAApH,cAAA,GAAAK,CAAA;QACjCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,CAACA,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QAC7C8G,CAAC,GAAGA,CAAC,CAACzF,MAAM,CAACA,MAAM;MACpB,CAAC,MAAM;QAAA;QAAA1B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN,IAAI8G,CAAC,KAAKA,CAAC,CAACzF,MAAM,CAACC,IAAI,EAAE;UAAA;UAAA3B,cAAA,GAAAY,CAAA;UAAAZ,cAAA,GAAAK,CAAA;UACxB8G,CAAC,GAAGA,CAAC,CAACzF,MAAM;UAAC;UAAA1B,cAAA,GAAAK,CAAA;UACbiH,WAAW,CAAChC,CAAC,EAAE6B,CAAC,CAAC;QAClB,CAAC;QAAA;QAAA;UAAAnH,cAAA,GAAAY,CAAA;QAAA;QAAAZ,cAAA,GAAAK,CAAA;QACDE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,CAACA,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QAC7CgH,UAAU,CAAC/B,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAACA,MAAM,CAAC;MAC/B;IACD;EACD;EAAC;EAAA1B,cAAA,GAAAK,CAAA;EAEDE,YAAY,CAAC+E,CAAC,CAAChC,IAAI,0BAAkB;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEtC,OAAO2G,OAAO;AACf;AAEA,SAASC,UAAUA,CAAC3B,CAAe,EAAEiC,CAAe;EAAA;EAAAvH,cAAA,GAAAI,CAAA;EACnD,IAAI2B,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAK,CAAA,SAAW,CAAC;EACrB,IAAI8G,CAAC;EAAA;EAAA,CAAAnH,cAAA,GAAAK,CAAA,SAAGiF,CAAC,CAAChC,IAAI;EACd,MAAMkE,cAAc;EAAA;EAAA,CAAAxH,cAAA,GAAAK,CAAA,SAAGkH,CAAC,CAAC1F,KAAK;EAC9B,MAAM4F,YAAY;EAAA;EAAA,CAAAzH,cAAA,GAAAK,CAAA,SAAGkH,CAAC,CAACzF,GAAG;EAAC;EAAA9B,cAAA,GAAAK,CAAA;EAC3B,OAAO,IAAI,EAAE;IACZ,MAAMqH,GAAG;IAAA;IAAA,CAAA1H,cAAA,GAAAK,CAAA,SAAGsH,eAAe,CAACH,cAAc,EAAEC,YAAY,EAAEN,CAAC,CAACtF,KAAK,GAAGE,KAAK,EAAEoF,CAAC,CAACrF,GAAG,GAAGC,KAAK,CAAC;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IAC1F,IAAIqH,GAAG,GAAG,CAAC,EAAE;MAAA;MAAA1H,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACZ;MACA;MACA,IAAI8G,CAAC,CAACxF,IAAI,KAAKyB,QAAQ,EAAE;QAAA;QAAApD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACxBkH,CAAC,CAAC1F,KAAK,IAAIE,KAAK;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QACjBkH,CAAC,CAACzF,GAAG,IAAIC,KAAK;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QACfkH,CAAC,CAACvF,MAAM,IAAID,KAAK;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QAClB8G,CAAC,CAACxF,IAAI,GAAG4F,CAAC;QAAC;QAAAvH,cAAA,GAAAK,CAAA;QACX;MACD,CAAC,MAAM;QAAA;QAAAL,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN8G,CAAC,GAAGA,CAAC,CAACxF,IAAI;MACX;IACD,CAAC,MAAM;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN;MACA;MACA,IAAI8G,CAAC,CAACvF,KAAK,KAAKwB,QAAQ,EAAE;QAAA;QAAApD,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACzBkH,CAAC,CAAC1F,KAAK,IAAKE,KAAK,GAAGoF,CAAC,CAACpF,KAAM;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QAC7BkH,CAAC,CAACzF,GAAG,IAAKC,KAAK,GAAGoF,CAAC,CAACpF,KAAM;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QAC3BkH,CAAC,CAACvF,MAAM,IAAKD,KAAK,GAAGoF,CAAC,CAACpF,KAAM;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QAC9B8G,CAAC,CAACvF,KAAK,GAAG2F,CAAC;QAAC;QAAAvH,cAAA,GAAAK,CAAA;QACZ;MACD,CAAC,MAAM;QAAA;QAAAL,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN0B,KAAK,IAAIoF,CAAC,CAACpF,KAAK;QAAC;QAAA/B,cAAA,GAAAK,CAAA;QACjB8G,CAAC,GAAGA,CAAC,CAACvF,KAAK;MACZ;IACD;EACD;EAAC;EAAA5B,cAAA,GAAAK,CAAA;EAEDkH,CAAC,CAAC7F,MAAM,GAAGyF,CAAC;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EACbkH,CAAC,CAAC5F,IAAI,GAAGyB,QAAQ;EAAC;EAAApD,cAAA,GAAAK,CAAA;EAClBkH,CAAC,CAAC3F,KAAK,GAAGwB,QAAQ;EAAC;EAAApD,cAAA,GAAAK,CAAA;EACnBE,YAAY,CAACgH,CAAC,wBAAgB;AAC/B;AACA;AAEA;AACA,SAASnD,YAAYA,CAACkB,CAAe,EAAEiC,CAAe;EAAA;EAAAvH,cAAA,GAAAI,CAAA;EAErD,IAAI+G,CAAe;EACnB,IAAIC,CAAe;EAEnB;EACA;EAAA;EAAApH,cAAA,GAAAK,CAAA;EAEA,IAAIkH,CAAC,CAAC5F,IAAI,KAAKyB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACxB8G,CAAC,GAAGI,CAAC,CAAC3F,KAAK;IAAC;IAAA5B,cAAA,GAAAK,CAAA;IACZ+G,CAAC,GAAGG,CAAC;IAEL;IAAA;IAAAvH,cAAA,GAAAK,CAAA;IACA8G,CAAC,CAACpF,KAAK,IAAIwF,CAAC,CAACxF,KAAK;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACnB;IAAI;IAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAuG,CAAC,CAACpF,KAAK;IAAA;IAAA,CAAA/B,cAAA,GAAAY,CAAA,YAA+BuG,CAAC,CAACpF,KAAK,+CAA6B;MAAA;MAAA/B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC7EiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;IAC/B,CAAC;IAAA;IAAA;MAAAvD,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD8G,CAAC,CAACtF,KAAK,IAAI0F,CAAC,CAACxF,KAAK;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACnB8G,CAAC,CAACrF,GAAG,IAAIyF,CAAC,CAACxF,KAAK;EAEjB,CAAC,MAAM;IAAA;IAAA/B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAAA,IAAIkH,CAAC,CAAC3F,KAAK,KAAKwB,QAAQ,EAAE;MAAA;MAAApD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAChC8G,CAAC,GAAGI,CAAC,CAAC5F,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MACX+G,CAAC,GAAGG,CAAC;IAEN,CAAC,MAAM;MAAA;MAAAvH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN+G,CAAC,GAAGQ,OAAO,CAACL,CAAC,CAAC3F,KAAK,CAAC;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MACrB8G,CAAC,GAAGC,CAAC,CAACxF,KAAK;MAEX;MACA;MACA;MAAA;MAAA5B,cAAA,GAAAK,CAAA;MACA8G,CAAC,CAACtF,KAAK,IAAIuF,CAAC,CAACrF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACnB8G,CAAC,CAACrF,GAAG,IAAIsF,CAAC,CAACrF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACjB8G,CAAC,CAACpF,KAAK,IAAIqF,CAAC,CAACrF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACnB;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAuG,CAAC,CAACpF,KAAK;MAAA;MAAA,CAAA/B,cAAA,GAAAY,CAAA,YAA+BuG,CAAC,CAACpF,KAAK,+CAA6B;QAAA;QAAA/B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC7EiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;MAC/B,CAAC;MAAA;MAAA;QAAAvD,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED+G,CAAC,CAACvF,KAAK,IAAI0F,CAAC,CAACxF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACnB+G,CAAC,CAACtF,GAAG,IAAIyF,CAAC,CAACxF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MACjB+G,CAAC,CAACrF,KAAK,GAAGwF,CAAC,CAACxF,KAAK;MAAC;MAAA/B,cAAA,GAAAK,CAAA;MAClB;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAwG,CAAC,CAACrF,KAAK;MAAA;MAAA,CAAA/B,cAAA,GAAAY,CAAA,YAA+BwG,CAAC,CAACrF,KAAK,+CAA6B;QAAA;QAAA/B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC7EiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;MAC/B,CAAC;MAAA;MAAA;QAAAvD,cAAA,GAAAY,CAAA;MAAA;IACF;EAAA;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAED,IAAI+G,CAAC,KAAK9B,CAAC,CAAChC,IAAI,EAAE;IAAA;IAAAtD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACjBiF,CAAC,CAAChC,IAAI,GAAG6D,CAAC;IAAC;IAAAnH,cAAA,GAAAK,CAAA;IACXE,YAAY,CAAC4G,CAAC,0BAAkB;IAAC;IAAAnH,cAAA,GAAAK,CAAA;IAEjCkH,CAAC,CAACpE,MAAM,EAAE;IAAC;IAAAnD,cAAA,GAAAK,CAAA;IACXwH,aAAa,EAAE;IAAC;IAAA7H,cAAA,GAAAK,CAAA;IAChBkF,eAAe,CAAC4B,CAAC,CAAC;IAAC;IAAAnH,cAAA,GAAAK,CAAA;IACnBiF,CAAC,CAAChC,IAAI,CAAC5B,MAAM,GAAG0B,QAAQ;IAAC;IAAApD,cAAA,GAAAK,CAAA;IACzB;EACD,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAED,MAAMkH,OAAO;EAAA;EAAA,CAAA9H,cAAA,GAAAK,CAAA,SAAIH,YAAY,CAACkH,CAAC,CAAC,2BAAmB;EAAC;EAAApH,cAAA,GAAAK,CAAA;EAEpD,IAAI+G,CAAC,KAAKA,CAAC,CAAC1F,MAAM,CAACC,IAAI,EAAE;IAAA;IAAA3B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACxB+G,CAAC,CAAC1F,MAAM,CAACC,IAAI,GAAGwF,CAAC;EAClB,CAAC,MAAM;IAAA;IAAAnH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACN+G,CAAC,CAAC1F,MAAM,CAACE,KAAK,GAAGuF,CAAC;EACnB;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EAED,IAAI+G,CAAC,KAAKG,CAAC,EAAE;IAAA;IAAAvH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACZ8G,CAAC,CAACzF,MAAM,GAAG0F,CAAC,CAAC1F,MAAM;EACpB,CAAC,MAAM;IAAA;IAAA1B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEN,IAAI+G,CAAC,CAAC1F,MAAM,KAAK6F,CAAC,EAAE;MAAA;MAAAvH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACnB8G,CAAC,CAACzF,MAAM,GAAG0F,CAAC;IACb,CAAC,MAAM;MAAA;MAAApH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN8G,CAAC,CAACzF,MAAM,GAAG0F,CAAC,CAAC1F,MAAM;IACpB;IAAC;IAAA1B,cAAA,GAAAK,CAAA;IAED+G,CAAC,CAACzF,IAAI,GAAG4F,CAAC,CAAC5F,IAAI;IAAC;IAAA3B,cAAA,GAAAK,CAAA;IAChB+G,CAAC,CAACxF,KAAK,GAAG2F,CAAC,CAAC3F,KAAK;IAAC;IAAA5B,cAAA,GAAAK,CAAA;IAClB+G,CAAC,CAAC1F,MAAM,GAAG6F,CAAC,CAAC7F,MAAM;IAAC;IAAA1B,cAAA,GAAAK,CAAA;IACpBE,YAAY,CAAC6G,CAAC,EAAElH,YAAY,CAACqH,CAAC,CAAC,CAAC;IAAC;IAAAvH,cAAA,GAAAK,CAAA;IAEjC,IAAIkH,CAAC,KAAKjC,CAAC,CAAChC,IAAI,EAAE;MAAA;MAAAtD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACjBiF,CAAC,CAAChC,IAAI,GAAG8D,CAAC;IACX,CAAC,MAAM;MAAA;MAAApH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN,IAAIkH,CAAC,KAAKA,CAAC,CAAC7F,MAAM,CAACC,IAAI,EAAE;QAAA;QAAA3B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACxBkH,CAAC,CAAC7F,MAAM,CAACC,IAAI,GAAGyF,CAAC;MAClB,CAAC,MAAM;QAAA;QAAApH,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACNkH,CAAC,CAAC7F,MAAM,CAACE,KAAK,GAAGwF,CAAC;MACnB;IACD;IAAC;IAAApH,cAAA,GAAAK,CAAA;IAED,IAAI+G,CAAC,CAACzF,IAAI,KAAKyB,QAAQ,EAAE;MAAA;MAAApD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACxB+G,CAAC,CAACzF,IAAI,CAACD,MAAM,GAAG0F,CAAC;IAClB,CAAC;IAAA;IAAA;MAAApH,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACD,IAAI+G,CAAC,CAACxF,KAAK,KAAKwB,QAAQ,EAAE;MAAA;MAAApD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACzB+G,CAAC,CAACxF,KAAK,CAACF,MAAM,GAAG0F,CAAC;IACnB,CAAC;IAAA;IAAA;MAAApH,cAAA,GAAAY,CAAA;IAAA;EACF;EAAC;EAAAZ,cAAA,GAAAK,CAAA;EAEDkH,CAAC,CAACpE,MAAM,EAAE;EAAC;EAAAnD,cAAA,GAAAK,CAAA;EAEX,IAAIyH,OAAO,EAAE;IAAA;IAAA9H,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACZ6G,yBAAyB,CAACC,CAAC,CAACzF,MAAM,CAAC;IAAC;IAAA1B,cAAA,GAAAK,CAAA;IACpC,IAAI+G,CAAC,KAAKG,CAAC,EAAE;MAAA;MAAAvH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACZ6G,yBAAyB,CAACE,CAAC,CAAC;MAAC;MAAApH,cAAA,GAAAK,CAAA;MAC7B6G,yBAAyB,CAACE,CAAC,CAAC1F,MAAM,CAAC;IACpC,CAAC;IAAA;IAAA;MAAA1B,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IACDwH,aAAa,EAAE;IAAC;IAAA7H,cAAA,GAAAK,CAAA;IAChB;EACD,CAAC;EAAA;EAAA;IAAAL,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EAED6G,yBAAyB,CAACC,CAAC,CAAC;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EAC7B6G,yBAAyB,CAACC,CAAC,CAACzF,MAAM,CAAC;EAAC;EAAA1B,cAAA,GAAAK,CAAA;EACpC,IAAI+G,CAAC,KAAKG,CAAC,EAAE;IAAA;IAAAvH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACZ6G,yBAAyB,CAACE,CAAC,CAAC;IAAC;IAAApH,cAAA,GAAAK,CAAA;IAC7B6G,yBAAyB,CAACE,CAAC,CAAC1F,MAAM,CAAC;EACpC,CAAC;EAAA;EAAA;IAAA1B,cAAA,GAAAY,CAAA;EAAA;EAED;EACA,IAAImH,CAAe;EAAC;EAAA/H,cAAA,GAAAK,CAAA;EACpB;EAAO;EAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAuG,CAAC,KAAK7B,CAAC,CAAChC,IAAI;EAAA;EAAA,CAAAtD,cAAA,GAAAY,CAAA,YAAIV,YAAY,CAACiH,CAAC,CAAC,+BAAsB;IAAA;IAAAnH,cAAA,GAAAK,CAAA;IAE3D,IAAI8G,CAAC,KAAKA,CAAC,CAACzF,MAAM,CAACC,IAAI,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACxB0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACE,KAAK;MAAC;MAAA5B,cAAA,GAAAK,CAAA;MAEnB,IAAIH,YAAY,CAAC6H,CAAC,CAAC,4BAAoB;QAAA;QAAA/H,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACtCE,YAAY,CAACwH,CAAC,0BAAkB;QAAC;QAAA/H,cAAA,GAAAK,CAAA;QACjCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACtCgH,UAAU,CAAC/B,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxB0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACE,KAAK;MACnB,CAAC;MAAA;MAAA;QAAA5B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAV,YAAY,CAAC6H,CAAC,CAACpG,IAAI,CAAC;MAAA;MAAA,CAAA3B,cAAA,GAAAY,CAAA,YAAwBV,YAAY,CAAC6H,CAAC,CAACnG,KAAK,CAAC,+BAAsB;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC1FE,YAAY,CAACwH,CAAC,wBAAgB;QAAC;QAAA/H,cAAA,GAAAK,CAAA;QAC/B8G,CAAC,GAAGA,CAAC,CAACzF,MAAM;MACb,CAAC,MAAM;QAAA;QAAA1B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN,IAAIH,YAAY,CAAC6H,CAAC,CAACnG,KAAK,CAAC,8BAAsB;UAAA;UAAA5B,cAAA,GAAAY,CAAA;UAAAZ,cAAA,GAAAK,CAAA;UAC9CE,YAAY,CAACwH,CAAC,CAACpG,IAAI,0BAAkB;UAAC;UAAA3B,cAAA,GAAAK,CAAA;UACtCE,YAAY,CAACwH,CAAC,wBAAgB;UAAC;UAAA/H,cAAA,GAAAK,CAAA;UAC/BiH,WAAW,CAAChC,CAAC,EAAEyC,CAAC,CAAC;UAAC;UAAA/H,cAAA,GAAAK,CAAA;UAClB0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACE,KAAK;QACnB,CAAC;QAAA;QAAA;UAAA5B,cAAA,GAAAY,CAAA;QAAA;QAAAZ,cAAA,GAAAK,CAAA;QAEDE,YAAY,CAACwH,CAAC,EAAE7H,YAAY,CAACiH,CAAC,CAACzF,MAAM,CAAC,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAACwH,CAAC,CAACnG,KAAK,0BAAkB;QAAC;QAAA5B,cAAA,GAAAK,CAAA;QACvCgH,UAAU,CAAC/B,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxB8G,CAAC,GAAG7B,CAAC,CAAChC,IAAI;MACX;IAED,CAAC,MAAM;MAAA;MAAAtD,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACC,IAAI;MAAC;MAAA3B,cAAA,GAAAK,CAAA;MAElB,IAAIH,YAAY,CAAC6H,CAAC,CAAC,4BAAoB;QAAA;QAAA/H,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACtCE,YAAY,CAACwH,CAAC,0BAAkB;QAAC;QAAA/H,cAAA,GAAAK,CAAA;QACjCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,wBAAgB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACtCiH,WAAW,CAAChC,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACzB0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACC,IAAI;MAClB,CAAC;MAAA;MAAA;QAAA3B,cAAA,GAAAY,CAAA;MAAA;MAAAZ,cAAA,GAAAK,CAAA;MAED;MAAI;MAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAV,YAAY,CAAC6H,CAAC,CAACpG,IAAI,CAAC;MAAA;MAAA,CAAA3B,cAAA,GAAAY,CAAA,YAAwBV,YAAY,CAAC6H,CAAC,CAACnG,KAAK,CAAC,+BAAsB;QAAA;QAAA5B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QAC1FE,YAAY,CAACwH,CAAC,wBAAgB;QAAC;QAAA/H,cAAA,GAAAK,CAAA;QAC/B8G,CAAC,GAAGA,CAAC,CAACzF,MAAM;MAEb,CAAC,MAAM;QAAA;QAAA1B,cAAA,GAAAY,CAAA;QAAAZ,cAAA,GAAAK,CAAA;QACN,IAAIH,YAAY,CAAC6H,CAAC,CAACpG,IAAI,CAAC,8BAAsB;UAAA;UAAA3B,cAAA,GAAAY,CAAA;UAAAZ,cAAA,GAAAK,CAAA;UAC7CE,YAAY,CAACwH,CAAC,CAACnG,KAAK,0BAAkB;UAAC;UAAA5B,cAAA,GAAAK,CAAA;UACvCE,YAAY,CAACwH,CAAC,wBAAgB;UAAC;UAAA/H,cAAA,GAAAK,CAAA;UAC/BgH,UAAU,CAAC/B,CAAC,EAAEyC,CAAC,CAAC;UAAC;UAAA/H,cAAA,GAAAK,CAAA;UACjB0H,CAAC,GAAGZ,CAAC,CAACzF,MAAM,CAACC,IAAI;QAClB,CAAC;QAAA;QAAA;UAAA3B,cAAA,GAAAY,CAAA;QAAA;QAAAZ,cAAA,GAAAK,CAAA;QAEDE,YAAY,CAACwH,CAAC,EAAE7H,YAAY,CAACiH,CAAC,CAACzF,MAAM,CAAC,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAAC4G,CAAC,CAACzF,MAAM,0BAAkB;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACxCE,YAAY,CAACwH,CAAC,CAACpG,IAAI,0BAAkB;QAAC;QAAA3B,cAAA,GAAAK,CAAA;QACtCiH,WAAW,CAAChC,CAAC,EAAE6B,CAAC,CAACzF,MAAM,CAAC;QAAC;QAAA1B,cAAA,GAAAK,CAAA;QACzB8G,CAAC,GAAG7B,CAAC,CAAChC,IAAI;MACX;IACD;EACD;EAAC;EAAAtD,cAAA,GAAAK,CAAA;EAEDE,YAAY,CAAC4G,CAAC,0BAAkB;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EACjCwH,aAAa,EAAE;AAChB;AAEA,SAASD,OAAOA,CAACzH,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EAClC,OAAOF,IAAI,CAACwB,IAAI,KAAKyB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAK,CAAA;IAC9BF,IAAI,GAAGA,IAAI,CAACwB,IAAI;EACjB;EAAC;EAAA3B,cAAA,GAAAK,CAAA;EACD,OAAOF,IAAI;AACZ;AAEA,SAAS0H,aAAaA,CAAA;EAAA;EAAA7H,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACrB+C,QAAQ,CAAC1B,MAAM,GAAG0B,QAAQ;EAAC;EAAApD,cAAA,GAAAK,CAAA;EAC3B+C,QAAQ,CAACrB,KAAK,GAAG,CAAC,CAAC,CAAC;EAAA;EAAA/B,cAAA,GAAAK,CAAA;EACpB+C,QAAQ,CAACvB,KAAK,GAAG,CAAC,CAAC,CAAC;EAAA;EAAA7B,cAAA,GAAAK,CAAA;EACpB+C,QAAQ,CAACtB,GAAG,GAAG,CAAC,CAAC,CAAC;AACnB;AACA;AAEA;AACA,SAASuF,UAAUA,CAAC/B,CAAe,EAAE6B,CAAe;EAAA;EAAAnH,cAAA,GAAAI,CAAA;EACnD,MAAMgH,CAAC;EAAA;EAAA,CAAApH,cAAA,GAAAK,CAAA,SAAG8G,CAAC,CAACvF,KAAK,EAAC,CAAI;EAAA;EAAA5B,cAAA,GAAAK,CAAA;EAEtB+G,CAAC,CAACrF,KAAK,IAAIoF,CAAC,CAACpF,KAAK,CAAC,CAAI;EAAA;EAAA/B,cAAA,GAAAK,CAAA;EACvB;EAAI;EAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAwG,CAAC,CAACrF,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAY,CAAA,YAA+BwG,CAAC,CAACrF,KAAK,+CAA6B;IAAA;IAAA/B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC7EiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;EAC/B,CAAC;EAAA;EAAA;IAAAvD,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD+G,CAAC,CAACvF,KAAK,IAAIsF,CAAC,CAACpF,KAAK;EAAC;EAAA/B,cAAA,GAAAK,CAAA;EACnB+G,CAAC,CAACtF,GAAG,IAAIqF,CAAC,CAACpF,KAAK;EAAC;EAAA/B,cAAA,GAAAK,CAAA;EAEjB8G,CAAC,CAACvF,KAAK,GAAGwF,CAAC,CAACzF,IAAI,CAAC,CAAI;EAAA;EAAA3B,cAAA,GAAAK,CAAA;EACrB,IAAI+G,CAAC,CAACzF,IAAI,KAAKyB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACxB+G,CAAC,CAACzF,IAAI,CAACD,MAAM,GAAGyF,CAAC;EAClB,CAAC;EAAA;EAAA;IAAAnH,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD+G,CAAC,CAAC1F,MAAM,GAAGyF,CAAC,CAACzF,MAAM,CAAC,CAAG;EAAA;EAAA1B,cAAA,GAAAK,CAAA;EACvB,IAAI8G,CAAC,CAACzF,MAAM,KAAK0B,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC1BiF,CAAC,CAAChC,IAAI,GAAG8D,CAAC;EACX,CAAC,MAAM;IAAA;IAAApH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAAA,IAAI8G,CAAC,KAAKA,CAAC,CAACzF,MAAM,CAACC,IAAI,EAAE;MAAA;MAAA3B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC/B8G,CAAC,CAACzF,MAAM,CAACC,IAAI,GAAGyF,CAAC;IAClB,CAAC,MAAM;MAAA;MAAApH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN8G,CAAC,CAACzF,MAAM,CAACE,KAAK,GAAGwF,CAAC;IACnB;EAAA;EAAC;EAAApH,cAAA,GAAAK,CAAA;EAED+G,CAAC,CAACzF,IAAI,GAAGwF,CAAC,CAAC,CAAM;EAAA;EAAAnH,cAAA,GAAAK,CAAA;EACjB8G,CAAC,CAACzF,MAAM,GAAG0F,CAAC;EAAC;EAAApH,cAAA,GAAAK,CAAA;EAEbkF,eAAe,CAAC4B,CAAC,CAAC;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EACnBkF,eAAe,CAAC6B,CAAC,CAAC;AACnB;AAEA,SAASE,WAAWA,CAAChC,CAAe,EAAE8B,CAAe;EAAA;EAAApH,cAAA,GAAAI,CAAA;EACpD,MAAM+G,CAAC;EAAA;EAAA,CAAAnH,cAAA,GAAAK,CAAA,SAAG+G,CAAC,CAACzF,IAAI;EAAC;EAAA3B,cAAA,GAAAK,CAAA;EAEjB+G,CAAC,CAACrF,KAAK,IAAIoF,CAAC,CAACpF,KAAK;EAAC;EAAA/B,cAAA,GAAAK,CAAA;EACnB;EAAI;EAAA,CAAAL,cAAA,GAAAY,CAAA,YAAAwG,CAAC,CAACrF,KAAK;EAAA;EAAA,CAAA/B,cAAA,GAAAY,CAAA,YAA+BwG,CAAC,CAACrF,KAAK,+CAA6B;IAAA;IAAA/B,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC7EiF,CAAC,CAAC/B,qBAAqB,GAAG,IAAI;EAC/B,CAAC;EAAA;EAAA;IAAAvD,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD+G,CAAC,CAACvF,KAAK,IAAIsF,CAAC,CAACpF,KAAK;EAAC;EAAA/B,cAAA,GAAAK,CAAA;EACnB+G,CAAC,CAACtF,GAAG,IAAIqF,CAAC,CAACpF,KAAK;EAAC;EAAA/B,cAAA,GAAAK,CAAA;EAEjB+G,CAAC,CAACzF,IAAI,GAAGwF,CAAC,CAACvF,KAAK;EAAC;EAAA5B,cAAA,GAAAK,CAAA;EACjB,IAAI8G,CAAC,CAACvF,KAAK,KAAKwB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACzB8G,CAAC,CAACvF,KAAK,CAACF,MAAM,GAAG0F,CAAC;EACnB,CAAC;EAAA;EAAA;IAAApH,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD8G,CAAC,CAACzF,MAAM,GAAG0F,CAAC,CAAC1F,MAAM;EAAC;EAAA1B,cAAA,GAAAK,CAAA;EACpB,IAAI+G,CAAC,CAAC1F,MAAM,KAAK0B,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAC1BiF,CAAC,CAAChC,IAAI,GAAG6D,CAAC;EACX,CAAC,MAAM;IAAA;IAAAnH,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IAAA,IAAI+G,CAAC,KAAKA,CAAC,CAAC1F,MAAM,CAACE,KAAK,EAAE;MAAA;MAAA5B,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAChC+G,CAAC,CAAC1F,MAAM,CAACE,KAAK,GAAGuF,CAAC;IACnB,CAAC,MAAM;MAAA;MAAAnH,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACN+G,CAAC,CAAC1F,MAAM,CAACC,IAAI,GAAGwF,CAAC;IAClB;EAAA;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EAED8G,CAAC,CAACvF,KAAK,GAAGwF,CAAC;EAAC;EAAApH,cAAA,GAAAK,CAAA;EACZ+G,CAAC,CAAC1F,MAAM,GAAGyF,CAAC;EAAC;EAAAnH,cAAA,GAAAK,CAAA;EAEbkF,eAAe,CAAC6B,CAAC,CAAC;EAAC;EAAApH,cAAA,GAAAK,CAAA;EACnBkF,eAAe,CAAC4B,CAAC,CAAC;AACnB;AACA;AAEA;AAEA,SAASa,aAAaA,CAAC7H,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EACxC,IAAI4B,MAAM;EAAA;EAAA,CAAAhC,cAAA,GAAAK,CAAA,SAAGF,IAAI,CAAC2B,GAAG;EAAC;EAAA9B,cAAA,GAAAK,CAAA;EACtB,IAAIF,IAAI,CAACwB,IAAI,KAAKyB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAC3B,MAAMqH,UAAU;IAAA;IAAA,CAAAjI,cAAA,GAAAK,CAAA,SAAGF,IAAI,CAACwB,IAAI,CAACK,MAAM;IAAC;IAAAhC,cAAA,GAAAK,CAAA;IACpC,IAAI4H,UAAU,GAAGjG,MAAM,EAAE;MAAA;MAAAhC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACxB2B,MAAM,GAAGiG,UAAU;IACpB,CAAC;IAAA;IAAA;MAAAjI,cAAA,GAAAY,CAAA;IAAA;EACF,CAAC;EAAA;EAAA;IAAAZ,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,IAAIF,IAAI,CAACyB,KAAK,KAAKwB,QAAQ,EAAE;IAAA;IAAApD,cAAA,GAAAY,CAAA;IAC5B,MAAMsH,WAAW;IAAA;IAAA,CAAAlI,cAAA,GAAAK,CAAA,SAAGF,IAAI,CAACyB,KAAK,CAACI,MAAM,GAAG7B,IAAI,CAAC4B,KAAK;IAAC;IAAA/B,cAAA,GAAAK,CAAA;IACnD,IAAI6H,WAAW,GAAGlG,MAAM,EAAE;MAAA;MAAAhC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MACzB2B,MAAM,GAAGkG,WAAW;IACrB,CAAC;IAAA;IAAA;MAAAlI,cAAA,GAAAY,CAAA;IAAA;EACF,CAAC;EAAA;EAAA;IAAAZ,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,OAAO2B,MAAM;AACd;AAEA,OAAM,SAAUuD,eAAeA,CAACpF,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACjDF,IAAI,CAAC6B,MAAM,GAAGgG,aAAa,CAAC7H,IAAI,CAAC;AAClC;AAEA,SAAS+G,yBAAyBA,CAAC/G,IAAkB;EAAA;EAAAH,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACpD,OAAOF,IAAI,KAAKiD,QAAQ,EAAE;IAEzB,MAAMpB,MAAM;IAAA;IAAA,CAAAhC,cAAA,GAAAK,CAAA,SAAG2H,aAAa,CAAC7H,IAAI,CAAC;IAAC;IAAAH,cAAA,GAAAK,CAAA;IAEnC,IAAIF,IAAI,CAAC6B,MAAM,KAAKA,MAAM,EAAE;MAAA;MAAAhC,cAAA,GAAAY,CAAA;MAAAZ,cAAA,GAAAK,CAAA;MAC3B;MACA;IACD,CAAC;IAAA;IAAA;MAAAL,cAAA,GAAAY,CAAA;IAAA;IAAAZ,cAAA,GAAAK,CAAA;IAEDF,IAAI,CAAC6B,MAAM,GAAGA,MAAM;IAAC;IAAAhC,cAAA,GAAAK,CAAA;IACrBF,IAAI,GAAGA,IAAI,CAACuB,MAAM;EACnB;AACD;AAEA;AAEA;AACA,OAAM,SAAUiG,eAAeA,CAACQ,MAAc,EAAEC,IAAY,EAAEC,MAAc,EAAEC,IAAY;EAAA;EAAAtI,cAAA,GAAAI,CAAA;EAAAJ,cAAA,GAAAK,CAAA;EACzF,IAAI8H,MAAM,KAAKE,MAAM,EAAE;IAAA;IAAArI,cAAA,GAAAY,CAAA;IAAAZ,cAAA,GAAAK,CAAA;IACtB,OAAO+H,IAAI,GAAGE,IAAI;EACnB,CAAC;EAAA;EAAA;IAAAtI,cAAA,GAAAY,CAAA;EAAA;EAAAZ,cAAA,GAAAK,CAAA;EACD,OAAO8H,MAAM,GAAGE,MAAM;AACvB;AACA","ignoreList":[]}