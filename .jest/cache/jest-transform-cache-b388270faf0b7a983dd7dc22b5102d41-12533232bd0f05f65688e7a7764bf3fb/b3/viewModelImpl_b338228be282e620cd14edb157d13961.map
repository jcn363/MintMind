{"version":3,"names":["cov_yn5gx53yu","actualCoverage","ArrayQueue","RunOnceScheduler","Color","Disposable","platform","strings","filterValidationDecorations","filterFontDecorations","EDITOR_FONT_DEFAULTS","CursorsController","CursorConfiguration","Position","Range","TextDirection","textModelEvents","TokenizationRegistry","PLAINTEXT_LANGUAGE_ID","tokenizeLineToHTML","viewEvents","ViewLayout","MinimapTokensColorTracker","MinimapLinesRenderingData","OverviewRulerDecorationsGroup","ViewLineRenderingData","ViewModelDecorations","FocusChangedEvent","HiddenAreasChangedEvent","ModelContentChangedEvent","ModelDecorationsChangedEvent","ModelFontChangedEvent","ModelLanguageChangedEvent","ModelLanguageConfigurationChangedEvent","ModelLineHeightChangedEvent","ModelOptionsChangedEvent","ModelTokensChangedEvent","ReadOnlyEditAttemptEvent","ScrollChangedEvent","ViewModelEventDispatcher","ViewZonesChangedEvent","WidgetFocusChangedEvent","ViewModelLinesFromModelAsIs","ViewModelLinesFromProjectedModel","GlyphMarginLanesModel","USE_IDENTITY_LINES_COLLECTION","s","ViewModel","languageConfigurationService","_themeService","_attachedView","_transactionalTarget","_editorId","_configuration","model","_eventDispatcher","onEvent","cursorConfig","_updateConfigurationViewLineCount","_hasFocus","_viewportStart","_lines","coordinatesConverter","viewLayout","_cursor","_decorations","glyphLanes","constructor","editorId","configuration","domLineBreaksComputerFactory","monospaceLineBreaksComputerFactory","scheduleAtNextAnimationFrame","f","getLanguageId","getOptions","_register","_updateConfigurationViewLineCountNow","ViewportStart","create","b","isTooLargeForTokenization","options","fontInfo","get","wrappingStrategy","wrappingInfo","wrappingIndent","wordBreak","wrapOnEscapedLineFeeds","tabSize","wrappingColumn","createCoordinatesConverter","getLineCount","_getCustomLineHeights","onDidScroll","e","scrollTopChanged","_handleVisibleLinesChanged","invalidate","emitSingleViewEvent","ViewScrollChangedEvent","emitOutgoingEvent","oldScrollWidth","oldScrollLeft","oldScrollHeight","oldScrollTop","scrollWidth","scrollLeft","scrollHeight","scrollTop","onDidContentSizeChange","_registerModelEvents","onDidChangeFast","eventsCollector","beginEmitViewEvents","_onConfigurationChanged","endEmitViewEvents","getInstance","onDidChange","ViewTokensColorsChangedEvent","onDidColorThemeChange","theme","_invalidateDecorationsColorCache","ViewThemeChangedEvent","dispose","createLineBreaksComputer","addViewEventHandler","eventHandler","removeViewEventHandler","allowVariableLineHeights","decorations","getCustomLineHeightsDecorations","map","d","lineNumber","range","startLineNumber","viewRange","convertModelRangeToViewRange","getLineMaxColumn","decorationId","id","endLineNumber","lineHeight","setViewLineCount","getViewLineCount","getModelVisibleRanges","linesViewportData","getLinesViewportData","viewVisibleRange","getLineMinColumn","modelVisibleRanges","_toModelVisibleRanges","visibleLinesStabilized","setVisibleLines","setHasFocus","hasFocus","ViewFocusChangedEvent","setHasWidgetFocus","hasWidgetFocus","onCompositionStart","ViewCompositionStartEvent","onCompositionEnd","ViewCompositionEndEvent","_captureStableViewport","isValid","getCurrentScrollTop","previousViewportStartViewPosition","viewLineNumber","previousViewportStartModelPosition","convertViewPositionToModelPosition","StableViewport","startLineDelta","stableViewport","setWrappingSettings","emitViewEvent","ViewFlushedEvent","ViewLineMappingChangedEvent","ViewDecorationsChangedEvent","onLineMappingChanged","onFlushed","schedule","hasChanged","reset","ViewConfigurationChangedEvent","onConfigurationChanged","recoverViewportStart","shouldRecreate","updateConfiguration","onDidChangeContentOrInjectedText","hadOtherModelChange","hadModelLineChangeThatChangedLineMapping","changes","InternalModelContentChangeEvent","rawContentChangedEvent","versionId","lineBreaksComputer","change","changeType","lineIdx","detail","length","line","injectedText","injectedTexts","filter","element","ownerId","addRequest","lineBreaks","finalize","lineBreakQueue","onModelFlushed","linesDeletedEvent","onModelLinesDeleted","fromLineNumber","toLineNumber","onLinesDeleted","insertedLineBreaks","takeCount","linesInsertedEvent","onModelLinesInserted","onLinesInserted","changedLineBreakData","dequeue","lineMappingChanged","linesChangedEvent","onModelLineChanged","acceptVersionId","onHeightMaybeChanged","viewportStartWasValid","setModelLineCount","getAttachedEditorCount","modelRange","_getTrackedRange","modelTrackedRange","viewPosition","convertModelPositionToViewPosition","getStartPosition","viewPositionTop","getVerticalOffsetForLineNumber","setScrollPosition","contentChangedEvent","onModelContentChanged","onDidChangeLineHeight","filteredChanges","changeSpecialLineHeights","accessor","insertOrChangeCustomLineHeight","removeCustomLineHeight","filteredEvent","allowVariableFonts","onDidChangeFont","onDidChangeTokens","viewRanges","j","lenJ","ranges","viewStartLineNumber","viewEndLineNumber","ViewTokensChangedEvent","onDidChangeLanguageConfiguration","ViewLanguageConfigurationEvent","onDidChangeLanguage","onDidChangeOptions","setTabSize","onDidChangeDecorations","onModelDecorationsChanged","hiddenAreasModel","HiddenAreasModel","previousHiddenAreas","getFontSizeAtPosition","position","fontDecorations","getFontDecorationsInRange","fromPositions","fontSize","fontDecoration","setHiddenAreas","source","forceUpdate","mergedRanges","getMergedRanges","firstModelLineInViewPort","viewportStartModelPosition","firstModelLineIsHidden","some","getVisibleRangesPlusViewportAboveBelow","layoutInfo","linesAround","Math","max","round","height","partialData","startViewLineNumber","completelyVisibleStartLineNumber","endViewLineNumber","min","completelyVisibleEndLineNumber","getVisibleRanges","visibleViewRange","getCompletelyVisibleViewRange","getHiddenAreas","visibleRange","convertViewRangeToModelRange","hiddenAreas","result","resultLen","startColumn","endColumn","i","len","hiddenStartLineNumber","hiddenEndLineNumber","getCompletelyVisibleViewRangeAtScrollTop","getLinesViewportDataAtScrollTop","saveState","compatViewState","firstViewLineNumber","getLineNumberAtVerticalOffset","firstPosition","firstPositionDeltaTop","reduceRestoreState","state","_reduceRestoreStateCompatibility","modelPosition","validatePosition","scrollTopWithoutViewZones","getTabSize","setViewport","centeredLineNumber","update","getActiveIndentGuide","minLineNumber","maxLineNumber","getLinesIndentGuides","getViewLinesIndentGuides","getBracketGuidesInRangeByLine","activePosition","getViewLinesBracketGuides","getLineContent","getViewLineContent","getLineLength","getViewLineLength","getViewLineMinColumn","getViewLineMaxColumn","getLineFirstNonWhitespaceColumn","firstNonWhitespaceIndex","getLineLastNonWhitespaceColumn","lastNonWhitespaceIndex","getMinimapDecorationsInRange","getDecorationsInViewport","getDecorationsViewportData","getInjectedTextAt","_getTextDirection","rtlCount","decoration","textDirection","RTL","LTR","getTextDirection","decorationsCollection","getDecorationsOnLine","getViewportViewLineRenderingData","viewportDecorationsCollection","inlineDecorations","_getViewLineRenderingData","hasVariableFonts","getViewLineRenderingData","mightContainRTL","mightContainNonBasicASCII","lineData","getViewLineData","toInlineDecoration","minColumn","maxColumn","content","continuesWithWrappedLine","tokens","startVisibleColumn","getMinimapLinesRenderingData","needed","getViewLinesData","getAllOverviewRulerDecorations","getOverviewRulerDecorations","OverviewRulerDecorations","decorationOptions","opts","overviewRuler","lane","color","getColor","value","getViewLineNumberOfModelPosition","accept","zIndex","asArray","opts1","invalidateCachedColor","opts2","minimap","getValueInRange","eol","getValueLengthInRange","modifyPosition","offset","resultModelPosition","deduceModelPositionRelativeToViewPosition","viewAnchorPosition","deltaOffset","lineFeedCnt","modelAnchor","getEOL","modelAnchorOffset","getOffsetAt","resultOffset","getPositionAt","getPlainTextToCopy","modelRanges","emptySelectionClipboard","forceCRLF","newLineCharacter","slice","sort","compareRangesUsingStarts","hasEmptyRange","hasNonEmptyRange","isEmpty","modelLineNumbers","r","prevModelLineNumber","modelLineNumber","push","getRichTextToCopy","languageId","colorMap","_getColorMap","hasBadChars","test","fontFamily","useDefaultFontFamily","replace","hasQuotesOrIsList","needsQuotes","mode","html","fontWeight","_getHTMLToCopy","lineTokens","tokenization","getLineTokens","lineContent","startOffset","endOffset","inflate","isWindows","getColorMap","Format","CSS","formatHex","getPrimaryCursorState","getLastAddedCursorIndex","getCursorStates","setCursorStates","reason","states","_withViewEventsCollector","setStates","getCursorColumnSelectData","getCursorAutoClosedCharacters","getAutoClosedCharacters","setCursorColumnSelectData","columnSelectData","getPrevEditOperationType","setPrevEditOperationType","type","getSelection","getSelections","getPosition","modelState","setSelections","selections","saveCursorState","restoreCursorState","restoreState","_executeCursorEdit","callback","context","readOnly","executeEdits","edits","cursorStateComputer","startComposition","endComposition","text","compositionType","replacePrevCharCnt","replaceNextCharCnt","positionDelta","paste","pasteOnNewLine","multicursorText","cut","executeCommand","command","executeCommands","commands","revealAllCursors","revealHorizontal","minimalReveal","revealAll","revealPrimaryCursor","revealPrimary","revealTopMostCursor","getTopMostViewPosition","column","ViewRevealRangeRequestEvent","revealBottomMostCursor","getBottomMostViewPosition","revealRange","verticalType","scrollType","changeWhitespace","hadAChange","batchChanges","batchEvents","normalizePosition","affinity","getLineIndentColumn","_model","_viewLineNumber","_isValid","_modelTrackedRange","_startLineDelta","viewportStartLineTrackedRange","_setTrackedRange","viewModel","viewportStartLineTop","_asMap","Object","prevGroup","prevData","data","prevLane","prevEndLineNumber","group","Map","shouldRecompute","existing","rangeArraysEqual","set","newRanges","Array","from","values","reduce","mergeLineRangeArray","arr1","arr2","item1","item2","equalsRange"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/viewModel/viewModelImpl.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ArrayQueue } from '../../../base/common/arrays.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\nimport { Color } from '../../../base/common/color.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../base/common/lifecycle.js';\nimport * as platform from '../../../base/common/platform.js';\nimport * as strings from '../../../base/common/strings.js';\nimport { ConfigurationChangedEvent, EditorOption, filterValidationDecorations, filterFontDecorations } from '../config/editorOptions.js';\nimport { EDITOR_FONT_DEFAULTS } from '../config/fontInfo.js';\nimport { CursorsController } from '../cursor/cursor.js';\nimport { CursorConfiguration, CursorState, EditOperationType, IColumnSelectData, PartialCursorState } from '../cursorCommon.js';\nimport { CursorChangeReason } from '../cursorEvents.js';\nimport { IPosition, Position } from '../core/position.js';\nimport { Range } from '../core/range.js';\nimport { ISelection, Selection } from '../core/selection.js';\nimport { ICommand, ICursorState, IViewState, ScrollType } from '../editorCommon.js';\nimport { IEditorConfiguration } from '../config/editorConfiguration.js';\nimport { EndOfLinePreference, IAttachedView, ICursorStateComputer, IGlyphMarginLanesModel, IIdentifiedSingleEditOperation, ITextModel, PositionAffinity, TextDirection, TrackedRangeStickiness } from '../model.js';\nimport { IActiveIndentGuideInfo, BracketGuideOptions, IndentGuide } from '../textModelGuides.js';\nimport { ModelDecorationMinimapOptions, ModelDecorationOptions, ModelDecorationOverviewRulerOptions } from '../model/textModel.js';\nimport * as textModelEvents from '../textModelEvents.js';\nimport { TokenizationRegistry } from '../languages.js';\nimport { ColorId } from '../encodedTokenAttributes.js';\nimport { ILanguageConfigurationService } from '../languages/languageConfigurationRegistry.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { tokenizeLineToHTML } from '../languages/textToHtmlTokenizer.js';\nimport { EditorTheme } from '../editorTheme.js';\nimport * as viewEvents from '../viewEvents.js';\nimport { ViewLayout } from '../viewLayout/viewLayout.js';\nimport { MinimapTokensColorTracker } from './minimapTokensColorTracker.js';\nimport { ILineBreaksComputer, ILineBreaksComputerFactory, InjectedText } from '../modelLineProjectionData.js';\nimport { ViewEventHandler } from '../viewEventHandler.js';\nimport { ILineHeightChangeAccessor, IViewModel, IWhitespaceChangeAccessor, MinimapLinesRenderingData, OverviewRulerDecorationsGroup, ViewLineData, ViewLineRenderingData, ViewModelDecoration } from '../viewModel.js';\nimport { ViewModelDecorations } from './viewModelDecorations.js';\nimport { FocusChangedEvent, HiddenAreasChangedEvent, ModelContentChangedEvent, ModelDecorationsChangedEvent, ModelFontChangedEvent, ModelLanguageChangedEvent, ModelLanguageConfigurationChangedEvent, ModelLineHeightChangedEvent, ModelOptionsChangedEvent, ModelTokensChangedEvent, OutgoingViewModelEvent, ReadOnlyEditAttemptEvent, ScrollChangedEvent, ViewModelEventDispatcher, ViewModelEventsCollector, ViewZonesChangedEvent, WidgetFocusChangedEvent } from '../viewModelEventDispatcher.js';\nimport { IViewModelLines, ViewModelLinesFromModelAsIs, ViewModelLinesFromProjectedModel } from './viewModelLines.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { GlyphMarginLanesModel } from './glyphLanesModel.js';\nimport { ICustomLineHeightData } from '../viewLayout/lineHeights.js';\nimport { TextModelEditSource } from '../textModelEditSource.js';\nimport { InlineDecoration } from './inlineDecorations.js';\nimport { ICoordinatesConverter } from '../coordinatesConverter.js';\n\nconst USE_IDENTITY_LINES_COLLECTION = true;\n\nexport class ViewModel extends Disposable implements IViewModel {\n\n\tprivate readonly _editorId: number;\n\tprivate readonly _configuration: IEditorConfiguration;\n\tpublic readonly model: ITextModel;\n\tprivate readonly _eventDispatcher: ViewModelEventDispatcher;\n\tpublic readonly onEvent: Event<OutgoingViewModelEvent>;\n\tpublic cursorConfig: CursorConfiguration;\n\tprivate readonly _updateConfigurationViewLineCount: RunOnceScheduler;\n\tprivate _hasFocus: boolean;\n\tprivate readonly _viewportStart: ViewportStart;\n\tprivate readonly _lines: IViewModelLines;\n\tpublic readonly coordinatesConverter: ICoordinatesConverter;\n\tpublic readonly viewLayout: ViewLayout;\n\tprivate readonly _cursor: CursorsController;\n\tprivate readonly _decorations: ViewModelDecorations;\n\tpublic readonly glyphLanes: IGlyphMarginLanesModel;\n\n\tconstructor(\n\t\teditorId: number,\n\t\tconfiguration: IEditorConfiguration,\n\t\tmodel: ITextModel,\n\t\tdomLineBreaksComputerFactory: ILineBreaksComputerFactory,\n\t\tmonospaceLineBreaksComputerFactory: ILineBreaksComputerFactory,\n\t\tscheduleAtNextAnimationFrame: (callback: () => void) => IDisposable,\n\t\tprivate readonly languageConfigurationService: ILanguageConfigurationService,\n\t\tprivate readonly _themeService: IThemeService,\n\t\tprivate readonly _attachedView: IAttachedView,\n\t\tprivate readonly _transactionalTarget: IBatchableTarget,\n\t) {\n\t\tsuper();\n\n\t\tthis._editorId = editorId;\n\t\tthis._configuration = configuration;\n\t\tthis.model = model;\n\t\tthis._eventDispatcher = new ViewModelEventDispatcher();\n\t\tthis.onEvent = this._eventDispatcher.onEvent;\n\t\tthis.cursorConfig = new CursorConfiguration(this.model.getLanguageId(), this.model.getOptions(), this._configuration, this.languageConfigurationService);\n\t\tthis._updateConfigurationViewLineCount = this._register(new RunOnceScheduler(() => this._updateConfigurationViewLineCountNow(), 0));\n\t\tthis._hasFocus = false;\n\t\tthis._viewportStart = ViewportStart.create(this.model);\n\t\tthis.glyphLanes = new GlyphMarginLanesModel(0);\n\n\t\tif (USE_IDENTITY_LINES_COLLECTION && this.model.isTooLargeForTokenization()) {\n\n\t\t\tthis._lines = new ViewModelLinesFromModelAsIs(this.model);\n\n\t\t} else {\n\t\t\tconst options = this._configuration.options;\n\t\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\t\tconst wrappingStrategy = options.get(EditorOption.wrappingStrategy);\n\t\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\t\t\tconst wrappingIndent = options.get(EditorOption.wrappingIndent);\n\t\t\tconst wordBreak = options.get(EditorOption.wordBreak);\n\t\t\tconst wrapOnEscapedLineFeeds = options.get(EditorOption.wrapOnEscapedLineFeeds);\n\n\t\t\tthis._lines = new ViewModelLinesFromProjectedModel(\n\t\t\t\tthis._editorId,\n\t\t\t\tthis.model,\n\t\t\t\tdomLineBreaksComputerFactory,\n\t\t\t\tmonospaceLineBreaksComputerFactory,\n\t\t\t\tfontInfo,\n\t\t\t\tthis.model.getOptions().tabSize,\n\t\t\t\twrappingStrategy,\n\t\t\t\twrappingInfo.wrappingColumn,\n\t\t\t\twrappingIndent,\n\t\t\t\twordBreak,\n\t\t\t\twrapOnEscapedLineFeeds\n\t\t\t);\n\t\t}\n\n\t\tthis.coordinatesConverter = this._lines.createCoordinatesConverter();\n\n\t\tthis._cursor = this._register(new CursorsController(model, this, this.coordinatesConverter, this.cursorConfig));\n\n\t\tthis.viewLayout = this._register(new ViewLayout(this._configuration, this.getLineCount(), this._getCustomLineHeights(), scheduleAtNextAnimationFrame));\n\n\t\tthis._register(this.viewLayout.onDidScroll((e) => {\n\t\t\tif (e.scrollTopChanged) {\n\t\t\t\tthis._handleVisibleLinesChanged();\n\t\t\t}\n\t\t\tif (e.scrollTopChanged) {\n\t\t\t\tthis._viewportStart.invalidate();\n\t\t\t}\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewScrollChangedEvent(e));\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ScrollChangedEvent(\n\t\t\t\te.oldScrollWidth, e.oldScrollLeft, e.oldScrollHeight, e.oldScrollTop,\n\t\t\t\te.scrollWidth, e.scrollLeft, e.scrollHeight, e.scrollTop\n\t\t\t));\n\t\t}));\n\n\t\tthis._register(this.viewLayout.onDidContentSizeChange((e) => {\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(e);\n\t\t}));\n\n\t\tthis._decorations = new ViewModelDecorations(this._editorId, this.model, this._configuration, this._lines, this.coordinatesConverter);\n\n\t\tthis._registerModelEvents();\n\n\t\tthis._register(this._configuration.onDidChangeFast((e) => {\n\t\t\ttry {\n\t\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\t\t\t\tthis._onConfigurationChanged(eventsCollector, e);\n\t\t\t} finally {\n\t\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(MinimapTokensColorTracker.getInstance().onDidChange(() => {\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewTokensColorsChangedEvent());\n\t\t}));\n\n\t\tthis._register(this._themeService.onDidColorThemeChange((theme) => {\n\t\t\tthis._invalidateDecorationsColorCache();\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewThemeChangedEvent(theme));\n\t\t}));\n\n\t\tthis._updateConfigurationViewLineCountNow();\n\t}\n\n\tpublic override dispose(): void {\n\t\t// First remove listeners, as disposing the lines might end up sending\n\t\t// model decoration changed events ... and we no longer care about them ...\n\t\tsuper.dispose();\n\t\tthis._decorations.dispose();\n\t\tthis._lines.dispose();\n\t\tthis._viewportStart.dispose();\n\t\tthis._eventDispatcher.dispose();\n\t}\n\n\tpublic createLineBreaksComputer(): ILineBreaksComputer {\n\t\treturn this._lines.createLineBreaksComputer();\n\t}\n\n\tpublic addViewEventHandler(eventHandler: ViewEventHandler): void {\n\t\tthis._eventDispatcher.addViewEventHandler(eventHandler);\n\t}\n\n\tpublic removeViewEventHandler(eventHandler: ViewEventHandler): void {\n\t\tthis._eventDispatcher.removeViewEventHandler(eventHandler);\n\t}\n\n\tprivate _getCustomLineHeights(): ICustomLineHeightData[] {\n\t\tconst allowVariableLineHeights = this._configuration.options.get(EditorOption.allowVariableLineHeights);\n\t\tif (!allowVariableLineHeights) {\n\t\t\treturn [];\n\t\t}\n\t\tconst decorations = this.model.getCustomLineHeightsDecorations(this._editorId);\n\t\treturn decorations.map((d) => {\n\t\t\tconst lineNumber = d.range.startLineNumber;\n\t\t\tconst viewRange = this.coordinatesConverter.convertModelRangeToViewRange(new Range(lineNumber, 1, lineNumber, this.model.getLineMaxColumn(lineNumber)));\n\t\t\treturn {\n\t\t\t\tdecorationId: d.id,\n\t\t\t\tstartLineNumber: viewRange.startLineNumber,\n\t\t\t\tendLineNumber: viewRange.endLineNumber,\n\t\t\t\tlineHeight: d.options.lineHeight || 0\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate _updateConfigurationViewLineCountNow(): void {\n\t\tthis._configuration.setViewLineCount(this._lines.getViewLineCount());\n\t}\n\n\tprivate getModelVisibleRanges(): Range[] {\n\t\tconst linesViewportData = this.viewLayout.getLinesViewportData();\n\t\tconst viewVisibleRange = new Range(\n\t\t\tlinesViewportData.startLineNumber,\n\t\t\tthis.getLineMinColumn(linesViewportData.startLineNumber),\n\t\t\tlinesViewportData.endLineNumber,\n\t\t\tthis.getLineMaxColumn(linesViewportData.endLineNumber)\n\t\t);\n\t\tconst modelVisibleRanges = this._toModelVisibleRanges(viewVisibleRange);\n\t\treturn modelVisibleRanges;\n\t}\n\n\tpublic visibleLinesStabilized(): void {\n\t\tconst modelVisibleRanges = this.getModelVisibleRanges();\n\t\tthis._attachedView.setVisibleLines(modelVisibleRanges, true);\n\t}\n\n\tprivate _handleVisibleLinesChanged(): void {\n\t\tconst modelVisibleRanges = this.getModelVisibleRanges();\n\t\tthis._attachedView.setVisibleLines(modelVisibleRanges, false);\n\t}\n\n\tpublic setHasFocus(hasFocus: boolean): void {\n\t\tthis._hasFocus = hasFocus;\n\t\tthis._cursor.setHasFocus(hasFocus);\n\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewFocusChangedEvent(hasFocus));\n\t\tthis._eventDispatcher.emitOutgoingEvent(new FocusChangedEvent(!hasFocus, hasFocus));\n\t}\n\n\tpublic setHasWidgetFocus(hasWidgetFocus: boolean): void {\n\t\tthis._eventDispatcher.emitOutgoingEvent(new WidgetFocusChangedEvent(!hasWidgetFocus, hasWidgetFocus));\n\t}\n\n\tpublic onCompositionStart(): void {\n\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewCompositionStartEvent());\n\t}\n\n\tpublic onCompositionEnd(): void {\n\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewCompositionEndEvent());\n\t}\n\n\tprivate _captureStableViewport(): StableViewport {\n\t\t// We might need to restore the current start view range, so save it (if available)\n\t\t// But only if the scroll position is not at the top of the file\n\t\tif (this._viewportStart.isValid && this.viewLayout.getCurrentScrollTop() > 0) {\n\t\t\tconst previousViewportStartViewPosition = new Position(this._viewportStart.viewLineNumber, this.getLineMinColumn(this._viewportStart.viewLineNumber));\n\t\t\tconst previousViewportStartModelPosition = this.coordinatesConverter.convertViewPositionToModelPosition(previousViewportStartViewPosition);\n\t\t\treturn new StableViewport(previousViewportStartModelPosition, this._viewportStart.startLineDelta);\n\t\t}\n\t\treturn new StableViewport(null, 0);\n\t}\n\n\tprivate _onConfigurationChanged(eventsCollector: ViewModelEventsCollector, e: ConfigurationChangedEvent): void {\n\t\tconst stableViewport = this._captureStableViewport();\n\t\tconst options = this._configuration.options;\n\t\tconst fontInfo = options.get(EditorOption.fontInfo);\n\t\tconst wrappingStrategy = options.get(EditorOption.wrappingStrategy);\n\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\t\tconst wrappingIndent = options.get(EditorOption.wrappingIndent);\n\t\tconst wordBreak = options.get(EditorOption.wordBreak);\n\n\t\tif (this._lines.setWrappingSettings(fontInfo, wrappingStrategy, wrappingInfo.wrappingColumn, wrappingIndent, wordBreak)) {\n\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewFlushedEvent());\n\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewLineMappingChangedEvent());\n\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t\tthis._cursor.onLineMappingChanged(eventsCollector);\n\t\t\tthis._decorations.onLineMappingChanged();\n\t\t\tthis.viewLayout.onFlushed(this.getLineCount(), this._getCustomLineHeights());\n\n\t\t\tthis._updateConfigurationViewLineCount.schedule();\n\t\t}\n\n\t\tif (e.hasChanged(EditorOption.readOnly)) {\n\t\t\t// Must read again all decorations due to readOnly filtering\n\t\t\tthis._decorations.reset();\n\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t}\n\n\t\tif (e.hasChanged(EditorOption.renderValidationDecorations)) {\n\t\t\tthis._decorations.reset();\n\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t}\n\n\t\teventsCollector.emitViewEvent(new viewEvents.ViewConfigurationChangedEvent(e));\n\t\tthis.viewLayout.onConfigurationChanged(e);\n\n\t\tstableViewport.recoverViewportStart(this.coordinatesConverter, this.viewLayout);\n\n\t\tif (CursorConfiguration.shouldRecreate(e)) {\n\t\t\tthis.cursorConfig = new CursorConfiguration(this.model.getLanguageId(), this.model.getOptions(), this._configuration, this.languageConfigurationService);\n\t\t\tthis._cursor.updateConfiguration(this.cursorConfig);\n\t\t}\n\t}\n\n\tprivate _registerModelEvents(): void {\n\n\t\tthis._register(this.model.onDidChangeContentOrInjectedText((e) => {\n\t\t\ttry {\n\t\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\n\t\t\t\tlet hadOtherModelChange = false;\n\t\t\t\tlet hadModelLineChangeThatChangedLineMapping = false;\n\n\t\t\t\tconst changes = (e instanceof textModelEvents.InternalModelContentChangeEvent ? e.rawContentChangedEvent.changes : e.changes);\n\t\t\t\tconst versionId = (e instanceof textModelEvents.InternalModelContentChangeEvent ? e.rawContentChangedEvent.versionId : null);\n\n\t\t\t\t// Do a first pass to compute line mappings, and a second pass to actually interpret them\n\t\t\t\tconst lineBreaksComputer = this._lines.createLineBreaksComputer();\n\t\t\t\tfor (const change of changes) {\n\t\t\t\t\tswitch (change.changeType) {\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.LinesInserted: {\n\t\t\t\t\t\t\tfor (let lineIdx = 0; lineIdx < change.detail.length; lineIdx++) {\n\t\t\t\t\t\t\t\tconst line = change.detail[lineIdx];\n\t\t\t\t\t\t\t\tlet injectedText = change.injectedTexts[lineIdx];\n\t\t\t\t\t\t\t\tif (injectedText) {\n\t\t\t\t\t\t\t\t\tinjectedText = injectedText.filter(element => (!element.ownerId || element.ownerId === this._editorId));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlineBreaksComputer.addRequest(line, injectedText, null);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.LineChanged: {\n\t\t\t\t\t\t\tlet injectedText: textModelEvents.LineInjectedText[] | null = null;\n\t\t\t\t\t\t\tif (change.injectedText) {\n\t\t\t\t\t\t\t\tinjectedText = change.injectedText.filter(element => (!element.ownerId || element.ownerId === this._editorId));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlineBreaksComputer.addRequest(change.detail, injectedText, null);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst lineBreaks = lineBreaksComputer.finalize();\n\t\t\t\tconst lineBreakQueue = new ArrayQueue(lineBreaks);\n\n\t\t\t\tfor (const change of changes) {\n\t\t\t\t\tswitch (change.changeType) {\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.Flush: {\n\t\t\t\t\t\t\tthis._lines.onModelFlushed();\n\t\t\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewFlushedEvent());\n\t\t\t\t\t\t\tthis._decorations.reset();\n\t\t\t\t\t\t\tthis.viewLayout.onFlushed(this.getLineCount(), this._getCustomLineHeights());\n\t\t\t\t\t\t\thadOtherModelChange = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.LinesDeleted: {\n\t\t\t\t\t\t\tconst linesDeletedEvent = this._lines.onModelLinesDeleted(versionId, change.fromLineNumber, change.toLineNumber);\n\t\t\t\t\t\t\tif (linesDeletedEvent !== null) {\n\t\t\t\t\t\t\t\teventsCollector.emitViewEvent(linesDeletedEvent);\n\t\t\t\t\t\t\t\tthis.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber, linesDeletedEvent.toLineNumber);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thadOtherModelChange = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.LinesInserted: {\n\t\t\t\t\t\t\tconst insertedLineBreaks = lineBreakQueue.takeCount(change.detail.length);\n\t\t\t\t\t\t\tconst linesInsertedEvent = this._lines.onModelLinesInserted(versionId, change.fromLineNumber, change.toLineNumber, insertedLineBreaks);\n\t\t\t\t\t\t\tif (linesInsertedEvent !== null) {\n\t\t\t\t\t\t\t\teventsCollector.emitViewEvent(linesInsertedEvent);\n\t\t\t\t\t\t\t\tthis.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber, linesInsertedEvent.toLineNumber);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thadOtherModelChange = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.LineChanged: {\n\t\t\t\t\t\t\tconst changedLineBreakData = lineBreakQueue.dequeue()!;\n\t\t\t\t\t\t\tconst [lineMappingChanged, linesChangedEvent, linesInsertedEvent, linesDeletedEvent] =\n\t\t\t\t\t\t\t\tthis._lines.onModelLineChanged(versionId, change.lineNumber, changedLineBreakData);\n\t\t\t\t\t\t\thadModelLineChangeThatChangedLineMapping = lineMappingChanged;\n\t\t\t\t\t\t\tif (linesChangedEvent) {\n\t\t\t\t\t\t\t\teventsCollector.emitViewEvent(linesChangedEvent);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (linesInsertedEvent) {\n\t\t\t\t\t\t\t\teventsCollector.emitViewEvent(linesInsertedEvent);\n\t\t\t\t\t\t\t\tthis.viewLayout.onLinesInserted(linesInsertedEvent.fromLineNumber, linesInsertedEvent.toLineNumber);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (linesDeletedEvent) {\n\t\t\t\t\t\t\t\teventsCollector.emitViewEvent(linesDeletedEvent);\n\t\t\t\t\t\t\t\tthis.viewLayout.onLinesDeleted(linesDeletedEvent.fromLineNumber, linesDeletedEvent.toLineNumber);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase textModelEvents.RawContentChangedType.EOLChanged: {\n\t\t\t\t\t\t\t// Nothing to do. The new version will be accepted below\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (versionId !== null) {\n\t\t\t\t\tthis._lines.acceptVersionId(versionId);\n\t\t\t\t}\n\t\t\t\tthis.viewLayout.onHeightMaybeChanged();\n\n\t\t\t\tif (!hadOtherModelChange && hadModelLineChangeThatChangedLineMapping) {\n\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewLineMappingChangedEvent());\n\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t\t\t\tthis._cursor.onLineMappingChanged(eventsCollector);\n\t\t\t\t\tthis._decorations.onLineMappingChanged();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t\t}\n\n\t\t\t// Update the configuration and reset the centered view line\n\t\t\tconst viewportStartWasValid = this._viewportStart.isValid;\n\t\t\tthis._viewportStart.invalidate();\n\t\t\tthis._configuration.setModelLineCount(this.model.getLineCount());\n\t\t\tthis._updateConfigurationViewLineCountNow();\n\n\t\t\t// Recover viewport\n\t\t\tif (!this._hasFocus && this.model.getAttachedEditorCount() >= 2 && viewportStartWasValid) {\n\t\t\t\tconst modelRange = this.model._getTrackedRange(this._viewportStart.modelTrackedRange);\n\t\t\t\tif (modelRange) {\n\t\t\t\t\tconst viewPosition = this.coordinatesConverter.convertModelPositionToViewPosition(modelRange.getStartPosition());\n\t\t\t\t\tconst viewPositionTop = this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);\n\t\t\t\t\tthis.viewLayout.setScrollPosition({ scrollTop: viewPositionTop + this._viewportStart.startLineDelta }, ScrollType.Immediate);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\t\t\t\tif (e instanceof textModelEvents.InternalModelContentChangeEvent) {\n\t\t\t\t\teventsCollector.emitOutgoingEvent(new ModelContentChangedEvent(e.contentChangedEvent));\n\t\t\t\t}\n\t\t\t\tthis._cursor.onModelContentChanged(eventsCollector, e);\n\t\t\t} finally {\n\t\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t\t}\n\n\t\t\tthis._handleVisibleLinesChanged();\n\t\t}));\n\n\t\tconst allowVariableLineHeights = this._configuration.options.get(EditorOption.allowVariableLineHeights);\n\t\tif (allowVariableLineHeights) {\n\t\t\tthis._register(this.model.onDidChangeLineHeight((e) => {\n\t\t\t\tconst filteredChanges = e.changes.filter((change) => change.ownerId === this._editorId || change.ownerId === 0);\n\n\t\t\t\tthis.viewLayout.changeSpecialLineHeights((accessor: ILineHeightChangeAccessor) => {\n\t\t\t\t\tfor (const change of filteredChanges) {\n\t\t\t\t\t\tconst { decorationId, lineNumber, lineHeight } = change;\n\t\t\t\t\t\tconst viewRange = this.coordinatesConverter.convertModelRangeToViewRange(new Range(lineNumber, 1, lineNumber, this.model.getLineMaxColumn(lineNumber)));\n\t\t\t\t\t\tif (lineHeight !== null) {\n\t\t\t\t\t\t\taccessor.insertOrChangeCustomLineHeight(decorationId, viewRange.startLineNumber, viewRange.endLineNumber, lineHeight);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taccessor.removeCustomLineHeight(decorationId);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// recreate the model event using the filtered changes\n\t\t\t\tif (filteredChanges.length > 0) {\n\t\t\t\t\tconst filteredEvent = new textModelEvents.ModelLineHeightChangedEvent(filteredChanges);\n\t\t\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelLineHeightChangedEvent(filteredEvent));\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tconst allowVariableFonts = this._configuration.options.get(EditorOption.effectiveAllowVariableFonts);\n\t\tif (allowVariableFonts) {\n\t\t\tthis._register(this.model.onDidChangeFont((e) => {\n\t\t\t\tconst filteredChanges = e.changes.filter((change) => change.ownerId === this._editorId || change.ownerId === 0);\n\t\t\t\t// recreate the model event using the filtered changes\n\t\t\t\tif (filteredChanges.length > 0) {\n\t\t\t\t\tconst filteredEvent = new textModelEvents.ModelFontChangedEvent(filteredChanges);\n\t\t\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelFontChangedEvent(filteredEvent));\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tthis._register(this.model.onDidChangeTokens((e) => {\n\t\t\tconst viewRanges: { fromLineNumber: number; toLineNumber: number }[] = [];\n\t\t\tfor (let j = 0, lenJ = e.ranges.length; j < lenJ; j++) {\n\t\t\t\tconst modelRange = e.ranges[j];\n\t\t\t\tconst viewStartLineNumber = this.coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.fromLineNumber, 1)).lineNumber;\n\t\t\t\tconst viewEndLineNumber = this.coordinatesConverter.convertModelPositionToViewPosition(new Position(modelRange.toLineNumber, this.model.getLineMaxColumn(modelRange.toLineNumber))).lineNumber;\n\t\t\t\tviewRanges[j] = {\n\t\t\t\t\tfromLineNumber: viewStartLineNumber,\n\t\t\t\t\ttoLineNumber: viewEndLineNumber\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewTokensChangedEvent(viewRanges));\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelTokensChangedEvent(e));\n\t\t}));\n\n\t\tthis._register(this.model.onDidChangeLanguageConfiguration((e) => {\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewLanguageConfigurationEvent());\n\t\t\tthis.cursorConfig = new CursorConfiguration(this.model.getLanguageId(), this.model.getOptions(), this._configuration, this.languageConfigurationService);\n\t\t\tthis._cursor.updateConfiguration(this.cursorConfig);\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelLanguageConfigurationChangedEvent(e));\n\t\t}));\n\n\t\tthis._register(this.model.onDidChangeLanguage((e) => {\n\t\t\tthis.cursorConfig = new CursorConfiguration(this.model.getLanguageId(), this.model.getOptions(), this._configuration, this.languageConfigurationService);\n\t\t\tthis._cursor.updateConfiguration(this.cursorConfig);\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelLanguageChangedEvent(e));\n\t\t}));\n\n\t\tthis._register(this.model.onDidChangeOptions((e) => {\n\t\t\t// A tab size change causes a line mapping changed event => all view parts will repaint OK, no further event needed here\n\t\t\tif (this._lines.setTabSize(this.model.getOptions().tabSize)) {\n\t\t\t\ttry {\n\t\t\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewFlushedEvent());\n\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewLineMappingChangedEvent());\n\t\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t\t\t\tthis._cursor.onLineMappingChanged(eventsCollector);\n\t\t\t\t\tthis._decorations.onLineMappingChanged();\n\t\t\t\t\tthis.viewLayout.onFlushed(this.getLineCount(), this._getCustomLineHeights());\n\t\t\t\t} finally {\n\t\t\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t\t\t}\n\t\t\t\tthis._updateConfigurationViewLineCount.schedule();\n\t\t\t}\n\n\t\t\tthis.cursorConfig = new CursorConfiguration(this.model.getLanguageId(), this.model.getOptions(), this._configuration, this.languageConfigurationService);\n\t\t\tthis._cursor.updateConfiguration(this.cursorConfig);\n\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelOptionsChangedEvent(e));\n\t\t}));\n\n\t\tthis._register(this.model.onDidChangeDecorations((e) => {\n\t\t\tthis._decorations.onModelDecorationsChanged();\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewDecorationsChangedEvent(e));\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ModelDecorationsChangedEvent(e));\n\t\t}));\n\t}\n\n\tprivate readonly hiddenAreasModel = new HiddenAreasModel();\n\tprivate previousHiddenAreas: readonly Range[] = [];\n\n\tpublic getFontSizeAtPosition(position: IPosition): string | null {\n\t\tconst allowVariableFonts = this._configuration.options.get(EditorOption.effectiveAllowVariableFonts);\n\t\tif (!allowVariableFonts) {\n\t\t\treturn null;\n\t\t}\n\t\tconst fontDecorations = this.model.getFontDecorationsInRange(Range.fromPositions(position), this._editorId);\n\t\tlet fontSize: string = this._configuration.options.get(EditorOption.fontInfo).fontSize + 'px';\n\t\tfor (const fontDecoration of fontDecorations) {\n\t\t\tif (fontDecoration.options.fontSize) {\n\t\t\t\tfontSize = fontDecoration.options.fontSize;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn fontSize;\n\t}\n\n\t/**\n\t * @param forceUpdate If true, the hidden areas will be updated even if the new ranges are the same as the previous ranges.\n\t * This is because the model might have changed, which resets the hidden areas, but not the last cached value.\n\t * This needs a better fix in the future.\n\t*/\n\tpublic setHiddenAreas(ranges: Range[], source?: unknown, forceUpdate?: boolean): void {\n\t\tthis.hiddenAreasModel.setHiddenAreas(source, ranges);\n\t\tconst mergedRanges = this.hiddenAreasModel.getMergedRanges();\n\t\tif (mergedRanges === this.previousHiddenAreas && !forceUpdate) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.previousHiddenAreas = mergedRanges;\n\n\t\tconst stableViewport = this._captureStableViewport();\n\n\t\tlet lineMappingChanged = false;\n\t\ttry {\n\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\t\t\tlineMappingChanged = this._lines.setHiddenAreas(mergedRanges);\n\t\t\tif (lineMappingChanged) {\n\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewFlushedEvent());\n\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewLineMappingChangedEvent());\n\t\t\t\teventsCollector.emitViewEvent(new viewEvents.ViewDecorationsChangedEvent(null));\n\t\t\t\tthis._cursor.onLineMappingChanged(eventsCollector);\n\t\t\t\tthis._decorations.onLineMappingChanged();\n\t\t\t\tthis.viewLayout.onFlushed(this.getLineCount(), this._getCustomLineHeights());\n\t\t\t\tthis.viewLayout.onHeightMaybeChanged();\n\t\t\t}\n\n\t\t\tconst firstModelLineInViewPort = stableViewport.viewportStartModelPosition?.lineNumber;\n\t\t\tconst firstModelLineIsHidden = firstModelLineInViewPort && mergedRanges.some(range => range.startLineNumber <= firstModelLineInViewPort && firstModelLineInViewPort <= range.endLineNumber);\n\t\t\tif (!firstModelLineIsHidden) {\n\t\t\t\tstableViewport.recoverViewportStart(this.coordinatesConverter, this.viewLayout);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t}\n\t\tthis._updateConfigurationViewLineCount.schedule();\n\n\t\tif (lineMappingChanged) {\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new HiddenAreasChangedEvent());\n\t\t}\n\t}\n\n\tpublic getVisibleRangesPlusViewportAboveBelow(): Range[] {\n\t\tconst layoutInfo = this._configuration.options.get(EditorOption.layoutInfo);\n\t\tconst lineHeight = this._configuration.options.get(EditorOption.lineHeight);\n\t\tconst linesAround = Math.max(20, Math.round(layoutInfo.height / lineHeight));\n\t\tconst partialData = this.viewLayout.getLinesViewportData();\n\t\tconst startViewLineNumber = Math.max(1, partialData.completelyVisibleStartLineNumber - linesAround);\n\t\tconst endViewLineNumber = Math.min(this.getLineCount(), partialData.completelyVisibleEndLineNumber + linesAround);\n\n\t\treturn this._toModelVisibleRanges(new Range(\n\t\t\tstartViewLineNumber, this.getLineMinColumn(startViewLineNumber),\n\t\t\tendViewLineNumber, this.getLineMaxColumn(endViewLineNumber)\n\t\t));\n\t}\n\n\tpublic getVisibleRanges(): Range[] {\n\t\tconst visibleViewRange = this.getCompletelyVisibleViewRange();\n\t\treturn this._toModelVisibleRanges(visibleViewRange);\n\t}\n\n\tpublic getHiddenAreas(): Range[] {\n\t\treturn this._lines.getHiddenAreas();\n\t}\n\n\tprivate _toModelVisibleRanges(visibleViewRange: Range): Range[] {\n\t\tconst visibleRange = this.coordinatesConverter.convertViewRangeToModelRange(visibleViewRange);\n\t\tconst hiddenAreas = this._lines.getHiddenAreas();\n\n\t\tif (hiddenAreas.length === 0) {\n\t\t\treturn [visibleRange];\n\t\t}\n\n\t\tconst result: Range[] = [];\n\t\tlet resultLen = 0;\n\t\tlet startLineNumber = visibleRange.startLineNumber;\n\t\tlet startColumn = visibleRange.startColumn;\n\t\tconst endLineNumber = visibleRange.endLineNumber;\n\t\tconst endColumn = visibleRange.endColumn;\n\t\tfor (let i = 0, len = hiddenAreas.length; i < len; i++) {\n\t\t\tconst hiddenStartLineNumber = hiddenAreas[i].startLineNumber;\n\t\t\tconst hiddenEndLineNumber = hiddenAreas[i].endLineNumber;\n\n\t\t\tif (hiddenEndLineNumber < startLineNumber) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (hiddenStartLineNumber > endLineNumber) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (startLineNumber < hiddenStartLineNumber) {\n\t\t\t\tresult[resultLen++] = new Range(\n\t\t\t\t\tstartLineNumber, startColumn,\n\t\t\t\t\thiddenStartLineNumber - 1, this.model.getLineMaxColumn(hiddenStartLineNumber - 1)\n\t\t\t\t);\n\t\t\t}\n\t\t\tstartLineNumber = hiddenEndLineNumber + 1;\n\t\t\tstartColumn = 1;\n\t\t}\n\n\t\tif (startLineNumber < endLineNumber || (startLineNumber === endLineNumber && startColumn < endColumn)) {\n\t\t\tresult[resultLen++] = new Range(\n\t\t\t\tstartLineNumber, startColumn,\n\t\t\t\tendLineNumber, endColumn\n\t\t\t);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tpublic getCompletelyVisibleViewRange(): Range {\n\t\tconst partialData = this.viewLayout.getLinesViewportData();\n\t\tconst startViewLineNumber = partialData.completelyVisibleStartLineNumber;\n\t\tconst endViewLineNumber = partialData.completelyVisibleEndLineNumber;\n\n\t\treturn new Range(\n\t\t\tstartViewLineNumber, this.getLineMinColumn(startViewLineNumber),\n\t\t\tendViewLineNumber, this.getLineMaxColumn(endViewLineNumber)\n\t\t);\n\t}\n\n\tpublic getCompletelyVisibleViewRangeAtScrollTop(scrollTop: number): Range {\n\t\tconst partialData = this.viewLayout.getLinesViewportDataAtScrollTop(scrollTop);\n\t\tconst startViewLineNumber = partialData.completelyVisibleStartLineNumber;\n\t\tconst endViewLineNumber = partialData.completelyVisibleEndLineNumber;\n\n\t\treturn new Range(\n\t\t\tstartViewLineNumber, this.getLineMinColumn(startViewLineNumber),\n\t\t\tendViewLineNumber, this.getLineMaxColumn(endViewLineNumber)\n\t\t);\n\t}\n\n\tpublic saveState(): IViewState {\n\t\tconst compatViewState = this.viewLayout.saveState();\n\n\t\tconst scrollTop = compatViewState.scrollTop;\n\t\tconst firstViewLineNumber = this.viewLayout.getLineNumberAtVerticalOffset(scrollTop);\n\t\tconst firstPosition = this.coordinatesConverter.convertViewPositionToModelPosition(new Position(firstViewLineNumber, this.getLineMinColumn(firstViewLineNumber)));\n\t\tconst firstPositionDeltaTop = this.viewLayout.getVerticalOffsetForLineNumber(firstViewLineNumber) - scrollTop;\n\n\t\treturn {\n\t\t\tscrollLeft: compatViewState.scrollLeft,\n\t\t\tfirstPosition: firstPosition,\n\t\t\tfirstPositionDeltaTop: firstPositionDeltaTop\n\t\t};\n\t}\n\n\tpublic reduceRestoreState(state: IViewState): { scrollLeft: number; scrollTop: number } {\n\t\tif (typeof state.firstPosition === 'undefined') {\n\t\t\t// This is a view state serialized by an older version\n\t\t\treturn this._reduceRestoreStateCompatibility(state);\n\t\t}\n\n\t\tconst modelPosition = this.model.validatePosition(state.firstPosition);\n\t\tconst viewPosition = this.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n\t\tconst scrollTop = this.viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber) - state.firstPositionDeltaTop;\n\t\treturn {\n\t\t\tscrollLeft: state.scrollLeft,\n\t\t\tscrollTop: scrollTop\n\t\t};\n\t}\n\n\tprivate _reduceRestoreStateCompatibility(state: IViewState): { scrollLeft: number; scrollTop: number } {\n\t\treturn {\n\t\t\tscrollLeft: state.scrollLeft,\n\t\t\tscrollTop: state.scrollTopWithoutViewZones!\n\t\t};\n\t}\n\n\tprivate getTabSize(): number {\n\t\treturn this.model.getOptions().tabSize;\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._lines.getViewLineCount();\n\t}\n\n\t/**\n\t * Gives a hint that a lot of requests are about to come in for these line numbers.\n\t */\n\tpublic setViewport(startLineNumber: number, endLineNumber: number, centeredLineNumber: number): void {\n\t\tthis._viewportStart.update(this, startLineNumber);\n\t}\n\n\tpublic getActiveIndentGuide(lineNumber: number, minLineNumber: number, maxLineNumber: number): IActiveIndentGuideInfo {\n\t\treturn this._lines.getActiveIndentGuide(lineNumber, minLineNumber, maxLineNumber);\n\t}\n\n\tpublic getLinesIndentGuides(startLineNumber: number, endLineNumber: number): number[] {\n\t\treturn this._lines.getViewLinesIndentGuides(startLineNumber, endLineNumber);\n\t}\n\n\tpublic getBracketGuidesInRangeByLine(startLineNumber: number, endLineNumber: number, activePosition: IPosition | null, options: BracketGuideOptions): IndentGuide[][] {\n\t\treturn this._lines.getViewLinesBracketGuides(startLineNumber, endLineNumber, activePosition, options);\n\t}\n\n\tpublic getLineContent(lineNumber: number): string {\n\t\treturn this._lines.getViewLineContent(lineNumber);\n\t}\n\n\tpublic getLineLength(lineNumber: number): number {\n\t\treturn this._lines.getViewLineLength(lineNumber);\n\t}\n\n\tpublic getLineMinColumn(lineNumber: number): number {\n\t\treturn this._lines.getViewLineMinColumn(lineNumber);\n\t}\n\n\tpublic getLineMaxColumn(lineNumber: number): number {\n\t\treturn this._lines.getViewLineMaxColumn(lineNumber);\n\t}\n\n\tpublic getLineFirstNonWhitespaceColumn(lineNumber: number): number {\n\t\tconst result = strings.firstNonWhitespaceIndex(this.getLineContent(lineNumber));\n\t\tif (result === -1) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn result + 1;\n\t}\n\n\tpublic getLineLastNonWhitespaceColumn(lineNumber: number): number {\n\t\tconst result = strings.lastNonWhitespaceIndex(this.getLineContent(lineNumber));\n\t\tif (result === -1) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn result + 2;\n\t}\n\n\tpublic getMinimapDecorationsInRange(range: Range): ViewModelDecoration[] {\n\t\treturn this._decorations.getMinimapDecorationsInRange(range);\n\t}\n\n\tpublic getDecorationsInViewport(visibleRange: Range): ViewModelDecoration[] {\n\t\treturn this._decorations.getDecorationsViewportData(visibleRange).decorations;\n\t}\n\n\tpublic getInjectedTextAt(viewPosition: Position): InjectedText | null {\n\t\treturn this._lines.getInjectedTextAt(viewPosition);\n\t}\n\n\tprivate _getTextDirection(lineNumber: number, decorations: ViewModelDecoration[]): TextDirection {\n\t\tlet rtlCount = 0;\n\n\t\tfor (const decoration of decorations) {\n\t\t\tconst range = decoration.range;\n\t\t\tif (range.startLineNumber > lineNumber || range.endLineNumber < lineNumber) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst textDirection = decoration.options.textDirection;\n\t\t\tif (textDirection === TextDirection.RTL) {\n\t\t\t\trtlCount++;\n\t\t\t} else if (textDirection === TextDirection.LTR) {\n\t\t\t\trtlCount--;\n\t\t\t}\n\t\t}\n\n\t\treturn rtlCount > 0 ? TextDirection.RTL : TextDirection.LTR;\n\t}\n\n\tpublic getTextDirection(lineNumber: number): TextDirection {\n\t\tconst decorationsCollection = this._decorations.getDecorationsOnLine(lineNumber);\n\t\treturn this._getTextDirection(lineNumber, decorationsCollection.decorations);\n\t}\n\n\tpublic getViewportViewLineRenderingData(visibleRange: Range, lineNumber: number): ViewLineRenderingData {\n\t\tconst viewportDecorationsCollection = this._decorations.getDecorationsViewportData(visibleRange);\n\t\tconst inlineDecorations = viewportDecorationsCollection.inlineDecorations[lineNumber - visibleRange.startLineNumber];\n\t\treturn this._getViewLineRenderingData(lineNumber, inlineDecorations, viewportDecorationsCollection.hasVariableFonts, viewportDecorationsCollection.decorations);\n\t}\n\n\tpublic getViewLineRenderingData(lineNumber: number): ViewLineRenderingData {\n\t\tconst decorationsCollection = this._decorations.getDecorationsOnLine(lineNumber);\n\t\treturn this._getViewLineRenderingData(lineNumber, decorationsCollection.inlineDecorations[0], decorationsCollection.hasVariableFonts, decorationsCollection.decorations);\n\t}\n\n\tprivate _getViewLineRenderingData(lineNumber: number, inlineDecorations: InlineDecoration[], hasVariableFonts: boolean, decorations: ViewModelDecoration[]): ViewLineRenderingData {\n\t\tconst mightContainRTL = this.model.mightContainRTL();\n\t\tconst mightContainNonBasicASCII = this.model.mightContainNonBasicASCII();\n\t\tconst tabSize = this.getTabSize();\n\t\tconst lineData = this._lines.getViewLineData(lineNumber);\n\n\t\tif (lineData.inlineDecorations) {\n\t\t\tinlineDecorations = [\n\t\t\t\t...inlineDecorations,\n\t\t\t\t...lineData.inlineDecorations.map(d =>\n\t\t\t\t\td.toInlineDecoration(lineNumber)\n\t\t\t\t)\n\t\t\t];\n\t\t}\n\n\t\treturn new ViewLineRenderingData(\n\t\t\tlineData.minColumn,\n\t\t\tlineData.maxColumn,\n\t\t\tlineData.content,\n\t\t\tlineData.continuesWithWrappedLine,\n\t\t\tmightContainRTL,\n\t\t\tmightContainNonBasicASCII,\n\t\t\tlineData.tokens,\n\t\t\tinlineDecorations,\n\t\t\ttabSize,\n\t\t\tlineData.startVisibleColumn,\n\t\t\tthis._getTextDirection(lineNumber, decorations),\n\t\t\thasVariableFonts\n\t\t);\n\t}\n\n\tpublic getViewLineData(lineNumber: number): ViewLineData {\n\t\treturn this._lines.getViewLineData(lineNumber);\n\t}\n\n\tpublic getMinimapLinesRenderingData(startLineNumber: number, endLineNumber: number, needed: boolean[]): MinimapLinesRenderingData {\n\t\tconst result = this._lines.getViewLinesData(startLineNumber, endLineNumber, needed);\n\t\treturn new MinimapLinesRenderingData(\n\t\t\tthis.getTabSize(),\n\t\t\tresult\n\t\t);\n\t}\n\n\tpublic getAllOverviewRulerDecorations(theme: EditorTheme): OverviewRulerDecorationsGroup[] {\n\t\tconst decorations = this.model.getOverviewRulerDecorations(this._editorId, filterValidationDecorations(this._configuration.options), filterFontDecorations(this._configuration.options));\n\t\tconst result = new OverviewRulerDecorations();\n\t\tfor (const decoration of decorations) {\n\t\t\tconst decorationOptions = <ModelDecorationOptions>decoration.options;\n\t\t\tconst opts = decorationOptions.overviewRuler;\n\t\t\tif (!opts) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst lane = <number>opts.position;\n\t\t\tif (lane === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst color = opts.getColor(theme.value);\n\t\t\tconst viewStartLineNumber = this.coordinatesConverter.getViewLineNumberOfModelPosition(decoration.range.startLineNumber, decoration.range.startColumn);\n\t\t\tconst viewEndLineNumber = this.coordinatesConverter.getViewLineNumberOfModelPosition(decoration.range.endLineNumber, decoration.range.endColumn);\n\n\t\t\tresult.accept(color, decorationOptions.zIndex, viewStartLineNumber, viewEndLineNumber, lane);\n\t\t}\n\t\treturn result.asArray;\n\t}\n\n\tprivate _invalidateDecorationsColorCache(): void {\n\t\tconst decorations = this.model.getOverviewRulerDecorations();\n\t\tfor (const decoration of decorations) {\n\t\t\tconst opts1 = <ModelDecorationOverviewRulerOptions>decoration.options.overviewRuler;\n\t\t\topts1?.invalidateCachedColor();\n\t\t\tconst opts2 = <ModelDecorationMinimapOptions>decoration.options.minimap;\n\t\t\topts2?.invalidateCachedColor();\n\t\t}\n\t}\n\n\tpublic getValueInRange(range: Range, eol: EndOfLinePreference): string {\n\t\tconst modelRange = this.coordinatesConverter.convertViewRangeToModelRange(range);\n\t\treturn this.model.getValueInRange(modelRange, eol);\n\t}\n\n\tpublic getValueLengthInRange(range: Range, eol: EndOfLinePreference): number {\n\t\tconst modelRange = this.coordinatesConverter.convertViewRangeToModelRange(range);\n\t\treturn this.model.getValueLengthInRange(modelRange, eol);\n\t}\n\n\tpublic modifyPosition(position: Position, offset: number): Position {\n\t\tconst modelPosition = this.coordinatesConverter.convertViewPositionToModelPosition(position);\n\t\tconst resultModelPosition = this.model.modifyPosition(modelPosition, offset);\n\t\treturn this.coordinatesConverter.convertModelPositionToViewPosition(resultModelPosition);\n\t}\n\n\tpublic deduceModelPositionRelativeToViewPosition(viewAnchorPosition: Position, deltaOffset: number, lineFeedCnt: number): Position {\n\t\tconst modelAnchor = this.coordinatesConverter.convertViewPositionToModelPosition(viewAnchorPosition);\n\t\tif (this.model.getEOL().length === 2) {\n\t\t\t// This model uses CRLF, so the delta must take that into account\n\t\t\tif (deltaOffset < 0) {\n\t\t\t\tdeltaOffset -= lineFeedCnt;\n\t\t\t} else {\n\t\t\t\tdeltaOffset += lineFeedCnt;\n\t\t\t}\n\t\t}\n\n\t\tconst modelAnchorOffset = this.model.getOffsetAt(modelAnchor);\n\t\tconst resultOffset = modelAnchorOffset + deltaOffset;\n\t\treturn this.model.getPositionAt(resultOffset);\n\t}\n\n\tpublic getPlainTextToCopy(modelRanges: Range[], emptySelectionClipboard: boolean, forceCRLF: boolean): string | string[] {\n\t\tconst newLineCharacter = forceCRLF ? '\\r\\n' : this.model.getEOL();\n\n\t\tmodelRanges = modelRanges.slice(0);\n\t\tmodelRanges.sort(Range.compareRangesUsingStarts);\n\n\t\tlet hasEmptyRange = false;\n\t\tlet hasNonEmptyRange = false;\n\t\tfor (const range of modelRanges) {\n\t\t\tif (range.isEmpty()) {\n\t\t\t\thasEmptyRange = true;\n\t\t\t} else {\n\t\t\t\thasNonEmptyRange = true;\n\t\t\t}\n\t\t}\n\n\t\tif (!hasNonEmptyRange) {\n\t\t\t// all ranges are empty\n\t\t\tif (!emptySelectionClipboard) {\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst modelLineNumbers = modelRanges.map((r) => r.startLineNumber);\n\n\t\t\tlet result = '';\n\t\t\tfor (let i = 0; i < modelLineNumbers.length; i++) {\n\t\t\t\tif (i > 0 && modelLineNumbers[i - 1] === modelLineNumbers[i]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tresult += this.model.getLineContent(modelLineNumbers[i]) + newLineCharacter;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tif (hasEmptyRange && emptySelectionClipboard) {\n\t\t\t// mixed empty selections and non-empty selections\n\t\t\tconst result: string[] = [];\n\t\t\tlet prevModelLineNumber = 0;\n\t\t\tfor (const modelRange of modelRanges) {\n\t\t\t\tconst modelLineNumber = modelRange.startLineNumber;\n\t\t\t\tif (modelRange.isEmpty()) {\n\t\t\t\t\tif (modelLineNumber !== prevModelLineNumber) {\n\t\t\t\t\t\tresult.push(this.model.getLineContent(modelLineNumber));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(this.model.getValueInRange(modelRange, forceCRLF ? EndOfLinePreference.CRLF : EndOfLinePreference.TextDefined));\n\t\t\t\t}\n\t\t\t\tprevModelLineNumber = modelLineNumber;\n\t\t\t}\n\t\t\treturn result.length === 1 ? result[0] : result;\n\t\t}\n\n\t\tconst result: string[] = [];\n\t\tfor (const modelRange of modelRanges) {\n\t\t\tif (!modelRange.isEmpty()) {\n\t\t\t\tresult.push(this.model.getValueInRange(modelRange, forceCRLF ? EndOfLinePreference.CRLF : EndOfLinePreference.TextDefined));\n\t\t\t}\n\t\t}\n\t\treturn result.length === 1 ? result[0] : result;\n\t}\n\n\tpublic getRichTextToCopy(modelRanges: Range[], emptySelectionClipboard: boolean): { html: string; mode: string } | null {\n\t\tconst languageId = this.model.getLanguageId();\n\t\tif (languageId === PLAINTEXT_LANGUAGE_ID) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (modelRanges.length !== 1) {\n\t\t\t// no multiple selection support at this time\n\t\t\treturn null;\n\t\t}\n\n\t\tlet range = modelRanges[0];\n\t\tif (range.isEmpty()) {\n\t\t\tif (!emptySelectionClipboard) {\n\t\t\t\t// nothing to copy\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst lineNumber = range.startLineNumber;\n\t\t\trange = new Range(lineNumber, this.model.getLineMinColumn(lineNumber), lineNumber, this.model.getLineMaxColumn(lineNumber));\n\t\t}\n\n\t\tconst fontInfo = this._configuration.options.get(EditorOption.fontInfo);\n\t\tconst colorMap = this._getColorMap();\n\t\tconst hasBadChars = (/[:;\\\\\\/<>]/.test(fontInfo.fontFamily));\n\t\tconst useDefaultFontFamily = (hasBadChars || fontInfo.fontFamily === EDITOR_FONT_DEFAULTS.fontFamily);\n\t\tlet fontFamily: string;\n\t\tif (useDefaultFontFamily) {\n\t\t\tfontFamily = EDITOR_FONT_DEFAULTS.fontFamily;\n\t\t} else {\n\t\t\tfontFamily = fontInfo.fontFamily;\n\t\t\tfontFamily = fontFamily.replace(/\"/g, '\\'');\n\t\t\tconst hasQuotesOrIsList = /[,']/.test(fontFamily);\n\t\t\tif (!hasQuotesOrIsList) {\n\t\t\t\tconst needsQuotes = /[+ ]/.test(fontFamily);\n\t\t\t\tif (needsQuotes) {\n\t\t\t\t\tfontFamily = `'${fontFamily}'`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfontFamily = `${fontFamily}, ${EDITOR_FONT_DEFAULTS.fontFamily}`;\n\t\t}\n\n\t\treturn {\n\t\t\tmode: languageId,\n\t\t\thtml: (\n\t\t\t\t`<div style=\"`\n\t\t\t\t+ `color: ${colorMap[ColorId.DefaultForeground]};`\n\t\t\t\t+ `background-color: ${colorMap[ColorId.DefaultBackground]};`\n\t\t\t\t+ `font-family: ${fontFamily};`\n\t\t\t\t+ `font-weight: ${fontInfo.fontWeight};`\n\t\t\t\t+ `font-size: ${fontInfo.fontSize}px;`\n\t\t\t\t+ `line-height: ${fontInfo.lineHeight}px;`\n\t\t\t\t+ `white-space: pre;`\n\t\t\t\t+ `\">`\n\t\t\t\t+ this._getHTMLToCopy(range, colorMap)\n\t\t\t\t+ '</div>'\n\t\t\t)\n\t\t};\n\t}\n\n\tprivate _getHTMLToCopy(modelRange: Range, colorMap: string[]): string {\n\t\tconst startLineNumber = modelRange.startLineNumber;\n\t\tconst startColumn = modelRange.startColumn;\n\t\tconst endLineNumber = modelRange.endLineNumber;\n\t\tconst endColumn = modelRange.endColumn;\n\n\t\tconst tabSize = this.getTabSize();\n\n\t\tlet result = '';\n\n\t\tfor (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n\t\t\tconst lineTokens = this.model.tokenization.getLineTokens(lineNumber);\n\t\t\tconst lineContent = lineTokens.getLineContent();\n\t\t\tconst startOffset = (lineNumber === startLineNumber ? startColumn - 1 : 0);\n\t\t\tconst endOffset = (lineNumber === endLineNumber ? endColumn - 1 : lineContent.length);\n\n\t\t\tif (lineContent === '') {\n\t\t\t\tresult += '<br>';\n\t\t\t} else {\n\t\t\t\tresult += tokenizeLineToHTML(lineContent, lineTokens.inflate(), colorMap, startOffset, endOffset, tabSize, platform.isWindows);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tprivate _getColorMap(): string[] {\n\t\tconst colorMap = TokenizationRegistry.getColorMap();\n\t\tconst result: string[] = ['#000000'];\n\t\tif (colorMap) {\n\t\t\tfor (let i = 1, len = colorMap.length; i < len; i++) {\n\t\t\t\tresult[i] = Color.Format.CSS.formatHex(colorMap[i]);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\t//#region cursor operations\n\n\tpublic getPrimaryCursorState(): CursorState {\n\t\treturn this._cursor.getPrimaryCursorState();\n\t}\n\tpublic getLastAddedCursorIndex(): number {\n\t\treturn this._cursor.getLastAddedCursorIndex();\n\t}\n\tpublic getCursorStates(): CursorState[] {\n\t\treturn this._cursor.getCursorStates();\n\t}\n\tpublic setCursorStates(source: string | null | undefined, reason: CursorChangeReason, states: PartialCursorState[] | null): boolean {\n\t\treturn this._withViewEventsCollector(eventsCollector => this._cursor.setStates(eventsCollector, source, reason, states));\n\t}\n\tpublic getCursorColumnSelectData(): IColumnSelectData {\n\t\treturn this._cursor.getCursorColumnSelectData();\n\t}\n\tpublic getCursorAutoClosedCharacters(): Range[] {\n\t\treturn this._cursor.getAutoClosedCharacters();\n\t}\n\tpublic setCursorColumnSelectData(columnSelectData: IColumnSelectData): void {\n\t\tthis._cursor.setCursorColumnSelectData(columnSelectData);\n\t}\n\tpublic getPrevEditOperationType(): EditOperationType {\n\t\treturn this._cursor.getPrevEditOperationType();\n\t}\n\tpublic setPrevEditOperationType(type: EditOperationType): void {\n\t\tthis._cursor.setPrevEditOperationType(type);\n\t}\n\tpublic getSelection(): Selection {\n\t\treturn this._cursor.getSelection();\n\t}\n\tpublic getSelections(): Selection[] {\n\t\treturn this._cursor.getSelections();\n\t}\n\tpublic getPosition(): Position {\n\t\treturn this._cursor.getPrimaryCursorState().modelState.position;\n\t}\n\tpublic setSelections(source: string | null | undefined, selections: readonly ISelection[], reason = CursorChangeReason.NotSet): void {\n\t\tthis._withViewEventsCollector(eventsCollector => this._cursor.setSelections(eventsCollector, source, selections, reason));\n\t}\n\tpublic saveCursorState(): ICursorState[] {\n\t\treturn this._cursor.saveState();\n\t}\n\tpublic restoreCursorState(states: ICursorState[]): void {\n\t\tthis._withViewEventsCollector(eventsCollector => this._cursor.restoreState(eventsCollector, states));\n\t}\n\n\tprivate _executeCursorEdit(callback: (eventsCollector: ViewModelEventsCollector) => void): void {\n\t\tif (this._cursor.context.cursorConfig.readOnly) {\n\t\t\t// we cannot edit when read only...\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ReadOnlyEditAttemptEvent());\n\t\t\treturn;\n\t\t}\n\t\tthis._withViewEventsCollector(callback);\n\t}\n\tpublic executeEdits(source: string | null | undefined, edits: IIdentifiedSingleEditOperation[], cursorStateComputer: ICursorStateComputer, reason: TextModelEditSource): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.executeEdits(eventsCollector, source, edits, cursorStateComputer, reason));\n\t}\n\tpublic startComposition(): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.startComposition(eventsCollector));\n\t}\n\tpublic endComposition(source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.endComposition(eventsCollector, source));\n\t}\n\tpublic type(text: string, source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.type(eventsCollector, text, source));\n\t}\n\tpublic compositionType(text: string, replacePrevCharCnt: number, replaceNextCharCnt: number, positionDelta: number, source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.compositionType(eventsCollector, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta, source));\n\t}\n\tpublic paste(text: string, pasteOnNewLine: boolean, multicursorText?: string[] | null | undefined, source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.paste(eventsCollector, text, pasteOnNewLine, multicursorText, source));\n\t}\n\tpublic cut(source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.cut(eventsCollector, source));\n\t}\n\tpublic executeCommand(command: ICommand, source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.executeCommand(eventsCollector, command, source));\n\t}\n\tpublic executeCommands(commands: ICommand[], source?: string | null | undefined): void {\n\t\tthis._executeCursorEdit(eventsCollector => this._cursor.executeCommands(eventsCollector, commands, source));\n\t}\n\tpublic revealAllCursors(source: string | null | undefined, revealHorizontal: boolean, minimalReveal: boolean = false): void {\n\t\tthis._withViewEventsCollector(eventsCollector => this._cursor.revealAll(eventsCollector, source, minimalReveal, viewEvents.VerticalRevealType.Simple, revealHorizontal, ScrollType.Smooth));\n\t}\n\tpublic revealPrimaryCursor(source: string | null | undefined, revealHorizontal: boolean, minimalReveal: boolean = false): void {\n\t\tthis._withViewEventsCollector(eventsCollector => this._cursor.revealPrimary(eventsCollector, source, minimalReveal, viewEvents.VerticalRevealType.Simple, revealHorizontal, ScrollType.Smooth));\n\t}\n\tpublic revealTopMostCursor(source: string | null | undefined): void {\n\t\tconst viewPosition = this._cursor.getTopMostViewPosition();\n\t\tconst viewRange = new Range(viewPosition.lineNumber, viewPosition.column, viewPosition.lineNumber, viewPosition.column);\n\t\tthis._withViewEventsCollector(eventsCollector => eventsCollector.emitViewEvent(new viewEvents.ViewRevealRangeRequestEvent(source, false, viewRange, null, viewEvents.VerticalRevealType.Simple, true, ScrollType.Smooth)));\n\t}\n\tpublic revealBottomMostCursor(source: string | null | undefined): void {\n\t\tconst viewPosition = this._cursor.getBottomMostViewPosition();\n\t\tconst viewRange = new Range(viewPosition.lineNumber, viewPosition.column, viewPosition.lineNumber, viewPosition.column);\n\t\tthis._withViewEventsCollector(eventsCollector => eventsCollector.emitViewEvent(new viewEvents.ViewRevealRangeRequestEvent(source, false, viewRange, null, viewEvents.VerticalRevealType.Simple, true, ScrollType.Smooth)));\n\t}\n\tpublic revealRange(source: string | null | undefined, revealHorizontal: boolean, viewRange: Range, verticalType: viewEvents.VerticalRevealType, scrollType: ScrollType): void {\n\t\tthis._withViewEventsCollector(eventsCollector => eventsCollector.emitViewEvent(new viewEvents.ViewRevealRangeRequestEvent(source, false, viewRange, null, verticalType, revealHorizontal, scrollType)));\n\t}\n\n\t//#endregion\n\n\t//#region viewLayout\n\tpublic changeWhitespace(callback: (accessor: IWhitespaceChangeAccessor) => void): void {\n\t\tconst hadAChange = this.viewLayout.changeWhitespace(callback);\n\t\tif (hadAChange) {\n\t\t\tthis._eventDispatcher.emitSingleViewEvent(new viewEvents.ViewZonesChangedEvent());\n\t\t\tthis._eventDispatcher.emitOutgoingEvent(new ViewZonesChangedEvent());\n\t\t}\n\t}\n\t//#endregion\n\n\tprivate _withViewEventsCollector<T>(callback: (eventsCollector: ViewModelEventsCollector) => T): T {\n\t\treturn this._transactionalTarget.batchChanges(() => {\n\t\t\ttry {\n\t\t\t\tconst eventsCollector = this._eventDispatcher.beginEmitViewEvents();\n\t\t\t\treturn callback(eventsCollector);\n\t\t\t} finally {\n\t\t\t\tthis._eventDispatcher.endEmitViewEvents();\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic batchEvents(callback: () => void): void {\n\t\tthis._withViewEventsCollector(() => { callback(); });\n\t}\n\n\tnormalizePosition(position: Position, affinity: PositionAffinity): Position {\n\t\treturn this._lines.normalizePosition(position, affinity);\n\t}\n\n\t/**\n\t * Gets the column at which indentation stops at a given line.\n\t * @internal\n\t*/\n\tgetLineIndentColumn(lineNumber: number): number {\n\t\treturn this._lines.getLineIndentColumn(lineNumber);\n\t}\n}\n\nexport interface IBatchableTarget {\n\t/**\n\t * Allows the target to apply the changes introduced by the callback in a batch.\n\t*/\n\tbatchChanges<T>(cb: () => T): T;\n}\n\nclass ViewportStart implements IDisposable {\n\n\tpublic static create(model: ITextModel): ViewportStart {\n\t\tconst viewportStartLineTrackedRange = model._setTrackedRange(null, new Range(1, 1, 1, 1), TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges);\n\t\treturn new ViewportStart(model, 1, false, viewportStartLineTrackedRange, 0);\n\t}\n\n\tpublic get viewLineNumber(): number {\n\t\treturn this._viewLineNumber;\n\t}\n\n\tpublic get isValid(): boolean {\n\t\treturn this._isValid;\n\t}\n\n\tpublic get modelTrackedRange(): string {\n\t\treturn this._modelTrackedRange;\n\t}\n\n\tpublic get startLineDelta(): number {\n\t\treturn this._startLineDelta;\n\t}\n\n\tprivate constructor(\n\t\tprivate readonly _model: ITextModel,\n\t\tprivate _viewLineNumber: number,\n\t\tprivate _isValid: boolean,\n\t\tprivate _modelTrackedRange: string,\n\t\tprivate _startLineDelta: number,\n\t) { }\n\n\tpublic dispose(): void {\n\t\tthis._model._setTrackedRange(this._modelTrackedRange, null, TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges);\n\t}\n\n\tpublic update(viewModel: IViewModel, startLineNumber: number): void {\n\t\tconst position = viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(startLineNumber, viewModel.getLineMinColumn(startLineNumber)));\n\t\tconst viewportStartLineTrackedRange = viewModel.model._setTrackedRange(this._modelTrackedRange, new Range(position.lineNumber, position.column, position.lineNumber, position.column), TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges);\n\t\tconst viewportStartLineTop = viewModel.viewLayout.getVerticalOffsetForLineNumber(startLineNumber);\n\t\tconst scrollTop = viewModel.viewLayout.getCurrentScrollTop();\n\n\t\tthis._viewLineNumber = startLineNumber;\n\t\tthis._isValid = true;\n\t\tthis._modelTrackedRange = viewportStartLineTrackedRange;\n\t\tthis._startLineDelta = scrollTop - viewportStartLineTop;\n\t}\n\n\tpublic invalidate(): void {\n\t\tthis._isValid = false;\n\t}\n}\n\nclass OverviewRulerDecorations {\n\n\tprivate readonly _asMap: { [color: string]: OverviewRulerDecorationsGroup } = Object.create(null);\n\treadonly asArray: OverviewRulerDecorationsGroup[] = [];\n\n\tpublic accept(color: string, zIndex: number, startLineNumber: number, endLineNumber: number, lane: number): void {\n\t\tconst prevGroup = this._asMap[color];\n\n\t\tif (prevGroup) {\n\t\t\tconst prevData = prevGroup.data;\n\t\t\tconst prevLane = prevData[prevData.length - 3];\n\t\t\tconst prevEndLineNumber = prevData[prevData.length - 1];\n\t\t\tif (prevLane === lane && prevEndLineNumber + 1 >= startLineNumber) {\n\t\t\t\t// merge into prev\n\t\t\t\tif (endLineNumber > prevEndLineNumber) {\n\t\t\t\t\tprevData[prevData.length - 1] = endLineNumber;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// push\n\t\t\tprevData.push(lane, startLineNumber, endLineNumber);\n\t\t} else {\n\t\t\tconst group = new OverviewRulerDecorationsGroup(color, zIndex, [lane, startLineNumber, endLineNumber]);\n\t\t\tthis._asMap[color] = group;\n\t\t\tthis.asArray.push(group);\n\t\t}\n\t}\n}\n\nclass HiddenAreasModel {\n\tprivate readonly hiddenAreas = new Map<unknown, Range[]>();\n\tprivate shouldRecompute = false;\n\tprivate ranges: Range[] = [];\n\n\tsetHiddenAreas(source: unknown, ranges: Range[]): void {\n\t\tconst existing = this.hiddenAreas.get(source);\n\t\tif (existing && rangeArraysEqual(existing, ranges)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.hiddenAreas.set(source, ranges);\n\t\tthis.shouldRecompute = true;\n\t}\n\n\t/**\n\t * The returned array is immutable.\n\t*/\n\tgetMergedRanges(): readonly Range[] {\n\t\tif (!this.shouldRecompute) {\n\t\t\treturn this.ranges;\n\t\t}\n\t\tthis.shouldRecompute = false;\n\t\tconst newRanges = Array.from(this.hiddenAreas.values()).reduce((r, hiddenAreas) => mergeLineRangeArray(r, hiddenAreas), []);\n\t\tif (rangeArraysEqual(this.ranges, newRanges)) {\n\t\t\treturn this.ranges;\n\t\t}\n\t\tthis.ranges = newRanges;\n\t\treturn this.ranges;\n\t}\n}\n\nfunction mergeLineRangeArray(arr1: Range[], arr2: Range[]): Range[] {\n\tconst result: Range[] = [];\n\tlet i = 0;\n\tlet j = 0;\n\twhile (i < arr1.length && j < arr2.length) {\n\t\tconst item1 = arr1[i];\n\t\tconst item2 = arr2[j];\n\n\t\tif (item1.endLineNumber < item2.startLineNumber - 1) {\n\t\t\tresult.push(arr1[i++]);\n\t\t} else if (item2.endLineNumber < item1.startLineNumber - 1) {\n\t\t\tresult.push(arr2[j++]);\n\t\t} else {\n\t\t\tconst startLineNumber = Math.min(item1.startLineNumber, item2.startLineNumber);\n\t\t\tconst endLineNumber = Math.max(item1.endLineNumber, item2.endLineNumber);\n\t\t\tresult.push(new Range(startLineNumber, 1, endLineNumber, 1));\n\t\t\ti++;\n\t\t\tj++;\n\t\t}\n\t}\n\twhile (i < arr1.length) {\n\t\tresult.push(arr1[i++]);\n\t}\n\twhile (j < arr2.length) {\n\t\tresult.push(arr2[j++]);\n\t}\n\treturn result;\n}\n\nfunction rangeArraysEqual(arr1: Range[], arr2: Range[]): boolean {\n\tif (arr1.length !== arr2.length) {\n\t\treturn false;\n\t}\n\tfor (let i = 0; i < arr1.length; i++) {\n\t\tif (!arr1[i].equalsRange(arr2[i])) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\n/**\n * Maintain a stable viewport by trying to keep the first line in the viewport constant.\n */\nclass StableViewport {\n\tconstructor(\n\t\tpublic readonly viewportStartModelPosition: Position | null,\n\t\tpublic readonly startLineDelta: number\n\t) { }\n\n\tpublic recoverViewportStart(coordinatesConverter: ICoordinatesConverter, viewLayout: ViewLayout): void {\n\t\tif (!this.viewportStartModelPosition) {\n\t\t\treturn;\n\t\t}\n\t\tconst viewPosition = coordinatesConverter.convertModelPositionToViewPosition(this.viewportStartModelPosition);\n\t\tconst viewPositionTop = viewLayout.getVerticalOffsetForLineNumber(viewPosition.lineNumber);\n\t\tviewLayout.setScrollPosition({ scrollTop: viewPositionTop + this.startLineDelta }, ScrollType.Immediate);\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}