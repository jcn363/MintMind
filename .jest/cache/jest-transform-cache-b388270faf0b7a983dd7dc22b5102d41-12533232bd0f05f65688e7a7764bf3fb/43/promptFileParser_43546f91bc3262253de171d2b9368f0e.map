{"version":3,"names":["cov_2puplwhodg","actualCoverage","Iterable","dirname","joinPath","splitLinesIncludeSeparators","URI","parse","Range","PROMPT_NAME_REGEXP","s","PromptFileParser","constructor","f","uri","content","linesWithEOL","length","b","ParsedPromptFile","undefined","header","body","bodyStartLine","match","headerEndLine","findIndex","line","index","range","PromptHeader","PromptBody","PromptHeaderAttributes","name","description","agent","mode","model","applyTo","tools","handOffs","advancedOptions","argumentHint","excludeAgent","target","GithubPromptHeaderAttributes","mcpServers","Target","_parsed","_parsedHeader","yamlErrors","lines","slice","startLineNumber","endLineNumber","join","node","attributes","errors","map","err","message","asRange","code","type","push","property","properties","key","value","start","end","asValue","character","items","item","getAttribute","find","attr","getStringAttribute","attribute","test","toolsAttribute","collectLeafs","forEach","handoffsAttribute","handoffs","label","prompt","send","prop","fileReferences","getParsedBody","variableReferences","offset","bodyOffset","markdownLinkRanges","reduce","len","i","lineStartOffset","linkMatch","matchAll","linkEndOffset","linkStartOffset","isMarkdownLink","reg","matches","fullMatch","fullRange","some","mdRange","areIntersectingOrTouching","contentMatch","groups","startOffset","endOffset","sort","a","compareRangesUsingStarts","getContent","resolveFilePath","path","startsWith","with","dirName"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/promptSyntax/promptFileParser.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Iterable } from '../../../../../base/common/iterator.js';\nimport { dirname, joinPath } from '../../../../../base/common/resources.js';\nimport { splitLinesIncludeSeparators } from '../../../../../base/common/strings.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { parse, YamlNode, YamlParseError, Position as YamlPosition } from '../../../../../base/common/yaml.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\n\nexport const PROMPT_NAME_REGEXP = /^[\\p{L}\\d_\\-\\.]+$/u;\n\nexport class PromptFileParser {\n\tconstructor() {\n\t}\n\n\tpublic parse(uri: URI, content: string): ParsedPromptFile {\n\t\tconst linesWithEOL = splitLinesIncludeSeparators(content);\n\t\tif (linesWithEOL.length === 0) {\n\t\t\treturn new ParsedPromptFile(uri, undefined, undefined);\n\t\t}\n\t\tlet header: PromptHeader | undefined = undefined;\n\t\tlet body: PromptBody | undefined = undefined;\n\t\tlet bodyStartLine = 0;\n\t\tif (linesWithEOL[0].match(/^---[\\s\\r\\n]*$/)) {\n\t\t\tlet headerEndLine = linesWithEOL.findIndex((line, index) => index > 0 && line.match(/^---[\\s\\r\\n]*$/));\n\t\t\tif (headerEndLine === -1) {\n\t\t\t\theaderEndLine = linesWithEOL.length;\n\t\t\t\tbodyStartLine = linesWithEOL.length;\n\t\t\t} else {\n\t\t\t\tbodyStartLine = headerEndLine + 1;\n\t\t\t}\n\t\t\t// range starts on the line after the ---, and ends at the beginning of the line that has the closing ---\n\t\t\tconst range = new Range(2, 1, headerEndLine + 1, 1);\n\t\t\theader = new PromptHeader(range, linesWithEOL);\n\t\t}\n\t\tif (bodyStartLine < linesWithEOL.length) {\n\t\t\t// range starts  on the line after the ---, and ends at the beginning of line after the last line\n\t\t\tconst range = new Range(bodyStartLine + 1, 1, linesWithEOL.length + 1, 1);\n\t\t\tbody = new PromptBody(range, linesWithEOL, uri);\n\t\t}\n\t\treturn new ParsedPromptFile(uri, header, body);\n\t}\n}\n\n\nexport class ParsedPromptFile {\n\tconstructor(public readonly uri: URI, public readonly header?: PromptHeader, public readonly body?: PromptBody) {\n\t}\n}\n\nexport interface ParseError {\n\treadonly message: string;\n\treadonly range: Range;\n\treadonly code: string;\n}\n\ninterface ParsedHeader {\n\treadonly node: YamlNode | undefined;\n\treadonly errors: ParseError[];\n\treadonly attributes: IHeaderAttribute[];\n}\n\nexport namespace PromptHeaderAttributes {\n\texport const name = 'name';\n\texport const description = 'description';\n\texport const agent = 'agent';\n\texport const mode = 'mode';\n\texport const model = 'model';\n\texport const applyTo = 'applyTo';\n\texport const tools = 'tools';\n\texport const handOffs = 'handoffs';\n\texport const advancedOptions = 'advancedOptions';\n\texport const argumentHint = 'argument-hint';\n\texport const excludeAgent = 'excludeAgent';\n\texport const target = 'target';\n}\n\nexport namespace GithubPromptHeaderAttributes {\n\texport const mcpServers = 'mcp-servers';\n}\n\nexport enum Target {\n\tVSCode = 'vscode',\n\tGitHubCopilot = 'github-copilot'\n}\n\nexport class PromptHeader {\n\tprivate _parsed: ParsedHeader | undefined;\n\n\tconstructor(public readonly range: Range, private readonly linesWithEOL: string[]) {\n\t}\n\n\tprivate get _parsedHeader(): ParsedHeader {\n\t\tif (this._parsed === undefined) {\n\t\t\tconst yamlErrors: YamlParseError[] = [];\n\t\t\tconst lines = this.linesWithEOL.slice(this.range.startLineNumber - 1, this.range.endLineNumber - 1).join('');\n\t\t\tconst node = parse(lines, yamlErrors);\n\t\t\tconst attributes = [];\n\t\t\tconst errors: ParseError[] = yamlErrors.map(err => ({ message: err.message, range: this.asRange(err), code: err.code }));\n\t\t\tif (node) {\n\t\t\t\tif (node.type !== 'object') {\n\t\t\t\t\terrors.push({ message: 'Invalid header, expecting <key: value> pairs', range: this.range, code: 'INVALID_YAML' });\n\t\t\t\t} else {\n\t\t\t\t\tfor (const property of node.properties) {\n\t\t\t\t\t\tattributes.push({\n\t\t\t\t\t\t\tkey: property.key.value,\n\t\t\t\t\t\t\trange: this.asRange({ start: property.key.start, end: property.value.end }),\n\t\t\t\t\t\t\tvalue: this.asValue(property.value)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._parsed = { node, attributes, errors };\n\t\t}\n\t\treturn this._parsed;\n\t}\n\n\tprivate asRange({ start, end }: { start: YamlPosition; end: YamlPosition }): Range {\n\t\treturn new Range(this.range.startLineNumber + start.line, start.character + 1, this.range.startLineNumber + end.line, end.character + 1);\n\t}\n\n\tprivate asValue(node: YamlNode): IValue {\n\t\tswitch (node.type) {\n\t\t\tcase 'string':\n\t\t\t\treturn { type: 'string', value: node.value, range: this.asRange(node) };\n\t\t\tcase 'number':\n\t\t\t\treturn { type: 'number', value: node.value, range: this.asRange(node) };\n\t\t\tcase 'boolean':\n\t\t\t\treturn { type: 'boolean', value: node.value, range: this.asRange(node) };\n\t\t\tcase 'null':\n\t\t\t\treturn { type: 'null', value: node.value, range: this.asRange(node) };\n\t\t\tcase 'array':\n\t\t\t\treturn { type: 'array', items: node.items.map(item => this.asValue(item)), range: this.asRange(node) };\n\t\t\tcase 'object': {\n\t\t\t\tconst properties = node.properties.map(property => ({ key: this.asValue(property.key) as IStringValue, value: this.asValue(property.value) }));\n\t\t\t\treturn { type: 'object', properties, range: this.asRange(node) };\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic get attributes(): IHeaderAttribute[] {\n\t\treturn this._parsedHeader.attributes;\n\t}\n\n\tpublic getAttribute(key: string): IHeaderAttribute | undefined {\n\t\treturn this._parsedHeader.attributes.find(attr => attr.key === key);\n\t}\n\n\tpublic get errors(): ParseError[] {\n\t\treturn this._parsedHeader.errors;\n\t}\n\n\tprivate getStringAttribute(key: string): string | undefined {\n\t\tconst attribute = this._parsedHeader.attributes.find(attr => attr.key === key);\n\t\tif (attribute?.value.type === 'string') {\n\t\t\treturn attribute.value.value;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic get name(): string | undefined {\n\t\tconst name = this.getStringAttribute(PromptHeaderAttributes.name);\n\t\tif (name && PROMPT_NAME_REGEXP.test(name)) {\n\t\t\treturn name;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic get description(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.description);\n\t}\n\n\tpublic get agent(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.agent) ?? this.getStringAttribute(PromptHeaderAttributes.mode);\n\t}\n\n\tpublic get model(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.model);\n\t}\n\n\tpublic get applyTo(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.applyTo);\n\t}\n\n\tpublic get argumentHint(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.argumentHint);\n\t}\n\n\tpublic get target(): string | undefined {\n\t\treturn this.getStringAttribute(PromptHeaderAttributes.target);\n\t}\n\n\tpublic get tools(): string[] | undefined {\n\t\tconst toolsAttribute = this._parsedHeader.attributes.find(attr => attr.key === PromptHeaderAttributes.tools);\n\t\tif (!toolsAttribute) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (toolsAttribute.value.type === 'array') {\n\t\t\tconst tools: string[] = [];\n\t\t\tfor (const item of toolsAttribute.value.items) {\n\t\t\t\tif (item.type === 'string' && item.value) {\n\t\t\t\t\ttools.push(item.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn tools;\n\t\t} else if (toolsAttribute.value.type === 'object') {\n\t\t\tconst tools: string[] = [];\n\t\t\tconst collectLeafs = ({ key, value }: { key: IStringValue; value: IValue }) => {\n\t\t\t\tif (value.type === 'boolean') {\n\t\t\t\t\ttools.push(key.value);\n\t\t\t\t} else if (value.type === 'object') {\n\t\t\t\t\tvalue.properties.forEach(collectLeafs);\n\t\t\t\t}\n\t\t\t};\n\t\t\ttoolsAttribute.value.properties.forEach(collectLeafs);\n\t\t\treturn tools;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic get handOffs(): IHandOff[] | undefined {\n\t\tconst handoffsAttribute = this._parsedHeader.attributes.find(attr => attr.key === PromptHeaderAttributes.handOffs);\n\t\tif (!handoffsAttribute) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (handoffsAttribute.value.type === 'array') {\n\t\t\t// Array format: list of objects: { agent, label, prompt, send? }\n\t\t\tconst handoffs: IHandOff[] = [];\n\t\t\tfor (const item of handoffsAttribute.value.items) {\n\t\t\t\tif (item.type === 'object') {\n\t\t\t\t\tlet agent: string | undefined;\n\t\t\t\t\tlet label: string | undefined;\n\t\t\t\t\tlet prompt: string | undefined;\n\t\t\t\t\tlet send: boolean | undefined;\n\t\t\t\t\tfor (const prop of item.properties) {\n\t\t\t\t\t\tif (prop.key.value === 'agent' && prop.value.type === 'string') {\n\t\t\t\t\t\t\tagent = prop.value.value;\n\t\t\t\t\t\t} else if (prop.key.value === 'label' && prop.value.type === 'string') {\n\t\t\t\t\t\t\tlabel = prop.value.value;\n\t\t\t\t\t\t} else if (prop.key.value === 'prompt' && prop.value.type === 'string') {\n\t\t\t\t\t\t\tprompt = prop.value.value;\n\t\t\t\t\t\t} else if (prop.key.value === 'send' && prop.value.type === 'boolean') {\n\t\t\t\t\t\t\tsend = prop.value.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (agent && label && prompt !== undefined) {\n\t\t\t\t\t\thandoffs.push({ agent, label, prompt, send });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn handoffs;\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nexport interface IHandOff { readonly agent: string; readonly label: string; readonly prompt: string; readonly send?: boolean }\n\nexport interface IHeaderAttribute {\n\treadonly range: Range;\n\treadonly key: string;\n\treadonly value: IValue;\n}\n\nexport interface IStringValue { readonly type: 'string'; readonly value: string; readonly range: Range }\nexport interface INumberValue { readonly type: 'number'; readonly value: number; readonly range: Range }\nexport interface INullValue { readonly type: 'null'; readonly value: null; readonly range: Range }\nexport interface IBooleanValue { readonly type: 'boolean'; readonly value: boolean; readonly range: Range }\n\nexport interface IArrayValue {\n\treadonly type: 'array';\n\treadonly items: readonly IValue[];\n\treadonly range: Range;\n}\n\nexport interface IObjectValue {\n\treadonly type: 'object';\n\treadonly properties: { key: IStringValue; value: IValue }[];\n\treadonly range: Range;\n}\n\nexport type IValue = IStringValue | INumberValue | IBooleanValue | IArrayValue | IObjectValue | INullValue;\n\n\ninterface ParsedBody {\n\treadonly fileReferences: readonly IBodyFileReference[];\n\treadonly variableReferences: readonly IBodyVariableReference[];\n\treadonly bodyOffset: number;\n}\n\nexport class PromptBody {\n\tprivate _parsed: ParsedBody | undefined;\n\n\tconstructor(public readonly range: Range, private readonly linesWithEOL: string[], public readonly uri: URI) {\n\t}\n\n\tpublic get fileReferences(): readonly IBodyFileReference[] {\n\t\treturn this.getParsedBody().fileReferences;\n\t}\n\n\tpublic get variableReferences(): readonly IBodyVariableReference[] {\n\t\treturn this.getParsedBody().variableReferences;\n\t}\n\n\tpublic get offset(): number {\n\t\treturn this.getParsedBody().bodyOffset;\n\t}\n\n\tprivate getParsedBody(): ParsedBody {\n\t\tif (this._parsed === undefined) {\n\t\t\tconst markdownLinkRanges: Range[] = [];\n\t\t\tconst fileReferences: IBodyFileReference[] = [];\n\t\t\tconst variableReferences: IBodyVariableReference[] = [];\n\t\t\tconst bodyOffset = Iterable.reduce(Iterable.slice(this.linesWithEOL, 0, this.range.startLineNumber - 1), (len, line) => line.length + len, 0);\n\t\t\tfor (let i = this.range.startLineNumber - 1, lineStartOffset = bodyOffset; i < this.range.endLineNumber - 1; i++) {\n\t\t\t\tconst line = this.linesWithEOL[i];\n\t\t\t\t// Match markdown links: [text](link)\n\t\t\t\tconst linkMatch = line.matchAll(/\\[(.*?)\\]\\((.+?)\\)/g);\n\t\t\t\tfor (const match of linkMatch) {\n\t\t\t\t\tconst linkEndOffset = match.index + match[0].length - 1; // before the parenthesis\n\t\t\t\t\tconst linkStartOffset = match.index + match[0].length - match[2].length - 1;\n\t\t\t\t\tconst range = new Range(i + 1, linkStartOffset + 1, i + 1, linkEndOffset + 1);\n\t\t\t\t\tfileReferences.push({ content: match[2], range, isMarkdownLink: true });\n\t\t\t\t\tmarkdownLinkRanges.push(new Range(i + 1, match.index + 1, i + 1, match.index + match[0].length + 1));\n\t\t\t\t}\n\t\t\t\t// Match #file:<filePath> and #tool:<toolName>\n\t\t\t\t// Regarding the <toolName> pattern below, see also the variableReg regex in chatRequestParser.ts.\n\t\t\t\tconst reg = /#file:(?<filePath>[^\\s#]+)|#tool:(?<toolName>[\\w_\\-\\.\\/]+)/gi;\n\t\t\t\tconst matches = line.matchAll(reg);\n\t\t\t\tfor (const match of matches) {\n\t\t\t\t\tconst fullMatch = match[0];\n\t\t\t\t\tconst fullRange = new Range(i + 1, match.index + 1, i + 1, match.index + fullMatch.length + 1);\n\t\t\t\t\tif (markdownLinkRanges.some(mdRange => Range.areIntersectingOrTouching(mdRange, fullRange))) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst contentMatch = match.groups?.['filePath'] || match.groups?.['toolName'];\n\t\t\t\t\tif (!contentMatch) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst startOffset = match.index + fullMatch.length - contentMatch.length;\n\t\t\t\t\tconst endOffset = match.index + fullMatch.length;\n\t\t\t\t\tconst range = new Range(i + 1, startOffset + 1, i + 1, endOffset + 1);\n\t\t\t\t\tif (match.groups?.['filePath']) {\n\t\t\t\t\t\tfileReferences.push({ content: match.groups?.['filePath'], range, isMarkdownLink: false });\n\t\t\t\t\t} else if (match.groups?.['toolName']) {\n\t\t\t\t\t\tvariableReferences.push({ name: match.groups?.['toolName'], range, offset: lineStartOffset + match.index });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlineStartOffset += line.length;\n\t\t\t}\n\t\t\tthis._parsed = { fileReferences: fileReferences.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range)), variableReferences, bodyOffset };\n\t\t}\n\t\treturn this._parsed;\n\t}\n\n\tpublic getContent(): string {\n\t\treturn this.linesWithEOL.slice(this.range.startLineNumber - 1, this.range.endLineNumber - 1).join('');\n\t}\n\n\tpublic resolveFilePath(path: string): URI | undefined {\n\t\ttry {\n\t\t\tif (path.startsWith('/')) {\n\t\t\t\treturn this.uri.with({ path });\n\t\t\t} else if (path.match(/^[a-zA-Z]+:\\//)) {\n\t\t\t\treturn URI.parse(path);\n\t\t\t} else {\n\t\t\t\tconst dirName = dirname(this.uri);\n\t\t\t\treturn joinPath(dirName, path);\n\t\t\t}\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport interface IBodyFileReference {\n\treadonly content: string;\n\treadonly range: Range;\n\treadonly isMarkdownLink: boolean;\n}\n\nexport interface IBodyVariableReference {\n\treadonly name: string;\n\treadonly range: Range;\n\treadonly offset: number;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}