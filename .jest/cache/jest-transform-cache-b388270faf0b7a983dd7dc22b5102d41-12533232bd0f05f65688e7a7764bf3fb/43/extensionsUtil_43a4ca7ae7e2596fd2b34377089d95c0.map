{"version":3,"names":["cov_4oimas7ky","actualCoverage","ExtensionIdentifierMap","localize","semver","dedupExtensions","system","user","workspace","development","logService","f","result","s","forEach","systemExtension","extension","get","identifier","b","warn","extensionLocation","fsPath","set","userExtension","isBuiltin","gte","version","path","workspaceExtension","developedExtension","info","Array","from","values"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/extensions/common/extensionsUtil.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ExtensionIdentifierMap, IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { localize } from '../../../../nls.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport * as semver from '../../../../base/common/semver/semver.js';\nimport { Mutable } from '../../../../base/common/types.js';\n\n// TODO: @sandy081 merge this with deduping in extensionsScannerService.ts\nexport function dedupExtensions(system: IExtensionDescription[], user: IExtensionDescription[], workspace: IExtensionDescription[], development: IExtensionDescription[], logService: ILogService): IExtensionDescription[] {\n\tconst result = new ExtensionIdentifierMap<IExtensionDescription>();\n\tsystem.forEach((systemExtension) => {\n\t\tconst extension = result.get(systemExtension.identifier);\n\t\tif (extension) {\n\t\t\tlogService.warn(localize('overwritingExtension', \"Overwriting extension {0} with {1}.\", extension.extensionLocation.fsPath, systemExtension.extensionLocation.fsPath));\n\t\t}\n\t\tresult.set(systemExtension.identifier, systemExtension);\n\t});\n\tuser.forEach((userExtension) => {\n\t\tconst extension = result.get(userExtension.identifier);\n\t\tif (extension) {\n\t\t\tif (extension.isBuiltin) {\n\t\t\t\tif (semver.gte(extension.version, userExtension.version)) {\n\t\t\t\t\tlogService.warn(`Skipping extension ${userExtension.extensionLocation.path} in favour of the builtin extension ${extension.extensionLocation.path}.`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Overwriting a builtin extension inherits the `isBuiltin` property and it doesn't show a warning\n\t\t\t\t(<Mutable<IExtensionDescription>>userExtension).isBuiltin = true;\n\t\t\t} else {\n\t\t\t\tlogService.warn(localize('overwritingExtension', \"Overwriting extension {0} with {1}.\", extension.extensionLocation.fsPath, userExtension.extensionLocation.fsPath));\n\t\t\t}\n\t\t} else if (userExtension.isBuiltin) {\n\t\t\tlogService.warn(`Skipping obsolete builtin extension ${userExtension.extensionLocation.path}`);\n\t\t\treturn;\n\t\t}\n\t\tresult.set(userExtension.identifier, userExtension);\n\t});\n\tworkspace.forEach(workspaceExtension => {\n\t\tconst extension = result.get(workspaceExtension.identifier);\n\t\tif (extension) {\n\t\t\tlogService.warn(localize('overwritingWithWorkspaceExtension', \"Overwriting {0} with Workspace Extension {1}.\", extension.extensionLocation.fsPath, workspaceExtension.extensionLocation.fsPath));\n\t\t}\n\t\tresult.set(workspaceExtension.identifier, workspaceExtension);\n\t});\n\tdevelopment.forEach(developedExtension => {\n\t\tlogService.info(localize('extensionUnderDevelopment', \"Loading development extension at {0}\", developedExtension.extensionLocation.fsPath));\n\t\tconst extension = result.get(developedExtension.identifier);\n\t\tif (extension) {\n\t\t\tif (extension.isBuiltin) {\n\t\t\t\t// Overwriting a builtin extension inherits the `isBuiltin` property\n\t\t\t\t(<Mutable<IExtensionDescription>>developedExtension).isBuiltin = true;\n\t\t\t}\n\t\t}\n\t\tresult.set(developedExtension.identifier, developedExtension);\n\t});\n\treturn Array.from(result.values());\n}\n"],"mappings":"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","ignoreList":[]}