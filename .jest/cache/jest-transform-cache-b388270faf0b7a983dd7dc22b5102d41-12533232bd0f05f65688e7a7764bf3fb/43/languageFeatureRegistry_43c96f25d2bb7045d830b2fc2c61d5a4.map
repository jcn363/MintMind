{"version":3,"names":["cov_2olaoogtox","actualCoverage","Emitter","toDisposable","shouldSynchronizeModel","score","isExclusive","selector","f","s","b","Array","isArray","every","exclusive","MatchCandidate","uri","languageId","notebookUri","notebookType","recursive","constructor","equals","other","toString","LanguageFeatureRegistry","_notebookInfoResolver","_clock","_entries","_onDidChange","onDidChange","event","register","provider","entry","_score","_time","push","_lastCandidate","undefined","fire","length","idx","indexOf","splice","has","model","all","_updateScores","result","allNoModel","map","ordered","_orderedForEach","orderedGroups","lastBucket","lastBucketScore","callback","notebookInfo","candidate","getLanguageId","type","sort","_compareByScoreAndTime","a","isBuiltinSelector","some","Boolean","isBuiltin"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/languageFeatureRegistry.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../base/common/event.js';\nimport { IDisposable, toDisposable } from '../../base/common/lifecycle.js';\nimport { ITextModel, shouldSynchronizeModel } from './model.js';\nimport { LanguageFilter, LanguageSelector, score } from './languageSelector.js';\nimport { URI } from '../../base/common/uri.js';\n\ninterface Entry<T> {\n\treadonly selector: LanguageSelector;\n\treadonly provider: T;\n\t_score: number;\n\treadonly _time: number;\n}\n\nfunction isExclusive(selector: LanguageSelector): boolean {\n\tif (typeof selector === 'string') {\n\t\treturn false;\n\t} else if (Array.isArray(selector)) {\n\t\treturn selector.every(isExclusive);\n\t} else {\n\t\treturn !!(selector as LanguageFilter).exclusive; // TODO: microsoft/TypeScript#42768\n\t}\n}\n\nexport interface NotebookInfo {\n\treadonly uri: URI;\n\treadonly type: string;\n}\n\nexport interface NotebookInfoResolver {\n\t(uri: URI): NotebookInfo | undefined;\n}\n\nclass MatchCandidate {\n\tconstructor(\n\t\treadonly uri: URI,\n\t\treadonly languageId: string,\n\t\treadonly notebookUri: URI | undefined,\n\t\treadonly notebookType: string | undefined,\n\t\treadonly recursive: boolean,\n\t) { }\n\n\tequals(other: MatchCandidate): boolean {\n\t\treturn this.notebookType === other.notebookType\n\t\t\t&& this.languageId === other.languageId\n\t\t\t&& this.uri.toString() === other.uri.toString()\n\t\t\t&& this.notebookUri?.toString() === other.notebookUri?.toString()\n\t\t\t&& this.recursive === other.recursive;\n\t}\n}\n\nexport class LanguageFeatureRegistry<T> {\n\n\tprivate _clock: number = 0;\n\tprivate readonly _entries: Entry<T>[] = [];\n\n\tprivate readonly _onDidChange = new Emitter<number>();\n\tget onDidChange() { return this._onDidChange.event; }\n\n\tconstructor(private readonly _notebookInfoResolver?: NotebookInfoResolver) { }\n\n\tregister(selector: LanguageSelector, provider: T): IDisposable {\n\n\t\tlet entry: Entry<T> | undefined = {\n\t\t\tselector,\n\t\t\tprovider,\n\t\t\t_score: -1,\n\t\t\t_time: this._clock++\n\t\t};\n\n\t\tthis._entries.push(entry);\n\t\tthis._lastCandidate = undefined;\n\t\tthis._onDidChange.fire(this._entries.length);\n\n\t\treturn toDisposable(() => {\n\t\t\tif (entry) {\n\t\t\t\tconst idx = this._entries.indexOf(entry);\n\t\t\t\tif (idx >= 0) {\n\t\t\t\t\tthis._entries.splice(idx, 1);\n\t\t\t\t\tthis._lastCandidate = undefined;\n\t\t\t\t\tthis._onDidChange.fire(this._entries.length);\n\t\t\t\t\tentry = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\thas(model: ITextModel): boolean {\n\t\treturn this.all(model).length > 0;\n\t}\n\n\tall(model: ITextModel): T[] {\n\t\tif (!model) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthis._updateScores(model, false);\n\t\tconst result: T[] = [];\n\n\t\t// from registry\n\t\tfor (const entry of this._entries) {\n\t\t\tif (entry._score > 0) {\n\t\t\t\tresult.push(entry.provider);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tallNoModel(): T[] {\n\t\treturn this._entries.map(entry => entry.provider);\n\t}\n\n\tordered(model: ITextModel, recursive = false): T[] {\n\t\tconst result: T[] = [];\n\t\tthis._orderedForEach(model, recursive, entry => result.push(entry.provider));\n\t\treturn result;\n\t}\n\n\torderedGroups(model: ITextModel): T[][] {\n\t\tconst result: T[][] = [];\n\t\tlet lastBucket: T[];\n\t\tlet lastBucketScore: number;\n\n\t\tthis._orderedForEach(model, false, entry => {\n\t\t\tif (lastBucket && lastBucketScore === entry._score) {\n\t\t\t\tlastBucket.push(entry.provider);\n\t\t\t} else {\n\t\t\t\tlastBucketScore = entry._score;\n\t\t\t\tlastBucket = [entry.provider];\n\t\t\t\tresult.push(lastBucket);\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tprivate _orderedForEach(model: ITextModel, recursive: boolean, callback: (provider: Entry<T>) => void): void {\n\n\t\tthis._updateScores(model, recursive);\n\n\t\tfor (const entry of this._entries) {\n\t\t\tif (entry._score > 0) {\n\t\t\t\tcallback(entry);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _lastCandidate: MatchCandidate | undefined;\n\n\tprivate _updateScores(model: ITextModel, recursive: boolean): void {\n\n\t\tconst notebookInfo = this._notebookInfoResolver?.(model.uri);\n\n\t\t// use the uri (scheme, pattern) of the notebook info iff we have one\n\t\t// otherwise it's the model's/document's uri\n\t\tconst candidate = notebookInfo\n\t\t\t? new MatchCandidate(model.uri, model.getLanguageId(), notebookInfo.uri, notebookInfo.type, recursive)\n\t\t\t: new MatchCandidate(model.uri, model.getLanguageId(), undefined, undefined, recursive);\n\n\t\tif (this._lastCandidate?.equals(candidate)) {\n\t\t\t// nothing has changed\n\t\t\treturn;\n\t\t}\n\n\t\tthis._lastCandidate = candidate;\n\n\t\tfor (const entry of this._entries) {\n\t\t\tentry._score = score(entry.selector, candidate.uri, candidate.languageId, shouldSynchronizeModel(model), candidate.notebookUri, candidate.notebookType);\n\n\t\t\tif (isExclusive(entry.selector) && entry._score > 0) {\n\t\t\t\tif (recursive) {\n\t\t\t\t\tentry._score = 0;\n\t\t\t\t} else {\n\t\t\t\t\t// support for one exclusive selector that overwrites\n\t\t\t\t\t// any other selector\n\t\t\t\t\tfor (const entry of this._entries) {\n\t\t\t\t\t\tentry._score = 0;\n\t\t\t\t\t}\n\t\t\t\t\tentry._score = 1000;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// needs sorting\n\t\tthis._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime);\n\t}\n\n\tprivate static _compareByScoreAndTime(a: Entry<unknown>, b: Entry<unknown>): number {\n\t\tif (a._score < b._score) {\n\t\t\treturn 1;\n\t\t} else if (a._score > b._score) {\n\t\t\treturn -1;\n\t\t}\n\n\t\t// De-prioritize built-in providers\n\t\tif (isBuiltinSelector(a.selector) && !isBuiltinSelector(b.selector)) {\n\t\t\treturn 1;\n\t\t} else if (!isBuiltinSelector(a.selector) && isBuiltinSelector(b.selector)) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (a._time < b._time) {\n\t\t\treturn 1;\n\t\t} else if (a._time > b._time) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n}\n\nfunction isBuiltinSelector(selector: LanguageSelector): boolean {\n\tif (typeof selector === 'string') {\n\t\treturn false;\n\t}\n\n\tif (Array.isArray(selector)) {\n\t\treturn selector.some(isBuiltinSelector);\n\t}\n\n\treturn Boolean((selector as LanguageFilter).isBuiltin);\n}\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAuBS;IAAAA,cAAA,Y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","ignoreList":[]}