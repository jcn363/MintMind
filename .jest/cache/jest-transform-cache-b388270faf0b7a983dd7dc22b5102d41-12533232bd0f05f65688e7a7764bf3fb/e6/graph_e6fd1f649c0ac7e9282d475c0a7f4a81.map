{"version":3,"names":["cov_lmjom19nv","actualCoverage","Node","key","data","incoming","s","Map","outgoing","constructor","f","Graph","_hashFn","_nodes","roots","ret","node","values","size","b","push","insertEdge","from","to","fromNode","lookupOrInsertNode","toNode","set","removeNode","delete","get","lookup","isEmpty","toString","value","keys","join","findCycleSlow","id","seen","Set","res","_findCycle","undefined","has","add"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/instantiation/common/graph.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport class Node<T> {\n\n\n\treadonly incoming = new Map<string, Node<T>>();\n\treadonly outgoing = new Map<string, Node<T>>();\n\n\tconstructor(\n\t\treadonly key: string,\n\t\treadonly data: T\n\t) { }\n}\n\nexport class Graph<T> {\n\n\tprivate readonly _nodes = new Map<string, Node<T>>();\n\n\tconstructor(private readonly _hashFn: (element: T) => string) {\n\t\t// empty\n\t}\n\n\troots(): Node<T>[] {\n\t\tconst ret: Node<T>[] = [];\n\t\tfor (const node of this._nodes.values()) {\n\t\t\tif (node.outgoing.size === 0) {\n\t\t\t\tret.push(node);\n\t\t\t}\n\t\t}\n\t\treturn ret;\n\t}\n\n\tinsertEdge(from: T, to: T): void {\n\t\tconst fromNode = this.lookupOrInsertNode(from);\n\t\tconst toNode = this.lookupOrInsertNode(to);\n\n\t\tfromNode.outgoing.set(toNode.key, toNode);\n\t\ttoNode.incoming.set(fromNode.key, fromNode);\n\t}\n\n\tremoveNode(data: T): void {\n\t\tconst key = this._hashFn(data);\n\t\tthis._nodes.delete(key);\n\t\tfor (const node of this._nodes.values()) {\n\t\t\tnode.outgoing.delete(key);\n\t\t\tnode.incoming.delete(key);\n\t\t}\n\t}\n\n\tlookupOrInsertNode(data: T): Node<T> {\n\t\tconst key = this._hashFn(data);\n\t\tlet node = this._nodes.get(key);\n\n\t\tif (!node) {\n\t\t\tnode = new Node(key, data);\n\t\t\tthis._nodes.set(key, node);\n\t\t}\n\n\t\treturn node;\n\t}\n\n\tlookup(data: T): Node<T> | undefined {\n\t\treturn this._nodes.get(this._hashFn(data));\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this._nodes.size === 0;\n\t}\n\n\ttoString(): string {\n\t\tconst data: string[] = [];\n\t\tfor (const [key, value] of this._nodes) {\n\t\t\tdata.push(`${key}\\n\\t(-> incoming)[${[...value.incoming.keys()].join(', ')}]\\n\\t(outgoing ->)[${[...value.outgoing.keys()].join(',')}]\\n`);\n\n\t\t}\n\t\treturn data.join('\\n');\n\t}\n\n\t/**\n\t * This is brute force and slow and **only** be used\n\t * to trouble shoot.\n\t */\n\tfindCycleSlow() {\n\t\tfor (const [id, node] of this._nodes) {\n\t\t\tconst seen = new Set<string>([id]);\n\t\t\tconst res = this._findCycle(node, seen);\n\t\t\tif (res) {\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate _findCycle(node: Node<T>, seen: Set<string>): string | undefined {\n\t\tfor (const [id, outgoing] of node.outgoing) {\n\t\t\tif (seen.has(id)) {\n\t\t\t\treturn [...seen, id].join(' -> ');\n\t\t\t}\n\t\t\tseen.add(id);\n\t\t\tconst value = this._findCycle(outgoing, seen);\n\t\t\tif (value) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tseen.delete(id);\n\t\t}\n\t\treturn undefined;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}