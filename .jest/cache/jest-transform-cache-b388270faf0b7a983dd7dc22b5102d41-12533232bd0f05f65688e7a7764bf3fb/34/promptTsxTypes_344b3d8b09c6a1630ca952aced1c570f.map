{"version":3,"names":["cov_kah4gx5h","actualCoverage","stringifyPromptElementJSON","element","f","strs","s","stringifyPromptNodeJSON","node","join","type","b","lineBreakBefore","push","text","ctor","child","children"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/tools/promptTsxTypes.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * This is a subset of the types export from jsonTypes.d.ts in @vscode/prompt-tsx.\n * It's just the types needed to stringify prompt-tsx tool results.\n * It should be kept in sync with the types in that file.\n */\n\nexport declare const enum PromptNodeType {\n\tPiece = 1,\n\tText = 2\n}\nexport interface TextJSON {\n\ttype: PromptNodeType.Text;\n\ttext: string;\n\tlineBreakBefore: boolean | undefined;\n}\n/**\n * Constructor kind of the node represented by {@link PieceJSON}. This is\n * less descriptive than the actual constructor, as we only care to preserve\n * the element data that the renderer cares about.\n */\nexport declare const enum PieceCtorKind {\n\tBaseChatMessage = 1,\n\tOther = 2,\n\tImageChatMessage = 3\n}\nexport interface BasePieceJSON {\n\ttype: PromptNodeType.Piece;\n\tctor: PieceCtorKind.BaseChatMessage | PieceCtorKind.Other;\n\tchildren: PromptNodeJSON[];\n}\nexport interface ImageChatMessagePieceJSON {\n\ttype: PromptNodeType.Piece;\n\tctor: PieceCtorKind.ImageChatMessage;\n\tchildren: PromptNodeJSON[];\n\tprops: {\n\t\tsrc: string;\n\t\tdetail?: 'low' | 'high';\n\t};\n}\nexport type PieceJSON = BasePieceJSON | ImageChatMessagePieceJSON;\nexport type PromptNodeJSON = PieceJSON | TextJSON;\nexport interface PromptElementJSON {\n\tnode: PieceJSON;\n}\n\nexport function stringifyPromptElementJSON(element: PromptElementJSON): string {\n\tconst strs: string[] = [];\n\tstringifyPromptNodeJSON(element.node, strs);\n\treturn strs.join('');\n}\n\nfunction stringifyPromptNodeJSON(node: PromptNodeJSON, strs: string[]): void {\n\tif (node.type === PromptNodeType.Text) {\n\t\tif (node.lineBreakBefore) {\n\t\t\tstrs.push('\\n');\n\t\t}\n\n\t\tif (typeof node.text === 'string') {\n\t\t\tstrs.push(node.text);\n\t\t}\n\t} else if (node.ctor === PieceCtorKind.ImageChatMessage) {\n\t\t// This case currently can't be hit by prompt-tsx\n\t\tstrs.push('<image>');\n\t} else if (node.ctor === PieceCtorKind.BaseChatMessage || node.ctor === PieceCtorKind.Other) {\n\t\tfor (const child of node.children) {\n\t\t\tstringifyPromptNodeJSON(child, strs);\n\t\t}\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA+DG;IAAAA,YAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,YAAA;AA/DH;;;;AAkDA,OAAM,SAAUE,0BAA0BA,CAACC,OAA0B;EAAA;EAAAH,YAAA,GAAAI,CAAA;EACpE,MAAMC,IAAI;EAAA;EAAA,CAAAL,YAAA,GAAAM,CAAA,OAAa,EAAE;EAAC;EAAAN,YAAA,GAAAM,CAAA;EAC1BC,uBAAuB,CAACJ,OAAO,CAACK,IAAI,EAAEH,IAAI,CAAC;EAAC;EAAAL,YAAA,GAAAM,CAAA;EAC5C,OAAOD,IAAI,CAACI,IAAI,CAAC,EAAE,CAAC;AACrB;AAEA,SAASF,uBAAuBA,CAACC,IAAoB,EAAEH,IAAc;EAAA;EAAAL,YAAA,GAAAI,CAAA;EAAAJ,YAAA,GAAAM,CAAA;EACpE,IAAIE,IAAI,CAACE,IAAI,kCAA0B;IAAA;IAAAV,YAAA,GAAAW,CAAA;IAAAX,YAAA,GAAAM,CAAA;IACtC,IAAIE,IAAI,CAACI,eAAe,EAAE;MAAA;MAAAZ,YAAA,GAAAW,CAAA;MAAAX,YAAA,GAAAM,CAAA;MACzBD,IAAI,CAACQ,IAAI,CAAC,IAAI,CAAC;IAChB,CAAC;IAAA;IAAA;MAAAb,YAAA,GAAAW,CAAA;IAAA;IAAAX,YAAA,GAAAM,CAAA;IAED,IAAI,OAAOE,IAAI,CAACM,IAAI,KAAK,QAAQ,EAAE;MAAA;MAAAd,YAAA,GAAAW,CAAA;MAAAX,YAAA,GAAAM,CAAA;MAClCD,IAAI,CAACQ,IAAI,CAACL,IAAI,CAACM,IAAI,CAAC;IACrB,CAAC;IAAA;IAAA;MAAAd,YAAA,GAAAW,CAAA;IAAA;EACF,CAAC,MAAM;IAAA;IAAAX,YAAA,GAAAW,CAAA;IAAAX,YAAA,GAAAM,CAAA;IAAA,IAAIE,IAAI,CAACO,IAAI,6CAAqC;MAAA;MAAAf,YAAA,GAAAW,CAAA;MAAAX,YAAA,GAAAM,CAAA;MACxD;MACAD,IAAI,CAACQ,IAAI,CAAC,SAAS,CAAC;IACrB,CAAC,MAAM;MAAA;MAAAb,YAAA,GAAAW,CAAA;MAAAX,YAAA,GAAAM,CAAA;MAAA;MAAI;MAAA,CAAAN,YAAA,GAAAW,CAAA,UAAAH,IAAI,CAACO,IAAI;MAAA;MAAA,CAAAf,YAAA,GAAAW,CAAA,UAAsCH,IAAI,CAACO,IAAI,mCAA0B;QAAA;QAAAf,YAAA,GAAAW,CAAA;QAAAX,YAAA,GAAAM,CAAA;QAC5F,KAAK,MAAMU,KAAK,IAAIR,IAAI,CAACS,QAAQ,EAAE;UAAA;UAAAjB,YAAA,GAAAM,CAAA;UAClCC,uBAAuB,CAACS,KAAK,EAAEX,IAAI,CAAC;QACrC;MACD,CAAC;MAAA;MAAA;QAAAL,YAAA,GAAAW,CAAA;MAAA;IAAD;EAAA;AACD","ignoreList":[]}