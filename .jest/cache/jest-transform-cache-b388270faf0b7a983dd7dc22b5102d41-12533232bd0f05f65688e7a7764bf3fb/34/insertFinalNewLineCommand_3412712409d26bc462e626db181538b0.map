{"version":3,"names":["cov_26rqbc8mi0","actualCoverage","strings","EditOperation","Position","InsertFinalNewLineCommand","_selection","_selectionId","constructor","selection","f","s","getEditOperations","model","builder","op","insertFinalNewLine","b","addEditOperation","range","text","trackSelection","computeCursorState","helper","getTrackedSelection","lineCount","getLineCount","lastLine","getLineContent","lastLineIsEmptyOrWhitespace","lastNonWhitespaceIndex","insert","getLineMaxColumn","getEOL"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/insertFinalNewLine/browser/insertFinalNewLineCommand.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as strings from '../../../../base/common/strings.js';\nimport { EditOperation, ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { ITextModel } from '../../../common/model.js';\n\nexport class InsertFinalNewLineCommand implements ICommand {\n\n\tprivate readonly _selection: Selection;\n\tprivate _selectionId: string | null;\n\n\n\tconstructor(selection: Selection) {\n\t\tthis._selection = selection;\n\t\tthis._selectionId = null;\n\t}\n\n\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\tconst op = insertFinalNewLine(model);\n\t\tif (op) {\n\t\t\tbuilder.addEditOperation(op.range, op.text);\n\t\t}\n\t\tthis._selectionId = builder.trackSelection(this._selection);\n\t}\n\n\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\treturn helper.getTrackedSelection(this._selectionId!);\n\t}\n}\n\n/**\n * Generate edit operations for inserting a final new line if needed.\n * Returns undefined if no edit is needed.\n */\nexport function insertFinalNewLine(model: ITextModel): ISingleEditOperation | undefined {\n\tconst lineCount = model.getLineCount();\n\tconst lastLine = model.getLineContent(lineCount);\n\tconst lastLineIsEmptyOrWhitespace = strings.lastNonWhitespaceIndex(lastLine) === -1;\n\n\tif (!lineCount || lastLineIsEmptyOrWhitespace) {\n\t\treturn;\n\t}\n\n\treturn EditOperation.insert(\n\t\tnew Position(lineCount, model.getLineMaxColumn(lineCount)),\n\t\tmodel.getEOL()\n\t);\n}\n"],"mappings":"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","ignoreList":[]}