{"version":3,"names":["cov_7le3t16nx","actualCoverage","DiffEditorModel","TextDiffEditorModel","_originalModel","originalModel","f","s","_modifiedModel","modifiedModel","_textDiffEditorModel","undefined","textDiffEditorModel","constructor","updateTextDiffEditorModel","resolve","b","isResolved","original","textEditorModel","modified","isReadonly","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/common/editor/textDiffEditorModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDiffEditorModel } from '../../../editor/common/editorCommon.js';\nimport { BaseTextEditorModel } from './textEditorModel.js';\nimport { DiffEditorModel } from './diffEditorModel.js';\nimport { IMarkdownString } from '../../../base/common/htmlContent.js';\n\n/**\n * The base text editor model for the diff editor. It is made up of two text editor models, the original version\n * and the modified version.\n */\nexport class TextDiffEditorModel extends DiffEditorModel {\n\n\tprotected override readonly _originalModel: BaseTextEditorModel | undefined;\n\toverride get originalModel(): BaseTextEditorModel | undefined { return this._originalModel; }\n\n\tprotected override readonly _modifiedModel: BaseTextEditorModel | undefined;\n\toverride get modifiedModel(): BaseTextEditorModel | undefined { return this._modifiedModel; }\n\n\tprivate _textDiffEditorModel: IDiffEditorModel | undefined = undefined;\n\tget textDiffEditorModel(): IDiffEditorModel | undefined { return this._textDiffEditorModel; }\n\n\tconstructor(originalModel: BaseTextEditorModel, modifiedModel: BaseTextEditorModel) {\n\t\tsuper(originalModel, modifiedModel);\n\n\t\tthis._originalModel = originalModel;\n\t\tthis._modifiedModel = modifiedModel;\n\n\t\tthis.updateTextDiffEditorModel();\n\t}\n\n\toverride async resolve(): Promise<void> {\n\t\tawait super.resolve();\n\n\t\tthis.updateTextDiffEditorModel();\n\t}\n\n\tprivate updateTextDiffEditorModel(): void {\n\t\tif (this.originalModel?.isResolved() && this.modifiedModel?.isResolved()) {\n\n\t\t\t// Create new\n\t\t\tif (!this._textDiffEditorModel) {\n\t\t\t\tthis._textDiffEditorModel = {\n\t\t\t\t\toriginal: this.originalModel.textEditorModel,\n\t\t\t\t\tmodified: this.modifiedModel.textEditorModel\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Update existing\n\t\t\telse {\n\t\t\t\tthis._textDiffEditorModel.original = this.originalModel.textEditorModel;\n\t\t\t\tthis._textDiffEditorModel.modified = this.modifiedModel.textEditorModel;\n\t\t\t}\n\t\t}\n\t}\n\n\toverride isResolved(): boolean {\n\t\treturn !!this._textDiffEditorModel;\n\t}\n\n\tisReadonly(): boolean | IMarkdownString {\n\t\treturn !!this.modifiedModel && this.modifiedModel.isReadonly();\n\t}\n\n\toverride dispose(): void {\n\n\t\t// Free the diff editor model but do not propagate the dispose() call to the two models\n\t\t// inside. We never created the two models (original and modified) so we can not dispose\n\t\t// them without sideeffects. Rather rely on the models getting disposed when their related\n\t\t// inputs get disposed from the diffEditorInput.\n\t\tthis._textDiffEditorModel = undefined;\n\n\t\tsuper.dispose();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}