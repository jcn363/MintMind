{"version":3,"names":["cov_1tdbxsaz0z","actualCoverage","transaction","DebugNameData","BaseObservable","DebugLocation","observableSignalFromEvent","owner","event","debugLocation","b","ofCaller","f","s","FromEventObservableSignal","undefined","subscription","debugName","constructor","debugNameDataOrName","getDebugName","onFirstObserverAdded","handleEvent","tx","o","_observers","updateObserver","handleChange","onLastObserverRemoved","dispose","get"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/observableInternal/observables/observableSignalFromEvent.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IObservable } from '../base.js';\nimport { transaction } from '../transaction.js';\nimport { Event, IDisposable } from '../commonFacade/deps.js';\nimport { DebugOwner, DebugNameData } from '../debugName.js';\nimport { BaseObservable } from './baseObservable.js';\nimport { DebugLocation } from '../debugLocation.js';\n\nexport function observableSignalFromEvent(\n\towner: DebugOwner | string,\n\tevent: Event<any>,\n\tdebugLocation = DebugLocation.ofCaller()\n): IObservable<void> {\n\treturn new FromEventObservableSignal(typeof owner === 'string' ? owner : new DebugNameData(owner, undefined, undefined), event, debugLocation);\n}\n\nclass FromEventObservableSignal extends BaseObservable<void> {\n\tprivate subscription: IDisposable | undefined;\n\n\tpublic readonly debugName: string;\n\tconstructor(\n\t\tdebugNameDataOrName: DebugNameData | string,\n\t\tprivate readonly event: Event<any>,\n\t\tdebugLocation: DebugLocation\n\t) {\n\t\tsuper(debugLocation);\n\t\tthis.debugName = typeof debugNameDataOrName === 'string'\n\t\t\t? debugNameDataOrName\n\t\t\t: debugNameDataOrName.getDebugName(this) ?? 'Observable Signal From Event';\n\t}\n\n\tprotected override onFirstObserverAdded(): void {\n\t\tthis.subscription = this.event(this.handleEvent);\n\t}\n\n\tprivate readonly handleEvent = () => {\n\t\ttransaction(\n\t\t\t(tx) => {\n\t\t\t\tfor (const o of this._observers) {\n\t\t\t\t\ttx.updateObserver(o, this);\n\t\t\t\t\to.handleChange(this, undefined);\n\t\t\t\t}\n\t\t\t},\n\t\t\t() => this.debugName\n\t\t);\n\t};\n\n\tprotected override onLastObserverRemoved(): void {\n\t\tthis.subscription!.dispose();\n\t\tthis.subscription = undefined;\n\t}\n\n\tpublic override get(): void {\n\t\t// NO OP\n\t}\n}\n"],"mappings":"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","ignoreList":[]}