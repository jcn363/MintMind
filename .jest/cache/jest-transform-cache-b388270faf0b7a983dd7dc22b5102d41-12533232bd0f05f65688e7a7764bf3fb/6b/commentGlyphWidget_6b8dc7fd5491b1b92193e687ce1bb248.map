{"version":3,"names":["cov_8cfrecyux","actualCoverage","nls","Color","OverviewRulerLane","ModelDecorationOptions","darken","editorBackground","editorForeground","listInactiveSelectionBackground","opaque","registerColor","themeColorFromId","CommentThreadState","Disposable","toDisposable","Emitter","overviewRulerCommentingRangeForeground","s","dark","light","hcDark","white","hcLight","black","localize","overviewRulerCommentForeground","overviewRulerCommentUnresolvedForeground","editorGutterCommentGlyphForeground","CommentGlyphWidget","description","_lineNumber","_editor","_threadState","_commentsDecorations","_commentsOptions","_onDidChangeLineNumber","_register","onDidChangeLineNumber","event","constructor","editor","lineNumber","f","createDecorationOptions","createDecorationsCollection","onDidChange","e","range","length","b","getRange","endLineNumber","fire","clear","setLineNumber","unresolved","Unresolved","decorationOptions","isWholeLine","overviewRuler","color","position","Center","collapseOnReplaceEdit","linesDecorationsClassName","createDynamic","setThreadState","state","_updateDecorations","commentsDecorations","startLineNumber","startColumn","endColumn","options","set","getPosition","column","preference"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/comments/browser/commentGlyphWidget.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidgetPosition } from '../../../../editor/browser/editorBrowser.js';\nimport { IModelDecorationOptions, OverviewRulerLane } from '../../../../editor/common/model.js';\nimport { ModelDecorationOptions } from '../../../../editor/common/model/textModel.js';\nimport { darken, editorBackground, editorForeground, listInactiveSelectionBackground, opaque, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nimport { IEditorDecorationsCollection } from '../../../../editor/common/editorCommon.js';\nimport { CommentThreadState } from '../../../../editor/common/languages.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { Emitter } from '../../../../base/common/event.js';\n\nexport const overviewRulerCommentingRangeForeground = registerColor('editorGutter.commentRangeForeground', { dark: opaque(listInactiveSelectionBackground, editorBackground), light: darken(opaque(listInactiveSelectionBackground, editorBackground), .05), hcDark: Color.white, hcLight: Color.black }, nls.localize('editorGutterCommentRangeForeground', 'Editor gutter decoration color for commenting ranges. This color should be opaque.'));\nconst overviewRulerCommentForeground = registerColor('editorOverviewRuler.commentForeground', overviewRulerCommentingRangeForeground, nls.localize('editorOverviewRuler.commentForeground', 'Editor overview ruler decoration color for resolved comments. This color should be opaque.'));\nconst overviewRulerCommentUnresolvedForeground = registerColor('editorOverviewRuler.commentUnresolvedForeground', overviewRulerCommentForeground, nls.localize('editorOverviewRuler.commentUnresolvedForeground', 'Editor overview ruler decoration color for unresolved comments. This color should be opaque.'));\n\nconst editorGutterCommentGlyphForeground = registerColor('editorGutter.commentGlyphForeground', { dark: editorForeground, light: editorForeground, hcDark: Color.black, hcLight: Color.white }, nls.localize('editorGutterCommentGlyphForeground', 'Editor gutter decoration color for commenting glyphs.'));\nregisterColor('editorGutter.commentUnresolvedGlyphForeground', editorGutterCommentGlyphForeground, nls.localize('editorGutterCommentUnresolvedGlyphForeground', 'Editor gutter decoration color for commenting glyphs for unresolved comment threads.'));\n\nexport class CommentGlyphWidget extends Disposable {\n\tpublic static description = 'comment-glyph-widget';\n\tprivate _lineNumber!: number;\n\tprivate _editor: ICodeEditor;\n\tprivate _threadState: CommentThreadState | undefined;\n\tprivate readonly _commentsDecorations: IEditorDecorationsCollection;\n\tprivate _commentsOptions: ModelDecorationOptions;\n\n\tprivate readonly _onDidChangeLineNumber = this._register(new Emitter<number>());\n\tpublic readonly onDidChangeLineNumber = this._onDidChangeLineNumber.event;\n\n\tconstructor(editor: ICodeEditor, lineNumber: number) {\n\t\tsuper();\n\t\tthis._commentsOptions = this.createDecorationOptions();\n\t\tthis._editor = editor;\n\t\tthis._commentsDecorations = this._editor.createDecorationsCollection();\n\t\tthis._register(this._commentsDecorations.onDidChange(e => {\n\t\t\tconst range = (this._commentsDecorations.length > 0 ? this._commentsDecorations.getRange(0) : null);\n\t\t\tif (range && range.endLineNumber !== this._lineNumber) {\n\t\t\t\tthis._lineNumber = range.endLineNumber;\n\t\t\t\tthis._onDidChangeLineNumber.fire(this._lineNumber);\n\t\t\t}\n\t\t}));\n\t\tthis._register(toDisposable(() => this._commentsDecorations.clear()));\n\t\tthis.setLineNumber(lineNumber);\n\t}\n\n\tprivate createDecorationOptions(): ModelDecorationOptions {\n\t\tconst unresolved = this._threadState === CommentThreadState.Unresolved;\n\t\tconst decorationOptions: IModelDecorationOptions = {\n\t\t\tdescription: CommentGlyphWidget.description,\n\t\t\tisWholeLine: true,\n\t\t\toverviewRuler: {\n\t\t\t\tcolor: themeColorFromId(unresolved ? overviewRulerCommentUnresolvedForeground : overviewRulerCommentForeground),\n\t\t\t\tposition: OverviewRulerLane.Center\n\t\t\t},\n\t\t\tcollapseOnReplaceEdit: true,\n\t\t\tlinesDecorationsClassName: `comment-range-glyph comment-thread${unresolved ? '-unresolved' : ''}`\n\t\t};\n\n\t\treturn ModelDecorationOptions.createDynamic(decorationOptions);\n\t}\n\n\tsetThreadState(state: CommentThreadState | undefined): void {\n\t\tif (this._threadState !== state) {\n\t\t\tthis._threadState = state;\n\t\t\tthis._commentsOptions = this.createDecorationOptions();\n\t\t\tthis._updateDecorations();\n\t\t}\n\t}\n\n\tprivate _updateDecorations(): void {\n\t\tconst commentsDecorations = [{\n\t\t\trange: {\n\t\t\t\tstartLineNumber: this._lineNumber, startColumn: 1,\n\t\t\t\tendLineNumber: this._lineNumber, endColumn: 1\n\t\t\t},\n\t\t\toptions: this._commentsOptions\n\t\t}];\n\n\t\tthis._commentsDecorations.set(commentsDecorations);\n\t}\n\n\tsetLineNumber(lineNumber: number): void {\n\t\tthis._lineNumber = lineNumber;\n\t\tthis._updateDecorations();\n\t}\n\n\tgetPosition(): IContentWidgetPosition {\n\t\tconst range = (this._commentsDecorations.length > 0 ? this._commentsDecorations.getRange(0) : null);\n\n\t\treturn {\n\t\t\tposition: {\n\t\t\t\tlineNumber: range ? range.endLineNumber : this._lineNumber,\n\t\t\t\tcolumn: 1\n\t\t\t},\n\t\t\tpreference: [ContentWidgetPositionPreference.EXACT]\n\t\t};\n\t}\n}\n"],"mappings":"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","ignoreList":[]}