{"version":3,"names":["cov_21cna1jyq5","actualCoverage","Emitter","hash","Disposable","DiffEditorWidget","getEditorPadding","DiffNestedCellViewModel","NotebookDiffViewEventType","DIFF_CELL_MARGIN","DiffSide","CellLayoutState","getFormattedMetadataJSON","CellUri","Schemas","NotebookDocumentMetadataTextModel","PropertyHeaderHeight","s","HeightOfHiddenLinesRegionInDiffEditor","DefaultLineHeight","PropertyFoldingState","f","b","OUTPUT_EDITOR_HEIGHT_MAGIC","DiffElementViewModelBase","mainDocumentTextModel","editorEventDispatcher","initData","_layoutInfoEmitter","_register","onDidLayoutChange","event","constructor","onDidChangeLayout","e","fire","outerWidth","DiffElementPlaceholderViewModel","type","hiddenCells","_unfoldHiddenCells","onUnfoldHiddenCells","renderOutput","totalHeight","getHeight","_","layoutChange","showHiddenCells","NotebookDocumentMetadataViewModel","originalDocumentTextModel","modifiedDocumentTextModel","editorHeightCalculator","originalMetadata","modifiedMetadata","cellFoldingState","_layoutInfo","editorHeight","height","_layout","Error","editorMargin","margin","layoutInfo","_sourceEditorViewState","notebookService","cellStatusHeight","width","metadataHeight","metadataStatusHeight","rawOutputHeight","outputTotalHeight","outputStatusHeight","outputMetadataHeight","bodyMargin","layoutState","Uninitialized","Expanded","Collapsed","computeHeights","computeHeightFromLines","textBuffer","getLineCount","original","uri","modified","diffAndComputeHeight","recomputeOutput","delta","undefined","newLayout","Measured","somethingChanged","changeEvent","_fireLayoutChangeEvent","lineHeight","computeInputEditorHeight","_computeTotalHeight","_lineHeight","Math","max","state","emit","CellLayoutChanged","source","getComputedCellContainerWidth","diffEditor","fullWidth","ENTIRE_DIFF_OVERVIEW_WIDTH","getSourceEditorViewState","saveSpirceEditorViewState","viewState","DiffElementCellViewModelBase","index","configurationService","diffEditorHeightCalculator","metadataFoldingState","outputFoldingState","_stateChangeEmitter","onDidStateChange","displayIconToHideUnmodifiedCells","_hideUnchangedCells","onHideUnchangedCells","hideUnchangedCells","min","_renderOutput","value","ignoreOutputs","getValue","transientOptions","transientOutputs","ignoreMetadata","_outputEditorViewState","_metadataEditorViewState","_estimateEditorHeight","fontInfo","getTextBufferHash","lineCount","textModel","top","bottom","outputHeight","_getOutputTotalHeight","isOutputEmpty","getRichOutputTotalHeight","getOutputEditorViewState","saveOutputEditorViewState","getMetadataEditorViewState","saveMetadataEditorViewState","SideBySideDiffElementViewModel","otherDocumentTextModel","originalDocument","modifiedDocument","editorHeightWithUnchangedLinesCollapsed","checkMetadataIfModified","checkIfOutputsModified","onDidChangeOutputLayout","onDidChangeContent","cellContentMetadata","cellMetadataKeys","Object","keys","modifiedMedataRaw","assign","metadata","originalCellMetadata","key","hasOwn","checkIfInputModified","reason","ret","outputsEqual","outputs","kind","transientCellMetadata","language","updateOutputHeight","diffSide","Original","getOutputOffsetInContainer","getOutputOffset","getOutputOffsetInCell","offsetInOutputsContainer","length","getOutputTotalHeight","getNestedCellViewModel","getCellByUri","cellUri","toString","computeModifiedInputEditorHeight","computeModifiedMetadataEditorHeight","originalMetadataUri","generateCellPropertyUri","handle","vscodeNotebookCellMetadata","modifiedMetadataUri","computeEditorHeights","Promise","all","SingleSideDiffElementViewModel","cellViewModel","outputEqual","a","j","aOutputItem","bOutputItem","mime","data","buffer","k","len","i","getStreamOutputData","first","sameStream","find","op","map","opit","join","getFormattedOutputJSON","streamOutputData","JSON","stringify","output","outputItems","mimeType"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/diff/diffElementViewModel.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { hash } from '../../../../../base/common/hash.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { DiffEditorWidget } from '../../../../../editor/browser/widget/diffEditor/diffEditorWidget.js';\nimport { FontInfo } from '../../../../../editor/common/config/fontInfo.js';\nimport * as editorCommon from '../../../../../editor/common/editorCommon.js';\nimport { getEditorPadding } from './diffCellEditorOptions.js';\nimport { DiffNestedCellViewModel } from './diffNestedCellViewModel.js';\nimport { NotebookDiffEditorEventDispatcher, NotebookDiffViewEventType } from './eventDispatcher.js';\nimport { CellDiffViewModelLayoutChangeEvent, DIFF_CELL_MARGIN, DiffSide, IDiffElementLayoutInfo } from './notebookDiffEditorBrowser.js';\nimport { CellLayoutState, IGenericCellViewModel } from '../notebookBrowser.js';\nimport { NotebookLayoutInfo } from '../notebookViewEvents.js';\nimport { getFormattedMetadataJSON, NotebookCellTextModel } from '../../common/model/notebookCellTextModel.js';\nimport { NotebookTextModel } from '../../common/model/notebookTextModel.js';\nimport { CellUri, ICellOutput, INotebookTextModel, IOutputDto, IOutputItemDto } from '../../common/notebookCommon.js';\nimport { INotebookService } from '../../common/notebookService.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { IDiffEditorHeightCalculatorService } from './editorHeightCalculator.js';\nimport { NotebookDocumentMetadataTextModel } from '../../common/model/notebookMetadataTextModel.js';\n\nconst PropertyHeaderHeight = 25;\n\n// From `.monaco-editor .diff-hidden-lines .center` in src/vs/editor/browser/widget/diffEditor/style.css\nexport const HeightOfHiddenLinesRegionInDiffEditor = 24;\n\nexport const DefaultLineHeight = 17;\n\nexport enum PropertyFoldingState {\n\tExpanded,\n\tCollapsed\n}\n\nexport const OUTPUT_EDITOR_HEIGHT_MAGIC = 1440;\n\ntype ILayoutInfoDelta0 = { [K in keyof IDiffElementLayoutInfo]?: number; };\ninterface ILayoutInfoDelta extends ILayoutInfoDelta0 {\n\trawOutputHeight?: number;\n\trecomputeOutput?: boolean;\n}\n\nexport type IDiffElementViewModelBase = DiffElementCellViewModelBase | DiffElementPlaceholderViewModel | NotebookDocumentMetadataViewModel;\n\nexport abstract class DiffElementViewModelBase extends Disposable {\n\tprotected _layoutInfoEmitter = this._register(new Emitter<CellDiffViewModelLayoutChangeEvent>());\n\tonDidLayoutChange = this._layoutInfoEmitter.event;\n\tabstract renderOutput: boolean;\n\tconstructor(\n\t\tpublic readonly mainDocumentTextModel: INotebookTextModel,\n\t\tpublic readonly editorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tpublic readonly initData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t}\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this.editorEventDispatcher.onDidChangeLayout(e => this._layoutInfoEmitter.fire({ outerWidth: true })));\n\t}\n\n\tabstract layoutChange(): void;\n\tabstract getHeight(lineHeight: number): number;\n\tabstract get totalHeight(): number;\n}\n\nexport class DiffElementPlaceholderViewModel extends DiffElementViewModelBase {\n\treadonly type: 'placeholder' = 'placeholder';\n\tpublic hiddenCells: DiffElementCellViewModelBase[] = [];\n\tprotected _unfoldHiddenCells = this._register(new Emitter<void>());\n\tonUnfoldHiddenCells = this._unfoldHiddenCells.event;\n\n\tpublic renderOutput: boolean = false;\n\tconstructor(\n\t\tmainDocumentTextModel: INotebookTextModel,\n\t\teditorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tinitData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t}\n\t) {\n\t\tsuper(mainDocumentTextModel, editorEventDispatcher, initData);\n\n\t}\n\tget totalHeight() {\n\t\treturn 24 + (2 * DIFF_CELL_MARGIN);\n\t}\n\tgetHeight(_: number): number {\n\t\treturn this.totalHeight;\n\t}\n\toverride layoutChange(): void {\n\t\t//\n\t}\n\tshowHiddenCells() {\n\t\tthis._unfoldHiddenCells.fire();\n\t}\n}\n\n\nexport class NotebookDocumentMetadataViewModel extends DiffElementViewModelBase {\n\tpublic readonly originalMetadata: NotebookDocumentMetadataTextModel;\n\tpublic readonly modifiedMetadata: NotebookDocumentMetadataTextModel;\n\tpublic cellFoldingState: PropertyFoldingState;\n\tprotected _layoutInfo!: IDiffElementLayoutInfo;\n\tpublic renderOutput: boolean = false;\n\tset editorHeight(height: number) {\n\t\tthis._layout({ editorHeight: height });\n\t}\n\n\tget editorHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.editorHeight');\n\t}\n\n\tset editorMargin(margin: number) {\n\t\tthis._layout({ editorMargin: margin });\n\t}\n\n\tget editorMargin() {\n\t\tthrow new Error('Use Cell.layoutInfo.editorMargin');\n\t}\n\tget layoutInfo(): IDiffElementLayoutInfo {\n\t\treturn this._layoutInfo;\n\t}\n\n\tget totalHeight() {\n\t\treturn this.layoutInfo.totalHeight;\n\t}\n\n\tprivate _sourceEditorViewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null = null;\n\tconstructor(\n\t\tpublic readonly originalDocumentTextModel: INotebookTextModel,\n\t\tpublic readonly modifiedDocumentTextModel: INotebookTextModel,\n\t\tpublic readonly type: 'unchangedMetadata' | 'modifiedMetadata',\n\t\teditorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tinitData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t},\n\t\tnotebookService: INotebookService,\n\t\tprivate readonly editorHeightCalculator: IDiffEditorHeightCalculatorService\n\t) {\n\t\tsuper(originalDocumentTextModel, editorEventDispatcher, initData);\n\n\t\tconst cellStatusHeight = PropertyHeaderHeight;\n\t\tthis._layoutInfo = {\n\t\t\twidth: 0,\n\t\t\teditorHeight: 0,\n\t\t\teditorMargin: 0,\n\t\t\tmetadataHeight: 0,\n\t\t\tcellStatusHeight,\n\t\t\tmetadataStatusHeight: 0,\n\t\t\trawOutputHeight: 0,\n\t\t\toutputTotalHeight: 0,\n\t\t\toutputStatusHeight: 0,\n\t\t\toutputMetadataHeight: 0,\n\t\t\tbodyMargin: 32,\n\t\t\ttotalHeight: 82 + cellStatusHeight + 0,\n\t\t\tlayoutState: CellLayoutState.Uninitialized\n\t\t};\n\n\t\tthis.cellFoldingState = type === 'modifiedMetadata' ? PropertyFoldingState.Expanded : PropertyFoldingState.Collapsed;\n\t\tthis.originalMetadata = this._register(new NotebookDocumentMetadataTextModel(originalDocumentTextModel));\n\t\tthis.modifiedMetadata = this._register(new NotebookDocumentMetadataTextModel(modifiedDocumentTextModel));\n\t}\n\n\tpublic async computeHeights() {\n\t\tif (this.type === 'unchangedMetadata') {\n\t\t\tthis.editorHeight = this.editorHeightCalculator.computeHeightFromLines(this.originalMetadata.textBuffer.getLineCount());\n\t\t} else {\n\t\t\tconst original = this.originalMetadata.uri;\n\t\t\tconst modified = this.modifiedMetadata.uri;\n\t\t\tthis.editorHeight = await this.editorHeightCalculator.diffAndComputeHeight(original, modified);\n\t\t}\n\t}\n\n\tlayoutChange() {\n\t\tthis._layout({ recomputeOutput: true });\n\t}\n\n\tprotected _layout(delta: ILayoutInfoDelta) {\n\t\tconst width = delta.width !== undefined ? delta.width : this._layoutInfo.width;\n\t\tconst editorHeight = delta.editorHeight !== undefined ? delta.editorHeight : this._layoutInfo.editorHeight;\n\t\tconst editorMargin = delta.editorMargin !== undefined ? delta.editorMargin : this._layoutInfo.editorMargin;\n\t\tconst cellStatusHeight = delta.cellStatusHeight !== undefined ? delta.cellStatusHeight : this._layoutInfo.cellStatusHeight;\n\t\tconst bodyMargin = delta.bodyMargin !== undefined ? delta.bodyMargin : this._layoutInfo.bodyMargin;\n\n\t\tconst totalHeight = editorHeight\n\t\t\t+ editorMargin\n\t\t\t+ cellStatusHeight\n\t\t\t+ bodyMargin;\n\n\t\tconst newLayout: IDiffElementLayoutInfo = {\n\t\t\twidth: width,\n\t\t\teditorHeight: editorHeight,\n\t\t\teditorMargin: editorMargin,\n\t\t\tmetadataHeight: 0,\n\t\t\tcellStatusHeight,\n\t\t\tmetadataStatusHeight: 0,\n\t\t\toutputTotalHeight: 0,\n\t\t\toutputStatusHeight: 0,\n\t\t\tbodyMargin: bodyMargin,\n\t\t\trawOutputHeight: 0,\n\t\t\toutputMetadataHeight: 0,\n\t\t\ttotalHeight: totalHeight,\n\t\t\tlayoutState: CellLayoutState.Measured\n\t\t};\n\n\t\tlet somethingChanged = false;\n\n\t\tconst changeEvent: CellDiffViewModelLayoutChangeEvent = {};\n\n\t\tif (newLayout.width !== this._layoutInfo.width) {\n\t\t\tchangeEvent.width = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.editorHeight !== this._layoutInfo.editorHeight) {\n\t\t\tchangeEvent.editorHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.editorMargin !== this._layoutInfo.editorMargin) {\n\t\t\tchangeEvent.editorMargin = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.cellStatusHeight !== this._layoutInfo.cellStatusHeight) {\n\t\t\tchangeEvent.cellStatusHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.bodyMargin !== this._layoutInfo.bodyMargin) {\n\t\t\tchangeEvent.bodyMargin = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.totalHeight !== this._layoutInfo.totalHeight) {\n\t\t\tchangeEvent.totalHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (somethingChanged) {\n\t\t\tthis._layoutInfo = newLayout;\n\t\t\tthis._fireLayoutChangeEvent(changeEvent);\n\t\t}\n\t}\n\n\tgetHeight(lineHeight: number) {\n\t\tif (this._layoutInfo.layoutState === CellLayoutState.Uninitialized) {\n\t\t\tconst editorHeight = this.cellFoldingState === PropertyFoldingState.Collapsed ? 0 : this.computeInputEditorHeight(lineHeight);\n\t\t\treturn this._computeTotalHeight(editorHeight);\n\t\t} else {\n\t\t\treturn this._layoutInfo.totalHeight;\n\t\t}\n\t}\n\n\tprivate _computeTotalHeight(editorHeight: number) {\n\t\tconst totalHeight = editorHeight\n\t\t\t+ this._layoutInfo.editorMargin\n\t\t\t+ this._layoutInfo.metadataHeight\n\t\t\t+ this._layoutInfo.cellStatusHeight\n\t\t\t+ this._layoutInfo.metadataStatusHeight\n\t\t\t+ this._layoutInfo.outputTotalHeight\n\t\t\t+ this._layoutInfo.outputStatusHeight\n\t\t\t+ this._layoutInfo.outputMetadataHeight\n\t\t\t+ this._layoutInfo.bodyMargin;\n\n\t\treturn totalHeight;\n\t}\n\n\tpublic computeInputEditorHeight(_lineHeight: number): number {\n\t\treturn this.editorHeightCalculator.computeHeightFromLines(Math.max(this.originalMetadata.textBuffer.getLineCount(), this.modifiedMetadata.textBuffer.getLineCount()));\n\t}\n\n\tprivate _fireLayoutChangeEvent(state: CellDiffViewModelLayoutChangeEvent) {\n\t\tthis._layoutInfoEmitter.fire(state);\n\t\tthis.editorEventDispatcher.emit([{ type: NotebookDiffViewEventType.CellLayoutChanged, source: this._layoutInfo }]);\n\t}\n\n\tgetComputedCellContainerWidth(layoutInfo: NotebookLayoutInfo, diffEditor: boolean, fullWidth: boolean) {\n\t\tif (fullWidth) {\n\t\t\treturn layoutInfo.width - 2 * DIFF_CELL_MARGIN + (diffEditor ? DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH : 0) - 2;\n\t\t}\n\n\t\treturn (layoutInfo.width - 2 * DIFF_CELL_MARGIN + (diffEditor ? DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH : 0)) / 2 - 18 - 2;\n\t}\n\n\tgetSourceEditorViewState(): editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null {\n\t\treturn this._sourceEditorViewState;\n\t}\n\n\tsaveSpirceEditorViewState(viewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null) {\n\t\tthis._sourceEditorViewState = viewState;\n\t}\n}\n\n\nexport abstract class DiffElementCellViewModelBase extends DiffElementViewModelBase {\n\tpublic cellFoldingState: PropertyFoldingState;\n\tpublic metadataFoldingState: PropertyFoldingState;\n\tpublic outputFoldingState: PropertyFoldingState;\n\tprotected _stateChangeEmitter = this._register(new Emitter<{ renderOutput: boolean }>());\n\tonDidStateChange = this._stateChangeEmitter.event;\n\tprotected _layoutInfo!: IDiffElementLayoutInfo;\n\n\tpublic displayIconToHideUnmodifiedCells?: boolean;\n\tprivate _hideUnchangedCells = this._register(new Emitter<void>());\n\tpublic onHideUnchangedCells = this._hideUnchangedCells.event;\n\n\thideUnchangedCells() {\n\t\tthis._hideUnchangedCells.fire();\n\t}\n\tset rawOutputHeight(height: number) {\n\t\tthis._layout({ rawOutputHeight: Math.min(OUTPUT_EDITOR_HEIGHT_MAGIC, height) });\n\t}\n\n\tget rawOutputHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.rawOutputHeight');\n\t}\n\n\tset outputStatusHeight(height: number) {\n\t\tthis._layout({ outputStatusHeight: height });\n\t}\n\n\tget outputStatusHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.outputStatusHeight');\n\t}\n\n\tset outputMetadataHeight(height: number) {\n\t\tthis._layout({ outputMetadataHeight: height });\n\t}\n\n\tget outputMetadataHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.outputStatusHeight');\n\t}\n\n\tset editorHeight(height: number) {\n\t\tthis._layout({ editorHeight: height });\n\t}\n\n\tget editorHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.editorHeight');\n\t}\n\n\tset editorMargin(margin: number) {\n\t\tthis._layout({ editorMargin: margin });\n\t}\n\n\tget editorMargin() {\n\t\tthrow new Error('Use Cell.layoutInfo.editorMargin');\n\t}\n\n\tset metadataStatusHeight(height: number) {\n\t\tthis._layout({ metadataStatusHeight: height });\n\t}\n\n\tget metadataStatusHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.outputStatusHeight');\n\t}\n\n\tset metadataHeight(height: number) {\n\t\tthis._layout({ metadataHeight: height });\n\t}\n\n\tget metadataHeight() {\n\t\tthrow new Error('Use Cell.layoutInfo.metadataHeight');\n\t}\n\n\tprivate _renderOutput = true;\n\n\tset renderOutput(value: boolean) {\n\t\tthis._renderOutput = value;\n\t\tthis._layout({ recomputeOutput: true });\n\t\tthis._stateChangeEmitter.fire({ renderOutput: this._renderOutput });\n\t}\n\n\tget renderOutput() {\n\t\treturn this._renderOutput;\n\t}\n\n\tget layoutInfo(): IDiffElementLayoutInfo {\n\t\treturn this._layoutInfo;\n\t}\n\n\tget totalHeight() {\n\t\treturn this.layoutInfo.totalHeight;\n\t}\n\n\tprotected get ignoreOutputs() {\n\t\treturn this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs') || !!(this.mainDocumentTextModel?.transientOptions.transientOutputs);\n\t}\n\n\tprotected get ignoreMetadata() {\n\t\treturn this.configurationService.getValue<boolean>('notebook.diff.ignoreMetadata');\n\t}\n\n\tprivate _sourceEditorViewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null = null;\n\tprivate _outputEditorViewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null = null;\n\tprivate _metadataEditorViewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null = null;\n\tpublic readonly original: DiffNestedCellViewModel | undefined;\n\n\tpublic readonly modified: DiffNestedCellViewModel | undefined;\n\tconstructor(\n\t\tmainDocumentTextModel: INotebookTextModel,\n\t\toriginal: NotebookCellTextModel | undefined,\n\t\tmodified: NotebookCellTextModel | undefined,\n\t\treadonly type: 'unchanged' | 'insert' | 'delete' | 'modified',\n\t\teditorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tinitData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t},\n\t\tnotebookService: INotebookService,\n\t\tpublic readonly index: number,\n\t\tprivate readonly configurationService: IConfigurationService,\n\t\tpublic readonly diffEditorHeightCalculator: IDiffEditorHeightCalculatorService\n\t) {\n\t\tsuper(mainDocumentTextModel, editorEventDispatcher, initData);\n\t\tthis.original = original ? this._register(new DiffNestedCellViewModel(original, notebookService)) : undefined;\n\t\tthis.modified = modified ? this._register(new DiffNestedCellViewModel(modified, notebookService)) : undefined;\n\t\tconst editorHeight = this._estimateEditorHeight(initData.fontInfo);\n\t\tconst cellStatusHeight = PropertyHeaderHeight;\n\t\tthis._layoutInfo = {\n\t\t\twidth: 0,\n\t\t\teditorHeight: editorHeight,\n\t\t\teditorMargin: 0,\n\t\t\tmetadataHeight: 0,\n\t\t\tcellStatusHeight,\n\t\t\tmetadataStatusHeight: this.ignoreMetadata ? 0 : PropertyHeaderHeight,\n\t\t\trawOutputHeight: 0,\n\t\t\toutputTotalHeight: 0,\n\t\t\toutputStatusHeight: this.ignoreOutputs ? 0 : PropertyHeaderHeight,\n\t\t\toutputMetadataHeight: 0,\n\t\t\tbodyMargin: 32,\n\t\t\ttotalHeight: 82 + cellStatusHeight + editorHeight,\n\t\t\tlayoutState: CellLayoutState.Uninitialized\n\t\t};\n\n\t\tthis.cellFoldingState = modified?.getTextBufferHash() !== original?.getTextBufferHash() ? PropertyFoldingState.Expanded : PropertyFoldingState.Collapsed;\n\t\tthis.metadataFoldingState = PropertyFoldingState.Collapsed;\n\t\tthis.outputFoldingState = PropertyFoldingState.Collapsed;\n\t}\n\n\tlayoutChange() {\n\t\tthis._layout({ recomputeOutput: true });\n\t}\n\n\tprivate _estimateEditorHeight(fontInfo: FontInfo | undefined) {\n\t\tconst lineHeight = fontInfo?.lineHeight ?? 17;\n\n\t\tswitch (this.type) {\n\t\t\tcase 'unchanged':\n\t\t\tcase 'insert':\n\t\t\t\t{\n\t\t\t\t\tconst lineCount = this.modified!.textModel.textBuffer.getLineCount();\n\t\t\t\t\tconst editorHeight = lineCount * lineHeight + getEditorPadding(lineCount).top + getEditorPadding(lineCount).bottom;\n\t\t\t\t\treturn editorHeight;\n\t\t\t\t}\n\t\t\tcase 'delete':\n\t\t\tcase 'modified':\n\t\t\t\t{\n\t\t\t\t\tconst lineCount = this.original!.textModel.textBuffer.getLineCount();\n\t\t\t\t\tconst editorHeight = lineCount * lineHeight + getEditorPadding(lineCount).top + getEditorPadding(lineCount).bottom;\n\t\t\t\t\treturn editorHeight;\n\t\t\t\t}\n\t\t}\n\t}\n\n\tprotected _layout(delta: ILayoutInfoDelta) {\n\t\tconst width = delta.width !== undefined ? delta.width : this._layoutInfo.width;\n\t\tconst editorHeight = delta.editorHeight !== undefined ? delta.editorHeight : this._layoutInfo.editorHeight;\n\t\tconst editorMargin = delta.editorMargin !== undefined ? delta.editorMargin : this._layoutInfo.editorMargin;\n\t\tconst metadataHeight = delta.metadataHeight !== undefined ? delta.metadataHeight : this._layoutInfo.metadataHeight;\n\t\tconst cellStatusHeight = delta.cellStatusHeight !== undefined ? delta.cellStatusHeight : this._layoutInfo.cellStatusHeight;\n\t\tconst metadataStatusHeight = delta.metadataStatusHeight !== undefined ? delta.metadataStatusHeight : this._layoutInfo.metadataStatusHeight;\n\t\tconst rawOutputHeight = delta.rawOutputHeight !== undefined ? delta.rawOutputHeight : this._layoutInfo.rawOutputHeight;\n\t\tconst outputStatusHeight = delta.outputStatusHeight !== undefined ? delta.outputStatusHeight : this._layoutInfo.outputStatusHeight;\n\t\tconst bodyMargin = delta.bodyMargin !== undefined ? delta.bodyMargin : this._layoutInfo.bodyMargin;\n\t\tconst outputMetadataHeight = delta.outputMetadataHeight !== undefined ? delta.outputMetadataHeight : this._layoutInfo.outputMetadataHeight;\n\t\tconst outputHeight = this.ignoreOutputs ? 0 : (delta.recomputeOutput || delta.rawOutputHeight !== undefined || delta.outputMetadataHeight !== undefined) ? this._getOutputTotalHeight(rawOutputHeight, outputMetadataHeight) : this._layoutInfo.outputTotalHeight;\n\n\t\tconst totalHeight = editorHeight\n\t\t\t+ editorMargin\n\t\t\t+ cellStatusHeight\n\t\t\t+ metadataHeight\n\t\t\t+ metadataStatusHeight\n\t\t\t+ outputHeight\n\t\t\t+ outputStatusHeight\n\t\t\t+ bodyMargin;\n\n\t\tconst newLayout: IDiffElementLayoutInfo = {\n\t\t\twidth: width,\n\t\t\teditorHeight: editorHeight,\n\t\t\teditorMargin: editorMargin,\n\t\t\tmetadataHeight: metadataHeight,\n\t\t\tcellStatusHeight,\n\t\t\tmetadataStatusHeight: metadataStatusHeight,\n\t\t\toutputTotalHeight: outputHeight,\n\t\t\toutputStatusHeight: outputStatusHeight,\n\t\t\tbodyMargin: bodyMargin,\n\t\t\trawOutputHeight: rawOutputHeight,\n\t\t\toutputMetadataHeight: outputMetadataHeight,\n\t\t\ttotalHeight: totalHeight,\n\t\t\tlayoutState: CellLayoutState.Measured\n\t\t};\n\n\t\tlet somethingChanged = false;\n\n\t\tconst changeEvent: CellDiffViewModelLayoutChangeEvent = {};\n\n\t\tif (newLayout.width !== this._layoutInfo.width) {\n\t\t\tchangeEvent.width = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.editorHeight !== this._layoutInfo.editorHeight) {\n\t\t\tchangeEvent.editorHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.editorMargin !== this._layoutInfo.editorMargin) {\n\t\t\tchangeEvent.editorMargin = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.metadataHeight !== this._layoutInfo.metadataHeight) {\n\t\t\tchangeEvent.metadataHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.cellStatusHeight !== this._layoutInfo.cellStatusHeight) {\n\t\t\tchangeEvent.cellStatusHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.metadataStatusHeight !== this._layoutInfo.metadataStatusHeight) {\n\t\t\tchangeEvent.metadataStatusHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.outputTotalHeight !== this._layoutInfo.outputTotalHeight) {\n\t\t\tchangeEvent.outputTotalHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.outputStatusHeight !== this._layoutInfo.outputStatusHeight) {\n\t\t\tchangeEvent.outputStatusHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.bodyMargin !== this._layoutInfo.bodyMargin) {\n\t\t\tchangeEvent.bodyMargin = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.outputMetadataHeight !== this._layoutInfo.outputMetadataHeight) {\n\t\t\tchangeEvent.outputMetadataHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (newLayout.totalHeight !== this._layoutInfo.totalHeight) {\n\t\t\tchangeEvent.totalHeight = true;\n\t\t\tsomethingChanged = true;\n\t\t}\n\n\t\tif (somethingChanged) {\n\t\t\tthis._layoutInfo = newLayout;\n\t\t\tthis._fireLayoutChangeEvent(changeEvent);\n\t\t}\n\t}\n\n\tgetHeight(lineHeight: number) {\n\t\tif (this._layoutInfo.layoutState === CellLayoutState.Uninitialized) {\n\t\t\tconst editorHeight = this.cellFoldingState === PropertyFoldingState.Collapsed ? 0 : this.computeInputEditorHeight(lineHeight);\n\t\t\treturn this._computeTotalHeight(editorHeight);\n\t\t} else {\n\t\t\treturn this._layoutInfo.totalHeight;\n\t\t}\n\t}\n\n\tprivate _computeTotalHeight(editorHeight: number) {\n\t\tconst totalHeight = editorHeight\n\t\t\t+ this._layoutInfo.editorMargin\n\t\t\t+ this._layoutInfo.metadataHeight\n\t\t\t+ this._layoutInfo.cellStatusHeight\n\t\t\t+ this._layoutInfo.metadataStatusHeight\n\t\t\t+ this._layoutInfo.outputTotalHeight\n\t\t\t+ this._layoutInfo.outputStatusHeight\n\t\t\t+ this._layoutInfo.outputMetadataHeight\n\t\t\t+ this._layoutInfo.bodyMargin;\n\n\t\treturn totalHeight;\n\t}\n\n\tpublic computeInputEditorHeight(lineHeight: number): number {\n\t\tconst lineCount = Math.max(this.original?.textModel.textBuffer.getLineCount() ?? 1, this.modified?.textModel.textBuffer.getLineCount() ?? 1);\n\t\treturn this.diffEditorHeightCalculator.computeHeightFromLines(lineCount);\n\t}\n\n\tprivate _getOutputTotalHeight(rawOutputHeight: number, metadataHeight: number) {\n\t\tif (this.outputFoldingState === PropertyFoldingState.Collapsed) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (this.renderOutput) {\n\t\t\tif (this.isOutputEmpty()) {\n\t\t\t\t// single line;\n\t\t\t\treturn 24;\n\t\t\t}\n\t\t\treturn this.getRichOutputTotalHeight() + metadataHeight;\n\t\t} else {\n\t\t\treturn rawOutputHeight;\n\t\t}\n\t}\n\n\tprivate _fireLayoutChangeEvent(state: CellDiffViewModelLayoutChangeEvent) {\n\t\tthis._layoutInfoEmitter.fire(state);\n\t\tthis.editorEventDispatcher.emit([{ type: NotebookDiffViewEventType.CellLayoutChanged, source: this._layoutInfo }]);\n\t}\n\n\tabstract checkIfInputModified(): false | { reason: string | undefined };\n\tabstract checkIfOutputsModified(): false | { reason: string | undefined };\n\tabstract checkMetadataIfModified(): false | { reason: string | undefined };\n\tabstract isOutputEmpty(): boolean;\n\tabstract getRichOutputTotalHeight(): number;\n\tabstract getCellByUri(cellUri: URI): IGenericCellViewModel;\n\tabstract getOutputOffsetInCell(diffSide: DiffSide, index: number): number;\n\tabstract getOutputOffsetInContainer(diffSide: DiffSide, index: number): number;\n\tabstract updateOutputHeight(diffSide: DiffSide, index: number, height: number): void;\n\tabstract getNestedCellViewModel(diffSide: DiffSide): DiffNestedCellViewModel;\n\n\tgetComputedCellContainerWidth(layoutInfo: NotebookLayoutInfo, diffEditor: boolean, fullWidth: boolean) {\n\t\tif (fullWidth) {\n\t\t\treturn layoutInfo.width - 2 * DIFF_CELL_MARGIN + (diffEditor ? DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH : 0) - 2;\n\t\t}\n\n\t\treturn (layoutInfo.width - 2 * DIFF_CELL_MARGIN + (diffEditor ? DiffEditorWidget.ENTIRE_DIFF_OVERVIEW_WIDTH : 0)) / 2 - 18 - 2;\n\t}\n\n\tgetOutputEditorViewState(): editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null {\n\t\treturn this._outputEditorViewState;\n\t}\n\n\tsaveOutputEditorViewState(viewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null) {\n\t\tthis._outputEditorViewState = viewState;\n\t}\n\n\tgetMetadataEditorViewState(): editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null {\n\t\treturn this._metadataEditorViewState;\n\t}\n\n\tsaveMetadataEditorViewState(viewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null) {\n\t\tthis._metadataEditorViewState = viewState;\n\t}\n\n\tgetSourceEditorViewState(): editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null {\n\t\treturn this._sourceEditorViewState;\n\t}\n\n\tsaveSpirceEditorViewState(viewState: editorCommon.ICodeEditorViewState | editorCommon.IDiffEditorViewState | null) {\n\t\tthis._sourceEditorViewState = viewState;\n\t}\n}\n\nexport class SideBySideDiffElementViewModel extends DiffElementCellViewModelBase {\n\tget originalDocument() {\n\t\treturn this.otherDocumentTextModel;\n\t}\n\n\tget modifiedDocument() {\n\t\treturn this.mainDocumentTextModel;\n\t}\n\n\tdeclare readonly original: DiffNestedCellViewModel;\n\tdeclare readonly modified: DiffNestedCellViewModel;\n\toverride readonly type: 'unchanged' | 'modified';\n\n\t/**\n\t * The height of the editor when the unchanged lines are collapsed.\n\t */\n\tprivate editorHeightWithUnchangedLinesCollapsed?: number;\n\tconstructor(\n\t\tmainDocumentTextModel: NotebookTextModel,\n\t\treadonly otherDocumentTextModel: NotebookTextModel,\n\t\toriginal: NotebookCellTextModel,\n\t\tmodified: NotebookCellTextModel,\n\t\ttype: 'unchanged' | 'modified',\n\t\teditorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tinitData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t},\n\t\tnotebookService: INotebookService,\n\t\tconfigurationService: IConfigurationService,\n\t\tindex: number,\n\t\tdiffEditorHeightCalculator: IDiffEditorHeightCalculatorService\n\t) {\n\t\tsuper(\n\t\t\tmainDocumentTextModel,\n\t\t\toriginal,\n\t\t\tmodified,\n\t\t\ttype,\n\t\t\teditorEventDispatcher,\n\t\t\tinitData,\n\t\t\tnotebookService,\n\t\t\tindex,\n\t\t\tconfigurationService,\n\t\t\tdiffEditorHeightCalculator);\n\n\t\tthis.type = type;\n\n\t\tthis.cellFoldingState = this.modified.textModel.getValue() !== this.original.textModel.getValue() ? PropertyFoldingState.Expanded : PropertyFoldingState.Collapsed;\n\t\tthis.metadataFoldingState = PropertyFoldingState.Collapsed;\n\t\tthis.outputFoldingState = PropertyFoldingState.Collapsed;\n\n\t\tif (this.checkMetadataIfModified()) {\n\t\t\tthis.metadataFoldingState = PropertyFoldingState.Expanded;\n\t\t}\n\n\t\tif (this.checkIfOutputsModified()) {\n\t\t\tthis.outputFoldingState = PropertyFoldingState.Expanded;\n\t\t}\n\n\t\tthis._register(this.original.onDidChangeOutputLayout(() => {\n\t\t\tthis._layout({ recomputeOutput: true });\n\t\t}));\n\n\t\tthis._register(this.modified.onDidChangeOutputLayout(() => {\n\t\t\tthis._layout({ recomputeOutput: true });\n\t\t}));\n\n\t\tthis._register(this.modified.textModel.onDidChangeContent(() => {\n\t\t\tif (mainDocumentTextModel.transientOptions.cellContentMetadata) {\n\t\t\t\tconst cellMetadataKeys = [...Object.keys(mainDocumentTextModel.transientOptions.cellContentMetadata)];\n\t\t\t\tconst modifiedMedataRaw = Object.assign({}, this.modified.metadata);\n\t\t\t\tconst originalCellMetadata = this.original.metadata;\n\t\t\t\tfor (const key of cellMetadataKeys) {\n\t\t\t\t\tif (Object.hasOwn(originalCellMetadata, key)) {\n\t\t\t\t\t\tmodifiedMedataRaw[key] = originalCellMetadata[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.modified.textModel.metadata = modifiedMedataRaw;\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride checkIfInputModified(): false | { reason: string | undefined } {\n\t\tif (this.original.textModel.getTextBufferHash() === this.modified.textModel.getTextBufferHash()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn {\n\t\t\treason: 'Cell content has changed',\n\t\t};\n\t}\n\tcheckIfOutputsModified() {\n\t\tif (this.mainDocumentTextModel.transientOptions.transientOutputs || this.ignoreOutputs) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst ret = outputsEqual(this.original?.outputs ?? [], this.modified?.outputs ?? []);\n\n\t\tif (ret === OutputComparison.Unchanged) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\treason: ret === OutputComparison.Metadata ? 'Output metadata has changed' : undefined,\n\t\t\tkind: ret\n\t\t};\n\t}\n\n\tcheckMetadataIfModified() {\n\t\tif (this.ignoreMetadata) {\n\t\t\treturn false;\n\t\t}\n\t\tconst modified = hash(getFormattedMetadataJSON(this.mainDocumentTextModel.transientOptions.transientCellMetadata, this.original?.metadata || {}, this.original?.language)) !== hash(getFormattedMetadataJSON(this.mainDocumentTextModel.transientOptions.transientCellMetadata, this.modified?.metadata ?? {}, this.modified?.language));\n\t\tif (modified) {\n\t\t\treturn { reason: undefined };\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tupdateOutputHeight(diffSide: DiffSide, index: number, height: number) {\n\t\tif (diffSide === DiffSide.Original) {\n\t\t\tthis.original.updateOutputHeight(index, height);\n\t\t} else {\n\t\t\tthis.modified.updateOutputHeight(index, height);\n\t\t}\n\t}\n\n\tgetOutputOffsetInContainer(diffSide: DiffSide, index: number) {\n\t\tif (diffSide === DiffSide.Original) {\n\t\t\treturn this.original.getOutputOffset(index);\n\t\t} else {\n\t\t\treturn this.modified.getOutputOffset(index);\n\t\t}\n\t}\n\n\tgetOutputOffsetInCell(diffSide: DiffSide, index: number) {\n\t\tconst offsetInOutputsContainer = this.getOutputOffsetInContainer(diffSide, index);\n\n\t\treturn this._layoutInfo.editorHeight\n\t\t\t+ this._layoutInfo.editorMargin\n\t\t\t+ this._layoutInfo.metadataHeight\n\t\t\t+ this._layoutInfo.cellStatusHeight\n\t\t\t+ this._layoutInfo.metadataStatusHeight\n\t\t\t+ this._layoutInfo.outputStatusHeight\n\t\t\t+ this._layoutInfo.bodyMargin / 2\n\t\t\t+ offsetInOutputsContainer;\n\t}\n\n\tisOutputEmpty() {\n\t\tif (this.mainDocumentTextModel.transientOptions.transientOutputs) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.checkIfOutputsModified()) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// outputs are not changed\n\n\t\treturn (this.original?.outputs || []).length === 0;\n\t}\n\n\tgetRichOutputTotalHeight() {\n\t\treturn Math.max(this.original.getOutputTotalHeight(), this.modified.getOutputTotalHeight());\n\t}\n\n\tgetNestedCellViewModel(diffSide: DiffSide): DiffNestedCellViewModel {\n\t\treturn diffSide === DiffSide.Original ? this.original : this.modified;\n\t}\n\n\tgetCellByUri(cellUri: URI): IGenericCellViewModel {\n\t\tif (cellUri.toString() === this.original.uri.toString()) {\n\t\t\treturn this.original;\n\t\t} else {\n\t\t\treturn this.modified;\n\t\t}\n\t}\n\n\tpublic override computeInputEditorHeight(lineHeight: number): number {\n\t\tif (this.type === 'modified' &&\n\t\t\ttypeof this.editorHeightWithUnchangedLinesCollapsed === 'number' &&\n\t\t\tthis.checkIfInputModified()) {\n\t\t\treturn this.editorHeightWithUnchangedLinesCollapsed;\n\t\t}\n\n\t\treturn super.computeInputEditorHeight(lineHeight);\n\t}\n\n\tprivate async computeModifiedInputEditorHeight() {\n\t\tif (this.checkIfInputModified()) {\n\t\t\tthis.editorHeightWithUnchangedLinesCollapsed = this._layoutInfo.editorHeight = await this.diffEditorHeightCalculator.diffAndComputeHeight(this.original.uri, this.modified.uri);\n\t\t}\n\t}\n\n\tprivate async computeModifiedMetadataEditorHeight() {\n\t\tif (this.checkMetadataIfModified()) {\n\t\t\tconst originalMetadataUri = CellUri.generateCellPropertyUri(this.originalDocument.uri, this.original.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\tconst modifiedMetadataUri = CellUri.generateCellPropertyUri(this.modifiedDocument.uri, this.modified.handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\tthis._layoutInfo.metadataHeight = await this.diffEditorHeightCalculator.diffAndComputeHeight(originalMetadataUri, modifiedMetadataUri);\n\t\t}\n\t}\n\n\tpublic async computeEditorHeights() {\n\t\tif (this.type === 'unchanged') {\n\t\t\treturn;\n\t\t}\n\n\t\tawait Promise.all([this.computeModifiedInputEditorHeight(), this.computeModifiedMetadataEditorHeight()]);\n\t}\n\n}\n\nexport class SingleSideDiffElementViewModel extends DiffElementCellViewModelBase {\n\tget cellViewModel() {\n\t\treturn this.type === 'insert' ? this.modified! : this.original!;\n\t}\n\n\tget originalDocument() {\n\t\tif (this.type === 'insert') {\n\t\t\treturn this.otherDocumentTextModel;\n\t\t} else {\n\t\t\treturn this.mainDocumentTextModel;\n\t\t}\n\t}\n\n\tget modifiedDocument() {\n\t\tif (this.type === 'insert') {\n\t\t\treturn this.mainDocumentTextModel;\n\t\t} else {\n\t\t\treturn this.otherDocumentTextModel;\n\t\t}\n\t}\n\n\toverride readonly type: 'insert' | 'delete';\n\n\tconstructor(\n\t\tmainDocumentTextModel: NotebookTextModel,\n\t\treadonly otherDocumentTextModel: NotebookTextModel,\n\t\toriginal: NotebookCellTextModel | undefined,\n\t\tmodified: NotebookCellTextModel | undefined,\n\t\ttype: 'insert' | 'delete',\n\t\teditorEventDispatcher: NotebookDiffEditorEventDispatcher,\n\t\tinitData: {\n\t\t\tmetadataStatusHeight: number;\n\t\t\toutputStatusHeight: number;\n\t\t\tfontInfo: FontInfo | undefined;\n\t\t},\n\t\tnotebookService: INotebookService,\n\t\tconfigurationService: IConfigurationService,\n\t\tdiffEditorHeightCalculator: IDiffEditorHeightCalculatorService,\n\t\tindex: number\n\t) {\n\t\tsuper(mainDocumentTextModel, original, modified, type, editorEventDispatcher, initData, notebookService, index, configurationService, diffEditorHeightCalculator);\n\t\tthis.type = type;\n\n\t\tthis._register(this.cellViewModel.onDidChangeOutputLayout(() => {\n\t\t\tthis._layout({ recomputeOutput: true });\n\t\t}));\n\t}\n\n\toverride checkIfInputModified(): false | { reason: string | undefined } {\n\t\treturn {\n\t\t\treason: 'Cell content has changed',\n\t\t};\n\t}\n\n\tgetNestedCellViewModel(diffSide: DiffSide): DiffNestedCellViewModel {\n\t\treturn this.type === 'insert' ? this.modified! : this.original!;\n\t}\n\n\n\tcheckIfOutputsModified(): false | { reason: string | undefined } {\n\t\treturn false;\n\t}\n\n\tcheckMetadataIfModified(): false | { reason: string | undefined } {\n\t\treturn false;\n\t}\n\n\tupdateOutputHeight(diffSide: DiffSide, index: number, height: number) {\n\t\tthis.cellViewModel?.updateOutputHeight(index, height);\n\t}\n\n\tgetOutputOffsetInContainer(diffSide: DiffSide, index: number) {\n\t\treturn this.cellViewModel.getOutputOffset(index);\n\t}\n\n\tgetOutputOffsetInCell(diffSide: DiffSide, index: number) {\n\t\tconst offsetInOutputsContainer = this.cellViewModel.getOutputOffset(index);\n\n\t\treturn this._layoutInfo.editorHeight\n\t\t\t+ this._layoutInfo.editorMargin\n\t\t\t+ this._layoutInfo.metadataHeight\n\t\t\t+ this._layoutInfo.cellStatusHeight\n\t\t\t+ this._layoutInfo.metadataStatusHeight\n\t\t\t+ this._layoutInfo.outputStatusHeight\n\t\t\t+ this._layoutInfo.bodyMargin / 2\n\t\t\t+ offsetInOutputsContainer;\n\t}\n\n\tisOutputEmpty() {\n\t\tif (this.mainDocumentTextModel.transientOptions.transientOutputs) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// outputs are not changed\n\n\t\treturn (this.original?.outputs || this.modified?.outputs || []).length === 0;\n\t}\n\n\tgetRichOutputTotalHeight() {\n\t\treturn this.cellViewModel?.getOutputTotalHeight() ?? 0;\n\t}\n\n\tgetCellByUri(cellUri: URI): IGenericCellViewModel {\n\t\treturn this.cellViewModel;\n\t}\n}\n\nexport const enum OutputComparison {\n\tUnchanged = 0,\n\tMetadata = 1,\n\tOther = 2\n}\n\nexport function outputEqual(a: ICellOutput, b: ICellOutput): OutputComparison {\n\tif (hash(a.metadata) === hash(b.metadata)) {\n\t\treturn OutputComparison.Other;\n\t}\n\n\t// metadata not equal\n\tfor (let j = 0; j < a.outputs.length; j++) {\n\t\tconst aOutputItem = a.outputs[j];\n\t\tconst bOutputItem = b.outputs[j];\n\n\t\tif (aOutputItem.mime !== bOutputItem.mime) {\n\t\t\treturn OutputComparison.Other;\n\t\t}\n\n\t\tif (aOutputItem.data.buffer.length !== bOutputItem.data.buffer.length) {\n\t\t\treturn OutputComparison.Other;\n\t\t}\n\n\t\tfor (let k = 0; k < aOutputItem.data.buffer.length; k++) {\n\t\t\tif (aOutputItem.data.buffer[k] !== bOutputItem.data.buffer[k]) {\n\t\t\t\treturn OutputComparison.Other;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn OutputComparison.Metadata;\n}\n\nfunction outputsEqual(original: ICellOutput[], modified: ICellOutput[]) {\n\tif (original.length !== modified.length) {\n\t\treturn OutputComparison.Other;\n\t}\n\n\tconst len = original.length;\n\tfor (let i = 0; i < len; i++) {\n\t\tconst a = original[i];\n\t\tconst b = modified[i];\n\n\t\tif (hash(a.metadata) !== hash(b.metadata)) {\n\t\t\treturn OutputComparison.Metadata;\n\t\t}\n\n\t\tif (a.outputs.length !== b.outputs.length) {\n\t\t\treturn OutputComparison.Other;\n\t\t}\n\n\t\tfor (let j = 0; j < a.outputs.length; j++) {\n\t\t\tconst aOutputItem = a.outputs[j];\n\t\t\tconst bOutputItem = b.outputs[j];\n\n\t\t\tif (aOutputItem.mime !== bOutputItem.mime) {\n\t\t\t\treturn OutputComparison.Other;\n\t\t\t}\n\n\t\t\tif (aOutputItem.data.buffer.length !== bOutputItem.data.buffer.length) {\n\t\t\t\treturn OutputComparison.Other;\n\t\t\t}\n\n\t\t\tfor (let k = 0; k < aOutputItem.data.buffer.length; k++) {\n\t\t\t\tif (aOutputItem.data.buffer[k] !== bOutputItem.data.buffer[k]) {\n\t\t\t\t\treturn OutputComparison.Other;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn OutputComparison.Unchanged;\n}\n\nexport function getStreamOutputData(outputs: IOutputItemDto[]) {\n\tif (!outputs.length) {\n\t\treturn null;\n\t}\n\n\tconst first = outputs[0];\n\tconst mime = first.mime;\n\tconst sameStream = !outputs.find(op => op.mime !== mime);\n\n\tif (sameStream) {\n\t\treturn outputs.map(opit => opit.data.toString()).join('');\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport function getFormattedOutputJSON(outputs: IOutputDto[]) {\n\tif (outputs.length === 1) {\n\t\tconst streamOutputData = getStreamOutputData(outputs[0].outputs);\n\t\tif (streamOutputData) {\n\t\t\treturn streamOutputData;\n\t\t}\n\t}\n\n\treturn JSON.stringify(outputs.map(output => {\n\t\treturn ({\n\t\t\tmetadata: output.metadata,\n\t\t\toutputItems: output.outputs.map(opit => ({\n\t\t\t\tmimeType: opit.mime,\n\t\t\t\tdata: opit.data.toString()\n\t\t\t}))\n\t\t});\n\t}), undefined, '\\t');\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}