{"version":3,"names":["cov_kd2u7cki2","actualCoverage","CONTEXT_MENU_CHANNEL","CONTEXT_MENU_CLOSE_CHANNEL","ipcRenderer","contextMenuIdPool","s","popup","items","options","onHide","f","processedItems","contextMenuId","onClickChannel","onClickChannelHandler","_event","args","itemId","context","item","click","once","closedContextMenuId","b","removeListener","send","map","createItem","serializableItem","id","length","label","type","accelerator","checked","enabled","visible","push","Array","isArray","submenu","submenuItem"],"sources":["/home/user/Desktop/MintMind/src/vs/base/parts/contextmenu/electron-browser/contextmenu.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CONTEXT_MENU_CHANNEL, CONTEXT_MENU_CLOSE_CHANNEL, IContextMenuEvent, IContextMenuItem, IPopupOptions, ISerializableContextMenuItem } from '../common/contextmenu.js';\nimport { ipcRenderer } from '../../sandbox/electron-browser/globals.js';\n\nlet contextMenuIdPool = 0;\n\nexport function popup(items: IContextMenuItem[], options?: IPopupOptions, onHide?: () => void): void {\n\tconst processedItems: IContextMenuItem[] = [];\n\n\tconst contextMenuId = contextMenuIdPool++;\n\tconst onClickChannel = `vscode:onContextMenu${contextMenuId}`;\n\tconst onClickChannelHandler = (_event: unknown, ...args: unknown[]) => {\n\t\tconst itemId = args[0] as number;\n\t\tconst context = args[1] as IContextMenuEvent;\n\t\tconst item = processedItems[itemId];\n\t\titem.click?.(context);\n\t};\n\n\tipcRenderer.once(onClickChannel, onClickChannelHandler);\n\tipcRenderer.once(CONTEXT_MENU_CLOSE_CHANNEL, (_event: unknown, ...args: unknown[]) => {\n\t\tconst closedContextMenuId = args[0] as number;\n\t\tif (closedContextMenuId !== contextMenuId) {\n\t\t\treturn;\n\t\t}\n\n\t\tipcRenderer.removeListener(onClickChannel, onClickChannelHandler);\n\n\t\tonHide?.();\n\t});\n\n\tipcRenderer.send(CONTEXT_MENU_CHANNEL, contextMenuId, items.map(item => createItem(item, processedItems)), onClickChannel, options);\n}\n\nfunction createItem(item: IContextMenuItem, processedItems: IContextMenuItem[]): ISerializableContextMenuItem {\n\tconst serializableItem: ISerializableContextMenuItem = {\n\t\tid: processedItems.length,\n\t\tlabel: item.label,\n\t\ttype: item.type,\n\t\taccelerator: item.accelerator,\n\t\tchecked: item.checked,\n\t\tenabled: typeof item.enabled === 'boolean' ? item.enabled : true,\n\t\tvisible: typeof item.visible === 'boolean' ? item.visible : true\n\t};\n\n\tprocessedItems.push(item);\n\n\t// Submenu\n\tif (Array.isArray(item.submenu)) {\n\t\tserializableItem.submenu = item.submenu.map(submenuItem => createItem(submenuItem, processedItems));\n\t}\n\n\treturn serializableItem;\n}\n"],"mappings":"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","ignoreList":[]}