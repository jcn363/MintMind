{"version":3,"names":["cov_79ey25a9k","actualCoverage","path","URI","uriToFsPath","sanitizeProcessEnvironment","isWindows","isMacintosh","language","escapeNonWindowsPath","sanitizeCwd","isNumber","isString","mergeEnvironments","parent","other","f","s","b","configKey","actualKey","envKey","toLowerCase","value","undefined","_mergeEnvironmentValue","Object","keys","forEach","key","env","addTerminalEnvironmentKeys","version","locale","detectLocale","shouldSetLangEnvVariable","getLangEnvVariable","mergeNonNullKeys","resolveConfigurationVariables","variableResolver","Promise","all","entries","map","e","lang","search","parts","split","n","length","languageVariants","af","am","be","bg","ca","cs","da","de","el","en","es","et","eu","fi","fr","he","hr","hu","hy","is","it","ja","kk","ko","lt","nl","no","pl","pt","ro","ru","sk","sl","sr","sv","tr","uk","zh","prototype","hasOwnProperty","call","push","toUpperCase","join","getCwd","shell","userHome","root","customCwd","logService","cwd","unresolved","fsPath","resolved","_resolveCwd","ignoreConfigurationCwd","isAbsolute","error","createVariableResolver","lastActiveWorkspace","configurationResolverService","str","resolveWithEnvironment","createTerminalEnvironment","shellLaunchConfig","envFromConfig","baseEnv","strictEnv","allowedEnvFromConfig","preparePathForShell","resource","executable","title","shellType","backend","os","isWindowsFrontend","originalPath","replace","hasSpace","includes","hasParens","pathBasename","basename","isPowerShell","getWslPath","lowerExecutable","getWorkspaceForTerminal","workspaceContextService","historyService","cwdUri","parse","workspaceFolder","getWorkspaceFolder","activeWorkspaceRootUri","getLastActiveWorkspaceRoot","getUriLabelForShell","uri","replaceAll","getShellIntegrationTimeout","configurationService","siInjectionEnabled","isRemote","processReadyTimestamp","timeoutValue","getValue","timeoutMs","Math","max","elapsed","Date","now"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminal/common/terminalEnvironment.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * This module contains utility functions related to the environment, cwd and paths.\n */\n\nimport * as path from '../../../../base/common/path.js';\nimport { URI, uriToFsPath } from '../../../../base/common/uri.js';\nimport { IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { IConfigurationResolverService } from '../../../services/configurationResolver/common/configurationResolver.js';\nimport { sanitizeProcessEnvironment } from '../../../../base/common/processes.js';\nimport { IShellLaunchConfig, ITerminalBackend, ITerminalEnvironment, TerminalSettingId, TerminalShellType, WindowsShellType } from '../../../../platform/terminal/common/terminal.js';\nimport { IProcessEnvironment, isWindows, isMacintosh, language, OperatingSystem } from '../../../../base/common/platform.js';\nimport { escapeNonWindowsPath, sanitizeCwd } from '../../../../platform/terminal/common/terminalEnvironment.js';\nimport { isNumber, isString } from '../../../../base/common/types.js';\nimport { IHistoryService } from '../../../services/history/common/history.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport type { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\n\nexport function mergeEnvironments(parent: IProcessEnvironment, other: ITerminalEnvironment | undefined): void {\n\tif (!other) {\n\t\treturn;\n\t}\n\n\t// On Windows apply the new values ignoring case, while still retaining\n\t// the case of the original key.\n\tif (isWindows) {\n\t\tfor (const configKey in other) {\n\t\t\tlet actualKey = configKey;\n\t\t\tfor (const envKey in parent) {\n\t\t\t\tif (configKey.toLowerCase() === envKey.toLowerCase()) {\n\t\t\t\t\tactualKey = envKey;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst value = other[configKey];\n\t\t\tif (value !== undefined) {\n\t\t\t\t_mergeEnvironmentValue(parent, actualKey, value);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tObject.keys(other).forEach((key) => {\n\t\t\tconst value = other[key];\n\t\t\tif (value !== undefined) {\n\t\t\t\t_mergeEnvironmentValue(parent, key, value);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction _mergeEnvironmentValue(env: ITerminalEnvironment, key: string, value: string | null): void {\n\tif (typeof value === 'string') {\n\t\tenv[key] = value;\n\t} else {\n\t\tdelete env[key];\n\t}\n}\n\nexport function addTerminalEnvironmentKeys(env: IProcessEnvironment, version: string | undefined, locale: string | undefined, detectLocale: 'auto' | 'off' | 'on'): void {\n\tenv['TERM_PROGRAM'] = 'vscode';\n\tif (version) {\n\t\tenv['TERM_PROGRAM_VERSION'] = version;\n\t}\n\tif (shouldSetLangEnvVariable(env, detectLocale)) {\n\t\tenv['LANG'] = getLangEnvVariable(locale);\n\t}\n\tenv['COLORTERM'] = 'truecolor';\n}\n\nfunction mergeNonNullKeys(env: IProcessEnvironment, other: ITerminalEnvironment | undefined) {\n\tif (!other) {\n\t\treturn;\n\t}\n\tfor (const key of Object.keys(other)) {\n\t\tconst value = other[key];\n\t\tif (value !== undefined && value !== null) {\n\t\t\tenv[key] = value;\n\t\t}\n\t}\n}\n\nasync function resolveConfigurationVariables(variableResolver: VariableResolver, env: ITerminalEnvironment): Promise<ITerminalEnvironment> {\n\tawait Promise.all(Object.entries(env).map(async ([key, value]) => {\n\t\tif (typeof value === 'string') {\n\t\t\ttry {\n\t\t\t\tenv[key] = await variableResolver(value);\n\t\t\t} catch (e) {\n\t\t\t\tenv[key] = value;\n\t\t\t}\n\t\t}\n\t}));\n\n\treturn env;\n}\n\nexport function shouldSetLangEnvVariable(env: IProcessEnvironment, detectLocale: 'auto' | 'off' | 'on'): boolean {\n\tif (detectLocale === 'on') {\n\t\treturn true;\n\t}\n\tif (detectLocale === 'auto') {\n\t\tconst lang = env['LANG'];\n\t\treturn !lang || (lang.search(/\\.UTF\\-8$/) === -1 && lang.search(/\\.utf8$/) === -1 && lang.search(/\\.euc.+/) === -1);\n\t}\n\treturn false; // 'off'\n}\n\nexport function getLangEnvVariable(locale?: string): string {\n\tconst parts = locale ? locale.split('-') : [];\n\tconst n = parts.length;\n\tif (n === 0) {\n\t\t// Fallback to en_US if the locale is unknown\n\t\treturn 'en_US.UTF-8';\n\t}\n\tif (n === 1) {\n\t\t// The local may only contain the language, not the variant, if this is the case guess the\n\t\t// variant such that it can be used as a valid $LANG variable. The language variant chosen\n\t\t// is the original and/or most prominent with help from\n\t\t// https://stackoverflow.com/a/2502675/1156119\n\t\t// The list of locales was generated by running `locale -a` on macOS\n\t\tconst languageVariants: { [key: string]: string } = {\n\t\t\taf: 'ZA',\n\t\t\tam: 'ET',\n\t\t\tbe: 'BY',\n\t\t\tbg: 'BG',\n\t\t\tca: 'ES',\n\t\t\tcs: 'CZ',\n\t\t\tda: 'DK',\n\t\t\t// de: 'AT',\n\t\t\t// de: 'CH',\n\t\t\tde: 'DE',\n\t\t\tel: 'GR',\n\t\t\t// en: 'AU',\n\t\t\t// en: 'CA',\n\t\t\t// en: 'GB',\n\t\t\t// en: 'IE',\n\t\t\t// en: 'NZ',\n\t\t\ten: 'US',\n\t\t\tes: 'ES',\n\t\t\tet: 'EE',\n\t\t\teu: 'ES',\n\t\t\tfi: 'FI',\n\t\t\t// fr: 'BE',\n\t\t\t// fr: 'CA',\n\t\t\t// fr: 'CH',\n\t\t\tfr: 'FR',\n\t\t\the: 'IL',\n\t\t\thr: 'HR',\n\t\t\thu: 'HU',\n\t\t\thy: 'AM',\n\t\t\tis: 'IS',\n\t\t\t// it: 'CH',\n\t\t\tit: 'IT',\n\t\t\tja: 'JP',\n\t\t\tkk: 'KZ',\n\t\t\tko: 'KR',\n\t\t\tlt: 'LT',\n\t\t\t// nl: 'BE',\n\t\t\tnl: 'NL',\n\t\t\tno: 'NO',\n\t\t\tpl: 'PL',\n\t\t\tpt: 'BR',\n\t\t\t// pt: 'PT',\n\t\t\tro: 'RO',\n\t\t\tru: 'RU',\n\t\t\tsk: 'SK',\n\t\t\tsl: 'SI',\n\t\t\tsr: 'YU',\n\t\t\tsv: 'SE',\n\t\t\ttr: 'TR',\n\t\t\tuk: 'UA',\n\t\t\tzh: 'CN',\n\t\t};\n\t\tif (Object.prototype.hasOwnProperty.call(languageVariants, parts[0])) {\n\t\t\tparts.push(languageVariants[parts[0]]);\n\t\t}\n\t} else {\n\t\t// Ensure the variant is uppercase to be a valid $LANG\n\t\tparts[1] = parts[1].toUpperCase();\n\t}\n\treturn parts.join('_') + '.UTF-8';\n}\n\nexport async function getCwd(\n\tshell: IShellLaunchConfig,\n\tuserHome: string | undefined,\n\tvariableResolver: VariableResolver | undefined,\n\troot: URI | undefined,\n\tcustomCwd: string | undefined,\n\tlogService?: ILogService\n): Promise<string> {\n\tif (shell.cwd) {\n\t\tconst unresolved = (typeof shell.cwd === 'object') ? shell.cwd.fsPath : shell.cwd;\n\t\tconst resolved = await _resolveCwd(unresolved, variableResolver);\n\t\treturn sanitizeCwd(resolved || unresolved);\n\t}\n\n\tlet cwd: string | undefined;\n\n\tif (!shell.ignoreConfigurationCwd && customCwd) {\n\t\tif (variableResolver) {\n\t\t\tcustomCwd = await _resolveCwd(customCwd, variableResolver, logService);\n\t\t}\n\t\tif (customCwd) {\n\t\t\tif (path.isAbsolute(customCwd)) {\n\t\t\t\tcwd = customCwd;\n\t\t\t} else if (root) {\n\t\t\t\tcwd = path.join(root.fsPath, customCwd);\n\t\t\t}\n\t\t}\n\t}\n\n\t// If there was no custom cwd or it was relative with no workspace\n\tif (!cwd) {\n\t\tcwd = root ? root.fsPath : userHome || '';\n\t}\n\n\treturn sanitizeCwd(cwd);\n}\n\nasync function _resolveCwd(cwd: string, variableResolver: VariableResolver | undefined, logService?: ILogService): Promise<string | undefined> {\n\tif (variableResolver) {\n\t\ttry {\n\t\t\treturn await variableResolver(cwd);\n\t\t} catch (e) {\n\t\t\tlogService?.error('Could not resolve terminal cwd', e);\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn cwd;\n}\n\nexport type VariableResolver = (str: string) => Promise<string>;\n\nexport function createVariableResolver(lastActiveWorkspace: IWorkspaceFolder | undefined, env: IProcessEnvironment, configurationResolverService: IConfigurationResolverService | undefined): VariableResolver | undefined {\n\tif (!configurationResolverService) {\n\t\treturn undefined;\n\t}\n\treturn (str) => configurationResolverService.resolveWithEnvironment(env, lastActiveWorkspace, str);\n}\n\nexport async function createTerminalEnvironment(\n\tshellLaunchConfig: IShellLaunchConfig,\n\tenvFromConfig: ITerminalEnvironment | undefined,\n\tvariableResolver: VariableResolver | undefined,\n\tversion: string | undefined,\n\tdetectLocale: 'auto' | 'off' | 'on',\n\tbaseEnv: IProcessEnvironment\n): Promise<IProcessEnvironment> {\n\t// Create a terminal environment based on settings, launch config and permissions\n\tconst env: IProcessEnvironment = {};\n\tif (shellLaunchConfig.strictEnv) {\n\t\t// strictEnv is true, only use the requested env (ignoring null entries)\n\t\tmergeNonNullKeys(env, shellLaunchConfig.env);\n\t} else {\n\t\t// Merge process env with the env from config and from shellLaunchConfig\n\t\tmergeNonNullKeys(env, baseEnv);\n\n\t\tconst allowedEnvFromConfig = { ...envFromConfig };\n\n\t\t// Resolve env vars from config and shell\n\t\tif (variableResolver) {\n\t\t\tif (allowedEnvFromConfig) {\n\t\t\t\tawait resolveConfigurationVariables(variableResolver, allowedEnvFromConfig);\n\t\t\t}\n\t\t\tif (shellLaunchConfig.env) {\n\t\t\t\tawait resolveConfigurationVariables(variableResolver, shellLaunchConfig.env);\n\t\t\t}\n\t\t}\n\n\t\t// Workaround for https://github.com/microsoft/vscode/issues/204005\n\t\t// We should restore the following environment variables when a user\n\t\t// launches the application using the CLI so that integrated terminal\n\t\t// can still inherit these variables.\n\t\t// We are not bypassing the restrictions implied in https://github.com/electron/electron/pull/40770\n\t\t// since this only affects integrated terminal and not the application itself.\n\t\tif (isMacintosh) {\n\t\t\t// Restore NODE_OPTIONS if it was set\n\t\t\tif (env['MINTMIND_NODE_OPTIONS']) {\n\t\t\t\tenv['NODE_OPTIONS'] = env['MINTMIND_NODE_OPTIONS'];\n\t\t\t\tdelete env['MINTMIND_NODE_OPTIONS'];\n\t\t\t}\n\n\t\t\t// Restore NODE_REPL_EXTERNAL_MODULE if it was set\n\t\t\tif (env['MINTMIND_NODE_REPL_EXTERNAL_MODULE']) {\n\t\t\t\tenv['NODE_REPL_EXTERNAL_MODULE'] = env['MINTMIND_NODE_REPL_EXTERNAL_MODULE'];\n\t\t\t\tdelete env['MINTMIND_NODE_REPL_EXTERNAL_MODULE'];\n\t\t\t}\n\t\t}\n\n\t\t// Sanitize the environment, removing any undesirable MintMind and Electron environment\n\t\t// variables\n\t\tsanitizeProcessEnvironment(env, 'MINTMIND_IPC_HOOK_CLI');\n\n\t\t// Merge config (settings) and ShellLaunchConfig environments\n\t\tmergeEnvironments(env, allowedEnvFromConfig);\n\t\tmergeEnvironments(env, shellLaunchConfig.env);\n\n\t\t// Adding other env keys necessary to create the process\n\t\taddTerminalEnvironmentKeys(env, version, language, detectLocale);\n\t}\n\treturn env;\n}\n\n/**\n * Takes a path and returns the properly escaped path to send to a given shell. On Windows, this\n * included trying to prepare the path for WSL if needed.\n *\n * @param originalPath The path to be escaped and formatted.\n * @param executable The executable off the shellLaunchConfig.\n * @param title The terminal's title.\n * @param shellType The type of shell the path is being sent to.\n * @param backend The backend for the terminal.\n * @param isWindowsFrontend Whether the frontend is Windows, this is only exposed for injection via\n * tests.\n * @returns An escaped version of the path to be executed in the terminal.\n */\nexport async function preparePathForShell(resource: string | URI, executable: string | undefined, title: string, shellType: TerminalShellType | undefined, backend: Pick<ITerminalBackend, 'getWslPath'> | undefined, os: OperatingSystem | undefined, isWindowsFrontend: boolean = isWindows): Promise<string> {\n\tlet originalPath: string;\n\tif (isString(resource)) {\n\t\toriginalPath = resource;\n\t} else {\n\t\toriginalPath = resource.fsPath;\n\t\t// Apply backend OS-specific formatting to the path since URI.fsPath uses the frontend's OS\n\t\tif (isWindowsFrontend && os !== OperatingSystem.Windows) {\n\t\t\toriginalPath = originalPath.replace(/\\\\/g, '\\/');\n\t\t} else if (!isWindowsFrontend && os === OperatingSystem.Windows) {\n\t\t\toriginalPath = originalPath.replace(/\\//g, '\\\\');\n\t\t}\n\t}\n\n\tif (!executable) {\n\t\treturn originalPath;\n\t}\n\n\tconst hasSpace = originalPath.includes(' ');\n\tconst hasParens = originalPath.includes('(') || originalPath.includes(')');\n\n\tconst pathBasename = path.basename(executable, '.exe');\n\tconst isPowerShell = pathBasename === 'pwsh' ||\n\t\ttitle === 'pwsh' ||\n\t\tpathBasename === 'powershell' ||\n\t\ttitle === 'powershell';\n\n\tif (isPowerShell && (hasSpace || originalPath.includes('\\''))) {\n\t\treturn `& '${originalPath.replace(/'/g, '\\'\\'')}'`;\n\t}\n\n\tif (hasParens && isPowerShell) {\n\t\treturn `& '${originalPath}'`;\n\t}\n\n\tif (os === OperatingSystem.Windows) {\n\t\t// 17063 is the build number where wsl path was introduced.\n\t\t// Update Windows uriPath to be executed in WSL.\n\t\tif (shellType !== undefined) {\n\t\t\tif (shellType === WindowsShellType.GitBash) {\n\t\t\t\treturn escapeNonWindowsPath(originalPath.replace(/\\\\/g, '/'), shellType);\n\t\t\t}\n\t\t\telse if (shellType === WindowsShellType.Wsl) {\n\t\t\t\treturn backend?.getWslPath(originalPath, 'win-to-unix') || originalPath;\n\t\t\t}\n\t\t\telse if (hasSpace) {\n\t\t\t\treturn `\"${originalPath}\"`;\n\t\t\t}\n\t\t\treturn originalPath;\n\t\t}\n\t\tconst lowerExecutable = executable.toLowerCase();\n\t\tif (lowerExecutable.includes('wsl') || (lowerExecutable.includes('bash.exe') && !lowerExecutable.toLowerCase().includes('git'))) {\n\t\t\treturn backend?.getWslPath(originalPath, 'win-to-unix') || originalPath;\n\t\t} else if (hasSpace) {\n\t\t\treturn `\"${originalPath}\"`;\n\t\t}\n\t\treturn originalPath;\n\t}\n\n\treturn escapeNonWindowsPath(originalPath, shellType);\n}\n\nexport function getWorkspaceForTerminal(cwd: URI | string | undefined, workspaceContextService: IWorkspaceContextService, historyService: IHistoryService): IWorkspaceFolder | undefined {\n\tconst cwdUri = typeof cwd === 'string' ? URI.parse(cwd) : cwd;\n\tlet workspaceFolder = cwdUri ? workspaceContextService.getWorkspaceFolder(cwdUri) ?? undefined : undefined;\n\tif (!workspaceFolder) {\n\t\t// fallback to last active workspace if cwd is not available or it is not in workspace\n\t\t// TOOD: last active workspace is known to be unreliable, we should remove this fallback eventually\n\t\tconst activeWorkspaceRootUri = historyService.getLastActiveWorkspaceRoot();\n\t\tworkspaceFolder = activeWorkspaceRootUri ? workspaceContextService.getWorkspaceFolder(activeWorkspaceRootUri) ?? undefined : undefined;\n\t}\n\treturn workspaceFolder;\n}\n\nexport async function getUriLabelForShell(uri: URI | string, backend: Pick<ITerminalBackend, 'getWslPath'>, shellType?: TerminalShellType, os?: OperatingSystem, isWindowsFrontend: boolean = isWindows): Promise<string> {\n\tlet path = typeof uri === 'string' ? uri : uri.fsPath;\n\tif (os === OperatingSystem.Windows) {\n\t\tif (shellType === WindowsShellType.Wsl) {\n\t\t\treturn backend.getWslPath(path.replaceAll('/', '\\\\'), 'win-to-unix');\n\t\t} else if (shellType === WindowsShellType.GitBash) {\n\t\t\t// Convert \\ to / and replace 'c:\\' with '/c/'.\n\t\t\treturn path.replaceAll('\\\\', '/').replace(/^([a-zA-Z]):\\//, '/$1/');\n\t\t} else {\n\t\t\t// If the frontend is not Windows but the terminal is, convert / to \\.\n\t\t\tpath = typeof uri === 'string' ? path : uriToFsPath(uri, true);\n\t\t\treturn !isWindowsFrontend ? path.replaceAll('/', '\\\\') : path;\n\t\t}\n\t} else {\n\t\t// If the frontend is Windows but the terminal is not, convert \\ to /.\n\t\treturn isWindowsFrontend ? path.replaceAll('\\\\', '/') : path;\n\t}\n}\n\n/**\n * Gets the unified duration to wait for shell integration after the terminal launches before\n * declaring the terminal lacks shell integration.\n */\nexport function getShellIntegrationTimeout(\n\tconfigurationService: IConfigurationService,\n\tsiInjectionEnabled: boolean,\n\tisRemote: boolean,\n\tprocessReadyTimestamp?: number\n): number {\n\tconst timeoutValue = configurationService.getValue<unknown>(TerminalSettingId.ShellIntegrationTimeout);\n\tlet timeoutMs: number;\n\n\tif (!isNumber(timeoutValue) || timeoutValue < 0) {\n\t\ttimeoutMs = siInjectionEnabled ? 5000 : (isRemote ? 3000 : 2000);\n\t} else {\n\t\ttimeoutMs = Math.max(timeoutValue, 500);\n\t}\n\n\t// Adjust timeout based on how long the process has already been running\n\tif (processReadyTimestamp !== undefined) {\n\t\tconst elapsed = Date.now() - processReadyTimestamp;\n\t\ttimeoutMs = Math.max(0, timeoutMs - elapsed);\n\t}\n\n\treturn timeoutMs;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}