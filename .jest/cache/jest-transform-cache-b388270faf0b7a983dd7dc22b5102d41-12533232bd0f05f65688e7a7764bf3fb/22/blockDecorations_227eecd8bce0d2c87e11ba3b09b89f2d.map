{"version":3,"names":["cov_1zwgenh6","actualCoverage","createFastDomNode","ViewPart","BlockDecorations","domNode","blocks","s","contentWidth","contentLeft","constructor","context","f","document","createElement","setAttribute","setClassName","update","didChange","options","_context","configuration","layoutInfo","get","newContentWidth","verticalScrollbarWidth","b","newContentLeft","dispose","onConfigurationChanged","e","onScrollChanged","scrollTopChanged","scrollLeftChanged","onDecorationsChanged","onZonesChanged","prepareRender","ctx","render","count","decorations","getDecorationsInViewport","decoration","blockClassName","block","appendChild","top","bottom","blockIsAfterEnd","getVerticalOffsetAfterLineNumber","range","endLineNumber","getVerticalOffsetForLineNumber","startLineNumber","isEmpty","blockDoesNotCollapse","paddingTop","paddingRight","paddingBottom","paddingLeft","blockPadding","setLeft","setWidth","setTop","scrollTop","setHeight","i","length","remove"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/viewParts/blockDecorations/blockDecorations.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createFastDomNode, FastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport './blockDecorations.css';\nimport { RenderingContext, RestrictedRenderingContext } from '../../view/renderingContext.js';\nimport { ViewPart } from '../../view/viewPart.js';\nimport { EditorOption } from '../../../common/config/editorOptions.js';\nimport * as viewEvents from '../../../common/viewEvents.js';\nimport { ViewContext } from '../../../common/viewModel/viewContext.js';\n\nexport class BlockDecorations extends ViewPart {\n\n\tpublic domNode: FastDomNode<HTMLElement>;\n\n\tprivate readonly blocks: FastDomNode<HTMLElement>[] = [];\n\n\tprivate contentWidth: number = -1;\n\tprivate contentLeft: number = 0;\n\n\tconstructor(context: ViewContext) {\n\t\tsuper(context);\n\n\t\tthis.domNode = createFastDomNode<HTMLElement>(document.createElement('div'));\n\t\tthis.domNode.setAttribute('role', 'presentation');\n\t\tthis.domNode.setAttribute('aria-hidden', 'true');\n\t\tthis.domNode.setClassName('blockDecorations-container');\n\n\t\tthis.update();\n\t}\n\n\tprivate update(): boolean {\n\t\tlet didChange = false;\n\t\tconst options = this._context.configuration.options;\n\t\tconst layoutInfo = options.get(EditorOption.layoutInfo);\n\t\tconst newContentWidth = layoutInfo.contentWidth - layoutInfo.verticalScrollbarWidth;\n\n\t\tif (this.contentWidth !== newContentWidth) {\n\t\t\tthis.contentWidth = newContentWidth;\n\t\t\tdidChange = true;\n\t\t}\n\n\t\tconst newContentLeft = layoutInfo.contentLeft;\n\t\tif (this.contentLeft !== newContentLeft) {\n\t\t\tthis.contentLeft = newContentLeft;\n\t\t\tdidChange = true;\n\t\t}\n\n\t\treturn didChange;\n\t}\n\n\tpublic override dispose(): void {\n\t\tsuper.dispose();\n\t}\n\n\t// --- begin event handlers\n\n\tpublic override onConfigurationChanged(e: viewEvents.ViewConfigurationChangedEvent): boolean {\n\t\treturn this.update();\n\t}\n\tpublic override onScrollChanged(e: viewEvents.ViewScrollChangedEvent): boolean {\n\t\treturn e.scrollTopChanged || e.scrollLeftChanged;\n\t}\n\tpublic override onDecorationsChanged(e: viewEvents.ViewDecorationsChangedEvent): boolean {\n\t\treturn true;\n\t}\n\n\tpublic override onZonesChanged(e: viewEvents.ViewZonesChangedEvent): boolean {\n\t\treturn true;\n\t}\n\n\t// --- end event handlers\n\tpublic prepareRender(ctx: RenderingContext): void {\n\t\t// Nothing to read\n\t}\n\n\tpublic render(ctx: RestrictedRenderingContext): void {\n\t\tlet count = 0;\n\t\tconst decorations = ctx.getDecorationsInViewport();\n\t\tfor (const decoration of decorations) {\n\t\t\tif (!decoration.options.blockClassName) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tlet block = this.blocks[count];\n\t\t\tif (!block) {\n\t\t\t\tblock = this.blocks[count] = createFastDomNode(document.createElement('div'));\n\t\t\t\tthis.domNode.appendChild(block);\n\t\t\t}\n\n\t\t\tlet top: number;\n\t\t\tlet bottom: number;\n\n\t\t\tif (decoration.options.blockIsAfterEnd) {\n\t\t\t\t// range must be empty\n\t\t\t\ttop = ctx.getVerticalOffsetAfterLineNumber(decoration.range.endLineNumber, false);\n\t\t\t\tbottom = ctx.getVerticalOffsetAfterLineNumber(decoration.range.endLineNumber, true);\n\t\t\t} else {\n\t\t\t\ttop = ctx.getVerticalOffsetForLineNumber(decoration.range.startLineNumber, true);\n\t\t\t\tbottom = decoration.range.isEmpty() && !decoration.options.blockDoesNotCollapse\n\t\t\t\t\t? ctx.getVerticalOffsetForLineNumber(decoration.range.startLineNumber, false)\n\t\t\t\t\t: ctx.getVerticalOffsetAfterLineNumber(decoration.range.endLineNumber, true);\n\t\t\t}\n\n\t\t\tconst [paddingTop, paddingRight, paddingBottom, paddingLeft] = decoration.options.blockPadding ?? [0, 0, 0, 0];\n\n\t\t\tblock.setClassName('blockDecorations-block ' + decoration.options.blockClassName);\n\t\t\tblock.setLeft(this.contentLeft - paddingLeft);\n\t\t\tblock.setWidth(this.contentWidth + paddingLeft + paddingRight);\n\t\t\tblock.setTop(top - ctx.scrollTop - paddingTop);\n\t\t\tblock.setHeight(bottom - top + paddingTop + paddingBottom);\n\n\t\t\tcount++;\n\t\t}\n\n\t\tfor (let i = count; i < this.blocks.length; i++) {\n\t\t\tthis.blocks[i].domNode.remove();\n\t\t}\n\t\tthis.blocks.length = count;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}