{"version":3,"names":["cov_1c57hjzy07","actualCoverage","AccessibleContentProvider","ContextKeyExpr","getNotebookEditorFromEditorPane","NOTEBOOK_CELL_LIST_FOCUSED","IEditorService","InputFocusedContext","getAllOutputsText","NotebookAccessibleView","priority","s","name","type","when","and","toNegated","getProvider","accessor","f","editorService","get","getAccessibleOutputProvider","activePane","activeEditorPane","notebookEditor","notebookViewModel","getViewModel","selections","getSelections","notebookDocument","b","textModel","viewCell","viewCells","start","outputContent","setFocus","focus"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/notebook/browser/notebookAccessibleView.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { AccessibleViewProviderId, AccessibleViewType, AccessibleContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { IAccessibleViewImplementation } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { getNotebookEditorFromEditorPane } from './notebookBrowser.js';\nimport { NOTEBOOK_CELL_LIST_FOCUSED } from '../common/notebookContextKeys.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { InputFocusedContext } from '../../../../platform/contextkey/common/contextkeys.js';\nimport { getAllOutputsText } from './viewModel/cellOutputTextHelper.js';\n\nexport class NotebookAccessibleView implements IAccessibleViewImplementation {\n\treadonly priority = 100;\n\treadonly name = 'notebook';\n\treadonly type = AccessibleViewType.View;\n\treadonly when = ContextKeyExpr.and(NOTEBOOK_CELL_LIST_FOCUSED, InputFocusedContext.toNegated());\n\tgetProvider(accessor: ServicesAccessor) {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\treturn getAccessibleOutputProvider(editorService);\n\t}\n}\n\nexport function getAccessibleOutputProvider(editorService: IEditorService) {\n\tconst activePane = editorService.activeEditorPane;\n\tconst notebookEditor = getNotebookEditorFromEditorPane(activePane);\n\tconst notebookViewModel = notebookEditor?.getViewModel();\n\tconst selections = notebookViewModel?.getSelections();\n\tconst notebookDocument = notebookViewModel?.notebookDocument;\n\n\tif (!selections || !notebookDocument || !notebookEditor?.textModel) {\n\t\treturn;\n\t}\n\n\tconst viewCell = notebookViewModel.viewCells[selections[0].start];\n\tconst outputContent = getAllOutputsText(notebookDocument, viewCell);\n\n\tif (!outputContent) {\n\t\treturn;\n\t}\n\n\treturn new AccessibleContentProvider(\n\t\tAccessibleViewProviderId.Notebook,\n\t\t{ type: AccessibleViewType.View },\n\t\t() => { return outputContent; },\n\t\t() => {\n\t\t\tnotebookEditor?.setFocus(selections[0]);\n\t\t\tnotebookEditor.focus();\n\t\t},\n\t\tAccessibilityVerbositySettingId.Notebook,\n\t);\n}\n\n"],"mappings":"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","ignoreList":[]}