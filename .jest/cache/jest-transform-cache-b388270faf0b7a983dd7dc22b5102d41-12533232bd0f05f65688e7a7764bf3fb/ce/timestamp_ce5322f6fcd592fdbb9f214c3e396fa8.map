{"version":3,"names":["cov_2ic4cavge","actualCoverage","dom","getDefaultHoverDelegate","fromNow","Disposable","language","COMMENTS_SECTION","TimestampWidget","configurationService","_date","_timestamp","_useRelativeTime","hover","constructor","hoverService","container","timeStamp","f","s","append","$","style","display","useRelativeTimeSetting","_register","setupManagedHover","setTimestamp","getValue","useRelativeTime","timestamp","b","updateDate","textContent","tooltip","getRelative","getDateString","update","date","toLocaleString"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/comments/browser/timestamp.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { fromNow } from '../../../../base/common/date.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { language } from '../../../../base/common/platform.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport type { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { COMMENTS_SECTION, ICommentsConfiguration } from '../common/commentsConfiguration.js';\n\nexport class TimestampWidget extends Disposable {\n\tprivate _date: HTMLElement;\n\tprivate _timestamp: Date | undefined;\n\tprivate _useRelativeTime: boolean;\n\n\tprivate hover: IManagedHover;\n\n\tconstructor(\n\t\tprivate configurationService: IConfigurationService,\n\t\thoverService: IHoverService,\n\t\tcontainer: HTMLElement,\n\t\ttimeStamp?: Date\n\t) {\n\t\tsuper();\n\t\tthis._date = dom.append(container, dom.$('span.timestamp'));\n\t\tthis._date.style.display = 'none';\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t\tthis.hover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this._date, ''));\n\t\tthis.setTimestamp(timeStamp);\n\t}\n\n\tprivate get useRelativeTimeSetting(): boolean {\n\t\treturn this.configurationService.getValue<ICommentsConfiguration>(COMMENTS_SECTION).useRelativeTime;\n\t}\n\n\tpublic async setTimestamp(timestamp: Date | undefined) {\n\t\tif ((timestamp !== this._timestamp) || (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis.updateDate(timestamp);\n\t\t}\n\t\tthis._timestamp = timestamp;\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t}\n\n\tprivate updateDate(timestamp?: Date) {\n\t\tif (!timestamp) {\n\t\t\tthis._date.textContent = '';\n\t\t\tthis._date.style.display = 'none';\n\t\t} else if ((timestamp !== this._timestamp)\n\t\t\t|| (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis._date.style.display = '';\n\t\t\tlet textContent: string;\n\t\t\tlet tooltip: string | undefined;\n\t\t\tif (this.useRelativeTimeSetting) {\n\t\t\t\ttextContent = this.getRelative(timestamp);\n\t\t\t\ttooltip = this.getDateString(timestamp);\n\t\t\t} else {\n\t\t\t\ttextContent = this.getDateString(timestamp);\n\t\t\t}\n\n\t\t\tthis._date.textContent = textContent;\n\t\t\tthis.hover.update(tooltip ?? '');\n\t\t}\n\t}\n\n\tprivate getRelative(date: Date): string {\n\t\treturn fromNow(date, true, true);\n\t}\n\n\tprivate getDateString(date: Date): string {\n\t\treturn date.toLocaleString(language);\n\t}\n}\n"],"mappings":"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","ignoreList":[]}