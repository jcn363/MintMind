{"version":3,"names":["cov_2nebisihgn","actualCoverage","browser","createFastDomNode","platform","RangeUtil","FloatHorizontalRange","VisibleRanges","LineDecoration","RenderLineInput","renderViewLine","DomPosition","isHighContrast","EditorFontLigatures","OffsetRange","TextDirection","canUseFastRenderedViewLine","s","f","isNative","b","isLinux","isFirefox","isSafari","monospaceAssumptionsAreValid","ViewLine","_viewGpuContext","CLASS_NAME","_options","_isMaybeInvalid","_renderedViewLine","constructor","options","getDomNode","domNode","setDomNode","Error","onContentChanged","onTokensChanged","onDecorationsChanged","onOptionsChanged","newOptions","onSelectionChanged","themeType","input","renderWhitespace","renderLine","lineNumber","deltaTop","lineHeight","viewportData","sb","useGpu","canRender","remove","lineData","getViewLineRenderingData","actualInlineDecorations","filter","inlineDecorations","minColumn","maxColumn","hasVariableFonts","experimentalWhitespaceRendering","allowFastRendering","selectionsOnLine","selections","selection","endLineNumber","startLineNumber","startColumn","endColumn","push","renderLineInput","useMonospaceOptimizations","canUseHalfwidthRightwardsArrow","content","continuesWithWrappedLine","isBasicASCII","containsRTL","tokens","tabSize","startVisibleColumn","spaceWidth","middotWidth","wsmiddotWidth","stopRenderingLineAfter","renderControlCharacters","fontLigatures","OFF","textDirection","verticalScrollbarSize","equals","appendString","RTL","String","output","renderedViewLine","isLTR","containsForeignElements","FastRenderedViewLine","characterMapping","createRenderedLine","layoutLine","setTop","setHeight","setLineHeight","isRenderedRTL","getWidth","context","getWidthIsFast","needsMonospaceFontCheck","onMonospaceAssumptionsInvalidated","toSlowRenderedLine","getVisibleRangesForRange","Math","min","lineContent","length","max","horizontalRanges","getColumnOfNodeOffset","spanNode","offset","_characterMapping","_charWidth","_keyColumnPixelOffsetCache","_cachedWidth","keyColumnCount","floor","Float32Array","i","horizontalOffset","getHorizontalOffset","round","_getReadingTarget","offsetWidth","markDidDomLayout","expectedWidth","actualWidth","firstChild","abs","console","warn","startPosition","_getColumnPixelOffset","endPosition","column","keyColumnOrdinal","keyColumn","keyColumnPixelOffset","_actualReadPixelOffset","keyColumnHorizontalOffset","myDomNode","domPosition","getDomPosition","r","readHorizontalRanges","partIndex","charIndex","left","RenderedViewLine","_isWhitespaceOnly","_containsForeignElements","_pixelOffsetCache","test","len","startOffset","_readPixelOffset","endOffset","_readVisibleRangesForRange","pixelOffset","_readRawVisibleRangesForRange","readingTarget","cachedPixelOffset","result","expectedResult","startDomPosition","endDomPosition","WebKitRenderedViewLine","endPixelOffset","lastRange","width","isWebKit","createWebKitRenderedLine","createNormalRenderedLine","spanNodeTextContentLength","textContent","spanIndex","previousSibling","getColumn"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/viewParts/viewLines/viewLine.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as browser from '../../../../base/browser/browser.js';\nimport { FastDomNode, createFastDomNode } from '../../../../base/browser/fastDomNode.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { IVisibleLine } from '../../view/viewLayer.js';\nimport { RangeUtil } from './rangeUtil.js';\nimport { StringBuilder } from '../../../common/core/stringBuilder.js';\nimport { FloatHorizontalRange, VisibleRanges } from '../../view/renderingContext.js';\nimport { LineDecoration } from '../../../common/viewLayout/lineDecorations.js';\nimport { CharacterMapping, ForeignElementType, RenderLineInput, renderViewLine, DomPosition, RenderWhitespace } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { ViewportData } from '../../../common/viewLayout/viewLinesViewportData.js';\nimport { isHighContrast } from '../../../../platform/theme/common/theme.js';\nimport { EditorFontLigatures } from '../../../common/config/editorOptions.js';\nimport { DomReadingContext } from './domReadingContext.js';\nimport type { ViewLineOptions } from './viewLineOptions.js';\nimport { ViewGpuContext } from '../../gpu/viewGpuContext.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { InlineDecorationType } from '../../../common/viewModel/inlineDecorations.js';\nimport { TextDirection } from '../../../common/model.js';\n\nconst canUseFastRenderedViewLine = (function () {\n\tif (platform.isNative) {\n\t\t// In VSCode we know very well when the zoom level changes\n\t\treturn true;\n\t}\n\n\tif (platform.isLinux || browser.isFirefox || browser.isSafari) {\n\t\t// On Linux, it appears that zooming affects char widths (in pixels), which is unexpected.\n\t\t// --\n\t\t// Even though we read character widths correctly, having read them at a specific zoom level\n\t\t// does not mean they are the same at the current zoom level.\n\t\t// --\n\t\t// This could be improved if we ever figure out how to get an event when browsers zoom,\n\t\t// but until then we have to stick with reading client rects.\n\t\t// --\n\t\t// The same has been observed with Firefox on Windows7\n\t\t// --\n\t\t// The same has been oversved with Safari\n\t\treturn false;\n\t}\n\n\treturn true;\n})();\n\nlet monospaceAssumptionsAreValid = true;\n\nexport class ViewLine implements IVisibleLine {\n\n\tpublic static readonly CLASS_NAME = 'view-line';\n\n\tprivate _options: ViewLineOptions;\n\tprivate _isMaybeInvalid: boolean;\n\tprivate _renderedViewLine: IRenderedViewLine | null;\n\n\tconstructor(private readonly _viewGpuContext: ViewGpuContext | undefined, options: ViewLineOptions) {\n\t\tthis._options = options;\n\t\tthis._isMaybeInvalid = true;\n\t\tthis._renderedViewLine = null;\n\t}\n\n\t// --- begin IVisibleLineData\n\n\tpublic getDomNode(): HTMLElement | null {\n\t\tif (this._renderedViewLine && this._renderedViewLine.domNode) {\n\t\t\treturn this._renderedViewLine.domNode.domNode;\n\t\t}\n\t\treturn null;\n\t}\n\tpublic setDomNode(domNode: HTMLElement): void {\n\t\tif (this._renderedViewLine) {\n\t\t\tthis._renderedViewLine.domNode = createFastDomNode(domNode);\n\t\t} else {\n\t\t\tthrow new Error('I have no rendered view line to set the dom node to...');\n\t\t}\n\t}\n\n\tpublic onContentChanged(): void {\n\t\tthis._isMaybeInvalid = true;\n\t}\n\tpublic onTokensChanged(): void {\n\t\tthis._isMaybeInvalid = true;\n\t}\n\tpublic onDecorationsChanged(): void {\n\t\tthis._isMaybeInvalid = true;\n\t}\n\tpublic onOptionsChanged(newOptions: ViewLineOptions): void {\n\t\tthis._isMaybeInvalid = true;\n\t\tthis._options = newOptions;\n\t}\n\tpublic onSelectionChanged(): boolean {\n\t\tif (isHighContrast(this._options.themeType) || this._renderedViewLine?.input.renderWhitespace === RenderWhitespace.Selection) {\n\t\t\tthis._isMaybeInvalid = true;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic renderLine(lineNumber: number, deltaTop: number, lineHeight: number, viewportData: ViewportData, sb: StringBuilder): boolean {\n\t\tif (this._options.useGpu && this._viewGpuContext?.canRender(this._options, viewportData, lineNumber)) {\n\t\t\tthis._renderedViewLine?.domNode?.domNode.remove();\n\t\t\tthis._renderedViewLine = null;\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._isMaybeInvalid === false) {\n\t\t\t// it appears that nothing relevant has changed\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._isMaybeInvalid = false;\n\n\t\tconst lineData = viewportData.getViewLineRenderingData(lineNumber);\n\t\tconst options = this._options;\n\t\tconst actualInlineDecorations = LineDecoration.filter(lineData.inlineDecorations, lineNumber, lineData.minColumn, lineData.maxColumn);\n\t\tconst renderWhitespace = (lineData.hasVariableFonts || options.experimentalWhitespaceRendering === 'off') ? options.renderWhitespace : 'none';\n\t\tconst allowFastRendering = !lineData.hasVariableFonts;\n\n\t\t// Only send selection information when needed for rendering whitespace\n\t\tlet selectionsOnLine: OffsetRange[] | null = null;\n\t\tif (isHighContrast(options.themeType) || renderWhitespace === 'selection') {\n\t\t\tconst selections = viewportData.selections;\n\t\t\tfor (const selection of selections) {\n\n\t\t\t\tif (selection.endLineNumber < lineNumber || selection.startLineNumber > lineNumber) {\n\t\t\t\t\t// Selection does not intersect line\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst startColumn = (selection.startLineNumber === lineNumber ? selection.startColumn : lineData.minColumn);\n\t\t\t\tconst endColumn = (selection.endLineNumber === lineNumber ? selection.endColumn : lineData.maxColumn);\n\n\t\t\t\tif (startColumn < endColumn) {\n\t\t\t\t\tif (isHighContrast(options.themeType)) {\n\t\t\t\t\t\tactualInlineDecorations.push(new LineDecoration(startColumn, endColumn, 'inline-selected-text', InlineDecorationType.Regular));\n\t\t\t\t\t}\n\t\t\t\t\tif (renderWhitespace === 'selection') {\n\t\t\t\t\t\tif (!selectionsOnLine) {\n\t\t\t\t\t\t\tselectionsOnLine = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tselectionsOnLine.push(new OffsetRange(startColumn - 1, endColumn - 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst renderLineInput = new RenderLineInput(\n\t\t\toptions.useMonospaceOptimizations,\n\t\t\toptions.canUseHalfwidthRightwardsArrow,\n\t\t\tlineData.content,\n\t\t\tlineData.continuesWithWrappedLine,\n\t\t\tlineData.isBasicASCII,\n\t\t\tlineData.containsRTL,\n\t\t\tlineData.minColumn - 1,\n\t\t\tlineData.tokens,\n\t\t\tactualInlineDecorations,\n\t\t\tlineData.tabSize,\n\t\t\tlineData.startVisibleColumn,\n\t\t\toptions.spaceWidth,\n\t\t\toptions.middotWidth,\n\t\t\toptions.wsmiddotWidth,\n\t\t\toptions.stopRenderingLineAfter,\n\t\t\trenderWhitespace,\n\t\t\toptions.renderControlCharacters,\n\t\t\toptions.fontLigatures !== EditorFontLigatures.OFF,\n\t\t\tselectionsOnLine,\n\t\t\tlineData.textDirection,\n\t\t\toptions.verticalScrollbarSize\n\t\t);\n\n\t\tif (this._renderedViewLine && this._renderedViewLine.input.equals(renderLineInput)) {\n\t\t\t// no need to do anything, we have the same render input\n\t\t\treturn false;\n\t\t}\n\n\t\tsb.appendString('<div ');\n\t\tif (lineData.textDirection === TextDirection.RTL) {\n\t\t\tsb.appendString('dir=\"rtl\" ');\n\t\t} else if (lineData.containsRTL) {\n\t\t\tsb.appendString('dir=\"ltr\" ');\n\t\t}\n\t\tsb.appendString('style=\"top:');\n\t\tsb.appendString(String(deltaTop));\n\t\tsb.appendString('px;height:');\n\t\tsb.appendString(String(lineHeight));\n\t\tsb.appendString('px;line-height:');\n\t\tsb.appendString(String(lineHeight));\n\t\tif (lineData.textDirection === TextDirection.RTL) {\n\t\t\tsb.appendString('px;padding-right:');\n\t\t\tsb.appendString(String(options.verticalScrollbarSize));\n\t\t}\n\t\tsb.appendString('px;\" class=\"');\n\t\tsb.appendString(ViewLine.CLASS_NAME);\n\t\tsb.appendString('\">');\n\n\t\tconst output = renderViewLine(renderLineInput, sb);\n\n\t\tsb.appendString('</div>');\n\n\t\tlet renderedViewLine: IRenderedViewLine | null = null;\n\t\tif (\n\t\t\tallowFastRendering\n\t\t\t&& monospaceAssumptionsAreValid\n\t\t\t&& canUseFastRenderedViewLine\n\t\t\t&& lineData.isBasicASCII\n\t\t\t&& renderLineInput.isLTR\n\t\t\t&& options.useMonospaceOptimizations\n\t\t\t&& output.containsForeignElements === ForeignElementType.None\n\t\t) {\n\t\t\trenderedViewLine = new FastRenderedViewLine(\n\t\t\t\tthis._renderedViewLine ? this._renderedViewLine.domNode : null,\n\t\t\t\trenderLineInput,\n\t\t\t\toutput.characterMapping\n\t\t\t);\n\t\t}\n\n\t\tif (!renderedViewLine) {\n\t\t\trenderedViewLine = createRenderedLine(\n\t\t\t\tthis._renderedViewLine ? this._renderedViewLine.domNode : null,\n\t\t\t\trenderLineInput,\n\t\t\t\toutput.characterMapping,\n\t\t\t\toutput.containsForeignElements\n\t\t\t);\n\t\t}\n\n\t\tthis._renderedViewLine = renderedViewLine;\n\n\t\treturn true;\n\t}\n\n\tpublic layoutLine(lineNumber: number, deltaTop: number, lineHeight: number): void {\n\t\tif (this._renderedViewLine && this._renderedViewLine.domNode) {\n\t\t\tthis._renderedViewLine.domNode.setTop(deltaTop);\n\t\t\tthis._renderedViewLine.domNode.setHeight(lineHeight);\n\t\t\tthis._renderedViewLine.domNode.setLineHeight(lineHeight);\n\t\t}\n\t}\n\n\t// --- end IVisibleLineData\n\n\tpublic isRenderedRTL(): boolean {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._renderedViewLine.input.textDirection === TextDirection.RTL;\n\t}\n\n\tpublic getWidth(context: DomReadingContext | null): number {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._renderedViewLine.getWidth(context);\n\t}\n\n\tpublic getWidthIsFast(): boolean {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn true;\n\t\t}\n\t\treturn this._renderedViewLine.getWidthIsFast();\n\t}\n\n\tpublic needsMonospaceFontCheck(): boolean {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (this._renderedViewLine instanceof FastRenderedViewLine);\n\t}\n\n\tpublic monospaceAssumptionsAreValid(): boolean {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn monospaceAssumptionsAreValid;\n\t\t}\n\t\tif (this._renderedViewLine instanceof FastRenderedViewLine) {\n\t\t\treturn this._renderedViewLine.monospaceAssumptionsAreValid();\n\t\t}\n\t\treturn monospaceAssumptionsAreValid;\n\t}\n\n\tpublic onMonospaceAssumptionsInvalidated(): void {\n\t\tif (this._renderedViewLine && this._renderedViewLine instanceof FastRenderedViewLine) {\n\t\t\tthis._renderedViewLine = this._renderedViewLine.toSlowRenderedLine();\n\t\t}\n\t}\n\n\tpublic getVisibleRangesForRange(lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): VisibleRanges | null {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn null;\n\t\t}\n\n\t\tstartColumn = Math.min(this._renderedViewLine.input.lineContent.length + 1, Math.max(1, startColumn));\n\t\tendColumn = Math.min(this._renderedViewLine.input.lineContent.length + 1, Math.max(1, endColumn));\n\n\t\tconst stopRenderingLineAfter = this._renderedViewLine.input.stopRenderingLineAfter;\n\n\t\tif (stopRenderingLineAfter !== -1 && startColumn > stopRenderingLineAfter + 1 && endColumn > stopRenderingLineAfter + 1) {\n\t\t\t// This range is obviously not visible\n\t\t\treturn new VisibleRanges(true, [new FloatHorizontalRange(this.getWidth(context), 0)]);\n\t\t}\n\n\t\tif (stopRenderingLineAfter !== -1 && startColumn > stopRenderingLineAfter + 1) {\n\t\t\tstartColumn = stopRenderingLineAfter + 1;\n\t\t}\n\n\t\tif (stopRenderingLineAfter !== -1 && endColumn > stopRenderingLineAfter + 1) {\n\t\t\tendColumn = stopRenderingLineAfter + 1;\n\t\t}\n\n\t\tconst horizontalRanges = this._renderedViewLine.getVisibleRangesForRange(lineNumber, startColumn, endColumn, context);\n\t\tif (horizontalRanges && horizontalRanges.length > 0) {\n\t\t\treturn new VisibleRanges(false, horizontalRanges);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic getColumnOfNodeOffset(spanNode: HTMLElement, offset: number): number {\n\t\tif (!this._renderedViewLine) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn this._renderedViewLine.getColumnOfNodeOffset(spanNode, offset);\n\t}\n}\n\ninterface IRenderedViewLine {\n\tdomNode: FastDomNode<HTMLElement> | null;\n\treadonly input: RenderLineInput;\n\tgetWidth(context: DomReadingContext | null): number;\n\tgetWidthIsFast(): boolean;\n\tgetVisibleRangesForRange(lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null;\n\tgetColumnOfNodeOffset(spanNode: HTMLElement, offset: number): number;\n}\n\nconst enum Constants {\n\t/**\n\t * It seems that rounding errors occur with long lines, so the purely multiplication based\n\t * method is only viable for short lines. For longer lines, we look up the real position of\n\t * every 300th character and use multiplication based on that.\n\t *\n\t * See https://github.com/microsoft/vscode/issues/33178\n\t */\n\tMaxMonospaceDistance = 300\n}\n\n/**\n * A rendered line which is guaranteed to contain only regular ASCII and is rendered with a monospace font.\n */\nclass FastRenderedViewLine implements IRenderedViewLine {\n\n\tpublic domNode: FastDomNode<HTMLElement> | null;\n\tpublic readonly input: RenderLineInput;\n\n\tprivate readonly _characterMapping: CharacterMapping;\n\tprivate readonly _charWidth: number;\n\tprivate readonly _keyColumnPixelOffsetCache: Float32Array | null;\n\tprivate _cachedWidth: number = -1;\n\n\tconstructor(domNode: FastDomNode<HTMLElement> | null, renderLineInput: RenderLineInput, characterMapping: CharacterMapping) {\n\t\tthis.domNode = domNode;\n\t\tthis.input = renderLineInput;\n\t\tconst keyColumnCount = Math.floor(renderLineInput.lineContent.length / Constants.MaxMonospaceDistance);\n\t\tif (keyColumnCount > 0) {\n\t\t\tthis._keyColumnPixelOffsetCache = new Float32Array(keyColumnCount);\n\t\t\tfor (let i = 0; i < keyColumnCount; i++) {\n\t\t\t\tthis._keyColumnPixelOffsetCache[i] = -1;\n\t\t\t}\n\t\t} else {\n\t\t\tthis._keyColumnPixelOffsetCache = null;\n\t\t}\n\n\t\tthis._characterMapping = characterMapping;\n\t\tthis._charWidth = renderLineInput.spaceWidth;\n\t}\n\n\tpublic getWidth(context: DomReadingContext | null): number {\n\t\tif (!this.domNode || this.input.lineContent.length < Constants.MaxMonospaceDistance) {\n\t\t\tconst horizontalOffset = this._characterMapping.getHorizontalOffset(this._characterMapping.length);\n\t\t\treturn Math.round(this._charWidth * horizontalOffset);\n\t\t}\n\t\tif (this._cachedWidth === -1) {\n\t\t\tthis._cachedWidth = this._getReadingTarget(this.domNode).offsetWidth;\n\t\t\tcontext?.markDidDomLayout();\n\t\t}\n\t\treturn this._cachedWidth;\n\t}\n\n\tpublic getWidthIsFast(): boolean {\n\t\treturn (this.input.lineContent.length < Constants.MaxMonospaceDistance) || this._cachedWidth !== -1;\n\t}\n\n\tpublic monospaceAssumptionsAreValid(): boolean {\n\t\tif (!this.domNode) {\n\t\t\treturn monospaceAssumptionsAreValid;\n\t\t}\n\t\tif (this.input.lineContent.length < Constants.MaxMonospaceDistance) {\n\t\t\tconst expectedWidth = this.getWidth(null);\n\t\t\tconst actualWidth = (<HTMLSpanElement>this.domNode.domNode.firstChild).offsetWidth;\n\t\t\tif (Math.abs(expectedWidth - actualWidth) >= 2) {\n\t\t\t\t// more than 2px off\n\t\t\t\tconsole.warn(`monospace assumptions have been violated, therefore disabling monospace optimizations!`);\n\t\t\t\tmonospaceAssumptionsAreValid = false;\n\t\t\t}\n\t\t}\n\t\treturn monospaceAssumptionsAreValid;\n\t}\n\n\tpublic toSlowRenderedLine(): RenderedViewLine {\n\t\treturn createRenderedLine(this.domNode, this.input, this._characterMapping, ForeignElementType.None);\n\t}\n\n\tpublic getVisibleRangesForRange(lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null {\n\t\tconst startPosition = this._getColumnPixelOffset(lineNumber, startColumn, context);\n\t\tconst endPosition = this._getColumnPixelOffset(lineNumber, endColumn, context);\n\t\treturn [new FloatHorizontalRange(startPosition, endPosition - startPosition)];\n\t}\n\n\tprivate _getColumnPixelOffset(lineNumber: number, column: number, context: DomReadingContext): number {\n\t\tif (column <= Constants.MaxMonospaceDistance) {\n\t\t\tconst horizontalOffset = this._characterMapping.getHorizontalOffset(column);\n\t\t\treturn this._charWidth * horizontalOffset;\n\t\t}\n\n\t\tconst keyColumnOrdinal = Math.floor((column - 1) / Constants.MaxMonospaceDistance) - 1;\n\t\tconst keyColumn = (keyColumnOrdinal + 1) * Constants.MaxMonospaceDistance + 1;\n\t\tlet keyColumnPixelOffset = -1;\n\t\tif (this._keyColumnPixelOffsetCache) {\n\t\t\tkeyColumnPixelOffset = this._keyColumnPixelOffsetCache[keyColumnOrdinal];\n\t\t\tif (keyColumnPixelOffset === -1) {\n\t\t\t\tkeyColumnPixelOffset = this._actualReadPixelOffset(lineNumber, keyColumn, context);\n\t\t\t\tthis._keyColumnPixelOffsetCache[keyColumnOrdinal] = keyColumnPixelOffset;\n\t\t\t}\n\t\t}\n\n\t\tif (keyColumnPixelOffset === -1) {\n\t\t\t// Could not read actual key column pixel offset\n\t\t\tconst horizontalOffset = this._characterMapping.getHorizontalOffset(column);\n\t\t\treturn this._charWidth * horizontalOffset;\n\t\t}\n\n\t\tconst keyColumnHorizontalOffset = this._characterMapping.getHorizontalOffset(keyColumn);\n\t\tconst horizontalOffset = this._characterMapping.getHorizontalOffset(column);\n\t\treturn keyColumnPixelOffset + this._charWidth * (horizontalOffset - keyColumnHorizontalOffset);\n\t}\n\n\tprivate _getReadingTarget(myDomNode: FastDomNode<HTMLElement>): HTMLElement {\n\t\treturn <HTMLSpanElement>myDomNode.domNode.firstChild;\n\t}\n\n\tprivate _actualReadPixelOffset(lineNumber: number, column: number, context: DomReadingContext): number {\n\t\tif (!this.domNode) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst domPosition = this._characterMapping.getDomPosition(column);\n\t\tconst r = RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode), domPosition.partIndex, domPosition.charIndex, domPosition.partIndex, domPosition.charIndex, context);\n\t\tif (!r || r.length === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn r[0].left;\n\t}\n\n\tpublic getColumnOfNodeOffset(spanNode: HTMLElement, offset: number): number {\n\t\treturn getColumnOfNodeOffset(this._characterMapping, spanNode, offset);\n\t}\n}\n\n/**\n * Every time we render a line, we save what we have rendered in an instance of this class.\n */\nclass RenderedViewLine implements IRenderedViewLine {\n\n\tpublic domNode: FastDomNode<HTMLElement> | null;\n\tpublic readonly input: RenderLineInput;\n\n\tprotected readonly _characterMapping: CharacterMapping;\n\tprivate readonly _isWhitespaceOnly: boolean;\n\tprivate readonly _containsForeignElements: ForeignElementType;\n\tprivate _cachedWidth: number;\n\n\t/**\n\t * This is a map that is used only when the line is guaranteed to be rendered LTR and has no RTL text.\n\t */\n\tprivate readonly _pixelOffsetCache: Float32Array | null;\n\n\tconstructor(domNode: FastDomNode<HTMLElement> | null, renderLineInput: RenderLineInput, characterMapping: CharacterMapping, containsForeignElements: ForeignElementType) {\n\t\tthis.domNode = domNode;\n\t\tthis.input = renderLineInput;\n\t\tthis._characterMapping = characterMapping;\n\t\tthis._isWhitespaceOnly = /^\\s*$/.test(renderLineInput.lineContent);\n\t\tthis._containsForeignElements = containsForeignElements;\n\t\tthis._cachedWidth = -1;\n\n\t\tthis._pixelOffsetCache = null;\n\t\tif (renderLineInput.isLTR) {\n\t\t\tthis._pixelOffsetCache = new Float32Array(Math.max(2, this._characterMapping.length + 1));\n\t\t\tfor (let column = 0, len = this._characterMapping.length; column <= len; column++) {\n\t\t\t\tthis._pixelOffsetCache[column] = -1;\n\t\t\t}\n\t\t}\n\t}\n\n\t// --- Reading from the DOM methods\n\n\tprotected _getReadingTarget(myDomNode: FastDomNode<HTMLElement>): HTMLElement {\n\t\treturn <HTMLSpanElement>myDomNode.domNode.firstChild;\n\t}\n\n\t/**\n\t * Width of the line in pixels\n\t */\n\tpublic getWidth(context: DomReadingContext | null): number {\n\t\tif (!this.domNode) {\n\t\t\treturn 0;\n\t\t}\n\t\tif (this._cachedWidth === -1) {\n\t\t\tthis._cachedWidth = this._getReadingTarget(this.domNode).offsetWidth;\n\t\t\tcontext?.markDidDomLayout();\n\t\t}\n\t\treturn this._cachedWidth;\n\t}\n\n\tpublic getWidthIsFast(): boolean {\n\t\tif (this._cachedWidth === -1) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Visible ranges for a model range\n\t */\n\tpublic getVisibleRangesForRange(lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null {\n\t\tif (!this.domNode) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._pixelOffsetCache !== null) {\n\t\t\t// the text is guaranteed to be entirely LTR\n\t\t\tconst startOffset = this._readPixelOffset(this.domNode, lineNumber, startColumn, context);\n\t\t\tif (startOffset === -1) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst endOffset = this._readPixelOffset(this.domNode, lineNumber, endColumn, context);\n\t\t\tif (endOffset === -1) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn [new FloatHorizontalRange(startOffset, endOffset - startOffset)];\n\t\t}\n\n\t\treturn this._readVisibleRangesForRange(this.domNode, lineNumber, startColumn, endColumn, context);\n\t}\n\n\tprotected _readVisibleRangesForRange(domNode: FastDomNode<HTMLElement>, lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null {\n\t\tif (startColumn === endColumn) {\n\t\t\tconst pixelOffset = this._readPixelOffset(domNode, lineNumber, startColumn, context);\n\t\t\tif (pixelOffset === -1) {\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\treturn [new FloatHorizontalRange(pixelOffset, 0)];\n\t\t\t}\n\t\t} else {\n\t\t\treturn this._readRawVisibleRangesForRange(domNode, startColumn, endColumn, context);\n\t\t}\n\t}\n\n\tprotected _readPixelOffset(domNode: FastDomNode<HTMLElement>, lineNumber: number, column: number, context: DomReadingContext): number {\n\t\tif (this.input.isLTR && this._characterMapping.length === 0) {\n\t\t\t// This line has no content\n\t\t\tif (this._containsForeignElements === ForeignElementType.None) {\n\t\t\t\t// We can assume the line is really empty\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this._containsForeignElements === ForeignElementType.After) {\n\t\t\t\t// We have foreign elements after the (empty) line\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this._containsForeignElements === ForeignElementType.Before) {\n\t\t\t\t// We have foreign elements before the (empty) line\n\t\t\t\treturn this.getWidth(context);\n\t\t\t}\n\t\t\t// We have foreign elements before & after the (empty) line\n\t\t\tconst readingTarget = this._getReadingTarget(domNode);\n\t\t\tif (readingTarget.firstChild) {\n\t\t\t\tcontext.markDidDomLayout();\n\t\t\t\treturn (<HTMLSpanElement>readingTarget.firstChild).offsetWidth;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\n\t\tif (this._pixelOffsetCache !== null) {\n\t\t\t// the text is guaranteed to be LTR\n\n\t\t\tconst cachedPixelOffset = this._pixelOffsetCache[column];\n\t\t\tif (cachedPixelOffset !== -1) {\n\t\t\t\treturn cachedPixelOffset;\n\t\t\t}\n\n\t\t\tconst result = this._actualReadPixelOffset(domNode, lineNumber, column, context);\n\t\t\tthis._pixelOffsetCache[column] = result;\n\t\t\treturn result;\n\t\t}\n\n\t\treturn this._actualReadPixelOffset(domNode, lineNumber, column, context);\n\t}\n\n\tprivate _actualReadPixelOffset(domNode: FastDomNode<HTMLElement>, lineNumber: number, column: number, context: DomReadingContext): number {\n\t\tif (this._characterMapping.length === 0) {\n\t\t\t// This line has no content\n\t\t\tconst r = RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode), 0, 0, 0, 0, context);\n\t\t\tif (!r || r.length === 0) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn r[0].left;\n\t\t}\n\n\t\tif (this.input.isLTR && column === this._characterMapping.length && this._isWhitespaceOnly && this._containsForeignElements === ForeignElementType.None) {\n\t\t\t// This branch helps in the case of whitespace only lines which have a width set\n\t\t\treturn this.getWidth(context);\n\t\t}\n\n\t\tconst domPosition = this._characterMapping.getDomPosition(column);\n\n\t\tconst r = RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode), domPosition.partIndex, domPosition.charIndex, domPosition.partIndex, domPosition.charIndex, context);\n\t\tif (!r || r.length === 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst result = r[0].left;\n\t\tif (this.input.isBasicASCII) {\n\t\t\tconst horizontalOffset = this._characterMapping.getHorizontalOffset(column);\n\t\t\tconst expectedResult = Math.round(this.input.spaceWidth * horizontalOffset);\n\t\t\tif (Math.abs(expectedResult - result) <= 1) {\n\t\t\t\treturn expectedResult;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _readRawVisibleRangesForRange(domNode: FastDomNode<HTMLElement>, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null {\n\n\t\tif (this.input.isLTR && startColumn === 1 && endColumn === this._characterMapping.length) {\n\t\t\t// This branch helps IE with bidi text & gives a performance boost to other browsers when reading visible ranges for an entire line\n\n\t\t\treturn [new FloatHorizontalRange(0, this.getWidth(context))];\n\t\t}\n\n\t\tconst startDomPosition = this._characterMapping.getDomPosition(startColumn);\n\t\tconst endDomPosition = this._characterMapping.getDomPosition(endColumn);\n\n\t\treturn RangeUtil.readHorizontalRanges(this._getReadingTarget(domNode), startDomPosition.partIndex, startDomPosition.charIndex, endDomPosition.partIndex, endDomPosition.charIndex, context);\n\t}\n\n\t/**\n\t * Returns the column for the text found at a specific offset inside a rendered dom node\n\t */\n\tpublic getColumnOfNodeOffset(spanNode: HTMLElement, offset: number): number {\n\t\treturn getColumnOfNodeOffset(this._characterMapping, spanNode, offset);\n\t}\n}\n\nclass WebKitRenderedViewLine extends RenderedViewLine {\n\tprotected override _readVisibleRangesForRange(domNode: FastDomNode<HTMLElement>, lineNumber: number, startColumn: number, endColumn: number, context: DomReadingContext): FloatHorizontalRange[] | null {\n\t\tconst output = super._readVisibleRangesForRange(domNode, lineNumber, startColumn, endColumn, context);\n\n\t\tif (!output || output.length === 0 || startColumn === endColumn || (startColumn === 1 && endColumn === this._characterMapping.length)) {\n\t\t\treturn output;\n\t\t}\n\n\t\t// WebKit is buggy and returns an expanded range (to contain words in some cases)\n\t\t// The last client rect is enlarged (I think)\n\t\tif (this.input.isLTR) {\n\t\t\t// This is an attempt to patch things up\n\t\t\t// Find position of last column\n\t\t\tconst endPixelOffset = this._readPixelOffset(domNode, lineNumber, endColumn, context);\n\t\t\tif (endPixelOffset !== -1) {\n\t\t\t\tconst lastRange = output[output.length - 1];\n\t\t\t\tif (lastRange.left < endPixelOffset) {\n\t\t\t\t\t// Trim down the width of the last visible range to not go after the last column's position\n\t\t\t\t\tlastRange.width = endPixelOffset - lastRange.left;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n}\n\nconst createRenderedLine: (domNode: FastDomNode<HTMLElement> | null, renderLineInput: RenderLineInput, characterMapping: CharacterMapping, containsForeignElements: ForeignElementType) => RenderedViewLine = (function () {\n\tif (browser.isWebKit) {\n\t\treturn createWebKitRenderedLine;\n\t}\n\treturn createNormalRenderedLine;\n})();\n\nfunction createWebKitRenderedLine(domNode: FastDomNode<HTMLElement> | null, renderLineInput: RenderLineInput, characterMapping: CharacterMapping, containsForeignElements: ForeignElementType): RenderedViewLine {\n\treturn new WebKitRenderedViewLine(domNode, renderLineInput, characterMapping, containsForeignElements);\n}\n\nfunction createNormalRenderedLine(domNode: FastDomNode<HTMLElement> | null, renderLineInput: RenderLineInput, characterMapping: CharacterMapping, containsForeignElements: ForeignElementType): RenderedViewLine {\n\treturn new RenderedViewLine(domNode, renderLineInput, characterMapping, containsForeignElements);\n}\n\nexport function getColumnOfNodeOffset(characterMapping: CharacterMapping, spanNode: HTMLElement, offset: number): number {\n\tconst spanNodeTextContentLength = spanNode.textContent.length;\n\n\tlet spanIndex = -1;\n\twhile (spanNode) {\n\t\tspanNode = <HTMLElement>spanNode.previousSibling;\n\t\tspanIndex++;\n\t}\n\n\treturn characterMapping.getColumn(new DomPosition(spanIndex, offset), spanNodeTextContentLength);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}