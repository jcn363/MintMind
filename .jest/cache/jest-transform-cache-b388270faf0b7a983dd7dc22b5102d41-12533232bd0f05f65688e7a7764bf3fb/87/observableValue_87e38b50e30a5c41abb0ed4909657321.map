{"version":3,"names":["cov_18mjzfodjt","actualCoverage","TransactionImpl","BaseObservable","strictEquals","DebugNameData","getLogger","DebugLocation","observableValue","nameOrOwner","initialValue","debugLocation","b","ofCaller","f","debugNameData","s","undefined","ObservableValue","_debugNameData","_equalityComparator","_value","debugName","getDebugName","constructor","handleObservableUpdated","hadValue","newValue","change","didChange","oldValue","get","set","value","tx","_tx","_setValue","observer","_observers","updateObserver","handleChange","finish","toString","debugGetState","debugSetValue","disposableObservableValue","DisposableObservableValue","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/observableInternal/observables/observableValue.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ISettableObservable, ITransaction } from '../base.js';\nimport { TransactionImpl } from '../transaction.js';\nimport { BaseObservable } from './baseObservable.js';\nimport { EqualityComparer, IDisposable, strictEquals } from '../commonFacade/deps.js';\nimport { DebugNameData } from '../debugName.js';\nimport { getLogger } from '../logging/logging.js';\nimport { DebugLocation } from '../debugLocation.js';\n\n/**\n * Creates an observable value.\n * Observers get informed when the value changes.\n * @template TChange An arbitrary type to describe how or why the value changed. Defaults to `void`.\n * Observers will receive every single change value.\n */\n\nexport function observableValue<T, TChange = void>(name: string, initialValue: T): ISettableObservable<T, TChange>;\nexport function observableValue<T, TChange = void>(owner: object, initialValue: T): ISettableObservable<T, TChange>;\nexport function observableValue<T, TChange = void>(nameOrOwner: string | object, initialValue: T, debugLocation = DebugLocation.ofCaller()): ISettableObservable<T, TChange> {\n\tlet debugNameData: DebugNameData;\n\tif (typeof nameOrOwner === 'string') {\n\t\tdebugNameData = new DebugNameData(undefined, nameOrOwner, undefined);\n\t} else {\n\t\tdebugNameData = new DebugNameData(nameOrOwner, undefined, undefined);\n\t}\n\treturn new ObservableValue(debugNameData, initialValue, strictEquals, debugLocation);\n}\n\nexport class ObservableValue<T, TChange = void>\n\textends BaseObservable<T, TChange>\n\timplements ISettableObservable<T, TChange> {\n\tprotected _value: T;\n\n\tget debugName() {\n\t\treturn this._debugNameData.getDebugName(this) ?? 'ObservableValue';\n\t}\n\n\tconstructor(\n\t\tprivate readonly _debugNameData: DebugNameData,\n\t\tinitialValue: T,\n\t\tprivate readonly _equalityComparator: EqualityComparer<T>,\n\t\tdebugLocation: DebugLocation\n\t) {\n\t\tsuper(debugLocation);\n\t\tthis._value = initialValue;\n\n\t\tgetLogger()?.handleObservableUpdated(this, { hadValue: false, newValue: initialValue, change: undefined, didChange: true, oldValue: undefined });\n\t}\n\tpublic override get(): T {\n\t\treturn this._value;\n\t}\n\n\tpublic set(value: T, tx: ITransaction | undefined, change: TChange): void {\n\t\tif (change === undefined && this._equalityComparator(this._value, value)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet _tx: TransactionImpl | undefined;\n\t\tif (!tx) {\n\t\t\ttx = _tx = new TransactionImpl(() => { }, () => `Setting ${this.debugName}`);\n\t\t}\n\t\ttry {\n\t\t\tconst oldValue = this._value;\n\t\t\tthis._setValue(value);\n\t\t\tgetLogger()?.handleObservableUpdated(this, { oldValue, newValue: value, change, didChange: true, hadValue: true });\n\n\t\t\tfor (const observer of this._observers) {\n\t\t\t\ttx.updateObserver(observer, this);\n\t\t\t\tobserver.handleChange(this, change);\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_tx) {\n\t\t\t\t_tx.finish();\n\t\t\t}\n\t\t}\n\t}\n\n\toverride toString(): string {\n\t\treturn `${this.debugName}: ${this._value}`;\n\t}\n\n\tprotected _setValue(newValue: T): void {\n\t\tthis._value = newValue;\n\t}\n\n\tpublic debugGetState() {\n\t\treturn {\n\t\t\tvalue: this._value,\n\t\t};\n\t}\n\n\tpublic debugSetValue(value: unknown) {\n\t\tthis._value = value as T;\n\t}\n}\n/**\n * A disposable observable. When disposed, its value is also disposed.\n * When a new value is set, the previous value is disposed.\n */\n\nexport function disposableObservableValue<T extends IDisposable | undefined, TChange = void>(nameOrOwner: string | object, initialValue: T, debugLocation = DebugLocation.ofCaller()): ISettableObservable<T, TChange> & IDisposable {\n\tlet debugNameData: DebugNameData;\n\tif (typeof nameOrOwner === 'string') {\n\t\tdebugNameData = new DebugNameData(undefined, nameOrOwner, undefined);\n\t} else {\n\t\tdebugNameData = new DebugNameData(nameOrOwner, undefined, undefined);\n\t}\n\treturn new DisposableObservableValue(debugNameData, initialValue, strictEquals, debugLocation);\n}\n\nexport class DisposableObservableValue<T extends IDisposable | undefined, TChange = void> extends ObservableValue<T, TChange> implements IDisposable {\n\tprotected override _setValue(newValue: T): void {\n\t\tif (this._value === newValue) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._value) {\n\t\t\tthis._value.dispose();\n\t\t}\n\t\tthis._value = newValue;\n\t}\n\n\tpublic dispose(): void {\n\t\tthis._value?.dispose();\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0BS;IAAAA,cAAA,YAAAA,CAAA;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","ignoreList":[]}