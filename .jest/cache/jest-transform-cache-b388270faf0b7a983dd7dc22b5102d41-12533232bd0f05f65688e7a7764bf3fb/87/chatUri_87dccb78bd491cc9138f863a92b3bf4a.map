{"version":3,"names":["cov_mb9c3wae4","actualCoverage","encodeBase64","VSBuffer","decodeBase64","Schemas","URI","localChatSessionType","LocalChatSessionUri","s","f","scheme","vscodeLocalChatSession","forSession","sessionId","forChatSessionTypeAndId","parseLocalSessionId","resource","parsed","parse","chatSessionType","b","undefined","encodedId","wrap","TextEncoder","encode","from","authority","path","parts","split","length","decodedSessionId","TextDecoder","decode","buffer","chatSessionResourceToId","localId","toString"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/chat/common/chatUri.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { encodeBase64, VSBuffer, decodeBase64 } from '../../../../base/common/buffer.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localChatSessionType } from './chatSessionsService.js';\n\ntype ChatSessionIdentifier = {\n\treadonly chatSessionType: string;\n\treadonly sessionId: string;\n};\n\n\nexport namespace LocalChatSessionUri {\n\n\texport const scheme = Schemas.vscodeLocalChatSession;\n\n\texport function forSession(sessionId: string): URI {\n\t\treturn forChatSessionTypeAndId(localChatSessionType, sessionId);\n\t}\n\n\texport function parseLocalSessionId(resource: URI): string | undefined {\n\t\tconst parsed = parse(resource);\n\t\treturn parsed?.chatSessionType === localChatSessionType ? parsed.sessionId : undefined;\n\t}\n\n\t/**\n\t * @deprecated Does not support non-local sessions\n\t */\n\texport function forChatSessionTypeAndId(chatSessionType: string, sessionId: string): URI {\n\t\tconst encodedId = encodeBase64(VSBuffer.wrap(new TextEncoder().encode(sessionId)), false, true);\n\t\t// TODO: Do we need to encode the authority too?\n\t\treturn URI.from({ scheme, authority: chatSessionType, path: '/' + encodedId });\n\t}\n\n\t/**\n\t * @deprecated Legacy parser that supports non-local sessions.\n\t */\n\texport function parse(resource: URI): ChatSessionIdentifier | undefined {\n\t\tif (resource.scheme !== scheme) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (!resource.authority) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst parts = resource.path.split('/');\n\t\tif (parts.length !== 2) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst chatSessionType = resource.authority;\n\t\tconst decodedSessionId = decodeBase64(parts[1]);\n\t\treturn { chatSessionType, sessionId: new TextDecoder().decode(decodedSessionId.buffer) };\n\t}\n}\n\n/**\n * Converts a chat session resource URI to a string ID.\n *\n * This exists mainly for backwards compatibility with existing code that uses string IDs in telemetry and storage.\n */\nexport function chatSessionResourceToId(resource: URI): string {\n\t// If we have a local session, prefer using just the id part\n\tconst localId = LocalChatSessionUri.parseLocalSessionId(resource);\n\tif (localId) {\n\t\treturn localId;\n\t}\n\n\treturn resource.toString();\n}\n"],"mappings":"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","ignoreList":[]}