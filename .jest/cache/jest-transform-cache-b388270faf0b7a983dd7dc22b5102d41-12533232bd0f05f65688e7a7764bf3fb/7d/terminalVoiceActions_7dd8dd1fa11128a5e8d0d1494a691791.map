{"version":3,"names":["cov_1bwlugmpd2","actualCoverage","localize","localize2","ICommandService","ContextKeyExpr","IContextKeyService","IDialogService","IExtensionManagementService","IInstantiationService","IWorkbenchExtensionEnablementService","HasSpeechProvider","SpeechToTextInProgress","registerActiveInstanceAction","sharedWhenClause","TerminalContextKeys","TerminalVoiceSession","registerTerminalVoiceActions","f","s","id","title","precondition","and","toNegated","terminalAvailable","f1","run","activeInstance","c","accessor","contextKeyService","get","commandService","dialogService","workbenchExtensionEnablementService","extensionManagementService","getValue","b","instantiationService","getInstance","start","extensions","getInstalled","extension","find","identifier","extensionIsDisabled","isEnabled","message","primaryButton","setEnablement","executeCommand","detail","confirmed","confirm","type","terminalDictationInProgress","keybinding","primary","weight","stop"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/terminalContrib/voice/browser/terminalVoiceActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IExtensionManagementService } from '../../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { EnablementState, IWorkbenchExtensionEnablementService } from '../../../../services/extensionManagement/common/extensionManagement.js';\nimport { HasSpeechProvider, SpeechToTextInProgress } from '../../../speech/common/speechService.js';\nimport { registerActiveInstanceAction, sharedWhenClause } from '../../../terminal/browser/terminalActions.js';\nimport { TerminalCommandId } from '../../../terminal/common/terminal.js';\nimport { TerminalContextKeys } from '../../../terminal/common/terminalContextKey.js';\nimport { TerminalVoiceSession } from './terminalVoice.js';\n\nexport function registerTerminalVoiceActions() {\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.StartVoice,\n\t\ttitle: localize2('workbench.action.terminal.startDictation', \"Start Dictation in Terminal\"),\n\t\tprecondition: ContextKeyExpr.and(\n\t\t\tSpeechToTextInProgress.toNegated(),\n\t\t\tsharedWhenClause.terminalAvailable\n\t\t),\n\t\tf1: true,\n\t\trun: async (activeInstance, c, accessor) => {\n\t\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\tconst workbenchExtensionEnablementService = accessor.get(IWorkbenchExtensionEnablementService);\n\t\t\tconst extensionManagementService = accessor.get(IExtensionManagementService);\n\t\t\tif (HasSpeechProvider.getValue(contextKeyService)) {\n\t\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\t\tTerminalVoiceSession.getInstance(instantiationService).start();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst extensions = await extensionManagementService.getInstalled();\n\t\t\tconst extension = extensions.find(extension => extension.identifier.id === 'ms-vscode.vscode-speech');\n\t\t\tconst extensionIsDisabled = extension && !workbenchExtensionEnablementService.isEnabled(extension);\n\t\t\tlet run: () => Promise<unknown>;\n\t\t\tlet message: string;\n\t\t\tlet primaryButton: string;\n\t\t\tif (extensionIsDisabled) {\n\t\t\t\tmessage = localize('terminal.voice.enableSpeechExtension', \"Would you like to enable the speech extension?\");\n\t\t\t\tprimaryButton = localize('enableExtension', \"Enable Extension\");\n\t\t\t\trun = () => workbenchExtensionEnablementService.setEnablement([extension], EnablementState.EnabledWorkspace);\n\t\t\t} else {\n\t\t\t\tmessage = localize('terminal.voice.installSpeechExtension', \"Would you like to install 'VS Code Speech' extension from 'Microsoft'?\");\n\t\t\t\trun = () => commandService.executeCommand('workbench.extensions.installExtension', 'ms-vscode.vscode-speech');\n\t\t\t\tprimaryButton = localize('installExtension', \"Install Extension\");\n\t\t\t}\n\t\t\tconst detail = localize('terminal.voice.detail', \"Microphone support requires this extension.\");\n\t\t\tconst confirmed = await dialogService.confirm({ message, primaryButton, type: 'info', detail });\n\t\t\tif (confirmed.confirmed) {\n\t\t\t\tawait run();\n\t\t\t}\n\t\t},\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.StopVoice,\n\t\ttitle: localize2('workbench.action.terminal.stopDictation', \"Stop Dictation in Terminal\"),\n\t\tprecondition: TerminalContextKeys.terminalDictationInProgress,\n\t\tf1: true,\n\t\tkeybinding: {\n\t\t\tprimary: KeyCode.Escape,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib + 100\n\t\t},\n\t\trun: (activeInstance, c, accessor) => {\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\tTerminalVoiceSession.getInstance(instantiationService).stop(true);\n\t\t}\n\t});\n}\n"],"mappings":"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","ignoreList":[]}