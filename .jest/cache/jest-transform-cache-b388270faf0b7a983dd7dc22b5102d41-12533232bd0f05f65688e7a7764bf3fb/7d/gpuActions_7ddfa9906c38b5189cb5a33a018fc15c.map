{"version":3,"names":["cov_tkde7lpvj","actualCoverage","getActiveWindow","VSBuffer","URI","localize","localize2","IConfigurationService","ContextKeyExpr","IFileService","IInstantiationService","ILogService","IQuickInputService","IWorkspaceContextService","EditorAction","registerEditorAction","ensureNonNullable","GlyphRasterizer","ViewGpuContext","DebugEditorGpuRendererAction","constructor","f","s","id","label","precondition","true","run","accessor","editor","instantiationService","get","quickInputService","choice","pick","canPickMany","b","invokeFunction","logService","atlas","error","stats","getStats","info","join","workspaceContextService","fileService","folders","getWorkspace","length","promises","layerIndex","page","pages","entries","push","writeFile","joinPath","uri","wrap","Uint8Array","source","convertToBlob","arrayBuffer","getUsagePreview","Promise","all","configurationService","fontFamily","getValue","fontSize","rasterizer","devicePixelRatio","decorationStyleCache","chars","input","prompt","codePoint","match","groups","undefined","String","fromCodePoint","parseInt","tokenMetadata","charMetadata","rasterizedGlyph","getGlyph","imageData","pageIndex","getContext","getImageData","x","y","w","h","canvas","OffscreenCanvas","width","height","ctx","putImageData","blob","type","resource","replaceAll"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/contrib/gpu/browser/gpuActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveWindow } from '../../../../base/browser/dom.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport type { ICodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction, type ServicesAccessor } from '../../../browser/editorExtensions.js';\nimport { ensureNonNullable } from '../../../browser/gpu/gpuUtils.js';\nimport { GlyphRasterizer } from '../../../browser/gpu/raster/glyphRasterizer.js';\nimport { ViewGpuContext } from '../../../browser/gpu/viewGpuContext.js';\n\nclass DebugEditorGpuRendererAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.debugEditorGpuRenderer',\n\t\t\tlabel: localize2('gpuDebug.label', \"Developer: Debug Editor GPU Renderer\"),\n\t\t\t// TODO: Why doesn't `ContextKeyExpr.equals('config:editor.experimentalGpuAcceleration', 'on')` work?\n\t\t\tprecondition: ContextKeyExpr.true(),\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, editor: ICodeEditor): Promise<void> {\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst choice = await quickInputService.pick([\n\t\t\t{\n\t\t\t\tlabel: localize('logTextureAtlasStats.label', \"Log Texture Atlas Stats\"),\n\t\t\t\tid: 'logTextureAtlasStats',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: localize('saveTextureAtlas.label', \"Save Texture Atlas\"),\n\t\t\t\tid: 'saveTextureAtlas',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: localize('drawGlyph.label', \"Draw Glyph\"),\n\t\t\t\tid: 'drawGlyph',\n\t\t\t},\n\t\t], { canPickMany: false });\n\t\tif (!choice) {\n\t\t\treturn;\n\t\t}\n\t\tswitch (choice.id) {\n\t\t\tcase 'logTextureAtlasStats':\n\t\t\t\tinstantiationService.invokeFunction(accessor => {\n\t\t\t\t\tconst logService = accessor.get(ILogService);\n\n\t\t\t\t\tconst atlas = ViewGpuContext.atlas;\n\t\t\t\t\tif (!ViewGpuContext.atlas) {\n\t\t\t\t\t\tlogService.error('No texture atlas found');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst stats = atlas.getStats();\n\t\t\t\t\tlogService.info(['Texture atlas stats', ...stats].join('\\n\\n'));\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'saveTextureAtlas':\n\t\t\t\tinstantiationService.invokeFunction(async accessor => {\n\t\t\t\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\t\t\t\t\tconst fileService = accessor.get(IFileService);\n\t\t\t\t\tconst folders = workspaceContextService.getWorkspace().folders;\n\t\t\t\t\tif (folders.length > 0) {\n\t\t\t\t\t\tconst atlas = ViewGpuContext.atlas;\n\t\t\t\t\t\tconst promises = [];\n\t\t\t\t\t\tfor (const [layerIndex, page] of atlas.pages.entries()) {\n\t\t\t\t\t\t\tpromises.push(...[\n\t\t\t\t\t\t\t\tfileService.writeFile(\n\t\t\t\t\t\t\t\t\tURI.joinPath(folders[0].uri, `textureAtlasPage${layerIndex}_actual.png`),\n\t\t\t\t\t\t\t\t\tVSBuffer.wrap(new Uint8Array(await (await page.source.convertToBlob()).arrayBuffer()))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tfileService.writeFile(\n\t\t\t\t\t\t\t\t\tURI.joinPath(folders[0].uri, `textureAtlasPage${layerIndex}_usage.png`),\n\t\t\t\t\t\t\t\t\tVSBuffer.wrap(new Uint8Array(await (await page.getUsagePreview()).arrayBuffer()))\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tawait Promise.all(promises);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\tcase 'drawGlyph':\n\t\t\t\tinstantiationService.invokeFunction(async accessor => {\n\t\t\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\t\t\tconst fileService = accessor.get(IFileService);\n\t\t\t\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\t\t\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\n\t\t\t\t\tconst folders = workspaceContextService.getWorkspace().folders;\n\t\t\t\t\tif (folders.length === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst atlas = ViewGpuContext.atlas;\n\t\t\t\t\tconst fontFamily = configurationService.getValue<string>('editor.fontFamily');\n\t\t\t\t\tconst fontSize = configurationService.getValue<number>('editor.fontSize');\n\t\t\t\t\tconst rasterizer = new GlyphRasterizer(fontSize, fontFamily, getActiveWindow().devicePixelRatio, ViewGpuContext.decorationStyleCache);\n\t\t\t\t\tlet chars = await quickInputService.input({\n\t\t\t\t\t\tprompt: 'Enter a character to draw (prefix with 0x for code point))'\n\t\t\t\t\t});\n\t\t\t\t\tif (!chars) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst codePoint = chars.match(/0x(?<codePoint>[0-9a-f]+)/i)?.groups?.codePoint;\n\t\t\t\t\tif (codePoint !== undefined) {\n\t\t\t\t\t\tchars = String.fromCodePoint(parseInt(codePoint, 16));\n\t\t\t\t\t}\n\t\t\t\t\tconst tokenMetadata = 0;\n\t\t\t\t\tconst charMetadata = 0;\n\t\t\t\t\tconst rasterizedGlyph = atlas.getGlyph(rasterizer, chars, tokenMetadata, charMetadata, 0);\n\t\t\t\t\tif (!rasterizedGlyph) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst imageData = atlas.pages[rasterizedGlyph.pageIndex].source.getContext('2d')?.getImageData(\n\t\t\t\t\t\trasterizedGlyph.x,\n\t\t\t\t\t\trasterizedGlyph.y,\n\t\t\t\t\t\trasterizedGlyph.w,\n\t\t\t\t\t\trasterizedGlyph.h\n\t\t\t\t\t);\n\t\t\t\t\tif (!imageData) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst canvas = new OffscreenCanvas(imageData.width, imageData.height);\n\t\t\t\t\tconst ctx = ensureNonNullable(canvas.getContext('2d'));\n\t\t\t\t\tctx.putImageData(imageData, 0, 0);\n\t\t\t\t\tconst blob = await canvas.convertToBlob({ type: 'image/png' });\n\t\t\t\t\tconst resource = URI.joinPath(folders[0].uri, `glyph_${chars}_${tokenMetadata}_${fontSize}px_${fontFamily.replaceAll(/[,\\\\\\/\\.'\\s]/g, '_')}.png`);\n\t\t\t\t\tawait fileService.writeFile(resource, VSBuffer.wrap(new Uint8Array(await blob.arrayBuffer())));\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nregisterEditorAction(DebugEditorGpuRendererAction);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAiBS;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAA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","ignoreList":[]}