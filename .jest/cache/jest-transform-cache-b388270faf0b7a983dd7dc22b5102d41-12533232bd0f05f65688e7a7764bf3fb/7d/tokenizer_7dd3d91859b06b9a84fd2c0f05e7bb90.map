{"version":3,"names":["cov_2mvb9v5bs4","actualCoverage","NotSupportedError","TokenMetadata","TextAstNode","lengthAdd","lengthDiff","lengthGetColumnCountIfZeroLineCount","lengthToObj","lengthZero","toLength","SmallImmutableSet","Token","length","kind","bracketId","bracketIds","astNode","constructor","f","s","TextBufferTokenizer","textModel","bracketTokens","textBufferLineCount","textBufferLastLineLength","reader","NonPeekableTextBufferTokenizer","_offset","didPeek","peeked","getLineCount","getLineLength","offset","getText","getValue","skip","obj","setPosition","lineCount","columnCount","read","token","b","peek","lineIdx","line","lineCharOffset","lineTokens","lineTokenOffset","column","findTokenIndexAtOffset","peekedToken","tokenization","getLineTokens","getLineContent","startLineIdx","startLineCharOffset","lengthHeuristic","tokenCount","getCount","peekedBracketToken","tokenMetadata","getMetadata","isOther","getTokenType","containsBracketType","containsBalancedBrackets","endOffset","getEndOffset","languageId","getLanguageId","text","substring","brackets","getSingleLanguageBracketTokens","regexp","regExpGlobal","lastIndex","match","exec","getToken","index","getEmpty","FastTokenizer","tokens","idx","regExpStr","getRegExpStr","RegExp","curLineCount","lastLineBreakOffset","lastTokenEndOffset","lastTokenEndLine","smallTextTokens0Line","i","push","smallTextTokens1Line","curOffset","value","colCount"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { NotSupportedError } from '../../../../../base/common/errors.js';\nimport { StandardTokenType, TokenMetadata } from '../../../encodedTokenAttributes.js';\nimport { IViewLineTokens } from '../../../tokens/lineTokens.js';\nimport { BracketAstNode, TextAstNode } from './ast.js';\nimport { BracketTokens, LanguageAgnosticBracketTokens } from './brackets.js';\nimport { Length, lengthAdd, lengthDiff, lengthGetColumnCountIfZeroLineCount, lengthToObj, lengthZero, toLength } from './length.js';\nimport { SmallImmutableSet } from './smallImmutableSet.js';\n\nexport interface Tokenizer {\n\treadonly offset: Length;\n\treadonly length: Length;\n\n\tread(): Token | null;\n\tpeek(): Token | null;\n\tskip(length: Length): void;\n\n\tgetText(): string;\n}\n\nexport const enum TokenKind {\n\tText = 0,\n\tOpeningBracket = 1,\n\tClosingBracket = 2,\n}\n\nexport type OpeningBracketId = number;\n\nexport class Token {\n\tconstructor(\n\t\treadonly length: Length,\n\t\treadonly kind: TokenKind,\n\t\t/**\n\t\t * If this token is an opening bracket, this is the id of the opening bracket.\n\t\t * If this token is a closing bracket, this is the id of the first opening bracket that is closed by this bracket.\n\t\t * Otherwise, it is -1.\n\t\t */\n\t\treadonly bracketId: OpeningBracketId,\n\t\t/**\n\t\t * If this token is an opening bracket, this just contains `bracketId`.\n\t\t * If this token is a closing bracket, this lists all opening bracket ids, that it closes.\n\t\t * Otherwise, it is empty.\n\t\t */\n\t\treadonly bracketIds: SmallImmutableSet<OpeningBracketId>,\n\t\treadonly astNode: BracketAstNode | TextAstNode | undefined,\n\t) { }\n}\n\nexport interface ITokenizerSource {\n\tgetValue(): string;\n\tgetLineCount(): number;\n\tgetLineLength(lineNumber: number): number;\n\n\ttokenization: {\n\t\tgetLineTokens(lineNumber: number): IViewLineTokens;\n\t};\n}\n\nexport class TextBufferTokenizer implements Tokenizer {\n\tprivate readonly textBufferLineCount: number;\n\tprivate readonly textBufferLastLineLength: number;\n\n\tprivate readonly reader;\n\n\tconstructor(\n\t\tprivate readonly textModel: ITokenizerSource,\n\t\tprivate readonly bracketTokens: LanguageAgnosticBracketTokens\n\t) {\n\t\tthis.reader = new NonPeekableTextBufferTokenizer(this.textModel, this.bracketTokens);\n\t\tthis._offset = lengthZero;\n\t\tthis.didPeek = false;\n\t\tthis.peeked = null;\n\t\tthis.textBufferLineCount = textModel.getLineCount();\n\t\tthis.textBufferLastLineLength = textModel.getLineLength(this.textBufferLineCount);\n\t}\n\n\tprivate _offset: Length;\n\n\tget offset() {\n\t\treturn this._offset;\n\t}\n\n\tget length() {\n\t\treturn toLength(this.textBufferLineCount - 1, this.textBufferLastLineLength);\n\t}\n\n\tgetText() {\n\t\treturn this.textModel.getValue();\n\t}\n\n\tskip(length: Length): void {\n\t\tthis.didPeek = false;\n\t\tthis._offset = lengthAdd(this._offset, length);\n\t\tconst obj = lengthToObj(this._offset);\n\t\tthis.reader.setPosition(obj.lineCount, obj.columnCount);\n\t}\n\n\tprivate didPeek;\n\tprivate peeked: Token | null;\n\n\tread(): Token | null {\n\t\tlet token: Token | null;\n\t\tif (this.peeked) {\n\t\t\tthis.didPeek = false;\n\t\t\ttoken = this.peeked;\n\t\t} else {\n\t\t\ttoken = this.reader.read();\n\t\t}\n\t\tif (token) {\n\t\t\tthis._offset = lengthAdd(this._offset, token.length);\n\t\t}\n\t\treturn token;\n\t}\n\n\tpeek(): Token | null {\n\t\tif (!this.didPeek) {\n\t\t\tthis.peeked = this.reader.read();\n\t\t\tthis.didPeek = true;\n\t\t}\n\t\treturn this.peeked;\n\t}\n}\n\n/**\n * Does not support peek.\n*/\nclass NonPeekableTextBufferTokenizer {\n\tprivate readonly textBufferLineCount: number;\n\tprivate readonly textBufferLastLineLength: number;\n\n\tconstructor(private readonly textModel: ITokenizerSource, private readonly bracketTokens: LanguageAgnosticBracketTokens) {\n\t\tthis.textBufferLineCount = textModel.getLineCount();\n\t\tthis.textBufferLastLineLength = textModel.getLineLength(this.textBufferLineCount);\n\t}\n\n\tprivate lineIdx = 0;\n\tprivate line: string | null = null;\n\tprivate lineCharOffset = 0;\n\tprivate lineTokens: IViewLineTokens | null = null;\n\tprivate lineTokenOffset = 0;\n\n\tpublic setPosition(lineIdx: number, column: number): void {\n\t\t// We must not jump into a token!\n\t\tif (lineIdx === this.lineIdx) {\n\t\t\tthis.lineCharOffset = column;\n\t\t\tif (this.line !== null) {\n\t\t\t\tthis.lineTokenOffset = this.lineCharOffset === 0 ? 0 : this.lineTokens!.findTokenIndexAtOffset(this.lineCharOffset);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.lineIdx = lineIdx;\n\t\t\tthis.lineCharOffset = column;\n\t\t\tthis.line = null;\n\t\t}\n\t\tthis.peekedToken = null;\n\t}\n\n\t/** Must be a zero line token. The end of the document cannot be peeked. */\n\tprivate peekedToken: Token | null = null;\n\n\tpublic read(): Token | null {\n\t\tif (this.peekedToken) {\n\t\t\tconst token = this.peekedToken;\n\t\t\tthis.peekedToken = null;\n\t\t\tthis.lineCharOffset += lengthGetColumnCountIfZeroLineCount(token.length);\n\t\t\treturn token;\n\t\t}\n\n\t\tif (this.lineIdx > this.textBufferLineCount - 1 || (this.lineIdx === this.textBufferLineCount - 1 && this.lineCharOffset >= this.textBufferLastLineLength)) {\n\t\t\t// We are after the end\n\t\t\treturn null;\n\t\t}\n\n\t\tif (this.line === null) {\n\t\t\tthis.lineTokens = this.textModel.tokenization.getLineTokens(this.lineIdx + 1);\n\t\t\tthis.line = this.lineTokens.getLineContent();\n\t\t\tthis.lineTokenOffset = this.lineCharOffset === 0 ? 0 : this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset);\n\t\t}\n\n\t\tconst startLineIdx = this.lineIdx;\n\t\tconst startLineCharOffset = this.lineCharOffset;\n\n\t\t// limits the length of text tokens.\n\t\t// If text tokens get too long, incremental updates will be slow\n\t\tlet lengthHeuristic = 0;\n\t\twhile (true) {\n\t\t\tconst lineTokens = this.lineTokens!;\n\t\t\tconst tokenCount = lineTokens.getCount();\n\n\t\t\tlet peekedBracketToken: Token | null = null;\n\n\t\t\tif (this.lineTokenOffset < tokenCount) {\n\t\t\t\tconst tokenMetadata = lineTokens.getMetadata(this.lineTokenOffset);\n\t\t\t\twhile (this.lineTokenOffset + 1 < tokenCount && tokenMetadata === lineTokens.getMetadata(this.lineTokenOffset + 1)) {\n\t\t\t\t\t// Skip tokens that are identical.\n\t\t\t\t\t// Sometimes, (bracket) identifiers are split up into multiple tokens.\n\t\t\t\t\tthis.lineTokenOffset++;\n\t\t\t\t}\n\n\t\t\t\tconst isOther = TokenMetadata.getTokenType(tokenMetadata) === StandardTokenType.Other;\n\t\t\t\tconst containsBracketType = TokenMetadata.containsBalancedBrackets(tokenMetadata);\n\n\t\t\t\tconst endOffset = lineTokens.getEndOffset(this.lineTokenOffset);\n\t\t\t\t// Is there a bracket token next? Only consume text.\n\t\t\t\tif (containsBracketType && isOther && this.lineCharOffset < endOffset) {\n\t\t\t\t\tconst languageId = lineTokens.getLanguageId(this.lineTokenOffset);\n\t\t\t\t\tconst text = this.line.substring(this.lineCharOffset, endOffset);\n\n\t\t\t\t\tconst brackets = this.bracketTokens.getSingleLanguageBracketTokens(languageId);\n\t\t\t\t\tconst regexp = brackets.regExpGlobal;\n\t\t\t\t\tif (regexp) {\n\t\t\t\t\t\tregexp.lastIndex = 0;\n\t\t\t\t\t\tconst match = regexp.exec(text);\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\tpeekedBracketToken = brackets.getToken(match[0])!;\n\t\t\t\t\t\t\tif (peekedBracketToken) {\n\t\t\t\t\t\t\t\t// Consume leading text of the token\n\t\t\t\t\t\t\t\tthis.lineCharOffset += match.index;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlengthHeuristic += endOffset - this.lineCharOffset;\n\n\t\t\t\tif (peekedBracketToken) {\n\t\t\t\t\t// Don't skip the entire token, as a single token could contain multiple brackets.\n\n\t\t\t\t\tif (startLineIdx !== this.lineIdx || startLineCharOffset !== this.lineCharOffset) {\n\t\t\t\t\t\t// There is text before the bracket\n\t\t\t\t\t\tthis.peekedToken = peekedBracketToken;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Consume the peeked token\n\t\t\t\t\t\tthis.lineCharOffset += lengthGetColumnCountIfZeroLineCount(peekedBracketToken.length);\n\t\t\t\t\t\treturn peekedBracketToken;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Skip the entire token, as the token contains no brackets at all.\n\t\t\t\t\tthis.lineTokenOffset++;\n\t\t\t\t\tthis.lineCharOffset = endOffset;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.lineIdx === this.textBufferLineCount - 1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.lineIdx++;\n\t\t\t\tthis.lineTokens = this.textModel.tokenization.getLineTokens(this.lineIdx + 1);\n\t\t\t\tthis.lineTokenOffset = 0;\n\t\t\t\tthis.line = this.lineTokens.getLineContent();\n\t\t\t\tthis.lineCharOffset = 0;\n\n\t\t\t\tlengthHeuristic += 33; // max 1000/33 = 30 lines\n\t\t\t\t// This limits the amount of work to recompute min-indentation\n\n\t\t\t\tif (lengthHeuristic > 1000) {\n\t\t\t\t\t// only break (automatically) at the end of line.\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (lengthHeuristic > 1500) {\n\t\t\t\t// Eventually break regardless of the line length so that\n\t\t\t\t// very long lines do not cause bad performance.\n\t\t\t\t// This effective limits max indentation to 500, as\n\t\t\t\t// indentation is not computed across multiple text nodes.\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// If a token contains some proper indentation, it also contains \\n{INDENTATION+}(?!{INDENTATION}),\n\t\t// unless the line is too long.\n\t\t// Thus, the min indentation of the document is the minimum min indentation of every text node.\n\t\tconst length = lengthDiff(startLineIdx, startLineCharOffset, this.lineIdx, this.lineCharOffset);\n\t\treturn new Token(length, TokenKind.Text, -1, SmallImmutableSet.getEmpty(), new TextAstNode(length));\n\t}\n}\n\nexport class FastTokenizer implements Tokenizer {\n\tprivate _offset: Length = lengthZero;\n\tprivate readonly tokens: readonly Token[];\n\tprivate idx = 0;\n\n\tconstructor(private readonly text: string, brackets: BracketTokens) {\n\t\tconst regExpStr = brackets.getRegExpStr();\n\t\tconst regexp = regExpStr ? new RegExp(regExpStr + '|\\n', 'gi') : null;\n\n\t\tconst tokens: Token[] = [];\n\n\t\tlet match: RegExpExecArray | null;\n\t\tlet curLineCount = 0;\n\t\tlet lastLineBreakOffset = 0;\n\n\t\tlet lastTokenEndOffset = 0;\n\t\tlet lastTokenEndLine = 0;\n\n\t\tconst smallTextTokens0Line: Token[] = [];\n\t\tfor (let i = 0; i < 60; i++) {\n\t\t\tsmallTextTokens0Line.push(\n\t\t\t\tnew Token(\n\t\t\t\t\ttoLength(0, i), TokenKind.Text, -1, SmallImmutableSet.getEmpty(),\n\t\t\t\t\tnew TextAstNode(toLength(0, i))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tconst smallTextTokens1Line: Token[] = [];\n\t\tfor (let i = 0; i < 60; i++) {\n\t\t\tsmallTextTokens1Line.push(\n\t\t\t\tnew Token(\n\t\t\t\t\ttoLength(1, i), TokenKind.Text, -1, SmallImmutableSet.getEmpty(),\n\t\t\t\t\tnew TextAstNode(toLength(1, i))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\tif (regexp) {\n\t\t\tregexp.lastIndex = 0;\n\t\t\t// If a token contains indentation, it also contains \\n{INDENTATION+}(?!{INDENTATION})\n\t\t\twhile ((match = regexp.exec(text)) !== null) {\n\t\t\t\tconst curOffset = match.index;\n\t\t\t\tconst value = match[0];\n\t\t\t\tif (value === '\\n') {\n\t\t\t\t\tcurLineCount++;\n\t\t\t\t\tlastLineBreakOffset = curOffset + 1;\n\t\t\t\t} else {\n\t\t\t\t\tif (lastTokenEndOffset !== curOffset) {\n\t\t\t\t\t\tlet token: Token;\n\t\t\t\t\t\tif (lastTokenEndLine === curLineCount) {\n\t\t\t\t\t\t\tconst colCount = curOffset - lastTokenEndOffset;\n\t\t\t\t\t\t\tif (colCount < smallTextTokens0Line.length) {\n\t\t\t\t\t\t\t\ttoken = smallTextTokens0Line[colCount];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst length = toLength(0, colCount);\n\t\t\t\t\t\t\t\ttoken = new Token(length, TokenKind.Text, -1, SmallImmutableSet.getEmpty(), new TextAstNode(length));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst lineCount = curLineCount - lastTokenEndLine;\n\t\t\t\t\t\t\tconst colCount = curOffset - lastLineBreakOffset;\n\t\t\t\t\t\t\tif (lineCount === 1 && colCount < smallTextTokens1Line.length) {\n\t\t\t\t\t\t\t\ttoken = smallTextTokens1Line[colCount];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst length = toLength(lineCount, colCount);\n\t\t\t\t\t\t\t\ttoken = new Token(length, TokenKind.Text, -1, SmallImmutableSet.getEmpty(), new TextAstNode(length));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttokens.push(token);\n\t\t\t\t\t}\n\n\t\t\t\t\t// value is matched by regexp, so the token must exist\n\t\t\t\t\ttokens.push(brackets.getToken(value)!);\n\n\t\t\t\t\tlastTokenEndOffset = curOffset + value.length;\n\t\t\t\t\tlastTokenEndLine = curLineCount;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst offset = text.length;\n\n\t\tif (lastTokenEndOffset !== offset) {\n\t\t\tconst length = (lastTokenEndLine === curLineCount)\n\t\t\t\t? toLength(0, offset - lastTokenEndOffset)\n\t\t\t\t: toLength(curLineCount - lastTokenEndLine, offset - lastLineBreakOffset);\n\t\t\ttokens.push(new Token(length, TokenKind.Text, -1, SmallImmutableSet.getEmpty(), new TextAstNode(length)));\n\t\t}\n\n\t\tthis.length = toLength(curLineCount, offset - lastLineBreakOffset);\n\t\tthis.tokens = tokens;\n\t}\n\n\tget offset(): Length {\n\t\treturn this._offset;\n\t}\n\n\treadonly length: Length;\n\n\tread(): Token | null {\n\t\treturn this.tokens[this.idx++] || null;\n\t}\n\n\tpeek(): Token | null {\n\t\treturn this.tokens[this.idx] || null;\n\t}\n\n\tskip(length: Length): void {\n\t\tthrow new NotSupportedError();\n\t}\n\n\tgetText(): string {\n\t\treturn this.text;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}