{"version":3,"names":["cov_f87j3mfyf","actualCoverage","importAMDNodeModule","RunOnceScheduler","observableValue","setTimeout0","LineRange","MirrorTextModel","TokenizerWithStateStore","ContiguousMultilineTokensBuilder","LineTokens","TextMateTokenizationSupport","TokenizationSupportWithLineLimit","Disposable","TextMateWorkerTokenizer","_host","_languageId","_encodedLanguageId","_tokenizerWithStateStore","s","_isDisposed","_maxTokenizationLineLength","_diffStateStacksRefEqFn","_tokenizeDebouncer","f","_tokenize","constructor","uri","lines","eol","versionId","maxTokenizationLineLength","set","undefined","_resetTokenization","dispose","onLanguageId","languageId","encodedLanguageId","onEvents","e","store","acceptChanges","changes","schedule","acceptMaxTokenizationLineLength","retokenize","startLineNumber","endLineNumberExclusive","b","invalidateEndStateRange","r","getOrCreateGrammar","grammar","tokenizationSupport","initialState","timeMs","lineLength","isRandomSample","reportTokenizationTime","sourceExtensionId","None","_lines","length","diffStateStacksRefEq","startTime","Date","getTime","tokenizedLines","tokenBuilder","stateDeltaBuilder","StateDeltaBuilder","lineToTokenize","getFirstInvalidLine","text","lineNumber","tokenizeEncoded","startState","setEndState","endState","delta","setState","convertToEndOffset","tokens","add","deltaMs","stateDeltas","getStateDeltas","setTokensAndStates","_versionId","serialize","_lastStartLineNumber","_stateDeltas","stackDiff","push"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { importAMDNodeModule } from '../../../../../../amdX.js';\nimport { RunOnceScheduler } from '../../../../../../base/common/async.js';\nimport { observableValue } from '../../../../../../base/common/observable.js';\nimport { setTimeout0 } from '../../../../../../base/common/platform.js';\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { LineRange } from '../../../../../../editor/common/core/ranges/lineRange.js';\nimport { LanguageId } from '../../../../../../editor/common/encodedTokenAttributes.js';\nimport { IModelChangedEvent, MirrorTextModel } from '../../../../../../editor/common/model/mirrorTextModel.js';\nimport { TokenizerWithStateStore } from '../../../../../../editor/common/model/textModelTokens.js';\nimport { ContiguousMultilineTokensBuilder } from '../../../../../../editor/common/tokens/contiguousMultilineTokensBuilder.js';\nimport { LineTokens } from '../../../../../../editor/common/tokens/lineTokens.js';\nimport { TextMateTokenizationSupport } from '../../tokenizationSupport/textMateTokenizationSupport.js';\nimport { TokenizationSupportWithLineLimit } from '../../tokenizationSupport/tokenizationSupportWithLineLimit.js';\nimport type { StackDiff, StateStack, diffStateStacksRefEq } from 'vscode-textmate';\nimport { ICreateGrammarResult } from '../../../common/TMGrammarFactory.js';\nimport { StateDeltas } from './textMateTokenizationWorker.worker.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\n\nexport interface TextMateModelTokenizerHost {\n\tgetOrCreateGrammar(languageId: string, encodedLanguageId: LanguageId): Promise<ICreateGrammarResult | null>;\n\tsetTokensAndStates(versionId: number, tokens: Uint8Array, stateDeltas: StateDeltas[]): void;\n\treportTokenizationTime(timeMs: number, languageId: string, sourceExtensionId: string | undefined, lineLength: number, isRandomSample: boolean): void;\n}\n\nexport class TextMateWorkerTokenizer extends MirrorTextModel {\n\tprivate _tokenizerWithStateStore: TokenizerWithStateStore<StateStack> | null = null;\n\tprivate _isDisposed: boolean = false;\n\tprivate readonly _maxTokenizationLineLength = observableValue(this, -1);\n\tprivate _diffStateStacksRefEqFn?: typeof diffStateStacksRefEq;\n\tprivate readonly _tokenizeDebouncer = new RunOnceScheduler(() => this._tokenize(), 10);\n\n\tconstructor(\n\t\turi: URI,\n\t\tlines: string[],\n\t\teol: string,\n\t\tversionId: number,\n\t\tprivate readonly _host: TextMateModelTokenizerHost,\n\t\tprivate _languageId: string,\n\t\tprivate _encodedLanguageId: LanguageId,\n\t\tmaxTokenizationLineLength: number,\n\t) {\n\t\tsuper(uri, lines, eol, versionId);\n\t\tthis._maxTokenizationLineLength.set(maxTokenizationLineLength, undefined);\n\t\tthis._resetTokenization();\n\t}\n\n\tpublic override dispose(): void {\n\t\tthis._isDisposed = true;\n\t\tsuper.dispose();\n\t}\n\n\tpublic onLanguageId(languageId: string, encodedLanguageId: LanguageId): void {\n\t\tthis._languageId = languageId;\n\t\tthis._encodedLanguageId = encodedLanguageId;\n\t\tthis._resetTokenization();\n\t}\n\n\toverride onEvents(e: IModelChangedEvent): void {\n\t\tsuper.onEvents(e);\n\n\t\tthis._tokenizerWithStateStore?.store.acceptChanges(e.changes);\n\t\tthis._tokenizeDebouncer.schedule();\n\t}\n\n\tpublic acceptMaxTokenizationLineLength(maxTokenizationLineLength: number): void {\n\t\tthis._maxTokenizationLineLength.set(maxTokenizationLineLength, undefined);\n\t}\n\n\tpublic retokenize(startLineNumber: number, endLineNumberExclusive: number) {\n\t\tif (this._tokenizerWithStateStore) {\n\t\t\tthis._tokenizerWithStateStore.store.invalidateEndStateRange(new LineRange(startLineNumber, endLineNumberExclusive));\n\t\t\tthis._tokenizeDebouncer.schedule();\n\t\t}\n\t}\n\n\tprivate async _resetTokenization() {\n\t\tthis._tokenizerWithStateStore = null;\n\n\t\tconst languageId = this._languageId;\n\t\tconst encodedLanguageId = this._encodedLanguageId;\n\n\t\tconst r = await this._host.getOrCreateGrammar(languageId, encodedLanguageId);\n\n\t\tif (this._isDisposed || languageId !== this._languageId || encodedLanguageId !== this._encodedLanguageId || !r) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (r.grammar) {\n\t\t\tconst tokenizationSupport = new TokenizationSupportWithLineLimit(\n\t\t\t\tthis._encodedLanguageId,\n\t\t\t\tnew TextMateTokenizationSupport(r.grammar, r.initialState, false, undefined, () => false,\n\t\t\t\t\t(timeMs, lineLength, isRandomSample) => {\n\t\t\t\t\t\tthis._host.reportTokenizationTime(timeMs, languageId, r.sourceExtensionId, lineLength, isRandomSample);\n\t\t\t\t\t},\n\t\t\t\t\tfalse\n\t\t\t\t),\n\t\t\t\tDisposable.None,\n\t\t\t\tthis._maxTokenizationLineLength\n\t\t\t);\n\t\t\tthis._tokenizerWithStateStore = new TokenizerWithStateStore(this._lines.length, tokenizationSupport);\n\t\t} else {\n\t\t\tthis._tokenizerWithStateStore = null;\n\t\t}\n\t\tthis._tokenize();\n\t}\n\n\tprivate async _tokenize(): Promise<void> {\n\t\tif (this._isDisposed || !this._tokenizerWithStateStore) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._diffStateStacksRefEqFn) {\n\t\t\tconst { diffStateStacksRefEq } = await importAMDNodeModule<typeof import('vscode-textmate')>('vscode-textmate', 'release/main.js');\n\t\t\tthis._diffStateStacksRefEqFn = diffStateStacksRefEq;\n\t\t}\n\n\t\tconst startTime = new Date().getTime();\n\n\t\twhile (true) {\n\t\t\tlet tokenizedLines = 0;\n\t\t\tconst tokenBuilder = new ContiguousMultilineTokensBuilder();\n\t\t\tconst stateDeltaBuilder = new StateDeltaBuilder();\n\n\t\t\twhile (true) {\n\t\t\t\tconst lineToTokenize = this._tokenizerWithStateStore.getFirstInvalidLine();\n\t\t\t\tif (lineToTokenize === null || tokenizedLines > 200) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\ttokenizedLines++;\n\n\t\t\t\tconst text = this._lines[lineToTokenize.lineNumber - 1];\n\t\t\t\tconst r = this._tokenizerWithStateStore.tokenizationSupport.tokenizeEncoded(text, true, lineToTokenize.startState);\n\t\t\t\tif (this._tokenizerWithStateStore.store.setEndState(lineToTokenize.lineNumber, r.endState as StateStack)) {\n\t\t\t\t\tconst delta = this._diffStateStacksRefEqFn(lineToTokenize.startState, r.endState as StateStack);\n\t\t\t\t\tstateDeltaBuilder.setState(lineToTokenize.lineNumber, delta);\n\t\t\t\t} else {\n\t\t\t\t\tstateDeltaBuilder.setState(lineToTokenize.lineNumber, null);\n\t\t\t\t}\n\n\t\t\t\tLineTokens.convertToEndOffset(r.tokens, text.length);\n\t\t\t\ttokenBuilder.add(lineToTokenize.lineNumber, r.tokens);\n\n\t\t\t\tconst deltaMs = new Date().getTime() - startTime;\n\t\t\t\tif (deltaMs > 20) {\n\t\t\t\t\t// yield to check for changes\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (tokenizedLines === 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst stateDeltas = stateDeltaBuilder.getStateDeltas();\n\t\t\tthis._host.setTokensAndStates(\n\t\t\t\tthis._versionId,\n\t\t\t\ttokenBuilder.serialize(),\n\t\t\t\tstateDeltas\n\t\t\t);\n\n\t\t\tconst deltaMs = new Date().getTime() - startTime;\n\t\t\tif (deltaMs > 20) {\n\t\t\t\t// yield to check for changes\n\t\t\t\tsetTimeout0(() => this._tokenize());\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass StateDeltaBuilder {\n\tprivate _lastStartLineNumber: number = -1;\n\tprivate _stateDeltas: StateDeltas[] = [];\n\n\tpublic setState(lineNumber: number, stackDiff: StackDiff | null): void {\n\t\tif (lineNumber === this._lastStartLineNumber + 1) {\n\t\t\tthis._stateDeltas[this._stateDeltas.length - 1].stateDeltas.push(stackDiff);\n\t\t} else {\n\t\t\tthis._stateDeltas.push({ startLineNumber: lineNumber, stateDeltas: [stackDiff] });\n\t\t}\n\t\tthis._lastStartLineNumber = lineNumber;\n\t}\n\n\tpublic getStateDeltas(): StateDeltas[] {\n\t\treturn this._stateDeltas;\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}