{"version":3,"names":["cov_2adb1ch2fc","actualCoverage","os","fs","FileAccess","run","runCli","createServer","doCreateServer","parseArgs","join","dirname","performance","serverOptions","product","perf","s","mark","global","vscodeServerCodeLoadedTime","now","errorReporter","onMultipleValues","id","usedValue","f","console","error","onEmptyValue","onUnknownOption","onDeprecatedOption","deprecatedOption","message","warn","args","process","argv","slice","REMOTE_DATA_FOLDER","b","env","homedir","serverDataFolderName","USER_DATA_PATH","APP_SETTINGS_HOME","GLOBAL_STORAGE_HOME","LOCAL_HISTORY_HOME","MACHINE_SETTINGS_HOME","APP_ROOT","asFileUri","fsPath","BUILTIN_EXTENSIONS_FOLDER_PATH","forEach","existsSync","mkdirSync","mode","err","spawnCli","address"],"sources":["/home/user/Desktop/MintMind/src/vs/server/node/server.main.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as os from 'os';\nimport * as fs from 'fs';\nimport * as net from 'net';\nimport { FileAccess } from '../../base/common/network.js';\nimport { run as runCli } from './remoteExtensionHostAgentCli.js';\nimport { createServer as doCreateServer, IServerAPI } from './remoteExtensionHostAgentServer.js';\nimport { parseArgs, ErrorReporter } from '../../platform/environment/node/argv.js';\nimport { join, dirname } from '../../base/common/path.js';\nimport { performance } from 'perf_hooks';\nimport { serverOptions } from './serverEnvironmentService.js';\nimport product from '../../platform/product/common/product.js';\nimport * as perf from '../../base/common/performance.js';\n\nperf.mark('code/server/codeLoaded');\n(global as unknown as { vscodeServerCodeLoadedTime?: number }).vscodeServerCodeLoadedTime = performance.now();\n\nconst errorReporter: ErrorReporter = {\n\tonMultipleValues: (id: string, usedValue: string) => {\n\t\tconsole.error(`Option '${id}' can only be defined once. Using value ${usedValue}.`);\n\t},\n\tonEmptyValue: (id) => {\n\t\tconsole.error(`Ignoring option '${id}': Value must not be empty.`);\n\t},\n\tonUnknownOption: (id: string) => {\n\t\tconsole.error(`Ignoring option '${id}': not supported for server.`);\n\t},\n\tonDeprecatedOption: (deprecatedOption: string, message) => {\n\t\tconsole.warn(`Option '${deprecatedOption}' is deprecated: ${message}`);\n\t}\n};\n\nconst args = parseArgs(process.argv.slice(2), serverOptions, errorReporter);\n\nconst REMOTE_DATA_FOLDER = args['server-data-dir'] || process.env['MINTMIND_AGENT_FOLDER'] || join(os.homedir(), product.serverDataFolderName || '.vscode-remote');\nconst USER_DATA_PATH = join(REMOTE_DATA_FOLDER, 'data');\nconst APP_SETTINGS_HOME = join(USER_DATA_PATH, 'User');\nconst GLOBAL_STORAGE_HOME = join(APP_SETTINGS_HOME, 'globalStorage');\nconst LOCAL_HISTORY_HOME = join(APP_SETTINGS_HOME, 'History');\nconst MACHINE_SETTINGS_HOME = join(USER_DATA_PATH, 'Machine');\nargs['user-data-dir'] = USER_DATA_PATH;\nconst APP_ROOT = dirname(FileAccess.asFileUri('').fsPath);\nconst BUILTIN_EXTENSIONS_FOLDER_PATH = join(APP_ROOT, 'extensions');\nargs['builtin-extensions-dir'] = BUILTIN_EXTENSIONS_FOLDER_PATH;\nargs['extensions-dir'] = args['extensions-dir'] || join(REMOTE_DATA_FOLDER, 'extensions');\n\n[REMOTE_DATA_FOLDER, args['extensions-dir'], USER_DATA_PATH, APP_SETTINGS_HOME, MACHINE_SETTINGS_HOME, GLOBAL_STORAGE_HOME, LOCAL_HISTORY_HOME].forEach(f => {\n\ttry {\n\t\tif (!fs.existsSync(f)) {\n\t\t\tfs.mkdirSync(f, { mode: 0o700 });\n\t\t}\n\t} catch (err) { console.error(err); }\n});\n\n/**\n * invoked by server-main.js\n */\nexport function spawnCli() {\n\trunCli(args, REMOTE_DATA_FOLDER, serverOptions);\n}\n\n/**\n * invoked by server-main.js\n */\nexport function createServer(address: string | net.AddressInfo | null): Promise<IServerAPI> {\n\treturn doCreateServer(address, args, REMOTE_DATA_FOLDER);\n}\n"],"mappings":"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","ignoreList":[]}