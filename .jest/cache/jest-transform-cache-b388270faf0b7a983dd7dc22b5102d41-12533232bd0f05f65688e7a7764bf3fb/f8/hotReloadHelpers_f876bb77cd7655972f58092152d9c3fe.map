{"version":3,"names":["cov_2i62l117uz","actualCoverage","isHotReloadEnabled","registerHotReloadHandler","constObservable","observableSignalFromEvent","observableValue","readHotReloadableExport","value","reader","f","s","observeHotReloadableExports","values","b","o","event","oldExports","Object","some","v","includes","undefined","_newExports","read","classes","Map","createHotClass","clazz","id","name","existing","get","set","setTimeout"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/hotReloadHelpers.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isHotReloadEnabled, registerHotReloadHandler } from './hotReload.js';\nimport { constObservable, IObservable, IReader, ISettableObservable, observableSignalFromEvent, observableValue } from './observable.js';\n\nexport function readHotReloadableExport<T>(value: T, reader: IReader | undefined): T {\n\tobserveHotReloadableExports([value], reader);\n\treturn value;\n}\n\nexport function observeHotReloadableExports(values: any[], reader: IReader | undefined): void {\n\tif (isHotReloadEnabled()) {\n\t\tconst o = observableSignalFromEvent(\n\t\t\t'reload',\n\t\t\tevent => registerHotReloadHandler(({ oldExports }) => {\n\t\t\t\tif (![...Object.values(oldExports)].some(v => values.includes(v))) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\treturn (_newExports) => {\n\t\t\t\t\tevent(undefined);\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t})\n\t\t);\n\t\to.read(reader);\n\t}\n}\n\nconst classes = new Map<string, ISettableObservable<unknown>>();\n\nexport function createHotClass<T>(clazz: T): IObservable<T> {\n\tif (!isHotReloadEnabled()) {\n\t\treturn constObservable(clazz);\n\t}\n\n\t// eslint-disable-next-line local/code-no-any-casts\n\tconst id = (clazz as any).name;\n\n\tlet existing = classes.get(id);\n\tif (!existing) {\n\t\texisting = observableValue(id, clazz);\n\t\tclasses.set(id, existing);\n\t} else {\n\t\tsetTimeout(() => {\n\t\t\texisting!.set(clazz, undefined);\n\t\t}, 0);\n\t}\n\treturn existing as IObservable<T>;\n}\n"],"mappings":"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","ignoreList":[]}