{"version":3,"names":["BugIndicatingError","ReentrancyBarrier","_isOccupied","cov_28uf0d2z5l","s","runExclusivelyOrSkip","runner","f","b","runExclusivelyOrThrow","isOccupied","makeExclusiveOrSkip","fn","args"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/controlFlow.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { BugIndicatingError } from './errors.js';\n\n/*\n * This file contains helper classes to manage control flow.\n*/\n\n/**\n * Prevents code from being re-entrant.\n*/\nexport class ReentrancyBarrier {\n\tprivate _isOccupied = false;\n\n\t/**\n\t * Calls `runner` if the barrier is not occupied.\n\t * During the call, the barrier becomes occupied.\n\t */\n\tpublic runExclusivelyOrSkip(runner: () => void): void {\n\t\tif (this._isOccupied) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isOccupied = true;\n\t\ttry {\n\t\t\trunner();\n\t\t} finally {\n\t\t\tthis._isOccupied = false;\n\t\t}\n\t}\n\n\t/**\n\t * Calls `runner`. If the barrier is occupied, throws an error.\n\t * During the call, the barrier becomes active.\n\t */\n\tpublic runExclusivelyOrThrow(runner: () => void): void {\n\t\tif (this._isOccupied) {\n\t\t\tthrow new BugIndicatingError(`ReentrancyBarrier: reentrant call detected!`);\n\t\t}\n\t\tthis._isOccupied = true;\n\t\ttry {\n\t\t\trunner();\n\t\t} finally {\n\t\t\tthis._isOccupied = false;\n\t\t}\n\t}\n\n\t/**\n\t * Indicates if some runner occupies this barrier.\n\t*/\n\tpublic get isOccupied() {\n\t\treturn this._isOccupied;\n\t}\n\n\tpublic makeExclusiveOrSkip<TFunction extends Function>(fn: TFunction): TFunction {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\treturn ((...args: any[]) => {\n\t\t\tif (this._isOccupied) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._isOccupied = true;\n\t\t\ttry {\n\t\t\t\treturn fn(...args);\n\t\t\t} finally {\n\t\t\t\tthis._isOccupied = false;\n\t\t\t}\n\t\t}) as any;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}