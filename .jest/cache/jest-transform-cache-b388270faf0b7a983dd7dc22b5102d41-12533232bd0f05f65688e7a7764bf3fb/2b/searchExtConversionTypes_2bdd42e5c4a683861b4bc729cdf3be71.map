{"version":3,"names":["cov_1dydo9kgqy","actualCoverage","asArray","coalesce","DEFAULT_TEXT_SEARCH_PREVIEW_OPTIONS","TextSearchContext2","TextSearchMatch2","isTextSearchMatch","object","f","s","b","newToOldFileProviderOptions","options","folderOptions","map","folderOption","folder","excludes","e","pattern","includes","useGlobalIgnoreFiles","useIgnoreFiles","global","local","useParentIgnoreFiles","parent","followSymlinks","maxResults","session","OldFileSearchProviderConverter","provider","constructor","provideFileSearchResults","token","getResult","newOpts","Promise","all","o","then","flat","newToOldTextProviderOptions","previewOptions","newToOldPreviewOptions","maxFileSize","encoding","afterContext","surroundingContext","beforeContext","matchLines","charsPerLine","oldToNewTextSearchResult","result","ranges","r","i","previewArr","preview","matches","matchingPreviewRange","sourceRange","previewRange","uri","text","lineNumber","OldTextSearchProviderConverter","provideTextSearchResults","query","progress","progressShim","oldResult","validateProviderResult","report","reduce","prev","cur","limitHit","message","extensionResultIsMatch","Array","isArray","console","warn","length","data"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/services/search/common/searchExtConversionTypes.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { asArray, coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IProgress } from '../../../../platform/progress/common/progress.js';\nimport { DEFAULT_TEXT_SEARCH_PREVIEW_OPTIONS } from './search.js';\nimport { Range, FileSearchProvider2, FileSearchProviderOptions, ProviderResult, TextSearchComplete2, TextSearchContext2, TextSearchMatch2, TextSearchProvider2, TextSearchProviderOptions, TextSearchQuery2, TextSearchResult2, TextSearchCompleteMessage } from './searchExtTypes.js';\n\n// old types that are retained for backward compatibility\n// TODO: delete this when search apis are adopted by all first-party extensions\n\n/**\n * A relative pattern is a helper to construct glob patterns that are matched\n * relatively to a base path. The base path can either be an absolute file path\n * or a [workspace folder](#WorkspaceFolder).\n */\nexport interface RelativePattern {\n\n\t/**\n\t * A base file path to which this pattern will be matched against relatively.\n\t */\n\tbase: string;\n\n\t/**\n\t * A file glob pattern like `*.{ts,js}` that will be matched on file paths\n\t * relative to the base path.\n\t *\n\t * Example: Given a base of `/home/work/folder` and a file path of `/home/work/folder/index.js`,\n\t * the file glob pattern will match on `index.js`.\n\t */\n\tpattern: string;\n}\n\n/**\n * A file glob pattern to match file paths against. This can either be a glob pattern string\n * (like `** /*.{ts,js}` without space before / or `*.{ts,js}`) or a [relative pattern](#RelativePattern).\n *\n * Glob patterns can have the following syntax:\n * * `*` to match zero or more characters in a path segment\n * * `?` to match on one character in a path segment\n * * `**` to match any number of path segments, including none\n * * `{}` to group conditions (e.g. `** /*.{ts,js}` without space before / matches all TypeScript and JavaScript files)\n * * `[]` to declare a range of characters to match in a path segment (e.g., `example.[0-9]` to match on `example.0`, `example.1`, â€¦)\n * * `[!...]` to negate a range of characters to match in a path segment (e.g., `example.[!0-9]` to match on `example.a`, `example.b`, but not `example.0`)\n *\n * Note: a backslash (`\\`) is not valid within a glob pattern. If you have an existing file\n * path to match against, consider to use the [relative pattern](#RelativePattern) support\n * that takes care of converting any backslash into slash. Otherwise, make sure to convert\n * any backslash to slash when creating the glob pattern.\n */\nexport type GlobPattern = string | RelativePattern;\n\n/**\n * The parameters of a query for text search.\n */\nexport interface TextSearchQuery {\n\t/**\n\t * The text pattern to search for.\n\t */\n\tpattern: string;\n\n\t/**\n\t * Whether or not `pattern` should match multiple lines of text.\n\t */\n\tisMultiline?: boolean;\n\n\t/**\n\t * Whether or not `pattern` should be interpreted as a regular expression.\n\t */\n\tisRegExp?: boolean;\n\n\t/**\n\t * Whether or not the search should be case-sensitive.\n\t */\n\tisCaseSensitive?: boolean;\n\n\t/**\n\t * Whether or not to search for whole word matches only.\n\t */\n\tisWordMatch?: boolean;\n}\n\n/**\n * A file glob pattern to match file paths against.\n * TODO@roblou - merge this with the GlobPattern docs/definition in vscode.d.ts.\n * @see [GlobPattern](#GlobPattern)\n */\nexport type GlobString = string;\n\n/**\n * Options common to file and text search\n */\nexport interface SearchOptions {\n\t/**\n\t * The root folder to search within.\n\t */\n\tfolder: URI;\n\n\t/**\n\t * Files that match an `includes` glob pattern should be included in the search.\n\t */\n\tincludes: GlobString[];\n\n\t/**\n\t * Files that match an `excludes` glob pattern should be excluded from the search.\n\t */\n\texcludes: GlobString[];\n\n\t/**\n\t * Whether external files that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useIgnoreFiles\"`.\n\t */\n\tuseIgnoreFiles: boolean;\n\n\t/**\n\t * Whether symlinks should be followed while searching.\n\t * See the vscode setting `\"search.followSymlinks\"`.\n\t */\n\tfollowSymlinks: boolean;\n\n\t/**\n\t * Whether global files that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useGlobalIgnoreFiles\"`.\n\t */\n\tuseGlobalIgnoreFiles: boolean;\n\n\t/**\n\t * Whether files in parent directories that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useParentIgnoreFiles\"`.\n\t */\n\tuseParentIgnoreFiles: boolean;\n}\n\n/**\n * Options to specify the size of the result text preview.\n * These options don't affect the size of the match itself, just the amount of preview text.\n */\nexport interface TextSearchPreviewOptions {\n\t/**\n\t * The maximum number of lines in the preview.\n\t * Only search providers that support multiline search will ever return more than one line in the match.\n\t */\n\tmatchLines: number;\n\n\t/**\n\t * The maximum number of characters included per line.\n\t */\n\tcharsPerLine: number;\n}\n\n/**\n * Options that apply to text search.\n */\nexport interface TextSearchOptions extends SearchOptions {\n\t/**\n\t * The maximum number of results to be returned.\n\t */\n\tmaxResults: number;\n\n\t/**\n\t * Options to specify the size of the result text preview.\n\t */\n\tpreviewOptions?: TextSearchPreviewOptions;\n\n\t/**\n\t * Exclude files larger than `maxFileSize` in bytes.\n\t */\n\tmaxFileSize?: number;\n\n\t/**\n\t * Interpret files using this encoding.\n\t * See the vscode setting `\"files.encoding\"`\n\t */\n\tencoding?: string;\n\n\t/**\n\t * Number of lines of context to include before each match.\n\t */\n\tbeforeContext?: number;\n\n\t/**\n\t * Number of lines of context to include after each match.\n\t */\n\tafterContext?: number;\n}\n/**\n * Options that apply to AI text search.\n */\nexport interface AITextSearchOptions extends SearchOptions {\n\t/**\n\t * The maximum number of results to be returned.\n\t */\n\tmaxResults: number;\n\n\t/**\n\t * Options to specify the size of the result text preview.\n\t */\n\tpreviewOptions?: TextSearchPreviewOptions;\n\n\t/**\n\t * Exclude files larger than `maxFileSize` in bytes.\n\t */\n\tmaxFileSize?: number;\n\n\t/**\n\t * Number of lines of context to include before each match.\n\t */\n\tbeforeContext?: number;\n\n\t/**\n\t * Number of lines of context to include after each match.\n\t */\n\tafterContext?: number;\n}\n\n/**\n * Information collected when text search is complete.\n */\nexport interface TextSearchComplete {\n\t/**\n\t * Whether the search hit the limit on the maximum number of search results.\n\t * `maxResults` on [`TextSearchOptions`](#TextSearchOptions) specifies the max number of results.\n\t * - If exactly that number of matches exist, this should be false.\n\t * - If `maxResults` matches are returned and more exist, this should be true.\n\t * - If search hits an internal limit which is less than `maxResults`, this should be true.\n\t */\n\tlimitHit?: boolean;\n\n\t/**\n\t * Additional information regarding the state of the completed search.\n\t *\n\t * Supports links in markdown syntax:\n\t * - Click to [run a command](command:workbench.action.OpenQuickPick)\n\t * - Click to [open a website](https://aka.ms)\n\t */\n\tmessage?: TextSearchCompleteMessage | TextSearchCompleteMessage[];\n}\n\n/**\n * The parameters of a query for file search.\n */\nexport interface FileSearchQuery {\n\t/**\n\t * The search pattern to match against file paths.\n\t */\n\tpattern: string;\n}\n\n/**\n * Options that apply to file search.\n */\nexport interface FileSearchOptions extends SearchOptions {\n\t/**\n\t * The maximum number of results to be returned.\n\t */\n\tmaxResults?: number;\n\n\t/**\n\t * A CancellationToken that represents the session for this search query. If the provider chooses to, this object can be used as the key for a cache,\n\t * and searches with the same session object can search the same cache. When the token is cancelled, the session is complete and the cache can be cleared.\n\t */\n\tsession?: CancellationToken;\n}\n\n/**\n * A preview of the text result.\n */\nexport interface TextSearchMatchPreview {\n\t/**\n\t * The matching lines of text, or a portion of the matching line that contains the match.\n\t */\n\ttext: string;\n\n\t/**\n\t * The Range within `text` corresponding to the text of the match.\n\t * The number of matches must match the TextSearchMatch's range property.\n\t */\n\tmatches: Range | Range[];\n}\n\n/**\n * A match from a text search\n */\nexport interface TextSearchMatch {\n\t/**\n\t * The uri for the matching document.\n\t */\n\turi: URI;\n\n\t/**\n\t * The range of the match within the document, or multiple ranges for multiple matches.\n\t */\n\tranges: Range | Range[];\n\n\t/**\n\t * A preview of the text match.\n\t */\n\tpreview: TextSearchMatchPreview;\n}\n\n/**\n * Checks if the given object is of type TextSearchMatch.\n * @param object The object to check.\n * @returns True if the object is a TextSearchMatch, false otherwise.\n */\nfunction isTextSearchMatch(object: any): object is TextSearchMatch {\n\treturn 'uri' in object && 'ranges' in object && 'preview' in object;\n}\n\n/**\n * A line of context surrounding a TextSearchMatch.\n */\nexport interface TextSearchContext {\n\t/**\n\t * The uri for the matching document.\n\t */\n\turi: URI;\n\n\t/**\n\t * One line of text.\n\t * previewOptions.charsPerLine applies to this\n\t */\n\ttext: string;\n\n\t/**\n\t * The line number of this line of context.\n\t */\n\tlineNumber: number;\n}\n\nexport type TextSearchResult = TextSearchMatch | TextSearchContext;\n\n/**\n * A FileSearchProvider provides search results for files in the given folder that match a query string. It can be invoked by quickaccess or other extensions.\n *\n * A FileSearchProvider is the more powerful of two ways to implement file search in VS Code. Use a FileSearchProvider if you wish to search within a folder for\n * all files that match the user's query.\n *\n * The FileSearchProvider will be invoked on every keypress in quickaccess. When `workspace.findFiles` is called, it will be invoked with an empty query string,\n * and in that case, every file in the folder should be returned.\n */\nexport interface FileSearchProvider {\n\t/**\n\t * Provide the set of files that match a certain file path pattern.\n\t * @param query The parameters for this query.\n\t * @param options A set of options to consider while searching files.\n\t * @param progress A progress callback that must be invoked for all results.\n\t * @param token A cancellation token.\n\t */\n\tprovideFileSearchResults(query: FileSearchQuery, options: FileSearchOptions, token: CancellationToken): ProviderResult<URI[]>;\n}\n\n/**\n * A TextSearchProvider provides search results for text results inside files in the workspace.\n */\nexport interface TextSearchProvider {\n\t/**\n\t * Provide results that match the given text pattern.\n\t * @param query The parameters for this query.\n\t * @param options A set of options to consider while searching.\n\t * @param progress A progress callback that must be invoked for all results.\n\t * @param token A cancellation token.\n\t */\n\tprovideTextSearchResults(query: TextSearchQuery, options: TextSearchOptions, progress: IProgress<TextSearchResult>, token: CancellationToken): ProviderResult<TextSearchComplete>;\n}\n/**\n * Options that can be set on a findTextInFiles search.\n */\nexport interface FindTextInFilesOptions {\n\t/**\n\t * A [glob pattern](#GlobPattern) that defines the files to search for. The glob pattern\n\t * will be matched against the file paths of files relative to their workspace. Use a [relative pattern](#RelativePattern)\n\t * to restrict the search results to a [workspace folder](#WorkspaceFolder).\n\t */\n\tinclude?: GlobPattern;\n\n\t/**\n\t * A [glob pattern](#GlobPattern) that defines files and folders to exclude. The glob pattern\n\t * will be matched against the file paths of resulting matches relative to their workspace. When `undefined` only default excludes will\n\t * apply, when `null` no excludes will apply.\n\t */\n\texclude?: GlobPattern | null;\n\n\t/**\n\t * The maximum number of results to search for\n\t */\n\tmaxResults?: number;\n\n\t/**\n\t * Whether external files that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useIgnoreFiles\"`.\n\t */\n\tuseIgnoreFiles?: boolean;\n\n\t/**\n\t * Whether global files that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useGlobalIgnoreFiles\"`.\n\t */\n\tuseGlobalIgnoreFiles?: boolean;\n\n\t/**\n\t * Whether files in parent directories that exclude files, like .gitignore, should be respected.\n\t * See the vscode setting `\"search.useParentIgnoreFiles\"`.\n\t */\n\tuseParentIgnoreFiles: boolean;\n\n\t/**\n\t * Whether symlinks should be followed while searching.\n\t * See the vscode setting `\"search.followSymlinks\"`.\n\t */\n\tfollowSymlinks?: boolean;\n\n\t/**\n\t * Interpret files using this encoding.\n\t * See the vscode setting `\"files.encoding\"`\n\t */\n\tencoding?: string;\n\n\t/**\n\t * Options to specify the size of the result text preview.\n\t */\n\tpreviewOptions?: TextSearchPreviewOptions;\n\n\t/**\n\t * Number of lines of context to include before each match.\n\t */\n\tbeforeContext?: number;\n\n\t/**\n\t * Number of lines of context to include after each match.\n\t */\n\tafterContext?: number;\n}\n\nfunction newToOldFileProviderOptions(options: FileSearchProviderOptions): FileSearchOptions[] {\n\treturn options.folderOptions.map(folderOption => ({\n\t\tfolder: folderOption.folder,\n\t\texcludes: folderOption.excludes.map(e => typeof (e) === 'string' ? e : e.pattern),\n\t\tincludes: folderOption.includes,\n\t\tuseGlobalIgnoreFiles: folderOption.useIgnoreFiles.global,\n\t\tuseIgnoreFiles: folderOption.useIgnoreFiles.local,\n\t\tuseParentIgnoreFiles: folderOption.useIgnoreFiles.parent,\n\t\tfollowSymlinks: folderOption.followSymlinks,\n\t\tmaxResults: options.maxResults,\n\t\tsession: <CancellationToken | undefined>options.session // TODO: make sure that we actually use a cancellation token here.\n\t} satisfies FileSearchOptions));\n}\n\nexport class OldFileSearchProviderConverter implements FileSearchProvider2 {\n\tconstructor(private provider: FileSearchProvider) { }\n\n\tprovideFileSearchResults(pattern: string, options: FileSearchProviderOptions, token: CancellationToken): ProviderResult<URI[]> {\n\t\tconst getResult = async () => {\n\t\t\tconst newOpts = newToOldFileProviderOptions(options);\n\t\t\treturn Promise.all(newOpts.map(\n\t\t\t\to => this.provider.provideFileSearchResults({ pattern }, o, token)));\n\t\t};\n\t\treturn getResult().then(e => coalesce(e).flat());\n\t}\n}\n\nfunction newToOldTextProviderOptions(options: TextSearchProviderOptions): TextSearchOptions[] {\n\treturn options.folderOptions.map(folderOption => ({\n\t\tfolder: folderOption.folder,\n\t\texcludes: folderOption.excludes.map(e => typeof (e) === 'string' ? e : e.pattern),\n\t\tincludes: folderOption.includes,\n\t\tuseGlobalIgnoreFiles: folderOption.useIgnoreFiles.global,\n\t\tuseIgnoreFiles: folderOption.useIgnoreFiles.local,\n\t\tuseParentIgnoreFiles: folderOption.useIgnoreFiles.parent,\n\t\tfollowSymlinks: folderOption.followSymlinks,\n\t\tmaxResults: options.maxResults,\n\t\tpreviewOptions: newToOldPreviewOptions(options.previewOptions),\n\t\tmaxFileSize: options.maxFileSize,\n\t\tencoding: folderOption.encoding,\n\t\tafterContext: options.surroundingContext,\n\t\tbeforeContext: options.surroundingContext\n\t} satisfies TextSearchOptions));\n}\n\nexport function newToOldPreviewOptions(options: {\n\tmatchLines?: number;\n\tcharsPerLine?: number;\n} | undefined\n): {\n\tmatchLines: number;\n\tcharsPerLine: number;\n} {\n\treturn {\n\t\tmatchLines: options?.matchLines ?? DEFAULT_TEXT_SEARCH_PREVIEW_OPTIONS.matchLines,\n\t\tcharsPerLine: options?.charsPerLine ?? DEFAULT_TEXT_SEARCH_PREVIEW_OPTIONS.charsPerLine\n\t};\n}\n\nexport function oldToNewTextSearchResult(result: TextSearchResult): TextSearchResult2 {\n\tif (isTextSearchMatch(result)) {\n\t\tconst ranges = asArray(result.ranges).map((r, i) => {\n\t\t\tconst previewArr = asArray(result.preview.matches);\n\t\t\tconst matchingPreviewRange = previewArr[i];\n\t\t\treturn { sourceRange: r, previewRange: matchingPreviewRange };\n\t\t});\n\t\treturn new TextSearchMatch2(result.uri, ranges, result.preview.text);\n\t} else {\n\t\treturn new TextSearchContext2(result.uri, result.text, result.lineNumber);\n\t}\n}\n\nexport class OldTextSearchProviderConverter implements TextSearchProvider2 {\n\tconstructor(private provider: TextSearchProvider) { }\n\n\tprovideTextSearchResults(query: TextSearchQuery2, options: TextSearchProviderOptions, progress: IProgress<TextSearchResult2>, token: CancellationToken): ProviderResult<TextSearchComplete2> {\n\n\t\tconst progressShim = (oldResult: TextSearchResult) => {\n\t\t\tif (!validateProviderResult(oldResult)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprogress.report(oldToNewTextSearchResult(oldResult));\n\t\t};\n\n\t\tconst getResult = async () => {\n\t\t\treturn coalesce(await Promise.all(\n\t\t\t\tnewToOldTextProviderOptions(options).map(\n\t\t\t\t\to => this.provider.provideTextSearchResults(query, o, { report: (e) => progressShim(e) }, token))))\n\t\t\t\t.reduce(\n\t\t\t\t\t(prev, cur) => ({ limitHit: prev.limitHit || cur.limitHit }),\n\t\t\t\t\t{ limitHit: false }\n\t\t\t\t);\n\t\t};\n\t\tconst oldResult = getResult();\n\t\treturn oldResult.then((e) => {\n\t\t\treturn {\n\t\t\t\tlimitHit: e.limitHit,\n\t\t\t\tmessage: coalesce(asArray(e.message))\n\t\t\t} satisfies TextSearchComplete2;\n\t\t});\n\t}\n}\n\nfunction validateProviderResult(result: TextSearchResult): boolean {\n\tif (extensionResultIsMatch(result)) {\n\t\tif (Array.isArray(result.ranges)) {\n\t\t\tif (!Array.isArray(result.preview.matches)) {\n\t\t\t\tconsole.warn('INVALID - A text search provider match\\'s`ranges` and`matches` properties must have the same type.');\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif ((<Range[]>result.preview.matches).length !== result.ranges.length) {\n\t\t\t\tconsole.warn('INVALID - A text search provider match\\'s`ranges` and`matches` properties must have the same length.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (Array.isArray(result.preview.matches)) {\n\t\t\t\tconsole.warn('INVALID - A text search provider match\\'s`ranges` and`matches` properties must have the same length.');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function extensionResultIsMatch(data: TextSearchResult): data is TextSearchMatch {\n\treturn !!(<TextSearchMatch>data).preview;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}