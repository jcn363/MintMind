{"version":3,"names":["cov_220ulrimw4","actualCoverage","observableValueOpts","ObservableMap","_data","s","Map","_obs","equalsFn","f","observable","size","has","key","get","set","value","tx","hadKey","oldValue","b","delete","result","clear","forEach","callbackfn","thisArg","_map","call","entries","iterator","next","done","undefined","Symbol","dispose","keys","values","toStringTag"],"sources":["/home/user/Desktop/MintMind/src/vs/base/common/observableInternal/map.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IObservable, ITransaction } from '../observable.js';\nimport { observableValueOpts } from './observables/observableValueOpts.js';\n\n\nexport class ObservableMap<K, V> implements Map<K, V> {\n\tprivate readonly _data = new Map<K, V>();\n\n\tprivate readonly _obs = observableValueOpts({ equalsFn: () => false }, this);\n\n\treadonly observable: IObservable<Map<K, V>> = this._obs;\n\n\tget size(): number {\n\t\treturn this._data.size;\n\t}\n\n\thas(key: K): boolean {\n\t\treturn this._data.has(key);\n\t}\n\n\tget(key: K): V | undefined {\n\t\treturn this._data.get(key);\n\t}\n\n\tset(key: K, value: V, tx?: ITransaction): this {\n\t\tconst hadKey = this._data.has(key);\n\t\tconst oldValue = this._data.get(key);\n\t\tif (!hadKey || oldValue !== value) {\n\t\t\tthis._data.set(key, value);\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdelete(key: K, tx?: ITransaction): boolean {\n\t\tconst result = this._data.delete(key);\n\t\tif (result) {\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn result;\n\t}\n\n\tclear(tx?: ITransaction): void {\n\t\tif (this._data.size > 0) {\n\t\t\tthis._data.clear();\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t}\n\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: any): void {\n\t\tthis._data.forEach((value, key, _map) => {\n\t\t\tcallbackfn.call(thisArg, value, key, this);\n\t\t});\n\t}\n\n\tentries(): MapIterator<[K, V]> {\n\t\tconst iterator = this._data.entries();\n\t\treturn {\n\t\t\tnext: () => {\n\t\t\t\tconst result = iterator.next();\n\t\t\t\treturn result.done ? { value: undefined, done: true } : { value: result.value, done: false };\n\t\t\t},\n\t\t\t[Symbol.iterator]: function() { return this; },\n\t\t\t[Symbol.dispose]: () => {}\n\t\t};\n\t}\n\n\tkeys(): MapIterator<K> {\n\t\tconst iterator = this._data.keys();\n\t\treturn {\n\t\t\tnext: () => {\n\t\t\t\tconst result = iterator.next();\n\t\t\t\treturn result.done ? { value: undefined, done: true } : { value: result.value, done: false };\n\t\t\t},\n\t\t\t[Symbol.iterator]: function() { return this; },\n\t\t\t[Symbol.dispose]: () => {}\n\t\t};\n\t}\n\n\tvalues(): MapIterator<V> {\n\t\tconst iterator = this._data.values();\n\t\treturn {\n\t\t\tnext: () => {\n\t\t\t\tconst result = iterator.next();\n\t\t\t\treturn result.done ? { value: undefined, done: true } : { value: result.value, done: false };\n\t\t\t},\n\t\t\t[Symbol.iterator]: function() { return this; },\n\t\t\t[Symbol.dispose]: () => {}\n\t\t};\n\t}\n\n\t[Symbol.iterator](): MapIterator<[K, V]> {\n\t\treturn this.entries();\n\t}\n\n\tget [Symbol.toStringTag](): string {\n\t\treturn 'ObservableMap';\n\t}\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}