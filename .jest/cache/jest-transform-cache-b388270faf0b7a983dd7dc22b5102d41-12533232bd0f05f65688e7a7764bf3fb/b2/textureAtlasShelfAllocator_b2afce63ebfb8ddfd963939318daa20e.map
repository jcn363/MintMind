{"version":3,"names":["cov_xd5iqyimf","actualCoverage","BugIndicatingError","ensureNonNullable","TextureAtlasShelfAllocator","_canvas","_textureIndex","_ctx","_currentRow","s","x","y","h","_allocatedGlyphs","Set","_nextIndex","constructor","f","getContext","willReadFrequently","allocate","rasterizedGlyph","glyphWidth","boundingBox","right","left","glyphHeight","bottom","top","b","width","height","undefined","drawImage","source","glyph","pageIndex","glyphIndex","w","originOffsetX","originOffset","originOffsetY","fontBoundingBoxAscent","fontBoundingBoxDescent","Math","max","add","getUsagePreview","canvas","OffscreenCanvas","ctx","fillStyle","fillRect","rowHeight","Map","rowWidth","g","set","get","rowY","rowW","entries","convertToBlob","getStats","usedPixels","wastedPixels","totalPixels","toPrecision","join"],"sources":["/home/user/Desktop/MintMind/src/vs/editor/browser/gpu/atlas/textureAtlasShelfAllocator.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { ensureNonNullable } from '../gpuUtils.js';\nimport type { IRasterizedGlyph } from '../raster/raster.js';\nimport { UsagePreviewColors, type ITextureAtlasAllocator, type ITextureAtlasPageGlyph } from './atlas.js';\n\n/**\n * The shelf allocator is a simple allocator that places glyphs in rows, starting a new row when the\n * current row is full. Due to its simplicity, it can waste space but it is very fast.\n */\nexport class TextureAtlasShelfAllocator implements ITextureAtlasAllocator {\n\n\tprivate readonly _ctx: OffscreenCanvasRenderingContext2D;\n\n\tprivate _currentRow: ITextureAtlasShelf = {\n\t\tx: 0,\n\t\ty: 0,\n\t\th: 0\n\t};\n\n\t/** A set of all glyphs allocated, this is only tracked to enable debug related functionality */\n\tprivate readonly _allocatedGlyphs: Set<Readonly<ITextureAtlasPageGlyph>> = new Set();\n\n\tprivate _nextIndex = 0;\n\n\tconstructor(\n\t\tprivate readonly _canvas: OffscreenCanvas,\n\t\tprivate readonly _textureIndex: number,\n\t) {\n\t\tthis._ctx = ensureNonNullable(this._canvas.getContext('2d', {\n\t\t\twillReadFrequently: true\n\t\t}));\n\t}\n\n\tpublic allocate(rasterizedGlyph: IRasterizedGlyph): ITextureAtlasPageGlyph | undefined {\n\t\t// The glyph does not fit into the atlas page\n\t\tconst glyphWidth = rasterizedGlyph.boundingBox.right - rasterizedGlyph.boundingBox.left + 1;\n\t\tconst glyphHeight = rasterizedGlyph.boundingBox.bottom - rasterizedGlyph.boundingBox.top + 1;\n\t\tif (glyphWidth > this._canvas.width || glyphHeight > this._canvas.height) {\n\t\t\tthrow new BugIndicatingError('Glyph is too large for the atlas page');\n\t\t}\n\n\t\t// Finalize and increment row if it doesn't fix horizontally\n\t\tif (rasterizedGlyph.boundingBox.right - rasterizedGlyph.boundingBox.left + 1 > this._canvas.width - this._currentRow.x) {\n\t\t\tthis._currentRow.x = 0;\n\t\t\tthis._currentRow.y += this._currentRow.h;\n\t\t\tthis._currentRow.h = 1;\n\t\t}\n\n\t\t// Return undefined if there isn't any room left\n\t\tif (this._currentRow.y + rasterizedGlyph.boundingBox.bottom - rasterizedGlyph.boundingBox.top + 1 > this._canvas.height) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Draw glyph\n\t\tthis._ctx.drawImage(\n\t\t\trasterizedGlyph.source,\n\t\t\t// source\n\t\t\trasterizedGlyph.boundingBox.left,\n\t\t\trasterizedGlyph.boundingBox.top,\n\t\t\tglyphWidth,\n\t\t\tglyphHeight,\n\t\t\t// destination\n\t\t\tthis._currentRow.x,\n\t\t\tthis._currentRow.y,\n\t\t\tglyphWidth,\n\t\t\tglyphHeight\n\t\t);\n\n\t\t// Create glyph object\n\t\tconst glyph: ITextureAtlasPageGlyph = {\n\t\t\tpageIndex: this._textureIndex,\n\t\t\tglyphIndex: this._nextIndex++,\n\t\t\tx: this._currentRow.x,\n\t\t\ty: this._currentRow.y,\n\t\t\tw: glyphWidth,\n\t\t\th: glyphHeight,\n\t\t\toriginOffsetX: rasterizedGlyph.originOffset.x,\n\t\t\toriginOffsetY: rasterizedGlyph.originOffset.y,\n\t\t\tfontBoundingBoxAscent: rasterizedGlyph.fontBoundingBoxAscent,\n\t\t\tfontBoundingBoxDescent: rasterizedGlyph.fontBoundingBoxDescent,\n\t\t};\n\n\t\t// Shift current row\n\t\tthis._currentRow.x += glyphWidth;\n\t\tthis._currentRow.h = Math.max(this._currentRow.h, glyphHeight);\n\n\t\t// Set the glyph\n\t\tthis._allocatedGlyphs.add(glyph);\n\n\t\treturn glyph;\n\t}\n\n\tpublic getUsagePreview(): Promise<Blob> {\n\t\tconst w = this._canvas.width;\n\t\tconst h = this._canvas.height;\n\t\tconst canvas = new OffscreenCanvas(w, h);\n\t\tconst ctx = ensureNonNullable(canvas.getContext('2d'));\n\t\tctx.fillStyle = UsagePreviewColors.Unused;\n\t\tctx.fillRect(0, 0, w, h);\n\n\t\tconst rowHeight: Map<number, number> = new Map(); // y -> h\n\t\tconst rowWidth: Map<number, number> = new Map(); // y -> w\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\trowHeight.set(g.y, Math.max(rowHeight.get(g.y) ?? 0, g.h));\n\t\t\trowWidth.set(g.y, Math.max(rowWidth.get(g.y) ?? 0, g.x + g.w));\n\t\t}\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\tctx.fillStyle = UsagePreviewColors.Used;\n\t\t\tctx.fillRect(g.x, g.y, g.w, g.h);\n\t\t\tctx.fillStyle = UsagePreviewColors.Wasted;\n\t\t\tctx.fillRect(g.x, g.y + g.h, g.w, rowHeight.get(g.y)! - g.h);\n\t\t}\n\t\tfor (const [rowY, rowW] of rowWidth.entries()) {\n\t\t\tif (rowY !== this._currentRow.y) {\n\t\t\t\tctx.fillStyle = UsagePreviewColors.Wasted;\n\t\t\t\tctx.fillRect(rowW, rowY, w - rowW, rowHeight.get(rowY)!);\n\t\t\t}\n\t\t}\n\t\treturn canvas.convertToBlob();\n\t}\n\n\tgetStats(): string {\n\t\tconst w = this._canvas.width;\n\t\tconst h = this._canvas.height;\n\n\t\tlet usedPixels = 0;\n\t\tlet wastedPixels = 0;\n\t\tconst totalPixels = w * h;\n\n\t\tconst rowHeight: Map<number, number> = new Map(); // y -> h\n\t\tconst rowWidth: Map<number, number> = new Map(); // y -> w\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\trowHeight.set(g.y, Math.max(rowHeight.get(g.y) ?? 0, g.h));\n\t\t\trowWidth.set(g.y, Math.max(rowWidth.get(g.y) ?? 0, g.x + g.w));\n\t\t}\n\t\tfor (const g of this._allocatedGlyphs) {\n\t\t\tusedPixels += g.w * g.h;\n\t\t\twastedPixels += g.w * (rowHeight.get(g.y)! - g.h);\n\t\t}\n\t\tfor (const [rowY, rowW] of rowWidth.entries()) {\n\t\t\tif (rowY !== this._currentRow.y) {\n\t\t\t\twastedPixels += (w - rowW) * rowHeight.get(rowY)!;\n\t\t\t}\n\t\t}\n\t\treturn [\n\t\t\t`page${this._textureIndex}:`,\n\t\t\t`     Total: ${totalPixels} (${w}x${h})`,\n\t\t\t`      Used: ${usedPixels} (${((usedPixels / totalPixels) * 100).toPrecision(2)}%)`,\n\t\t\t`    Wasted: ${wastedPixels} (${((wastedPixels / totalPixels) * 100).toPrecision(2)}%)`,\n\t\t\t`Efficiency: ${((usedPixels / (usedPixels + wastedPixels)) * 100).toPrecision(2)}%`,\n\t\t].join('\\n');\n\t}\n}\n\ninterface ITextureAtlasShelf {\n\tx: number;\n\ty: number;\n\th: number;\n}\n"],"mappings":"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","ignoreList":[]}