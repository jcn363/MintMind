{"version":3,"names":["cov_8ndr0qmio","actualCoverage","Button","ButtonWithDropdown","ActionRunner","DisposableStore","SubmenuItemAction","defaultButtonStyles","CommentFormActions","keybindingService","contextKeyService","contextMenuService","container","actionHandler","maxActions","supportDropdowns","_buttonElements","s","_toDispose","_actions","constructor","f","setActions","menu","hasOnlySecondaryActions","b","clear","forEach","remove","groups","getActions","shouldForwardArgs","isPrimary","group","actions","current","dropDownActions","action","length","keybinding","lookupKeybinding","id","getLabel","title","label","button","contextMenuProvider","actionRunner","add","runAction","context","secondary","addPrimaryActionToDropdown","push","element","onDidClick","enabled","undefined","console","warn","triggerDefaultAction","lastAction","dispose"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/comments/browser/commentFormActions.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Button, ButtonWithDropdown } from '../../../../base/browser/ui/button/button.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IMenu, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { defaultButtonStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { CommentCommandId } from '../common/commentCommandIds.js';\n\nexport class CommentFormActions implements IDisposable {\n\tprivate _buttonElements: HTMLElement[] = [];\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate _actions: IAction[] = [];\n\n\tconstructor(\n\t\tprivate readonly keybindingService: IKeybindingService,\n\t\tprivate readonly contextKeyService: IContextKeyService,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate container: HTMLElement,\n\t\tprivate actionHandler: (action: IAction) => void,\n\t\tprivate readonly maxActions?: number,\n\t\tprivate readonly supportDropdowns?: boolean,\n\t) { }\n\n\tsetActions(menu: IMenu, hasOnlySecondaryActions: boolean = false) {\n\t\tthis._toDispose.clear();\n\n\t\tthis._buttonElements.forEach(b => b.remove());\n\t\tthis._buttonElements = [];\n\n\t\tconst groups = menu.getActions({ shouldForwardArgs: true });\n\t\tlet isPrimary: boolean = !hasOnlySecondaryActions;\n\t\tfor (const group of groups) {\n\t\t\tconst [, actions] = group;\n\n\t\t\tthis._actions = actions;\n\t\t\tfor (const current of actions) {\n\t\t\t\tconst dropDownActions = this.supportDropdowns && current instanceof SubmenuItemAction ? current.actions : [];\n\t\t\t\tconst action = dropDownActions.length ? dropDownActions[0] : current;\n\t\t\t\tlet keybinding = this.keybindingService.lookupKeybinding(action.id, this.contextKeyService)?.getLabel();\n\t\t\t\tif (!keybinding && isPrimary) {\n\t\t\t\t\tkeybinding = this.keybindingService.lookupKeybinding(CommentCommandId.Submit, this.contextKeyService)?.getLabel();\n\t\t\t\t}\n\t\t\t\tconst title = keybinding ? `${action.label} (${keybinding})` : action.label;\n\t\t\t\tconst actionHandler = this.actionHandler;\n\t\t\t\tconst button = dropDownActions.length ? new ButtonWithDropdown(this.container, {\n\t\t\t\t\tcontextMenuProvider: this.contextMenuService,\n\t\t\t\t\tactions: dropDownActions,\n\t\t\t\t\tactionRunner: this._toDispose.add(new class extends ActionRunner {\n\t\t\t\t\t\tprotected override async runAction(action: IAction, context?: unknown): Promise<void> {\n\t\t\t\t\t\t\treturn actionHandler(action);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tsecondary: !isPrimary,\n\t\t\t\t\ttitle,\n\t\t\t\t\taddPrimaryActionToDropdown: false,\n\t\t\t\t\t...defaultButtonStyles\n\t\t\t\t}) : new Button(this.container, { secondary: !isPrimary, title, ...defaultButtonStyles });\n\n\t\t\t\tisPrimary = false;\n\t\t\t\tthis._buttonElements.push(button.element);\n\n\t\t\t\tthis._toDispose.add(button);\n\t\t\t\tthis._toDispose.add(button.onDidClick(() => this.actionHandler(action)));\n\n\t\t\t\tbutton.enabled = action.enabled;\n\t\t\t\tbutton.label = action.label;\n\t\t\t\tif ((this.maxActions !== undefined) && (this._buttonElements.length >= this.maxActions)) {\n\t\t\t\t\tconsole.warn(`An extension has contributed more than the allowable number of actions to a comments menu.`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttriggerDefaultAction() {\n\t\tif (this._actions.length) {\n\t\t\tconst lastAction = this._actions[0];\n\n\t\t\tif (lastAction.enabled) {\n\t\t\t\treturn this.actionHandler(lastAction);\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose() {\n\t\tthis._toDispose.dispose();\n\t}\n}\n"],"mappings":"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","ignoreList":[]}