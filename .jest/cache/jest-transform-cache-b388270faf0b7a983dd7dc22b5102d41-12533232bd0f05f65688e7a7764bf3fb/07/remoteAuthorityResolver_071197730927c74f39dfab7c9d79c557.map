{"version":3,"names":["cov_jloz39i8q","actualCoverage","ErrorNoTelemetry","createDecorator","IRemoteAuthorityResolverService","s","ManagedRemoteConnection","id","type","constructor","f","toString","WebSocketRemoteConnection","host","port","RemoteAuthorityResolverErrorCode","b","RemoteAuthorityResolverError","isNotAvailable","err","_code","NotAvailable","isTemporarilyNotAvailable","TemporarilyNotAvailable","isNoResolverFound","NoResolverFound","isInvalidAuthority","InvalidAuthority","isHandled","_message","_detail","message","code","Unknown","detail","Object","setPrototypeOf","prototype","getRemoteAuthorityPrefix","remoteAuthority","plusIndex","indexOf","substring"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/remote/common/remoteAuthorityResolver.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ErrorNoTelemetry } from '../../../base/common/errors.js';\nimport { Event } from '../../../base/common/event.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\n\nexport const IRemoteAuthorityResolverService = createDecorator<IRemoteAuthorityResolverService>('remoteAuthorityResolverService');\n\nexport const enum RemoteConnectionType {\n\tWebSocket,\n\tManaged\n}\n\nexport class ManagedRemoteConnection {\n\tpublic readonly type = RemoteConnectionType.Managed;\n\n\tconstructor(\n\t\tpublic readonly id: number\n\t) { }\n\n\tpublic toString(): string {\n\t\treturn `Managed(${this.id})`;\n\t}\n}\n\nexport class WebSocketRemoteConnection {\n\tpublic readonly type = RemoteConnectionType.WebSocket;\n\n\tconstructor(\n\t\tpublic readonly host: string,\n\t\tpublic readonly port: number,\n\t) { }\n\n\tpublic toString(): string {\n\t\treturn `WebSocket(${this.host}:${this.port})`;\n\t}\n}\n\nexport type RemoteConnection = WebSocketRemoteConnection | ManagedRemoteConnection;\n\nexport type RemoteConnectionOfType<T extends RemoteConnectionType> = RemoteConnection & { type: T };\n\nexport interface ResolvedAuthority {\n\treadonly authority: string;\n\treadonly connectTo: RemoteConnection;\n\treadonly connectionToken: string | undefined;\n}\n\nexport interface ResolvedOptions {\n\treadonly extensionHostEnv?: { [key: string]: string | null };\n\treadonly isTrusted?: boolean;\n\treadonly authenticationSession?: { id: string; providerId: string };\n}\n\nexport interface TunnelDescription {\n\tremoteAddress: { port: number; host: string };\n\tlocalAddress: { port: number; host: string } | string;\n\tprivacy?: string;\n\tprotocol?: string;\n}\nexport interface TunnelPrivacy {\n\tthemeIcon: string;\n\tid: string;\n\tlabel: string;\n}\nexport interface TunnelInformation {\n\tenvironmentTunnels?: TunnelDescription[];\n\tfeatures?: {\n\t\televation: boolean;\n\t\tpublic?: boolean;\n\t\tprivacyOptions: TunnelPrivacy[];\n\t\tprotocol: boolean;\n\t};\n}\n\nexport interface ResolverResult {\n\tauthority: ResolvedAuthority;\n\toptions?: ResolvedOptions;\n\ttunnelInformation?: TunnelInformation;\n}\n\nexport interface IRemoteConnectionData {\n\tconnectTo: RemoteConnection;\n\tconnectionToken: string | undefined;\n}\n\nexport enum RemoteAuthorityResolverErrorCode {\n\tUnknown = 'Unknown',\n\tNotAvailable = 'NotAvailable',\n\tTemporarilyNotAvailable = 'TemporarilyNotAvailable',\n\tNoResolverFound = 'NoResolverFound',\n\tInvalidAuthority = 'InvalidAuthority'\n}\n\nexport class RemoteAuthorityResolverError extends ErrorNoTelemetry {\n\n\tpublic static isNotAvailable(err: any): boolean {\n\t\treturn (err instanceof RemoteAuthorityResolverError) && err._code === RemoteAuthorityResolverErrorCode.NotAvailable;\n\t}\n\n\tpublic static isTemporarilyNotAvailable(err: any): boolean {\n\t\treturn (err instanceof RemoteAuthorityResolverError) && err._code === RemoteAuthorityResolverErrorCode.TemporarilyNotAvailable;\n\t}\n\n\tpublic static isNoResolverFound(err: any): err is RemoteAuthorityResolverError {\n\t\treturn (err instanceof RemoteAuthorityResolverError) && err._code === RemoteAuthorityResolverErrorCode.NoResolverFound;\n\t}\n\n\tpublic static isInvalidAuthority(err: any): boolean {\n\t\treturn (err instanceof RemoteAuthorityResolverError) && err._code === RemoteAuthorityResolverErrorCode.InvalidAuthority;\n\t}\n\n\tpublic static isHandled(err: any): boolean {\n\t\treturn (err instanceof RemoteAuthorityResolverError) && err.isHandled;\n\t}\n\n\tpublic readonly _message: string | undefined;\n\tpublic readonly _code: RemoteAuthorityResolverErrorCode;\n\tpublic readonly _detail: unknown;\n\n\tpublic isHandled: boolean;\n\n\tconstructor(message?: string, code: RemoteAuthorityResolverErrorCode = RemoteAuthorityResolverErrorCode.Unknown, detail?: unknown) {\n\t\tsuper(message);\n\n\t\tthis._message = message;\n\t\tthis._code = code;\n\t\tthis._detail = detail;\n\n\t\tthis.isHandled = (code === RemoteAuthorityResolverErrorCode.NotAvailable) && detail === true;\n\n\t\t// workaround when extending builtin objects and when compiling to ES5, see:\n\t\t// https://github.com/microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n\t\tObject.setPrototypeOf(this, RemoteAuthorityResolverError.prototype);\n\t}\n}\n\nexport interface IRemoteAuthorityResolverService {\n\n\treadonly _serviceBrand: undefined;\n\n\treadonly onDidChangeConnectionData: Event<void>;\n\n\tresolveAuthority(authority: string): Promise<ResolverResult>;\n\tgetConnectionData(authority: string): IRemoteConnectionData | null;\n\t/**\n\t * Get the canonical URI for a `vscode-remote://` URI.\n\t *\n\t * **NOTE**: This can throw e.g. in cases where there is no resolver installed for the specific remote authority.\n\t *\n\t * @param uri The `vscode-remote://` URI\n\t */\n\tgetCanonicalURI(uri: URI): Promise<URI>;\n\n\t_clearResolvedAuthority(authority: string): void;\n\t_setResolvedAuthority(resolvedAuthority: ResolvedAuthority, resolvedOptions?: ResolvedOptions): void;\n\t_setResolvedAuthorityError(authority: string, err: any): void;\n\t_setAuthorityConnectionToken(authority: string, connectionToken: string): void;\n\t_setCanonicalURIProvider(provider: (uri: URI) => Promise<URI>): void;\n}\n\nexport function getRemoteAuthorityPrefix(remoteAuthority: string): string {\n\tconst plusIndex = remoteAuthority.indexOf('+');\n\tif (plusIndex === -1) {\n\t\treturn remoteAuthority;\n\t}\n\treturn remoteAuthority.substring(0, plusIndex);\n}\n"],"mappings":"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","ignoreList":[]}