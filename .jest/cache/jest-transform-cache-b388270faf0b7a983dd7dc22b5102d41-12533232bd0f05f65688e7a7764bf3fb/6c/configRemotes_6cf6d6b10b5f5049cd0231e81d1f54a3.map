{"version":3,"names":["cov_29g3pv46ol","actualCoverage","URI","SshProtocolMatcher","s","SshUrlMatcher","AuthorityMatcher","SecondLevelDomainMatcher","RemoteMatcher","AnyButDot","AllowedSecondLevelDomains","stripLowLevelDomains","domain","f","match","b","extractDomain","url","indexOf","uri","parse","authority","e","getDomainsOfRemotes","text","allowedDomains","domains","Set","exec","add","allowedDomainsSet","Array","from","map","key","has","replace","stripPort","normalizeRemote","host","path","stripEndingDotGit","endsWith","substr","length","extractRemote","getRemotes","remotes","remote","push"],"sources":["/home/user/Desktop/MintMind/src/vs/platform/extensionManagement/common/configRemotes.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../base/common/uri.js';\n\nconst SshProtocolMatcher = /^([^@:]+@)?([^:]+):/;\nconst SshUrlMatcher = /^([^@:]+@)?([^:]+):(.+)$/;\nconst AuthorityMatcher = /^([^@]+@)?([^:]+)(:\\d+)?$/;\nconst SecondLevelDomainMatcher = /([^@:.]+\\.[^@:.]+)(:\\d+)?$/;\nconst RemoteMatcher = /^\\s*url\\s*=\\s*(.+\\S)\\s*$/mg;\nconst AnyButDot = /[^.]/g;\n\nexport const AllowedSecondLevelDomains = [\n\t'github.com',\n\t'bitbucket.org',\n\t'visualstudio.com',\n\t'gitlab.com',\n\t'heroku.com',\n\t'azurewebsites.net',\n\t'ibm.com',\n\t'amazon.com',\n\t'amazonaws.com',\n\t'cloudapp.net',\n\t'rhcloud.com',\n\t'google.com',\n\t'azure.com'\n];\n\nfunction stripLowLevelDomains(domain: string): string | null {\n\tconst match = domain.match(SecondLevelDomainMatcher);\n\treturn match ? match[1] : null;\n}\n\nfunction extractDomain(url: string): string | null {\n\tif (url.indexOf('://') === -1) {\n\t\tconst match = url.match(SshProtocolMatcher);\n\t\tif (match) {\n\t\t\treturn stripLowLevelDomains(match[2]);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\ttry {\n\t\tconst uri = URI.parse(url);\n\t\tif (uri.authority) {\n\t\t\treturn stripLowLevelDomains(uri.authority);\n\t\t}\n\t} catch (e) {\n\t\t// ignore invalid URIs\n\t}\n\treturn null;\n}\n\nexport function getDomainsOfRemotes(text: string, allowedDomains: readonly string[]): string[] {\n\tconst domains = new Set<string>();\n\tlet match: RegExpExecArray | null;\n\twhile (match = RemoteMatcher.exec(text)) {\n\t\tconst domain = extractDomain(match[1]);\n\t\tif (domain) {\n\t\t\tdomains.add(domain);\n\t\t}\n\t}\n\n\tconst allowedDomainsSet = new Set(allowedDomains);\n\treturn Array.from(domains)\n\t\t.map(key => allowedDomainsSet.has(key) ? key : key.replace(AnyButDot, 'a'));\n}\n\nfunction stripPort(authority: string): string | null {\n\tconst match = authority.match(AuthorityMatcher);\n\treturn match ? match[2] : null;\n}\n\nfunction normalizeRemote(host: string | null, path: string, stripEndingDotGit: boolean): string | null {\n\tif (host && path) {\n\t\tif (stripEndingDotGit && path.endsWith('.git')) {\n\t\t\tpath = path.substr(0, path.length - 4);\n\t\t}\n\t\treturn (path.indexOf('/') === 0) ? `${host}${path}` : `${host}/${path}`;\n\t}\n\treturn null;\n}\n\nfunction extractRemote(url: string, stripEndingDotGit: boolean): string | null {\n\tif (url.indexOf('://') === -1) {\n\t\tconst match = url.match(SshUrlMatcher);\n\t\tif (match) {\n\t\t\treturn normalizeRemote(match[2], match[3], stripEndingDotGit);\n\t\t}\n\t}\n\ttry {\n\t\tconst uri = URI.parse(url);\n\t\tif (uri.authority) {\n\t\t\treturn normalizeRemote(stripPort(uri.authority), uri.path, stripEndingDotGit);\n\t\t}\n\t} catch (e) {\n\t\t// ignore invalid URIs\n\t}\n\treturn null;\n}\n\nexport function getRemotes(text: string, stripEndingDotGit: boolean = false): string[] {\n\tconst remotes: string[] = [];\n\tlet match: RegExpExecArray | null;\n\twhile (match = RemoteMatcher.exec(text)) {\n\t\tconst remote = extractRemote(match[1], stripEndingDotGit);\n\t\tif (remote) {\n\t\t\tremotes.push(remote);\n\t\t}\n\t}\n\treturn remotes;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}