{"version":3,"names":["cov_27y3c8v6mo","actualCoverage","mapValues","statePriority","s","isFailedState","f","b","isStateWithResult","stateNodes","priority","stateStr","state","Number","statusNode","cmpPriority","a","maxPriority","states","length","max","i","statesInOrder","Object","keys","map","sort","terminalStatePriorities","makeEmptyCounts","Uint32Array"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/testing/common/testingStates.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mapValues } from '../../../../base/common/objects.js';\nimport { TestResultState } from './testTypes.js';\n\nexport type TreeStateNode = { statusNode: true; state: TestResultState; priority: number };\n\n/**\n * List of display priorities for different run states. When tests update,\n * the highest-priority state from any of their children will be the state\n * reflected in the parent node.\n */\nexport const statePriority: { [K in TestResultState]: number } = {\n\t[TestResultState.Running]: 6,\n\t[TestResultState.Errored]: 5,\n\t[TestResultState.Failed]: 4,\n\t[TestResultState.Queued]: 3,\n\t[TestResultState.Passed]: 2,\n\t[TestResultState.Unset]: 0,\n\t[TestResultState.Skipped]: 1,\n};\n\nexport const isFailedState = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed;\nexport const isStateWithResult = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed || s === TestResultState.Passed;\n\nexport const stateNodes: { [K in TestResultState]: TreeStateNode } = mapValues(statePriority, (priority, stateStr): TreeStateNode => {\n\tconst state = Number(stateStr) as TestResultState;\n\treturn { statusNode: true, state, priority };\n});\n\nexport const cmpPriority = (a: TestResultState, b: TestResultState) => statePriority[b] - statePriority[a];\n\nexport const maxPriority = (...states: TestResultState[]) => {\n\tswitch (states.length) {\n\t\tcase 0:\n\t\t\treturn TestResultState.Unset;\n\t\tcase 1:\n\t\t\treturn states[0];\n\t\tcase 2:\n\t\t\treturn statePriority[states[0]] > statePriority[states[1]] ? states[0] : states[1];\n\t\tdefault: {\n\t\t\tlet max = states[0];\n\t\t\tfor (let i = 1; i < states.length; i++) {\n\t\t\t\tif (statePriority[max] < statePriority[states[i]]) {\n\t\t\t\t\tmax = states[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn max;\n\t\t}\n\t}\n};\n\nexport const statesInOrder = Object.keys(statePriority).map(s => Number(s) as TestResultState).sort(cmpPriority);\n\n/**\n * Some states are considered terminal; once these are set for a given test run, they\n * are not reset back to a non-terminal state, or to a terminal state with lower\n * priority.\n */\nexport const terminalStatePriorities: { [key in TestResultState]?: number } = {\n\t[TestResultState.Passed]: 0,\n\t[TestResultState.Skipped]: 1,\n\t[TestResultState.Failed]: 2,\n\t[TestResultState.Errored]: 3,\n};\n\n/**\n * Count of the number of tests in each run state.\n */\nexport type TestStateCount = { [K in TestResultState]: number };\n\nexport const makeEmptyCounts = (): TestStateCount => {\n\t// shh! don't tell anyone this is actually an array!\n\treturn new Uint32Array(statesInOrder.length) as unknown as TestStateCount;\n};\n"],"mappings":"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","ignoreList":[]}