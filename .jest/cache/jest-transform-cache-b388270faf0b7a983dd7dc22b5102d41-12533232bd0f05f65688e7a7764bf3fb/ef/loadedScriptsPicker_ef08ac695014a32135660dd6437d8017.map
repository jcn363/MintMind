{"version":3,"names":["cov_5t9cay4ey","actualCoverage","nls","matchesFuzzy","IQuickInputService","IDebugService","IEditorService","getIconClasses","IModelService","ILanguageService","DisposableStore","dirname","ILabelService","showLoadedScriptMenu","accessor","f","quickInputService","s","get","debugService","editorService","sessions","getModel","getSessions","modelService","languageService","labelService","localDisposableStore","quickPick","createQuickPick","useSeparators","add","matchOnLabel","matchOnDescription","matchOnDetail","sortByLabel","placeholder","localize","items","_getPicks","value","onDidChangeValue","onDidAccept","selectedItem","selectedItems","accept","hide","dispose","show","_getPicksFromSession","session","filter","push","type","label","name","sources","getLoadedSources","forEach","element","pick","_createPick","b","loadedScriptPicks","picks","Promise","all","map","row","elem","source","getUriBasenameLabel","uri","desc","getUriLabel","labelHighlights","descHighlights","description","undefined","highlights","iconClasses","available","openInEditor","startLineNumber","startColumn","endLineNumber","endColumn"],"sources":["/home/user/Desktop/MintMind/src/vs/workbench/contrib/debug/common/loadedScriptsPicker.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../../../nls.js';\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\nimport { Source } from './debugSource.js';\nimport { IQuickInputService, IQuickPickItem, IQuickPickSeparator } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IDebugService, IDebugSession } from './debug.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { getIconClasses } from '../../../../editor/common/services/getIconClasses.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\n\nimport { dirname } from '../../../../base/common/resources.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\n\nexport interface IPickerDebugItem extends IQuickPickItem {\n\taccept(): void;\n}\n\n/**\n * This function takes a regular quickpick and makes one for loaded scripts that has persistent headers\n * e.g. when some picks are filtered out, the ones that are visible still have its header.\n */\nexport async function showLoadedScriptMenu(accessor: ServicesAccessor) {\n\tconst quickInputService = accessor.get(IQuickInputService);\n\tconst debugService = accessor.get(IDebugService);\n\tconst editorService = accessor.get(IEditorService);\n\tconst sessions = debugService.getModel().getSessions(false);\n\tconst modelService = accessor.get(IModelService);\n\tconst languageService = accessor.get(ILanguageService);\n\tconst labelService = accessor.get(ILabelService);\n\n\tconst localDisposableStore = new DisposableStore();\n\tconst quickPick = quickInputService.createQuickPick<IPickerDebugItem>({ useSeparators: true });\n\tlocalDisposableStore.add(quickPick);\n\tquickPick.matchOnLabel = quickPick.matchOnDescription = quickPick.matchOnDetail = quickPick.sortByLabel = false;\n\tquickPick.placeholder = nls.localize('moveFocusedView.selectView', \"Search loaded scripts by name\");\n\tquickPick.items = await _getPicks(quickPick.value, sessions, editorService, modelService, languageService, labelService);\n\n\tlocalDisposableStore.add(quickPick.onDidChangeValue(async () => {\n\t\tquickPick.items = await _getPicks(quickPick.value, sessions, editorService, modelService, languageService, labelService);\n\t}));\n\tlocalDisposableStore.add(quickPick.onDidAccept(() => {\n\t\tconst selectedItem = quickPick.selectedItems[0];\n\t\tselectedItem.accept();\n\t\tquickPick.hide();\n\t\tlocalDisposableStore.dispose();\n\t}));\n\tquickPick.show();\n}\n\nasync function _getPicksFromSession(session: IDebugSession, filter: string, editorService: IEditorService, modelService: IModelService, languageService: ILanguageService, labelService: ILabelService): Promise<Array<IPickerDebugItem | IQuickPickSeparator>> {\n\tconst items: Array<IPickerDebugItem | IQuickPickSeparator> = [];\n\titems.push({ type: 'separator', label: session.name });\n\tconst sources = await session.getLoadedSources();\n\n\tsources.forEach((element: Source) => {\n\t\tconst pick = _createPick(element, filter, editorService, modelService, languageService, labelService);\n\t\tif (pick) {\n\t\t\titems.push(pick);\n\t\t}\n\n\t});\n\treturn items;\n}\nasync function _getPicks(filter: string, sessions: IDebugSession[], editorService: IEditorService, modelService: IModelService, languageService: ILanguageService, labelService: ILabelService): Promise<Array<IPickerDebugItem | IQuickPickSeparator>> {\n\tconst loadedScriptPicks: Array<IPickerDebugItem | IQuickPickSeparator> = [];\n\n\n\tconst picks = await Promise.all(\n\t\tsessions.map((session) => _getPicksFromSession(session, filter, editorService, modelService, languageService, labelService))\n\t);\n\n\tfor (const row of picks) {\n\t\tfor (const elem of row) {\n\t\t\tloadedScriptPicks.push(elem);\n\t\t}\n\t}\n\treturn loadedScriptPicks;\n}\n\nfunction _createPick(source: Source, filter: string, editorService: IEditorService, modelService: IModelService, languageService: ILanguageService, labelService: ILabelService): IPickerDebugItem | undefined {\n\n\tconst label = labelService.getUriBasenameLabel(source.uri);\n\tconst desc = labelService.getUriLabel(dirname(source.uri));\n\n\t// manually filter so that headers don't get filtered out\n\tconst labelHighlights = matchesFuzzy(filter, label, true);\n\tconst descHighlights = matchesFuzzy(filter, desc, true);\n\tif (labelHighlights || descHighlights) {\n\t\treturn {\n\t\t\tlabel,\n\t\t\tdescription: desc === '.' ? undefined : desc,\n\t\t\thighlights: { label: labelHighlights ?? undefined, description: descHighlights ?? undefined },\n\t\t\ticonClasses: getIconClasses(modelService, languageService, source.uri),\n\t\t\taccept: () => {\n\t\t\t\tif (source.available) {\n\t\t\t\t\tsource.openInEditor(editorService, { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 });\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\treturn undefined;\n}\n"],"mappings":"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","ignoreList":[]}